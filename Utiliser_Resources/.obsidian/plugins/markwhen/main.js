"use strict";var Xd=Object.defineProperty;var Id=(i,e,t)=>e in i?Xd(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var S=(i,e,t)=>(Id(i,typeof e!="symbol"?e+"":e,t),t),Rr=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)};var b=(i,e,t)=>(Rr(i,e,"read from private field"),t?t.call(i):e.get(i)),H=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},z=(i,e,t,n)=>(Rr(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t);var gs=(i,e,t,n)=>({set _(s){z(i,e,s,t)},get _(){return b(i,e,n)}}),V=(i,e,t)=>(Rr(i,e,"access private method"),t);const Xe=require("obsidian"),Eo=require("@codemirror/state"),Za=require("@codemirror/view"),Us="markwhen-icon",Rd="oneview";Xe.addIcon(Us,'<path fill="currentColor" d="M 87.175 87.175 H 52.8 C 49.0188 87.175 45.925 84.0813 45.925 80.3 S 49.0188 73.425 52.8 73.425 H 87.175 C 90.9563 73.425 94.05 76.5188 94.05 80.3 S 90.9563 87.175 87.175 87.175 Z M 80.3 59.675 H 32.175 C 28.3938 59.675 25.3 56.5813 25.3 52.8 S 28.3938 45.925 32.175 45.925 H 80.3 C 84.0813 45.925 87.175 49.0188 87.175 52.8 S 84.0813 59.675 80.3 59.675 Z M 18.425 32.175 H 18.425 C 14.6438 32.175 11.55 29.0813 11.55 25.3 S 14.6438 18.425 18.425 18.425 H 32.175 C 35.9563 18.425 39.05 21.5188 39.05 25.3 S 35.9563 32.175 32.175 32.175 Z"></path>');Xe.addIcon(Rd,'<g stroke-width="11" transform="matrix(1.1, 0, 0, 1.1, 0, -5)" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">    <path d="M 45.826 24.996 l 37.494 0"></path>    <path d="M 37.494 49.992 l 29.162 0 "></path>    <path d="M 41.66 74.988 l 33.328 0"></path>    <path d=" M 20.83 24.996 l 0 49.992"></path></g>');const Ci=["22, 163, 76","2, 132, 199","212, 50, 56","242, 202, 45","80, 73, 229","145, 57, 234","214, 45, 123","234, 88, 11","168, 162, 157","255, 255, 255","0, 0, 0"],Vd=["green","blue","red","yellow","indigo","purple","pink","orange","gray","white","black"];function Cd(i){i=i.replace("#","").replace(")","");const e=i.length===3,t=parseInt(e?i.slice(0,1).repeat(2):i.slice(0,2),16);if(isNaN(t))return;const n=parseInt(e?i.slice(1,2).repeat(2):i.slice(2,4),16);if(isNaN(n))return;const s=parseInt(e?i.slice(2,3).repeat(2):i.slice(4,6),16);if(!isNaN(s))return`${t}, ${n}, ${s}`}const Ld=(i,e)=>{const t={},n=i.ranges.flatMap(s=>{var a;if(s.type!=="tag")return[];if(t[s.content.tag])return s.content.color=t[s.content.tag],[s];const r=((a=s.content)==null?void 0:a.tag)&&i.header[")"+s.content.tag],o=!!r&&(typeof r=="string"&&r||typeof r=="object"&&r.color);if(o){const l=Vd.indexOf(o);if(l===-1){const c=Cd(o);c?s.content.color=c:s.content.color=Ci[e++%Ci.length]}else s.content.color=Ci[l]}else s.content.color=Ci[e++%Ci.length];return t[s.content.tag]=s.content.color,[s]});return[t,n,e]},Yd=i=>{let e=0;const t={};for(const[n,s]of[["default",i]]){const[r,,o]=Ld(s,e);t[n]=r,e=o}return t};function ic(i,e){return{rawText:e,parsed:i,transformed:i.events}}function sc(i){var t,n;return{isDark:((t=window.document.body.attributes.getNamedItem("class"))==null?void 0:t.value.contains("theme-dark"))&&!((n=window.document.body.attributes.getNamedItem("class"))!=null&&n.value.contains("theme-light")),hoveringPath:void 0,detailPath:void 0,colorMap:i?Yd(i)??{}:{}}}class zn extends Error{}class Ed extends zn{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Md extends zn{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class zd extends zn{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class An extends zn{}class rc extends zn{constructor(e){super(`Invalid unit ${e}`)}}class Ve extends zn{}class Pt extends zn{constructor(){super("Zone is an abstract class")}}const k="numeric",Wt="short",nt="long",Js={year:k,month:k,day:k},oc={year:k,month:Wt,day:k},Nd={year:k,month:Wt,day:k,weekday:Wt},ac={year:k,month:nt,day:k},lc={year:k,month:nt,day:k,weekday:nt},cc={hour:k,minute:k},uc={hour:k,minute:k,second:k},dc={hour:k,minute:k,second:k,timeZoneName:Wt},hc={hour:k,minute:k,second:k,timeZoneName:nt},mc={hour:k,minute:k,hourCycle:"h23"},pc={hour:k,minute:k,second:k,hourCycle:"h23"},fc={hour:k,minute:k,second:k,hourCycle:"h23",timeZoneName:Wt},bc={hour:k,minute:k,second:k,hourCycle:"h23",timeZoneName:nt},yc={year:k,month:k,day:k,hour:k,minute:k},gc={year:k,month:k,day:k,hour:k,minute:k,second:k},vc={year:k,month:Wt,day:k,hour:k,minute:k},Zc={year:k,month:Wt,day:k,hour:k,minute:k,second:k},Hd={year:k,month:Wt,day:k,weekday:Wt,hour:k,minute:k},Sc={year:k,month:nt,day:k,hour:k,minute:k,timeZoneName:Wt},wc={year:k,month:nt,day:k,hour:k,minute:k,second:k,timeZoneName:Wt},Gc={year:k,month:nt,day:k,weekday:nt,hour:k,minute:k,timeZoneName:nt},Tc={year:k,month:nt,day:k,weekday:nt,hour:k,minute:k,second:k,timeZoneName:nt};class as{get type(){throw new Pt}get name(){throw new Pt}get ianaName(){return this.name}get isUniversal(){throw new Pt}offsetName(e,t){throw new Pt}formatOffset(e,t){throw new Pt}offset(e){throw new Pt}equals(e){throw new Pt}get isValid(){throw new Pt}}let Vr=null;class ls extends as{static get instance(){return Vr===null&&(Vr=new ls),Vr}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Ec(e,t,n)}formatOffset(e,t){return Oi(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const Qr=new Map;function Dd(i){let e=Qr.get(i);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),Qr.set(i,e)),e}const Od={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Fd(i,e){const t=i.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,s,r,o,a,l,c,d]=n;return[o,s,r,a,l,c,d]}function Kd(i,e){const t=i.formatToParts(e),n=[];for(let s=0;s<t.length;s++){const{type:r,value:o}=t[s],a=Od[r];r==="era"?n[a]=o:D(a)||(n[a]=parseInt(o,10))}return n}const Cr=new Map;class Kt extends as{static create(e){let t=Cr.get(e);return t===void 0&&Cr.set(e,t=new Kt(e)),t}static resetCache(){Cr.clear(),Qr.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Kt.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Ec(e,t,n,this.name)}formatOffset(e,t){return Oi(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const n=Dd(this.name);let[s,r,o,a,l,c,d]=n.formatToParts?Kd(n,t):Fd(n,t);a==="BC"&&(s=-Math.abs(s)+1);const p=hr({year:s,month:r,day:o,hour:l===24?0:l,minute:c,second:d,millisecond:0});let m=+t;const y=m%1e3;return m-=y>=0?y:1e3+y,(p-m)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Sa={};function Pd(i,e={}){const t=JSON.stringify([i,e]);let n=Sa[t];return n||(n=new Intl.ListFormat(i,e),Sa[t]=n),n}const $r=new Map;function qr(i,e={}){const t=JSON.stringify([i,e]);let n=$r.get(t);return n===void 0&&(n=new Intl.DateTimeFormat(i,e),$r.set(t,n)),n}const eo=new Map;function Ud(i,e={}){const t=JSON.stringify([i,e]);let n=eo.get(t);return n===void 0&&(n=new Intl.NumberFormat(i,e),eo.set(t,n)),n}const to=new Map;function Jd(i,e={}){const{base:t,...n}=e,s=JSON.stringify([i,n]);let r=to.get(s);return r===void 0&&(r=new Intl.RelativeTimeFormat(i,e),to.set(s,r)),r}let Ei=null;function Bd(){return Ei||(Ei=new Intl.DateTimeFormat().resolvedOptions().locale,Ei)}const no=new Map;function kc(i){let e=no.get(i);return e===void 0&&(e=new Intl.DateTimeFormat(i).resolvedOptions(),no.set(i,e)),e}const io=new Map;function Ad(i){let e=io.get(i);if(!e){const t=new Intl.Locale(i);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,"minimalDays"in e||(e={...Wc,...e}),io.set(i,e)}return e}function jd(i){const e=i.indexOf("-x-");e!==-1&&(i=i.substring(0,e));const t=i.indexOf("-u-");if(t===-1)return[i];{let n,s;try{n=qr(i).resolvedOptions(),s=i}catch{const l=i.substring(0,t);n=qr(l).resolvedOptions(),s=l}const{numberingSystem:r,calendar:o}=n;return[s,r,o]}}function _d(i,e,t){return(t||e)&&(i.includes("-u-")||(i+="-u"),t&&(i+=`-ca-${t}`),e&&(i+=`-nu-${e}`)),i}function Qd(i){const e=[];for(let t=1;t<=12;t++){const n=X.utc(2009,t,1);e.push(i(n))}return e}function $d(i){const e=[];for(let t=1;t<=7;t++){const n=X.utc(2016,11,13+t);e.push(i(n))}return e}function vs(i,e,t,n){const s=i.listingMode();return s==="error"?null:s==="en"?t(e):n(e)}function qd(i){return i.numberingSystem&&i.numberingSystem!=="latn"?!1:i.numberingSystem==="latn"||!i.locale||i.locale.startsWith("en")||kc(i.locale).numberingSystem==="latn"}class eh{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:r,...o}=n;if(!t||Object.keys(o).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=Ud(e,a)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):Do(e,3);return ge(t,this.padTo)}}}class th{constructor(e,t,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Kt.create(a).valid?(s=a,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const r={...this.opts};r.timeZone=r.timeZone||s,this.dtf=qr(t,r)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:n}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class nh{constructor(e,t,n){this.opts={style:"long",...n},!t&&Lc()&&(this.rtf=Jd(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):Th(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const Wc={firstDay:1,minimalDays:4,weekend:[6,7]};class te{static fromOpts(e){return te.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,n,s,r=!1){const o=e||de.defaultLocale,a=o||(r?"en-US":Bd()),l=t||de.defaultNumberingSystem,c=n||de.defaultOutputCalendar,d=ro(s)||de.defaultWeekSettings;return new te(a,l,c,d,o)}static resetCache(){Ei=null,$r.clear(),eo.clear(),to.clear(),no.clear(),io.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:n,weekSettings:s}={}){return te.create(e,t,n,s)}constructor(e,t,n,s,r){const[o,a,l]=jd(e);this.locale=o,this.numberingSystem=t||a||null,this.outputCalendar=n||l||null,this.weekSettings=s,this.intl=_d(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=qd(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:te.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,ro(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return vs(this,e,Nc,()=>{const n=t?{month:e,day:"numeric"}:{month:e},s=t?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=Qd(r=>this.extract(r,n,"month"))),this.monthsCache[s][e]})}weekdays(e,t=!1){return vs(this,e,Oc,()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=t?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=$d(r=>this.extract(r,n,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return vs(this,void 0,()=>Fc,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[X.utc(2016,11,13,9),X.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return vs(this,e,Kc,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[X.utc(-40,1,1),X.utc(2017,1,1)].map(n=>this.extract(n,t,"era"))),this.eraCache[e]})}extract(e,t,n){const s=this.dtFormatter(e,t),r=s.formatToParts(),o=r.find(a=>a.type.toLowerCase()===n);return o?o.value:null}numberFormatter(e={}){return new eh(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new th(e,this.intl,t)}relFormatter(e={}){return new nh(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Pd(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||kc(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Yc()?Ad(this.locale):Wc}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Lr=null;class Fe extends as{static get utcInstance(){return Lr===null&&(Lr=new Fe(0)),Lr}static instance(e){return e===0?Fe.utcInstance:new Fe(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Fe(mr(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Oi(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Oi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Oi(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class ih extends as{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function sn(i,e){if(D(i)||i===null)return e;if(i instanceof as)return i;if(ch(i)){const t=i.toLowerCase();return t==="default"?e:t==="local"||t==="system"?ls.instance:t==="utc"||t==="gmt"?Fe.utcInstance:Fe.parseSpecifier(t)||Kt.create(i)}else return hn(i)?Fe.instance(i):typeof i=="object"&&"offset"in i&&typeof i.offset=="function"?i:new ih(i)}const Mo={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},wa={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},sh=Mo.hanidec.replace(/[\[|\]]/g,"").split("");function rh(i){let e=parseInt(i,10);if(isNaN(e)){e="";for(let t=0;t<i.length;t++){const n=i.charCodeAt(t);if(i[t].search(Mo.hanidec)!==-1)e+=sh.indexOf(i[t]);else for(const s in wa){const[r,o]=wa[s];n>=r&&n<=o&&(e+=n-r)}}return parseInt(e,10)}else return e}const so=new Map;function oh(){so.clear()}function mt({numberingSystem:i},e=""){const t=i||"latn";let n=so.get(t);n===void 0&&(n=new Map,so.set(t,n));let s=n.get(e);return s===void 0&&(s=new RegExp(`${Mo[t]}${e}`),n.set(e,s)),s}let Ga=()=>Date.now(),Ta="system",ka=null,Wa=null,xa=null,Xa=60,Ia,Ra=null;class de{static get now(){return Ga}static set now(e){Ga=e}static set defaultZone(e){Ta=e}static get defaultZone(){return sn(Ta,ls.instance)}static get defaultLocale(){return ka}static set defaultLocale(e){ka=e}static get defaultNumberingSystem(){return Wa}static set defaultNumberingSystem(e){Wa=e}static get defaultOutputCalendar(){return xa}static set defaultOutputCalendar(e){xa=e}static get defaultWeekSettings(){return Ra}static set defaultWeekSettings(e){Ra=ro(e)}static get twoDigitCutoffYear(){return Xa}static set twoDigitCutoffYear(e){Xa=e%100}static get throwOnInvalid(){return Ia}static set throwOnInvalid(e){Ia=e}static resetCaches(){te.resetCache(),Kt.resetCache(),X.resetCache(),oh()}}class Tt{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const xc=[0,31,59,90,120,151,181,212,243,273,304,334],Xc=[0,31,60,91,121,152,182,213,244,274,305,335];function at(i,e){return new Tt("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${i}, which is invalid`)}function zo(i,e,t){const n=new Date(Date.UTC(i,e-1,t));i<100&&i>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const s=n.getUTCDay();return s===0?7:s}function Ic(i,e,t){return t+(cs(i)?Xc:xc)[e-1]}function Rc(i,e){const t=cs(i)?Xc:xc,n=t.findIndex(r=>r<e),s=e-t[n];return{month:n+1,day:s}}function No(i,e){return(i-e+7)%7+1}function Bs(i,e=4,t=1){const{year:n,month:s,day:r}=i,o=Ic(n,s,r),a=No(zo(n,s,r),t);let l=Math.floor((o-a+14-e)/7),c;return l<1?(c=n-1,l=Ai(c,e,t)):l>Ai(n,e,t)?(c=n+1,l=1):c=n,{weekYear:c,weekNumber:l,weekday:a,...pr(i)}}function Va(i,e=4,t=1){const{weekYear:n,weekNumber:s,weekday:r}=i,o=No(zo(n,1,e),t),a=qn(n);let l=s*7+r-o-7+e,c;l<1?(c=n-1,l+=qn(c)):l>a?(c=n+1,l-=qn(n)):c=n;const{month:d,day:u}=Rc(c,l);return{year:c,month:d,day:u,...pr(i)}}function Yr(i){const{year:e,month:t,day:n}=i,s=Ic(e,t,n);return{year:e,ordinal:s,...pr(i)}}function Ca(i){const{year:e,ordinal:t}=i,{month:n,day:s}=Rc(e,t);return{year:e,month:n,day:s,...pr(i)}}function La(i,e){if(!D(i.localWeekday)||!D(i.localWeekNumber)||!D(i.localWeekYear)){if(!D(i.weekday)||!D(i.weekNumber)||!D(i.weekYear))throw new An("Cannot mix locale-based week fields with ISO-based week fields");return D(i.localWeekday)||(i.weekday=i.localWeekday),D(i.localWeekNumber)||(i.weekNumber=i.localWeekNumber),D(i.localWeekYear)||(i.weekYear=i.localWeekYear),delete i.localWeekday,delete i.localWeekNumber,delete i.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function ah(i,e=4,t=1){const n=dr(i.weekYear),s=lt(i.weekNumber,1,Ai(i.weekYear,e,t)),r=lt(i.weekday,1,7);return n?s?r?!1:at("weekday",i.weekday):at("week",i.weekNumber):at("weekYear",i.weekYear)}function lh(i){const e=dr(i.year),t=lt(i.ordinal,1,qn(i.year));return e?t?!1:at("ordinal",i.ordinal):at("year",i.year)}function Vc(i){const e=dr(i.year),t=lt(i.month,1,12),n=lt(i.day,1,As(i.year,i.month));return e?t?n?!1:at("day",i.day):at("month",i.month):at("year",i.year)}function Cc(i){const{hour:e,minute:t,second:n,millisecond:s}=i,r=lt(e,0,23)||e===24&&t===0&&n===0&&s===0,o=lt(t,0,59),a=lt(n,0,59),l=lt(s,0,999);return r?o?a?l?!1:at("millisecond",s):at("second",n):at("minute",t):at("hour",e)}function D(i){return typeof i>"u"}function hn(i){return typeof i=="number"}function dr(i){return typeof i=="number"&&i%1===0}function ch(i){return typeof i=="string"}function uh(i){return Object.prototype.toString.call(i)==="[object Date]"}function Lc(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Yc(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function dh(i){return Array.isArray(i)?i:[i]}function Ya(i,e,t){if(i.length!==0)return i.reduce((n,s)=>{const r=[e(s),s];return n&&t(n[0],r[0])===n[0]?n:r},null)[1]}function hh(i,e){return e.reduce((t,n)=>(t[n]=i[n],t),{})}function pi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function ro(i){if(i==null)return null;if(typeof i!="object")throw new Ve("Week settings must be an object");if(!lt(i.firstDay,1,7)||!lt(i.minimalDays,1,7)||!Array.isArray(i.weekend)||i.weekend.some(e=>!lt(e,1,7)))throw new Ve("Invalid week settings");return{firstDay:i.firstDay,minimalDays:i.minimalDays,weekend:Array.from(i.weekend)}}function lt(i,e,t){return dr(i)&&i>=e&&i<=t}function mh(i,e){return i-e*Math.floor(i/e)}function ge(i,e=2){const t=i<0;let n;return t?n="-"+(""+-i).padStart(e,"0"):n=(""+i).padStart(e,"0"),n}function en(i){if(!(D(i)||i===null||i===""))return parseInt(i,10)}function gn(i){if(!(D(i)||i===null||i===""))return parseFloat(i)}function Ho(i){if(!(D(i)||i===null||i==="")){const e=parseFloat("0."+i)*1e3;return Math.floor(e)}}function Do(i,e,t=!1){const n=10**e;return(t?Math.trunc:Math.round)(i*n)/n}function cs(i){return i%4===0&&(i%100!==0||i%400===0)}function qn(i){return cs(i)?366:365}function As(i,e){const t=mh(e-1,12)+1,n=i+(e-t)/12;return t===2?cs(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function hr(i){let e=Date.UTC(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond);return i.year<100&&i.year>=0&&(e=new Date(e),e.setUTCFullYear(i.year,i.month-1,i.day)),+e}function Ea(i,e,t){return-No(zo(i,1,e),t)+e-1}function Ai(i,e=4,t=1){const n=Ea(i,e,t),s=Ea(i+1,e,t);return(qn(i)-n+s)/7}function oo(i){return i>99?i:i>de.twoDigitCutoffYear?1900+i:2e3+i}function Ec(i,e,t,n=null){const s=new Date(i),r={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(r.timeZone=n);const o={timeZoneName:e,...r},a=new Intl.DateTimeFormat(t,o).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function mr(i,e){let t=parseInt(i,10);Number.isNaN(t)&&(t=0);const n=parseInt(e,10)||0,s=t<0||Object.is(t,-0)?-n:n;return t*60+s}function Mc(i){const e=Number(i);if(typeof i=="boolean"||i===""||Number.isNaN(e))throw new Ve(`Invalid unit value ${i}`);return e}function js(i,e){const t={};for(const n in i)if(pi(i,n)){const s=i[n];if(s==null)continue;t[e(n)]=Mc(s)}return t}function Oi(i,e){const t=Math.trunc(Math.abs(i/60)),n=Math.trunc(Math.abs(i%60)),s=i>=0?"+":"-";switch(e){case"short":return`${s}${ge(t,2)}:${ge(n,2)}`;case"narrow":return`${s}${t}${n>0?`:${n}`:""}`;case"techie":return`${s}${ge(t,2)}${ge(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function pr(i){return hh(i,["hour","minute","second","millisecond"])}const ph=["January","February","March","April","May","June","July","August","September","October","November","December"],zc=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fh=["J","F","M","A","M","J","J","A","S","O","N","D"];function Nc(i){switch(i){case"narrow":return[...fh];case"short":return[...zc];case"long":return[...ph];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Hc=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Dc=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],bh=["M","T","W","T","F","S","S"];function Oc(i){switch(i){case"narrow":return[...bh];case"short":return[...Dc];case"long":return[...Hc];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Fc=["AM","PM"],yh=["Before Christ","Anno Domini"],gh=["BC","AD"],vh=["B","A"];function Kc(i){switch(i){case"narrow":return[...vh];case"short":return[...gh];case"long":return[...yh];default:return null}}function Zh(i){return Fc[i.hour<12?0:1]}function Sh(i,e){return Oc(e)[i.weekday-1]}function wh(i,e){return Nc(e)[i.month-1]}function Gh(i,e){return Kc(e)[i.year<0?0:1]}function Th(i,e,t="always",n=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},r=["hours","minutes","seconds"].indexOf(i)===-1;if(t==="auto"&&r){const u=i==="days";switch(e){case 1:return u?"tomorrow":`next ${s[i][0]}`;case-1:return u?"yesterday":`last ${s[i][0]}`;case 0:return u?"today":`this ${s[i][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=s[i],d=n?l?c[1]:c[2]||c[1]:l?s[i][0]:i;return o?`${a} ${d} ago`:`in ${a} ${d}`}function Ma(i,e){let t="";for(const n of i)n.literal?t+=n.val:t+=e(n.val);return t}const kh={D:Js,DD:oc,DDD:ac,DDDD:lc,t:cc,tt:uc,ttt:dc,tttt:hc,T:mc,TT:pc,TTT:fc,TTTT:bc,f:yc,ff:vc,fff:Sc,ffff:Gc,F:gc,FF:Zc,FFF:wc,FFFF:Tc};class Me{static create(e,t={}){return new Me(e,t)}static parseFormat(e){let t=null,n="",s=!1;const r=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(n.length>0&&r.push({literal:s||/^\s+$/.test(n),val:n}),t=null,n="",s=!s):s||a===t?n+=a:(n.length>0&&r.push({literal:/^\s+$/.test(n),val:n}),n=a,t=a)}return n.length>0&&r.push({literal:s||/^\s+$/.test(n),val:n}),r}static macroTokenToFormatOpts(e){return kh[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return ge(e,t);const n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",r=(m,y)=>this.loc.extract(e,m,y),o=m=>e.isOffsetFixed&&e.offset===0&&m.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,m.format):"",a=()=>n?Zh(e):r({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(m,y)=>n?wh(e,m):r(y?{month:m}:{month:m,day:"numeric"},"month"),c=(m,y)=>n?Sh(e,m):r(y?{weekday:m}:{weekday:m,month:"long",day:"numeric"},"weekday"),d=m=>{const y=Me.macroTokenToFormatOpts(m);return y?this.formatWithSystemDefault(e,y):m},u=m=>n?Gh(e,m):r({era:m},"era"),p=m=>{switch(m){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return s?r({day:"numeric"},"day"):this.num(e.day);case"dd":return s?r({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?r({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?r({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?r({month:"numeric"},"month"):this.num(e.month);case"MM":return s?r({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?r({year:"numeric"},"year"):this.num(e.year);case"yy":return s?r({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?r({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?r({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return d(m)}};return Ma(Me.parseFormat(t),p)}formatDurationFromString(e,t){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=l=>c=>{const d=n(c);return d?this.num(l.get(d),c.length):c},r=Me.parseFormat(t),o=r.reduce((l,{literal:c,val:d})=>c?l:l.concat(d),[]),a=e.shiftTo(...o.map(n).filter(l=>l));return Ma(r,s(a))}}const Pc=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Zi(...i){const e=i.reduce((t,n)=>t+n.source,"");return RegExp(`^${e}$`)}function Si(...i){return e=>i.reduce(([t,n,s],r)=>{const[o,a,l]=r(e,s);return[{...t,...o},a||n,l]},[{},null,1]).slice(0,2)}function wi(i,...e){if(i==null)return[null,null];for(const[t,n]of e){const s=t.exec(i);if(s)return n(s)}return[null,null]}function Uc(...i){return(e,t)=>{const n={};let s;for(s=0;s<i.length;s++)n[i[s]]=en(e[t+s]);return[n,null,t+s]}}const Jc=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Wh=`(?:${Jc.source}?(?:\\[(${Pc.source})\\])?)?`,Oo=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Bc=RegExp(`${Oo.source}${Wh}`),Fo=RegExp(`(?:T${Bc.source})?`),xh=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Xh=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ih=/(\d{4})-?(\d{3})/,Rh=Uc("weekYear","weekNumber","weekDay"),Vh=Uc("year","ordinal"),Ch=/(\d{4})-(\d\d)-(\d\d)/,Ac=RegExp(`${Oo.source} ?(?:${Jc.source}|(${Pc.source}))?`),Lh=RegExp(`(?: ${Ac.source})?`);function ei(i,e,t){const n=i[e];return D(n)?t:en(n)}function Yh(i,e){return[{year:ei(i,e),month:ei(i,e+1,1),day:ei(i,e+2,1)},null,e+3]}function Gi(i,e){return[{hours:ei(i,e,0),minutes:ei(i,e+1,0),seconds:ei(i,e+2,0),milliseconds:Ho(i[e+3])},null,e+4]}function us(i,e){const t=!i[e]&&!i[e+1],n=mr(i[e+1],i[e+2]),s=t?null:Fe.instance(n);return[{},s,e+3]}function ds(i,e){const t=i[e]?Kt.create(i[e]):null;return[{},t,e+1]}const Eh=RegExp(`^T?${Oo.source}$`),Mh=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function zh(i){const[e,t,n,s,r,o,a,l,c]=i,d=e[0]==="-",u=l&&l[0]==="-",p=(m,y=!1)=>m!==void 0&&(y||m&&d)?-m:m;return[{years:p(gn(t)),months:p(gn(n)),weeks:p(gn(s)),days:p(gn(r)),hours:p(gn(o)),minutes:p(gn(a)),seconds:p(gn(l),l==="-0"),milliseconds:p(Ho(c),u)}]}const Nh={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ko(i,e,t,n,s,r,o){const a={year:e.length===2?oo(en(e)):en(e),month:zc.indexOf(t)+1,day:en(n),hour:en(s),minute:en(r)};return o&&(a.second=en(o)),i&&(a.weekday=i.length>3?Hc.indexOf(i)+1:Dc.indexOf(i)+1),a}const Hh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Dh(i){const[,e,t,n,s,r,o,a,l,c,d,u]=i,p=Ko(e,s,n,t,r,o,a);let m;return l?m=Nh[l]:c?m=0:m=mr(d,u),[p,new Fe(m)]}function Oh(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Fh=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Kh=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ph=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function za(i){const[,e,t,n,s,r,o,a]=i;return[Ko(e,s,n,t,r,o,a),Fe.utcInstance]}function Uh(i){const[,e,t,n,s,r,o,a]=i;return[Ko(e,a,t,n,s,r,o),Fe.utcInstance]}const Jh=Zi(xh,Fo),Bh=Zi(Xh,Fo),Ah=Zi(Ih,Fo),jh=Zi(Bc),jc=Si(Yh,Gi,us,ds),_h=Si(Rh,Gi,us,ds),Qh=Si(Vh,Gi,us,ds),$h=Si(Gi,us,ds);function qh(i){return wi(i,[Jh,jc],[Bh,_h],[Ah,Qh],[jh,$h])}function em(i){return wi(Oh(i),[Hh,Dh])}function tm(i){return wi(i,[Fh,za],[Kh,za],[Ph,Uh])}function nm(i){return wi(i,[Mh,zh])}const im=Si(Gi);function sm(i){return wi(i,[Eh,im])}const rm=Zi(Ch,Lh),om=Zi(Ac),am=Si(Gi,us,ds);function lm(i){return wi(i,[rm,jc],[om,am])}const Na="Invalid Duration",_c={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},cm={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},..._c},it=146097/400,On=146097/4800,um={years:{quarters:4,months:12,weeks:it/7,days:it,hours:it*24,minutes:it*24*60,seconds:it*24*60*60,milliseconds:it*24*60*60*1e3},quarters:{months:3,weeks:it/28,days:it/4,hours:it*24/4,minutes:it*24*60/4,seconds:it*24*60*60/4,milliseconds:it*24*60*60*1e3/4},months:{weeks:On/7,days:On,hours:On*24,minutes:On*24*60,seconds:On*24*60*60,milliseconds:On*24*60*60*1e3},..._c},Gn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],dm=Gn.slice(0).reverse();function Ut(i,e,t=!1){const n={values:t?e.values:{...i.values,...e.values||{}},loc:i.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||i.conversionAccuracy,matrix:e.matrix||i.matrix};return new Ye(n)}function Qc(i,e){let t=e.milliseconds??0;for(const n of dm.slice(1))e[n]&&(t+=e[n]*i[n].milliseconds);return t}function Ha(i,e){const t=Qc(i,e)<0?-1:1;Gn.reduceRight((n,s)=>{if(D(e[s]))return n;if(n){const r=e[n]*t,o=i[s][n],a=Math.floor(r/o);e[s]+=a*t,e[n]-=a*o*t}return s},null),Gn.reduce((n,s)=>{if(D(e[s]))return n;if(n){const r=e[n]%1;e[n]-=r,e[s]+=r*i[n][s]}return s},null)}function hm(i){const e={};for(const[t,n]of Object.entries(i))n!==0&&(e[t]=n);return e}let Ye=class We{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let n=t?um:cm;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||te.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return We.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Ve(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new We({values:js(e,We.normalizeUnit),loc:te.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(hn(e))return We.fromMillis(e);if(We.isDuration(e))return e;if(typeof e=="object")return We.fromObject(e);throw new Ve(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=nm(e);return n?We.fromObject(n,t):We.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=sm(e);return n?We.fromObject(n,t):We.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Ve("need to specify a reason the Duration is invalid");const n=e instanceof Tt?e:new Tt(e,t);if(de.throwOnInvalid)throw new zd(n);return new We({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new rc(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?Me.create(this.loc,n).formatDurationFromString(this,e):Na}toHuman(e={}){if(!this.isValid)return Na;const t=Gn.map(n=>{const s=this.values[n];return D(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Do(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},X.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Qc(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=We.fromDurationLike(e),n={};for(const s of Gn)(pi(t.values,s)||pi(this.values,s))&&(n[s]=t.get(s)+this.get(s));return Ut(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=We.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=Mc(e(this.values[n],n));return Ut(this,{values:t},!0)}get(e){return this[We.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...js(e,We.normalizeUnit)};return Ut(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:s}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:s,conversionAccuracy:n};return Ut(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Ha(this.matrix,e),Ut(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=hm(this.normalize().shiftToAll().toObject());return Ut(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>We.normalizeUnit(o));const t={},n={},s=this.toObject();let r;for(const o of Gn)if(e.indexOf(o)>=0){r=o;let a=0;for(const c in n)a+=this.matrix[c][o]*n[c],n[c]=0;hn(s[o])&&(a+=s[o]);const l=Math.trunc(a);t[o]=l,n[o]=(a*1e3-l*1e3)/1e3}else hn(s[o])&&(n[o]=s[o]);for(const o in n)n[o]!==0&&(t[r]+=o===r?n[o]:n[o]/this.matrix[r][o]);return Ha(this.matrix,t),Ut(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return Ut(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(const n of Gn)if(!t(this.values[n],e.values[n]))return!1;return!0}};const Fn="Invalid Interval";function mm(i,e){return!i||!i.isValid?ce.invalid("missing or invalid start"):!e||!e.isValid?ce.invalid("missing or invalid end"):e<i?ce.invalid("end before start",`The end of an interval must be after its start, but you had start=${i.toISO()} and end=${e.toISO()}`):null}class ce{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Ve("need to specify a reason the Interval is invalid");const n=e instanceof Tt?e:new Tt(e,t);if(de.throwOnInvalid)throw new Md(n);return new ce({invalid:n})}static fromDateTimes(e,t){const n=Li(e),s=Li(t),r=mm(n,s);return r??new ce({start:n,end:s})}static after(e,t){const n=Ye.fromDurationLike(t),s=Li(e);return ce.fromDateTimes(s,s.plus(n))}static before(e,t){const n=Ye.fromDurationLike(t),s=Li(e);return ce.fromDateTimes(s.minus(n),s)}static fromISO(e,t){const[n,s]=(e||"").split("/",2);if(n&&s){let r,o;try{r=X.fromISO(n,t),o=r.isValid}catch{o=!1}let a,l;try{a=X.fromISO(s,t),l=a.isValid}catch{l=!1}if(o&&l)return ce.fromDateTimes(r,a);if(o){const c=Ye.fromISO(s,t);if(c.isValid)return ce.after(r,c)}else if(l){const c=Ye.fromISO(n,t);if(c.isValid)return ce.before(a,c)}}return ce.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const n=this.start.startOf(e,t);let s;return t!=null&&t.useLocaleWeeks?s=this.end.reconfigure({locale:n.locale}):s=this.end,s=s.startOf(e,t),Math.floor(s.diff(n,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?ce.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Li).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),n=[];let{s}=this,r=0;for(;s<this.e;){const o=t[r]||this.e,a=+o>+this.e?this.e:o;n.push(ce.fromDateTimes(s,a)),s=a,r+=1}return n}splitBy(e){const t=Ye.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:n}=this,s=1,r;const o=[];for(;n<this.e;){const a=this.start.plus(t.mapUnits(l=>l*s));r=+a>+this.e?this.e:a,o.push(ce.fromDateTimes(n,r)),n=r,s+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:ce.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return ce.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort((s,r)=>s.s-r.s).reduce(([s,r],o)=>r?r.overlaps(o)||r.abutsStart(o)?[s,r.union(o)]:[s.concat([r]),o]:[s,o],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const s=[],r=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...r),a=o.sort((l,c)=>l.time-c.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?t=l.time:(t&&+t!=+l.time&&s.push(ce.fromDateTimes(t,l.time)),t=null);return ce.merge(s)}difference(...e){return ce.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Fn}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Js,t={}){return this.isValid?Me.create(this.s.loc.clone(t),e).formatInterval(this):Fn}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Fn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Fn}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Fn}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Fn}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Ye.invalid(this.invalidReason)}mapEndpoints(e){return ce.fromDateTimes(e(this.s),e(this.e))}}class Zs{static hasDST(e=de.defaultZone){const t=X.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Kt.isValidZone(e)}static normalizeZone(e){return sn(e,de.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null,outputCalendar:r="gregory"}={}){return(s||te.create(t,n,r)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null,outputCalendar:r="gregory"}={}){return(s||te.create(t,n,r)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null}={}){return(s||te.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null}={}){return(s||te.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return te.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return te.create(t,null,"gregory").eras(e)}static features(){return{relative:Lc(),localeWeek:Yc()}}}function Da(i,e){const t=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=t(e)-t(i);return Math.floor(Ye.fromMillis(n).as("days"))}function pm(i,e,t){const n=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const d=Da(l,c);return(d-d%7)/7}],["days",Da]],s={},r=i;let o,a;for(const[l,c]of n)t.indexOf(l)>=0&&(o=l,s[l]=c(i,e),a=r.plus(s),a>e?(s[l]--,i=r.plus(s),i>e&&(a=i,s[l]--,i=r.plus(s))):i=a);return[i,s,a,o]}function fm(i,e,t,n){let[s,r,o,a]=pm(i,e,t);const l=e-s,c=t.filter(u=>["hours","minutes","seconds","milliseconds"].indexOf(u)>=0);c.length===0&&(o<e&&(o=s.plus({[a]:1})),o!==s&&(r[a]=(r[a]||0)+l/(o-s)));const d=Ye.fromObject(r,n);return c.length>0?Ye.fromMillis(l,n).shiftTo(...c).plus(d):d}const bm="missing Intl.DateTimeFormat.formatToParts support";function $(i,e=t=>t){return{regex:i,deser:([t])=>e(rh(t))}}const ym=" ",$c=`[ ${ym}]`,qc=new RegExp($c,"g");function gm(i){return i.replace(/\./g,"\\.?").replace(qc,$c)}function Oa(i){return i.replace(/\./g,"").replace(qc," ").toLowerCase()}function pt(i,e){return i===null?null:{regex:RegExp(i.map(gm).join("|")),deser:([t])=>i.findIndex(n=>Oa(t)===Oa(n))+e}}function Fa(i,e){return{regex:i,deser:([,t,n])=>mr(t,n),groups:e}}function Ss(i){return{regex:i,deser:([e])=>e}}function vm(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Zm(i,e){const t=mt(e),n=mt(e,"{2}"),s=mt(e,"{3}"),r=mt(e,"{4}"),o=mt(e,"{6}"),a=mt(e,"{1,2}"),l=mt(e,"{1,3}"),c=mt(e,"{1,6}"),d=mt(e,"{1,9}"),u=mt(e,"{2,4}"),p=mt(e,"{4,6}"),m=f=>({regex:RegExp(vm(f.val)),deser:([g])=>g,literal:!0}),h=(f=>{if(i.literal)return m(f);switch(f.val){case"G":return pt(e.eras("short"),0);case"GG":return pt(e.eras("long"),0);case"y":return $(c);case"yy":return $(u,oo);case"yyyy":return $(r);case"yyyyy":return $(p);case"yyyyyy":return $(o);case"M":return $(a);case"MM":return $(n);case"MMM":return pt(e.months("short",!0),1);case"MMMM":return pt(e.months("long",!0),1);case"L":return $(a);case"LL":return $(n);case"LLL":return pt(e.months("short",!1),1);case"LLLL":return pt(e.months("long",!1),1);case"d":return $(a);case"dd":return $(n);case"o":return $(l);case"ooo":return $(s);case"HH":return $(n);case"H":return $(a);case"hh":return $(n);case"h":return $(a);case"mm":return $(n);case"m":return $(a);case"q":return $(a);case"qq":return $(n);case"s":return $(a);case"ss":return $(n);case"S":return $(l);case"SSS":return $(s);case"u":return Ss(d);case"uu":return Ss(a);case"uuu":return $(t);case"a":return pt(e.meridiems(),0);case"kkkk":return $(r);case"kk":return $(u,oo);case"W":return $(a);case"WW":return $(n);case"E":case"c":return $(t);case"EEE":return pt(e.weekdays("short",!1),1);case"EEEE":return pt(e.weekdays("long",!1),1);case"ccc":return pt(e.weekdays("short",!0),1);case"cccc":return pt(e.weekdays("long",!0),1);case"Z":case"ZZ":return Fa(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return Fa(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return Ss(/[a-z_+-/]{1,256}?/i);case" ":return Ss(/[^\S\n\r]/);default:return m(f)}})(i)||{invalidReason:bm};return h.token=i,h}const Sm={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function wm(i,e,t){const{type:n,value:s}=i;if(n==="literal"){const l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}const r=e[n];let o=n;n==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=t.hour12?"hour12":"hour24");let a=Sm[o];if(typeof a=="object"&&(a=a[r]),a)return{literal:!1,val:a}}function Gm(i){return[`^${i.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,i]}function Tm(i,e,t){const n=i.match(e);if(n){const s={};let r=1;for(const o in t)if(pi(t,o)){const a=t[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(s[a.token.val[0]]=a.deser(n.slice(r,r+l))),r+=l}return[n,s]}else return[n,{}]}function km(i){const e=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,n;return D(i.z)||(t=Kt.create(i.z)),D(i.Z)||(t||(t=new Fe(i.Z)),n=i.Z),D(i.q)||(i.M=(i.q-1)*3+1),D(i.h)||(i.h<12&&i.a===1?i.h+=12:i.h===12&&i.a===0&&(i.h=0)),i.G===0&&i.y&&(i.y=-i.y),D(i.u)||(i.S=Ho(i.u)),[Object.keys(i).reduce((r,o)=>{const a=e(o);return a&&(r[a]=i[o]),r},{}),t,n]}let Er=null;function Wm(){return Er||(Er=X.fromMillis(1555555555555)),Er}function xm(i,e){if(i.literal)return i;const t=Me.macroTokenToFormatOpts(i.val),n=iu(t,e);return n==null||n.includes(void 0)?i:n}function eu(i,e){return Array.prototype.concat(...i.map(t=>xm(t,e)))}class tu{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=eu(Me.parseFormat(t),e),this.units=this.tokens.map(n=>Zm(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,s]=Gm(this.units);this.regex=RegExp(n,"i"),this.handlers=s}}explainFromTokens(e){if(this.isValid){const[t,n]=Tm(e,this.regex,this.handlers),[s,r,o]=n?km(n):[null,null,void 0];if(pi(n,"a")&&pi(n,"H"))throw new An("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:n,result:s,zone:r,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function nu(i,e,t){return new tu(i,t).explainFromTokens(e)}function Xm(i,e,t){const{result:n,zone:s,specificOffset:r,invalidReason:o}=nu(i,e,t);return[n,s,r,o]}function iu(i,e){if(!i)return null;const n=Me.create(e,i).dtFormatter(Wm()),s=n.formatToParts(),r=n.resolvedOptions();return s.map(o=>wm(o,i,r))}const Mr="Invalid DateTime",Ka=864e13;function Mi(i){return new Tt("unsupported zone",`the zone "${i.name}" is not supported`)}function zr(i){return i.weekData===null&&(i.weekData=Bs(i.c)),i.weekData}function Nr(i){return i.localWeekData===null&&(i.localWeekData=Bs(i.c,i.loc.getMinDaysInFirstWeek(),i.loc.getStartOfWeek())),i.localWeekData}function vn(i,e){const t={ts:i.ts,zone:i.zone,c:i.c,o:i.o,loc:i.loc,invalid:i.invalid};return new X({...t,...e,old:t})}function su(i,e,t){let n=i-e*60*1e3;const s=t.offset(n);if(e===s)return[n,e];n-=(s-e)*60*1e3;const r=t.offset(n);return s===r?[n,s]:[i-Math.min(s,r)*60*1e3,Math.max(s,r)]}function ws(i,e){i+=e*60*1e3;const t=new Date(i);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Es(i,e,t){return su(hr(i),e,t)}function Pa(i,e){const t=i.o,n=i.c.year+Math.trunc(e.years),s=i.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,r={...i.c,year:n,month:s,day:Math.min(i.c.day,As(n,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=Ye.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=hr(r);let[l,c]=su(a,t,i.zone);return o!==0&&(l+=o,c=i.zone.offset(l)),{ts:l,o:c}}function Kn(i,e,t,n,s,r){const{setZone:o,zone:a}=t;if(i&&Object.keys(i).length!==0||e){const l=e||a,c=X.fromObject(i,{...t,zone:l,specificOffset:r});return o?c:c.setZone(a)}else return X.invalid(new Tt("unparsable",`the input "${s}" can't be parsed as ${n}`))}function Gs(i,e,t=!0){return i.isValid?Me.create(te.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(i,e):null}function Hr(i,e){const t=i.c.year>9999||i.c.year<0;let n="";return t&&i.c.year>=0&&(n+="+"),n+=ge(i.c.year,t?6:4),e?(n+="-",n+=ge(i.c.month),n+="-",n+=ge(i.c.day)):(n+=ge(i.c.month),n+=ge(i.c.day)),n}function Ua(i,e,t,n,s,r){let o=ge(i.c.hour);return e?(o+=":",o+=ge(i.c.minute),(i.c.millisecond!==0||i.c.second!==0||!t)&&(o+=":")):o+=ge(i.c.minute),(i.c.millisecond!==0||i.c.second!==0||!t)&&(o+=ge(i.c.second),(i.c.millisecond!==0||!n)&&(o+=".",o+=ge(i.c.millisecond,3))),s&&(i.isOffsetFixed&&i.offset===0&&!r?o+="Z":i.o<0?(o+="-",o+=ge(Math.trunc(-i.o/60)),o+=":",o+=ge(Math.trunc(-i.o%60))):(o+="+",o+=ge(Math.trunc(i.o/60)),o+=":",o+=ge(Math.trunc(i.o%60)))),r&&(o+="["+i.zone.ianaName+"]"),o}const ru={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Im={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Rm={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ou=["year","month","day","hour","minute","second","millisecond"],Vm=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Cm=["year","ordinal","hour","minute","second","millisecond"];function Lm(i){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[i.toLowerCase()];if(!e)throw new rc(i);return e}function Ja(i){switch(i.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Lm(i)}}function Ym(i){if(zi===void 0&&(zi=de.now()),i.type!=="iana")return i.offset(zi);const e=i.name;let t=ao.get(e);return t===void 0&&(t=i.offset(zi),ao.set(e,t)),t}function Ba(i,e){const t=sn(e.zone,de.defaultZone);if(!t.isValid)return X.invalid(Mi(t));const n=te.fromObject(e);let s,r;if(D(i.year))s=de.now();else{for(const l of ou)D(i[l])&&(i[l]=ru[l]);const o=Vc(i)||Cc(i);if(o)return X.invalid(o);const a=Ym(t);[s,r]=Es(i,a,t)}return new X({ts:s,zone:t,loc:n,o:r})}function Aa(i,e,t){const n=D(t.round)?!0:t.round,s=(o,a)=>(o=Do(o,n||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(o,a)),r=o=>t.calendary?e.hasSame(i,o)?0:e.startOf(o).diff(i.startOf(o),o).get(o):e.diff(i,o).get(o);if(t.unit)return s(r(t.unit),t.unit);for(const o of t.units){const a=r(o);if(Math.abs(a)>=1)return s(a,o)}return s(i>e?-0:0,t.units[t.units.length-1])}function ja(i){let e={},t;return i.length>0&&typeof i[i.length-1]=="object"?(e=i[i.length-1],t=Array.from(i).slice(0,i.length-1)):t=Array.from(i),[e,t]}let zi;const ao=new Map;let X=class le{constructor(e){const t=e.zone||de.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Tt("invalid input"):null)||(t.isValid?null:Mi(t));this.ts=D(e.ts)?de.now():e.ts;let s=null,r=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[s,r]=[e.old.c,e.old.o];else{const a=hn(e.o)&&!e.old?e.o:t.offset(this.ts);s=ws(this.ts,a),n=Number.isNaN(s.year)?new Tt("invalid input"):null,s=n?null:s,r=n?null:a}this._zone=t,this.loc=e.loc||te.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=s,this.o=r,this.isLuxonDateTime=!0}static now(){return new le({})}static local(){const[e,t]=ja(arguments),[n,s,r,o,a,l,c]=t;return Ba({year:n,month:s,day:r,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,t]=ja(arguments),[n,s,r,o,a,l,c]=t;return e.zone=Fe.utcInstance,Ba({year:n,month:s,day:r,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,t={}){const n=uh(e)?e.valueOf():NaN;if(Number.isNaN(n))return le.invalid("invalid input");const s=sn(t.zone,de.defaultZone);return s.isValid?new le({ts:n,zone:s,loc:te.fromObject(t)}):le.invalid(Mi(s))}static fromMillis(e,t={}){if(hn(e))return e<-Ka||e>Ka?le.invalid("Timestamp out of range"):new le({ts:e,zone:sn(t.zone,de.defaultZone),loc:te.fromObject(t)});throw new Ve(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(hn(e))return new le({ts:e*1e3,zone:sn(t.zone,de.defaultZone),loc:te.fromObject(t)});throw new Ve("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const n=sn(t.zone,de.defaultZone);if(!n.isValid)return le.invalid(Mi(n));const s=te.fromObject(t),r=js(e,Ja),{minDaysInFirstWeek:o,startOfWeek:a}=La(r,s),l=de.now(),c=D(t.specificOffset)?n.offset(l):t.specificOffset,d=!D(r.ordinal),u=!D(r.year),p=!D(r.month)||!D(r.day),m=u||p,y=r.weekYear||r.weekNumber;if((m||d)&&y)throw new An("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&d)throw new An("Can't mix ordinal dates with month/day");const h=y||r.weekday&&!m;let f,g,v=ws(l,c);h?(f=Vm,g=Im,v=Bs(v,o,a)):d?(f=Cm,g=Rm,v=Yr(v)):(f=ou,g=ru);let Z=!1;for(const M of f){const U=r[M];D(U)?Z?r[M]=g[M]:r[M]=v[M]:Z=!0}const G=h?ah(r,o,a):d?lh(r):Vc(r),T=G||Cc(r);if(T)return le.invalid(T);const I=h?Va(r,o,a):d?Ca(r):r,[K,x]=Es(I,c,n),Y=new le({ts:K,zone:n,o:x,loc:s});return r.weekday&&m&&e.weekday!==Y.weekday?le.invalid("mismatched weekday",`you can't specify both a weekday of ${r.weekday} and a date of ${Y.toISO()}`):Y.isValid?Y:le.invalid(Y.invalid)}static fromISO(e,t={}){const[n,s]=qh(e);return Kn(n,s,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,s]=em(e);return Kn(n,s,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,s]=tm(e);return Kn(n,s,t,"HTTP",t)}static fromFormat(e,t,n={}){if(D(e)||D(t))throw new Ve("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:r=null}=n,o=te.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0}),[a,l,c,d]=Xm(o,e,t);return d?le.invalid(d):Kn(a,l,n,`format ${t}`,e,c)}static fromString(e,t,n={}){return le.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,s]=lm(e);return Kn(n,s,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Ve("need to specify a reason the DateTime is invalid");const n=e instanceof Tt?e:new Tt(e,t);if(de.throwOnInvalid)throw new Ed(n);return new le({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const n=iu(e,te.fromObject(t));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(e,t={}){return eu(Me.parseFormat(e),te.fromObject(t)).map(s=>s.val).join("")}static resetCache(){zi=void 0,ao.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?zr(this).weekYear:NaN}get weekNumber(){return this.isValid?zr(this).weekNumber:NaN}get weekday(){return this.isValid?zr(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Nr(this).weekday:NaN}get localWeekNumber(){return this.isValid?Nr(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Nr(this).weekYear:NaN}get ordinal(){return this.isValid?Yr(this.c).ordinal:NaN}get monthShort(){return this.isValid?Zs.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Zs.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Zs.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Zs.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=hr(this.c),s=this.zone.offset(n-e),r=this.zone.offset(n+e),o=this.zone.offset(n-s*t),a=this.zone.offset(n-r*t);if(o===a)return[this];const l=n-o*t,c=n-a*t,d=ws(l,o),u=ws(c,a);return d.hour===u.hour&&d.minute===u.minute&&d.second===u.second&&d.millisecond===u.millisecond?[vn(this,{ts:l}),vn(this,{ts:c})]:[this]}get isInLeapYear(){return cs(this.year)}get daysInMonth(){return As(this.year,this.month)}get daysInYear(){return this.isValid?qn(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ai(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ai(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:n,calendar:s}=Me.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:s}}toUTC(e=0,t={}){return this.setZone(Fe.instance(e),t)}toLocal(){return this.setZone(de.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if(e=sn(e,de.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(t||n){const r=e.offset(this.ts),o=this.toObject();[s]=Es(o,r,e)}return vn(this,{ts:s,zone:e})}else return le.invalid(Mi(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){const s=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return vn(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=js(e,Ja),{minDaysInFirstWeek:n,startOfWeek:s}=La(t,this.loc),r=!D(t.weekYear)||!D(t.weekNumber)||!D(t.weekday),o=!D(t.ordinal),a=!D(t.year),l=!D(t.month)||!D(t.day),c=a||l,d=t.weekYear||t.weekNumber;if((c||o)&&d)throw new An("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new An("Can't mix ordinal dates with month/day");let u;r?u=Va({...Bs(this.c,n,s),...t},n,s):D(t.ordinal)?(u={...this.toObject(),...t},D(t.day)&&(u.day=Math.min(As(u.year,u.month),u.day))):u=Ca({...Yr(this.c),...t});const[p,m]=Es(u,this.o,this.zone);return vn(this,{ts:p,o:m})}plus(e){if(!this.isValid)return this;const t=Ye.fromDurationLike(e);return vn(this,Pa(this,t))}minus(e){if(!this.isValid)return this;const t=Ye.fromDurationLike(e).negate();return vn(this,Pa(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const n={},s=Ye.normalizeUnit(e);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(s==="weeks")if(t){const r=this.loc.getStartOfWeek(),{weekday:o}=this;o<r&&(n.weekNumber=this.weekNumber-1),n.weekday=r}else n.weekday=1;if(s==="quarters"){const r=Math.ceil(this.month/3);n.month=(r-1)*3+1}return this.set(n)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?Me.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Mr}toLocaleString(e=Js,t={}){return this.isValid?Me.create(this.loc.clone(t),e).formatDateTime(this):Mr}toLocaleParts(e={}){return this.isValid?Me.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:r=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=Hr(this,o);return a+="T",a+=Ua(this,o,t,n,s,r),a}toISODate({format:e="extended"}={}){return this.isValid?Hr(this,e==="extended"):null}toISOWeekDate(){return Gs(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:r=!1,format:o="extended"}={}){return this.isValid?(s?"T":"")+Ua(this,o==="extended",t,e,n,r):null}toRFC2822(){return Gs(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Gs(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Hr(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(t||e)&&(n&&(s+=" "),t?s+="z":e&&(s+="ZZ")),Gs(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Mr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return Ye.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},r=dh(t).map(Ye.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=fm(a,l,r,s);return o?c.negate():c}diffNow(e="milliseconds",t={}){return this.diff(le.now(),e,t)}until(e){return this.isValid?ce.fromDateTimes(this,e):this}hasSame(e,t,n){if(!this.isValid)return!1;const s=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t,n)<=s&&s<=r.endOf(t,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||le.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],r=e.unit;return Array.isArray(e.unit)&&(s=e.unit,r=void 0),Aa(t,this.plus(n),{...e,numeric:"always",units:s,unit:r})}toRelativeCalendar(e={}){return this.isValid?Aa(e.base||le.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(le.isDateTime))throw new Ve("min requires all arguments be DateTimes");return Ya(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(le.isDateTime))throw new Ve("max requires all arguments be DateTimes");return Ya(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:s=null,numberingSystem:r=null}=n,o=te.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0});return nu(o,e,t)}static fromStringExplain(e,t,n={}){return le.fromFormatExplain(e,t,n)}static buildFormatParser(e,t={}){const{locale:n=null,numberingSystem:s=null}=t,r=te.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return new tu(r,e)}static fromFormatParser(e,t,n={}){if(D(e)||D(t))throw new Ve("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:r=null}=n,o=te.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0});if(!o.equals(t.locale))throw new Ve(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${t.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:d}=t.explainFromTokens(e);return d?le.invalid(d):Kn(a,l,n,`format ${t.format}`,e,c)}static get DATE_SHORT(){return Js}static get DATE_MED(){return oc}static get DATE_MED_WITH_WEEKDAY(){return Nd}static get DATE_FULL(){return ac}static get DATE_HUGE(){return lc}static get TIME_SIMPLE(){return cc}static get TIME_WITH_SECONDS(){return uc}static get TIME_WITH_SHORT_OFFSET(){return dc}static get TIME_WITH_LONG_OFFSET(){return hc}static get TIME_24_SIMPLE(){return mc}static get TIME_24_WITH_SECONDS(){return pc}static get TIME_24_WITH_SHORT_OFFSET(){return fc}static get TIME_24_WITH_LONG_OFFSET(){return bc}static get DATETIME_SHORT(){return yc}static get DATETIME_SHORT_WITH_SECONDS(){return gc}static get DATETIME_MED(){return vc}static get DATETIME_MED_WITH_SECONDS(){return Zc}static get DATETIME_MED_WITH_WEEKDAY(){return Hd}static get DATETIME_FULL(){return Sc}static get DATETIME_FULL_WITH_SECONDS(){return wc}static get DATETIME_HUGE(){return Gc}static get DATETIME_HUGE_WITH_SECONDS(){return Tc}};function Li(i){if(X.isDateTime(i))return i;if(i&&i.valueOf&&hn(i.valueOf()))return X.fromJSDate(i);if(i&&typeof i=="object")return X.fromObject(i);throw new Ve(`Unknown datetime argument: ${i}, of type ${typeof i}`)}const Em=/(milliseconds|ms)/i,Mm=/(seconds|second|secs|sec|s)/i,zm=/(minutes|minute|mins|min)/i,Nm=/(hours|hour|h)/i,Hm=/(?:(week\s*|work\s*|business\s*)?(days|day|d))/i,Dm=/(weeks|week|w)/i,Om=/(months|month)/i,Fm=/(years|year|y)/i,lo=new RegExp(`(\\d+\\W*)(${Em.source}|${Mm.source}|${zm.source}|${Nm.source}|${Hm.source}|${Dm.source}|${Om.source}|${Fm.source})(?:\\s*,\\s*|\\s*)`,"g"),au=/(?:\W|^)(!\w+)/,Po=new RegExp(`(by|before|after)?(\\s*${au.source}\\s*)?(?:plus|\\+)?\\s*(${lo.source})*`),Km=/january|february|march|april|may|june|july|august|september|october|november|december/,Pm=/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/,Uo=new RegExp(`(?:(${Km.source})|(${Pm.source}))`),Um=new RegExp(`(([0-3]?[0-9])\\s+${Uo.source})`),Jm=new RegExp(`(${Uo.source}\\s+([0-3]?[0-9](?!\\d)))`),fr=/((1|2|3|4|5|6|7|8|9|10|11|12)(:\d{2})?([ap]m)|([012]?[0-9])(:\d{2})?)/,Bm=new RegExp(`(?:(?:${Um.source}|${Jm.source}),?(?:\\s+(\\d{4}),?)?(?:\\s+${fr.source})?)|(${Uo.source}(?:\\s+(\\d{1,4}))?)`),Am=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2,}(?:\.\d*)?Z/,lu=/now/,jm=new RegExp(`(\\d{1,5}(\\/\\d{1,5}(\\/\\d{1,5}(?:(?:,|\\s)+${fr.source})?)?)?)`),co=new RegExp(`(${Am.source})|(${lu.source})|${fr.source}|(${jm.source})|(${Po.source})|${Bm.source}`);new RegExp(`(\\s+(?:(?:(?:un)?til)|(?:to)|(?:\\|))\\s+(${co.source}))?`);const cu=new RegExp("\\s*every[^:]+"),_m=new RegExp(`((${co.source})(?:(?:(?:\\s*-\\s*)|(?:\\s+to\\s+))(${co.source}))?)(${cu.source})?\\s*:`),Jo=new RegExp(`^(\\s*)${_m.source}(.*)`,"i");let w=0;++w;const Qm=++w,$m=++w;++w;const qm=++w,ep=++w,tp=++w,np=++w,ip=++w,sp=++w,rp=++w,op=++w;++w;++w;++w;const ap=++w,lp=++w,cp=++w,up=++w,dp=++w,hp=++w,mp=++w,pp=++w;++w;const fp=++w;++w;++w;++w;++w;++w;++w;++w;++w;++w;++w;++w;++w;++w;const bp=++w,yp=++w,gp=++w;++w;const vp=++w,Zp=++w,Sp=++w,wp=++w,Gp=++w,Tp=++w,kp=++w,Wp=++w,xp=++w,Xp=++w;++w;const Ip=++w,Rp=++w,Vp=++w,Cp=++w;++w;const Lp=++w,Yp=++w,Ep=++w,Mp=++w,zp=++w,Np=++w,Hp=++w,Dp=++w;++w;++w;++w;const Op=++w,Fp=++w,Kp=++w,Pp=++w,Up=++w,Jp=++w,Bp=++w;++w;++w;const Ap=++w;++w;++w;++w;++w;++w;++w;++w;++w;++w;++w;++w;++w;++w;const jp=++w,_p=++w,Qp=++w;++w;const $p=++w,qp=++w,ef=++w,tf=++w,nf=++w,sf=++w,rf=++w,of=++w,af=++w,lf=++w;++w;const cf=++w,uf=++w,df=++w,hf=++w,_a=++w,uo=/^\s*\/\/.*/,_s=/(?:^|\s)#(?!\d+(?:\s|$))(\w+)/g,br=/^(\s*)(group|section)(?:\s|$)/i,uu=/^(\s*)end(?:Group|Section)?/i,mf=/^\s*- .*/,pf=/^\s*- (\[(x|X| )?\]).*/,ff=/^\s*(\[(x|X| )?\]).*/,bf=new RegExp(`(\\d{4}(-\\d{2}(-\\d{2}(?:\\s+${fr.source})?)?)?)`),ho=new RegExp(`(?:${bf.source}|(${Po.source})|(${lu.source}))`);new RegExp(`(\\s+(?:(?:(?:un)?til)|(?:to)|(?:\\|))\\s+${ho.source})?`);const yf=new RegExp(`(${ho.source}(\\s*/\\s*${ho.source})?)(${cu.source})?\\s*:`),Bo=new RegExp(`^(\\s*)${yf.source}(.*)`,"i");let E=0;++E;const gf=++E,vf=++E,Zf=++E,Sf=++E,wf=++E,Gf=++E,Tf=++E,kf=++E,Wf=++E,xf=++E,Xf=++E,If=++E;++E;const Rf=++E;++E;++E;++E;++E;++E;++E;++E;++E;++E;++E;++E;++E;const Vf=++E,Cf=++E,Lf=++E,Yf=++E,Ef=++E,Mf=++E,zf=++E,Nf=++E,Hf=++E,Df=++E,Of=++E,Ff=++E,Kf=++E;++E;const Pf=++E;++E;++E;++E;++E;++E;++E;++E;++E;++E;++E;++E;++E;const Uf=++E,Jf=++E,Qa=++E,Ao=new RegExp("^\\s*(\\d{1,5})\\s?(BCE|BC|AD|CE)?(?:\\s?[–-]\\s?(\\d{1,5})\\s?(BCE|BC|AD|CE)?)?(?=\\s*:)(.*)","i");let Ti=-1;const Bf=++Ti,Af=++Ti,jf=++Ti,_f=++Ti,$a=++Ti,qa=++Ti;function el(i){return i.startsWith("http://")||i.startsWith("https://")||i.startsWith("/")?i:`http://${i}`}const Yn="M/d/y",du="d/M/y",Qf="M/y",$f="y";class $e{static diffFromString(e){const t=e.matchAll(lo);let n=t.next();const s={};for(;n.value;){const r=n.value,o=parseInt(r[1]);r[3]?s.milliseconds=(s.milliseconds??0)+o:r[4]?s.seconds=(s.seconds??0)+o:r[5]?s.minutes=(s.minutes??0)+o:r[6]?s.hours=(s.hours??0)+o:r[7]||(r[8]?s.days=(s.days??0)+o:r[9]?s.weeks=(s.weeks??0)+o:r[10]?s.months=(s.months??0)+o:r[11]&&(s.years=(s.years??0)+o)),n=t.next()}return s}static from(e,t,n=!1){const s=e.matchAll(lo);let r=s.next();const o=n?"minus":"plus";for(;r.value;){const a=r.value,l=parseInt(a[1]);a[3]?t=t[o]({milliseconds:l}):a[4]?t=t[o]({seconds:l}):a[5]?t=t[o]({minutes:l}):a[6]?t=t[o]({hours:l}):a[7]?t=n?qf(l,t):e0(l,t):a[8]?t=t[o]({days:l}):a[9]?t=t[o]({weeks:l}):a[10]?t=t[o]({months:l}):a[11]&&(t=t[o]({years:l})),r=s.next()}return t}}function qf(i,e){const t=e.weekday-1,n=i-t;if(n<=0)return e.minus({days:i});const s=2,r=7,o=5,a=t,l=~~(n/o),c=n%o,d=l*r,u=c?s+c:0;return e.minus({days:a+d+u})}function e0(i,e){const s=6-e.weekday,r=i-s;if(r<=0)return e.plus({days:i});{const c=s,d=~~(r/5),u=r%5,p=d*7,m=u?2+u:0;return e.plus({days:c+p+m})}}class fi{constructor({from:e,to:t,originalString:n,dateRangeInText:s,eventText:r,definition:o,isRelative:a,recurrence:l}){this.fromDateTime=e,this.toDateTime=t,this.originalString=n,this.dateRangeInText=s,this.eventText=r,this.recurrence=l==null?void 0:l.recurrence,this.recurrenceRangeInText=l==null?void 0:l.range,this.definition=o,this.isRelative=a}}const t0=/\[([^\]]+)\]\((location|map)\)/g,tl=/!\[([^\]\<\>]*)\]\(((https?:\/\/)?[\w\d./\&\?=\-#:,_]+)\)/,n0=/(?:\s|^)(\d{1,3})%(?:\s|$)/;var Sn;(function(i){i.TEXT="text",i.LIST_ITEM="listItem",i.CHECKBOX="checkbox",i.IMAGE="image"})(Sn||(Sn={}));class i0{constructor(e){this.raw=e,e.startsWith("- []")?(this.type=Sn.CHECKBOX,this.value=!1,this.raw=e.substring(4).trim()):e.startsWith("- [ ]")?(this.type=Sn.CHECKBOX,this.value=!1,this.raw=e.substring(5).trim()):e.startsWith("- [x]")?(this.type=Sn.CHECKBOX,this.value=!0,this.raw=e.substring(5).trim()):e.startsWith("- ")?(this.type=Sn.LIST_ITEM,this.raw=e.substring(2)):this.type=Sn.TEXT}}class nl{constructor(e,t){this.type="image",this.altText=e,this.link=t}}class s0{constructor(e,t,n){this.tags=[],this.supplemental=[],this.locations=[],this.matchedListItems=t;for(let s=0;s<e.length;s++){let r=e[s];if(!r.match(uo)){if(s===0&&(r=r.replace(tl,(o,a,l)=>(this.supplemental.push(new nl(a,el(l))),""))),r=r.replace(t0,(o,a)=>(this.locations.push(a),"")),r=r.replace(_s,(o,a)=>(this.tags.includes(a)||this.tags.push(a),"")),s===0&&(r=r.replace(au,(o,a)=>this.id?a:(this.id=a.substring(1),""))),!this.percent){const o=r.match(n0);o&&(this.percent=parseInt(o[0]))}e[s]=r}}this.eventDescription=e[0],this.supplemental=this.supplemental.concat(e.slice(1).filter(s=>!s.match(uo)&&!!s.trim()).map(s=>{s=s.replace(_s,(o,a)=>(this.tags.includes(a)||this.tags.push(a),""));const r=s.match(tl);return r?new nl(r[1],el(r[2])):new i0(s.trim())})),this.completed=n}}var P;(function(i){i.Comment="comment",i.CheckboxItemIndicator="checkboxItemIndicator",i.listItemIndicator="listItemIndicator",i.ListItemContents="listItemContents",i.Tag="tag",i.tagDefinition="tagDefinition",i.Title="title",i.View="view",i.Viewer="viewer",i.Description="description",i.Section="section",i.DateRange="dateRange",i.DateRangeColon="dateRangeColon",i.Event="event",i.Edit="edit",i.Editor="editor",i.Recurrence="recurrence",i.FrontmatterDelimiter="frontMatterDelimiter",i.HeaderKey="headerKey",i.HeaderKeyColon="headerKeyColon",i.HeaderValue="headerValue",i.PropertyKey="propertyKey",i.PropertyKeyColon="propertyKeyColon",i.PropertyValue="propertyValue",i.EventDefinition="eventDefinition",i.SectionDefinition="sectionDefinition"})(P||(P={}));const r0=i=>({fromDateTimeIso:i.fromDateTime.toISO(),toDateTimeIso:i.toDateTime.toISO()}),qe=i=>({fromDateTime:X.fromISO(i.fromDateTimeIso,{setZone:!0}),toDateTime:X.fromISO(i.toDateTimeIso,{setZone:!0})});function bi(i){return!i.children}class jo{constructor(){this.propOrder=[],this.tags=[],this.title="",this.children=[]}}let o0=class{constructor(e,t,n,s,r,o,a,l){this.firstLine={full:e,datePart:l,rest:s.eventText,restTrimmed:a.eventDescription},this.properties=t,this.propOrder=n,this.textRanges={whole:r,datePart:o,definition:o,recurrence:s.recurrenceRangeInText},this.dateRangeIso=r0(s),this.recurrence=s.recurrence,this.tags=a.tags,this.supplemental=a.supplemental,this.matchedListItems=a.matchedListItems,this.id=(typeof t.id=="string"?t.id:void 0)||a.id,this.percent=a.percent,this.completed=a.completed,this.isRelative=s.isRelative}};function hu(){return X.now(),{events:new jo,ranges:[],foldables:[],ids:{},header:{dateFormat:Yn},parseMessages:[],documentMessages:[]}}const mu=(i,e,t,n)=>{if(!t||!t.length)return e.children.push(i),bi(i)?{path:[e.children.length-1],tail:i}:{path:[e.children.length-1,i.children.length],tail:n};{const{tail:s,path:r}=mu(i,e.children[t[0]],t.slice(1),n);return{path:[t[0],...r],tail:s}}},Fi=(i,e)=>{if(!e.length)return i;const t=i;if(!(!t.children.length||t.children.length-1<e[0]))return Fi(t.children[e[0]],e.slice(1))};function fn(i,e,t,n,s,r){const o=i[e],a=i[t]||":00";let l=i[n];if(!l){const u=parseInt(o);isNaN(u)&&(l="am"),u<9||u===12?l="pm":l="am"}if(o)return{dateTimeIso:X.fromFormat(`${o}${a}${l}`,"h:mma").toISO(),granularity:a===":00"?"hour":"minute"};const c=i[s],d=i[r]||":00";return{dateTimeIso:X.fromFormat(`${c}${d}`,`${c.length===2&&c[0]==="0"?"HH":"H"}:mm`).toISO(),granularity:d===":00"?"hour":"minute"}}function a0(i){return fn(i,lp,cp,up,dp,hp)}function l0(i){return fn(i,Fp,Kp,Pp,Up,Jp)}function c0(i){return fn(i,Tp,kp,Wp,xp,Xp)}function u0(i){return fn(i,sf,rf,of,af,lf)}function il(i,e,t,n,s,r,o,a,l,c,d,u,p){let m=i[t],y=i[n],h=i[s]||`${e.zonedNow.year}`,f=m&&y&&sl(`${h} ${m} ${parseInt(y)}`,e);if(m=i[r],f=f||m&&y&&rl(`${h} ${m} ${parseInt(y)}`,e),y=i[o],m=i[a],f=f||m&&y&&sl(`${h} ${m} ${parseInt(y)}`,e),m=i[l],f=f||m&&y&&rl(`${h} ${m} ${parseInt(y)}`,e),f){if(p){const g=X.fromISO(f.dateTimeIso,{setZone:!0,zone:e.timezone}),v=X.fromISO(p.dateTimeIso,{setZone:!0,zone:e.timezone});f.dateTimeIso=g.set({hour:v.hour,minute:v.minute}).toISO(),f.granularity=p.granularity}return f}if(h=i[c]||`${e.zonedNow.year}`,m=i[d],m)return{dateTimeIso:X.fromFormat(`${h} ${m}`,"y MMMM",{setZone:!0,zone:e.timezone}).toISO(),granularity:"month"};if(m=i[u],m)return{dateTimeIso:X.fromFormat(`${h} ${m}`,"y MMM",{setZone:!0,zone:e.timezone}).toISO(),granularity:"month"}}function sl(i,e){return{dateTimeIso:X.fromFormat(i,"y MMMM d",{setZone:!0,zone:e.timezone}).toISO(),granularity:"day"}}function rl(i,e){return{dateTimeIso:X.fromFormat(i,"y MMM d",{setZone:!0,zone:e.timezone}).toISO(),granularity:"day"}}function d0(i,e,t){const n=new jo;return n.tags=[],n.style="group",n.textRanges={whole:t,definition:{from:t.from,to:t.from+i.length,type:P.SectionDefinition}},i=i.replace(br,(s,r,o)=>(n.startExpanded=!r.length,n.style=o,n.textRanges.definition.to=n.textRanges.definition.from+r.length+o.length,"")).replace(_s,(s,r)=>(n.tags.includes(r)||n.tags.push(r),"")),n.title=i.trim(),n}function ol(i,e,t){var o,a;e=typeof e=="string"&&e||Yn;const n=JSON.stringify({s:i,fullFormat:e}),s=(o=t.cache)==null?void 0:o.zone(t.timezone).slashDate.get(n);if(s)return s;const r=[[e,"day"],[Qf,"month"],[$f,"year"]];for(const l of r){let c=X.fromFormat(i,l[0],{setZone:!0,zone:t.timezone});if(c.isValid){const d={dateTimeIso:c.toISO(),granularity:l[1]};return(a=t.cache)==null||a.zone(t.timezone).slashDate.set(n,d),d}}}function rn(i,e){var o;const t=JSON.stringify(i),n=(o=e.cache)==null?void 0:o.zone(e.timezone).roundDateUp.get(t);if(n)return n;const s=a=>{var l;return(l=e.cache)==null||l.zone(e.timezone).roundDateUp.set(t,a),a},r=X.fromISO(i.dateTimeIso,{setZone:!0,zone:e.timezone});return!r.isValid||["instant","hour","minute","second"].includes(i.granularity)?s(i.dateTimeIso):s(r.plus({[i.granularity]:1}).toISO())}function al(i,e,t){return typeof i=="string"&&(i=parseInt(i)),e&&(e==="BCE"||e==="BC")&&(i=-(i-1)),X.fromObject({year:i},{zone:t.timezone})}const Qs=["MO","TU","WE","TH","FR","SA","SU"];class Ze{constructor(e,t){if(t===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t}static fromStr(e){return new Ze(Qs.indexOf(e))}nth(e){return this.n===e?this:new Ze(this.weekday,e)}equals(e){return this.weekday===e.weekday&&this.n===e.n}toString(){let e=Qs[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e}getJsWeekday(){return this.weekday===6?0:this.weekday+1}}const ye=function(i){return i!=null},It=function(i){return typeof i=="number"},ll=function(i){return typeof i=="string"&&Qs.includes(i)},et=Array.isArray,Et=function(i,e=i){arguments.length===1&&(e=i,i=0);const t=[];for(let n=i;n<e;n++)t.push(n);return t},Q=function(i,e){let t=0;const n=[];if(et(i))for(;t<e;t++)n[t]=[].concat(i);else for(;t<e;t++)n[t]=i;return n},h0=function(i){return et(i)?i:[i]};function Pn(i,e,t=" "){const n=String(i);return e=e>>0,n.length>e?String(n):(e=e-n.length,e>t.length&&(t+=Q(t,e/t.length)),t.slice(0,e)+String(n))}const m0=function(i,e,t){const n=i.split(e);return t?n.slice(0,t).concat([n.slice(t).join(e)]):n},rt=function(i,e){const t=i%e;return t*e<0?t+e:t},Dr=function(i,e){return{div:Math.floor(i/e),mod:rt(i,e)}},Lt=function(i){return!ye(i)||i.length===0},Te=function(i){return!Lt(i)},ie=function(i,e){return Te(i)&&i.indexOf(e)!==-1},bn=function(i,e,t,n=0,s=0,r=0){return new Date(Date.UTC(i,e-1,t,n,s,r))},p0=[31,28,31,30,31,30,31,31,30,31,30,31],pu=1e3*60*60*24,fu=9999,bu=bn(1970,1,1),f0=[6,0,1,2,3,4,5],Ki=function(i){return i%4===0&&i%100!==0||i%400===0},yu=function(i){return i instanceof Date},Ni=function(i){return yu(i)&&!isNaN(i.getTime())},b0=function(i,e){const t=i.getTime(),n=e.getTime(),s=t-n;return Math.round(s/pu)},mo=function(i){return b0(i,bu)},gu=function(i){return new Date(bu.getTime()+i*pu)},y0=function(i){const e=i.getUTCMonth();return e===1&&Ki(i.getUTCFullYear())?29:p0[e]},yi=function(i){return f0[i.getUTCDay()]},cl=function(i,e){const t=bn(i,e+1,1);return[yi(t),y0(t)]},vu=function(i,e){return e=e||i,new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},po=function(i){return new Date(i.getTime())},ul=function(i){const e=[];for(let t=0;t<i.length;t++)e.push(po(i[t]));return e},ji=function(i){i.sort(function(e,t){return e.getTime()-t.getTime()})},_o=function(i,e=!0){const t=new Date(i);return[Pn(t.getUTCFullYear().toString(),4,"0"),Pn(t.getUTCMonth()+1,2,"0"),Pn(t.getUTCDate(),2,"0"),"T",Pn(t.getUTCHours(),2,"0"),Pn(t.getUTCMinutes(),2,"0"),Pn(t.getUTCSeconds(),2,"0"),e?"Z":""].join("")},Qo=function(i){const t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/.exec(i);if(!t)throw new Error(`Invalid UNTIL value: ${i}`);return new Date(Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[5],10)||0,parseInt(t[6],10)||0,parseInt(t[7],10)||0))},dl=function(i,e){return i.toLocaleString("sv-SE",{timeZone:e}).replace(" ","T")+"Z"},g0=function(i,e){const t=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(dl(i,t)),r=new Date(dl(i,e??"UTC")).getTime()-n.getTime();return new Date(i.getTime()-r)};class ln{constructor(e,t){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=t,e==="between"?(this.maxDate=t.inc?t.before:new Date(t.before.getTime()-1),this.minDate=t.inc?t.after:new Date(t.after.getTime()+1)):e==="before"?this.maxDate=t.inc?t.dt:new Date(t.dt.getTime()-1):e==="after"&&(this.minDate=t.inc?t.dt:new Date(t.dt.getTime()+1))}accept(e){++this.total;const t=this.minDate&&e<this.minDate,n=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(t)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return t?!0:(this.add(e),!1);return this.add(e)}add(e){return this._result.push(e),!0}getValue(){const e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}}clone(){return new ln(this.method,this.args)}}class hl extends ln{constructor(e,t,n){super(e,t),this.iterator=n}add(e){return this.iterator(e,this._result.length)?(this._result.push(e),!0):!1}}const $s={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^(weekdays?|business\s+days?|work\s+days?)/i,"week(s)":/^(weeks?|wks?|weekly)/i,"hour(s)":/^(hours?|hrs?|hourly)/i,"minute(s)":/^(minutes?|mins?)/i,"month(s)":/^(months?|monthly)/i,"year(s)":/^(years?|yearly|annually)/i,on:/^(on|in)/i,at:/^(at|@)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^(for|x)/i,"time(s)":/^times?/i,until:/^((un)?til)|\|/i,monday:/^(mo\.?(n\.?(days?)?)?)/i,tuesday:/^(tu\.?(e\.?(s\.?(days?)?)?)?)/i,wednesday:/^(we\.?(d\.?(n\.?(esdays?)?)?)?)/i,thursday:/^(th\.?(u\.?(r\.?(s\.?(days?)?)?)?)?)/i,friday:/^(fr\.?(i\.?(days?)?)?)/i,saturday:/^(sa\.?(t\.?(urdays?)?)?)/i,sunday:/^(su\.?(n\.?(days?)?)?)/i,january:/^(jan\.?(uary)?)/i,february:/^(feb\.?(ruary)?)/i,march:/^(mar\.?(ch)?)/i,april:/^(apr\.?(il)?)/i,may:/^may/i,june:/^(june?|jun\.)/i,july:/^(july?|jul\.)/i,august:/^(aug(ust)?|aug\.)/i,september:/^(sep(t(ember)?)?|sept\.|sep\.)/i,october:/^(oct(ober)?|oct\.)/i,november:/^(nov(ember)?|nov\.)/i,december:/^(dec(ember)?|dec\.)/i,comma:/^(,\s*|(and|or|&)\s*)+/i}},ml=function(i,e){return i.indexOf(e)!==-1},v0=i=>i.toString(),Z0=(i,e,t)=>`${e} ${t}, ${i}`;class Be{constructor(e,t=v0,n=$s,s=Z0){if(this.text=[],this.language=n||$s,this.gettext=t,this.dateFormatter=s,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){const r=[].concat(this.options.bymonthday),o=[].concat(this.options.bynmonthday);r.sort((a,l)=>a-l),o.sort((a,l)=>l-a),this.bymonthday=r.concat(o),this.bymonthday.length||(this.bymonthday=null)}if(ye(this.origOptions.byweekday)){const r=et(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],o=String(r);this.byweekday={allWeeks:r.filter(function(l){return!l.n}),someWeeks:r.filter(function(l){return!!l.n}),isWeekdays:o.indexOf("MO")!==-1&&o.indexOf("TU")!==-1&&o.indexOf("WE")!==-1&&o.indexOf("TH")!==-1&&o.indexOf("FR")!==-1&&o.indexOf("SA")===-1&&o.indexOf("SU")===-1,isEveryDay:o.indexOf("MO")!==-1&&o.indexOf("TU")!==-1&&o.indexOf("WE")!==-1&&o.indexOf("TH")!==-1&&o.indexOf("FR")!==-1&&o.indexOf("SA")!==-1&&o.indexOf("SU")!==-1};const a=function(l,c){return l.weekday-c.weekday};this.byweekday.allWeeks.sort(a),this.byweekday.someWeeks.sort(a),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}static isFullyConvertible(e){if(!(e.options.freq in Be.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(const n in e.origOptions){if(ml(["dtstart","tzid","wkst","freq"],n))return!0;if(!ml(Be.IMPLEMENTED[e.options.freq],n))return!1}return!0}isFullyConvertible(){return Be.isFullyConvertible(this.rrule)}toString(){const e=this.gettext;if(!(this.options.freq in Be.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[W.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));const t=this.options.until;this.add(this.dateFormatter(t.getUTCFullYear(),this.language.monthNames[t.getUTCMonth()],t.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")}HOURLY(){const e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))}MINUTELY(){const e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))}DAILY(){const e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()}WEEKLY(){const e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.plural(this.options.interval)?this.add(e("on")).add(e("every")).add(e("day")):this.add(e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())}MONTHLY(){const e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()}YEARLY(){const e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))}_bymonthday(){const e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))}_byweekday(){const e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))}_byhour(){const e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))}_bymonth(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))}nth(e){e=parseInt(e.toString(),10);let t;const n=this.gettext;if(e===-1)return n("last");const s=Math.abs(e);switch(s){case 1:case 21:case 31:t=s+n("st");break;case 2:case 22:t=s+n("nd");break;case 3:case 23:t=s+n("rd");break;default:t=s+n("th")}return e<0?t+" "+n("last"):t}monthtext(e){return this.language.monthNames[e-1]}weekdaytext(e){const t=It(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[t]}plural(e){return e%100!==1}add(e){return this.text.push(" "),this.text.push(e),this}list(e,t,n,s=","){et(e)||(e=[e]);const r=function(a,l,c){let d="";for(let u=0;u<a.length;u++)u!==0&&(u===a.length-1?d+=" "+c+" ":d+=l+" "),d+=a[u];return d};t=t||function(a){return a.toString()};const o=a=>t&&t.call(this,a);return n?r(e.map(o),s,n):e.map(o).join(s+" ")}}let S0=class{constructor(e){this.done=!0,this.rules=e}start(e){return this.text=e,this.done=!1,this.nextSymbol()}isDone(){return this.done&&this.symbol===null}nextSymbol(){let e,t;this.symbol=null,this.value=null;do{if(this.done)return!1;let n;e=null;for(const s in this.rules){n=this.rules[s];const r=n.exec(this.text);r&&(e===null||r[0].length>e[0].length)&&(e=r,t=s)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(t==="SKIP");return this.symbol=t,this.value=e,!0}accept(e){if(this.symbol===e){if(this.value){const t=this.value;return this.nextSymbol(),t}return this.nextSymbol(),!0}return!1}acceptNumber(){return this.accept("number")}expect(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)}};function Zu(i,e=$s){const t={},n=new S0(e.tokens);if(!n.start(i))return null;return s(),t.byweekday&&Array.isArray(t.byweekday)&&(t.byweekday=[...new Set(t.byweekday)]),t.bymonth&&Array.isArray(t.bymonth)&&(t.bymonth=[...new Set(t.bymonth)]),t;function s(){n.expect("every");const p=n.acceptNumber();if(p&&(t.interval=parseInt(p[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":if(t.freq=W.DAILY,n.nextSymbol(),!n.isDone()){if(n.accept("on")){const y=a();y&&(t.bymonth=[y],n.nextSymbol())}o(),u()}break;case"weekday(s)":t.freq=W.WEEKLY,t.byweekday=[W.MO,W.TU,W.WE,W.TH,W.FR],n.nextSymbol(),o(),u();break;case"week(s)":t.freq=W.WEEKLY,n.nextSymbol()&&(r(),o(),u());break;case"hour(s)":t.freq=W.HOURLY,n.nextSymbol()&&(r(),u());break;case"minute(s)":t.freq=W.MINUTELY,n.nextSymbol()&&(r(),u());break;case"month(s)":t.freq=W.MONTHLY,n.nextSymbol()&&(r(),u());break;case"year(s)":t.freq=W.YEARLY,n.nextSymbol()&&(r(),u());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":t.freq=W.WEEKLY;const m=n.symbol.substr(0,2).toUpperCase();if(t.byweekday=[W[m]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");const y=l();if(!y)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");t.byweekday.push(W[y]),n.nextSymbol()}o(),d(),u();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(t.freq=W.YEARLY,t.bymonth=[a()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");const y=a();if(!y)throw new Error("Unexpected symbol "+n.symbol+", expected month");t.bymonth.push(y),n.nextSymbol()}r(),u();break;default:throw new Error(`Unknown symbol: ${n.symbol}`)}}function r(){const p=n.accept("on"),m=n.accept("the");if(!(p||m))return;if(n.accept("every")){n.accept("day(s)")&&(t.byweekday=[W.MO,W.TU,W.WE,W.TH,W.FR,W.SA,W.SU]);return}do{const h=c(),f=l(),g=a();if(h)f?(n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(W[f].nth(h))):(t.bymonthday||(t.bymonthday=[]),t.bymonthday.push(h),n.accept("day(s)"));else if(f)n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(W[f]);else if(n.symbol==="weekday(s)")n.nextSymbol(),t.byweekday||(t.byweekday=[W.MO,W.TU,W.WE,W.TH,W.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();let v=n.acceptNumber();if(!v)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(t.byweekno=[parseInt(v[0],10)];n.accept("comma");){if(v=n.acceptNumber(),!v)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.byweekno.push(parseInt(v[0],10))}}else if(g)n.nextSymbol(),t.bymonth||(t.bymonth=[]),t.bymonth.push(g);else return}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function o(){if(n.accept("at"))do{let m=n.acceptNumber();if(!m)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(t.byhour=[parseInt(m[0],10)];n.accept("comma");){if(m=n.acceptNumber(),!m)throw new Error("Unexpected symbol "+n.symbol+"; expected hour");t.byhour.push(parseInt(m[0],10))}}while(n.accept("comma")||n.accept("at"))}function a(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function l(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function c(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":const p=parseInt(n.value[1],10);if(p<-366||p>366)throw new Error("Nth out of range: "+p);return n.nextSymbol(),n.accept("last")?-p:p;default:return!1}}function d(){n.accept("on"),n.accept("the");let p=c();if(p)for(t.bymonthday=[p],n.nextSymbol();n.accept("comma");){if(p=c(),!p)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.bymonthday.push(p),n.nextSymbol()}}function u(){if(n.symbol==="until"){const p=n.text.trim()==="now"?Date.now():Date.parse(n.text);if(!p)throw new Error("Cannot parse until date:"+n.text);t.until=new Date(p)}else n.accept("for")&&(t.count=parseInt(n.value[0],10),n.expect("number"))}}var _;(function(i){i[i.YEARLY=0]="YEARLY",i[i.MONTHLY=1]="MONTHLY",i[i.WEEKLY=2]="WEEKLY",i[i.DAILY=3]="DAILY",i[i.HOURLY=4]="HOURLY",i[i.MINUTELY=5]="MINUTELY",i[i.SECONDLY=6]="SECONDLY"})(_||(_={}));function $o(i){return i<_.HOURLY}const w0=function(i,e=$s){return new W(Zu(i,e)||void 0)},ki=["count","until","interval","byweekday","bymonthday","bymonth"];Be.IMPLEMENTED=[];Be.IMPLEMENTED[_.HOURLY]=ki;Be.IMPLEMENTED[_.MINUTELY]=ki;Be.IMPLEMENTED[_.DAILY]=["byhour"].concat(ki);Be.IMPLEMENTED[_.WEEKLY]=ki;Be.IMPLEMENTED[_.MONTHLY]=ki;Be.IMPLEMENTED[_.YEARLY]=["byweekno","byyearday"].concat(ki);const G0=function(i,e,t,n){return new Be(i,e,t,n).toString()},{isFullyConvertible:T0}=Be;let qs=class{constructor(e,t,n,s){this.hour=e,this.minute=t,this.second=n,this.millisecond=s||0}getHours(){return this.hour}getMinutes(){return this.minute}getSeconds(){return this.second}getMilliseconds(){return this.millisecond}getTime(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond}};class k0 extends qs{constructor(e,t,n,s,r,o,a){super(s,r,o,a),this.year=e,this.month=t,this.day=n}static fromDate(e){return new this(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.valueOf()%1e3)}getWeekday(){return yi(new Date(this.getTime()))}getTime(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()}getDay(){return this.day}getMonth(){return this.month}getYear(){return this.year}addYears(e){this.year+=e}addMonths(e){if(this.month+=e,this.month>12){const t=Math.floor(this.month/12),n=rt(this.month,12);this.month=n,this.year+=t,this.month===0&&(this.month=12,--this.year)}}addWeekly(e,t){t>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-t))+e*7:this.day+=-(this.getWeekday()-t)+e*7,this.fixDay()}addDaily(e){this.day+=e,this.fixDay()}addHours(e,t,n){for(t&&(this.hour+=Math.floor((23-this.hour)/e)*e);;){this.hour+=e;const{div:s,mod:r}=Dr(this.hour,24);if(s&&(this.hour=r,this.addDaily(s)),Lt(n)||ie(n,this.hour))break}}addMinutes(e,t,n,s){for(t&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/e)*e);;){this.minute+=e;const{div:r,mod:o}=Dr(this.minute,60);if(r&&(this.minute=o,this.addHours(r,!1,n)),(Lt(n)||ie(n,this.hour))&&(Lt(s)||ie(s,this.minute)))break}}addSeconds(e,t,n,s,r){for(t&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/e)*e);;){this.second+=e;const{div:o,mod:a}=Dr(this.second,60);if(o&&(this.second=a,this.addMinutes(o,!1,n,s)),(Lt(n)||ie(n,this.hour))&&(Lt(s)||ie(s,this.minute))&&(Lt(r)||ie(r,this.second)))break}}fixDay(){if(this.day<=28)return;let e=cl(this.year,this.month-1)[1];if(!(this.day<=e))for(;this.day>e;){if(this.day-=e,++this.month,this.month===13&&(this.month=1,++this.year,this.year>fu))return;e=cl(this.year,this.month-1)[1]}}add(e,t){const{freq:n,interval:s,wkst:r,byhour:o,byminute:a,bysecond:l}=e;switch(n){case _.YEARLY:return this.addYears(s);case _.MONTHLY:return this.addMonths(s);case _.WEEKLY:return this.addWeekly(s,r);case _.DAILY:return this.addDaily(s);case _.HOURLY:return this.addHours(s,t,o);case _.MINUTELY:return this.addMinutes(s,t,o,a);case _.SECONDLY:return this.addSeconds(s,t,o,a,l)}}}function Su(i){const e=[],t=Object.keys(i);for(const n of t)ie(tb,n)||e.push(n),yu(i[n])&&!Ni(i[n])&&e.push(n);if(e.length)throw new Error("Invalid options: "+e.join(", "));return Object.assign({},i)}function W0(i){const e=Object.assign(Object.assign({},ea),Su(i));if(ye(e.byeaster)&&(e.freq=W.YEARLY),!(ye(e.freq)&&W.FREQUENCIES[e.freq]))throw new Error(`Invalid frequency: ${e.freq} ${i.freq}`);if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),ye(e.wkst)?It(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=W.MO.weekday,ye(e.bysetpos)){It(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(let t=0;t<e.bysetpos.length;t++){const n=e.bysetpos[t];if(n===0||!(n>=-366&&n<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(e.byweekno||Te(e.byweekno)||Te(e.byyearday)||e.bymonthday||Te(e.bymonthday)||ye(e.byweekday)||ye(e.byeaster)))switch(e.freq){case W.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case W.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case W.WEEKLY:e.byweekday=[yi(e.dtstart)];break}if(ye(e.bymonth)&&!et(e.bymonth)&&(e.bymonth=[e.bymonth]),ye(e.byyearday)&&!et(e.byyearday)&&It(e.byyearday)&&(e.byyearday=[e.byyearday]),!ye(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(et(e.bymonthday)){const t=[],n=[];for(let s=0;s<e.bymonthday.length;s++){const r=e.bymonthday[s];r>0?t.push(r):r<0&&n.push(r)}e.bymonthday=t,e.bynmonthday=n}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(ye(e.byweekno)&&!et(e.byweekno)&&(e.byweekno=[e.byweekno]),!ye(e.byweekday))e.bynweekday=null;else if(It(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(ll(e.byweekday))e.byweekday=[Ze.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof Ze)!e.byweekday.n||e.freq>W.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{const t=[],n=[];for(let s=0;s<e.byweekday.length;s++){const r=e.byweekday[s];if(It(r)){t.push(r);continue}else if(ll(r)){t.push(Ze.fromStr(r).weekday);continue}!r.n||e.freq>W.MONTHLY?t.push(r.weekday):n.push([r.weekday,r.n])}e.byweekday=Te(t)?t:null,e.bynweekday=Te(n)?n:null}return ye(e.byhour)?It(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<W.HOURLY?[e.dtstart.getUTCHours()]:null,ye(e.byminute)?It(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<W.MINUTELY?[e.dtstart.getUTCMinutes()]:null,ye(e.bysecond)?It(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<W.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function x0(i){const e=i.dtstart.getTime()%1e3;if(!$o(i.freq))return[];const t=[];return i.byhour.forEach(n=>{i.byminute.forEach(s=>{i.bysecond.forEach(r=>{t.push(new qs(n,s,r,e))})})}),t}function fo(i){const e=i.split(`
`).map(X0).filter(t=>t!==null);return Object.assign(Object.assign({},e[0]),e[1])}function er(i){const e={},t=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(i);if(!t)return e;const[,n,s]=t;return n&&(e.tzid=n),e.dtstart=Qo(s),e}function X0(i){if(i=i.replace(/^\s+|\s+$/,""),!i.length)return null;const e=/^([A-Z]+?)[:;]/.exec(i.toUpperCase());if(!e)return pl(i);const[,t]=e;switch(t.toUpperCase()){case"RRULE":case"EXRULE":return pl(i);case"DTSTART":return er(i);default:throw new Error(`Unsupported RFC prop ${t} in ${i}`)}}function pl(i){const e=i.replace(/^RRULE:/i,""),t=er(e);return i.replace(/^(?:RRULE|EXRULE):/i,"").split(";").forEach(s=>{const[r,o]=s.split("=");switch(r.toUpperCase()){case"FREQ":t.freq=_[o.toUpperCase()];break;case"WKST":t.wkst=xt[o.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":const a=I0(o),l=r.toLowerCase();t[l]=a;break;case"BYWEEKDAY":case"BYDAY":t.byweekday=R0(o);break;case"DTSTART":case"TZID":const c=er(i);t.tzid=c.tzid,t.dtstart=c.dtstart;break;case"UNTIL":t.until=Qo(o);break;case"BYEASTER":t.byeaster=Number(o);break;default:throw new Error("Unknown RRULE property '"+r+"'")}}),t}function I0(i){return i.indexOf(",")!==-1?i.split(",").map(fl):fl(i)}function fl(i){return/^[+-]?\d+$/.test(i)?Number(i):i}function R0(i){return i.split(",").map(t=>{if(t.length===2)return xt[t];const n=t.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!n||n.length<3)throw new SyntaxError(`Invalid weekday string: ${t}`);const s=Number(n[1]),r=n[2],o=xt[r].weekday;return new Ze(o,s)})}class tr{constructor(e,t){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=t}get isUTC(){return!this.tzid||this.tzid.toUpperCase()==="UTC"}toString(){const e=_o(this.date.getTime(),this.isUTC);return this.isUTC?`:${e}`:`;TZID=${this.tzid}:${e}`}getTime(){return this.date.getTime()}rezonedDate(){return this.isUTC?this.date:g0(this.date,this.tzid)}}function qo(i){const e=[];let t="";const n=Object.keys(i),s=Object.keys(ea);for(let a=0;a<n.length;a++){if(n[a]==="tzid"||!ie(s,n[a]))continue;let l=n[a].toUpperCase();const c=i[n[a]];let d="";if(!(!ye(c)||et(c)&&!c.length)){switch(l){case"FREQ":d=W.FREQUENCIES[i.freq];break;case"WKST":It(c)?d=new Ze(c).toString():d=c.toString();break;case"BYWEEKDAY":l="BYDAY",d=h0(c).map(u=>u instanceof Ze?u:et(u)?new Ze(u[0],u[1]):new Ze(u)).toString();break;case"DTSTART":t=V0(c,i.tzid);break;case"UNTIL":d=_o(c,!i.tzid);break;default:if(et(c)){const u=[];for(let p=0;p<c.length;p++)u[p]=String(c[p]);d=u.toString()}else d=String(c)}d&&e.push([l,d])}}const r=e.map(([a,l])=>`${a}=${l.toString()}`).join(";");let o="";return r!==""&&(o=`RRULE:${r}`),[t,o].filter(a=>!!a).join(`
`)}function V0(i,e){return i?"DTSTART"+new tr(new Date(i),e).toString():""}function C0(i,e){return Array.isArray(i)?!Array.isArray(e)||i.length!==e.length?!1:i.every((t,n)=>t.getTime()===e[n].getTime()):i instanceof Date?e instanceof Date&&i.getTime()===e.getTime():i===e}let L0=class{constructor(){this.all=!1,this.before=[],this.after=[],this.between=[]}_cacheAdd(e,t,n){t&&(t=t instanceof Date?po(t):ul(t)),e==="all"?this.all=t:(n._value=t,this[e].push(n))}_cacheGet(e,t){let n=!1;const s=t?Object.keys(t):[],r=function(a){for(let l=0;l<s.length;l++){const c=s[l];if(!C0(t[c],a[c]))return!0}return!1},o=this[e];if(e==="all")n=this.all;else if(et(o))for(let a=0;a<o.length;a++){const l=o[a];if(!(s.length&&r(l))){n=l._value;break}}if(!n&&this.all){const a=new ln(e,t);for(let l=0;l<this.all.length&&a.accept(this.all[l]);l++);n=a.getValue(),this._cacheAdd(e,n,t)}return et(n)?ul(n):n instanceof Date?po(n):n}};const Y0=[...Q(1,31),...Q(2,28),...Q(3,31),...Q(4,30),...Q(5,31),...Q(6,30),...Q(7,31),...Q(8,31),...Q(9,30),...Q(10,31),...Q(11,30),...Q(12,31),...Q(1,7)],E0=[...Q(1,31),...Q(2,29),...Q(3,31),...Q(4,30),...Q(5,31),...Q(6,30),...Q(7,31),...Q(8,31),...Q(9,30),...Q(10,31),...Q(11,30),...Q(12,31),...Q(1,7)],M0=Et(1,29),z0=Et(1,30),cn=Et(1,31),Ce=Et(1,32),N0=[...Ce,...z0,...Ce,...cn,...Ce,...cn,...Ce,...Ce,...cn,...Ce,...cn,...Ce,...Ce.slice(0,7)],H0=[...Ce,...M0,...Ce,...cn,...Ce,...cn,...Ce,...Ce,...cn,...Ce,...cn,...Ce,...Ce.slice(0,7)],D0=Et(-28,0),O0=Et(-29,0),un=Et(-30,0),Le=Et(-31,0),F0=[...Le,...O0,...Le,...un,...Le,...un,...Le,...Le,...un,...Le,...un,...Le,...Le.slice(0,7)],K0=[...Le,...D0,...Le,...un,...Le,...un,...Le,...Le,...un,...Le,...un,...Le,...Le.slice(0,7)],P0=[0,31,60,91,121,152,182,213,244,274,305,335,366],U0=[0,31,59,90,120,151,181,212,243,273,304,334,365],bl=function(){let i=[];for(let e=0;e<55;e++)i=i.concat(Et(7));return i}();function J0(i,e){const t=bn(i,1,1),n=Ki(i)?366:365,s=Ki(i+1)?366:365,r=mo(t),o=yi(t),a=Object.assign(Object.assign({yearlen:n,nextyearlen:s,yearordinal:r,yearweekday:o},B0(i)),{wnomask:null});if(Lt(e.byweekno))return a;a.wnomask=Q(0,n+7);let l,c,d=l=rt(7-o+e.wkst,7);d>=4?(d=0,c=a.yearlen+rt(o-e.wkst,7)):c=n-d;const u=Math.floor(c/7),p=rt(c,7),m=Math.floor(u+p/4);for(let y=0;y<e.byweekno.length;y++){let h=e.byweekno[y];if(h<0&&(h+=m+1),!(h>0&&h<=m))continue;let f;h>1?(f=d+(h-1)*7,d!==l&&(f-=7-l)):f=d;for(let g=0;g<7&&(a.wnomask[f]=1,f++,a.wdaymask[f]!==e.wkst);g++);}if(ie(e.byweekno,1)){let y=d+m*7;if(d!==l&&(y-=7-l),y<n)for(let h=0;h<7&&(a.wnomask[y]=1,y+=1,a.wdaymask[y]!==e.wkst);h++);}if(d){let y;if(ie(e.byweekno,-1))y=-1;else{const h=yi(bn(i-1,1,1));let f=rt(7-h.valueOf()+e.wkst,7);const g=Ki(i-1)?366:365;let v;f>=4?(f=0,v=g+rt(h-e.wkst,7)):v=n-d,y=Math.floor(52+rt(v,7)/4)}if(ie(e.byweekno,y))for(let h=0;h<d;h++)a.wnomask[h]=1}return a}function B0(i){const e=Ki(i)?366:365,t=bn(i,1,1),n=yi(t);return e===365?{mmask:Y0,mdaymask:H0,nmdaymask:K0,wdaymask:bl.slice(n),mrange:U0}:{mmask:E0,mdaymask:N0,nmdaymask:F0,wdaymask:bl.slice(n),mrange:P0}}function A0(i,e,t,n,s,r){const o={lastyear:i,lastmonth:e,nwdaymask:[]};let a=[];if(r.freq===W.YEARLY)if(Lt(r.bymonth))a=[[0,t]];else for(let l=0;l<r.bymonth.length;l++)e=r.bymonth[l],a.push(n.slice(e-1,e+1));else r.freq===W.MONTHLY&&(a=[n.slice(e-1,e+1)]);if(Lt(a))return o;o.nwdaymask=Q(0,t);for(let l=0;l<a.length;l++){const c=a[l],d=c[0],u=c[1]-1;for(let p=0;p<r.bynweekday.length;p++){let m;const[y,h]=r.bynweekday[p];h<0?(m=u+(h+1)*7,m-=rt(s[m]-y,7)):(m=d+(h-1)*7,m+=rt(7-s[m]+y,7)),d<=m&&m<=u&&(o.nwdaymask[m]=1)}}return o}function j0(i,e=0){const t=i%19,n=Math.floor(i/100),s=i%100,r=Math.floor(n/4),o=n%4,a=Math.floor((n+8)/25),l=Math.floor((n-a+1)/3),c=Math.floor(19*t+n-r-l+15)%30,d=Math.floor(s/4),u=s%4,p=Math.floor(32+2*o+2*d-c-u)%7,m=Math.floor((t+11*c+22*p)/451),y=Math.floor((c+p-7*m+114)/31),h=(c+p-7*m+114)%31+1,f=Date.UTC(i,y-1,h+e),g=Date.UTC(i,0,1);return[Math.ceil((f-g)/(1e3*60*60*24))]}class _0{constructor(e){this.options=e}rebuild(e,t){const n=this.options;if(e!==this.lastyear&&(this.yearinfo=J0(e,n)),Te(n.bynweekday)&&(t!==this.lastmonth||e!==this.lastyear)){const{yearlen:s,mrange:r,wdaymask:o}=this.yearinfo;this.monthinfo=A0(e,t,s,r,o,n)}ye(n.byeaster)&&(this.eastermask=j0(e,n.byeaster))}get lastyear(){return this.monthinfo?this.monthinfo.lastyear:null}get lastmonth(){return this.monthinfo?this.monthinfo.lastmonth:null}get yearlen(){return this.yearinfo.yearlen}get yearordinal(){return this.yearinfo.yearordinal}get mrange(){return this.yearinfo.mrange}get wdaymask(){return this.yearinfo.wdaymask}get mmask(){return this.yearinfo.mmask}get wnomask(){return this.yearinfo.wnomask}get nwdaymask(){return this.monthinfo?this.monthinfo.nwdaymask:[]}get nextyearlen(){return this.yearinfo.nextyearlen}get mdaymask(){return this.yearinfo.mdaymask}get nmdaymask(){return this.yearinfo.nmdaymask}ydayset(){return[Et(this.yearlen),0,this.yearlen]}mdayset(e,t){const n=this.mrange[t-1],s=this.mrange[t],r=Q(null,this.yearlen);for(let o=n;o<s;o++)r[o]=o;return[r,n,s]}wdayset(e,t,n){const s=Q(null,this.yearlen+7);let r=mo(bn(e,t,n))-this.yearordinal;const o=r;for(let a=0;a<7&&(s[r]=r,++r,this.wdaymask[r]!==this.options.wkst);a++);return[s,o,r]}ddayset(e,t,n){const s=Q(null,this.yearlen),r=mo(bn(e,t,n))-this.yearordinal;return s[r]=r,[s,r,r+1]}htimeset(e,t,n,s){let r=[];return this.options.byminute.forEach(o=>{r=r.concat(this.mtimeset(e,o,n,s))}),ji(r),r}mtimeset(e,t,n,s){const r=this.options.bysecond.map(o=>new qs(e,t,o,s));return ji(r),r}stimeset(e,t,n,s){return[new qs(e,t,n,s)]}getdayset(e){switch(e){case _.YEARLY:return this.ydayset.bind(this);case _.MONTHLY:return this.mdayset.bind(this);case _.WEEKLY:return this.wdayset.bind(this);case _.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}}gettimeset(e){switch(e){case _.HOURLY:return this.htimeset.bind(this);case _.MINUTELY:return this.mtimeset.bind(this);case _.SECONDLY:return this.stimeset.bind(this)}}}function Q0(i,e,t,n,s,r){const o=[];for(let a=0;a<i.length;a++){let l,c;const d=i[a];d<0?(l=Math.floor(d/e.length),c=rt(d,e.length)):(l=Math.floor((d-1)/e.length),c=rt(d-1,e.length));const u=[];for(let f=t;f<n;f++){const g=r[f];ye(g)&&u.push(g)}let p;l<0?p=u.slice(l)[0]:p=u[l];const m=e[c],y=gu(s.yearordinal+p),h=vu(y,m);ie(o,h)||o.push(h)}return ji(o),o}function wu(i,e){const{dtstart:t,freq:n,interval:s,until:r,bysetpos:o}=e;let a=e.count;if(a===0||s===0)return Mt(i);const l=k0.fromDate(t),c=new _0(e);c.rebuild(l.year,l.month);let d=eb(c,l,e);for(;;){const[u,p,m]=c.getdayset(n)(l.year,l.month,l.day),y=q0(u,p,m,c,e);if(Te(o)){const h=Q0(o,d,p,m,c,u);for(let f=0;f<h.length;f++){const g=h[f];if(r&&g>r)return Mt(i);if(g>=t){const v=yl(g,e);if(!i.accept(v)||a&&(--a,!a))return Mt(i)}}}else for(let h=p;h<m;h++){const f=u[h];if(!ye(f))continue;const g=gu(c.yearordinal+f);for(let v=0;v<d.length;v++){const Z=d[v],G=vu(g,Z);if(r&&G>r)return Mt(i);if(G>=t){const T=yl(G,e);if(!i.accept(T)||a&&(--a,!a))return Mt(i)}}}if(e.interval===0||(l.add(e,y),l.year>fu))return Mt(i);$o(n)||(d=c.gettimeset(n)(l.hour,l.minute,l.second,0)),c.rebuild(l.year,l.month)}}function $0(i,e,t){const{bymonth:n,byweekno:s,byweekday:r,byeaster:o,bymonthday:a,bynmonthday:l,byyearday:c}=t;return Te(n)&&!ie(n,i.mmask[e])||Te(s)&&!i.wnomask[e]||Te(r)&&!ie(r,i.wdaymask[e])||Te(i.nwdaymask)&&!i.nwdaymask[e]||o!==null&&!ie(i.eastermask,e)||(Te(a)||Te(l))&&!ie(a,i.mdaymask[e])&&!ie(l,i.nmdaymask[e])||Te(c)&&(e<i.yearlen&&!ie(c,e+1)&&!ie(c,-i.yearlen+e)||e>=i.yearlen&&!ie(c,e+1-i.yearlen)&&!ie(c,-i.nextyearlen+e-i.yearlen))}function yl(i,e){return new tr(i,e.tzid).rezonedDate()}function Mt(i){return i.getValue()}function q0(i,e,t,n,s){let r=!1;for(let o=e;o<t;o++){const a=i[o];r=$0(n,a,s),r&&(i[a]=null)}return r}function eb(i,e,t){const{freq:n,byhour:s,byminute:r,bysecond:o}=t;return $o(n)?x0(t):n>=W.HOURLY&&Te(s)&&!ie(s,e.hour)||n>=W.MINUTELY&&Te(r)&&!ie(r,e.minute)||n>=W.SECONDLY&&Te(o)&&!ie(o,e.second)?[]:i.gettimeset(n)(e.hour,e.minute,e.second,e.millisecond)}const xt={MO:new Ze(0),TU:new Ze(1),WE:new Ze(2),TH:new Ze(3),FR:new Ze(4),SA:new Ze(5),SU:new Ze(6)},ea={freq:_.YEARLY,dtstart:null,interval:1,wkst:xt.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},tb=Object.keys(ea);let W=class Ms{constructor(e={},t=!1){this._cache=t?null:new L0,this.origOptions=Su(e);const{parsedOptions:n}=W0(e);this.options=n}static parseText(e,t){return Zu(e,t)}static fromText(e,t){return w0(e,t)}static fromString(e){return new Ms(Ms.parseString(e)||void 0)}_iter(e){return wu(e,this.options)}_cacheGet(e,t){return this._cache?this._cache._cacheGet(e,t):!1}_cacheAdd(e,t,n){if(this._cache)return this._cache._cacheAdd(e,t,n)}all(e){if(e)return this._iter(new hl("all",{},e));let t=this._cacheGet("all");return t===!1&&(t=this._iter(new ln("all",{})),this._cacheAdd("all",t)),t}between(e,t,n=!1,s){if(!Ni(e)||!Ni(t))throw new Error("Invalid date passed in to RRule.between");const r={before:t,after:e,inc:n};if(s)return this._iter(new hl("between",r,s));let o=this._cacheGet("between",r);return o===!1&&(o=this._iter(new ln("between",r)),this._cacheAdd("between",o,r)),o}before(e,t=!1){if(!Ni(e))throw new Error("Invalid date passed in to RRule.before");const n={dt:e,inc:t};let s=this._cacheGet("before",n);return s===!1&&(s=this._iter(new ln("before",n)),this._cacheAdd("before",s,n)),s}after(e,t=!1){if(!Ni(e))throw new Error("Invalid date passed in to RRule.after");const n={dt:e,inc:t};let s=this._cacheGet("after",n);return s===!1&&(s=this._iter(new ln("after",n)),this._cacheAdd("after",s,n)),s}count(){return this.all().length}toString(){return qo(this.origOptions)}toText(e,t,n){return G0(this,e,t,n)}isFullyConvertibleToText(){return T0(this)}clone(){return new Ms(this.origOptions)}};W.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"];W.YEARLY=_.YEARLY;W.MONTHLY=_.MONTHLY;W.WEEKLY=_.WEEKLY;W.DAILY=_.DAILY;W.HOURLY=_.HOURLY;W.MINUTELY=_.MINUTELY;W.SECONDLY=_.SECONDLY;W.MO=xt.MO;W.TU=xt.TU;W.WE=xt.WE;W.TH=xt.TH;W.FR=xt.FR;W.SA=xt.SA;W.SU=xt.SU;W.parseString=fo;W.optionsToString=qo;function nb(i,e,t,n,s,r){const o={},a=i.accept;function l(d,u){t.forEach(function(p){p.between(d,u,!0).forEach(function(m){o[Number(m)]=!0})})}s.forEach(function(d){const u=new tr(d,r).rezonedDate();o[Number(u)]=!0}),i.accept=function(d){const u=Number(d);return isNaN(u)?a.call(this,d):!o[u]&&(l(new Date(u-1),new Date(u+1)),!o[u])?(o[u]=!0,a.call(this,d)):!0},i.method==="between"&&(l(i.args.after,i.args.before),i.accept=function(d){const u=Number(d);return o[u]?!0:(o[u]=!0,a.call(this,d))});for(let d=0;d<n.length;d++){const u=new tr(n[d],r).rezonedDate();if(!i.accept(new Date(u.getTime())))break}e.forEach(function(d){wu(i,d.options)});const c=i._result;switch(ji(c),i.method){case"all":case"between":return c;case"before":return c.length&&c[c.length-1]||null;case"after":default:return c.length&&c[0]||null}}const gl={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function ib(i,e){const t=[];let n=[];const s=[];let r=[];const o=er(i),{dtstart:a}=o;let{tzid:l}=o;return lb(i,e.unfold).forEach(d=>{var u;if(!d)return;const{name:p,parms:m,value:y}=ab(d);switch(p.toUpperCase()){case"RRULE":if(m.length)throw new Error(`unsupported RRULE parm: ${m.join(",")}`);t.push(fo(d));break;case"RDATE":const[,h]=(u=/RDATE(?:;TZID=([^:=]+))?/i.exec(d))!==null&&u!==void 0?u:[];h&&!l&&(l=h),n=n.concat(vl(y,m));break;case"EXRULE":if(m.length)throw new Error(`unsupported EXRULE parm: ${m.join(",")}`);s.push(fo(y));break;case"EXDATE":r=r.concat(vl(y,m));break;case"DTSTART":break;default:throw new Error("unsupported property: "+p)}}),{dtstart:a,tzid:l,rrulevals:t,rdatevals:n,exrulevals:s,exdatevals:r}}function sb(i,e){const{rrulevals:t,rdatevals:n,exrulevals:s,exdatevals:r,dtstart:o,tzid:a}=ib(i,e),l=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||t.length>1||n.length||s.length||r.length){const d=new yr(l);return d.dtstart(o),d.tzid(a||void 0),t.forEach(u=>{d.rrule(new W(Or(u,o,a),l))}),n.forEach(u=>{d.rdate(u)}),s.forEach(u=>{d.exrule(new W(Or(u,o,a),l))}),r.forEach(u=>{d.exdate(u)}),e.compatible&&e.dtstart&&d.rdate(o),d}const c=t[0]||{};return new W(Or(c,c.dtstart||e.dtstart||o,c.tzid||e.tzid||a),l)}function bo(i,e={}){return sb(i,rb(e))}function Or(i,e,t){return Object.assign(Object.assign({},i),{dtstart:e,tzid:t})}function rb(i){const e=[],t=Object.keys(i),n=Object.keys(gl);if(t.forEach(function(s){ie(n,s)||e.push(s)}),e.length)throw new Error("Invalid options: "+e.join(", "));return Object.assign(Object.assign({},gl),i)}function ob(i){if(i.indexOf(":")===-1)return{name:"RRULE",value:i};const[e,t]=m0(i,":",1);return{name:e,value:t}}function ab(i){const{name:e,value:t}=ob(i),n=e.split(";");if(!n)throw new Error("empty property name");return{name:n[0].toUpperCase(),parms:n.slice(1),value:t}}function lb(i,e=!1){if(i=i&&i.trim(),!i)throw new Error("Invalid empty string");if(!e)return i.split(/\s/);const t=i.split(`
`);let n=0;for(;n<t.length;){const s=t[n]=t[n].replace(/\s+$/g,"");s?n>0&&s[0]===" "?(t[n-1]+=s.slice(1),t.splice(n,1)):n+=1:t.splice(n,1)}return t}function cb(i){i.forEach(e=>{if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function vl(i,e){return cb(e),i.split(",").map(t=>Qo(t))}function Zl(i){return e=>{if(e!==void 0&&(this[`_${i}`]=e),this[`_${i}`]!==void 0)return this[`_${i}`];for(let t=0;t<this._rrule.length;t++){const n=this._rrule[t].origOptions[i];if(n)return n}}}class yr extends W{constructor(e=!1){super({},e),this.dtstart=Zl.apply(this,["dtstart"]),this.tzid=Zl.apply(this,["tzid"]),this._rrule=[],this._rdate=[],this._exrule=[],this._exdate=[]}_iter(e){return nb(e,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())}rrule(e){Sl(e,this._rrule)}exrule(e){Sl(e,this._exrule)}rdate(e){wl(e,this._rdate)}exdate(e){wl(e,this._exdate)}rrules(){return this._rrule.map(e=>bo(e.toString()))}exrules(){return this._exrule.map(e=>bo(e.toString()))}rdates(){return this._rdate.map(e=>new Date(e.getTime()))}exdates(){return this._exdate.map(e=>new Date(e.getTime()))}valueOf(){let e=[];return!this._rrule.length&&this._dtstart&&(e=e.concat(qo({dtstart:this._dtstart}))),this._rrule.forEach(function(t){e=e.concat(t.toString().split(`
`))}),this._exrule.forEach(function(t){e=e.concat(t.toString().split(`
`).map(n=>n.replace(/^RRULE:/,"EXRULE:")).filter(n=>!/^DTSTART/.test(n)))}),this._rdate.length&&e.push(Gl("RDATE",this._rdate,this.tzid())),this._exdate.length&&e.push(Gl("EXDATE",this._exdate,this.tzid())),e}toString(){return this.valueOf().join(`
`)}clone(){const e=new yr(!!this._cache);return this._rrule.forEach(t=>e.rrule(t.clone())),this._exrule.forEach(t=>e.exrule(t.clone())),this._rdate.forEach(t=>e.rdate(new Date(t.getTime()))),this._exdate.forEach(t=>e.exdate(new Date(t.getTime()))),e}}function Sl(i,e){if(!(i instanceof W))throw new TypeError(String(i)+" is not RRule instance");ie(e.map(String),String(i))||e.push(i)}function wl(i,e){if(!(i instanceof Date))throw new TypeError(String(i)+" is not Date instance");ie(e.map(Number),Number(i))||(e.push(i),ji(e))}function Gl(i,e,t){const n=!t||t.toUpperCase()==="UTC",s=n?`${i}:`:`${i};TZID=${t}:`,r=e.map(o=>_o(o.valueOf(),n)).join(",");return`${s}${r}`}const ub=Object.freeze(Object.defineProperty({__proto__:null,ALL_WEEKDAYS:Qs,get Frequency(){return _},RRule:W,RRuleSet:yr,Weekday:Ze,datetime:bn,rrulestr:bo},Symbol.toStringTag,{value:"Module"})),{RRule:Gu}=ub;function Tu(i){var n,s;const e=i.until?((n=X.fromJSDate(i.until))==null?void 0:n.toISO())??void 0:void 0,t=i.dtstart?((s=X.fromJSDate(i.dtstart))==null?void 0:s.toISO())??void 0:void 0;return{...i,until:e,dtstart:t}}const Tl=(i,e,t,n,s)=>{const r=n[Jf];if(!r)return;const o=r.trim(),a=n[0].indexOf(o),l=t[e]+a,c=t[e]+a+o.length,d={type:P.Recurrence,from:l,to:c,content:r};try{const u=Gu.parseText(r);return{recurrence:Tu(u),range:d}}catch{s.parseMessages.push({type:"error",message:"Cannot parse recurrence",pos:[l,c]});return}},kl=(i,e,t,n,s)=>{const r=n[hf];if(!r)return;const o=r.trim(),a=n[0].indexOf(o),l=t[e]+a,c=t[e]+a+o.length,d={type:P.Recurrence,from:l,to:c,content:r};try{const u=Gu.parseText(r);return{recurrence:Tu(u),range:d}}catch{s.parseMessages.push({type:"error",message:"Cannot parse recurrence",pos:[l,c]});return}};function db(i,e,t,n){var ys,Ri,Vi;const s=i.match(Jo);if(!s)return;const r=s[Qm],o=i.indexOf(r),a={type:P.DateRange,from:t[e]+o,to:t[e]+o+r.length};n.ranges.push(a);const l=i.indexOf(":",o+r.length),c=B=>({type:B,from:t[e]+l,to:t[e]+l+1}),d=(ys=n.cache)==null?void 0:ys.zone(n.timezone).ranges.get(r);if(d){const B=kl(i,e,t,s,n);B&&n.ranges.push(B.range);const C=c(P.DateRangeColon);return n.ranges.push(C),new fi({from:X.fromISO(d.fromDateTimeIso,{setZone:!0}),to:X.fromISO(d.toDateTimeIso,{setZone:!0}),originalString:r,dateRangeInText:a,eventText:s[_a],recurrence:B,definition:{...a,type:P.EventDefinition,to:C.to},isRelative:!1})}const u=s[$m],p=s[Cp],m=s[mp],y=s[pp],h=["before","by"].includes(y||"")?"before":"after",f=s[Bp],g=il(s,n,vp,Sp,wp,Zp,bp,yp,gp,Vp,Ip,Rp,s[Gp]?c0(s):void 0),v=il(s,n,$p,ef,tf,qp,jp,_p,Qp,df,cf,uf,s[nf]?u0(s):void 0),Z=s[op],G=s[Dp],T=s[ep],I=s[Yp],K=s[qm],x=s[Lp];let Y,M,U="instant",J=!0,dt=!1;if(m){J=!1,dt=!0;const B=(Ri=s[fp])==null?void 0:Ri.substring(1);let C;if(B){const N=n.getById(B);if(N&&bi(N)){const re=qe(N.dateRangeIso);h==="after"?C=re.toDateTime:C=re.fromDateTime}else n.parseMessages.push({type:"error",message:`Event ${B} not found`,pos:[t[e]+i.indexOf(B),t[e]+i.indexOf(B)+B.length]})}if(!C){const N=n.priorEvent();N?C=h==="after"?qe(N.dateRangeIso).toDateTime:qe(N.dateRangeIso).fromDateTime:C=n.zonedNow}!f&&!p?h==="before"?(M=C,Y=$e.from(m,C,!0)):(Y=C,M=$e.from(m,C)):h==="before"?f&&(M=$e.from(m,C,!0),Y=$e.from(f,M,!0)):Y=$e.from(m,C),U="instant"}else if(g)Y=X.fromISO(g.dateTimeIso,{setZone:!0,zone:n.timezone}),U=g.granularity;else if(Z){const B=s[ap];let C=Z;B&&(C=C.substring(0,C.indexOf(B)).trim().replace(/,/g,""));const N=ol(C,n.header.dateFormat,n);if(N)if(B){const re=a0(s),ht=X.fromISO(re.dateTimeIso);Y=X.fromISO(N.dateTimeIso,{setZone:!0,zone:n.timezone}).set({hour:ht.hour,minute:ht.minute}),U=re.granularity}else Y=X.fromISO(N.dateTimeIso,{setZone:!0,zone:n.timezone}),U=N.granularity;else n.parseMessages.push({type:"error",message:"Was supposed to have a slash date but couldn't parse it",pos:[a.from,a.to]})}else if(T){J=!1,dt=!0;const B=fn(s,tp,np,ip,sp,rp),C=n.priorEventToDateTime()||n.zonedNow,N=X.fromISO(B.dateTimeIso,{setZone:!0,zone:n.timezone});let re=C.set({hour:N.hour,minute:N.minute});re<C?(re=re.plus({days:1}),Y=re,U=B.granularity):(Y=re,U=B.granularity)}else K?(Y=n.zonedNow,U="instant"):(Y=X.fromISO(u,{zone:n.timezone,setZone:!0}),U="instant");if((!Y||!Y.isValid)&&(Y=n.zonedNow,U="instant"),!M)if(f){J=!1,dt=!0;const B=s[Ap];let C;if(B){const N=n.getById(B);N&&bi(N)&&(C=qe(N.dateRangeIso).toDateTime)}C||(C=Y),M=$e.from(p,C)}else if(v)M=X.fromISO(rn(v,n),{setZone:!0,zone:n.timezone});else if(G){const B=s[Op];let C=G;B&&(C=C.substring(0,C.indexOf(B)).trim().replace(/,/g,""));const N=ol(C,n.header.dateFormat,n);if(N)if(B){const re=X.fromISO(N.dateTimeIso,{setZone:!0,zone:n.timezone}),ht=l0(s),va=X.fromISO(ht.dateTimeIso,{setZone:!0,zone:n.timezone});M=re.set({hour:va.hour,minute:va.minute}),M=X.fromISO(rn({dateTimeIso:M.toISO(),granularity:ht.granularity},n),{setZone:!0,zone:n.timezone})}else M=X.fromISO(rn(N,n),{setZone:!0,zone:n.timezone});else n.parseMessages.push({type:"error",message:"Was supposed to have a slash date but couldn't parse it",pos:[a.from,a.to]})}else if(I){const B=fn(s,Ep,Mp,zp,Np,Hp),C=X.fromISO(B.dateTimeIso,{setZone:!0,zone:n.timezone});let N=Y.set({hour:C.hour,minute:C.minute});N<Y&&(N=N.plus({days:1})),M=N,U=B.granularity}else x?(M=n.zonedNow,U="instant"):M=X.fromISO(rn({dateTimeIso:p,granularity:"instant"},n),{setZone:!0,zone:n.timezone});(!M||!M.isValid)&&(M=X.fromISO(rn({dateTimeIso:Y.toISO(),granularity:U},n),{setZone:!0,zone:n.timezone}));const yn=kl(i,e,t,s,n);yn&&n.ranges.push(yn.range);const Dn=c(P.DateRangeColon);n.ranges.push(Dn);const bs=new fi({from:Y,to:M,originalString:r,dateRangeInText:a,eventText:s[_a],recurrence:yn,isRelative:dt,definition:{...a,type:P.EventDefinition,to:Dn.to}});return J&&((Vi=n.cache)==null||Vi.zone(n.timezone).ranges.set(r,{fromDateTimeIso:Y.toISO(),toDateTimeIso:M.toISO()})),bs}function hb(i,e,t,n){var Ri,Vi,B;const s=i.match(Bo);if(!s)return;const r=s[gf],o=s[vf],a=!!s[Zf],l=!!s[Sf],c=!!s[wf],d=s[Cf],u=s[Lf],p=!!s[Yf],m=!!s[Ef],y=!!s[Mf],h=s[If];s[Kf];const f=s[Xf],g=["before","by"].includes(h||"")?"before":"after",v=s[Ff],Z=s[Vf],G=s[Uf],T=i.indexOf(r),I={type:P.DateRange,from:t[e]+T,to:t[e]+T+r.length};n.ranges.push(I);const K=i.indexOf(":",T+r.length),x=C=>({type:C,from:t[e]+K,to:t[e]+K+1}),Y=(Ri=n.cache)==null?void 0:Ri.zone(n.timezone).ranges.get(r);if(Y){const C=Tl(i,e,t,s,n);return C&&n.ranges.push(C.range),n.ranges.push(x(P.DateRangeColon)),new fi({from:X.fromISO(Y.fromDateTimeIso,{setZone:!0}),to:X.fromISO(Y.toDateTimeIso,{setZone:!0}),originalString:r,dateRangeInText:I,eventText:s[Qa],recurrence:C,isRelative:!1,definition:{...I,type:P.EventDefinition,to:t[e]+K+1}})}let M,U,J="instant",dt=!0,yn=!1;if(o)if(c){const C=fn(s,Gf,Tf,kf,Wf,xf),N=X.fromISO(C.dateTimeIso);M=X.fromISO(o.substring(0,10),{zone:n.timezone}).set({hour:N.hour,minute:N.minute}),J=C.granularity}else M=X.fromISO(o,{zone:n.timezone}),J=l?"day":a?"month":"year";else if(f){dt=!1,yn=!0;const C=(Vi=s[Rf])==null?void 0:Vi.substring(1);let N;if(C){const re=n.getById(C);if(re&&bi(re)){const ht=qe(re.dateRangeIso);g==="after"?N=ht.toDateTime:N=ht.fromDateTime}else n.parseMessages.push({type:"error",message:`Event ${C} not found`,pos:[t[e]+i.indexOf(C),t[e]+i.indexOf(C)+C.length]})}if(!N){const re=n.priorEvent();re?N=g==="after"?qe(re.dateRangeIso).toDateTime:qe(re.dateRangeIso).fromDateTime:N=n.zonedNow}!v&&!d?g==="before"?(U=N,M=$e.from(f,N,!0)):(M=N,U=$e.from(f,N)):g==="before"?v&&(U=$e.from(f,N,!0),M=$e.from(v,U,!0)):M=$e.from(f,N),J="instant"}else Z?(M=n.zonedNow,J="instant"):(M=X.fromISO(o,{zone:n.timezone}),J="instant");if((!M||!(M!=null&&M.isValid))&&(M=n.zonedNow,J="instant"),!U){if(v){const C=s[Pf];let N;if(C){const re=n.getById(C);if(re&&bi(re))N=qe(re.dateRangeIso).toDateTime,dt=!1,yn=!0;else{const ht=i.indexOf(C);n.parseMessages.push({type:"error",message:`Event ${C} not found`,pos:[t[e]+ht,t[e]+ht+C.length]})}}N||(N=M),U=$e.from(v,N)}else if(G)U=n.zonedNow,J="instant";else if(u)if(y){const C=fn(s,zf,Nf,Hf,Df,Of),N=X.fromISO(C.dateTimeIso);U=X.fromISO(o.substring(0,10),{zone:n.timezone}).set({hour:N.hour,minute:N.minute})}else U=X.fromISO(rn({dateTimeIso:u,granularity:m?"day":p?"month":"year"},n),{setZone:!0,zone:n.timezone})}(!U||!U.isValid)&&(U=X.fromISO(rn({dateTimeIso:M.toISO(),granularity:J},n),{setZone:!0,zone:n.timezone}));const Dn=Tl(i,e,t,s,n),bs=x(P.DateRangeColon);Dn&&n.ranges.push(Dn.range),n.ranges.push(bs);const ys=new fi({from:M,to:U,originalString:r,dateRangeInText:I,eventText:s[Qa],recurrence:Dn,isRelative:yn,definition:{...I,type:P.EventDefinition,to:bs.to}});return dt&&((B=n.cache)==null||B.zone(n.timezone).ranges.set(r,{fromDateTimeIso:M.toISO(),toDateTimeIso:U.toISO()})),ys}function mb(i,e,t,n){var G,T;const s=i.match(Ao);if(!s)return;const r=s[Bf],o=s[Af],a=s[jf]||s[$a],l=s[_f],c=s[$a],d=i.indexOf(r),u={type:P.DateRange,from:t[e]+d,to:t[e]+d+r.length};n.ranges.push(u);const p=i.indexOf(":",d+r.length),m=I=>({type:I,from:t[e]+p,to:t[e]+p+1}),y=(G=n.cache)==null?void 0:G.zone(n.timezone).ranges.get(r);if(y){const I=m(P.DateRangeColon);return n.ranges.push(I),new fi({from:X.fromISO(y.fromDateTimeIso,{setZone:!0}),to:X.fromISO(y.toDateTimeIso,{setZone:!0}),originalString:r,dateRangeInText:u,eventText:s[qa],definition:{...u,type:P.EventDefinition,to:I.to},isRelative:!1})}let h,f,g="year";if(o)h=al(o,a,n);else return;(!h||!(h!=null&&h.isValid))&&(h=n.zonedNow,g="instant"),f||l&&(f=al(l,c,n)),(!f||!f.isValid)&&(f=X.fromISO(rn({dateTimeIso:h.toISO(),granularity:g},n),{setZone:!0,zone:n.timezone}));const v=m(P.DateRangeColon);n.ranges.push(v);const Z=new fi({from:h,to:f,originalString:r,dateRangeInText:u,eventText:s[qa],definition:{...u,type:P.EventDefinition,to:v.to},isRelative:!1});return(T=n.cache)==null||T.zone(n.timezone).ranges.set(r,{fromDateTimeIso:h.toISO(),toDateTimeIso:f.toISO()}),Z}const Un=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,ku=new Set,yo=typeof process=="object"&&process?process:{},Wu=(i,e,t,n)=>{typeof yo.emitWarning=="function"?yo.emitWarning(i,e,t,n):console.error(`[${t}] ${e}: ${i}`)};let nr=globalThis.AbortController,Wl=globalThis.AbortSignal;var nc;if(typeof nr>"u"){Wl=class{constructor(){S(this,"onabort");S(this,"_onabort",[]);S(this,"reason");S(this,"aborted",!1)}addEventListener(n,s){this._onabort.push(s)}},nr=class{constructor(){S(this,"signal",new Wl);e()}abort(n){var s,r;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const o of this.signal._onabort)o(n);(r=(s=this.signal).onabort)==null||r.call(s,n)}}};let i=((nc=yo.env)==null?void 0:nc.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{i&&(i=!1,Wu("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const pb=i=>!ku.has(i),_t=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),xu=i=>_t(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?zs:null:null;class zs extends Array{constructor(e){super(e),this.fill(0)}}var si;const wn=class wn{constructor(e,t){S(this,"heap");S(this,"length");if(!b(wn,si))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}static create(e){const t=xu(e);if(!t)return[];z(wn,si,!0);const n=new wn(e,t);return z(wn,si,!1),n}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};si=new WeakMap,H(wn,si,!1);let go=wn;var bt,Ae,yt,xn,gt,ri,oi,ve,vt,be,ae,O,He,je,Ie,Se,Zt,we,St,wt,_e,Gt,an,De,ai,ts,Zo,Xn,Ht,ns,Qe,ur,Xu,In,li,is,Rt,Qt,Vt,$t,ss,So,Eg,ci,Ns,ui,Hs,ne,oe,rs,wo,Rn,Hi,Ct,qt,os,Go;const ga=class ga{constructor(e){H(this,ts);H(this,ur);H(this,Rt);H(this,Vt);H(this,ss);H(this,ci);H(this,ui);H(this,ne);H(this,rs);H(this,Rn);H(this,Ct);H(this,os);H(this,bt,void 0);H(this,Ae,void 0);H(this,yt,void 0);H(this,xn,void 0);H(this,gt,void 0);H(this,ri,void 0);H(this,oi,void 0);S(this,"ttl");S(this,"ttlResolution");S(this,"ttlAutopurge");S(this,"updateAgeOnGet");S(this,"updateAgeOnHas");S(this,"allowStale");S(this,"noDisposeOnSet");S(this,"noUpdateTTL");S(this,"maxEntrySize");S(this,"sizeCalculation");S(this,"noDeleteOnFetchRejection");S(this,"noDeleteOnStaleGet");S(this,"allowStaleOnFetchAbort");S(this,"allowStaleOnFetchRejection");S(this,"ignoreFetchAbort");H(this,ve,void 0);H(this,vt,void 0);H(this,be,void 0);H(this,ae,void 0);H(this,O,void 0);H(this,He,void 0);H(this,je,void 0);H(this,Ie,void 0);H(this,Se,void 0);H(this,Zt,void 0);H(this,we,void 0);H(this,St,void 0);H(this,wt,void 0);H(this,_e,void 0);H(this,Gt,void 0);H(this,an,void 0);H(this,De,void 0);H(this,ai,void 0);H(this,Xn,()=>{});H(this,Ht,()=>{});H(this,ns,()=>{});H(this,Qe,()=>!1);H(this,In,e=>{});H(this,li,(e,t,n)=>{});H(this,is,(e,t,n,s)=>{if(n||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});S(this,Eg,"LRUCache");const{max:t=0,ttl:n,ttlResolution:s=1,ttlAutopurge:r,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,onInsert:d,disposeAfter:u,noDisposeOnSet:p,noUpdateTTL:m,maxSize:y=0,maxEntrySize:h=0,sizeCalculation:f,fetchMethod:g,memoMethod:v,noDeleteOnFetchRejection:Z,noDeleteOnStaleGet:G,allowStaleOnFetchRejection:T,allowStaleOnFetchAbort:I,ignoreFetchAbort:K}=e;if(t!==0&&!_t(t))throw new TypeError("max option must be a nonnegative integer");const x=t?xu(t):Array;if(!x)throw new Error("invalid max value: "+t);if(z(this,bt,t),z(this,Ae,y),this.maxEntrySize=h||b(this,Ae),this.sizeCalculation=f,this.sizeCalculation){if(!b(this,Ae)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(v!==void 0&&typeof v!="function")throw new TypeError("memoMethod must be a function if defined");if(z(this,oi,v),g!==void 0&&typeof g!="function")throw new TypeError("fetchMethod must be a function if specified");if(z(this,ri,g),z(this,an,!!g),z(this,be,new Map),z(this,ae,new Array(t).fill(void 0)),z(this,O,new Array(t).fill(void 0)),z(this,He,new x(t)),z(this,je,new x(t)),z(this,Ie,0),z(this,Se,0),z(this,Zt,go.create(t)),z(this,ve,0),z(this,vt,0),typeof c=="function"&&z(this,yt,c),typeof d=="function"&&z(this,xn,d),typeof u=="function"?(z(this,gt,u),z(this,we,[])):(z(this,gt,void 0),z(this,we,void 0)),z(this,Gt,!!b(this,yt)),z(this,ai,!!b(this,xn)),z(this,De,!!b(this,gt)),this.noDisposeOnSet=!!p,this.noUpdateTTL=!!m,this.noDeleteOnFetchRejection=!!Z,this.allowStaleOnFetchRejection=!!T,this.allowStaleOnFetchAbort=!!I,this.ignoreFetchAbort=!!K,this.maxEntrySize!==0){if(b(this,Ae)!==0&&!_t(b(this,Ae)))throw new TypeError("maxSize must be a positive integer if specified");if(!_t(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");V(this,ur,Xu).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!G,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=_t(s)||s===0?s:1,this.ttlAutopurge=!!r,this.ttl=n||0,this.ttl){if(!_t(this.ttl))throw new TypeError("ttl must be a positive integer if specified");V(this,ts,Zo).call(this)}if(b(this,bt)===0&&this.ttl===0&&b(this,Ae)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!b(this,bt)&&!b(this,Ae)){const Y="LRU_CACHE_UNBOUNDED";pb(Y)&&(ku.add(Y),Wu("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Y,ga))}}static unsafeExposeInternals(e){return{starts:b(e,wt),ttls:b(e,_e),sizes:b(e,St),keyMap:b(e,be),keyList:b(e,ae),valList:b(e,O),next:b(e,He),prev:b(e,je),get head(){return b(e,Ie)},get tail(){return b(e,Se)},free:b(e,Zt),isBackgroundFetch:t=>{var n;return V(n=e,ne,oe).call(n,t)},backgroundFetch:(t,n,s,r)=>{var o;return V(o=e,ui,Hs).call(o,t,n,s,r)},moveToTail:t=>{var n;return V(n=e,Rn,Hi).call(n,t)},indexes:t=>{var n;return V(n=e,Rt,Qt).call(n,t)},rindexes:t=>{var n;return V(n=e,Vt,$t).call(n,t)},isStale:t=>{var n;return b(n=e,Qe).call(n,t)}}}get max(){return b(this,bt)}get maxSize(){return b(this,Ae)}get calculatedSize(){return b(this,vt)}get size(){return b(this,ve)}get fetchMethod(){return b(this,ri)}get memoMethod(){return b(this,oi)}get dispose(){return b(this,yt)}get onInsert(){return b(this,xn)}get disposeAfter(){return b(this,gt)}getRemainingTTL(e){return b(this,be).has(e)?1/0:0}*entries(){for(const e of V(this,Rt,Qt).call(this))b(this,O)[e]!==void 0&&b(this,ae)[e]!==void 0&&!V(this,ne,oe).call(this,b(this,O)[e])&&(yield[b(this,ae)[e],b(this,O)[e]])}*rentries(){for(const e of V(this,Vt,$t).call(this))b(this,O)[e]!==void 0&&b(this,ae)[e]!==void 0&&!V(this,ne,oe).call(this,b(this,O)[e])&&(yield[b(this,ae)[e],b(this,O)[e]])}*keys(){for(const e of V(this,Rt,Qt).call(this)){const t=b(this,ae)[e];t!==void 0&&!V(this,ne,oe).call(this,b(this,O)[e])&&(yield t)}}*rkeys(){for(const e of V(this,Vt,$t).call(this)){const t=b(this,ae)[e];t!==void 0&&!V(this,ne,oe).call(this,b(this,O)[e])&&(yield t)}}*values(){for(const e of V(this,Rt,Qt).call(this))b(this,O)[e]!==void 0&&!V(this,ne,oe).call(this,b(this,O)[e])&&(yield b(this,O)[e])}*rvalues(){for(const e of V(this,Vt,$t).call(this))b(this,O)[e]!==void 0&&!V(this,ne,oe).call(this,b(this,O)[e])&&(yield b(this,O)[e])}[Symbol.iterator](){return this.entries()}find(e,t={}){for(const n of V(this,Rt,Qt).call(this)){const s=b(this,O)[n],r=V(this,ne,oe).call(this,s)?s.__staleWhileFetching:s;if(r!==void 0&&e(r,b(this,ae)[n],this))return this.get(b(this,ae)[n],t)}}forEach(e,t=this){for(const n of V(this,Rt,Qt).call(this)){const s=b(this,O)[n],r=V(this,ne,oe).call(this,s)?s.__staleWhileFetching:s;r!==void 0&&e.call(t,r,b(this,ae)[n],this)}}rforEach(e,t=this){for(const n of V(this,Vt,$t).call(this)){const s=b(this,O)[n],r=V(this,ne,oe).call(this,s)?s.__staleWhileFetching:s;r!==void 0&&e.call(t,r,b(this,ae)[n],this)}}purgeStale(){let e=!1;for(const t of V(this,Vt,$t).call(this,{allowStale:!0}))b(this,Qe).call(this,t)&&(V(this,Ct,qt).call(this,b(this,ae)[t],"expire"),e=!0);return e}info(e){const t=b(this,be).get(e);if(t===void 0)return;const n=b(this,O)[t],s=V(this,ne,oe).call(this,n)?n.__staleWhileFetching:n;if(s===void 0)return;const r={value:s};if(b(this,_e)&&b(this,wt)){const o=b(this,_e)[t],a=b(this,wt)[t];if(o&&a){const l=o-(Un.now()-a);r.ttl=l,r.start=Date.now()}}return b(this,St)&&(r.size=b(this,St)[t]),r}dump(){const e=[];for(const t of V(this,Rt,Qt).call(this,{allowStale:!0})){const n=b(this,ae)[t],s=b(this,O)[t],r=V(this,ne,oe).call(this,s)?s.__staleWhileFetching:s;if(r===void 0||n===void 0)continue;const o={value:r};if(b(this,_e)&&b(this,wt)){o.ttl=b(this,_e)[t];const a=Un.now()-b(this,wt)[t];o.start=Math.floor(Date.now()-a)}b(this,St)&&(o.size=b(this,St)[t]),e.unshift([n,o])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const s=Date.now()-n.start;n.start=Un.now()-s}this.set(t,n.value,n)}}set(e,t,n={}){var p,m,y,h,f,g,v;if(t===void 0)return this.delete(e),this;const{ttl:s=this.ttl,start:r,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const d=b(this,is).call(this,e,t,n.size||0,a);if(this.maxEntrySize&&d>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),V(this,Ct,qt).call(this,e,"set"),this;let u=b(this,ve)===0?void 0:b(this,be).get(e);if(u===void 0)u=b(this,ve)===0?b(this,Se):b(this,Zt).length!==0?b(this,Zt).pop():b(this,ve)===b(this,bt)?V(this,ci,Ns).call(this,!1):b(this,ve),b(this,ae)[u]=e,b(this,O)[u]=t,b(this,be).set(e,u),b(this,He)[b(this,Se)]=u,b(this,je)[u]=b(this,Se),z(this,Se,u),gs(this,ve)._++,b(this,li).call(this,u,d,l),l&&(l.set="add"),c=!1,b(this,ai)&&((p=b(this,xn))==null||p.call(this,t,e,"add"));else{V(this,Rn,Hi).call(this,u);const Z=b(this,O)[u];if(t!==Z){if(b(this,an)&&V(this,ne,oe).call(this,Z)){Z.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:G}=Z;G!==void 0&&!o&&(b(this,Gt)&&((m=b(this,yt))==null||m.call(this,G,e,"set")),b(this,De)&&((y=b(this,we))==null||y.push([G,e,"set"])))}else o||(b(this,Gt)&&((h=b(this,yt))==null||h.call(this,Z,e,"set")),b(this,De)&&((f=b(this,we))==null||f.push([Z,e,"set"])));if(b(this,In).call(this,u),b(this,li).call(this,u,d,l),b(this,O)[u]=t,l){l.set="replace";const G=Z&&V(this,ne,oe).call(this,Z)?Z.__staleWhileFetching:Z;G!==void 0&&(l.oldValue=G)}}else l&&(l.set="update");b(this,ai)&&((g=this.onInsert)==null||g.call(this,t,e,t===Z?"update":"replace"))}if(s!==0&&!b(this,_e)&&V(this,ts,Zo).call(this),b(this,_e)&&(c||b(this,ns).call(this,u,s,r),l&&b(this,Ht).call(this,l,u)),!o&&b(this,De)&&b(this,we)){const Z=b(this,we);let G;for(;G=Z==null?void 0:Z.shift();)(v=b(this,gt))==null||v.call(this,...G)}return this}pop(){var e;try{for(;b(this,ve);){const t=b(this,O)[b(this,Ie)];if(V(this,ci,Ns).call(this,!0),V(this,ne,oe).call(this,t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(b(this,De)&&b(this,we)){const t=b(this,we);let n;for(;n=t==null?void 0:t.shift();)(e=b(this,gt))==null||e.call(this,...n)}}}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:s}=t,r=b(this,be).get(e);if(r!==void 0){const o=b(this,O)[r];if(V(this,ne,oe).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(b(this,Qe).call(this,r))s&&(s.has="stale",b(this,Ht).call(this,s,r));else return n&&b(this,Xn).call(this,r),s&&(s.has="hit",b(this,Ht).call(this,s,r)),!0}else s&&(s.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,s=b(this,be).get(e);if(s===void 0||!n&&b(this,Qe).call(this,s))return;const r=b(this,O)[s];return V(this,ne,oe).call(this,r)?r.__staleWhileFetching:r}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:y=this.allowStaleOnFetchAbort,context:h,forceRefresh:f=!1,status:g,signal:v}=t;if(!b(this,an))return g&&(g.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:r,status:g});const Z={allowStale:n,updateAgeOnGet:s,noDeleteOnStaleGet:r,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:d,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:y,ignoreFetchAbort:m,status:g,signal:v};let G=b(this,be).get(e);if(G===void 0){g&&(g.fetch="miss");const T=V(this,ui,Hs).call(this,e,G,Z,h);return T.__returned=T}else{const T=b(this,O)[G];if(V(this,ne,oe).call(this,T)){const M=n&&T.__staleWhileFetching!==void 0;return g&&(g.fetch="inflight",M&&(g.returnedStale=!0)),M?T.__staleWhileFetching:T.__returned=T}const I=b(this,Qe).call(this,G);if(!f&&!I)return g&&(g.fetch="hit"),V(this,Rn,Hi).call(this,G),s&&b(this,Xn).call(this,G),g&&b(this,Ht).call(this,g,G),T;const K=V(this,ui,Hs).call(this,e,G,Z,h),Y=K.__staleWhileFetching!==void 0&&n;return g&&(g.fetch=I?"stale":"refresh",Y&&I&&(g.returnedStale=!0)),Y?K.__staleWhileFetching:K.__returned=K}}async forceFetch(e,t={}){const n=await this.fetch(e,t);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,t={}){const n=b(this,oi);if(!n)throw new Error("no memoMethod provided to constructor");const{context:s,forceRefresh:r,...o}=t,a=this.get(e,o);if(!r&&a!==void 0)return a;const l=n(e,a,{options:o,context:s});return this.set(e,l,o),l}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:o}=t,a=b(this,be).get(e);if(a!==void 0){const l=b(this,O)[a],c=V(this,ne,oe).call(this,l);return o&&b(this,Ht).call(this,o,a),b(this,Qe).call(this,a)?(o&&(o.get="stale"),c?(o&&n&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?l.__staleWhileFetching:void 0):(r||V(this,Ct,qt).call(this,e,"expire"),o&&n&&(o.returnedStale=!0),n?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(V(this,Rn,Hi).call(this,a),s&&b(this,Xn).call(this,a),l))}else o&&(o.get="miss")}delete(e){return V(this,Ct,qt).call(this,e,"delete")}clear(){return V(this,os,Go).call(this,"delete")}};Eg=Symbol.toStringTag,bt=new WeakMap,Ae=new WeakMap,yt=new WeakMap,xn=new WeakMap,gt=new WeakMap,ri=new WeakMap,oi=new WeakMap,ve=new WeakMap,vt=new WeakMap,be=new WeakMap,ae=new WeakMap,O=new WeakMap,He=new WeakMap,je=new WeakMap,Ie=new WeakMap,Se=new WeakMap,Zt=new WeakMap,we=new WeakMap,St=new WeakMap,wt=new WeakMap,_e=new WeakMap,Gt=new WeakMap,an=new WeakMap,De=new WeakMap,ai=new WeakMap,ts=new WeakSet,Zo=function(){const e=new zs(b(this,bt)),t=new zs(b(this,bt));z(this,_e,e),z(this,wt,t),z(this,ns,(r,o,a=Un.now())=>{if(t[r]=o!==0?a:0,e[r]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{b(this,Qe).call(this,r)&&V(this,Ct,qt).call(this,b(this,ae)[r],"expire")},o+1);l.unref&&l.unref()}}),z(this,Xn,r=>{t[r]=e[r]!==0?Un.now():0}),z(this,Ht,(r,o)=>{if(e[o]){const a=e[o],l=t[o];if(!a||!l)return;r.ttl=a,r.start=l,r.now=n||s();const c=r.now-l;r.remainingTTL=a-c}});let n=0;const s=()=>{const r=Un.now();if(this.ttlResolution>0){n=r;const o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return r};this.getRemainingTTL=r=>{const o=b(this,be).get(r);if(o===void 0)return 0;const a=e[o],l=t[o];if(!a||!l)return 1/0;const c=(n||s())-l;return a-c},z(this,Qe,r=>{const o=t[r],a=e[r];return!!a&&!!o&&(n||s())-o>a})},Xn=new WeakMap,Ht=new WeakMap,ns=new WeakMap,Qe=new WeakMap,ur=new WeakSet,Xu=function(){const e=new zs(b(this,bt));z(this,vt,0),z(this,St,e),z(this,In,t=>{z(this,vt,b(this,vt)-e[t]),e[t]=0}),z(this,is,(t,n,s,r)=>{if(V(this,ne,oe).call(this,n))return 0;if(!_t(s))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(s=r(n,t),!_t(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return s}),z(this,li,(t,n,s)=>{if(e[t]=n,b(this,Ae)){const r=b(this,Ae)-e[t];for(;b(this,vt)>r;)V(this,ci,Ns).call(this,!0)}z(this,vt,b(this,vt)+e[t]),s&&(s.entrySize=n,s.totalCalculatedSize=b(this,vt))})},In=new WeakMap,li=new WeakMap,is=new WeakMap,Rt=new WeakSet,Qt=function*({allowStale:e=this.allowStale}={}){if(b(this,ve))for(let t=b(this,Se);!(!V(this,ss,So).call(this,t)||((e||!b(this,Qe).call(this,t))&&(yield t),t===b(this,Ie)));)t=b(this,je)[t]},Vt=new WeakSet,$t=function*({allowStale:e=this.allowStale}={}){if(b(this,ve))for(let t=b(this,Ie);!(!V(this,ss,So).call(this,t)||((e||!b(this,Qe).call(this,t))&&(yield t),t===b(this,Se)));)t=b(this,He)[t]},ss=new WeakSet,So=function(e){return e!==void 0&&b(this,be).get(b(this,ae)[e])===e},ci=new WeakSet,Ns=function(e){var r,o;const t=b(this,Ie),n=b(this,ae)[t],s=b(this,O)[t];return b(this,an)&&V(this,ne,oe).call(this,s)?s.__abortController.abort(new Error("evicted")):(b(this,Gt)||b(this,De))&&(b(this,Gt)&&((r=b(this,yt))==null||r.call(this,s,n,"evict")),b(this,De)&&((o=b(this,we))==null||o.push([s,n,"evict"]))),b(this,In).call(this,t),e&&(b(this,ae)[t]=void 0,b(this,O)[t]=void 0,b(this,Zt).push(t)),b(this,ve)===1?(z(this,Ie,z(this,Se,0)),b(this,Zt).length=0):z(this,Ie,b(this,He)[t]),b(this,be).delete(n),gs(this,ve)._--,t},ui=new WeakSet,Hs=function(e,t,n,s){const r=t===void 0?void 0:b(this,O)[t];if(V(this,ne,oe).call(this,r))return r;const o=new nr,{signal:a}=n;a==null||a.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});const l={signal:o.signal,options:n,context:s},c=(h,f=!1)=>{const{aborted:g}=o.signal,v=n.ignoreFetchAbort&&h!==void 0;if(n.status&&(g&&!f?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,v&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),g&&!v&&!f)return u(o.signal.reason);const Z=m;return b(this,O)[t]===m&&(h===void 0?Z.__staleWhileFetching?b(this,O)[t]=Z.__staleWhileFetching:V(this,Ct,qt).call(this,e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,h,l.options))),h},d=h=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=h),u(h)),u=h=>{const{aborted:f}=o.signal,g=f&&n.allowStaleOnFetchAbort,v=g||n.allowStaleOnFetchRejection,Z=v||n.noDeleteOnFetchRejection,G=m;if(b(this,O)[t]===m&&(!Z||G.__staleWhileFetching===void 0?V(this,Ct,qt).call(this,e,"fetch"):g||(b(this,O)[t]=G.__staleWhileFetching)),v)return n.status&&G.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),G.__staleWhileFetching;if(G.__returned===G)throw h},p=(h,f)=>{var v;const g=(v=b(this,ri))==null?void 0:v.call(this,e,r,l);g&&g instanceof Promise&&g.then(Z=>h(Z===void 0?void 0:Z),f),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(h(void 0),n.allowStaleOnFetchAbort&&(h=Z=>c(Z,!0)))})};n.status&&(n.status.fetchDispatched=!0);const m=new Promise(p).then(c,d),y=Object.assign(m,{__abortController:o,__staleWhileFetching:r,__returned:void 0});return t===void 0?(this.set(e,y,{...l.options,status:void 0}),t=b(this,be).get(e)):b(this,O)[t]=y,y},ne=new WeakSet,oe=function(e){if(!b(this,an))return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof nr},rs=new WeakSet,wo=function(e,t){b(this,je)[t]=e,b(this,He)[e]=t},Rn=new WeakSet,Hi=function(e){e!==b(this,Se)&&(e===b(this,Ie)?z(this,Ie,b(this,He)[e]):V(this,rs,wo).call(this,b(this,je)[e],b(this,He)[e]),V(this,rs,wo).call(this,b(this,Se),e),z(this,Se,e))},Ct=new WeakSet,qt=function(e,t){var s,r,o,a;let n=!1;if(b(this,ve)!==0){const l=b(this,be).get(e);if(l!==void 0)if(n=!0,b(this,ve)===1)V(this,os,Go).call(this,t);else{b(this,In).call(this,l);const c=b(this,O)[l];if(V(this,ne,oe).call(this,c)?c.__abortController.abort(new Error("deleted")):(b(this,Gt)||b(this,De))&&(b(this,Gt)&&((s=b(this,yt))==null||s.call(this,c,e,t)),b(this,De)&&((r=b(this,we))==null||r.push([c,e,t]))),b(this,be).delete(e),b(this,ae)[l]=void 0,b(this,O)[l]=void 0,l===b(this,Se))z(this,Se,b(this,je)[l]);else if(l===b(this,Ie))z(this,Ie,b(this,He)[l]);else{const d=b(this,je)[l];b(this,He)[d]=b(this,He)[l];const u=b(this,He)[l];b(this,je)[u]=b(this,je)[l]}gs(this,ve)._--,b(this,Zt).push(l)}}if(b(this,De)&&((o=b(this,we))!=null&&o.length)){const l=b(this,we);let c;for(;c=l==null?void 0:l.shift();)(a=b(this,gt))==null||a.call(this,...c)}return n},os=new WeakSet,Go=function(e){var t,n,s;for(const r of V(this,Vt,$t).call(this,{allowStale:!0})){const o=b(this,O)[r];if(V(this,ne,oe).call(this,o))o.__abortController.abort(new Error("deleted"));else{const a=b(this,ae)[r];b(this,Gt)&&((t=b(this,yt))==null||t.call(this,o,a,e)),b(this,De)&&((n=b(this,we))==null||n.push([o,a,e]))}}if(b(this,be).clear(),b(this,O).fill(void 0),b(this,ae).fill(void 0),b(this,_e)&&b(this,wt)&&(b(this,_e).fill(0),b(this,wt).fill(0)),b(this,St)&&b(this,St).fill(0),z(this,Ie,0),z(this,Se,0),b(this,Zt).length=0,z(this,vt,0),z(this,ve,0),b(this,De)&&b(this,we)){const r=b(this,we);let o;for(;o=r==null?void 0:r.shift();)(s=b(this,gt))==null||s.call(this,...o)}};let vo=ga;const Pi=()=>new vo({max:1e3});class fb{constructor(){this.slashDate=Pi(),this.roundDateUp=Pi(),this.ranges=Pi()}}class bb{constructor(){this.zones=Pi(),this.yaml=Pi(),this.caches=[]}zone(e){for(let n=0;n<this.caches.length;n++)if(this.caches[n][0].equals(e))return this.caches[n][1];const t=new fb;return this.caches.push([e,t]),t}}function gr(i,e,t,n){if(i.match(uo)){const s=t[e],r=s+i.length;n.ranges.push({type:P.Comment,from:s,to:r});const o=n.currentFoldableComment();if(o)o.endIndex=r;else{const a=i.indexOf("//");n.startFoldable({startIndex:s,startLine:e,endIndex:r,type:"comment",foldStartIndex:s+(a>-1?a+2:0)})}return!0}else return n.finishFoldableComment(e),!1}function yb(i,e,t,n){const s=i.match(pf);if(s){const r=i.indexOf("-"),o=t[e]+r,a=t[e]+i.indexOf(s[1]),l=a+s[1].length,c={type:P.listItemIndicator,from:o,to:o+1},d={type:P.CheckboxItemIndicator,from:a,to:l,content:s[2]==="x"||s[2]==="X"},u={type:P.ListItemContents,from:l,to:t[e]+i.length};return n.ranges.push(c,d,u),[c,d,u]}else if(i.match(mf)){const r=i.indexOf("-"),o=t[e]+r,a={type:P.listItemIndicator,from:o,to:o+1},l={type:P.ListItemContents,from:o+2,to:t[e]+i.length};return n.ranges.push(a,l),[a,l]}return!1}function gb(i){return i.replace(/(^|\W+)#(\w+)/g,(e,t,n,s,r)=>`${t})${n}`)}function vb(i,e,t,n){const s=(r,o,a,l,c)=>{if(l===0){const d=t[e]+l+o.length;n.ranges.push({type:P.Tag,from:d,to:d+a.length+1,content:{tag:a}})}return`${o})${a}`};return i.replace(/(^|\W+)#(\w+)/g,s)}function Iu(i,e,t,n){const s=i.matchAll(_s);if(s)for(let r of s){const o=i.indexOf("#"+r[1]),a=t[e]+o;n.ranges.push({type:P.Tag,from:a,to:a+r[1].length+1,content:{tag:r[1]}})}return!1}function mn(i,e){const t=`${i}`,n=e==null?void 0:e.zones.get(t);if(n)return n;{const s=["z","ZZZ","ZZ","Z"];let r;for(const o of s)if(r=X.fromFormat(t,o,{setZone:!0}),r.isValid&&r.zone.isValid||o!=="z"&&(r=X.fromFormat(`+${t}`,o,{setZone:!0}),r.isValid&&r.zone.isValid))return e==null||e.zones.set(t,r.zone),r.zone}}const ta=Symbol.for("yaml.alias"),To=Symbol.for("yaml.document"),pn=Symbol.for("yaml.map"),Ru=Symbol.for("yaml.pair"),Yt=Symbol.for("yaml.scalar"),Wi=Symbol.for("yaml.seq"),ut=Symbol.for("yaml.node.type"),Nn=i=>!!i&&typeof i=="object"&&i[ut]===ta,vr=i=>!!i&&typeof i=="object"&&i[ut]===To,hs=i=>!!i&&typeof i=="object"&&i[ut]===pn,fe=i=>!!i&&typeof i=="object"&&i[ut]===Ru,se=i=>!!i&&typeof i=="object"&&i[ut]===Yt,ms=i=>!!i&&typeof i=="object"&&i[ut]===Wi;function me(i){if(i&&typeof i=="object")switch(i[ut]){case pn:case Wi:return!0}return!1}function pe(i){if(i&&typeof i=="object")switch(i[ut]){case ta:case pn:case Yt:case Wi:return!0}return!1}const Vu=i=>(se(i)||me(i))&&!!i.anchor,Zn=Symbol("break visit"),Zb=Symbol("skip children"),Ui=Symbol("remove node");function xi(i,e){const t=Sb(e);vr(i)?jn(null,i.contents,t,Object.freeze([i]))===Ui&&(i.contents=null):jn(null,i,t,Object.freeze([]))}xi.BREAK=Zn;xi.SKIP=Zb;xi.REMOVE=Ui;function jn(i,e,t,n){const s=wb(i,e,t,n);if(pe(s)||fe(s))return Gb(i,n,s),jn(i,s,t,n);if(typeof s!="symbol"){if(me(e)){n=Object.freeze(n.concat(e));for(let r=0;r<e.items.length;++r){const o=jn(r,e.items[r],t,n);if(typeof o=="number")r=o-1;else{if(o===Zn)return Zn;o===Ui&&(e.items.splice(r,1),r-=1)}}}else if(fe(e)){n=Object.freeze(n.concat(e));const r=jn("key",e.key,t,n);if(r===Zn)return Zn;r===Ui&&(e.key=null);const o=jn("value",e.value,t,n);if(o===Zn)return Zn;o===Ui&&(e.value=null)}}return s}function Sb(i){return typeof i=="object"&&(i.Collection||i.Node||i.Value)?Object.assign({Alias:i.Node,Map:i.Node,Scalar:i.Node,Seq:i.Node},i.Value&&{Map:i.Value,Scalar:i.Value,Seq:i.Value},i.Collection&&{Map:i.Collection,Seq:i.Collection},i):i}function wb(i,e,t,n){var s,r,o,a,l;if(typeof t=="function")return t(i,e,n);if(hs(e))return(s=t.Map)==null?void 0:s.call(t,i,e,n);if(ms(e))return(r=t.Seq)==null?void 0:r.call(t,i,e,n);if(fe(e))return(o=t.Pair)==null?void 0:o.call(t,i,e,n);if(se(e))return(a=t.Scalar)==null?void 0:a.call(t,i,e,n);if(Nn(e))return(l=t.Alias)==null?void 0:l.call(t,i,e,n)}function Gb(i,e,t){const n=e[e.length-1];if(me(n))n.items[i]=t;else if(fe(n))i==="key"?n.key=t:n.value=t;else if(vr(n))n.contents=t;else{const s=Nn(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const Tb={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},kb=i=>i.replace(/[!,[\]{}]/g,e=>Tb[e]);class Oe{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Oe.defaultYaml,e),this.tags=Object.assign({},Oe.defaultTags,t)}clone(){const e=new Oe(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Oe(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Oe.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Oe.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:Oe.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Oe.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),s=n.shift();switch(s){case"%TAG":{if(n.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[r,o]=n;return this.tags[r]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;const[r]=n;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const o=/^\d+\.\d+$/.test(r);return t(6,`Unsupported YAML version ${r}`,o),!1}}default:return t(0,`Unknown directive ${s}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),o)}const[,n,s]=e.match(/^(.*!)([^!]*)$/s);s||t(`The ${e} tag has no suffix`);const r=this.tags[n];if(r)try{return r+decodeURIComponent(s)}catch(o){return t(String(o)),null}return n==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+kb(e.substring(n.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let s;if(e&&n.length>0&&pe(e.contents)){const r={};xi(e.contents,(o,a)=>{pe(a)&&a.tag&&(r[a.tag]=!0)}),s=Object.keys(r)}else s=[];for(const[r,o]of n)r==="!!"&&o==="tag:yaml.org,2002:"||(!e||s.some(a=>a.startsWith(o)))&&t.push(`%TAG ${r} ${o}`);return t.join(`
`)}}Oe.defaultYaml={explicit:!1,version:"1.2"};Oe.defaultTags={"!!":"tag:yaml.org,2002:"};function Cu(i){if(/[\x00-\x19\s,[\]{}]/.test(i)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(i)}`;throw new Error(t)}return!0}function Lu(i){const e=new Set;return xi(i,{Value(t,n){n.anchor&&e.add(n.anchor)}}),e}function Yu(i,e){for(let t=1;;++t){const n=`${i}${t}`;if(!e.has(n))return n}}function Wb(i,e){const t=[],n=new Map;let s=null;return{onAnchor:r=>{t.push(r),s??(s=Lu(i));const o=Yu(e,s);return s.add(o),o},setAnchors:()=>{for(const r of t){const o=n.get(r);if(typeof o=="object"&&o.anchor&&(se(o.node)||me(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=r,a}}},sourceObjects:n}}function _n(i,e,t,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let s=0,r=n.length;s<r;++s){const o=n[s],a=_n(i,n,String(s),o);a===void 0?delete n[s]:a!==o&&(n[s]=a)}else if(n instanceof Map)for(const s of Array.from(n.keys())){const r=n.get(s),o=_n(i,n,s,r);o===void 0?n.delete(s):o!==r&&n.set(s,o)}else if(n instanceof Set)for(const s of Array.from(n)){const r=_n(i,n,s,s);r===void 0?n.delete(s):r!==s&&(n.delete(s),n.add(r))}else for(const[s,r]of Object.entries(n)){const o=_n(i,n,s,r);o===void 0?delete n[s]:o!==r&&(n[s]=o)}return i.call(e,t,n)}function ct(i,e,t){if(Array.isArray(i))return i.map((n,s)=>ct(n,String(s),t));if(i&&typeof i.toJSON=="function"){if(!t||!Vu(i))return i.toJSON(e,t);const n={aliasCount:0,count:1,res:void 0};t.anchors.set(i,n),t.onCreate=r=>{n.res=r,delete t.onCreate};const s=i.toJSON(e,t);return t.onCreate&&t.onCreate(s),s}return typeof i=="bigint"&&!(t!=null&&t.keep)?Number(i):i}class na{constructor(e){Object.defineProperty(this,ut,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:n,onAnchor:s,reviver:r}={}){if(!vr(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},a=ct(this,"",o);if(typeof s=="function")for(const{count:l,res:c}of o.anchors.values())s(c,l);return typeof r=="function"?_n(r,{"":a},"",a):a}}class ia extends na{constructor(e){super(ta),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,t){let n;t!=null&&t.aliasResolveCache?n=t.aliasResolveCache:(n=[],xi(e,{Node:(r,o)=>{(Nn(o)||Vu(o))&&n.push(o)}}),t&&(t.aliasResolveCache=n));let s;for(const r of n){if(r===this)break;r.anchor===this.source&&(s=r)}return s}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:s,maxAliasCount:r}=t,o=this.resolve(s,t);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=n.get(o);if(a||(ct(o,null,t),a=n.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(r>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Ds(s,o,n)),a.count*a.aliasCount>r)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,t,n){const s=`*${this.source}`;if(e){if(Cu(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${s} `}return s}}function Ds(i,e,t){if(Nn(e)){const n=e.resolve(i),s=t&&n&&t.get(n);return s?s.count*s.aliasCount:0}else if(me(e)){let n=0;for(const s of e.items){const r=Ds(i,s,t);r>n&&(n=r)}return n}else if(fe(e)){const n=Ds(i,e.key,t),s=Ds(i,e.value,t);return Math.max(n,s)}return 1}const Eu=i=>!i||typeof i!="function"&&typeof i!="object";class F extends na{constructor(e){super(Yt),this.value=e}toJSON(e,t){return t!=null&&t.keep?this.value:ct(this.value,e,t)}toString(){return String(this.value)}}F.BLOCK_FOLDED="BLOCK_FOLDED";F.BLOCK_LITERAL="BLOCK_LITERAL";F.PLAIN="PLAIN";F.QUOTE_DOUBLE="QUOTE_DOUBLE";F.QUOTE_SINGLE="QUOTE_SINGLE";const xb="tag:yaml.org,2002:";function Xb(i,e,t){if(e){const n=t.filter(r=>r.tag===e),s=n.find(r=>!r.format)??n[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return t.find(n=>{var s;return((s=n.identify)==null?void 0:s.call(n,i))&&!n.format})}function _i(i,e,t){var u,p,m;if(vr(i)&&(i=i.contents),pe(i))return i;if(fe(i)){const y=(p=(u=t.schema[pn]).createNode)==null?void 0:p.call(u,t.schema,null,t);return y.items.push(i),y}(i instanceof String||i instanceof Number||i instanceof Boolean||typeof BigInt<"u"&&i instanceof BigInt)&&(i=i.valueOf());const{aliasDuplicateObjects:n,onAnchor:s,onTagObj:r,schema:o,sourceObjects:a}=t;let l;if(n&&i&&typeof i=="object"){if(l=a.get(i),l)return l.anchor??(l.anchor=s(i)),new ia(l.anchor);l={anchor:null,node:null},a.set(i,l)}e!=null&&e.startsWith("!!")&&(e=xb+e.slice(2));let c=Xb(i,e,o.tags);if(!c){if(i&&typeof i.toJSON=="function"&&(i=i.toJSON()),!i||typeof i!="object"){const y=new F(i);return l&&(l.node=y),y}c=i instanceof Map?o[pn]:Symbol.iterator in Object(i)?o[Wi]:o[pn]}r&&(r(c),delete t.onTagObj);const d=c!=null&&c.createNode?c.createNode(t.schema,i,t):typeof((m=c==null?void 0:c.nodeClass)==null?void 0:m.from)=="function"?c.nodeClass.from(t.schema,i,t):new F(i);return e?d.tag=e:c.default||(d.tag=c.tag),l&&(l.node=d),d}function ir(i,e,t){let n=t;for(let s=e.length-1;s>=0;--s){const r=e[s];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const o=[];o[r]=n,n=o}else n=new Map([[r,n]])}return _i(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:i,sourceObjects:new Map})}const Di=i=>i==null||typeof i=="object"&&!!i[Symbol.iterator]().next().done;class Mu extends na{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(n=>pe(n)||fe(n)?n.clone(e):n),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(Di(e))this.add(t);else{const[n,...s]=e,r=this.get(n,!0);if(me(r))r.addIn(s,t);else if(r===void 0&&this.schema)this.set(n,ir(this.schema,s,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}}deleteIn(e){const[t,...n]=e;if(n.length===0)return this.delete(t);const s=this.get(t,!0);if(me(s))return s.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...s]=e,r=this.get(n,!0);return s.length===0?!t&&se(r)?r.value:r:me(r)?r.getIn(s,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!fe(t))return!1;const n=t.value;return n==null||e&&se(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){const[t,...n]=e;if(n.length===0)return this.has(t);const s=this.get(t,!0);return me(s)?s.hasIn(n):!1}setIn(e,t){const[n,...s]=e;if(s.length===0)this.set(n,t);else{const r=this.get(n,!0);if(me(r))r.setIn(s,t);else if(r===void 0&&this.schema)this.set(n,ir(this.schema,s,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}}}const Ib=i=>i.replace(/^(?!$)(?: $)?/gm,"#");function Ot(i,e){return/^\n+$/.test(i)?i.substring(1):e?i.replace(/^(?! *$)/gm,e):i}const Tn=(i,e,t)=>i.endsWith(`
`)?Ot(t,e):t.includes(`
`)?`
`+Ot(t,e):(i.endsWith(" ")?"":" ")+t,zu="flow",ko="block",Os="quoted";function Zr(i,e,t="flow",{indentAtStart:n,lineWidth:s=80,minContentWidth:r=20,onFold:o,onOverflow:a}={}){if(!s||s<0)return i;s<r&&(r=0);const l=Math.max(1+r,1+s-e.length);if(i.length<=l)return i;const c=[],d={};let u=s-e.length;typeof n=="number"&&(n>s-Math.max(2,r)?c.push(0):u=s-n);let p,m,y=!1,h=-1,f=-1,g=-1;t===ko&&(h=xl(i,h,e.length),h!==-1&&(u=h+l));for(let Z;Z=i[h+=1];){if(t===Os&&Z==="\\"){switch(f=h,i[h+1]){case"x":h+=3;break;case"u":h+=5;break;case"U":h+=9;break;default:h+=1}g=h}if(Z===`
`)t===ko&&(h=xl(i,h,e.length)),u=h+e.length+l,p=void 0;else{if(Z===" "&&m&&m!==" "&&m!==`
`&&m!=="	"){const G=i[h+1];G&&G!==" "&&G!==`
`&&G!=="	"&&(p=h)}if(h>=u)if(p)c.push(p),u=p+l,p=void 0;else if(t===Os){for(;m===" "||m==="	";)m=Z,Z=i[h+=1],y=!0;const G=h>g+1?h-2:f-1;if(d[G])return i;c.push(G),d[G]=!0,u=G+l,p=void 0}else y=!0}m=Z}if(y&&a&&a(),c.length===0)return i;o&&o();let v=i.slice(0,c[0]);for(let Z=0;Z<c.length;++Z){const G=c[Z],T=c[Z+1]||i.length;G===0?v=`
${e}${i.slice(0,T)}`:(t===Os&&d[G]&&(v+=`${i[G]}\\`),v+=`
${e}${i.slice(G+1,T)}`)}return v}function xl(i,e,t){let n=e,s=e+1,r=i[s];for(;r===" "||r==="	";)if(e<s+t)r=i[++e];else{do r=i[++e];while(r&&r!==`
`);n=e,s=e+1,r=i[s]}return n}const Sr=(i,e)=>({indentAtStart:e?i.indent.length:i.indentAtStart,lineWidth:i.options.lineWidth,minContentWidth:i.options.minContentWidth}),wr=i=>/^(%|---|\.\.\.)/m.test(i);function Rb(i,e,t){if(!e||e<0)return!1;const n=e-t,s=i.length;if(s<=n)return!1;for(let r=0,o=0;r<s;++r)if(i[r]===`
`){if(r-o>n)return!0;if(o=r+1,s-o<=n)return!1}return!0}function Ji(i,e){const t=JSON.stringify(i);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:n}=e,s=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(wr(i)?"  ":"");let o="",a=0;for(let l=0,c=t[l];c;c=t[++l])if(c===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(o+=t.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(t[l+1]){case"u":{o+=t.slice(a,l);const d=t.substr(l+2,4);switch(d){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:d.substr(0,2)==="00"?o+="\\x"+d.substr(2):o+=t.substr(l,6)}l+=5,a=l+1}break;case"n":if(n||t[l+2]==='"'||t.length<s)l+=1;else{for(o+=t.slice(a,l)+`

`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)o+=`
`,l+=2;o+=r,t[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+t.slice(a):t,n?o:Zr(o,r,Os,Sr(e,!1))}function Wo(i,e){if(e.options.singleQuote===!1||e.implicitKey&&i.includes(`
`)||/[ \t]\n|\n[ \t]/.test(i))return Ji(i,e);const t=e.indent||(wr(i)?"  ":""),n="'"+i.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?n:Zr(n,t,zu,Sr(e,!1))}function Qn(i,e){const{singleQuote:t}=e.options;let n;if(t===!1)n=Ji;else{const s=i.includes('"'),r=i.includes("'");s&&!r?n=Wo:r&&!s?n=Ji:n=t?Wo:Ji}return n(i,e)}let xo;try{xo=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{xo=/\n+(?!\n|$)/g}function Fs({comment:i,type:e,value:t},n,s,r){const{blockQuote:o,commentString:a,lineWidth:l}=n.options;if(!o||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return Qn(t,n);const c=n.indent||(n.forceBlockIndent||wr(t)?"  ":""),d=o==="literal"?!0:o==="folded"||e===F.BLOCK_FOLDED?!1:e===F.BLOCK_LITERAL?!0:!Rb(t,l,c.length);if(!t)return d?`|
`:`>
`;let u,p;for(p=t.length;p>0;--p){const T=t[p-1];if(T!==`
`&&T!=="	"&&T!==" ")break}let m=t.substring(p);const y=m.indexOf(`
`);y===-1?u="-":t===m||y!==m.length-1?(u="+",r&&r()):u="",m&&(t=t.slice(0,-m.length),m[m.length-1]===`
`&&(m=m.slice(0,-1)),m=m.replace(xo,`$&${c}`));let h=!1,f,g=-1;for(f=0;f<t.length;++f){const T=t[f];if(T===" ")h=!0;else if(T===`
`)g=f;else break}let v=t.substring(0,g<f?g+1:f);v&&(t=t.substring(v.length),v=v.replace(/\n+/g,`$&${c}`));let G=(h?c?"2":"1":"")+u;if(i&&(G+=" "+a(i.replace(/ ?[\r\n]+/g," ")),s&&s()),!d){const T=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let I=!1;const K=Sr(n,!0);o!=="folded"&&e!==F.BLOCK_FOLDED&&(K.onOverflow=()=>{I=!0});const x=Zr(`${v}${T}${m}`,c,ko,K);if(!I)return`>${G}
${c}${x}`}return t=t.replace(/\n+/g,`$&${c}`),`|${G}
${c}${v}${t}${m}`}function Vb(i,e,t,n){const{type:s,value:r}=i,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:d}=e;if(a&&r.includes(`
`)||d&&/[[\]{},]/.test(r))return Qn(r,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return a||d||!r.includes(`
`)?Qn(r,e):Fs(i,e,t,n);if(!a&&!d&&s!==F.PLAIN&&r.includes(`
`))return Fs(i,e,t,n);if(wr(r)){if(l==="")return e.forceBlockIndent=!0,Fs(i,e,t,n);if(a&&l===c)return Qn(r,e)}const u=r.replace(/\n+/g,`$&
${l}`);if(o){const p=h=>{var f;return h.default&&h.tag!=="tag:yaml.org,2002:str"&&((f=h.test)==null?void 0:f.test(u))},{compat:m,tags:y}=e.doc.schema;if(y.some(p)||m!=null&&m.some(p))return Qn(r,e)}return a?u:Zr(u,l,zu,Sr(e,!1))}function sa(i,e,t,n){const{implicitKey:s,inFlow:r}=e,o=typeof i.value=="string"?i:Object.assign({},i,{value:String(i.value)});let{type:a}=i;a!==F.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=F.QUOTE_DOUBLE);const l=d=>{switch(d){case F.BLOCK_FOLDED:case F.BLOCK_LITERAL:return s||r?Qn(o.value,e):Fs(o,e,t,n);case F.QUOTE_DOUBLE:return Ji(o.value,e);case F.QUOTE_SINGLE:return Wo(o.value,e);case F.PLAIN:return Vb(o,e,t,n);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:d,defaultStringType:u}=e.options,p=s&&d||u;if(c=l(p),c===null)throw new Error(`Unsupported default string type ${p}`)}return c}function Nu(i,e){const t=Object.assign({blockQuote:!0,commentString:Ib,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},i.schema.toStringOptions,e);let n;switch(t.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:i,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:n,options:t}}function Cb(i,e){var s;if(e.tag){const r=i.filter(o=>o.tag===e.tag);if(r.length>0)return r.find(o=>o.format===e.format)??r[0]}let t,n;if(se(e)){n=e.value;let r=i.filter(o=>{var a;return(a=o.identify)==null?void 0:a.call(o,n)});if(r.length>1){const o=r.filter(a=>a.test);o.length>0&&(r=o)}t=r.find(o=>o.format===e.format)??r.find(o=>!o.format)}else n=e,t=i.find(r=>r.nodeClass&&n instanceof r.nodeClass);if(!t){const r=((s=n==null?void 0:n.constructor)==null?void 0:s.name)??(n===null?"null":typeof n);throw new Error(`Tag not resolved for ${r} value`)}return t}function Lb(i,e,{anchors:t,doc:n}){if(!n.directives)return"";const s=[],r=(se(i)||me(i))&&i.anchor;r&&Cu(r)&&(t.add(r),s.push(`&${r}`));const o=i.tag??(e.default?null:e.tag);return o&&s.push(n.directives.tagString(o)),s.join(" ")}function gi(i,e,t,n){var l;if(fe(i))return i.toString(e,t,n);if(Nn(i)){if(e.doc.directives)return i.toString(e);if((l=e.resolvedAliases)!=null&&l.has(i))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(i):e.resolvedAliases=new Set([i]),i=i.resolve(e.doc)}let s;const r=pe(i)?i:e.doc.createNode(i,{onTagObj:c=>s=c});s??(s=Cb(e.doc.schema.tags,r));const o=Lb(r,s,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof s.stringify=="function"?s.stringify(r,e,t,n):se(r)?sa(r,e,t,n):r.toString(e,t,n);return o?se(r)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function Yb({key:i,value:e},t,n,s){const{allNullValues:r,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:d,simpleKeys:u}}=t;let p=pe(i)&&i.comment||null;if(u){if(p)throw new Error("With simple keys, key nodes cannot have comments");if(me(i)||!pe(i)&&typeof i=="object"){const K="With simple keys, collection cannot be used as a key value";throw new Error(K)}}let m=!u&&(!i||p&&e==null&&!t.inFlow||me(i)||(se(i)?i.type===F.BLOCK_FOLDED||i.type===F.BLOCK_LITERAL:typeof i=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!m&&(u||!r),indent:a+l});let y=!1,h=!1,f=gi(i,t,()=>y=!0,()=>h=!0);if(!m&&!t.inFlow&&f.length>1024){if(u)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");m=!0}if(t.inFlow){if(r||e==null)return y&&n&&n(),f===""?"?":m?`? ${f}`:f}else if(r&&!u||e==null&&m)return f=`? ${f}`,p&&!y?f+=Tn(f,t.indent,c(p)):h&&s&&s(),f;y&&(p=null),m?(p&&(f+=Tn(f,t.indent,c(p))),f=`? ${f}
${a}:`):(f=`${f}:`,p&&(f+=Tn(f,t.indent,c(p))));let g,v,Z;pe(e)?(g=!!e.spaceBefore,v=e.commentBefore,Z=e.comment):(g=!1,v=null,Z=null,e&&typeof e=="object"&&(e=o.createNode(e))),t.implicitKey=!1,!m&&!p&&se(e)&&(t.indentAtStart=f.length+1),h=!1,!d&&l.length>=2&&!t.inFlow&&!m&&ms(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let G=!1;const T=gi(e,t,()=>G=!0,()=>h=!0);let I=" ";if(p||g||v){if(I=g?`
`:"",v){const K=c(v);I+=`
${Ot(K,t.indent)}`}T===""&&!t.inFlow?I===`
`&&(I=`

`):I+=`
${t.indent}`}else if(!m&&me(e)){const K=T[0],x=T.indexOf(`
`),Y=x!==-1,M=t.inFlow??e.flow??e.items.length===0;if(Y||!M){let U=!1;if(Y&&(K==="&"||K==="!")){let J=T.indexOf(" ");K==="&"&&J!==-1&&J<x&&T[J+1]==="!"&&(J=T.indexOf(" ",J+1)),(J===-1||x<J)&&(U=!0)}U||(I=`
${t.indent}`)}}else(T===""||T[0]===`
`)&&(I="");return f+=I+T,t.inFlow?G&&n&&n():Z&&!G?f+=Tn(f,t.indent,c(Z)):h&&s&&s(),f}function Hu(i,e){(i==="debug"||i==="warn")&&console.warn(e)}const Ts="<<",Ft={identify:i=>i===Ts||typeof i=="symbol"&&i.description===Ts,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new F(Symbol(Ts)),{addToJSMap:Du}),stringify:()=>Ts},Eb=(i,e)=>(Ft.identify(e)||se(e)&&(!e.type||e.type===F.PLAIN)&&Ft.identify(e.value))&&(i==null?void 0:i.doc.schema.tags.some(t=>t.tag===Ft.tag&&t.default));function Du(i,e,t){if(t=i&&Nn(t)?t.resolve(i.doc):t,ms(t))for(const n of t.items)Fr(i,e,n);else if(Array.isArray(t))for(const n of t)Fr(i,e,n);else Fr(i,e,t)}function Fr(i,e,t){const n=i&&Nn(t)?t.resolve(i.doc):t;if(!hs(n))throw new Error("Merge sources must be maps or map aliases");const s=n.toJSON(null,i,Map);for(const[r,o]of s)e instanceof Map?e.has(r)||e.set(r,o):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Ou(i,e,{key:t,value:n}){if(pe(t)&&t.addToJSMap)t.addToJSMap(i,e,n);else if(Eb(i,t))Du(i,e,n);else{const s=ct(t,"",i);if(e instanceof Map)e.set(s,ct(n,s,i));else if(e instanceof Set)e.add(s);else{const r=Mb(t,s,i),o=ct(n,r,i);r in e?Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[r]=o}}return e}function Mb(i,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(pe(i)&&(t!=null&&t.doc)){const n=Nu(t.doc,{});n.anchors=new Set;for(const r of t.anchors.keys())n.anchors.add(r.anchor);n.inFlow=!0,n.inStringifyKey=!0;const s=i.toString(n);if(!t.mapKeyWarned){let r=JSON.stringify(s);r.length>40&&(r=r.substring(0,36)+'..."'),Hu(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return s}return JSON.stringify(e)}function ra(i,e,t){const n=_i(i,void 0,t),s=_i(e,void 0,t);return new Ke(n,s)}class Ke{constructor(e,t=null){Object.defineProperty(this,ut,{value:Ru}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return pe(t)&&(t=t.clone(e)),pe(n)&&(n=n.clone(e)),new Ke(t,n)}toJSON(e,t){const n=t!=null&&t.mapAsMap?new Map:{};return Ou(t,n,this)}toString(e,t,n){return e!=null&&e.doc?Yb(this,e,t,n):JSON.stringify(this)}}function Fu(i,e,t){return(e.inFlow??i.flow?Nb:zb)(i,e,t)}function zb({comment:i,items:e},t,{blockItemPrefix:n,flowChars:s,itemIndent:r,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=t,d=Object.assign({},t,{indent:r,type:null});let u=!1;const p=[];for(let y=0;y<e.length;++y){const h=e[y];let f=null;if(pe(h))!u&&h.spaceBefore&&p.push(""),sr(t,p,h.commentBefore,u),h.comment&&(f=h.comment);else if(fe(h)){const v=pe(h.key)?h.key:null;v&&(!u&&v.spaceBefore&&p.push(""),sr(t,p,v.commentBefore,u))}u=!1;let g=gi(h,d,()=>f=null,()=>u=!0);f&&(g+=Tn(g,r,c(f))),u&&f&&(u=!1),p.push(n+g)}let m;if(p.length===0)m=s.start+s.end;else{m=p[0];for(let y=1;y<p.length;++y){const h=p[y];m+=h?`
${l}${h}`:`
`}}return i?(m+=`
`+Ot(c(i),l),a&&a()):u&&o&&o(),m}function Nb({items:i},e,{flowChars:t,itemIndent:n}){const{indent:s,indentStep:r,flowCollectionPadding:o,options:{commentString:a}}=e;n+=r;const l=Object.assign({},e,{indent:n,inFlow:!0,type:null});let c=!1,d=0;const u=[];for(let y=0;y<i.length;++y){const h=i[y];let f=null;if(pe(h))h.spaceBefore&&u.push(""),sr(e,u,h.commentBefore,!1),h.comment&&(f=h.comment);else if(fe(h)){const v=pe(h.key)?h.key:null;v&&(v.spaceBefore&&u.push(""),sr(e,u,v.commentBefore,!1),v.comment&&(c=!0));const Z=pe(h.value)?h.value:null;Z?(Z.comment&&(f=Z.comment),Z.commentBefore&&(c=!0)):h.value==null&&(v!=null&&v.comment)&&(f=v.comment)}f&&(c=!0);let g=gi(h,l,()=>f=null);y<i.length-1&&(g+=","),f&&(g+=Tn(g,n,a(f))),!c&&(u.length>d||g.includes(`
`))&&(c=!0),u.push(g),d=u.length}const{start:p,end:m}=t;if(u.length===0)return p+m;if(!c){const y=u.reduce((h,f)=>h+f.length+2,2);c=e.options.lineWidth>0&&y>e.options.lineWidth}if(c){let y=p;for(const h of u)y+=h?`
${r}${s}${h}`:`
`;return`${y}
${s}${m}`}else return`${p}${o}${u.join(" ")}${o}${m}`}function sr({indent:i,options:{commentString:e}},t,n,s){if(n&&s&&(n=n.replace(/^\n+/,"")),n){const r=Ot(e(n),i);t.push(r.trimStart())}}function kn(i,e){const t=se(e)?e.value:e;for(const n of i)if(fe(n)&&(n.key===e||n.key===t||se(n.key)&&n.key.value===t))return n}class ot extends Mu{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(pn,e),this.items=[]}static from(e,t,n){const{keepUndefined:s,replacer:r}=n,o=new this(e),a=(l,c)=>{if(typeof r=="function")c=r.call(t,l,c);else if(Array.isArray(r)&&!r.includes(l))return;(c!==void 0||s)&&o.items.push(ra(l,c,n))};if(t instanceof Map)for(const[l,c]of t)a(l,c);else if(t&&typeof t=="object")for(const l of Object.keys(t))a(l,t[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,t){var o;let n;fe(e)?n=e:!e||typeof e!="object"||!("key"in e)?n=new Ke(e,e==null?void 0:e.value):n=new Ke(e.key,e.value);const s=kn(this.items,n.key),r=(o=this.schema)==null?void 0:o.sortMapEntries;if(s){if(!t)throw new Error(`Key ${n.key} already set`);se(s.value)&&Eu(n.value)?s.value.value=n.value:s.value=n.value}else if(r){const a=this.items.findIndex(l=>r(n,l)<0);a===-1?this.items.push(n):this.items.splice(a,0,n)}else this.items.push(n)}delete(e){const t=kn(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const n=kn(this.items,e),s=n==null?void 0:n.value;return(!t&&se(s)?s.value:s)??void 0}has(e){return!!kn(this.items,e)}set(e,t){this.add(new Ke(e,t),!0)}toJSON(e,t,n){const s=n?new n:t!=null&&t.mapAsMap?new Map:{};t!=null&&t.onCreate&&t.onCreate(s);for(const r of this.items)Ou(t,s,r);return s}toString(e,t,n){if(!e)return JSON.stringify(this);for(const s of this.items)if(!fe(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Fu(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const Xi={collection:"map",default:!0,nodeClass:ot,tag:"tag:yaml.org,2002:map",resolve(i,e){return hs(i)||e("Expected a mapping for this tag"),i},createNode:(i,e,t)=>ot.from(i,e,t)};class En extends Mu{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Wi,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=ks(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const n=ks(e);if(typeof n!="number")return;const s=this.items[n];return!t&&se(s)?s.value:s}has(e){const t=ks(e);return typeof t=="number"&&t<this.items.length}set(e,t){const n=ks(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[n];se(s)&&Eu(t)?s.value=t:this.items[n]=t}toJSON(e,t){const n=[];t!=null&&t.onCreate&&t.onCreate(n);let s=0;for(const r of this.items)n.push(ct(r,String(s++),t));return n}toString(e,t,n){return e?Fu(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){const{replacer:s}=n,r=new this(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let a of t){if(typeof s=="function"){const l=t instanceof Set?a:String(o++);a=s.call(t,l,a)}r.items.push(_i(a,void 0,n))}}return r}}function ks(i){let e=se(i)?i.value:i;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Ii={collection:"seq",default:!0,nodeClass:En,tag:"tag:yaml.org,2002:seq",resolve(i,e){return ms(i)||e("Expected a sequence for this tag"),i},createNode:(i,e,t)=>En.from(i,e,t)},Gr={identify:i=>typeof i=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:i=>i,stringify(i,e,t,n){return e=Object.assign({actualString:!0},e),sa(i,e,t,n)}},Tr={identify:i=>i==null,createNode:()=>new F(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new F(null),stringify:({source:i},e)=>typeof i=="string"&&Tr.test.test(i)?i:e.options.nullStr},oa={identify:i=>typeof i=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:i=>new F(i[0]==="t"||i[0]==="T"),stringify({source:i,value:e},t){if(i&&oa.test.test(i)){const n=i[0]==="t"||i[0]==="T";if(e===n)return i}return e?t.options.trueStr:t.options.falseStr}};function Xt({format:i,minFractionDigits:e,tag:t,value:n}){if(typeof n=="bigint")return String(n);const s=typeof n=="number"?n:Number(n);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let r=JSON.stringify(n);if(!i&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let o=r.indexOf(".");o<0&&(o=r.length,r+=".");let a=e-(r.length-o-1);for(;a-- >0;)r+="0"}return r}const Ku={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:i=>i.slice(-3).toLowerCase()==="nan"?NaN:i[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Xt},Pu={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:i=>parseFloat(i),stringify(i){const e=Number(i.value);return isFinite(e)?e.toExponential():Xt(i)}},Uu={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(i){const e=new F(parseFloat(i)),t=i.indexOf(".");return t!==-1&&i[i.length-1]==="0"&&(e.minFractionDigits=i.length-t-1),e},stringify:Xt},kr=i=>typeof i=="bigint"||Number.isInteger(i),aa=(i,e,t,{intAsBigInt:n})=>n?BigInt(i):parseInt(i.substring(e),t);function Ju(i,e,t){const{value:n}=i;return kr(n)&&n>=0?t+n.toString(e):Xt(i)}const Bu={identify:i=>kr(i)&&i>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(i,e,t)=>aa(i,2,8,t),stringify:i=>Ju(i,8,"0o")},Au={identify:kr,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(i,e,t)=>aa(i,0,10,t),stringify:Xt},ju={identify:i=>kr(i)&&i>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(i,e,t)=>aa(i,2,16,t),stringify:i=>Ju(i,16,"0x")},Hb=[Xi,Ii,Gr,Tr,oa,Bu,Au,ju,Ku,Pu,Uu];function Xl(i){return typeof i=="bigint"||Number.isInteger(i)}const Ws=({value:i})=>JSON.stringify(i),Db=[{identify:i=>typeof i=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:i=>i,stringify:Ws},{identify:i=>i==null,createNode:()=>new F(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Ws},{identify:i=>typeof i=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:i=>i==="true",stringify:Ws},{identify:Xl,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(i,e,{intAsBigInt:t})=>t?BigInt(i):parseInt(i,10),stringify:({value:i})=>Xl(i)?i.toString():JSON.stringify(i)},{identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:i=>parseFloat(i),stringify:Ws}],Ob={default:!0,tag:"",test:/^/,resolve(i,e){return e(`Unresolved plain scalar ${JSON.stringify(i)}`),i}},Fb=[Xi,Ii].concat(Db,Ob),la={identify:i=>i instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(i,e){if(typeof atob=="function"){const t=atob(i.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let s=0;s<t.length;++s)n[s]=t.charCodeAt(s);return n}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),i},stringify({comment:i,type:e,value:t},n,s,r){if(!t)return"";const o=t;let a;if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=F.BLOCK_LITERAL),e!==F.QUOTE_DOUBLE){const l=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),c=Math.ceil(a.length/l),d=new Array(c);for(let u=0,p=0;u<c;++u,p+=l)d[u]=a.substr(p,l);a=d.join(e===F.BLOCK_LITERAL?`
`:" ")}return sa({comment:i,type:e,value:a},n,s,r)}};function _u(i,e){if(ms(i))for(let t=0;t<i.items.length;++t){let n=i.items[t];if(!fe(n)){if(hs(n)){n.items.length>1&&e("Each pair must have its own sequence indicator");const s=n.items[0]||new Ke(new F(null));if(n.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${n.commentBefore}
${s.key.commentBefore}`:n.commentBefore),n.comment){const r=s.value??s.key;r.comment=r.comment?`${n.comment}
${r.comment}`:n.comment}n=s}i.items[t]=fe(n)?n:new Ke(n)}}else e("Expected a sequence for this tag");return i}function Qu(i,e,t){const{replacer:n}=t,s=new En(i);s.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof n=="function"&&(o=n.call(e,String(r++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;s.items.push(ra(a,l,t))}return s}const ca={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:_u,createNode:Qu};class ti extends En{constructor(){super(),this.add=ot.prototype.add.bind(this),this.delete=ot.prototype.delete.bind(this),this.get=ot.prototype.get.bind(this),this.has=ot.prototype.has.bind(this),this.set=ot.prototype.set.bind(this),this.tag=ti.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t!=null&&t.onCreate&&t.onCreate(n);for(const s of this.items){let r,o;if(fe(s)?(r=ct(s.key,"",t),o=ct(s.value,r,t)):r=ct(s,"",t),n.has(r))throw new Error("Ordered maps must not include duplicate keys");n.set(r,o)}return n}static from(e,t,n){const s=Qu(e,t,n),r=new this;return r.items=s.items,r}}ti.tag="tag:yaml.org,2002:omap";const ua={collection:"seq",identify:i=>i instanceof Map,nodeClass:ti,default:!1,tag:"tag:yaml.org,2002:omap",resolve(i,e){const t=_u(i,e),n=[];for(const{key:s}of t.items)se(s)&&(n.includes(s.value)?e(`Ordered maps must not include duplicate keys: ${s.value}`):n.push(s.value));return Object.assign(new ti,t)},createNode:(i,e,t)=>ti.from(i,e,t)};function $u({value:i,source:e},t){return e&&(i?qu:ed).test.test(e)?e:i?t.options.trueStr:t.options.falseStr}const qu={identify:i=>i===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new F(!0),stringify:$u},ed={identify:i=>i===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new F(!1),stringify:$u},Kb={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:i=>i.slice(-3).toLowerCase()==="nan"?NaN:i[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Xt},Pb={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:i=>parseFloat(i.replace(/_/g,"")),stringify(i){const e=Number(i.value);return isFinite(e)?e.toExponential():Xt(i)}},Ub={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(i){const e=new F(parseFloat(i.replace(/_/g,""))),t=i.indexOf(".");if(t!==-1){const n=i.substring(t+1).replace(/_/g,"");n[n.length-1]==="0"&&(e.minFractionDigits=n.length)}return e},stringify:Xt},ps=i=>typeof i=="bigint"||Number.isInteger(i);function Wr(i,e,t,{intAsBigInt:n}){const s=i[0];if((s==="-"||s==="+")&&(e+=1),i=i.substring(e).replace(/_/g,""),n){switch(t){case 2:i=`0b${i}`;break;case 8:i=`0o${i}`;break;case 16:i=`0x${i}`;break}const o=BigInt(i);return s==="-"?BigInt(-1)*o:o}const r=parseInt(i,t);return s==="-"?-1*r:r}function da(i,e,t){const{value:n}=i;if(ps(n)){const s=n.toString(e);return n<0?"-"+t+s.substr(1):t+s}return Xt(i)}const Jb={identify:ps,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(i,e,t)=>Wr(i,2,2,t),stringify:i=>da(i,2,"0b")},Bb={identify:ps,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(i,e,t)=>Wr(i,1,8,t),stringify:i=>da(i,8,"0")},Ab={identify:ps,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(i,e,t)=>Wr(i,0,10,t),stringify:Xt},jb={identify:ps,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(i,e,t)=>Wr(i,2,16,t),stringify:i=>da(i,16,"0x")};class ni extends ot{constructor(e){super(e),this.tag=ni.tag}add(e){let t;fe(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new Ke(e.key,null):t=new Ke(e,null),kn(this.items,t.key)||this.items.push(t)}get(e,t){const n=kn(this.items,e);return!t&&fe(n)?se(n.key)?n.key.value:n.key:n}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const n=kn(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new Ke(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,n){const{replacer:s}=n,r=new this(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof s=="function"&&(o=s.call(t,o,o)),r.items.push(ra(o,null,n));return r}}ni.tag="tag:yaml.org,2002:set";const ha={collection:"map",identify:i=>i instanceof Set,nodeClass:ni,default:!1,tag:"tag:yaml.org,2002:set",createNode:(i,e,t)=>ni.from(i,e,t),resolve(i,e){if(hs(i)){if(i.hasAllNullValues(!0))return Object.assign(new ni,i);e("Set items must all have null values")}else e("Expected a mapping for this tag");return i}};function ma(i,e){const t=i[0],n=t==="-"||t==="+"?i.substring(1):i,s=o=>e?BigInt(o):Number(o),r=n.replace(/_/g,"").split(":").reduce((o,a)=>o*s(60)+s(a),s(0));return t==="-"?s(-1)*r:r}function td(i){let{value:e}=i,t=o=>o;if(typeof e=="bigint")t=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return Xt(i);let n="";e<0&&(n="-",e*=t(-1));const s=t(60),r=[e%s];return e<60?r.unshift(0):(e=(e-r[0])/s,r.unshift(e%s),e>=60&&(e=(e-r[0])/s,r.unshift(e))),n+r.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const nd={identify:i=>typeof i=="bigint"||Number.isInteger(i),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(i,e,{intAsBigInt:t})=>ma(i,t),stringify:td},id={identify:i=>typeof i=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:i=>ma(i,!1),stringify:td},xr={identify:i=>i instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(i){const e=i.match(xr.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,t,n,s,r,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(t,n-1,s,r||0,o||0,a||0,l);const d=e[8];if(d&&d!=="Z"){let u=ma(d,!1);Math.abs(u)<30&&(u*=60),c-=6e4*u}return new Date(c)},stringify:({value:i})=>(i==null?void 0:i.toISOString().replace(/(T00:00:00)?\.000Z$/,""))??""},Il=[Xi,Ii,Gr,Tr,qu,ed,Jb,Bb,Ab,jb,Kb,Pb,Ub,la,Ft,ua,ca,ha,nd,id,xr],Rl=new Map([["core",Hb],["failsafe",[Xi,Ii,Gr]],["json",Fb],["yaml11",Il],["yaml-1.1",Il]]),Vl={binary:la,bool:oa,float:Uu,floatExp:Pu,floatNaN:Ku,floatTime:id,int:Au,intHex:ju,intOct:Bu,intTime:nd,map:Xi,merge:Ft,null:Tr,omap:ua,pairs:ca,seq:Ii,set:ha,timestamp:xr},_b={"tag:yaml.org,2002:binary":la,"tag:yaml.org,2002:merge":Ft,"tag:yaml.org,2002:omap":ua,"tag:yaml.org,2002:pairs":ca,"tag:yaml.org,2002:set":ha,"tag:yaml.org,2002:timestamp":xr};function Kr(i,e,t){const n=Rl.get(e);if(n&&!i)return t&&!n.includes(Ft)?n.concat(Ft):n.slice();let s=n;if(!s)if(Array.isArray(i))s=[];else{const r=Array.from(Rl.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${r} or define customTags array`)}if(Array.isArray(i))for(const r of i)s=s.concat(r);else typeof i=="function"&&(s=i(s.slice()));return t&&(s=s.concat(Ft)),s.reduce((r,o)=>{const a=typeof o=="string"?Vl[o]:o;if(!a){const l=JSON.stringify(o),c=Object.keys(Vl).map(d=>JSON.stringify(d)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${c}`)}return r.includes(a)||r.push(a),r},[])}const Qb=(i,e)=>i.key<e.key?-1:i.key>e.key?1:0;class pa{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:s,schema:r,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Kr(e,"compat"):e?Kr(null,e):null,this.name=typeof r=="string"&&r||"core",this.knownTags=s?_b:{},this.tags=Kr(t,this.name,n),this.toStringOptions=a??null,Object.defineProperty(this,pn,{value:Xi}),Object.defineProperty(this,Yt,{value:Gr}),Object.defineProperty(this,Wi,{value:Ii}),this.sortMapEntries=typeof o=="function"?o:o===!0?Qb:null}clone(){const e=Object.create(pa.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function $b(i,e){var l;const t=[];let n=e.directives===!0;if(e.directives!==!1&&i.directives){const c=i.directives.toString(i);c?(t.push(c),n=!0):i.directives.docStart&&(n=!0)}n&&t.push("---");const s=Nu(i,e),{commentString:r}=s.options;if(i.commentBefore){t.length!==1&&t.unshift("");const c=r(i.commentBefore);t.unshift(Ot(c,""))}let o=!1,a=null;if(i.contents){if(pe(i.contents)){if(i.contents.spaceBefore&&n&&t.push(""),i.contents.commentBefore){const u=r(i.contents.commentBefore);t.push(Ot(u,""))}s.forceBlockIndent=!!i.comment,a=i.contents.comment}const c=a?void 0:()=>o=!0;let d=gi(i.contents,s,()=>a=null,c);a&&(d+=Tn(d,"",r(a))),(d[0]==="|"||d[0]===">")&&t[t.length-1]==="---"?t[t.length-1]=`--- ${d}`:t.push(d)}else t.push(gi(i.contents,s));if((l=i.directives)!=null&&l.docEnd)if(i.comment){const c=r(i.comment);c.includes(`
`)?(t.push("..."),t.push(Ot(c,""))):t.push(`... ${c}`)}else t.push("...");else{let c=i.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&t[t.length-1]!==""&&t.push(""),t.push(Ot(r(c),"")))}return t.join(`
`)+`
`}class Xr{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,ut,{value:To});let s=null;typeof t=="function"||Array.isArray(t)?s=t:n===void 0&&t&&(n=t,t=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=r;let{version:o}=r;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Oe({version:o}),this.setSchema(o,n),this.contents=e===void 0?null:this.createNode(e,s,n)}clone(){const e=Object.create(Xr.prototype,{[ut]:{value:To}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=pe(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Jn(this.contents)&&this.contents.add(e)}addIn(e,t){Jn(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=Lu(this);e.anchor=!t||n.has(t)?Yu(t||"a",n):t}return new ia(e.anchor)}createNode(e,t,n){let s;if(typeof t=="function")e=t.call({"":e},"",e),s=t;else if(Array.isArray(t)){const f=v=>typeof v=="number"||v instanceof String||v instanceof Number,g=t.filter(f).map(String);g.length>0&&(t=t.concat(g)),s=t}else n===void 0&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:r,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:d}=n??{},{onAnchor:u,setAnchors:p,sourceObjects:m}=Wb(this,o||"a"),y={aliasDuplicateObjects:r??!0,keepUndefined:l??!1,onAnchor:u,onTagObj:c,replacer:s,schema:this.schema,sourceObjects:m},h=_i(e,d,y);return a&&me(h)&&(h.flow=!0),p(),h}createPair(e,t,n={}){const s=this.createNode(e,null,n),r=this.createNode(t,null,n);return new Ke(s,r)}delete(e){return Jn(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Di(e)?this.contents==null?!1:(this.contents=null,!0):Jn(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return me(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return Di(e)?!t&&se(this.contents)?this.contents.value:this.contents:me(this.contents)?this.contents.getIn(e,t):void 0}has(e){return me(this.contents)?this.contents.has(e):!1}hasIn(e){return Di(e)?this.contents!==void 0:me(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=ir(this.schema,[e],t):Jn(this.contents)&&this.contents.set(e,t)}setIn(e,t){Di(e)?this.contents=t:this.contents==null?this.contents=ir(this.schema,Array.from(e),t):Jn(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let n;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Oe({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Oe({version:e}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const s=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(n)this.schema=new pa(Object.assign(n,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:s,onAnchor:r,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},l=ct(this.contents,t??"",a);if(typeof r=="function")for(const{count:c,res:d}of a.anchors.values())r(d,c);return typeof o=="function"?_n(o,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return $b(this,e)}}function Jn(i){if(me(i))return!0;throw new Error("Expected a YAML collection as document contents")}class sd extends Error{constructor(e,t,n,s){super(),this.name=e,this.code=n,this.message=s,this.pos=t}}class Wn extends sd{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class qb extends sd{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const Cl=(i,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(a=>e.linePos(a));const{line:n,col:s}=t.linePos[0];t.message+=` at line ${n}, column ${s}`;let r=s-1,o=i.substring(e.lineStarts[n-1],e.lineStarts[n]).replace(/[\n\r]+$/,"");if(r>=60&&o.length>80){const a=Math.min(r-39,o.length-79);o="…"+o.substring(a),r-=a-1}if(o.length>80&&(o=o.substring(0,79)+"…"),n>1&&/^ *$/.test(o.substring(0,r))){let a=i.substring(e.lineStarts[n-2],e.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+`…
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=t.linePos[1];l&&l.line===n&&l.col>s&&(a=Math.max(1,Math.min(l.col-s,80-r)));const c=" ".repeat(r)+"^".repeat(a);t.message+=`:

${o}
${c}
`}};function vi(i,{flow:e,indicator:t,next:n,offset:s,onError:r,parentIndent:o,startOnNewline:a}){let l=!1,c=a,d=a,u="",p="",m=!1,y=!1,h=null,f=null,g=null,v=null,Z=null,G=null,T=null;for(const x of i)switch(y&&(x.type!=="space"&&x.type!=="newline"&&x.type!=="comma"&&r(x.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y=!1),h&&(c&&x.type!=="comment"&&x.type!=="newline"&&r(h,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=null),x.type){case"space":!e&&(t!=="doc-start"||(n==null?void 0:n.type)!=="flow-collection")&&x.source.includes("	")&&(h=x),d=!0;break;case"comment":{d||r(x,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const Y=x.source.substring(1)||" ";u?u+=p+Y:u=Y,p="",c=!1;break}case"newline":c?u?u+=x.source:(!G||t!=="seq-item-ind")&&(l=!0):p+=x.source,c=!0,m=!0,(f||g)&&(v=x),d=!0;break;case"anchor":f&&r(x,"MULTIPLE_ANCHORS","A node can have at most one anchor"),x.source.endsWith(":")&&r(x.offset+x.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),f=x,T??(T=x.offset),c=!1,d=!1,y=!0;break;case"tag":{g&&r(x,"MULTIPLE_TAGS","A node can have at most one tag"),g=x,T??(T=x.offset),c=!1,d=!1,y=!0;break}case t:(f||g)&&r(x,"BAD_PROP_ORDER",`Anchors and tags must be after the ${x.source} indicator`),G&&r(x,"UNEXPECTED_TOKEN",`Unexpected ${x.source} in ${e??"collection"}`),G=x,c=t==="seq-item-ind"||t==="explicit-key-ind",d=!1;break;case"comma":if(e){Z&&r(x,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),Z=x,c=!1,d=!1;break}default:r(x,"UNEXPECTED_TOKEN",`Unexpected ${x.type} token`),c=!1,d=!1}const I=i[i.length-1],K=I?I.offset+I.source.length:s;return y&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&r(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h&&(c&&h.indent<=o||(n==null?void 0:n.type)==="block-map"||(n==null?void 0:n.type)==="block-seq")&&r(h,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:Z,found:G,spaceBefore:l,comment:u,hasNewline:m,anchor:f,tag:g,newlineAfterProp:v,end:K,start:T??K}}function Qi(i){if(!i)return null;switch(i.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(i.source.includes(`
`))return!0;if(i.end){for(const e of i.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of i.items){for(const t of e.start)if(t.type==="newline")return!0;if(e.sep){for(const t of e.sep)if(t.type==="newline")return!0}if(Qi(e.key)||Qi(e.value))return!0}return!1;default:return!0}}function Xo(i,e,t){if((e==null?void 0:e.type)==="flow-collection"){const n=e.end[0];n.indent===i&&(n.source==="]"||n.source==="}")&&Qi(e)&&t(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function rd(i,e,t){const{uniqueKeys:n}=i.options;if(n===!1)return!1;const s=typeof n=="function"?n:(r,o)=>r===o||se(r)&&se(o)&&r.value===o.value;return e.some(r=>s(r.key,t))}const Ll="All mapping items must start at the same column";function ey({composeNode:i,composeEmptyNode:e},t,n,s,r){var d;const o=(r==null?void 0:r.nodeClass)??ot,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let l=n.offset,c=null;for(const u of n.items){const{start:p,key:m,sep:y,value:h}=u,f=vi(p,{indicator:"explicit-key-ind",next:m??(y==null?void 0:y[0]),offset:l,onError:s,parentIndent:n.indent,startOnNewline:!0}),g=!f.found;if(g){if(m&&(m.type==="block-seq"?s(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in m&&m.indent!==n.indent&&s(l,"BAD_INDENT",Ll)),!f.anchor&&!f.tag&&!y){c=f.end,f.comment&&(a.comment?a.comment+=`
`+f.comment:a.comment=f.comment);continue}(f.newlineAfterProp||Qi(m))&&s(m??p[p.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((d=f.found)==null?void 0:d.indent)!==n.indent&&s(l,"BAD_INDENT",Ll);t.atKey=!0;const v=f.end,Z=m?i(t,m,f,s):e(t,v,p,null,f,s);t.schema.compat&&Xo(n.indent,m,s),t.atKey=!1,rd(t,a.items,Z)&&s(v,"DUPLICATE_KEY","Map keys must be unique");const G=vi(y??[],{indicator:"map-value-ind",next:h,offset:Z.range[2],onError:s,parentIndent:n.indent,startOnNewline:!m||m.type==="block-scalar"});if(l=G.end,G.found){g&&((h==null?void 0:h.type)==="block-map"&&!G.hasNewline&&s(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&f.start<G.found.offset-1024&&s(Z.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const T=h?i(t,h,G,s):e(t,l,y,null,G,s);t.schema.compat&&Xo(n.indent,h,s),l=T.range[2];const I=new Ke(Z,T);t.options.keepSourceTokens&&(I.srcToken=u),a.items.push(I)}else{g&&s(Z.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),G.comment&&(Z.comment?Z.comment+=`
`+G.comment:Z.comment=G.comment);const T=new Ke(Z);t.options.keepSourceTokens&&(T.srcToken=u),a.items.push(T)}}return c&&c<l&&s(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[n.offset,l,c??l],a}function ty({composeNode:i,composeEmptyNode:e},t,n,s,r){const o=(r==null?void 0:r.nodeClass)??En,a=new o(t.schema);t.atRoot&&(t.atRoot=!1),t.atKey&&(t.atKey=!1);let l=n.offset,c=null;for(const{start:d,value:u}of n.items){const p=vi(d,{indicator:"seq-item-ind",next:u,offset:l,onError:s,parentIndent:n.indent,startOnNewline:!0});if(!p.found)if(p.anchor||p.tag||u)u&&u.type==="block-seq"?s(p.end,"BAD_INDENT","All sequence items must start at the same column"):s(l,"MISSING_CHAR","Sequence item without - indicator");else{c=p.end,p.comment&&(a.comment=p.comment);continue}const m=u?i(t,u,p,s):e(t,p.end,d,null,p,s);t.schema.compat&&Xo(n.indent,u,s),l=m.range[2],a.items.push(m)}return a.range=[n.offset,l,c??l],a}function fs(i,e,t,n){let s="";if(i){let r=!1,o="";for(const a of i){const{source:l,type:c}=a;switch(c){case"space":r=!0;break;case"comment":{t&&!r&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const d=l.substring(1)||" ";s?s+=o+d:s=d,o="";break}case"newline":s&&(o+=l),r=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:s,offset:e}}const Pr="Block collections are not allowed within flow collections",Ur=i=>i&&(i.type==="block-map"||i.type==="block-seq");function ny({composeNode:i,composeEmptyNode:e},t,n,s,r){const o=n.start.source==="{",a=o?"flow map":"flow sequence",l=(r==null?void 0:r.nodeClass)??(o?ot:En),c=new l(t.schema);c.flow=!0;const d=t.atRoot;d&&(t.atRoot=!1),t.atKey&&(t.atKey=!1);let u=n.offset+n.start.source.length;for(let f=0;f<n.items.length;++f){const g=n.items[f],{start:v,key:Z,sep:G,value:T}=g,I=vi(v,{flow:a,indicator:"explicit-key-ind",next:Z??(G==null?void 0:G[0]),offset:u,onError:s,parentIndent:n.indent,startOnNewline:!1});if(!I.found){if(!I.anchor&&!I.tag&&!G&&!T){f===0&&I.comma?s(I.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):f<n.items.length-1&&s(I.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),I.comment&&(c.comment?c.comment+=`
`+I.comment:c.comment=I.comment),u=I.end;continue}!o&&t.options.strict&&Qi(Z)&&s(Z,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(f===0)I.comma&&s(I.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(I.comma||s(I.start,"MISSING_CHAR",`Missing , between ${a} items`),I.comment){let K="";e:for(const x of v)switch(x.type){case"comma":case"space":break;case"comment":K=x.source.substring(1);break e;default:break e}if(K){let x=c.items[c.items.length-1];fe(x)&&(x=x.value??x.key),x.comment?x.comment+=`
`+K:x.comment=K,I.comment=I.comment.substring(K.length+1)}}if(!o&&!G&&!I.found){const K=T?i(t,T,I,s):e(t,I.end,G,null,I,s);c.items.push(K),u=K.range[2],Ur(T)&&s(K.range,"BLOCK_IN_FLOW",Pr)}else{t.atKey=!0;const K=I.end,x=Z?i(t,Z,I,s):e(t,K,v,null,I,s);Ur(Z)&&s(x.range,"BLOCK_IN_FLOW",Pr),t.atKey=!1;const Y=vi(G??[],{flow:a,indicator:"map-value-ind",next:T,offset:x.range[2],onError:s,parentIndent:n.indent,startOnNewline:!1});if(Y.found){if(!o&&!I.found&&t.options.strict){if(G)for(const J of G){if(J===Y.found)break;if(J.type==="newline"){s(J,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}I.start<Y.found.offset-1024&&s(Y.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else T&&("source"in T&&T.source&&T.source[0]===":"?s(T,"MISSING_CHAR",`Missing space after : in ${a}`):s(Y.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const M=T?i(t,T,Y,s):Y.found?e(t,Y.end,G,null,Y,s):null;M?Ur(T)&&s(M.range,"BLOCK_IN_FLOW",Pr):Y.comment&&(x.comment?x.comment+=`
`+Y.comment:x.comment=Y.comment);const U=new Ke(x,M);if(t.options.keepSourceTokens&&(U.srcToken=g),o){const J=c;rd(t,J.items,x)&&s(K,"DUPLICATE_KEY","Map keys must be unique"),J.items.push(U)}else{const J=new ot(t.schema);J.flow=!0,J.items.push(U);const dt=(M??x).range;J.range=[x.range[0],dt[1],dt[2]],c.items.push(J)}u=M?M.range[2]:Y.end}}const p=o?"}":"]",[m,...y]=n.end;let h=u;if(m&&m.source===p)h=m.offset+m.source.length;else{const f=a[0].toUpperCase()+a.substring(1),g=d?`${f} must end with a ${p}`:`${f} in block collection must be sufficiently indented and end with a ${p}`;s(u,d?"MISSING_CHAR":"BAD_INDENT",g),m&&m.source.length!==1&&y.unshift(m)}if(y.length>0){const f=fs(y,h,t.options.strict,s);f.comment&&(c.comment?c.comment+=`
`+f.comment:c.comment=f.comment),c.range=[n.offset,h,f.offset]}else c.range=[n.offset,h,h];return c}function Jr(i,e,t,n,s,r){const o=t.type==="block-map"?ey(i,e,t,n,r):t.type==="block-seq"?ty(i,e,t,n,r):ny(i,e,t,n,r),a=o.constructor;return s==="!"||s===a.tagName?(o.tag=a.tagName,o):(s&&(o.tag=s),o)}function iy(i,e,t,n,s){var p;const r=n.tag,o=r?e.directives.tagName(r.source,m=>s(r,"TAG_RESOLVE_FAILED",m)):null;if(t.type==="block-seq"){const{anchor:m,newlineAfterProp:y}=n,h=m&&r?m.offset>r.offset?m:r:m??r;h&&(!y||y.offset<h.offset)&&s(h,"MISSING_CHAR","Missing newline after block sequence props")}const a=t.type==="block-map"?"map":t.type==="block-seq"?"seq":t.start.source==="{"?"map":"seq";if(!r||!o||o==="!"||o===ot.tagName&&a==="map"||o===En.tagName&&a==="seq")return Jr(i,e,t,s,o);let l=e.schema.tags.find(m=>m.tag===o&&m.collection===a);if(!l){const m=e.schema.knownTags[o];if(m&&m.collection===a)e.schema.tags.push(Object.assign({},m,{default:!1})),l=m;else return m?s(r,"BAD_COLLECTION_TYPE",`${m.tag} used for ${a} collection, but expects ${m.collection??"scalar"}`,!0):s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),Jr(i,e,t,s,o)}const c=Jr(i,e,t,s,o,l),d=((p=l.resolve)==null?void 0:p.call(l,c,m=>s(r,"TAG_RESOLVE_FAILED",m),e.options))??c,u=pe(d)?d:new F(d);return u.range=c.range,u.tag=o,l!=null&&l.format&&(u.format=l.format),u}function sy(i,e,t){const n=e.offset,s=ry(e,i.options.strict,t);if(!s)return{value:"",type:null,comment:"",range:[n,n,n]};const r=s.mode===">"?F.BLOCK_FOLDED:F.BLOCK_LITERAL,o=e.source?oy(e.source):[];let a=o.length;for(let h=o.length-1;h>=0;--h){const f=o[h][1];if(f===""||f==="\r")a=h;else break}if(a===0){const h=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let f=n+s.length;return e.source&&(f+=e.source.length),{value:h,type:r,comment:s.comment,range:[n,f,f]}}let l=e.indent+s.indent,c=e.offset+s.length,d=0;for(let h=0;h<a;++h){const[f,g]=o[h];if(g===""||g==="\r")s.indent===0&&f.length>l&&(l=f.length);else{f.length<l&&t(c+f.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(l=f.length),d=h,l===0&&!i.atRoot&&t(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=f.length+g.length+1}for(let h=o.length-1;h>=a;--h)o[h][0].length>l&&(a=h+1);let u="",p="",m=!1;for(let h=0;h<d;++h)u+=o[h][0].slice(l)+`
`;for(let h=d;h<a;++h){let[f,g]=o[h];c+=f.length+g.length+1;const v=g[g.length-1]==="\r";if(v&&(g=g.slice(0,-1)),g&&f.length<l){const G=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;t(c-g.length-(v?2:1),"BAD_INDENT",G),f=""}r===F.BLOCK_LITERAL?(u+=p+f.slice(l)+g,p=`
`):f.length>l||g[0]==="	"?(p===" "?p=`
`:!m&&p===`
`&&(p=`

`),u+=p+f.slice(l)+g,p=`
`,m=!0):g===""?p===`
`?u+=`
`:p=`
`:(u+=p+g,p=" ",m=!1)}switch(s.chomp){case"-":break;case"+":for(let h=a;h<o.length;++h)u+=`
`+o[h][0].slice(l);u[u.length-1]!==`
`&&(u+=`
`);break;default:u+=`
`}const y=n+s.length+e.source.length;return{value:u,type:r,comment:s.comment,range:[n,y,y]}}function ry({offset:i,props:e},t,n){if(e[0].type!=="block-scalar-header")return n(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=e[0],r=s[0];let o=0,a="",l=-1;for(let p=1;p<s.length;++p){const m=s[p];if(!a&&(m==="-"||m==="+"))a=m;else{const y=Number(m);!o&&y?o=y:l===-1&&(l=i+p)}}l!==-1&&n(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let c=!1,d="",u=s.length;for(let p=1;p<e.length;++p){const m=e[p];switch(m.type){case"space":c=!0;case"newline":u+=m.source.length;break;case"comment":t&&!c&&n(m,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),u+=m.source.length,d=m.source.substring(1);break;case"error":n(m,"UNEXPECTED_TOKEN",m.message),u+=m.source.length;break;default:{const y=`Unexpected token in block scalar header: ${m.type}`;n(m,"UNEXPECTED_TOKEN",y);const h=m.source;h&&typeof h=="string"&&(u+=h.length)}}}return{mode:r,indent:o,chomp:a,comment:d,length:u}}function oy(i){const e=i.split(/\n( *)/),t=e[0],n=t.match(/^( *)/),r=[n!=null&&n[1]?[n[1],t.slice(n[1].length)]:["",t]];for(let o=1;o<e.length;o+=2)r.push([e[o],e[o+1]]);return r}function ay(i,e,t){const{offset:n,type:s,source:r,end:o}=i;let a,l;const c=(p,m,y)=>t(n+p,m,y);switch(s){case"scalar":a=F.PLAIN,l=ly(r,c);break;case"single-quoted-scalar":a=F.QUOTE_SINGLE,l=cy(r,c);break;case"double-quoted-scalar":a=F.QUOTE_DOUBLE,l=uy(r,c);break;default:return t(i,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[n,n+r.length,n+r.length]}}const d=n+r.length,u=fs(o,d,e,t);return{value:l,type:a,comment:u.comment,range:[n,d,u.offset]}}function ly(i,e){let t="";switch(i[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${i[0]}`;break}case"@":case"`":{t=`reserved character ${i[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),od(i)}function cy(i,e){return(i[i.length-1]!=="'"||i.length===1)&&e(i.length,"MISSING_CHAR","Missing closing 'quote"),od(i.slice(1,-1)).replace(/''/g,"'")}function od(i){let e,t;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),t=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,t=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=e.exec(i);if(!n)return i;let s=n[1],r=" ",o=e.lastIndex;for(t.lastIndex=o;n=t.exec(i);)n[1]===""?r===`
`?s+=r:r=`
`:(s+=r+n[1],r=" "),o=t.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,n=a.exec(i),s+r+((n==null?void 0:n[1])??"")}function uy(i,e){let t="";for(let n=1;n<i.length-1;++n){const s=i[n];if(!(s==="\r"&&i[n+1]===`
`))if(s===`
`){const{fold:r,offset:o}=dy(i,n);t+=r,n=o}else if(s==="\\"){let r=i[++n];const o=hy[r];if(o)t+=o;else if(r===`
`)for(r=i[n+1];r===" "||r==="	";)r=i[++n+1];else if(r==="\r"&&i[n+1]===`
`)for(r=i[++n+1];r===" "||r==="	";)r=i[++n+1];else if(r==="x"||r==="u"||r==="U"){const a={x:2,u:4,U:8}[r];t+=my(i,n+1,a,e),n+=a}else{const a=i.substr(n-1,2);e(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),t+=a}}else if(s===" "||s==="	"){const r=n;let o=i[n+1];for(;o===" "||o==="	";)o=i[++n+1];o!==`
`&&!(o==="\r"&&i[n+2]===`
`)&&(t+=n>r?i.slice(r,n+1):s)}else t+=s}return(i[i.length-1]!=='"'||i.length===1)&&e(i.length,"MISSING_CHAR",'Missing closing "quote'),t}function dy(i,e){let t="",n=i[e+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&i[e+2]!==`
`);)n===`
`&&(t+=`
`),e+=1,n=i[e+1];return t||(t=" "),{fold:t,offset:e}}const hy={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function my(i,e,t,n){const s=i.substr(e,t),o=s.length===t&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const a=i.substr(e-2,t+2);return n(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function ad(i,e,t,n){const{value:s,type:r,comment:o,range:a}=e.type==="block-scalar"?sy(i,e,n):ay(e,i.options.strict,n),l=t?i.directives.tagName(t.source,u=>n(t,"TAG_RESOLVE_FAILED",u)):null;let c;i.options.stringKeys&&i.atKey?c=i.schema[Yt]:l?c=py(i.schema,s,l,t,n):e.type==="scalar"?c=fy(i,s,e,n):c=i.schema[Yt];let d;try{const u=c.resolve(s,p=>n(t??e,"TAG_RESOLVE_FAILED",p),i.options);d=se(u)?u:new F(u)}catch(u){const p=u instanceof Error?u.message:String(u);n(t??e,"TAG_RESOLVE_FAILED",p),d=new F(s)}return d.range=a,d.source=s,r&&(d.type=r),l&&(d.tag=l),c.format&&(d.format=c.format),o&&(d.comment=o),d}function py(i,e,t,n,s){var a;if(t==="!")return i[Yt];const r=[];for(const l of i.tags)if(!l.collection&&l.tag===t)if(l.default&&l.test)r.push(l);else return l;for(const l of r)if((a=l.test)!=null&&a.test(e))return l;const o=i.knownTags[t];return o&&!o.collection?(i.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),i[Yt])}function fy({atKey:i,directives:e,schema:t},n,s,r){const o=t.tags.find(a=>{var l;return(a.default===!0||i&&a.default==="key")&&((l=a.test)==null?void 0:l.test(n))})||t[Yt];if(t.compat){const a=t.compat.find(l=>{var c;return l.default&&((c=l.test)==null?void 0:c.test(n))})??t[Yt];if(o.tag!==a.tag){const l=e.tagString(o.tag),c=e.tagString(a.tag),d=`Value may be parsed as either ${l} or ${c}`;r(s,"TAG_RESOLVE_FAILED",d,!0)}}return o}function by(i,e,t){if(e){t??(t=e.length);for(let n=t-1;n>=0;--n){let s=e[n];switch(s.type){case"space":case"comment":case"newline":i-=s.source.length;continue}for(s=e[++n];(s==null?void 0:s.type)==="space";)i+=s.source.length,s=e[++n];break}}return i}const yy={composeNode:ld,composeEmptyNode:fa};function ld(i,e,t,n){const s=i.atKey,{spaceBefore:r,comment:o,anchor:a,tag:l}=t;let c,d=!0;switch(e.type){case"alias":c=gy(i,e,n),(a||l)&&n(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=ad(i,e,l,n),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=iy(yy,i,e,t,n),a&&(c.anchor=a.source.substring(1));break;default:{const u=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;n(e,"UNEXPECTED_TOKEN",u),c=fa(i,e.offset,void 0,null,t,n),d=!1}}return a&&c.anchor===""&&n(a,"BAD_ALIAS","Anchor cannot be an empty string"),s&&i.options.stringKeys&&(!se(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&n(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),r&&(c.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?c.comment=o:c.commentBefore=o),i.options.keepSourceTokens&&d&&(c.srcToken=e),c}function fa(i,e,t,n,{spaceBefore:s,comment:r,anchor:o,tag:a,end:l},c){const d={type:"scalar",offset:by(e,t,n),indent:-1,source:""},u=ad(i,d,a,c);return o&&(u.anchor=o.source.substring(1),u.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(u.spaceBefore=!0),r&&(u.comment=r,u.range[2]=l),u}function gy({options:i},{offset:e,source:t,end:n},s){const r=new ia(t.substring(1));r.source===""&&s(e,"BAD_ALIAS","Alias cannot be an empty string"),r.source.endsWith(":")&&s(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+t.length,a=fs(n,o,i.strict,s);return r.range=[e,o,a.offset],a.comment&&(r.comment=a.comment),r}function vy(i,e,{offset:t,start:n,value:s,end:r},o){const a=Object.assign({_directives:e},i),l=new Xr(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},d=vi(n,{indicator:"doc-start",next:s??(r==null?void 0:r[0]),offset:t,onError:o,parentIndent:0,startOnNewline:!0});d.found&&(l.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!d.hasNewline&&o(d.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=s?ld(c,s,d,o):fa(c,d.end,n,null,d,o);const u=l.contents.range[2],p=fs(r,u,!1,o);return p.comment&&(l.comment=p.comment),l.range=[t,u,p.offset],l}function Yi(i){if(typeof i=="number")return[i,i+1];if(Array.isArray(i))return i.length===2?i:[i[0],i[1]];const{offset:e,source:t}=i;return[e,e+(typeof t=="string"?t.length:1)]}function Yl(i){var s;let e="",t=!1,n=!1;for(let r=0;r<i.length;++r){const o=i[r];switch(o[0]){case"#":e+=(e===""?"":n?`

`:`
`)+(o.substring(1)||" "),t=!0,n=!1;break;case"%":((s=i[r+1])==null?void 0:s[0])!=="#"&&(r+=1),t=!1;break;default:t||(n=!0),t=!1}}return{comment:e,afterEmptyLine:n}}class Zy{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,n,s,r)=>{const o=Yi(t);r?this.warnings.push(new qb(o,n,s)):this.errors.push(new Wn(o,n,s))},this.directives=new Oe({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:s}=Yl(this.prelude);if(n){const r=e.contents;if(t)e.comment=e.comment?`${e.comment}
${n}`:n;else if(s||e.directives.docStart||!r)e.commentBefore=n;else if(me(r)&&!r.flow&&r.items.length>0){let o=r.items[0];fe(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${n}
${a}`:n}else{const o=r.commentBefore;r.commentBefore=o?`${n}
${o}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Yl(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const s of e)yield*this.next(s);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,n,s)=>{const r=Yi(e);r[0]+=t,this.onError(r,"BAD_DIRECTIVE",n,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=vy(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new Wn(Yi(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const n="Unexpected doc-end without preceding document";this.errors.push(new Wn(Yi(e),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;const t=fs(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const n=this.doc.comment;this.doc.comment=n?`${n}
${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new Wn(Yi(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const n=Object.assign({_directives:this.directives},this.options),s=new Xr(void 0,n);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,t,t],this.decorate(s,!1),yield s}}}const cd="\uFEFF",ud="",dd="",Io="";function Sy(i){switch(i){case cd:return"byte-order-mark";case ud:return"doc-mode";case dd:return"flow-error-end";case Io:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(i[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function ft(i){switch(i){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const El=new Set("0123456789ABCDEFabcdef"),wy=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),xs=new Set(",[]{}"),Gy=new Set(` ,[]{}
\r	`),Br=i=>!i||Gy.has(i);class Ty{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
`?!0:t==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;t===" ";)t=this.buffer[++n+e];if(t==="\r"){const s=this.buffer[n+e+1];if(s===`
`||!s&&!this.atEnd)return e+n+1}return t===`
`||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if(t==="-"||t==="."){const n=this.buffer.substr(e,3);if((n==="---"||n==="...")&&ft(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===cd&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length,n=e.indexOf("#");for(;n!==-1;){const r=e[n-1];if(r===" "||r==="	"){t=n-1;break}else n=e.indexOf("#",n+1)}for(;;){const r=e[t-1];if(r===" "||r==="	")t-=1;else break}const s=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield ud,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if((t==="---"||t==="...")&&ft(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,t==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ft(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&ft(t)){const n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Br),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&s[0]!=="#"||n===0&&(s.startsWith("---")||s.startsWith("..."))&&ft(s[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield dd,yield*this.parseLineStart();let r=0;for(;s[r]===",";)r+=yield*this.pushCount(1),r+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(r+=yield*this.pushIndicators(),s[r]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Br),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||ft(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let r=0;for(;this.buffer[t-1-r]==="\\";)r+=1;if(r%2===0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let s=n.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const r=this.continueScalar(s+1);if(r===-1)break;s=n.indexOf(`
`,r)}s!==-1&&(t=s-(n[s-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>ft(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,n;e:for(let r=this.pos;n=this.buffer[r];++r)switch(n){case" ":t+=1;break;case`
`:e=r,t=0;break;case"\r":{const o=this.buffer[r+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let s=e+1;for(n=this.buffer[s];n===" ";)n=this.buffer[++s];if(n==="	"){for(;n==="	"||n===" "||n==="\r"||n===`
`;)n=this.buffer[++s];e=s-1}else if(!this.blockScalarKeep)do{let r=e-1,o=this.buffer[r];o==="\r"&&(o=this.buffer[--r]);const a=r;for(;o===" ";)o=this.buffer[--r];if(o===`
`&&r>=this.pos&&r+1+t>a)e=r;else break}while(!0);return yield Io,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t=this.pos-1,n=this.pos-1,s;for(;s=this.buffer[++n];)if(s===":"){const r=this.buffer[n+1];if(ft(r)||e&&xs.has(r))break;t=n}else if(ft(s)){let r=this.buffer[n+1];if(s==="\r"&&(r===`
`?(n+=1,s=`
`,r=this.buffer[n+1]):t=n),r==="#"||e&&xs.has(r))break;if(s===`
`){const o=this.continueScalar(n+1);if(o===-1)break;n=Math.max(n,o-2)}}else{if(e&&xs.has(s))break;t=n}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield Io,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Br))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(ft(t)||e&&xs.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!ft(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(wy.has(t))t=this.buffer[++e];else if(t==="%"&&El.has(this.buffer[e+1])&&El.has(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,n;do n=this.buffer[++t];while(n===" "||e&&n==="	");const s=t-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=t),s}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class ky{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const r=t+n>>1;this.lineStarts[r]<e?t=r+1:n=r}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};const s=this.lineStarts[t-1];return{line:t,col:e-s+1}}}}function tn(i,e){for(let t=0;t<i.length;++t)if(i[t].type===e)return!0;return!1}function Ml(i){for(let e=0;e<i.length;++e)switch(i[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function hd(i){switch(i==null?void 0:i.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Xs(i){switch(i.type){case"document":return i.start;case"block-map":{const e=i.items[i.items.length-1];return e.sep??e.start}case"block-seq":return i.items[i.items.length-1].start;default:return[]}}function Bn(i){var t;if(i.length===0)return[];let e=i.length;e:for(;--e>=0;)switch(i[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((t=i[++e])==null?void 0:t.type)==="space";);return i.splice(e,i.length)}function zl(i){if(i.start.type==="flow-seq-start")for(const e of i.items)e.sep&&!e.value&&!tn(e.start,"explicit-key-ind")&&!tn(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,hd(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Wy{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Ty,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const t=Sy(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const n=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(!t)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield t;else{const n=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in n?n.indent:0:t.type==="flow-collection"&&n.type==="document"&&(t.indent=0),t.type==="flow-collection"&&zl(t),n.type){case"document":n.value=t;break;case"block-scalar":n.props.push(t);break;case"block-map":{const s=n.items[n.items.length-1];if(s.value){n.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=t;else{Object.assign(s,{key:t,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=n.items[n.items.length-1];s.value?n.items.push({start:[],value:t}):s.value=t;break}case"flow-collection":{const s=n.items[n.items.length-1];!s||s.value?n.items.push({start:[],key:t,sep:[]}):s.sep?s.value=t:Object.assign(s,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){const s=t.items[t.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&Ml(s.start)===-1&&(t.indent===0||s.start.every(r=>r.type!=="comment"||r.indent<t.indent))&&(n.type==="document"?n.end=s.start:n.items.push({start:s.start}),t.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Ml(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const t=Xs(this.peek(2)),n=Bn(t);let s;e.end?(s=e.end,s.push(this.sourceToken),delete e.end):s=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var n;const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const s="end"in t.value?t.value.end:void 0,r=Array.isArray(s)?s[s.length-1]:void 0;(r==null?void 0:r.type)==="comment"?s==null||s.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const s=e.items[e.items.length-2],r=(n=s==null?void 0:s.value)==null?void 0:n.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent,r=s&&(t.sep||t.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(r&&t.sep&&!t.value){const a=[];for(let l=0;l<t.sep.length;++l){const c=t.sep[l];switch(c.type){case"newline":a.push(l);break;case"space":break;case"comment":c.indent>e.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(o=t.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":r||t.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":!t.sep&&!t.explicitKey?(t.start.push(this.sourceToken),t.explicitKey=!0):r||t.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(t.explicitKey)if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(tn(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(hd(t.key)&&!tn(t.sep,"newline")){const a=Bn(t.start),l=t.key,c=t.sep;c.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:l,sep:c}]})}else o.length>0?t.sep=t.sep.concat(o,this.sourceToken):t.sep.push(this.sourceToken);else if(tn(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const a=Bn(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||r?e.items.push({start:o,key:null,sep:[this.sourceToken]}):tn(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);r||t.value?(e.items.push({start:o,key:a,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(a):(Object.assign(t,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(e);if(a){if(a.type==="block-seq"){if(!t.explicitKey&&t.sep&&!tn(t.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else s&&e.items.push({start:o});this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var n;const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const s="end"in t.value?t.value.end:void 0,r=Array.isArray(s)?s[s.length-1]:void 0;(r==null?void 0:r.type)==="comment"?s==null||s.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const s=e.items[e.items.length-2],r=(n=s==null?void 0:s.value)==null?void 0:n.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||tn(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:s,sep:[]}):t.sep?this.stack.push(s):Object.assign(t,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===e.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){const s=Xs(n),r=Bn(s);zl(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=Xs(e),n=Bn(t);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const t=Xs(e),n=Bn(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function xy(i){const e=i.prettyErrors!==!1;return{lineCounter:i.lineCounter||e&&new ky||null,prettyErrors:e}}function Xy(i,e={}){const{lineCounter:t,prettyErrors:n}=xy(e),s=new Wy(t==null?void 0:t.addNewLine),r=new Zy(e);let o=null;for(const a of r.compose(s.parse(i),!0,i.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new Wn(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&t&&(o.errors.forEach(Cl(i,t)),o.warnings.forEach(Cl(i,t))),o}function md(i,e,t){let n;typeof e=="function"?n=e:t===void 0&&e&&typeof e=="object"&&(t=e);const s=Xy(i,t);if(!s)return null;if(s.warnings.forEach(r=>Hu(s.options.logLevel,r)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:n},t))}const Nl=i=>i.trim().split(/ |,/).filter(e=>!!e&&e.includes("@")||e==="*"||e==="\\*"),Iy=/^([^:]+)(:)(?:\s|$)/,Ry=/^(?!-)\s*([\w\-\.]+)(:)(?:\s|$)/,Vy=/(:)\s+(.+)$/,pd=i=>!!i.match(Bo)||!!i.match(Jo)||!!i.match(Ao)||!!i.match(br),fd=/^---/;function bd(i,e,t,n){let s=t,r=s,o=-1,a=-1;const l=[],c=[];let d=!1;const u=[];let p=i[s];for(;typeof p<"u"&&!(!d&&pd(p));){const h=p.match(fd);if(h){const g={type:P.FrontmatterDelimiter,from:e[r],to:e[r]+4};if(u.push(g),!d)s=r,d=!0;else{u.length===2&&(n.ranges.push(u[0]),n.ranges.push(u[1]));break}}const f=gr(p,r,e,n);if(f||(p=gb(p)),!f&&!h){const g=p.match(Ry);if(g){const v=e[r],Z=g.index+g[0].indexOf(g[1]);l.push({type:P.PropertyKey,from:v+Z,to:v+Z+g[1].length}),l.push({type:P.PropertyKeyColon,from:v+Z+g[1].length,to:v+Z+g[1].length+1}),l.push({type:P.PropertyValue,from:v+Z+g[1].length+1,to:v+p.length}),c.push(p),o===-1&&(o=r),a=r}else if(!d)break}else if(!d)break;p=i[++r]}let m={},y=[];if(c.length)try{const h=md(c.join(`
`),{mapAsMap:!0});y=(()=>{const f=[];for(const g of h.keys())f.push(g);return f})(),m=Ro(h),n.ranges.push(...l)}catch(h){h instanceof Wn&&n.parseMessages.push({type:"error",pos:h.pos.map(f=>e[t]+f),message:h.message}),console.error(h)}if(u.length===2){const h=e[s];n.foldables[h]={startLine:s,startIndex:h,endIndex:e[r]-1,type:"header",foldStartIndex:u.length===2?h+3:h}}else if(o>=0&&a>=0&&a!==o){const h=e[o],f={startLine:o,startIndex:h,endIndex:e[a+1]-1,type:"header",foldStartIndex:h};n.foldables[h]=f}return{properties:m,propOrder:y,i:r}}function Ro(i){const e={};for(const[t,n]of i.entries())n instanceof Map?e[t]=Ro(n):typeof n=="object"&&n!==null&&!Array.isArray(n)?e[t]=Ro(new Map(Object.entries(n))):e[t]=n;return e}function Cy(i,e,t){let n=0,s=n,r=-1,o=-1,a=!1;const l=[],c=[],d=[];let u=i[n];for(;typeof u<"u"&&!(!a&&pd(u));){const h=u.match(fd);if(h){const g={type:P.FrontmatterDelimiter,from:e[s],to:e[s]+4};if(d.push(g),!a)n=s,a=!0;else{d.length===2&&(t.ranges.push(d[0]),t.ranges.push(d[1]));break}}const f=gr(u,s,e,t);if(f||(u=vb(u,s,e,t),l.push(u)),!f&&!h){const g=u.match(Iy);g&&(c.push({type:P.HeaderKey,from:e[s],to:e[s]+g[1].length}),c.push({type:P.HeaderKeyColon,from:e[s]+g[1].length,to:e[s]+g[1].length+1}));const v=u.match(Vy);let Z;v?g?Z=g[0].length+u.substring(g[0].length).indexOf(v[2]):Z=u.indexOf(v[2]):g?Z=-1:Z=0,Z>=0&&c.push({type:P.HeaderValue,from:e[s]+Z,to:e[s]+Z+(v?v[2].length:u.length)})}u.length&&(r===-1&&(r=s),o=s),s++,u=i[s]}try{const h=md(l.join(`
`));if(h.dateFormat||(h.dateFormat=h.dateFormat==="d/M/y"?du:Yn),h.view&&typeof h.view=="string"&&(h.view=Nl(h.view)),h.edit&&typeof h.edit=="string"&&(h.edit=Nl(h.edit)),(typeof h.timezone<"u"||typeof h.tz<"u")&&!mn(h.timezone??h.tz,t.cache))for(let f=n;f<i.length;f++){const g=["timezone:","tz:"];for(let v=0;v<g.length;v++){const Z=g[v];if(i[f].startsWith(Z)){const G=i[f].substring(Z.length).trim(),T=e[f]+i[f].indexOf(G),I=T+G.length;t.parseMessages.push({type:"error",pos:[T,I],message:`Invalid timezone "${G}"`})}}}t.ranges.push(...c),t.header=h}catch(h){h instanceof Wn&&t.parseMessages.push({type:"error",pos:h.pos,message:h.message}),t.header={dateFormat:Yn}}let p,m;if(d.length===2){const h=e[n];p=h,m=e[s]-1,t.foldables[h]={startLine:n,startIndex:p,endIndex:m,type:"header",foldStartIndex:d.length===2?h+3:h}}else if(r>=0&&o>=0&&o!==r){p=e[r],m=e[o+1]-1;const h={startLine:r,startIndex:p,endIndex:m,type:"header",foldStartIndex:p};t.foldables[p]=h}const y=i.length>0||i[0].length>0;return!t.header.timezone&&y&&t.documentMessages.push({type:"warning",message:"Timezone not specified. Specifying a `timezone` in the header is highly recommended."}),s}function Ly(i,e,t,n){i.id&&!n.ids[i.id]&&(n.ids[i.id]=[...e]),(!n.earliest||t.fromDateTime<n.earliest)&&(n.earliest=t.fromDateTime),(!n.latest||t.toDateTime>n.latest)&&(n.latest=t.toDateTime);const s=+t.toDateTime-+t.fromDateTime;(typeof n.maxDuration>"u"||s>n.maxDuration)&&(n.maxDuration=s)}function Yy(i,e,t){const n=i.eventText.match(ff),s=e.indexOf(i.eventText);let r;if(n){const o=s+i.eventText.indexOf(n[0]),a=o+i.eventText.indexOf(n[1])+n[1].length;r=["X","x"].some(c=>n.includes(c));const l={type:P.CheckboxItemIndicator,from:i.dateRangeInText.from+o,to:i.dateRangeInText.from+a,content:r};t.ranges.push(l)}return r}function Ey(i,e,t,n,s){let r=hb(i,t,n,s);if(r||(r=db(i,t,n,s)),r||(r=mb(i,t,n,s)),!r)return t;const{properties:o,i:a,propOrder:l}=bd(e,n,t+1,s),c=[];let d=a-1,u;for(;u=e[++d],!(typeof u!="string"||u.match(Bo)||u.match(Jo)||u.match(Ao)||u.match(br)||s.currentPath.length>1&&u.match(uu));){gr(u,d,n,s),Iu(u,d,n,s);const v=yb(u,d,n,s);v&&c.push(...v)}const p=e.slice(a-1,d),m=Yy(r,i,s);p[0]=r.eventText.trim();const y=new s0(p,c,m),h=o.timezone||o.tz;if(h)if(typeof h=="string"||typeof h=="number"){const v=mn(h,s.cache);v?(r.fromDateTime=r.fromDateTime.setZone(v,{keepLocalTime:!0}),r.toDateTime=r.toDateTime.setZone(v,{keepLocalTime:!0})):s.parseMessages.push({type:"error",message:`Unable to parse timezone "${h}"`,pos:[r.dateRangeInText.from,r.dateRangeInText.to]})}else if(typeof h=="object"){const v=h.from,Z=h.to;if(!v&&!Z&&s.parseMessages.push({type:"error",message:"Unable to parse distinct from and to timezones. Specify 'timezone.from' and/or 'timezone.to' to set zones for the start or end of ranges, respectively.",pos:[r.dateRangeInText.from,r.dateRangeInText.to]}),v){const G=mn(v,s.cache);G?r.fromDateTime=r.fromDateTime.setZone(G,{keepLocalTime:!0}):s.parseMessages.push({type:"error",message:`Unable to parse 'from' timezone "${v}"`,pos:[r.dateRangeInText.from,r.dateRangeInText.to]})}if(Z){const G=mn(Z,s.cache);G?r.toDateTime=r.toDateTime.setZone(G,{keepLocalTime:!0}):s.parseMessages.push({type:"error",message:`Unable to parse 'to' timezone "${Z}"`,pos:[r.dateRangeInText.from,r.dateRangeInText.to]})}}else s.parseMessages.push({type:"error",message:`Unable to parse timezone "${h[1]}"`,pos:[r.dateRangeInText.from,r.dateRangeInText.to]});const f={from:n[t],to:n[d],type:P.Event},g=new o0(i,o,l,r,f,r.dateRangeInText,y,r.originalString);if(g){const v=s.push(g);Ly(g,v,r,s),d-t>1&&f.to-n[t+1]>0&&(s.foldables[n[t]]={startIndex:n[t+1]-1,endIndex:f.to-1,type:"event",foldStartIndex:n[t+1]-1,startLine:t})}return d-1}class My{constructor(e,t,n){if(this.parseMessages=[],this.documentMessages=[],this.events=new jo,this.ids={},this.paletteIndex=0,this.earliest=void 0,this.latest=void 0,this.maxDuration=void 0,this.currentPath=[],this.foldables={},this.foldableSections=[],this.ranges=[],this.header={dateFormat:Yn},this.cache=t,typeof e=="string"){const s=X.fromISO(e);s.isValid?this.now=s:this.now=X.now()}else e?this.now=e:this.now=X.now();n&&(this.priorEvent=()=>n(this))}get zonedNow(){return this.now.setZone(this.timezone)}get timezone(){return this.parentZone()}currentFoldableSection(){return this.foldableSections[this.foldableSections.length-1]}currentFoldableComment(){return this.foldables.comment}startFoldableSection(e){this.foldableSections.push(e)}startFoldable(e){this.foldables[e.type]=e}finishFoldableSection(e,t){const n=this.foldableSections.pop();n&&n.startLine<e-1&&(this.foldables[n.startIndex]={...n,endIndex:t})}finishFoldableComment(e){const t=this.currentFoldableComment();t&&(t.startLine<e-1&&(this.foldables[t.startIndex]={...t}),delete this.foldables.comment)}push(e){const{path:t,tail:n}=mu(e,this.events,this.currentPath.slice(0,-1),this.tail);return n&&(this.head||(this.head=n),this.tail=n),this.currentPath=t,t}endCurrentGroup(e,t){this.currentPath.pop();const n=Fi(this.events,this.currentPath);n.textRanges.whole={...n.textRanges.whole,to:e},this.finishFoldableSection(t.line,e)}toTimeline(){return this.maxDuration&&this.maxDuration/1e3/60/60/24,{events:this.events,ids:this.ids,ranges:this.ranges.sort(({from:e},{from:t})=>e-t),foldables:this.foldables,header:this.header,parseMessages:this.parseMessages.sort(({pos:e,message:t},{pos:n,message:s})=>e[0]-n[0]),documentMessages:this.documentMessages}}priorEvent(){return this.tail}parentZone(){const e=[...this.currentPath];for(e.pop();e.length;){const t=Fi(this.events,e),n=zy((t==null?void 0:t.properties)??[],this.cache);if(n)return n;e.pop()}return mn(this.header.timezone??this.header.tz,this.cache)??ls.instance}priorEventToDateTime(){const e=this.priorEvent();if(e)return qe(e.dateRangeIso).toDateTime}priorEventFromDateTime(){const e=this.priorEvent();if(e)return qe(e.dateRangeIso).fromDateTime}getById(e){const t=this.ids[e];if(t)return Fi(this.events,t)}}function zy(i,e){if(Array.isArray(i)){const t=i.find(([n,s])=>(n==="tz"||n==="timezone")&&(typeof s=="string"||typeof s=="number"));if(t)return mn(t[1],e)}else{const t=(i==null?void 0:i.timezone)??(i==null?void 0:i.tz);if(t)return mn(t,e)}}function Ny(i,e,t,n){return n.currentPath.length>1&&i.match(uu)?(n.ranges.push({from:t[e],to:t[e]+i.length,type:P.Section}),n.endCurrentGroup(t[e]+i.length,{line:e,index:i.length}),!0):!1}function Hy(i,e,t,n){return[gr,Iu,Ny].some(s=>s(i,e,t,n))}class Ir{constructor(e){S(this,"icaltype","binary");this.value=e}static fromString(e){return new Ir(e)}decodeValue(){return this._b64_decode(this.value)}setEncodedValue(e){this.value=this._b64_encode(e)}_b64_encode(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n,s,r,o,a,l,c,d,u=0,p=0,m="",y=[];if(!e)return e;do n=e.charCodeAt(u++),s=e.charCodeAt(u++),r=e.charCodeAt(u++),d=n<<16|s<<8|r,o=d>>18&63,a=d>>12&63,l=d>>6&63,c=d&63,y[p++]=t.charAt(o)+t.charAt(a)+t.charAt(l)+t.charAt(c);while(u<e.length);m=y.join("");let h=e.length%3;return(h?m.slice(0,h-3):m)+"===".slice(h||3)}_b64_decode(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n,s,r,o,a,l,c,d,u=0,p=0,m="",y=[];if(!e)return e;e+="";do o=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),d=o<<18|a<<12|l<<6|c,n=d>>16&255,s=d>>8&255,r=d&255,l==64?y[p++]=String.fromCharCode(n):c==64?y[p++]=String.fromCharCode(n,s):y[p++]=String.fromCharCode(n,s,r);while(u<e.length);return m=y.join(""),m}toString(){return this.value}}const Dy=/([PDWHMTS]{1,1})/,Oy=["weeks","days","hours","minutes","seconds","isNegative"];class ze{constructor(e){S(this,"weeks",0);S(this,"days",0);S(this,"hours",0);S(this,"minutes",0);S(this,"seconds",0);S(this,"isNegative",!1);S(this,"icalclass","icalduration");S(this,"icaltype","duration");this.wrappedJSObject=this,this.fromData(e)}static fromSeconds(e){return new ze().fromSeconds(e)}static isValueString(e){return e[0]==="P"||e[1]==="P"}static fromString(e){let t=0,n=Object.create(null),s=0;for(;(t=e.search(Dy))!==-1;){let r=e[t],o=e.slice(0,Math.max(0,t));e=e.slice(t+1),s+=Fy(r,o,n)}if(s<2)throw new Error('invalid duration value: Not enough duration components in "'+e+'"');return new ze(n)}static fromData(e){return new ze(e)}clone(){return ze.fromData(this)}toSeconds(){let e=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-e:e}fromSeconds(e){let t=Math.abs(e);return this.isNegative=e<0,this.days=Ge(t/86400),this.days%7==0?(this.weeks=this.days/7,this.days=0):this.weeks=0,t-=(this.days+7*this.weeks)*86400,this.hours=Ge(t/3600),t-=this.hours*3600,this.minutes=Ge(t/60),t-=this.minutes*60,this.seconds=t,this}fromData(e){for(let t of Oy)e&&t in e?this[t]=e[t]:this[t]=0}reset(){this.isNegative=!1,this.weeks=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0}compare(e){let t=this.toSeconds(),n=e.toSeconds();return(t>n)-(t<n)}normalize(){this.fromSeconds(this.toSeconds())}toString(){if(this.toSeconds()==0)return"PT0S";{let e="";return this.isNegative&&(e+="-"),e+="P",this.weeks&&(e+=this.weeks+"W"),this.days&&(e+=this.days+"D"),(this.hours||this.minutes||this.seconds)&&(e+="T",this.hours&&(e+=this.hours+"H"),this.minutes&&(e+=this.minutes+"M"),this.seconds&&(e+=this.seconds+"S")),e}}toICALString(){return this.toString()}}function Fy(i,e,t){let n;switch(i){case"P":e&&e==="-"?t.isNegative=!0:t.isNegative=!1;break;case"D":n="days";break;case"W":n="weeks";break;case"H":n="hours";break;case"M":n="minutes";break;case"S":n="seconds";break;default:return 0}if(n){if(!e&&e!==0)throw new Error('invalid duration value: Missing number before "'+i+'"');let s=parseInt(e,10);if($i(s))throw new Error('invalid duration value: Invalid number "'+e+'" before "'+i+'"');t[n]=s}return 1}var di;const R=class R{constructor(e,t){S(this,"icalclass","icaltime");S(this,"_cachedUnixTime",null);S(this,"zone",null);S(this,"_pendingNormalization",!1);this.wrappedJSObject=this;let n=this._time=Object.create(null);n.year=0,n.month=1,n.day=1,n.hour=0,n.minute=0,n.second=0,n.isDate=!1,this.fromData(e,t)}static daysInMonth(e,t){let n=[0,31,28,31,30,31,30,31,31,30,31,30,31],s=30;return e<1||e>12||(s=n[e],e==2&&(s+=R.isLeapYear(t))),s}static isLeapYear(e){return e<=1752?e%4==0:e%4==0&&e%100!=0||e%400==0}static fromDayOfYear(e,t){let n=t,s=e,r=new R;r.auto_normalize=!1;let o=R.isLeapYear(n)?1:0;if(s<1)return n--,o=R.isLeapYear(n)?1:0,s+=R.daysInYearPassedMonth[o][12],R.fromDayOfYear(s,n);if(s>R.daysInYearPassedMonth[o][12])return o=R.isLeapYear(n)?1:0,s-=R.daysInYearPassedMonth[o][12],n++,R.fromDayOfYear(s,n);r.year=n,r.isDate=!0;for(let a=11;a>=0;a--)if(s>R.daysInYearPassedMonth[o][a]){r.month=a+1,r.day=s-R.daysInYearPassedMonth[o][a];break}return r.auto_normalize=!0,r}static fromStringv2(e){return new R({year:parseInt(e.slice(0,4),10),month:parseInt(e.slice(5,7),10),day:parseInt(e.slice(8,10),10),isDate:!0})}static fromDateString(e){return new R({year:Re(e.slice(0,4)),month:Re(e.slice(5,7)),day:Re(e.slice(8,10)),isDate:!0})}static fromDateTimeString(e,t){if(e.length<19)throw new Error('invalid date-time value: "'+e+'"');let n,s;e[19]&&e[19]==="Z"?n=ee.utcTimezone:t&&(s=t.getParameter("tzid"),t.parent&&(t.parent.name==="standard"||t.parent.name==="daylight"?n=ee.localTimezone:s&&(n=t.parent.getTimeZoneByID(s))));const r={year:Re(e.slice(0,4)),month:Re(e.slice(5,7)),day:Re(e.slice(8,10)),hour:Re(e.slice(11,13)),minute:Re(e.slice(14,16)),second:Re(e.slice(17,19))};return s&&!n&&(r.timezone=s),new R(r,n)}static fromString(e,t){return e.length>10?R.fromDateTimeString(e,t):R.fromDateString(e)}static fromJSDate(e,t){return new R().fromJSDate(e,t)}static now(){return R.fromJSDate(new Date,!1)}static weekOneStarts(e,t){let n=R.fromData({year:e,month:1,day:1,isDate:!0}),s=n.dayOfWeek(),r=t||R.DEFAULT_WEEK_START;return s>R.THURSDAY&&(n.day+=7),r>R.THURSDAY&&(n.day-=7),n.day-=s-r,n}static getDominicalLetter(e){let t="GFEDCBA",n=(e+(e/4|0)+(e/400|0)-(e/100|0)-1)%7;return R.isLeapYear(e)?t[(n+6)%7]+t[n]:t[n]}static get epochTime(){return b(this,di)||z(this,di,R.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"})),b(this,di)}static _cmp_attr(e,t,n){return e[n]>t[n]?1:e[n]<t[n]?-1:0}get icaltype(){return this.isDate?"date":"date-time"}clone(){return new R(this._time,this.zone)}reset(){this.fromData(R.epochTime),this.zone=ee.utcTimezone}resetTo(e,t,n,s,r,o,a){this.fromData({year:e,month:t,day:n,hour:s,minute:r,second:o,zone:a})}fromJSDate(e,t){return e?t?(this.zone=ee.utcTimezone,this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()):(this.zone=ee.localTimezone,this.year=e.getFullYear(),this.month=e.getMonth()+1,this.day=e.getDate(),this.hour=e.getHours(),this.minute=e.getMinutes(),this.second=e.getSeconds()):this.reset(),this._cachedUnixTime=null,this}fromData(e,t){if(e)for(let[n,s]of Object.entries(e))n!=="icaltype"&&(this[n]=s);if(t&&(this.zone=t),e&&!("isDate"in e)?this.isDate=!("hour"in e):e&&"isDate"in e&&(this.isDate=e.isDate),e&&"timezone"in e){let n=or.get(e.timezone);this.zone=n||ee.localTimezone}return e&&"zone"in e&&(this.zone=e.zone),this.zone||(this.zone=ee.localTimezone),this._cachedUnixTime=null,this}dayOfWeek(e){let t=e||R.SUNDAY,n=(this.year<<12)+(this.month<<8)+(this.day<<3)+t;if(n in R._dowCache)return R._dowCache[n];let s=this.day,r=this.month+(this.month<3?12:0),o=this.year-(this.month<3?1:0),a=s+o+Ge((r+1)*26/10)+Ge(o/4);return a+=Ge(o/100)*6+Ge(o/400),a=(a+7-t)%7+1,R._dowCache[n]=a,a}dayOfYear(){let e=R.isLeapYear(this.year)?1:0;return R.daysInYearPassedMonth[e][this.month-1]+this.day}startOfWeek(e){let t=e||R.SUNDAY,n=this.clone();return n.day-=(this.dayOfWeek()+7-t)%7,n.isDate=!0,n.hour=0,n.minute=0,n.second=0,n}endOfWeek(e){let t=e||R.SUNDAY,n=this.clone();return n.day+=(7-this.dayOfWeek()+t-R.SUNDAY)%7,n.isDate=!0,n.hour=0,n.minute=0,n.second=0,n}startOfMonth(){let e=this.clone();return e.day=1,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}endOfMonth(){let e=this.clone();return e.day=R.daysInMonth(e.month,e.year),e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}startOfYear(){let e=this.clone();return e.day=1,e.month=1,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}endOfYear(){let e=this.clone();return e.day=31,e.month=12,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}startDoyWeek(e){let t=e||R.SUNDAY,n=this.dayOfWeek()-t;return n<0&&(n+=7),this.dayOfYear()-n}getDominicalLetter(){return R.getDominicalLetter(this.year)}nthWeekDay(e,t){let n=R.daysInMonth(this.month,this.year),s,r=t,o=0,a=this.clone();if(r>=0){a.day=1,r!=0&&r--,o=a.day;let l=a.dayOfWeek(),c=e-l;c<0&&(c+=7),o+=c,o-=e,s=e}else{a.day=n;let l=a.dayOfWeek();r++,s=l-e,s<0&&(s+=7),s=n-s}return s+=r*7,o+s}isNthWeekDay(e,t){let n=this.dayOfWeek();return t===0&&n===e||this.nthWeekDay(e,t)===this.day}weekNumber(e){let t=(this.year<<12)+(this.month<<8)+(this.day<<3)+e;if(t in R._wnCache)return R._wnCache[t];let n,s=this.clone();s.isDate=!0;let r=this.year;s.month==12&&s.day>25?(n=R.weekOneStarts(r+1,e),s.compare(n)<0?n=R.weekOneStarts(r,e):r++):(n=R.weekOneStarts(r,e),s.compare(n)<0&&(n=R.weekOneStarts(--r,e)));let o=s.subtractDate(n).toSeconds()/86400,a=Ge(o/7)+1;return R._wnCache[t]=a,a}addDuration(e){let t=e.isNegative?-1:1,n=this.second,s=this.minute,r=this.hour,o=this.day;n+=t*e.seconds,s+=t*e.minutes,r+=t*e.hours,o+=t*e.days,o+=t*7*e.weeks,this.second=n,this.minute=s,this.hour=r,this.day=o,this._cachedUnixTime=null}subtractDate(e){let t=this.toUnixTime()+this.utcOffset(),n=e.toUnixTime()+e.utcOffset();return ze.fromSeconds(t-n)}subtractDateTz(e){let t=this.toUnixTime(),n=e.toUnixTime();return ze.fromSeconds(t-n)}compare(e){let t=this.toUnixTime(),n=e.toUnixTime();return t>n?1:n>t?-1:0}compareDateOnlyTz(e,t){let n=this.convertToZone(t),s=e.convertToZone(t),r=0;return(r=R._cmp_attr(n,s,"year"))!=0||(r=R._cmp_attr(n,s,"month"))!=0||(r=R._cmp_attr(n,s,"day"))!=0,r}convertToZone(e){let t=this.clone(),n=this.zone.tzid==e.tzid;return!this.isDate&&!n&&ee.convert_time(t,this.zone,e),t.zone=e,t}utcOffset(){return this.zone==ee.localTimezone||this.zone==ee.utcTimezone?0:this.zone.utcOffset(this)}toICALString(){let e=this.toString();return e.length>10?ke.icalendar.value["date-time"].toICAL(e):ke.icalendar.value.date.toICAL(e)}toString(){let e=this.year+"-"+Je(this.month)+"-"+Je(this.day);return this.isDate||(e+="T"+Je(this.hour)+":"+Je(this.minute)+":"+Je(this.second),this.zone===ee.utcTimezone&&(e+="Z")),e}toJSDate(){return this.zone==ee.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(this.toUnixTime()*1e3)}_normalize(){return this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=0),this.adjust(0,0,0,0),this}adjust(e,t,n,s,r){let o,a,l=0,c=0,d,u,p,m,y,h=r||this._time;if(h.isDate||(d=h.second+s,h.second=d%60,o=Ge(d/60),h.second<0&&(h.second+=60,o--),u=h.minute+n+o,h.minute=u%60,a=Ge(u/60),h.minute<0&&(h.minute+=60,a--),p=h.hour+t+a,h.hour=p%24,l=Ge(p/24),h.hour<0&&(h.hour+=24,l--)),h.month>12?c=Ge((h.month-1)/12):h.month<1&&(c=Ge(h.month/12)-1),h.year+=c,h.month-=12*c,m=h.day+e+l,m>0)for(;y=R.daysInMonth(h.month,h.year),!(m<=y);)h.month++,h.month>12&&(h.year++,h.month=1),m-=y;else for(;m<=0;)h.month==1?(h.year--,h.month=12):h.month--,m+=R.daysInMonth(h.month,h.year);return h.day=m,this._cachedUnixTime=null,this}fromUnixTime(e){this.zone=ee.utcTimezone;let t=new Date(e*1e3);this.year=t.getUTCFullYear(),this.month=t.getUTCMonth()+1,this.day=t.getUTCDate(),this._time.isDate?(this.hour=0,this.minute=0,this.second=0):(this.hour=t.getUTCHours(),this.minute=t.getUTCMinutes(),this.second=t.getUTCSeconds()),this._cachedUnixTime=null}toUnixTime(){if(this._cachedUnixTime!==null)return this._cachedUnixTime;let e=this.utcOffset(),t=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-e);return this._cachedUnixTime=t/1e3,this._cachedUnixTime}toJSON(){let e=["year","month","day","hour","minute","second","isDate"],t=Object.create(null),n=0,s=e.length,r;for(;n<s;n++)r=e[n],t[r]=this[r];return this.zone&&(t.timezone=this.zone.tzid),t}};di=new WeakMap,S(R,"_dowCache",{}),S(R,"_wnCache",{}),S(R,"fromData",function(t,n){return new R().fromData(t,n)}),H(R,di,null),S(R,"daysInYearPassedMonth",[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]]),S(R,"SUNDAY",1),S(R,"MONDAY",2),S(R,"TUESDAY",3),S(R,"WEDNESDAY",4),S(R,"THURSDAY",5),S(R,"FRIDAY",6),S(R,"SATURDAY",7),S(R,"DEFAULT_WEEK_START",2);let L=R;(function(){function e(t){Object.defineProperty(L.prototype,t,{get:function(){return this._pendingNormalization&&(this._normalize(),this._pendingNormalization=!1),this._time[t]},set:function(s){t==="isDate"&&s&&!this._time.isDate&&this.adjust(0,0,0,0),this._cachedUnixTime=null,this._pendingNormalization=!0,this._time[t]=s}})}e("year"),e("month"),e("day"),e("hour"),e("minute"),e("second"),e("isDate")})();const Ky=/[^ \t]/,rr=":",Vo=";",Py="=",Uy="unknown",Jy="text",By={"^'":'"',"^n":`
`,"^^":"^"};function q(i){let e={},t=e.component=[];if(e.stack=[t],q._eachLine(i,function(n,s){q._handleContentLine(s,e)}),e.stack.length>1)throw new Vn("invalid ical body. component began but did not end");return e=null,t.length==1?t[0]:t}q.property=function(i,e){let t={component:[[],[]],designSet:e||ke.defaultSet};return q._handleContentLine(i,t),t.component[1][0]};q.component=function(i){return q(i)};class Vn extends Error{constructor(){super(...arguments);S(this,"name",this.constructor.name)}}q.ParserError=Vn;q._handleContentLine=function(i,e){let t=i.indexOf(rr),n=i.indexOf(Vo),s,r,o,a,l={};n!==-1&&t!==-1&&n>t&&(n=-1);let c;if(n!==-1){if(o=i.slice(0,Math.max(0,n)).toLowerCase(),c=q._parseParameters(i.slice(Math.max(0,n)),0,e.designSet),c[2]==-1)throw new Vn("Invalid parameters in '"+i+"'");if(l=c[0],s=c[1].length+c[2]+n,(r=i.slice(Math.max(0,s)).indexOf(rr))!==-1)a=i.slice(Math.max(0,s+r+1));else throw new Vn("Missing parameter value in '"+i+"'")}else if(t!==-1){if(o=i.slice(0,Math.max(0,t)).toLowerCase(),a=i.slice(Math.max(0,t+1)),o==="begin"){let g=[a.toLowerCase(),[],[]];e.stack.length===1?e.component.push(g):e.component[2].push(g),e.stack.push(e.component),e.component=g,e.designSet||(e.designSet=ke.getDesignSet(e.component[0]));return}else if(o==="end"){e.component=e.stack.pop();return}}else throw new Vn('invalid line (no token ";" or ":") "'+i+'"');let d,u=!1,p=!1,m,y,h;e.designSet.propertyGroups&&o.indexOf(".")!==-1?(y=o.split("."),l.group=y[0],h=y[1]):h=o,h in e.designSet.property&&(m=e.designSet.property[h],"multiValue"in m&&(u=m.multiValue),"structuredValue"in m&&(p=m.structuredValue),a&&"detectType"in m&&(d=m.detectType(a))),d||("value"in l?d=l.value.toLowerCase():m?d=m.defaultType:d=Uy),delete l.value;let f;u&&p?(a=q._parseMultiValue(a,p,d,[],u,e.designSet,p),f=[h,l,d,a]):u?(f=[h,l,d],q._parseMultiValue(a,u,d,f,null,e.designSet,!1)):p?(a=q._parseMultiValue(a,p,d,[],null,e.designSet,p),f=[h,l,d,a]):(a=q._parseValue(a,d,e.designSet,!1),f=[h,l,d,a]),e.component[0]==="vcard"&&e.component[1].length===0&&!(o==="version"&&a==="4.0")&&(e.designSet=ke.getDesignSet("vcard3")),e.component[1].push(f)};q._parseValue=function(i,e,t,n){return e in t.value&&"fromICAL"in t.value[e]?t.value[e].fromICAL(i,n):i};q._parseParameters=function(i,e,t){let n=e,s=0,r=Py,o={},a,l,c,d=-1,u,p,m;for(;s!==!1&&(s=i.indexOf(r,s+1))!==-1;){if(a=i.slice(n+1,s),a.length==0)throw new Vn("Empty parameter name in '"+i+"'");if(l=a.toLowerCase(),m=!1,p=!1,l in t.param&&t.param[l].valueType?u=t.param[l].valueType:u=Jy,l in t.param&&(p=t.param[l].multiValue,t.param[l].multiValueSeparateDQuote&&(m=q._rfc6868Escape('"'+p+'"'))),i[s+1]==='"'){if(d=s+2,s=i.indexOf('"',d),p&&s!=-1){let g=!0;for(;g;)i[s+1]==p&&i[s+2]=='"'?s=i.indexOf('"',s+3):g=!1}if(s===-1)throw new Vn('invalid line (no matching double quote) "'+i+'"');c=i.slice(d,s),n=i.indexOf(Vo,s);let f=i.indexOf(rr,s);(n===-1||f!==-1&&n>f)&&(s=!1)}else{d=s+1;let f=i.indexOf(Vo,d),g=i.indexOf(rr,d);g!==-1&&f>g?(f=g,s=!1):f===-1?(g===-1?f=i.length:f=g,s=!1):(n=f,s=f),c=i.slice(d,f)}const h=c.length;if(c=q._rfc6868Escape(c),d+=h-c.length,p){let f=m||p;c=q._parseMultiValue(c,f,u,[],null,t)}else c=q._parseValue(c,u,t);p&&l in o?Array.isArray(o[l])?o[l].push(c):o[l]=[o[l],c]:o[l]=c}return[o,c,d]};q._rfc6868Escape=function(i){return i.replace(/\^['n^]/g,function(e){return By[e]})};q._parseMultiValue=function(i,e,t,n,s,r,o){let a=0,l=0,c;if(e.length===0)return i;for(;(a=yd(i,e,l))!==-1;)c=i.slice(l,a),s?c=q._parseMultiValue(c,s,t,[],null,r,o):c=q._parseValue(c,t,r,o),n.push(c),l=a+e.length;return c=i.slice(l),s?c=q._parseMultiValue(c,s,t,[],null,r,o):c=q._parseValue(c,t,r,o),n.push(c),n.length==1?n[0]:n};q._eachLine=function(i,e){let t=i.length,n=i.search(Ky),s=n,r,o,a;do s=i.indexOf(`
`,n)+1,s>1&&i[s-2]==="\r"?a=2:a=1,s===0&&(s=t,a=0),o=i[n],o===" "||o==="	"?r+=i.slice(n+1,s-a):(r&&e(null,r),r=i.slice(n,s-a)),n=s;while(s!==t);r=r.trim(),r.length&&e(null,r)};const Ay=["tzid","location","tznames","latitude","longitude"];var hi,mi;const A=class A{constructor(e){S(this,"tzid","");S(this,"location","");S(this,"tznames","");S(this,"latitude",0);S(this,"longitude",0);S(this,"component",null);S(this,"expandedUntilYear",0);S(this,"icalclass","icaltimezone");this.wrappedJSObject=this,this.fromData(e)}static _compare_change_fn(e,t){return e.year<t.year?-1:e.year>t.year?1:e.month<t.month?-1:e.month>t.month?1:e.day<t.day?-1:e.day>t.day?1:e.hour<t.hour?-1:e.hour>t.hour?1:e.minute<t.minute?-1:e.minute>t.minute?1:e.second<t.second?-1:e.second>t.second?1:0}static convert_time(e,t,n){if(e.isDate||t.tzid==n.tzid||t==A.localTimezone||n==A.localTimezone)return e.zone=n,e;let s=t.utcOffset(e);return e.adjust(0,0,0,-s),s=n.utcOffset(e),e.adjust(0,0,0,s),null}static fromData(e){return new A().fromData(e)}static get utcTimezone(){return b(this,hi)||z(this,hi,A.fromData({tzid:"UTC"})),b(this,hi)}static get localTimezone(){return b(this,mi)||z(this,mi,A.fromData({tzid:"floating"})),b(this,mi)}static adjust_change(e,t,n,s,r){return L.prototype.adjust.call(e,t,n,s,r,e)}fromData(e){if(this.expandedUntilYear=0,this.changes=[],e instanceof tt)this.component=e;else{if(e&&"component"in e)if(typeof e.component=="string"){let t=q(e.component);this.component=new tt(t)}else e.component instanceof tt?this.component=e.component:this.component=null;for(let t of Ay)e&&t in e&&(this[t]=e[t])}return this.component instanceof tt&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid")),this}utcOffset(e){if(this==A.utcTimezone||this==A.localTimezone||(this._ensureCoverage(e.year),!this.changes.length))return 0;let t={year:e.year,month:e.month,day:e.day,hour:e.hour,minute:e.minute,second:e.second},n=this._findNearbyChange(t),s=-1,r=1;for(;;){let l=Mn(this.changes[n],!0);if(l.utcOffset<l.prevUtcOffset?A.adjust_change(l,0,0,0,l.utcOffset):A.adjust_change(l,0,0,0,l.prevUtcOffset),A._compare_change_fn(t,l)>=0?s=n:r=-1,r==-1&&s!=-1)break;if(n+=r,n<0)return 0;if(n>=this.changes.length)break}let o=this.changes[s];if(o.utcOffset-o.prevUtcOffset<0&&s>0){let l=Mn(o,!0);if(A.adjust_change(l,0,0,0,l.prevUtcOffset),A._compare_change_fn(t,l)<0){let c=this.changes[s-1],d=!1;o.is_daylight!=d&&c.is_daylight==d&&(o=c)}}return o.utcOffset}_findNearbyChange(e){let t=Cn(this.changes,e,A._compare_change_fn);return t>=this.changes.length?this.changes.length-1:t}_ensureCoverage(e){if(A._minimumExpansionYear==-1){let n=L.now();A._minimumExpansionYear=n.year}let t=e;if(t<A._minimumExpansionYear&&(t=A._minimumExpansionYear),t+=A.EXTRA_COVERAGE,!this.changes.length||this.expandedUntilYear<e){let n=this.component.getAllSubcomponents(),s=n.length,r=0;for(;r<s;r++)this._expandComponent(n[r],t,this.changes);this.changes.sort(A._compare_change_fn),this.expandedUntilYear=t}}_expandComponent(e,t,n){if(!e.hasProperty("dtstart")||!e.hasProperty("tzoffsetto")||!e.hasProperty("tzoffsetfrom"))return null;let s=e.getFirstProperty("dtstart").getFirstValue(),r;function o(l){return l.factor*(l.hours*3600+l.minutes*60)}function a(){let l={};return l.is_daylight=e.name=="daylight",l.utcOffset=o(e.getFirstProperty("tzoffsetto").getFirstValue()),l.prevUtcOffset=o(e.getFirstProperty("tzoffsetfrom").getFirstValue()),l}if(!e.hasProperty("rrule")&&!e.hasProperty("rdate"))r=a(),r.year=s.year,r.month=s.month,r.day=s.day,r.hour=s.hour,r.minute=s.minute,r.second=s.second,A.adjust_change(r,0,0,0,-r.prevUtcOffset),n.push(r);else{let l=e.getAllProperties("rdate");for(let d of l){let u=d.getFirstValue();r=a(),r.year=u.year,r.month=u.month,r.day=u.day,u.isDate?(r.hour=s.hour,r.minute=s.minute,r.second=s.second,s.zone!=A.utcTimezone&&A.adjust_change(r,0,0,0,-r.prevUtcOffset)):(r.hour=u.hour,r.minute=u.minute,r.second=u.second,u.zone!=A.utcTimezone&&A.adjust_change(r,0,0,0,-r.prevUtcOffset)),n.push(r)}let c=e.getFirstProperty("rrule");if(c){c=c.getFirstValue(),r=a(),c.until&&c.until.zone==A.utcTimezone&&(c.until.adjust(0,0,0,r.prevUtcOffset),c.until.zone=A.localTimezone);let d=c.iterator(s),u;for(;(u=d.next())&&(r=a(),!(u.year>t||!u));)r.year=u.year,r.month=u.month,r.day=u.day,r.hour=u.hour,r.minute=u.minute,r.second=u.second,r.isDate=u.isDate,A.adjust_change(r,0,0,0,-r.prevUtcOffset),n.push(r)}}return n}toString(){return this.tznames?this.tznames:this.tzid}};hi=new WeakMap,mi=new WeakMap,H(A,hi,null),H(A,mi,null),S(A,"_minimumExpansionYear",-1),S(A,"EXTRA_COVERAGE",5);let ee=A,Ne=null;const or={get count(){return Ne===null?0:Object.keys(Ne).length},reset:function(){Ne=Object.create(null);let i=ee.utcTimezone;Ne.Z=i,Ne.UTC=i,Ne.GMT=i},_hard_reset:function(){Ne=null},has:function(i){return Ne===null?!1:!!Ne[i]},get:function(i){return Ne===null&&this.reset(),Ne[i]},register:function(i,e){if(Ne===null&&this.reset(),typeof i=="string"&&e instanceof ee&&([i,e]=[e,i]),e||(i instanceof ee?e=i.tzid:i.name==="vtimezone"&&(i=new ee(i),e=i.tzid)),!e)throw new TypeError("Neither a timezone nor a name was passed");if(i instanceof ee)Ne[e]=i;else throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component")},remove:function(i){return Ne===null?null:delete Ne[i]}};function jy(i){let e,t,n,s,r;if(!i||i.name!=="vcalendar")return i;for(e=i.getAllSubcomponents(),t=[],n={},r=0;r<e.length;r++)if(e[r].name==="vtimezone"){let o=e[r].getFirstProperty("tzid").getFirstValue();n[o]=e[r]}else t=t.concat(e[r].getAllProperties());for(s={},r=0;r<t.length;r++){let o=t[r].getParameter("tzid");o&&(s[o]=!0)}for(let[o,a]of Object.entries(n))s[o]||i.removeSubcomponent(a);for(let o of Object.keys(s))!n[o]&&or.has(o)&&i.addSubcomponent(or.get(o).component);return i}function $i(i){return typeof i=="number"&&isNaN(i)}function Re(i){let e=parseInt(i,10);if($i(e))throw new Error('Could not extract integer from "'+i+'"');return e}function Dt(i,e){if(!(typeof i>"u"))return i instanceof e?i:new e(i)}function yd(i,e,t){for(;(t=i.indexOf(e,t))!==-1;)if(t>0&&i[t-1]==="\\")t+=1;else return t;return-1}function Cn(i,e,t){if(!i.length)return 0;let n=0,s=i.length-1,r,o;for(;n<=s;)if(r=n+Math.floor((s-n)/2),o=t(e,i[r]),o<0)s=r-1;else if(o>0)n=r+1;else break;return o<0?r:o>0?r+1:r}function Mn(i,e){if(!i||typeof i!="object")return i;if(i instanceof Date)return new Date(i.getTime());if("clone"in i)return i.clone();if(Array.isArray(i)){let t=[];for(let n=0;n<i.length;n++)t.push(e?Mn(i[n],!0):i[n]);return t}else{let t={};for(let[n,s]of Object.entries(i))e?t[n]=Mn(s,!0):t[n]=s;return t}}function gd(i){let e="",t=i||"",n=0,s=0;for(;t.length;){let r=t.codePointAt(n);r<128?++s:r<2048?s+=2:r<65536?s+=3:s+=4,s<_r.foldLength+1?n+=r>65535?2:1:(e+=_r.newLineChar+" "+t.slice(0,Math.max(0,n)),t=t.slice(Math.max(0,n)),n=s=0)}return e.slice(_r.newLineChar.length+1)}function Je(i){switch(typeof i!="string"&&(typeof i=="number"&&(i=parseInt(i)),i=String(i)),i.length){case 0:return"00";case 1:return"0"+i;default:return i}}function Ge(i){return i<0?Math.ceil(i):Math.floor(i)}function Hn(i,e){for(let t in i){let n=Object.getOwnPropertyDescriptor(i,t);n&&!Object.getOwnPropertyDescriptor(e,t)&&Object.defineProperty(e,t,n)}return e}var _y=Object.freeze({__proto__:null,updateTimezones:jy,isStrictlyNaN:$i,strictParseInt:Re,formatClassType:Dt,unescapedIndexOf:yd,binsearchInsert:Cn,clone:Mn,foldline:gd,pad2:Je,trunc:Ge,extend:Hn});class kt{constructor(e){S(this,"hours",0);S(this,"minutes",0);S(this,"factor",1);S(this,"icaltype","utc-offset");this.fromData(e)}static fromString(e){let t={};return t.factor=e[0]==="+"?1:-1,t.hours=Re(e.slice(1,3)),t.minutes=Re(e.slice(4,6)),new kt(t)}static fromSeconds(e){let t=new kt;return t.fromSeconds(e),t}clone(){return kt.fromSeconds(this.toSeconds())}fromData(e){if(e)for(let[t,n]of Object.entries(e))this[t]=n;this._normalize()}fromSeconds(e){let t=Math.abs(e);return this.factor=e<0?-1:1,this.hours=Ge(t/3600),t-=this.hours*3600,this.minutes=Ge(t/60),this}toSeconds(){return this.factor*(60*this.minutes+3600*this.hours)}compare(e){let t=this.toSeconds(),n=e.toSeconds();return(t>n)-(n>t)}_normalize(){let e=this.toSeconds(),t=this.factor;for(;e<-43200;)e+=97200;for(;e>50400;)e-=97200;this.fromSeconds(e),e==0&&(this.factor=t)}toICALString(){return ke.icalendar.value["utc-offset"].toICAL(this.toString())}toString(){return(this.factor==1?"+":"-")+Je(this.hours)+":"+Je(this.minutes)}}class dn extends L{constructor(t,n,s){super(t,n);S(this,"icalclass","vcardtime");S(this,"icaltype","date-and-or-time");this.icaltype=s||"date-and-or-time"}static fromDateAndOrTimeString(t,n){function s(f,g,v){return f?Re(f.slice(g,g+v)):null}let r=t.split("T"),o=r[0],a=r[1],l=a?ke.vcard.value.time._splitZone(a):[],c=l[0],d=l[1],u=o?o.length:0,p=d?d.length:0,m=o&&o[0]=="-"&&o[1]=="-",y=d&&d[0]=="-",h={year:m?null:s(o,0,4),month:m&&(u==4||u==7)?s(o,2,2):u==7||u==10?s(o,5,2):null,day:u==5?s(o,3,2):u==7&&m?s(o,5,2):u==10?s(o,8,2):null,hour:y?null:s(d,0,2),minute:y&&p==3?s(d,1,2):p>4?y?s(d,1,2):s(d,3,2):null,second:p==4?s(d,2,2):p==6?s(d,4,2):p==8?s(d,6,2):null};return c=="Z"?c=ee.utcTimezone:c&&c[3]==":"?c=kt.fromString(c):c=null,new dn(h,c,n)}clone(){return new dn(this._time,this.zone,this.icaltype)}_normalize(){return this}utcOffset(){return this.zone instanceof kt?this.zone.toSeconds():L.prototype.utcOffset.apply(this,arguments)}toICALString(){return ke.vcard.value[this.icaltype].toICAL(this.toString())}toString(){let t=this.year,n=this.month,s=this.day,r=this.hour,o=this.minute,a=this.second,l=t!==null,c=n!==null,d=s!==null,u=r!==null,p=o!==null,m=a!==null,y=(l?Je(t)+(c||d?"-":""):c||d?"--":"")+(c?Je(n):"")+(d?"-"+Je(s):""),h=(u?Je(r):"-")+(u&&p?":":"")+(p?Je(o):"")+(!u&&!p?"-":"")+(p&&m?":":"")+(m?Je(a):""),f;switch(this.zone===ee.utcTimezone?f="Z":this.zone instanceof kt?f=this.zone.toString():this.zone===ee.localTimezone?f="":this.zone instanceof ee?f=kt.fromSeconds(this.zone.utcOffset(this)).toString():f="",this.icaltype){case"time":return h+f;case"date-and-or-time":case"date-time":return y+(h=="--"?"":"T"+h+f);case"date":return y}return null}}const Ue=class Ue{constructor(e){S(this,"completed",!1);S(this,"rule",null);S(this,"dtstart",null);S(this,"last",null);S(this,"occurrence_number",0);S(this,"by_indices",null);S(this,"initialized",!1);S(this,"by_data",null);S(this,"days",null);S(this,"days_index",0);this.fromData(e)}fromData(e){if(this.rule=Dt(e.rule,Ee),!this.rule)throw new Error("iterator requires a (ICAL.Recur) rule");if(this.dtstart=Dt(e.dtstart,L),!this.dtstart)throw new Error("iterator requires a (ICAL.Time) dtstart");if(e.by_data?this.by_data=e.by_data:this.by_data=Mn(this.rule.parts,!0),e.occurrence_number&&(this.occurrence_number=e.occurrence_number),this.days=e.days||[],e.last&&(this.last=Dt(e.last,L)),this.by_indices=e.by_indices,this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0}),this.initialized=e.initialized||!1,!this.initialized)try{this.init()}catch(t){if(t instanceof Hl)this.completed=!0;else throw t}}init(){this.initialized=!0,this.last=this.dtstart.clone();let e=this.by_data;if("BYDAY"in e&&this.sort_byday_rules(e.BYDAY),"BYYEARDAY"in e&&("BYMONTH"in e||"BYWEEKNO"in e||"BYMONTHDAY"in e||"BYDAY"in e))throw new Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in e&&"BYMONTHDAY"in e)throw new Error("BYWEEKNO does not fit to BYMONTHDAY");if(this.rule.freq=="MONTHLY"&&("BYYEARDAY"in e||"BYWEEKNO"in e))throw new Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if(this.rule.freq=="WEEKLY"&&("BYYEARDAY"in e||"BYMONTHDAY"in e))throw new Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");if(this.rule.freq!="YEARLY"&&"BYYEARDAY"in e)throw new Error("BYYEARDAY may only appear in YEARLY rules");if(this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second),this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute),this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour),this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day),this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month),this.rule.freq=="WEEKLY")if("BYDAY"in e){let[,t]=this.ruleDayOfWeek(e.BYDAY[0],this.rule.wkst),n=t-this.last.dayOfWeek(this.rule.wkst);(this.last.dayOfWeek(this.rule.wkst)<t&&n>=0||n<0)&&(this.last.day+=n)}else{let t=Ee.numericDayToIcalDay(this.dtstart.dayOfWeek());e.BYDAY=[t]}if(this.rule.freq=="YEARLY"){const t=this.rule.until?this.rule.until.year:2e4;for(;this.last.year<=t&&(this.expand_year_days(this.last.year),!(this.days.length>0));)this.increment_year(this.rule.interval);if(this.days.length==0)throw new Hl;this._nextByYearDay()}if(this.rule.freq=="MONTHLY"){if(this.has_by_data("BYDAY")){let t=null,n=this.last.clone(),s=L.daysInMonth(this.last.month,this.last.year);for(let r of this.by_data.BYDAY){this.last=n.clone();let[o,a]=this.ruleDayOfWeek(r),l=this.last.nthWeekDay(a,o);if(o>=6||o<=-6)throw new Error("Malformed values in BYDAY part");if(l>s||l<=0){if(t&&t.month==n.month)continue;for(;l>s||l<=0;)this.increment_month(),s=L.daysInMonth(this.last.month,this.last.year),l=this.last.nthWeekDay(a,o)}this.last.day=l,(!t||this.last.compare(t)<0)&&(t=this.last.clone())}if(this.last=t.clone(),this.has_by_data("BYMONTHDAY")&&this._byDayAndMonthDay(!0),this.last.day>s||this.last.day==0)throw new Error("Malformed values in BYDAY part")}else if(this.has_by_data("BYMONTHDAY")){this.last.day=1;let t=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY).filter(n=>n>=this.last.day);if(t.length)this.last.day=t[0],this.by_data.BYMONTHDAY=t;else if(!this.next_month()&&!this.next_month()&&!this.next_month())throw new Error("No possible occurrences")}}}next(e=!1){let t=this.last?this.last.clone():null;if((this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&this.last.compare(this.rule.until)>0)&&(this.completed=!0),this.completed)return null;if(this.occurrence_number==0&&this.last.compare(this.dtstart)>=0)return this.occurrence_number++,this.last;let n;do switch(n=1,this.rule.freq){case"SECONDLY":this.next_second();break;case"MINUTELY":this.next_minute();break;case"HOURLY":this.next_hour();break;case"DAILY":this.next_day();break;case"WEEKLY":this.next_week();break;case"MONTHLY":n=this.next_month();break;case"YEARLY":this.next_year();break;default:return null}while(!this.check_contracting_rules()||this.last.compare(this.dtstart)<0||!n);if(this.last.compare(t)==0){if(e)throw new Error("Same occurrence found twice, protecting you from death by recursion");this.next(!0)}return this.rule.until&&this.last.compare(this.rule.until)>0?(this.completed=!0,null):(this.occurrence_number++,this.last)}next_second(){return this.next_generic("BYSECOND","SECONDLY","second","minute")}increment_second(e){return this.increment_generic(e,"second",60,"minute")}next_minute(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")}increment_minute(e){return this.increment_generic(e,"minute",60,"hour")}next_hour(){return this.next_generic("BYHOUR","HOURLY","hour","monthday","next_minute")}increment_hour(e){this.increment_generic(e,"hour",24,"monthday")}next_day(){let e=this.rule.freq=="DAILY";return this.next_hour()==0||(e?this.increment_monthday(this.rule.interval):this.increment_monthday(1)),0}next_week(){let e=0;if(this.next_weekday_by_week()==0)return e;if(this.has_by_data("BYWEEKNO")){this.by_indices.BYWEEKNO++,this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,e=1),this.last.month=1,this.last.day=1;let t=this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO];this.last.day+=7*t,e&&this.increment_year(1)}else this.increment_monthday(7*this.rule.interval);return e}normalizeByMonthDayRules(e,t,n){let s=L.daysInMonth(t,e),r=[],o=0,a=n.length,l;for(;o<a;o++){if(l=parseInt(n[o],10),isNaN(l))throw new Error("Invalid BYMONTHDAY value");if(!(Math.abs(l)>s)){if(l<0)l=s+(l+1);else if(l===0)continue;r.indexOf(l)===-1&&r.push(l)}}return r.sort(function(c,d){return c-d})}_byDayAndMonthDay(e){let t,n=this.by_data.BYDAY,s,r=0,o,a=n.length,l=0,c,d=this,u=this.last.day;function p(){for(c=L.daysInMonth(d.last.month,d.last.year),t=d.normalizeByMonthDayRules(d.last.year,d.last.month,d.by_data.BYMONTHDAY),o=t.length;t[r]<=u&&!(e&&t[r]==u)&&r<o-1;)r++}function m(){u=0,d.increment_month(),r=0,p()}p(),e&&(u-=1);let y=48;for(;!l&&y;){if(y--,s=u+1,s>c){m();continue}let h=t[r++];if(h>=s)u=h;else{m();continue}for(let f=0;f<a;f++){let g=this.ruleDayOfWeek(n[f]),v=g[0],Z=g[1];if(this.last.day=u,this.last.isNthWeekDay(Z,v)){l=1;break}}if(!l&&r===o){m();continue}}if(y<=0)throw new Error("Malformed values in BYDAY combined with BYMONTHDAY parts");return l}next_month(){let e=1;if(this.next_hour()==0)return e;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))e=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){let t=L.daysInMonth(this.last.month,this.last.year),n=0,s=0;if(this.has_by_data("BYSETPOS")){let o=this.last.day;for(let a=1;a<=t;a++)this.last.day=a,this.is_day_in_byday(this.last)&&(s++,a<=o&&n++);this.last.day=o}e=0;let r;for(r=this.last.day+1;r<=t;r++)if(this.last.day=r,this.is_day_in_byday(this.last)&&(!this.has_by_data("BYSETPOS")||this.check_set_position(++n)||this.check_set_position(n-s-1))){e=1;break}r>t&&(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)?(!this.has_by_data("BYSETPOS")||this.check_set_position(1))&&(e=1):e=0)}else if(this.has_by_data("BYMONTHDAY")){if(this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month(),this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length))return 0;let t=L.daysInMonth(this.last.month,this.last.year),n=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY];n<0&&(n=t+n+1),n>t?(this.last.day=1,e=this.is_day_in_byday(this.last)):this.last.day=n}else{this.increment_month();let t=L.daysInMonth(this.last.month,this.last.year);this.by_data.BYMONTHDAY[0]>t?e=0:this.last.day=this.by_data.BYMONTHDAY[0]}return e}next_weekday_by_week(){let e=0;if(this.next_hour()==0)return e;if(!this.has_by_data("BYDAY"))return 1;for(;;){let t=new L;this.by_indices.BYDAY++,this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=0,e=1);let n=this.by_data.BYDAY[this.by_indices.BYDAY],r=this.ruleDayOfWeek(n)[1];r-=this.rule.wkst,r<0&&(r+=7),t.year=this.last.year,t.month=this.last.month,t.day=this.last.day;let o=t.startDoyWeek(this.rule.wkst);if(r+o<1&&!e)continue;let a=L.fromDayOfYear(o+r,this.last.year);return this.last.year=a.year,this.last.month=a.month,this.last.day=a.day,e}}next_year(){if(this.next_hour()==0)return 0;if(++this.days_index==this.days.length){this.days_index=0;do this.increment_year(this.rule.interval),this.has_by_data("BYMONTHDAY")&&(this.by_data.BYMONTHDAY=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY)),this.expand_year_days(this.last.year);while(this.days.length==0)}return this._nextByYearDay(),1}_nextByYearDay(){let e=this.days[this.days_index],t=this.last.year;e<1&&(e+=1,t+=1);let n=L.fromDayOfYear(e,t);this.last.day=n.day,this.last.month=n.month}ruleDayOfWeek(e,t){let n=e.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/);if(n){let s=parseInt(n[1]||0,10);return e=Ee.icalDayToNumericDay(n[2],t),[s,e]}else return[0,0]}next_generic(e,t,n,s,r){let o=e in this.by_data,a=this.rule.freq==t,l=0;if(r&&this[r]()==0)return l;if(o){this.by_indices[e]++;let c=this.by_data[e];this.by_indices[e]==c.length&&(this.by_indices[e]=0,l=1),this.last[n]=c[this.by_indices[e]]}else a&&this["increment_"+n](this.rule.interval);return o&&l&&a&&this["increment_"+s](1),l}increment_monthday(e){for(let t=0;t<e;t++){let n=L.daysInMonth(this.last.month,this.last.year);this.last.day++,this.last.day>n&&(this.last.day-=n,this.increment_month())}}increment_month(){if(this.last.day=1,this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{this.rule.freq=="MONTHLY"?this.last.month+=this.rule.interval:this.last.month++,this.last.month--;let e=Ge(this.last.month/12);this.last.month%=12,this.last.month++,e!=0&&this.increment_year(e)}this.has_by_data("BYMONTHDAY")&&(this.by_data.BYMONTHDAY=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY))}increment_year(e){this.last.day=1,this.last.year+=e}increment_generic(e,t,n,s){this.last[t]+=e;let r=Ge(this.last[t]/n);this.last[t]%=n,r!=0&&this["increment_"+s](r)}has_by_data(e){return e in this.rule.parts}expand_year_days(e){let t=new L;this.days=[];let n={},s=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(let a of s)a in this.rule.parts&&(n[a]=this.rule.parts[a]);if("BYMONTH"in n&&"BYWEEKNO"in n){let a=1,l={};t.year=e,t.isDate=!0;for(let c=0;c<this.by_data.BYMONTH.length;c++){let d=this.by_data.BYMONTH[c];t.month=d,t.day=1;let u=t.weekNumber(this.rule.wkst);t.day=L.daysInMonth(d,e);let p=t.weekNumber(this.rule.wkst);for(c=u;c<p;c++)l[c]=1}for(let c=0;c<this.by_data.BYWEEKNO.length&&a;c++)this.by_data.BYWEEKNO[c]<52?a&=l[c]:a=0;a?delete n.BYMONTH:delete n.BYWEEKNO}let r=Object.keys(n).length;if(r==0){let a=this.dtstart.clone();a.year=this.last.year,this.days.push(a.dayOfYear())}else if(r==1&&"BYMONTH"in n)for(let a of this.by_data.BYMONTH){let l=this.dtstart.clone();l.year=e,l.month=a,l.isDate=!0,this.days.push(l.dayOfYear())}else if(r==1&&"BYMONTHDAY"in n)for(let a of this.by_data.BYMONTHDAY){let l=this.dtstart.clone();if(a<0){let c=L.daysInMonth(l.month,e);a=a+c+1}l.day=a,l.year=e,l.isDate=!0,this.days.push(l.dayOfYear())}else if(r==2&&"BYMONTHDAY"in n&&"BYMONTH"in n)for(let a of this.by_data.BYMONTH){let l=L.daysInMonth(a,e);for(let c of this.by_data.BYMONTHDAY)c<0&&(c=c+l+1),t.day=c,t.month=a,t.year=e,t.isDate=!0,this.days.push(t.dayOfYear())}else if(!(r==1&&"BYWEEKNO"in n)){if(!(r==2&&"BYWEEKNO"in n&&"BYMONTHDAY"in n))if(r==1&&"BYDAY"in n)this.days=this.days.concat(this.expand_by_day(e));else if(r==2&&"BYDAY"in n&&"BYMONTH"in n){for(let a of this.by_data.BYMONTH){let l=L.daysInMonth(a,e);t.year=e,t.month=a,t.day=1,t.isDate=!0;let c=t.dayOfWeek(),d=t.dayOfYear()-1;t.day=l;let u=t.dayOfWeek();if(this.has_by_data("BYSETPOS")){let p=[];for(let m=1;m<=l;m++)t.day=m,this.is_day_in_byday(t)&&p.push(m);for(let m=0;m<p.length;m++)(this.check_set_position(m+1)||this.check_set_position(m-p.length))&&this.days.push(d+p[m])}else for(let p of this.by_data.BYDAY){let m=this.ruleDayOfWeek(p),y=m[0],h=m[1],f,g=(h+7-c)%7+1,v=l-(u+7-h)%7;if(y==0)for(let Z=g;Z<=l;Z+=7)this.days.push(d+Z);else y>0?(f=g+(y-1)*7,f<=l&&this.days.push(d+f)):(f=v+(y+1)*7,f>0&&this.days.push(d+f))}}this.days.sort(function(a,l){return a-l})}else if(r==2&&"BYDAY"in n&&"BYMONTHDAY"in n){let a=this.expand_by_day(e);for(let l of a){let c=L.fromDayOfYear(l,e);this.by_data.BYMONTHDAY.indexOf(c.day)>=0&&this.days.push(l)}}else if(r==3&&"BYDAY"in n&&"BYMONTHDAY"in n&&"BYMONTH"in n){let a=this.expand_by_day(e);for(let l of a){let c=L.fromDayOfYear(l,e);this.by_data.BYMONTH.indexOf(c.month)>=0&&this.by_data.BYMONTHDAY.indexOf(c.day)>=0&&this.days.push(l)}}else if(r==2&&"BYDAY"in n&&"BYWEEKNO"in n){let a=this.expand_by_day(e);for(let l of a){let d=L.fromDayOfYear(l,e).weekNumber(this.rule.wkst);this.by_data.BYWEEKNO.indexOf(d)&&this.days.push(l)}}else r==3&&"BYDAY"in n&&"BYWEEKNO"in n&&"BYMONTHDAY"in n||(r==1&&"BYYEARDAY"in n?this.days=this.days.concat(this.by_data.BYYEARDAY):this.days=[])}let o=L.isLeapYear(e)?366:365;return this.days.sort((a,l)=>(a<0&&(a+=o+1),l<0&&(l+=o+1),a-l)),0}expand_by_day(e){let t=[],n=this.last.clone();n.year=e,n.month=1,n.day=1,n.isDate=!0;let s=n.dayOfWeek();n.month=12,n.day=31,n.isDate=!0;let r=n.dayOfWeek(),o=n.dayOfYear();for(let a of this.by_data.BYDAY){let l=this.ruleDayOfWeek(a),c=l[0],d=l[1];if(c==0){let u=(d+7-s)%7+1;for(let p=u;p<=o;p+=7)t.push(p)}else if(c>0){let u;d>=s?u=d-s+1:u=d-s+8,t.push(u+(c-1)*7)}else{let u;c=-c,d<=r?u=o-r+d:u=o-r+d-7,t.push(u-(c-1)*7)}}return t}is_day_in_byday(e){if(this.by_data.BYDAY)for(let t of this.by_data.BYDAY){let n=this.ruleDayOfWeek(t),s=n[0],r=n[1],o=e.dayOfWeek();if(s==0&&r==o||e.nthWeekDay(r,s)==e.day)return 1}return 0}check_set_position(e){return this.has_by_data("BYSETPOS")?this.by_data.BYSETPOS.indexOf(e)!==-1:!1}sort_byday_rules(e){for(let t=0;t<e.length;t++)for(let n=0;n<t;n++){let s=this.ruleDayOfWeek(e[n],this.rule.wkst)[1],r=this.ruleDayOfWeek(e[t],this.rule.wkst)[1];if(s>r){let o=e[t];e[t]=e[n],e[n]=o}}}check_contract_restriction(e,t){let n=Ue._indexMap[e],s=Ue._expandMap[this.rule.freq][n],r=!1;if(e in this.by_data&&s==Ue.CONTRACT){let o=this.by_data[e];for(let a of o)if(a==t){r=!0;break}}else r=!0;return r}check_contracting_rules(){let e=this.last.dayOfWeek(),t=this.last.weekNumber(this.rule.wkst),n=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",Ee.numericDayToIcalDay(e))&&this.check_contract_restriction("BYWEEKNO",t)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",n)}setup_defaults(e,t,n){let s=Ue._indexMap[e];return Ue._expandMap[this.rule.freq][s]!=Ue.CONTRACT&&(e in this.by_data||(this.by_data[e]=[n]),this.rule.freq!=t)?this.by_data[e][0]:n}toJSON(){let e=Object.create(null);return e.initialized=this.initialized,e.rule=this.rule.toJSON(),e.dtstart=this.dtstart.toJSON(),e.by_data=this.by_data,e.days=this.days,e.last=this.last.toJSON(),e.by_indices=this.by_indices,e.occurrence_number=this.occurrence_number,e}};S(Ue,"_indexMap",{BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8}),S(Ue,"_expandMap",{SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]}),S(Ue,"UNKNOWN",0),S(Ue,"CONTRACT",1),S(Ue,"EXPAND",2),S(Ue,"ILLEGAL",3);let qi=Ue;class Hl extends Error{constructor(){super("Recurrence rule has no valid occurrences")}}const Qy=/^(SU|MO|TU|WE|TH|FR|SA)$/,$y=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,vd={SU:L.SUNDAY,MO:L.MONDAY,TU:L.TUESDAY,WE:L.WEDNESDAY,TH:L.THURSDAY,FR:L.FRIDAY,SA:L.SATURDAY},qy=Object.fromEntries(Object.entries(vd).map(i=>i.reverse())),Dl=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"];class Ee{constructor(e){S(this,"parts",null);S(this,"interval",1);S(this,"wkst",L.MONDAY);S(this,"until",null);S(this,"count",null);S(this,"freq",null);S(this,"icalclass","icalrecur");S(this,"icaltype","recur");this.wrappedJSObject=this,this.parts={},e&&typeof e=="object"&&this.fromData(e)}static fromString(e){let t=this._stringToData(e,!1);return new Ee(t)}static fromData(e){return new Ee(e)}static _stringToData(e,t){let n=Object.create(null),s=e.split(";"),r=s.length;for(let o=0;o<r;o++){let a=s[o].split("="),l=a[0].toUpperCase(),c=a[0].toLowerCase(),d=t?c:l,u=a[1];if(l in jr){let p=u.split(","),m=new Set;for(let y of p)m.add(jr[l](y));p=[...m],n[d]=p.length==1?p[0]:p}else l in Ar?Ar[l](u,n,t):n[c]=u}return n}static icalDayToNumericDay(e,t){let n=t||L.SUNDAY;return(vd[e]-n+7)%7+1}static numericDayToIcalDay(e,t){let n=t||L.SUNDAY,s=e+n-L.SUNDAY;return s>7&&(s-=7),qy[s]}iterator(e){return new qi({rule:this,dtstart:e})}clone(){return new Ee(this.toJSON())}isFinite(){return!!(this.count||this.until)}isByCount(){return!!(this.count&&!this.until)}addComponent(e,t){let n=e.toUpperCase();n in this.parts?this.parts[n].push(t):this.parts[n]=[t]}setComponent(e,t){this.parts[e.toUpperCase()]=t.slice()}getComponent(e){let t=e.toUpperCase();return t in this.parts?this.parts[t].slice():[]}getNextOccurrence(e,t){let n=this.iterator(e),s;do s=n.next();while(s&&s.compare(t)<=0);return s&&t.zone&&(s.zone=t.zone),s}fromData(e){for(let t in e){let n=t.toUpperCase();n in jr?Array.isArray(e[t])?this.parts[n]=e[t]:this.parts[n]=[e[t]]:this[t]=e[t]}this.interval&&typeof this.interval!="number"&&Ar.INTERVAL(this.interval,this),this.wkst&&typeof this.wkst!="number"&&(this.wkst=Ee.icalDayToNumericDay(this.wkst)),this.until&&!(this.until instanceof L)&&(this.until=L.fromString(this.until))}toJSON(){let e=Object.create(null);e.freq=this.freq,this.count&&(e.count=this.count),this.interval>1&&(e.interval=this.interval);for(let[t,n]of Object.entries(this.parts))Array.isArray(n)&&n.length==1?e[t.toLowerCase()]=n[0]:e[t.toLowerCase()]=Mn(n);return this.until&&(e.until=this.until.toString()),"wkst"in this&&this.wkst!==L.DEFAULT_WEEK_START&&(e.wkst=Ee.numericDayToIcalDay(this.wkst)),e}toString(){let e="FREQ="+this.freq;this.count&&(e+=";COUNT="+this.count),this.interval>1&&(e+=";INTERVAL="+this.interval);for(let[t,n]of Object.entries(this.parts))e+=";"+t+"="+n;return this.until&&(e+=";UNTIL="+this.until.toICALString()),"wkst"in this&&this.wkst!==L.DEFAULT_WEEK_START&&(e+=";WKST="+Ee.numericDayToIcalDay(this.wkst)),e}}function Jt(i,e,t,n){let s=n;if(n[0]==="+"&&(s=n.slice(1)),s=Re(s),e!==void 0&&n<e)throw new Error(i+': invalid value "'+n+'" must be > '+e);if(t!==void 0&&n>t)throw new Error(i+': invalid value "'+n+'" must be < '+e);return s}const Ar={FREQ:function(i,e,t){if(Dl.indexOf(i)!==-1)e.freq=i;else throw new Error('invalid frequency "'+i+'" expected: "'+Dl.join(", ")+'"')},COUNT:function(i,e,t){e.count=Re(i)},INTERVAL:function(i,e,t){e.interval=Re(i),e.interval<1&&(e.interval=1)},UNTIL:function(i,e,t){i.length>10?e.until=ke.icalendar.value["date-time"].fromICAL(i):e.until=ke.icalendar.value.date.fromICAL(i),t||(e.until=L.fromString(e.until))},WKST:function(i,e,t){if(Qy.test(i))e.wkst=Ee.icalDayToNumericDay(i);else throw new Error('invalid WKST value "'+i+'"')}},jr={BYSECOND:Jt.bind(void 0,"BYSECOND",0,60),BYMINUTE:Jt.bind(void 0,"BYMINUTE",0,59),BYHOUR:Jt.bind(void 0,"BYHOUR",0,23),BYDAY:function(i){if($y.test(i))return i;throw new Error('invalid BYDAY value "'+i+'"')},BYMONTHDAY:Jt.bind(void 0,"BYMONTHDAY",-31,31),BYYEARDAY:Jt.bind(void 0,"BYYEARDAY",-366,366),BYWEEKNO:Jt.bind(void 0,"BYWEEKNO",-53,53),BYMONTH:Jt.bind(void 0,"BYMONTH",1,12),BYSETPOS:Jt.bind(void 0,"BYSETPOS",-366,366)};class on{constructor(e){S(this,"start",null);S(this,"end",null);S(this,"duration",null);S(this,"icalclass","icalperiod");S(this,"icaltype","period");if(this.wrappedJSObject=this,e&&"start"in e){if(e.start&&!(e.start instanceof L))throw new TypeError(".start must be an instance of ICAL.Time");this.start=e.start}if(e&&e.end&&e.duration)throw new Error("cannot accept both end and duration");if(e&&"end"in e){if(e.end&&!(e.end instanceof L))throw new TypeError(".end must be an instance of ICAL.Time");this.end=e.end}if(e&&"duration"in e){if(e.duration&&!(e.duration instanceof ze))throw new TypeError(".duration must be an instance of ICAL.Duration");this.duration=e.duration}}static fromString(e,t){let n=e.split("/");if(n.length!==2)throw new Error('Invalid string value: "'+e+'" must contain a "/" char.');let s={start:L.fromDateTimeString(n[0],t)},r=n[1];return ze.isValueString(r)?s.duration=ze.fromString(r):s.end=L.fromDateTimeString(r,t),new on(s)}static fromData(e){return new on(e)}static fromJSON(e,t,n){function s(r,o){return n?L.fromString(r,o):L.fromDateTimeString(r,o)}return ze.isValueString(e[1])?on.fromData({start:s(e[0],t),duration:ze.fromString(e[1])}):on.fromData({start:s(e[0],t),end:s(e[1],t)})}clone(){return on.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})}getDuration(){return this.duration?this.duration:this.end.subtractDate(this.start)}getEnd(){if(this.end)return this.end;{let e=this.start.clone();return e.addDuration(this.duration),e}}toString(){return this.start+"/"+(this.end||this.duration)}toJSON(){return[this.start.toString(),(this.end||this.duration).toString()]}toICALString(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}}const eg=/\\\\|\\;|\\,|\\[Nn]/g,tg=/\\|;|,|\n/g,Ol=/\\\\|\\,|\\[Nn]/g,Fl=/\\|,|\n/g;function Co(i,e){return{matches:/.*/,fromICAL:function(n,s){return ig(n,i,s)},toICAL:function(n,s){let r=e;return s&&(r=new RegExp(r.source+"|"+s,r.flags)),n.replace(r,function(o){switch(o){case"\\":return"\\\\";case";":return"\\;";case",":return"\\,";case`
`:return"\\n";default:return o}})}}}const j={defaultType:"text"},es={defaultType:"text",multiValue:","},ar={defaultType:"text",structuredValue:";"},Is={defaultType:"integer"},Rs={defaultType:"date-time",allowedTypes:["date-time","date"]},Vs={defaultType:"date-time"},Pe={defaultType:"uri"},Kl={defaultType:"utc-offset"},Pl={defaultType:"recur"},Ul={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]};function ng(i){switch(i){case"\\\\":return"\\";case"\\;":return";";case"\\,":return",";case"\\n":case"\\N":return`
`;default:return i}}function ig(i,e,t){return i.indexOf("\\")===-1?i:(t&&(e=new RegExp(e.source+"|\\\\"+t,e.flags)),i.replace(e,ng))}let ba={categories:es,url:Pe,version:j,uid:j},ya={boolean:{values:["TRUE","FALSE"],fromICAL:function(i){switch(i){case"TRUE":return!0;case"FALSE":return!1;default:return!1}},toICAL:function(i){return i?"TRUE":"FALSE"}},float:{matches:/^[+-]?\d+\.\d+$/,fromICAL:function(i){let e=parseFloat(i);return $i(e)?0:e},toICAL:function(i){return String(i)}},integer:{fromICAL:function(i){let e=parseInt(i);return $i(e)?0:e},toICAL:function(i){return String(i)}},"utc-offset":{toICAL:function(i){return i.length<7?i.slice(0,3)+i.slice(4,6):i.slice(0,3)+i.slice(4,6)+i.slice(7,9)},fromICAL:function(i){return i.length<6?i.slice(0,3)+":"+i.slice(3,5):i.slice(0,3)+":"+i.slice(3,5)+":"+i.slice(5,7)},decorate:function(i){return kt.fromString(i)},undecorate:function(i){return i.toString()}}},sg={cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE","BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:["NEEDS-ACTION","ACCEPTED","DECLINED","TENTATIVE","DELEGATED","COMPLETED","IN-PROCESS"],allowXName:!0,allowIanaToken:!0},range:{values:["THISANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\//},value:{values:["binary","boolean","cal-address","date","date-time","duration","float","integer","period","recur","text","time","uri","utc-offset"],allowXName:!0,allowIanaToken:!0}};const xe=Hn(ya,{text:Co(eg,tg),uri:{},binary:{decorate:function(i){return Ir.fromString(i)},undecorate:function(i){return i.toString()}},"cal-address":{},date:{decorate:function(i,e){return L.fromDateString(i,e)},undecorate:function(i){return i.toString()},fromICAL:function(i){return i.slice(0,4)+"-"+i.slice(4,6)+"-"+i.slice(6,8)},toICAL:function(i){let e=i.length;return e==10?i.slice(0,4)+i.slice(5,7)+i.slice(8,10):e>=19?xe["date-time"].toICAL(i):i}},"date-time":{fromICAL:function(i){{let e=i.slice(0,4)+"-"+i.slice(4,6)+"-"+i.slice(6,8)+"T"+i.slice(9,11)+":"+i.slice(11,13)+":"+i.slice(13,15);return i[15]&&i[15]==="Z"&&(e+="Z"),e}},toICAL:function(i){let e=i.length;if(e==10&&!ii.strict)return xe.date.toICAL(i);if(e>=19){let t=i.slice(0,4)+i.slice(5,7)+i.slice(8,13)+i.slice(14,16)+i.slice(17,19);return i[19]&&i[19]==="Z"&&(t+="Z"),t}else return i},decorate:function(i,e){return L.fromDateTimeString(i,e)},undecorate:function(i){return i.toString()}},duration:{decorate:function(i){return ze.fromString(i)},undecorate:function(i){return i.toString()}},period:{fromICAL:function(i){let e=i.split("/");return e[0]=xe["date-time"].fromICAL(e[0]),ze.isValueString(e[1])||(e[1]=xe["date-time"].fromICAL(e[1])),e},toICAL:function(i){return i=i.slice(),i[0]=xe["date-time"].toICAL(i[0]),ze.isValueString(i[1])||(i[1]=xe["date-time"].toICAL(i[1])),i.join("/")},decorate:function(i,e){return on.fromJSON(i,e,!ii.strict)},undecorate:function(i){return i.toJSON()}},recur:{fromICAL:function(i){return Ee._stringToData(i,!0)},toICAL:function(i){let e="";for(let[t,n]of Object.entries(i))t=="until"?n.length>10?n=xe["date-time"].toICAL(n):n=xe.date.toICAL(n):t=="wkst"?typeof n=="number"&&(n=Ee.numericDayToIcalDay(n)):Array.isArray(n)&&(n=n.join(",")),e+=t.toUpperCase()+"="+n+";";return e.slice(0,Math.max(0,e.length-1))},decorate:function(e){return Ee.fromData(e)},undecorate:function(i){return i.toJSON()}},time:{fromICAL:function(i){if(i.length<6)return i;let e=i.slice(0,2)+":"+i.slice(2,4)+":"+i.slice(4,6);return i[6]==="Z"&&(e+="Z"),e},toICAL:function(i){if(i.length<8)return i;let e=i.slice(0,2)+i.slice(3,5)+i.slice(6,8);return i[8]==="Z"&&(e+="Z"),e}}});let rg=Hn(ba,{action:j,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:j,class:j,comment:j,completed:Vs,contact:j,created:Vs,description:j,dtend:Rs,dtstamp:Vs,dtstart:Rs,due:Rs,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:Pl,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":Vs,location:j,method:j,organizer:{defaultType:"cal-address"},"percent-complete":Is,priority:Is,prodid:j,"related-to":j,repeat:Is,rdate:{defaultType:"date-time",allowedTypes:["date-time","date","period"],multiValue:",",detectType:function(i){return i.indexOf("/")!==-1?"period":i.indexOf("T")===-1?"date":"date-time"}},"recurrence-id":Rs,resources:es,"request-status":ar,rrule:Pl,sequence:Is,status:j,summary:j,transp:j,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:Kl,tzoffsetto:Kl,tzurl:Pe,tzid:j,tzname:j});const st=Hn(ya,{text:Co(Ol,Fl),uri:Co(Ol,Fl),date:{decorate:function(i){return dn.fromDateAndOrTimeString(i,"date")},undecorate:function(i){return i.toString()},fromICAL:function(i){return i.length==8?xe.date.fromICAL(i):i[0]=="-"&&i.length==6?i.slice(0,4)+"-"+i.slice(4):i},toICAL:function(i){return i.length==10?xe.date.toICAL(i):i[0]=="-"&&i.length==7?i.slice(0,4)+i.slice(5):i}},time:{decorate:function(i){return dn.fromDateAndOrTimeString("T"+i,"time")},undecorate:function(i){return i.toString()},fromICAL:function(i){let e=st.time._splitZone(i,!0),t=e[0],n=e[1];return n.length==6?n=n.slice(0,2)+":"+n.slice(2,4)+":"+n.slice(4,6):n.length==4&&n[0]!="-"?n=n.slice(0,2)+":"+n.slice(2,4):n.length==5&&(n=n.slice(0,3)+":"+n.slice(3,5)),t.length==5&&(t[0]=="-"||t[0]=="+")&&(t=t.slice(0,3)+":"+t.slice(3)),n+t},toICAL:function(i){let e=st.time._splitZone(i),t=e[0],n=e[1];return n.length==8?n=n.slice(0,2)+n.slice(3,5)+n.slice(6,8):n.length==5&&n[0]!="-"?n=n.slice(0,2)+n.slice(3,5):n.length==6&&(n=n.slice(0,3)+n.slice(4,6)),t.length==6&&(t[0]=="-"||t[0]=="+")&&(t=t.slice(0,3)+t.slice(4)),n+t},_splitZone:function(i,e){let t=i.length-1,n=i.length-(e?5:6),s=i[n],r,o;return i[t]=="Z"?(r=i[t],o=i.slice(0,Math.max(0,t))):i.length>6&&(s=="-"||s=="+")?(r=i.slice(n),o=i.slice(0,Math.max(0,n))):(r="",o=i),[r,o]}},"date-time":{decorate:function(i){return dn.fromDateAndOrTimeString(i,"date-time")},undecorate:function(i){return i.toString()},fromICAL:function(i){return st["date-and-or-time"].fromICAL(i)},toICAL:function(i){return st["date-and-or-time"].toICAL(i)}},"date-and-or-time":{decorate:function(i){return dn.fromDateAndOrTimeString(i,"date-and-or-time")},undecorate:function(i){return i.toString()},fromICAL:function(i){let e=i.split("T");return(e[0]?st.date.fromICAL(e[0]):"")+(e[1]?"T"+st.time.fromICAL(e[1]):"")},toICAL:function(i){let e=i.split("T");return st.date.toICAL(e[0])+(e[1]?"T"+st.time.toICAL(e[1]):"")}},timestamp:xe["date-time"],"language-tag":{matches:/^[a-zA-Z0-9-]+$/},"phone-number":{fromICAL:function(i){return Array.from(i).filter(function(e){return e==="\\"?void 0:e}).join("")},toICAL:function(i){return Array.from(i).map(function(e){return e===","||e===";"?"\\"+e:e}).join("")}}});let og={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","time","date-time","date-and-or-time","timestamp","boolean","integer","float","utc-offset","language-tag"],allowXName:!0,allowIanaToken:!0}},ag=Hn(ba,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:Ul,bday:Ul,caladruri:Pe,caluri:Pe,clientpidmap:ar,email:j,fburl:Pe,fn:j,gender:ar,geo:Pe,impp:Pe,key:Pe,kind:j,lang:{defaultType:"language-tag"},logo:Pe,member:Pe,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:es,note:j,org:{defaultType:"text",structuredValue:";"},photo:Pe,related:Pe,rev:{defaultType:"timestamp"},role:j,sound:Pe,source:Pe,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:j,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:j}),lg=Hn(ya,{binary:xe.binary,date:st.date,"date-time":st["date-time"],"phone-number":st["phone-number"],uri:xe.uri,text:xe.text,time:xe.time,vcard:xe.text,"utc-offset":{toICAL:function(i){return i.slice(0,7)},fromICAL:function(i){return i.slice(0,7)},decorate:function(i){return kt.fromString(i)},undecorate:function(i){return i.toString()}}}),cg={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","date-time","phone-number","time","boolean","integer","float","utc-offset","vcard","binary"],allowXName:!0,allowIanaToken:!0}},ug=Hn(ba,{fn:j,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:es,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(i){return i.indexOf("T")===-1?"date":"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:j,tel:{defaultType:"phone-number"},email:j,mailer:j,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:j,role:j,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:ar,note:es,prodid:j,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(i){return i.indexOf("T")===-1?"date":"date-time"}},"sort-string":j,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:j,key:{defaultType:"binary",allowedTypes:["binary","text"]}}),zt={value:xe,param:sg,property:rg,propertyGroups:!1},Jl={value:st,param:og,property:ag,propertyGroups:!0},Bl={value:lg,param:cg,property:ug,propertyGroups:!0};const ii={strict:!0,defaultSet:zt,defaultType:"unknown",components:{vcard:Jl,vcard3:Bl,vevent:zt,vtodo:zt,vjournal:zt,valarm:zt,vtimezone:zt,daylight:zt,standard:zt},icalendar:zt,vcard:Jl,vcard3:Bl,getDesignSet:function(i){return i&&i in ii.components?ii.components[i]:ii.defaultSet}};var ke=ii;const Ks=`\r
`,Al="unknown",dg={'"':"^'","\n":"^n","^":"^^"};function ue(i){typeof i[0]=="string"&&(i=[i]);let e=0,t=i.length,n="";for(;e<t;e++)n+=ue.component(i[e])+Ks;return n}ue.component=function(i,e){let t=i[0].toUpperCase(),n="BEGIN:"+t+Ks,s=i[1],r=0,o=s.length,a=i[0];for(a==="vcard"&&i[1].length>0&&!(i[1][0][0]==="version"&&i[1][0][3]==="4.0")&&(a="vcard3"),e=e||ke.getDesignSet(a);r<o;r++)n+=ue.property(s[r],e)+Ks;let l=i[2]||[],c=0,d=l.length;for(;c<d;c++)n+=ue.component(l[c],e)+Ks;return n+="END:"+t,n};ue.property=function(i,e,t){let n=i[0].toUpperCase(),s=i[0],r=i[1];e||(e=ke.defaultSet);let o=r.group,a;e.propertyGroups&&o?a=o.toUpperCase()+"."+n:a=n;for(let[m,y]of Object.entries(r)){if(e.propertyGroups&&m=="group")continue;let h=e.param[m],f=h&&h.multiValue;f&&Array.isArray(y)?(y=y.map(function(g){return g=ue._rfc6868Unescape(g),g=ue.paramPropertyValue(g,h.multiValueSeparateDQuote),g}),y=ue.multiValue(y,f,"unknown",null,e)):(y=ue._rfc6868Unescape(y),y=ue.paramPropertyValue(y)),a+=";"+m.toUpperCase()+"="+y}if(i.length===3)return a+":";let l=i[2],c,d=!1,u=!1,p=!1;return s in e.property?(c=e.property[s],"multiValue"in c&&(d=c.multiValue),"structuredValue"in c&&Array.isArray(i[3])&&(u=c.structuredValue),"defaultType"in c?l===c.defaultType&&(p=!0):l===Al&&(p=!0)):l===Al&&(p=!0),p||(a+=";VALUE="+l.toUpperCase()),a+=":",d&&u?a+=ue.multiValue(i[3],u,l,d,e,u):d?a+=ue.multiValue(i.slice(3),d,l,null,e,!1):u?a+=ue.multiValue(i[3],u,l,null,e,u):a+=ue.value(i[3],l,e,!1),t?a:gd(a)};ue.paramPropertyValue=function(i,e){return!e&&i.indexOf(",")===-1&&i.indexOf(":")===-1&&i.indexOf(";")===-1?i:'"'+i+'"'};ue.multiValue=function(i,e,t,n,s,r){let o="",a=i.length,l=0;for(;l<a;l++)n&&Array.isArray(i[l])?o+=ue.multiValue(i[l],n,t,null,s,r):o+=ue.value(i[l],t,s,r),l!==a-1&&(o+=e);return o};ue.value=function(i,e,t,n){return e in t.value&&"toICAL"in t.value[e]?t.value[e].toICAL(i,n):i};ue._rfc6868Unescape=function(i){return i.replace(/[\n^"]/g,function(e){return dg[e]})};const jl=0,Cs=1,Ls=2,Bt=3;class Ln{static fromString(e,t){return new Ln(q.property(e,t))}constructor(e,t){this._parent=t||null,typeof e=="string"?(this.jCal=[e,{},ke.defaultType],this.jCal[Ls]=this.getDefaultType()):this.jCal=e,this._updateType()}get type(){return this.jCal[Ls]}get name(){return this.jCal[jl]}get parent(){return this._parent}set parent(e){let t=!this._parent||e&&e._designSet!=this._parent._designSet;this._parent=e,this.type==ke.defaultType&&t&&(this.jCal[Ls]=this.getDefaultType(),this._updateType())}get _designSet(){return this.parent?this.parent._designSet:ke.defaultSet}_updateType(){let e=this._designSet;this.type in e.value&&("decorate"in e.value[this.type]?this.isDecorated=!0:this.isDecorated=!1,this.name in e.property&&(this.isMultiValue="multiValue"in e.property[this.name],this.isStructuredValue="structuredValue"in e.property[this.name]))}_hydrateValue(e){return this._values&&this._values[e]?this._values[e]:this.jCal.length<=Bt+e?null:this.isDecorated?(this._values||(this._values=[]),this._values[e]=this._decorate(this.jCal[Bt+e])):this.jCal[Bt+e]}_decorate(e){return this._designSet.value[this.type].decorate(e,this)}_undecorate(e){return this._designSet.value[this.type].undecorate(e,this)}_setDecoratedValue(e,t){this._values||(this._values=[]),typeof e=="object"&&"icaltype"in e?(this.jCal[Bt+t]=this._undecorate(e),this._values[t]=e):(this.jCal[Bt+t]=e,this._values[t]=this._decorate(e))}getParameter(e){if(e in this.jCal[Cs])return this.jCal[Cs][e]}getFirstParameter(e){let t=this.getParameter(e);return Array.isArray(t)?t[0]:t}setParameter(e,t){let n=e.toLowerCase();typeof t=="string"&&n in this._designSet.param&&"multiValue"in this._designSet.param[n]&&(t=[t]),this.jCal[Cs][e]=t}removeParameter(e){delete this.jCal[Cs][e]}getDefaultType(){let e=this.jCal[jl],t=this._designSet;if(e in t.property){let n=t.property[e];if("defaultType"in n)return n.defaultType}return ke.defaultType}resetType(e){this.removeAllValues(),this.jCal[Ls]=e,this._updateType()}getFirstValue(){return this._hydrateValue(0)}getValues(){let e=this.jCal.length-Bt;if(e<1)return[];let t=0,n=[];for(;t<e;t++)n[t]=this._hydrateValue(t);return n}removeAllValues(){this._values&&(this._values.length=0),this.jCal.length=3}setValues(e){if(!this.isMultiValue)throw new Error(this.name+`: does not not support mulitValue.
override isMultiValue`);let t=e.length,n=0;if(this.removeAllValues(),t>0&&typeof e[0]=="object"&&"icaltype"in e[0]&&this.resetType(e[0].icaltype),this.isDecorated)for(;n<t;n++)this._setDecoratedValue(e[n],n);else for(;n<t;n++)this.jCal[Bt+n]=e[n]}setValue(e){this.removeAllValues(),typeof e=="object"&&"icaltype"in e&&this.resetType(e.icaltype),this.isDecorated?this._setDecoratedValue(e,0):this.jCal[Bt]=e}toJSON(){return this.jCal}toICALString(){return ue.property(this.jCal,this._designSet,!0)}}const At=0,Nt=1,jt=2;class tt{constructor(e,t){S(this,"_hydratedPropertyCount",0);S(this,"_hydratedComponentCount",0);S(this,"_timezoneCache",null);S(this,"_components",null);S(this,"_properties",null);typeof e=="string"&&(e=[e,[],[]]),this.jCal=e,this.parent=t||null,!this.parent&&this.name==="vcalendar"&&(this._timezoneCache=new Map)}static fromString(e){return new tt(q.component(e))}get name(){return this.jCal[At]}get _designSet(){return this.parent&&this.parent._designSet||ke.getDesignSet(this.name)}_hydrateComponent(e){if(this._components||(this._components=[],this._hydratedComponentCount=0),this._components[e])return this._components[e];let t=new tt(this.jCal[jt][e],this);return this._hydratedComponentCount++,this._components[e]=t}_hydrateProperty(e){if(this._properties||(this._properties=[],this._hydratedPropertyCount=0),this._properties[e])return this._properties[e];let t=new Ln(this.jCal[Nt][e],this);return this._hydratedPropertyCount++,this._properties[e]=t}getFirstSubcomponent(e){if(e){let t=0,n=this.jCal[jt],s=n.length;for(;t<s;t++)if(n[t][At]===e)return this._hydrateComponent(t)}else if(this.jCal[jt].length)return this._hydrateComponent(0);return null}getAllSubcomponents(e){let t=this.jCal[jt].length,n=0;if(e){let s=this.jCal[jt],r=[];for(;n<t;n++)e===s[n][At]&&r.push(this._hydrateComponent(n));return r}else{if(!this._components||this._hydratedComponentCount!==t)for(;n<t;n++)this._hydrateComponent(n);return this._components||[]}}hasProperty(e){let t=this.jCal[Nt],n=t.length,s=0;for(;s<n;s++)if(t[s][At]===e)return!0;return!1}getFirstProperty(e){if(e){let t=0,n=this.jCal[Nt],s=n.length;for(;t<s;t++)if(n[t][At]===e)return this._hydrateProperty(t)}else if(this.jCal[Nt].length)return this._hydrateProperty(0);return null}getFirstPropertyValue(e){let t=this.getFirstProperty(e);return t?t.getFirstValue():null}getAllProperties(e){let t=this.jCal[Nt].length,n=0;if(e){let s=this.jCal[Nt],r=[];for(;n<t;n++)e===s[n][At]&&r.push(this._hydrateProperty(n));return r}else{if(!this._properties||this._hydratedPropertyCount!==t)for(;n<t;n++)this._hydrateProperty(n);return this._properties||[]}}_removeObjectByIndex(e,t,n){if(t=t||[],t[n]){let s=t[n];"parent"in s&&(s.parent=null)}t.splice(n,1),this.jCal[e].splice(n,1)}_removeObject(e,t,n){let s=0,r=this.jCal[e],o=r.length,a=this[t];if(typeof n=="string"){for(;s<o;s++)if(r[s][At]===n)return this._removeObjectByIndex(e,a,s),!0}else if(a){for(;s<o;s++)if(a[s]&&a[s]===n)return this._removeObjectByIndex(e,a,s),!0}return!1}_removeAllObjects(e,t,n){let s=this[t],r=this.jCal[e],o=r.length-1;for(;o>=0;o--)(!n||r[o][At]===n)&&this._removeObjectByIndex(e,s,o)}addSubcomponent(e){this._components||(this._components=[],this._hydratedComponentCount=0),e.parent&&e.parent.removeSubcomponent(e);let t=this.jCal[jt].push(e.jCal);return this._components[t-1]=e,this._hydratedComponentCount++,e.parent=this,e}removeSubcomponent(e){let t=this._removeObject(jt,"_components",e);return t&&this._hydratedComponentCount--,t}removeAllSubcomponents(e){let t=this._removeAllObjects(jt,"_components",e);return this._hydratedComponentCount=0,t}addProperty(e){if(!(e instanceof Ln))throw new TypeError("must be instance of ICAL.Property");this._properties||(this._properties=[],this._hydratedPropertyCount=0),e.parent&&e.parent.removeProperty(e);let t=this.jCal[Nt].push(e.jCal);return this._properties[t-1]=e,this._hydratedPropertyCount++,e.parent=this,e}addPropertyWithValue(e,t){let n=new Ln(e);return n.setValue(t),this.addProperty(n),n}updatePropertyWithValue(e,t){let n=this.getFirstProperty(e);return n?n.setValue(t):n=this.addPropertyWithValue(e,t),n}removeProperty(e){let t=this._removeObject(Nt,"_properties",e);return t&&this._hydratedPropertyCount--,t}removeAllProperties(e){let t=this._removeAllObjects(Nt,"_properties",e);return this._hydratedPropertyCount=0,t}toJSON(){return this.jCal}toString(){return ue.component(this.jCal,this._designSet)}getTimeZoneByID(e){if(this.parent)return this.parent.getTimeZoneByID(e);if(!this._timezoneCache)return null;if(this._timezoneCache.has(e))return this._timezoneCache.get(e);const t=this.getAllSubcomponents("vtimezone");for(const n of t)if(n.getFirstProperty("tzid").getFirstValue()===e){const s=new ee({component:n,tzid:e});return this._timezoneCache.set(e,s),s}return null}}class Zd{constructor(e){S(this,"complete",!1);S(this,"ruleIterators",null);S(this,"ruleDates",null);S(this,"exDates",null);S(this,"ruleDateInc",0);S(this,"exDateInc",0);S(this,"exDate",null);S(this,"ruleDate",null);S(this,"dtstart",null);S(this,"last",null);this.ruleDates=[],this.exDates=[],this.fromData(e)}fromData(e){let t=Dt(e.dtstart,L);if(t)this.dtstart=t;else throw new Error(".dtstart (ICAL.Time) must be given");if(e.component)this._init(e.component);else{if(this.last=Dt(e.last,L)||t.clone(),!e.ruleIterators)throw new Error(".ruleIterators or .component must be given");this.ruleIterators=e.ruleIterators.map(function(n){return Dt(n,qi)}),this.ruleDateInc=e.ruleDateInc,this.exDateInc=e.exDateInc,e.ruleDates&&(this.ruleDates=e.ruleDates.map(n=>Dt(n,L)),this.ruleDate=this.ruleDates[this.ruleDateInc]),e.exDates&&(this.exDates=e.exDates.map(n=>Dt(n,L)),this.exDate=this.exDates[this.exDateInc]),typeof e.complete<"u"&&(this.complete=e.complete)}}next(){let e,t,n,s=500,r=0;for(;;){if(r++>s)throw new Error("max tries have occurred, rule may be impossible to fulfill.");if(t=this.ruleDate,e=this._nextRecurrenceIter(this.last),!t&&!e){this.complete=!0;break}if((!t||e&&t.compare(e.last)>0)&&(t=e.last.clone(),e.next()),this.ruleDate===t&&this._nextRuleDay(),this.last=t,this.exDate&&(n=this.exDate.compare(this.last),n<0&&this._nextExDay(),n===0)){this._nextExDay();continue}return this.last}}toJSON(){function e(n){return n.toJSON()}let t=Object.create(null);return t.ruleIterators=this.ruleIterators.map(e),this.ruleDates&&(t.ruleDates=this.ruleDates.map(e)),this.exDates&&(t.exDates=this.exDates.map(e)),t.ruleDateInc=this.ruleDateInc,t.exDateInc=this.exDateInc,t.last=this.last.toJSON(),t.dtstart=this.dtstart.toJSON(),t.complete=this.complete,t}_extractDates(e,t){let n=[],s=e.getAllProperties(t);for(let r=0,o=s.length;r<o;r++)for(let a of s[r].getValues()){let l=Cn(n,a,(c,d)=>c.compare(d));n.splice(l,0,a)}return n}_init(e){if(this.ruleIterators=[],this.last=this.dtstart.clone(),!e.hasProperty("rdate")&&!e.hasProperty("rrule")&&!e.hasProperty("recurrence-id")){this.ruleDate=this.last.clone(),this.complete=!0;return}if(e.hasProperty("rdate")&&(this.ruleDates=this._extractDates(e,"rdate"),this.ruleDates[0]&&this.ruleDates[0].compare(this.dtstart)<0?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=Cn(this.ruleDates,this.last,(t,n)=>t.compare(n)),this.ruleDate=this.ruleDates[this.ruleDateInc]),e.hasProperty("rrule")){let t=e.getAllProperties("rrule"),n=0,s=t.length,r,o;for(;n<s;n++)r=t[n].getFirstValue(),o=r.iterator(this.dtstart),this.ruleIterators.push(o),o.next()}e.hasProperty("exdate")&&(this.exDates=this._extractDates(e,"exdate"),this.exDateInc=Cn(this.exDates,this.last,(t,n)=>t.compare(n)),this.exDate=this.exDates[this.exDateInc])}_nextExDay(){this.exDate=this.exDates[++this.exDateInc]}_nextRuleDay(){this.ruleDate=this.ruleDates[++this.ruleDateInc]}_nextRecurrenceIter(){let e=this.ruleIterators;if(e.length===0)return null;let t=e.length,n,s,r=0,o;for(;r<t;r++){if(n=e[r],s=n.last,n.completed){t--,r!==0&&r--,e.splice(r,1);continue}(!o||o.last.compare(s)>0)&&(o=n)}return o}}const Bi=class Bi{constructor(e,t){S(this,"exceptions",null);S(this,"strictExceptions",!1);e instanceof tt||(t=e,e=null),e?this.component=e:this.component=new tt("vevent"),this._rangeExceptionCache=Object.create(null),this.exceptions=Object.create(null),this.rangeExceptions=[],t&&t.strictExceptions&&(this.strictExceptions=t.strictExceptions),t&&t.exceptions?t.exceptions.forEach(this.relateException,this):this.component.parent&&!this.isRecurrenceException()&&this.component.parent.getAllSubcomponents("vevent").forEach(function(n){n.hasProperty("recurrence-id")&&this.relateException(n)},this)}relateException(e){if(this.isRecurrenceException())throw new Error("cannot relate exception to exceptions");if(e instanceof tt&&(e=new Bi(e)),this.strictExceptions&&e.uid!==this.uid)throw new Error("attempted to relate unrelated exception");let t=e.recurrenceId.toString();if(this.exceptions[t]=e,e.modifiesFuture()){let n=[e.recurrenceId.toUnixTime(),t],s=Cn(this.rangeExceptions,n,_l);this.rangeExceptions.splice(s,0,n)}}modifiesFuture(){return this.component.hasProperty("recurrence-id")?this.component.getFirstProperty("recurrence-id").getParameter("range")===Bi.THISANDFUTURE:!1}findRangeException(e){if(!this.rangeExceptions.length)return null;let t=e.toUnixTime(),n=Cn(this.rangeExceptions,[t],_l);if(n-=1,n<0)return null;let s=this.rangeExceptions[n];return t<s[0]?null:s[1]}getOccurrenceDetails(e){let t=e.toString(),n=e.convertToZone(ee.utcTimezone).toString(),s,r={recurrenceId:e};if(t in this.exceptions)s=r.item=this.exceptions[t],r.startDate=s.startDate,r.endDate=s.endDate,r.item=s;else if(n in this.exceptions)s=this.exceptions[n],r.startDate=s.startDate,r.endDate=s.endDate,r.item=s;else{let o=this.findRangeException(e),a;if(o){let l=this.exceptions[o];r.item=l;let c=this._rangeExceptionCache[o];if(!c){let u=l.recurrenceId.clone(),p=l.startDate.clone();u.zone=p.zone,c=p.subtractDate(u),this._rangeExceptionCache[o]=c}let d=e.clone();d.zone=l.startDate.zone,d.addDuration(c),a=d.clone(),a.addDuration(l.duration),r.startDate=d,r.endDate=a}else a=e.clone(),a.addDuration(this.duration),r.endDate=a,r.startDate=e,r.item=this}return r}iterator(e){return new Zd({component:this.component,dtstart:e||this.startDate})}isRecurring(){let e=this.component;return e.hasProperty("rrule")||e.hasProperty("rdate")}isRecurrenceException(){return this.component.hasProperty("recurrence-id")}getRecurrenceTypes(){let e=this.component.getAllProperties("rrule"),t=0,n=e.length,s=Object.create(null);for(;t<n;t++){let r=e[t].getFirstValue();s[r.freq]=!0}return s}get uid(){return this._firstProp("uid")}set uid(e){this._setProp("uid",e)}get startDate(){return this._firstProp("dtstart")}set startDate(e){this._setTime("dtstart",e)}get endDate(){let e=this._firstProp("dtend");if(!e){let t=this._firstProp("duration");e=this.startDate.clone(),t?e.addDuration(t):e.isDate&&(e.day+=1)}return e}set endDate(e){this.component.hasProperty("duration")&&this.component.removeProperty("duration"),this._setTime("dtend",e)}get duration(){let e=this._firstProp("duration");return e||this.endDate.subtractDateTz(this.startDate)}set duration(e){this.component.hasProperty("dtend")&&this.component.removeProperty("dtend"),this._setProp("duration",e)}get location(){return this._firstProp("location")}set location(e){this._setProp("location",e)}get attendees(){return this.component.getAllProperties("attendee")}get summary(){return this._firstProp("summary")}set summary(e){this._setProp("summary",e)}get description(){return this._firstProp("description")}set description(e){this._setProp("description",e)}get color(){return this._firstProp("color")}set color(e){this._setProp("color",e)}get organizer(){return this._firstProp("organizer")}set organizer(e){this._setProp("organizer",e)}get sequence(){return this._firstProp("sequence")}set sequence(e){this._setProp("sequence",e)}get recurrenceId(){return this._firstProp("recurrence-id")}set recurrenceId(e){this._setTime("recurrence-id",e)}_setTime(e,t){let n=this.component.getFirstProperty(e);n||(n=new Ln(e),this.component.addProperty(n)),t.zone===ee.localTimezone||t.zone===ee.utcTimezone?n.removeParameter("tzid"):n.setParameter("tzid",t.zone.tzid),n.setValue(t)}_setProp(e,t){this.component.updatePropertyWithValue(e,t)}_firstProp(e){return this.component.getFirstPropertyValue(e)}toString(){return this.component.toString()}};S(Bi,"THISANDFUTURE","THISANDFUTURE");let lr=Bi;function _l(i,e){return i[0]>e[0]?1:e[0]>i[0]?-1:0}class hg{constructor(e){S(this,"parseEvent",!0);S(this,"parseTimezone",!0);S(this,"oncomplete",function(){});S(this,"onerror",function(e){});S(this,"ontimezone",function(e){});S(this,"onevent",function(e){});typeof e>"u"&&(e={});for(let[t,n]of Object.entries(e))this[t]=n}process(e){typeof e=="string"&&(e=q(e)),e instanceof tt||(e=new tt(e));let t=e.getAllSubcomponents(),n=0,s=t.length,r;for(;n<s;n++)switch(r=t[n],r.name){case"vtimezone":if(this.parseTimezone){let o=r.getFirstPropertyValue("tzid");o&&this.ontimezone(new ee({tzid:o,component:r}))}break;case"vevent":this.parseEvent&&this.onevent(new lr(r));break;default:continue}this.oncomplete()}}var _r={foldLength:75,debug:!1,newLineChar:`\r
`,Binary:Ir,Component:tt,ComponentParser:hg,Duration:ze,Event:lr,Period:on,Property:Ln,Recur:Ee,RecurExpansion:Zd,RecurIterator:qi,Time:L,Timezone:ee,TimezoneService:or,UtcOffset:kt,VCardTime:dn,parse:q,stringify:ue,design:ke,helpers:_y},he;(function(i){i[i.SECOND=0]="SECOND",i[i.QUARTER_MINUTE=1]="QUARTER_MINUTE",i[i.MINUTE=2]="MINUTE",i[i.QUARTER_HOUR=3]="QUARTER_HOUR",i[i.HOUR=4]="HOUR",i[i.DAY=5]="DAY",i[i.MONTH=6]="MONTH",i[i.YEAR=7]="YEAR",i[i.DECADE=8]="DECADE",i[i.CENT=9]="CENT"})(he||(he={}));he.CENT+"",he.DECADE+"",he.YEAR+"",he.MONTH+"",he.DAY+"",he.HOUR+"",he.MINUTE+"",he.QUARTER_HOUR+"",he.QUARTER_MINUTE+"",he.SECOND+"";he.CENT+"",he.DECADE+"",he.YEAR+"",he.MONTH+"",he.DAY+"",he.HOUR+"",he.QUARTER_HOUR+"",he.MINUTE+"",he.QUARTER_MINUTE+"",he.SECOND+"";function mg(i,e,t,n){const s=i[e],r=s.match(br);if(r){const o={from:t[e],to:t[e]+r[0].length,type:P.Section};n.ranges.push(o);const a=d0(s,r,o),{properties:l,i:c,propOrder:d}=bd(i,t,e+1,n);a.properties=l,a.propOrder=d;let u=l.timezone||l.tz;return typeof u!="string"&&typeof u!="number"&&(u=void 0),u&&(mn(u,n.cache)||n.parseMessages.push({type:"error",message:`Unable to parse timezone "${u}"`,pos:[o.from,o.to]})),n.push(a),n.startFoldableSection({type:P.Section,startLine:e,startIndex:t[e],endIndex:t[e]+s.length,foldStartIndex:t[e]+s.length}),{end:c}}return!1}const pg="0.15.0",fg=i=>{const e=i instanceof Eo.Text?i.toJSON():Array.isArray(i)?i:i.split(`
`);let t=[];for(let n=0;n<e.length;n++)n===0&&t.push(0),t.push((n===e.length-1?0:1)+e[n].length+t[t.length-1]||0);return{lines:e,lengthAtIndex:t}};function Sd(i,e,t){e===!0&&(e=new bb);const n={version:pg};if(!i)return{...hu(),cache:e,parser:n,parseMessages:[]};const{lines:s,lengthAtIndex:r}=fg(i);return{...yg(s,r,e,t),cache:e,parser:n}}function bg(i,e,t,n,s){let r=i;const o=s||t.length;for(;r<t.length&&r<o;){const a=t[r];if(Hy(a,r,n,e)){r++;continue}const l=mg(t,r,n,e);if(l){r=l.end;continue}r=Ey(a,t,r,n,e)+1}if(s===void 0){const a=r-1;for(;e.currentPath.length>1;)e.endCurrentGroup(n[a]+t[a].length,{line:a,index:t[a].length})}return e}function yg(i,e,t,n){const s=new My(n,t),r=Cy(i,e,s);return bg(r,s,i,e),s.toTimeline()}const wd="dmFyIHd3PU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgYnc9KEosbmUsZmUpPT5uZSBpbiBKP3d3KEosbmUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZlfSk6SltuZV09ZmU7dmFyIFQ9KEosbmUsZmUpPT4oYncoSix0eXBlb2YgbmUhPSJzeW1ib2wiP25lKyIiOm5lLGZlKSxmZSksU2E9KEosbmUsZmUpPT57aWYoIW5lLmhhcyhKKSl0aHJvdyBUeXBlRXJyb3IoIkNhbm5vdCAiK2ZlKX07dmFyIHA9KEosbmUsZmUpPT4oU2EoSixuZSwicmVhZCBmcm9tIHByaXZhdGUgZmllbGQiKSxmZT9mZS5jYWxsKEopOm5lLmdldChKKSksej0oSixuZSxmZSk9PntpZihuZS5oYXMoSikpdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlIik7bmUgaW5zdGFuY2VvZiBXZWFrU2V0P25lLmFkZChKKTpuZS5zZXQoSixmZSl9LFU9KEosbmUsZmUsV3MpPT4oU2EoSixuZSwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZCIpLFdzP1dzLmNhbGwoSixmZSk6bmUuc2V0KEosZmUpLGZlKTt2YXIgTHI9KEosbmUsZmUsV3MpPT4oe3NldCBfKFp0KXtVKEosbmUsWnQsZmUpfSxnZXQgXygpe3JldHVybiBwKEosbmUsV3MpfX0pLEE9KEosbmUsZmUpPT4oU2EoSixuZSwiYWNjZXNzIHByaXZhdGUgbWV0aG9kIiksZmUpOyhmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgRGgsU24sRXQsdHQsU3QsRnMsT3QsT24sSW4sT2UsSXQsRWUsYWUsJCxqZSxzdCxQZSxfZSxEdCxOZSxNdCxfdCxudCxOdCxncyxxZSxEbixmaSxPYSx6cyxLdCxkaSxpdCxBcixfaCxQcyxNbixtaSxGdCx3cyx6dCxicyx5aSxJYSxndyxfbixScixObixVcixyZSx1ZSxwaSxEYSwkcyxraSxQdCxUcyxnaSxNYSx2bixBbixDbjtjbGFzcyBKIGV4dGVuZHMgRXJyb3J7fWNsYXNzIG5lIGV4dGVuZHMgSntjb25zdHJ1Y3RvcihlKXtzdXBlcihgSW52YWxpZCBEYXRlVGltZTogJHtlLnRvTWVzc2FnZSgpfWApfX1jbGFzcyBmZSBleHRlbmRzIEp7Y29uc3RydWN0b3IoZSl7c3VwZXIoYEludmFsaWQgSW50ZXJ2YWw6ICR7ZS50b01lc3NhZ2UoKX1gKX19Y2xhc3MgV3MgZXh0ZW5kcyBKe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGBJbnZhbGlkIER1cmF0aW9uOiAke2UudG9NZXNzYWdlKCl9YCl9fWNsYXNzIFp0IGV4dGVuZHMgSnt9Y2xhc3MgX2EgZXh0ZW5kcyBKe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGBJbnZhbGlkIHVuaXQgJHtlfWApfX1jbGFzcyBDZSBleHRlbmRzIEp7fWNsYXNzIEd0IGV4dGVuZHMgSntjb25zdHJ1Y3Rvcigpe3N1cGVyKCJab25lIGlzIGFuIGFic3RyYWN0IGNsYXNzIil9fWNvbnN0IEk9Im51bWVyaWMiLG10PSJzaG9ydCIsWGU9ImxvbmciLEVpPXt5ZWFyOkksbW9udGg6SSxkYXk6SX0sTmE9e3llYXI6SSxtb250aDptdCxkYXk6SX0sTmg9e3llYXI6SSxtb250aDptdCxkYXk6SSx3ZWVrZGF5Om10fSx2YT17eWVhcjpJLG1vbnRoOlhlLGRheTpJfSxBYT17eWVhcjpJLG1vbnRoOlhlLGRheTpJLHdlZWtkYXk6WGV9LENhPXtob3VyOkksbWludXRlOkl9LHhhPXtob3VyOkksbWludXRlOkksc2Vjb25kOkl9LExhPXtob3VyOkksbWludXRlOkksc2Vjb25kOkksdGltZVpvbmVOYW1lOm10fSxZYT17aG91cjpJLG1pbnV0ZTpJLHNlY29uZDpJLHRpbWVab25lTmFtZTpYZX0sUmE9e2hvdXI6SSxtaW51dGU6SSxob3VyQ3ljbGU6ImgyMyJ9LFVhPXtob3VyOkksbWludXRlOkksc2Vjb25kOkksaG91ckN5Y2xlOiJoMjMifSxGYT17aG91cjpJLG1pbnV0ZTpJLHNlY29uZDpJLGhvdXJDeWNsZToiaDIzIix0aW1lWm9uZU5hbWU6bXR9LHphPXtob3VyOkksbWludXRlOkksc2Vjb25kOkksaG91ckN5Y2xlOiJoMjMiLHRpbWVab25lTmFtZTpYZX0sUGE9e3llYXI6SSxtb250aDpJLGRheTpJLGhvdXI6SSxtaW51dGU6SX0sJGE9e3llYXI6SSxtb250aDpJLGRheTpJLGhvdXI6SSxtaW51dGU6SSxzZWNvbmQ6SX0sQmE9e3llYXI6SSxtb250aDptdCxkYXk6SSxob3VyOkksbWludXRlOkl9LFdhPXt5ZWFyOkksbW9udGg6bXQsZGF5OkksaG91cjpJLG1pbnV0ZTpJLHNlY29uZDpJfSx2aD17eWVhcjpJLG1vbnRoOm10LGRheTpJLHdlZWtkYXk6bXQsaG91cjpJLG1pbnV0ZTpJfSxIYT17eWVhcjpJLG1vbnRoOlhlLGRheTpJLGhvdXI6SSxtaW51dGU6SSx0aW1lWm9uZU5hbWU6bXR9LFZhPXt5ZWFyOkksbW9udGg6WGUsZGF5OkksaG91cjpJLG1pbnV0ZTpJLHNlY29uZDpJLHRpbWVab25lTmFtZTptdH0samE9e3llYXI6SSxtb250aDpYZSxkYXk6SSx3ZWVrZGF5OlhlLGhvdXI6SSxtaW51dGU6SSx0aW1lWm9uZU5hbWU6WGV9LHFhPXt5ZWFyOkksbW9udGg6WGUsZGF5Okksd2Vla2RheTpYZSxob3VyOkksbWludXRlOkksc2Vjb25kOkksdGltZVpvbmVOYW1lOlhlfTtjbGFzcyBMbntnZXQgdHlwZSgpe3Rocm93IG5ldyBHdH1nZXQgbmFtZSgpe3Rocm93IG5ldyBHdH1nZXQgaWFuYU5hbWUoKXtyZXR1cm4gdGhpcy5uYW1lfWdldCBpc1VuaXZlcnNhbCgpe3Rocm93IG5ldyBHdH1vZmZzZXROYW1lKGUsdCl7dGhyb3cgbmV3IEd0fWZvcm1hdE9mZnNldChlLHQpe3Rocm93IG5ldyBHdH1vZmZzZXQoZSl7dGhyb3cgbmV3IEd0fWVxdWFscyhlKXt0aHJvdyBuZXcgR3R9Z2V0IGlzVmFsaWQoKXt0aHJvdyBuZXcgR3R9fWxldCBGcj1udWxsO2NsYXNzIFluIGV4dGVuZHMgTG57c3RhdGljIGdldCBpbnN0YW5jZSgpe3JldHVybiBGcj09PW51bGwmJihGcj1uZXcgWW4pLEZyfWdldCB0eXBlKCl7cmV0dXJuInN5c3RlbSJ9Z2V0IG5hbWUoKXtyZXR1cm4gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZX1nZXQgaXNVbml2ZXJzYWwoKXtyZXR1cm4hMX1vZmZzZXROYW1lKGUse2Zvcm1hdDp0LGxvY2FsZTpzfSl7cmV0dXJuIGJsKGUsdCxzKX1mb3JtYXRPZmZzZXQoZSx0KXtyZXR1cm4gem4odGhpcy5vZmZzZXQoZSksdCl9b2Zmc2V0KGUpe3JldHVybi1uZXcgRGF0ZShlKS5nZXRUaW1lem9uZU9mZnNldCgpfWVxdWFscyhlKXtyZXR1cm4gZS50eXBlPT09InN5c3RlbSJ9Z2V0IGlzVmFsaWQoKXtyZXR1cm4hMH19Y29uc3QgenI9bmV3IE1hcDtmdW5jdGlvbiBBaChuKXtsZXQgZT16ci5nZXQobik7cmV0dXJuIGU9PT12b2lkIDAmJihlPW5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KCJlbi1VUyIse2hvdXIxMjohMSx0aW1lWm9uZTpuLHllYXI6Im51bWVyaWMiLG1vbnRoOiIyLWRpZ2l0IixkYXk6IjItZGlnaXQiLGhvdXI6IjItZGlnaXQiLG1pbnV0ZToiMi1kaWdpdCIsc2Vjb25kOiIyLWRpZ2l0IixlcmE6InNob3J0In0pLHpyLnNldChuLGUpKSxlfWNvbnN0IENoPXt5ZWFyOjAsbW9udGg6MSxkYXk6MixlcmE6Myxob3VyOjQsbWludXRlOjUsc2Vjb25kOjZ9O2Z1bmN0aW9uIHhoKG4sZSl7Y29uc3QgdD1uLmZvcm1hdChlKS5yZXBsYWNlKC9cdTIwMEUvZywiIikscz0vKFxkKylcLyhcZCspXC8oXGQrKSAoQUR8QkMpLD8gKFxkKyk6KFxkKyk6KFxkKykvLmV4ZWModCksWyxpLHIsbyxhLGwsdSxoXT1zO3JldHVybltvLGkscixhLGwsdSxoXX1mdW5jdGlvbiBMaChuLGUpe2NvbnN0IHQ9bi5mb3JtYXRUb1BhcnRzKGUpLHM9W107Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0e3R5cGU6cix2YWx1ZTpvfT10W2ldLGE9Q2hbcl07cj09PSJlcmEiP3NbYV09bzpQKGEpfHwoc1thXT1wYXJzZUludChvLDEwKSl9cmV0dXJuIHN9Y29uc3QgUHI9bmV3IE1hcDtjbGFzcyAkdCBleHRlbmRzIExue3N0YXRpYyBjcmVhdGUoZSl7bGV0IHQ9UHIuZ2V0KGUpO3JldHVybiB0PT09dm9pZCAwJiZQci5zZXQoZSx0PW5ldyAkdChlKSksdH1zdGF0aWMgcmVzZXRDYWNoZSgpe1ByLmNsZWFyKCksenIuY2xlYXIoKX1zdGF0aWMgaXNWYWxpZFNwZWNpZmllcihlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkWm9uZShlKX1zdGF0aWMgaXNWYWxpZFpvbmUoZSl7aWYoIWUpcmV0dXJuITE7dHJ5e3JldHVybiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgiZW4tVVMiLHt0aW1lWm9uZTplfSkuZm9ybWF0KCksITB9Y2F0Y2h7cmV0dXJuITF9fWNvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy56b25lTmFtZT1lLHRoaXMudmFsaWQ9JHQuaXNWYWxpZFpvbmUoZSl9Z2V0IHR5cGUoKXtyZXR1cm4iaWFuYSJ9Z2V0IG5hbWUoKXtyZXR1cm4gdGhpcy56b25lTmFtZX1nZXQgaXNVbml2ZXJzYWwoKXtyZXR1cm4hMX1vZmZzZXROYW1lKGUse2Zvcm1hdDp0LGxvY2FsZTpzfSl7cmV0dXJuIGJsKGUsdCxzLHRoaXMubmFtZSl9Zm9ybWF0T2Zmc2V0KGUsdCl7cmV0dXJuIHpuKHRoaXMub2Zmc2V0KGUpLHQpfW9mZnNldChlKXtpZighdGhpcy52YWxpZClyZXR1cm4gTmFOO2NvbnN0IHQ9bmV3IERhdGUoZSk7aWYoaXNOYU4odCkpcmV0dXJuIE5hTjtjb25zdCBzPUFoKHRoaXMubmFtZSk7bGV0W2kscixvLGEsbCx1LGhdPXMuZm9ybWF0VG9QYXJ0cz9MaChzLHQpOnhoKHMsdCk7YT09PSJCQyImJihpPS1NYXRoLmFicyhpKSsxKTtjb25zdCBtPU1pKHt5ZWFyOmksbW9udGg6cixkYXk6byxob3VyOmw9PT0yND8wOmwsbWludXRlOnUsc2Vjb25kOmgsbWlsbGlzZWNvbmQ6MH0pO2xldCBmPSt0O2NvbnN0IGc9ZiUxZTM7cmV0dXJuIGYtPWc+PTA/ZzoxZTMrZywobS1mKS8oNjAqMWUzKX1lcXVhbHMoZSl7cmV0dXJuIGUudHlwZT09PSJpYW5hIiYmZS5uYW1lPT09dGhpcy5uYW1lfWdldCBpc1ZhbGlkKCl7cmV0dXJuIHRoaXMudmFsaWR9fWxldCBLYT17fTtmdW5jdGlvbiBZaChuLGU9e30pe2NvbnN0IHQ9SlNPTi5zdHJpbmdpZnkoW24sZV0pO2xldCBzPUthW3RdO3JldHVybiBzfHwocz1uZXcgSW50bC5MaXN0Rm9ybWF0KG4sZSksS2FbdF09cyksc31jb25zdCAkcj1uZXcgTWFwO2Z1bmN0aW9uIEJyKG4sZT17fSl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShbbixlXSk7bGV0IHM9JHIuZ2V0KHQpO3JldHVybiBzPT09dm9pZCAwJiYocz1uZXcgSW50bC5EYXRlVGltZUZvcm1hdChuLGUpLCRyLnNldCh0LHMpKSxzfWNvbnN0IFdyPW5ldyBNYXA7ZnVuY3Rpb24gUmgobixlPXt9KXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KFtuLGVdKTtsZXQgcz1Xci5nZXQodCk7cmV0dXJuIHM9PT12b2lkIDAmJihzPW5ldyBJbnRsLk51bWJlckZvcm1hdChuLGUpLFdyLnNldCh0LHMpKSxzfWNvbnN0IEhyPW5ldyBNYXA7ZnVuY3Rpb24gVWgobixlPXt9KXtjb25zdHtiYXNlOnQsLi4uc309ZSxpPUpTT04uc3RyaW5naWZ5KFtuLHNdKTtsZXQgcj1Ici5nZXQoaSk7cmV0dXJuIHI9PT12b2lkIDAmJihyPW5ldyBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdChuLGUpLEhyLnNldChpLHIpKSxyfWxldCBSbj1udWxsO2Z1bmN0aW9uIEZoKCl7cmV0dXJuIFJufHwoUm49bmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS5sb2NhbGUsUm4pfWNvbnN0IFZyPW5ldyBNYXA7ZnVuY3Rpb24gWmEobil7bGV0IGU9VnIuZ2V0KG4pO3JldHVybiBlPT09dm9pZCAwJiYoZT1uZXcgSW50bC5EYXRlVGltZUZvcm1hdChuKS5yZXNvbHZlZE9wdGlvbnMoKSxWci5zZXQobixlKSksZX1jb25zdCBqcj1uZXcgTWFwO2Z1bmN0aW9uIHpoKG4pe2xldCBlPWpyLmdldChuKTtpZighZSl7Y29uc3QgdD1uZXcgSW50bC5Mb2NhbGUobik7ZT0iZ2V0V2Vla0luZm8iaW4gdD90LmdldFdlZWtJbmZvKCk6dC53ZWVrSW5mbywibWluaW1hbERheXMiaW4gZXx8KGU9ey4uLkdhLC4uLmV9KSxqci5zZXQobixlKX1yZXR1cm4gZX1mdW5jdGlvbiBQaChuKXtjb25zdCBlPW4uaW5kZXhPZigiLXgtIik7ZSE9PS0xJiYobj1uLnN1YnN0cmluZygwLGUpKTtjb25zdCB0PW4uaW5kZXhPZigiLXUtIik7aWYodD09PS0xKXJldHVybltuXTt7bGV0IHMsaTt0cnl7cz1CcihuKS5yZXNvbHZlZE9wdGlvbnMoKSxpPW59Y2F0Y2h7Y29uc3QgbD1uLnN1YnN0cmluZygwLHQpO3M9QnIobCkucmVzb2x2ZWRPcHRpb25zKCksaT1sfWNvbnN0e251bWJlcmluZ1N5c3RlbTpyLGNhbGVuZGFyOm99PXM7cmV0dXJuW2kscixvXX19ZnVuY3Rpb24gJGgobixlLHQpe3JldHVybih0fHxlKSYmKG4uaW5jbHVkZXMoIi11LSIpfHwobis9Ii11IiksdCYmKG4rPWAtY2EtJHt0fWApLGUmJihuKz1gLW51LSR7ZX1gKSksbn1mdW5jdGlvbiBCaChuKXtjb25zdCBlPVtdO2ZvcihsZXQgdD0xO3Q8PTEyO3QrKyl7Y29uc3Qgcz1NLnV0YygyMDA5LHQsMSk7ZS5wdXNoKG4ocykpfXJldHVybiBlfWZ1bmN0aW9uIFdoKG4pe2NvbnN0IGU9W107Zm9yKGxldCB0PTE7dDw9Nzt0Kyspe2NvbnN0IHM9TS51dGMoMjAxNiwxMSwxMyt0KTtlLnB1c2gobihzKSl9cmV0dXJuIGV9ZnVuY3Rpb24gU2kobixlLHQscyl7Y29uc3QgaT1uLmxpc3RpbmdNb2RlKCk7cmV0dXJuIGk9PT0iZXJyb3IiP251bGw6aT09PSJlbiI/dChlKTpzKGUpfWZ1bmN0aW9uIEhoKG4pe3JldHVybiBuLm51bWJlcmluZ1N5c3RlbSYmbi5udW1iZXJpbmdTeXN0ZW0hPT0ibGF0biI/ITE6bi5udW1iZXJpbmdTeXN0ZW09PT0ibGF0biJ8fCFuLmxvY2FsZXx8bi5sb2NhbGUuc3RhcnRzV2l0aCgiZW4iKXx8WmEobi5sb2NhbGUpLm51bWJlcmluZ1N5c3RlbT09PSJsYXRuIn1jbGFzcyBWaHtjb25zdHJ1Y3RvcihlLHQscyl7dGhpcy5wYWRUbz1zLnBhZFRvfHwwLHRoaXMuZmxvb3I9cy5mbG9vcnx8ITE7Y29uc3R7cGFkVG86aSxmbG9vcjpyLC4uLm99PXM7aWYoIXR8fE9iamVjdC5rZXlzKG8pLmxlbmd0aD4wKXtjb25zdCBhPXt1c2VHcm91cGluZzohMSwuLi5zfTtzLnBhZFRvPjAmJihhLm1pbmltdW1JbnRlZ2VyRGlnaXRzPXMucGFkVG8pLHRoaXMuaW5mPVJoKGUsYSl9fWZvcm1hdChlKXtpZih0aGlzLmluZil7Y29uc3QgdD10aGlzLmZsb29yP01hdGguZmxvb3IoZSk6ZTtyZXR1cm4gdGhpcy5pbmYuZm9ybWF0KHQpfWVsc2V7Y29uc3QgdD10aGlzLmZsb29yP01hdGguZmxvb3IoZSk6dG8oZSwzKTtyZXR1cm4gVGUodCx0aGlzLnBhZFRvKX19fWNsYXNzIGpoe2NvbnN0cnVjdG9yKGUsdCxzKXt0aGlzLm9wdHM9cyx0aGlzLm9yaWdpbmFsWm9uZT12b2lkIDA7bGV0IGk7aWYodGhpcy5vcHRzLnRpbWVab25lKXRoaXMuZHQ9ZTtlbHNlIGlmKGUuem9uZS50eXBlPT09ImZpeGVkIil7Y29uc3Qgbz0tMSooZS5vZmZzZXQvNjApLGE9bz49MD9gRXRjL0dNVCske299YDpgRXRjL0dNVCR7b31gO2Uub2Zmc2V0IT09MCYmJHQuY3JlYXRlKGEpLnZhbGlkPyhpPWEsdGhpcy5kdD1lKTooaT0iVVRDIix0aGlzLmR0PWUub2Zmc2V0PT09MD9lOmUuc2V0Wm9uZSgiVVRDIikucGx1cyh7bWludXRlczplLm9mZnNldH0pLHRoaXMub3JpZ2luYWxab25lPWUuem9uZSl9ZWxzZSBlLnpvbmUudHlwZT09PSJzeXN0ZW0iP3RoaXMuZHQ9ZTplLnpvbmUudHlwZT09PSJpYW5hIj8odGhpcy5kdD1lLGk9ZS56b25lLm5hbWUpOihpPSJVVEMiLHRoaXMuZHQ9ZS5zZXRab25lKCJVVEMiKS5wbHVzKHttaW51dGVzOmUub2Zmc2V0fSksdGhpcy5vcmlnaW5hbFpvbmU9ZS56b25lKTtjb25zdCByPXsuLi50aGlzLm9wdHN9O3IudGltZVpvbmU9ci50aW1lWm9uZXx8aSx0aGlzLmR0Zj1Ccih0LHIpfWZvcm1hdCgpe3JldHVybiB0aGlzLm9yaWdpbmFsWm9uZT90aGlzLmZvcm1hdFRvUGFydHMoKS5tYXAoKHt2YWx1ZTplfSk9PmUpLmpvaW4oIiIpOnRoaXMuZHRmLmZvcm1hdCh0aGlzLmR0LnRvSlNEYXRlKCkpfWZvcm1hdFRvUGFydHMoKXtjb25zdCBlPXRoaXMuZHRmLmZvcm1hdFRvUGFydHModGhpcy5kdC50b0pTRGF0ZSgpKTtyZXR1cm4gdGhpcy5vcmlnaW5hbFpvbmU/ZS5tYXAodD0+e2lmKHQudHlwZT09PSJ0aW1lWm9uZU5hbWUiKXtjb25zdCBzPXRoaXMub3JpZ2luYWxab25lLm9mZnNldE5hbWUodGhpcy5kdC50cyx7bG9jYWxlOnRoaXMuZHQubG9jYWxlLGZvcm1hdDp0aGlzLm9wdHMudGltZVpvbmVOYW1lfSk7cmV0dXJuey4uLnQsdmFsdWU6c319ZWxzZSByZXR1cm4gdH0pOmV9cmVzb2x2ZWRPcHRpb25zKCl7cmV0dXJuIHRoaXMuZHRmLnJlc29sdmVkT3B0aW9ucygpfX1jbGFzcyBxaHtjb25zdHJ1Y3RvcihlLHQscyl7dGhpcy5vcHRzPXtzdHlsZToibG9uZyIsLi4uc30sIXQmJnlsKCkmJih0aGlzLnJ0Zj1VaChlLHMpKX1mb3JtYXQoZSx0KXtyZXR1cm4gdGhpcy5ydGY/dGhpcy5ydGYuZm9ybWF0KGUsdCk6cGYodCxlLHRoaXMub3B0cy5udW1lcmljLHRoaXMub3B0cy5zdHlsZSE9PSJsb25nIil9Zm9ybWF0VG9QYXJ0cyhlLHQpe3JldHVybiB0aGlzLnJ0Zj90aGlzLnJ0Zi5mb3JtYXRUb1BhcnRzKGUsdCk6W119fWNvbnN0IEdhPXtmaXJzdERheToxLG1pbmltYWxEYXlzOjQsd2Vla2VuZDpbNiw3XX07Y2xhc3MgdGV7c3RhdGljIGZyb21PcHRzKGUpe3JldHVybiB0ZS5jcmVhdGUoZS5sb2NhbGUsZS5udW1iZXJpbmdTeXN0ZW0sZS5vdXRwdXRDYWxlbmRhcixlLndlZWtTZXR0aW5ncyxlLmRlZmF1bHRUb0VOKX1zdGF0aWMgY3JlYXRlKGUsdCxzLGkscj0hMSl7Y29uc3Qgbz1lfHxkZS5kZWZhdWx0TG9jYWxlLGE9b3x8KHI/ImVuLVVTIjpGaCgpKSxsPXR8fGRlLmRlZmF1bHROdW1iZXJpbmdTeXN0ZW0sdT1zfHxkZS5kZWZhdWx0T3V0cHV0Q2FsZW5kYXIsaD1RcihpKXx8ZGUuZGVmYXVsdFdlZWtTZXR0aW5ncztyZXR1cm4gbmV3IHRlKGEsbCx1LGgsbyl9c3RhdGljIHJlc2V0Q2FjaGUoKXtSbj1udWxsLCRyLmNsZWFyKCksV3IuY2xlYXIoKSxIci5jbGVhcigpLFZyLmNsZWFyKCksanIuY2xlYXIoKX1zdGF0aWMgZnJvbU9iamVjdCh7bG9jYWxlOmUsbnVtYmVyaW5nU3lzdGVtOnQsb3V0cHV0Q2FsZW5kYXI6cyx3ZWVrU2V0dGluZ3M6aX09e30pe3JldHVybiB0ZS5jcmVhdGUoZSx0LHMsaSl9Y29uc3RydWN0b3IoZSx0LHMsaSxyKXtjb25zdFtvLGEsbF09UGgoZSk7dGhpcy5sb2NhbGU9byx0aGlzLm51bWJlcmluZ1N5c3RlbT10fHxhfHxudWxsLHRoaXMub3V0cHV0Q2FsZW5kYXI9c3x8bHx8bnVsbCx0aGlzLndlZWtTZXR0aW5ncz1pLHRoaXMuaW50bD0kaCh0aGlzLmxvY2FsZSx0aGlzLm51bWJlcmluZ1N5c3RlbSx0aGlzLm91dHB1dENhbGVuZGFyKSx0aGlzLndlZWtkYXlzQ2FjaGU9e2Zvcm1hdDp7fSxzdGFuZGFsb25lOnt9fSx0aGlzLm1vbnRoc0NhY2hlPXtmb3JtYXQ6e30sc3RhbmRhbG9uZTp7fX0sdGhpcy5tZXJpZGllbUNhY2hlPW51bGwsdGhpcy5lcmFDYWNoZT17fSx0aGlzLnNwZWNpZmllZExvY2FsZT1yLHRoaXMuZmFzdE51bWJlcnNDYWNoZWQ9bnVsbH1nZXQgZmFzdE51bWJlcnMoKXtyZXR1cm4gdGhpcy5mYXN0TnVtYmVyc0NhY2hlZD09bnVsbCYmKHRoaXMuZmFzdE51bWJlcnNDYWNoZWQ9SGgodGhpcykpLHRoaXMuZmFzdE51bWJlcnNDYWNoZWR9bGlzdGluZ01vZGUoKXtjb25zdCBlPXRoaXMuaXNFbmdsaXNoKCksdD0odGhpcy5udW1iZXJpbmdTeXN0ZW09PT1udWxsfHx0aGlzLm51bWJlcmluZ1N5c3RlbT09PSJsYXRuIikmJih0aGlzLm91dHB1dENhbGVuZGFyPT09bnVsbHx8dGhpcy5vdXRwdXRDYWxlbmRhcj09PSJncmVnb3J5Iik7cmV0dXJuIGUmJnQ/ImVuIjoiaW50bCJ9Y2xvbmUoZSl7cmV0dXJuIWV8fE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aD09PTA/dGhpczp0ZS5jcmVhdGUoZS5sb2NhbGV8fHRoaXMuc3BlY2lmaWVkTG9jYWxlLGUubnVtYmVyaW5nU3lzdGVtfHx0aGlzLm51bWJlcmluZ1N5c3RlbSxlLm91dHB1dENhbGVuZGFyfHx0aGlzLm91dHB1dENhbGVuZGFyLFFyKGUud2Vla1NldHRpbmdzKXx8dGhpcy53ZWVrU2V0dGluZ3MsZS5kZWZhdWx0VG9FTnx8ITEpfXJlZGVmYXVsdFRvRU4oZT17fSl7cmV0dXJuIHRoaXMuY2xvbmUoey4uLmUsZGVmYXVsdFRvRU46ITB9KX1yZWRlZmF1bHRUb1N5c3RlbShlPXt9KXtyZXR1cm4gdGhpcy5jbG9uZSh7Li4uZSxkZWZhdWx0VG9FTjohMX0pfW1vbnRocyhlLHQ9ITEpe3JldHVybiBTaSh0aGlzLGUsRWwsKCk9Pntjb25zdCBzPXQ/e21vbnRoOmUsZGF5OiJudW1lcmljIn06e21vbnRoOmV9LGk9dD8iZm9ybWF0Ijoic3RhbmRhbG9uZSI7cmV0dXJuIHRoaXMubW9udGhzQ2FjaGVbaV1bZV18fCh0aGlzLm1vbnRoc0NhY2hlW2ldW2VdPUJoKHI9PnRoaXMuZXh0cmFjdChyLHMsIm1vbnRoIikpKSx0aGlzLm1vbnRoc0NhY2hlW2ldW2VdfSl9d2Vla2RheXMoZSx0PSExKXtyZXR1cm4gU2kodGhpcyxlLElsLCgpPT57Y29uc3Qgcz10P3t3ZWVrZGF5OmUseWVhcjoibnVtZXJpYyIsbW9udGg6ImxvbmciLGRheToibnVtZXJpYyJ9Ont3ZWVrZGF5OmV9LGk9dD8iZm9ybWF0Ijoic3RhbmRhbG9uZSI7cmV0dXJuIHRoaXMud2Vla2RheXNDYWNoZVtpXVtlXXx8KHRoaXMud2Vla2RheXNDYWNoZVtpXVtlXT1XaChyPT50aGlzLmV4dHJhY3QocixzLCJ3ZWVrZGF5IikpKSx0aGlzLndlZWtkYXlzQ2FjaGVbaV1bZV19KX1tZXJpZGllbXMoKXtyZXR1cm4gU2kodGhpcyx2b2lkIDAsKCk9PkRsLCgpPT57aWYoIXRoaXMubWVyaWRpZW1DYWNoZSl7Y29uc3QgZT17aG91cjoibnVtZXJpYyIsaG91ckN5Y2xlOiJoMTIifTt0aGlzLm1lcmlkaWVtQ2FjaGU9W00udXRjKDIwMTYsMTEsMTMsOSksTS51dGMoMjAxNiwxMSwxMywxOSldLm1hcCh0PT50aGlzLmV4dHJhY3QodCxlLCJkYXlwZXJpb2QiKSl9cmV0dXJuIHRoaXMubWVyaWRpZW1DYWNoZX0pfWVyYXMoZSl7cmV0dXJuIFNpKHRoaXMsZSxNbCwoKT0+e2NvbnN0IHQ9e2VyYTplfTtyZXR1cm4gdGhpcy5lcmFDYWNoZVtlXXx8KHRoaXMuZXJhQ2FjaGVbZV09W00udXRjKC00MCwxLDEpLE0udXRjKDIwMTcsMSwxKV0ubWFwKHM9PnRoaXMuZXh0cmFjdChzLHQsImVyYSIpKSksdGhpcy5lcmFDYWNoZVtlXX0pfWV4dHJhY3QoZSx0LHMpe2NvbnN0IGk9dGhpcy5kdEZvcm1hdHRlcihlLHQpLHI9aS5mb3JtYXRUb1BhcnRzKCksbz1yLmZpbmQoYT0+YS50eXBlLnRvTG93ZXJDYXNlKCk9PT1zKTtyZXR1cm4gbz9vLnZhbHVlOm51bGx9bnVtYmVyRm9ybWF0dGVyKGU9e30pe3JldHVybiBuZXcgVmgodGhpcy5pbnRsLGUuZm9yY2VTaW1wbGV8fHRoaXMuZmFzdE51bWJlcnMsZSl9ZHRGb3JtYXR0ZXIoZSx0PXt9KXtyZXR1cm4gbmV3IGpoKGUsdGhpcy5pbnRsLHQpfXJlbEZvcm1hdHRlcihlPXt9KXtyZXR1cm4gbmV3IHFoKHRoaXMuaW50bCx0aGlzLmlzRW5nbGlzaCgpLGUpfWxpc3RGb3JtYXR0ZXIoZT17fSl7cmV0dXJuIFloKHRoaXMuaW50bCxlKX1pc0VuZ2xpc2goKXtyZXR1cm4gdGhpcy5sb2NhbGU9PT0iZW4ifHx0aGlzLmxvY2FsZS50b0xvd2VyQ2FzZSgpPT09ImVuLXVzInx8WmEodGhpcy5pbnRsKS5sb2NhbGUuc3RhcnRzV2l0aCgiZW4tdXMiKX1nZXRXZWVrU2V0dGluZ3MoKXtyZXR1cm4gdGhpcy53ZWVrU2V0dGluZ3M/dGhpcy53ZWVrU2V0dGluZ3M6cGwoKT96aCh0aGlzLmxvY2FsZSk6R2F9Z2V0U3RhcnRPZldlZWsoKXtyZXR1cm4gdGhpcy5nZXRXZWVrU2V0dGluZ3MoKS5maXJzdERheX1nZXRNaW5EYXlzSW5GaXJzdFdlZWsoKXtyZXR1cm4gdGhpcy5nZXRXZWVrU2V0dGluZ3MoKS5taW5pbWFsRGF5c31nZXRXZWVrZW5kRGF5cygpe3JldHVybiB0aGlzLmdldFdlZWtTZXR0aW5ncygpLndlZWtlbmR9ZXF1YWxzKGUpe3JldHVybiB0aGlzLmxvY2FsZT09PWUubG9jYWxlJiZ0aGlzLm51bWJlcmluZ1N5c3RlbT09PWUubnVtYmVyaW5nU3lzdGVtJiZ0aGlzLm91dHB1dENhbGVuZGFyPT09ZS5vdXRwdXRDYWxlbmRhcn10b1N0cmluZygpe3JldHVybmBMb2NhbGUoJHt0aGlzLmxvY2FsZX0sICR7dGhpcy5udW1iZXJpbmdTeXN0ZW19LCAke3RoaXMub3V0cHV0Q2FsZW5kYXJ9KWB9fWxldCBxcj1udWxsO2NsYXNzICRlIGV4dGVuZHMgTG57c3RhdGljIGdldCB1dGNJbnN0YW5jZSgpe3JldHVybiBxcj09PW51bGwmJihxcj1uZXcgJGUoMCkpLHFyfXN0YXRpYyBpbnN0YW5jZShlKXtyZXR1cm4gZT09PTA/JGUudXRjSW5zdGFuY2U6bmV3ICRlKGUpfXN0YXRpYyBwYXJzZVNwZWNpZmllcihlKXtpZihlKXtjb25zdCB0PWUubWF0Y2goL151dGMoPzooWystXVxkezEsMn0pKD86OihcZHsyfSkpPyk/JC9pKTtpZih0KXJldHVybiBuZXcgJGUoX2kodFsxXSx0WzJdKSl9cmV0dXJuIG51bGx9Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLmZpeGVkPWV9Z2V0IHR5cGUoKXtyZXR1cm4iZml4ZWQifWdldCBuYW1lKCl7cmV0dXJuIHRoaXMuZml4ZWQ9PT0wPyJVVEMiOmBVVEMke3puKHRoaXMuZml4ZWQsIm5hcnJvdyIpfWB9Z2V0IGlhbmFOYW1lKCl7cmV0dXJuIHRoaXMuZml4ZWQ9PT0wPyJFdGMvVVRDIjpgRXRjL0dNVCR7em4oLXRoaXMuZml4ZWQsIm5hcnJvdyIpfWB9b2Zmc2V0TmFtZSgpe3JldHVybiB0aGlzLm5hbWV9Zm9ybWF0T2Zmc2V0KGUsdCl7cmV0dXJuIHpuKHRoaXMuZml4ZWQsdCl9Z2V0IGlzVW5pdmVyc2FsKCl7cmV0dXJuITB9b2Zmc2V0KCl7cmV0dXJuIHRoaXMuZml4ZWR9ZXF1YWxzKGUpe3JldHVybiBlLnR5cGU9PT0iZml4ZWQiJiZlLmZpeGVkPT09dGhpcy5maXhlZH1nZXQgaXNWYWxpZCgpe3JldHVybiEwfX1jbGFzcyBLaCBleHRlbmRzIExue2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy56b25lTmFtZT1lfWdldCB0eXBlKCl7cmV0dXJuImludmFsaWQifWdldCBuYW1lKCl7cmV0dXJuIHRoaXMuem9uZU5hbWV9Z2V0IGlzVW5pdmVyc2FsKCl7cmV0dXJuITF9b2Zmc2V0TmFtZSgpe3JldHVybiBudWxsfWZvcm1hdE9mZnNldCgpe3JldHVybiIifW9mZnNldCgpe3JldHVybiBOYU59ZXF1YWxzKCl7cmV0dXJuITF9Z2V0IGlzVmFsaWQoKXtyZXR1cm4hMX19ZnVuY3Rpb24gSnQobixlKXtpZihQKG4pfHxuPT09bnVsbClyZXR1cm4gZTtpZihuIGluc3RhbmNlb2YgTG4pcmV0dXJuIG47aWYoZWYobikpe2NvbnN0IHQ9bi50b0xvd2VyQ2FzZSgpO3JldHVybiB0PT09ImRlZmF1bHQiP2U6dD09PSJsb2NhbCJ8fHQ9PT0ic3lzdGVtIj9Zbi5pbnN0YW5jZTp0PT09InV0YyJ8fHQ9PT0iZ210Ij8kZS51dGNJbnN0YW5jZTokZS5wYXJzZVNwZWNpZmllcih0KXx8JHQuY3JlYXRlKG4pfWVsc2UgcmV0dXJuIFh0KG4pPyRlLmluc3RhbmNlKG4pOnR5cGVvZiBuPT0ib2JqZWN0IiYmIm9mZnNldCJpbiBuJiZ0eXBlb2Ygbi5vZmZzZXQ9PSJmdW5jdGlvbiI/bjpuZXcgS2gobil9Y29uc3QgS3I9e2FyYWI6IlvZoC3ZqV0iLGFyYWJleHQ6IlvbsC3buV0iLGJhbGk6IlvhrZAt4a2ZXSIsYmVuZzoiW+Cnpi3gp69dIixkZXZhOiJb4KWmLeClr10iLGZ1bGx3aWRlOiJb77yQLe+8mV0iLGd1anI6Ilvgq6Yt4KuvXSIsaGFuaWRlYzoiW+OAh3zkuIB85LqMfOS4iXzlm5t85LqUfOWFrXzkuIN85YWrfOS5nV0iLGtobXI6Ilvhn6At4Z+pXSIsa25kYToiW+Czpi3gs69dIixsYW9vOiJb4LuQLeC7mV0iLGxpbWI6IlvhpYYt4aWPXSIsbWx5bToiW+C1pi3gta9dIixtb25nOiJb4aCQLeGgmV0iLG15bXI6IlvhgYAt4YGJXSIsb3J5YToiW+Ctpi3gra9dIix0YW1sZGVjOiJb4K+mLeCvr10iLHRlbHU6IlvgsaYt4LGvXSIsdGhhaToiW+C5kC3guZldIix0aWJ0OiJb4LygLeC8qV0iLGxhdG46IlxcZCJ9LEphPXthcmFiOlsxNjMyLDE2NDFdLGFyYWJleHQ6WzE3NzYsMTc4NV0sYmFsaTpbNjk5Miw3MDAxXSxiZW5nOlsyNTM0LDI1NDNdLGRldmE6WzI0MDYsMjQxNV0sZnVsbHdpZGU6WzY1Mjk2LDY1MzAzXSxndWpyOlsyNzkwLDI3OTldLGtobXI6WzYxMTIsNjEyMV0sa25kYTpbMzMwMiwzMzExXSxsYW9vOlszNzkyLDM4MDFdLGxpbWI6WzY0NzAsNjQ3OV0sbWx5bTpbMzQzMCwzNDM5XSxtb25nOls2MTYwLDYxNjldLG15bXI6WzQxNjAsNDE2OV0sb3J5YTpbMjkxOCwyOTI3XSx0YW1sZGVjOlszMDQ2LDMwNTVdLHRlbHU6WzMxNzQsMzE4M10sdGhhaTpbMzY2NCwzNjczXSx0aWJ0OlszODcyLDM4ODFdfSxaaD1Lci5oYW5pZGVjLnJlcGxhY2UoL1tcW3xcXV0vZywiIikuc3BsaXQoIiIpO2Z1bmN0aW9uIEdoKG4pe2xldCBlPXBhcnNlSW50KG4sMTApO2lmKGlzTmFOKGUpKXtlPSIiO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKXtjb25zdCBzPW4uY2hhckNvZGVBdCh0KTtpZihuW3RdLnNlYXJjaChLci5oYW5pZGVjKSE9PS0xKWUrPVpoLmluZGV4T2Yoblt0XSk7ZWxzZSBmb3IoY29uc3QgaSBpbiBKYSl7Y29uc3RbcixvXT1KYVtpXTtzPj1yJiZzPD1vJiYoZSs9cy1yKX19cmV0dXJuIHBhcnNlSW50KGUsMTApfWVsc2UgcmV0dXJuIGV9Y29uc3QgWnI9bmV3IE1hcDtmdW5jdGlvbiBKaCgpe1pyLmNsZWFyKCl9ZnVuY3Rpb24geXQoe251bWJlcmluZ1N5c3RlbTpufSxlPSIiKXtjb25zdCB0PW58fCJsYXRuIjtsZXQgcz1aci5nZXQodCk7cz09PXZvaWQgMCYmKHM9bmV3IE1hcCxaci5zZXQodCxzKSk7bGV0IGk9cy5nZXQoZSk7cmV0dXJuIGk9PT12b2lkIDAmJihpPW5ldyBSZWdFeHAoYCR7S3JbdF19JHtlfWApLHMuc2V0KGUsaSkpLGl9bGV0IFhhPSgpPT5EYXRlLm5vdygpLFFhPSJzeXN0ZW0iLGVsPW51bGwsdGw9bnVsbCxzbD1udWxsLG5sPTYwLGlsLHJsPW51bGw7Y2xhc3MgZGV7c3RhdGljIGdldCBub3coKXtyZXR1cm4gWGF9c3RhdGljIHNldCBub3coZSl7WGE9ZX1zdGF0aWMgc2V0IGRlZmF1bHRab25lKGUpe1FhPWV9c3RhdGljIGdldCBkZWZhdWx0Wm9uZSgpe3JldHVybiBKdChRYSxZbi5pbnN0YW5jZSl9c3RhdGljIGdldCBkZWZhdWx0TG9jYWxlKCl7cmV0dXJuIGVsfXN0YXRpYyBzZXQgZGVmYXVsdExvY2FsZShlKXtlbD1lfXN0YXRpYyBnZXQgZGVmYXVsdE51bWJlcmluZ1N5c3RlbSgpe3JldHVybiB0bH1zdGF0aWMgc2V0IGRlZmF1bHROdW1iZXJpbmdTeXN0ZW0oZSl7dGw9ZX1zdGF0aWMgZ2V0IGRlZmF1bHRPdXRwdXRDYWxlbmRhcigpe3JldHVybiBzbH1zdGF0aWMgc2V0IGRlZmF1bHRPdXRwdXRDYWxlbmRhcihlKXtzbD1lfXN0YXRpYyBnZXQgZGVmYXVsdFdlZWtTZXR0aW5ncygpe3JldHVybiBybH1zdGF0aWMgc2V0IGRlZmF1bHRXZWVrU2V0dGluZ3MoZSl7cmw9UXIoZSl9c3RhdGljIGdldCB0d29EaWdpdEN1dG9mZlllYXIoKXtyZXR1cm4gbmx9c3RhdGljIHNldCB0d29EaWdpdEN1dG9mZlllYXIoZSl7bmw9ZSUxMDB9c3RhdGljIGdldCB0aHJvd09uSW52YWxpZCgpe3JldHVybiBpbH1zdGF0aWMgc2V0IHRocm93T25JbnZhbGlkKGUpe2lsPWV9c3RhdGljIHJlc2V0Q2FjaGVzKCl7dGUucmVzZXRDYWNoZSgpLCR0LnJlc2V0Q2FjaGUoKSxNLnJlc2V0Q2FjaGUoKSxKaCgpfX1jbGFzcyBwdHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucmVhc29uPWUsdGhpcy5leHBsYW5hdGlvbj10fXRvTWVzc2FnZSgpe3JldHVybiB0aGlzLmV4cGxhbmF0aW9uP2Ake3RoaXMucmVhc29ufTogJHt0aGlzLmV4cGxhbmF0aW9ufWA6dGhpcy5yZWFzb259fWNvbnN0IG9sPVswLDMxLDU5LDkwLDEyMCwxNTEsMTgxLDIxMiwyNDMsMjczLDMwNCwzMzRdLGFsPVswLDMxLDYwLDkxLDEyMSwxNTIsMTgyLDIxMywyNDQsMjc0LDMwNSwzMzVdO2Z1bmN0aW9uIHJ0KG4sZSl7cmV0dXJuIG5ldyBwdCgidW5pdCBvdXQgb2YgcmFuZ2UiLGB5b3Ugc3BlY2lmaWVkICR7ZX0gKG9mIHR5cGUgJHt0eXBlb2YgZX0pIGFzIGEgJHtufSwgd2hpY2ggaXMgaW52YWxpZGApfWZ1bmN0aW9uIEdyKG4sZSx0KXtjb25zdCBzPW5ldyBEYXRlKERhdGUuVVRDKG4sZS0xLHQpKTtuPDEwMCYmbj49MCYmcy5zZXRVVENGdWxsWWVhcihzLmdldFVUQ0Z1bGxZZWFyKCktMTkwMCk7Y29uc3QgaT1zLmdldFVUQ0RheSgpO3JldHVybiBpPT09MD83Oml9ZnVuY3Rpb24gbGwobixlLHQpe3JldHVybiB0KyhVbihuKT9hbDpvbClbZS0xXX1mdW5jdGlvbiB1bChuLGUpe2NvbnN0IHQ9VW4obik/YWw6b2wscz10LmZpbmRJbmRleChyPT5yPGUpLGk9ZS10W3NdO3JldHVybnttb250aDpzKzEsZGF5Oml9fWZ1bmN0aW9uIEpyKG4sZSl7cmV0dXJuKG4tZSs3KSU3KzF9ZnVuY3Rpb24gT2kobixlPTQsdD0xKXtjb25zdHt5ZWFyOnMsbW9udGg6aSxkYXk6cn09bixvPWxsKHMsaSxyKSxhPUpyKEdyKHMsaSxyKSx0KTtsZXQgbD1NYXRoLmZsb29yKChvLWErMTQtZSkvNyksdTtyZXR1cm4gbDwxPyh1PXMtMSxsPUZuKHUsZSx0KSk6bD5GbihzLGUsdCk/KHU9cysxLGw9MSk6dT1zLHt3ZWVrWWVhcjp1LHdlZWtOdW1iZXI6bCx3ZWVrZGF5OmEsLi4udmkobil9fWZ1bmN0aW9uIGNsKG4sZT00LHQ9MSl7Y29uc3R7d2Vla1llYXI6cyx3ZWVrTnVtYmVyOmksd2Vla2RheTpyfT1uLG89SnIoR3IocywxLGUpLHQpLGE9VnMocyk7bGV0IGw9aSo3K3Itby03K2UsdTtsPDE/KHU9cy0xLGwrPVZzKHUpKTpsPmE/KHU9cysxLGwtPVZzKHMpKTp1PXM7Y29uc3R7bW9udGg6aCxkYXk6Y309dWwodSxsKTtyZXR1cm57eWVhcjp1LG1vbnRoOmgsZGF5OmMsLi4udmkobil9fWZ1bmN0aW9uIFhyKG4pe2NvbnN0e3llYXI6ZSxtb250aDp0LGRheTpzfT1uLGk9bGwoZSx0LHMpO3JldHVybnt5ZWFyOmUsb3JkaW5hbDppLC4uLnZpKG4pfX1mdW5jdGlvbiBobChuKXtjb25zdHt5ZWFyOmUsb3JkaW5hbDp0fT1uLHttb250aDpzLGRheTppfT11bChlLHQpO3JldHVybnt5ZWFyOmUsbW9udGg6cyxkYXk6aSwuLi52aShuKX19ZnVuY3Rpb24gZmwobixlKXtpZighUChuLmxvY2FsV2Vla2RheSl8fCFQKG4ubG9jYWxXZWVrTnVtYmVyKXx8IVAobi5sb2NhbFdlZWtZZWFyKSl7aWYoIVAobi53ZWVrZGF5KXx8IVAobi53ZWVrTnVtYmVyKXx8IVAobi53ZWVrWWVhcikpdGhyb3cgbmV3IFp0KCJDYW5ub3QgbWl4IGxvY2FsZS1iYXNlZCB3ZWVrIGZpZWxkcyB3aXRoIElTTy1iYXNlZCB3ZWVrIGZpZWxkcyIpO3JldHVybiBQKG4ubG9jYWxXZWVrZGF5KXx8KG4ud2Vla2RheT1uLmxvY2FsV2Vla2RheSksUChuLmxvY2FsV2Vla051bWJlcil8fChuLndlZWtOdW1iZXI9bi5sb2NhbFdlZWtOdW1iZXIpLFAobi5sb2NhbFdlZWtZZWFyKXx8KG4ud2Vla1llYXI9bi5sb2NhbFdlZWtZZWFyKSxkZWxldGUgbi5sb2NhbFdlZWtkYXksZGVsZXRlIG4ubG9jYWxXZWVrTnVtYmVyLGRlbGV0ZSBuLmxvY2FsV2Vla1llYXIse21pbkRheXNJbkZpcnN0V2VlazplLmdldE1pbkRheXNJbkZpcnN0V2VlaygpLHN0YXJ0T2ZXZWVrOmUuZ2V0U3RhcnRPZldlZWsoKX19ZWxzZSByZXR1cm57bWluRGF5c0luRmlyc3RXZWVrOjQsc3RhcnRPZldlZWs6MX19ZnVuY3Rpb24gWGgobixlPTQsdD0xKXtjb25zdCBzPUlpKG4ud2Vla1llYXIpLGk9b3Qobi53ZWVrTnVtYmVyLDEsRm4obi53ZWVrWWVhcixlLHQpKSxyPW90KG4ud2Vla2RheSwxLDcpO3JldHVybiBzP2k/cj8hMTpydCgid2Vla2RheSIsbi53ZWVrZGF5KTpydCgid2VlayIsbi53ZWVrTnVtYmVyKTpydCgid2Vla1llYXIiLG4ud2Vla1llYXIpfWZ1bmN0aW9uIFFoKG4pe2NvbnN0IGU9SWkobi55ZWFyKSx0PW90KG4ub3JkaW5hbCwxLFZzKG4ueWVhcikpO3JldHVybiBlP3Q/ITE6cnQoIm9yZGluYWwiLG4ub3JkaW5hbCk6cnQoInllYXIiLG4ueWVhcil9ZnVuY3Rpb24gZGwobil7Y29uc3QgZT1JaShuLnllYXIpLHQ9b3Qobi5tb250aCwxLDEyKSxzPW90KG4uZGF5LDEsRGkobi55ZWFyLG4ubW9udGgpKTtyZXR1cm4gZT90P3M/ITE6cnQoImRheSIsbi5kYXkpOnJ0KCJtb250aCIsbi5tb250aCk6cnQoInllYXIiLG4ueWVhcil9ZnVuY3Rpb24gbWwobil7Y29uc3R7aG91cjplLG1pbnV0ZTp0LHNlY29uZDpzLG1pbGxpc2Vjb25kOml9PW4scj1vdChlLDAsMjMpfHxlPT09MjQmJnQ9PT0wJiZzPT09MCYmaT09PTAsbz1vdCh0LDAsNTkpLGE9b3QocywwLDU5KSxsPW90KGksMCw5OTkpO3JldHVybiByP28/YT9sPyExOnJ0KCJtaWxsaXNlY29uZCIsaSk6cnQoInNlY29uZCIscyk6cnQoIm1pbnV0ZSIsdCk6cnQoImhvdXIiLGUpfWZ1bmN0aW9uIFAobil7cmV0dXJuIHR5cGVvZiBuPiJ1In1mdW5jdGlvbiBYdChuKXtyZXR1cm4gdHlwZW9mIG49PSJudW1iZXIifWZ1bmN0aW9uIElpKG4pe3JldHVybiB0eXBlb2Ygbj09Im51bWJlciImJm4lMT09PTB9ZnVuY3Rpb24gZWYobil7cmV0dXJuIHR5cGVvZiBuPT0ic3RyaW5nIn1mdW5jdGlvbiB0ZihuKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pPT09IltvYmplY3QgRGF0ZV0ifWZ1bmN0aW9uIHlsKCl7dHJ5e3JldHVybiB0eXBlb2YgSW50bDwidSImJiEhSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXR9Y2F0Y2h7cmV0dXJuITF9fWZ1bmN0aW9uIHBsKCl7dHJ5e3JldHVybiB0eXBlb2YgSW50bDwidSImJiEhSW50bC5Mb2NhbGUmJigid2Vla0luZm8iaW4gSW50bC5Mb2NhbGUucHJvdG90eXBlfHwiZ2V0V2Vla0luZm8iaW4gSW50bC5Mb2NhbGUucHJvdG90eXBlKX1jYXRjaHtyZXR1cm4hMX19ZnVuY3Rpb24gc2Yobil7cmV0dXJuIEFycmF5LmlzQXJyYXkobik/bjpbbl19ZnVuY3Rpb24gZ2wobixlLHQpe2lmKG4ubGVuZ3RoIT09MClyZXR1cm4gbi5yZWR1Y2UoKHMsaSk9Pntjb25zdCByPVtlKGkpLGldO3JldHVybiBzJiZ0KHNbMF0sclswXSk9PT1zWzBdP3M6cn0sbnVsbClbMV19ZnVuY3Rpb24gbmYobixlKXtyZXR1cm4gZS5yZWR1Y2UoKHQscyk9Pih0W3NdPW5bc10sdCkse30pfWZ1bmN0aW9uIEhzKG4sZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGUpfWZ1bmN0aW9uIFFyKG4pe2lmKG49PW51bGwpcmV0dXJuIG51bGw7aWYodHlwZW9mIG4hPSJvYmplY3QiKXRocm93IG5ldyBDZSgiV2VlayBzZXR0aW5ncyBtdXN0IGJlIGFuIG9iamVjdCIpO2lmKCFvdChuLmZpcnN0RGF5LDEsNyl8fCFvdChuLm1pbmltYWxEYXlzLDEsNyl8fCFBcnJheS5pc0FycmF5KG4ud2Vla2VuZCl8fG4ud2Vla2VuZC5zb21lKGU9PiFvdChlLDEsNykpKXRocm93IG5ldyBDZSgiSW52YWxpZCB3ZWVrIHNldHRpbmdzIik7cmV0dXJue2ZpcnN0RGF5Om4uZmlyc3REYXksbWluaW1hbERheXM6bi5taW5pbWFsRGF5cyx3ZWVrZW5kOkFycmF5LmZyb20obi53ZWVrZW5kKX19ZnVuY3Rpb24gb3QobixlLHQpe3JldHVybiBJaShuKSYmbj49ZSYmbjw9dH1mdW5jdGlvbiByZihuLGUpe3JldHVybiBuLWUqTWF0aC5mbG9vcihuL2UpfWZ1bmN0aW9uIFRlKG4sZT0yKXtjb25zdCB0PW48MDtsZXQgcztyZXR1cm4gdD9zPSItIisoIiIrLW4pLnBhZFN0YXJ0KGUsIjAiKTpzPSgiIituKS5wYWRTdGFydChlLCIwIiksc31mdW5jdGlvbiBRdChuKXtpZighKFAobil8fG49PT1udWxsfHxuPT09IiIpKXJldHVybiBwYXJzZUludChuLDEwKX1mdW5jdGlvbiBrcyhuKXtpZighKFAobil8fG49PT1udWxsfHxuPT09IiIpKXJldHVybiBwYXJzZUZsb2F0KG4pfWZ1bmN0aW9uIGVvKG4pe2lmKCEoUChuKXx8bj09PW51bGx8fG49PT0iIikpe2NvbnN0IGU9cGFyc2VGbG9hdCgiMC4iK24pKjFlMztyZXR1cm4gTWF0aC5mbG9vcihlKX19ZnVuY3Rpb24gdG8obixlLHQ9ITEpe2NvbnN0IHM9MTAqKmU7cmV0dXJuKHQ/TWF0aC50cnVuYzpNYXRoLnJvdW5kKShuKnMpL3N9ZnVuY3Rpb24gVW4obil7cmV0dXJuIG4lND09PTAmJihuJTEwMCE9PTB8fG4lNDAwPT09MCl9ZnVuY3Rpb24gVnMobil7cmV0dXJuIFVuKG4pPzM2NjozNjV9ZnVuY3Rpb24gRGkobixlKXtjb25zdCB0PXJmKGUtMSwxMikrMSxzPW4rKGUtdCkvMTI7cmV0dXJuIHQ9PT0yP1VuKHMpPzI5OjI4OlszMSxudWxsLDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXVt0LTFdfWZ1bmN0aW9uIE1pKG4pe2xldCBlPURhdGUuVVRDKG4ueWVhcixuLm1vbnRoLTEsbi5kYXksbi5ob3VyLG4ubWludXRlLG4uc2Vjb25kLG4ubWlsbGlzZWNvbmQpO3JldHVybiBuLnllYXI8MTAwJiZuLnllYXI+PTAmJihlPW5ldyBEYXRlKGUpLGUuc2V0VVRDRnVsbFllYXIobi55ZWFyLG4ubW9udGgtMSxuLmRheSkpLCtlfWZ1bmN0aW9uIHdsKG4sZSx0KXtyZXR1cm4tSnIoR3IobiwxLGUpLHQpK2UtMX1mdW5jdGlvbiBGbihuLGU9NCx0PTEpe2NvbnN0IHM9d2wobixlLHQpLGk9d2wobisxLGUsdCk7cmV0dXJuKFZzKG4pLXMraSkvN31mdW5jdGlvbiBzbyhuKXtyZXR1cm4gbj45OT9uOm4+ZGUudHdvRGlnaXRDdXRvZmZZZWFyPzE5MDArbjoyZTMrbn1mdW5jdGlvbiBibChuLGUsdCxzPW51bGwpe2NvbnN0IGk9bmV3IERhdGUobikscj17aG91ckN5Y2xlOiJoMjMiLHllYXI6Im51bWVyaWMiLG1vbnRoOiIyLWRpZ2l0IixkYXk6IjItZGlnaXQiLGhvdXI6IjItZGlnaXQiLG1pbnV0ZToiMi1kaWdpdCJ9O3MmJihyLnRpbWVab25lPXMpO2NvbnN0IG89e3RpbWVab25lTmFtZTplLC4uLnJ9LGE9bmV3IEludGwuRGF0ZVRpbWVGb3JtYXQodCxvKS5mb3JtYXRUb1BhcnRzKGkpLmZpbmQobD0+bC50eXBlLnRvTG93ZXJDYXNlKCk9PT0idGltZXpvbmVuYW1lIik7cmV0dXJuIGE/YS52YWx1ZTpudWxsfWZ1bmN0aW9uIF9pKG4sZSl7bGV0IHQ9cGFyc2VJbnQobiwxMCk7TnVtYmVyLmlzTmFOKHQpJiYodD0wKTtjb25zdCBzPXBhcnNlSW50KGUsMTApfHwwLGk9dDwwfHxPYmplY3QuaXModCwtMCk/LXM6cztyZXR1cm4gdCo2MCtpfWZ1bmN0aW9uIFRsKG4pe2NvbnN0IGU9TnVtYmVyKG4pO2lmKHR5cGVvZiBuPT0iYm9vbGVhbiJ8fG49PT0iInx8TnVtYmVyLmlzTmFOKGUpKXRocm93IG5ldyBDZShgSW52YWxpZCB1bml0IHZhbHVlICR7bn1gKTtyZXR1cm4gZX1mdW5jdGlvbiBOaShuLGUpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IHMgaW4gbilpZihIcyhuLHMpKXtjb25zdCBpPW5bc107aWYoaT09bnVsbCljb250aW51ZTt0W2UocyldPVRsKGkpfXJldHVybiB0fWZ1bmN0aW9uIHpuKG4sZSl7Y29uc3QgdD1NYXRoLnRydW5jKE1hdGguYWJzKG4vNjApKSxzPU1hdGgudHJ1bmMoTWF0aC5hYnMobiU2MCkpLGk9bj49MD8iKyI6Ii0iO3N3aXRjaChlKXtjYXNlInNob3J0IjpyZXR1cm5gJHtpfSR7VGUodCwyKX06JHtUZShzLDIpfWA7Y2FzZSJuYXJyb3ciOnJldHVybmAke2l9JHt0fSR7cz4wP2A6JHtzfWA6IiJ9YDtjYXNlInRlY2hpZSI6cmV0dXJuYCR7aX0ke1RlKHQsMil9JHtUZShzLDIpfWA7ZGVmYXVsdDp0aHJvdyBuZXcgUmFuZ2VFcnJvcihgVmFsdWUgZm9ybWF0ICR7ZX0gaXMgb3V0IG9mIHJhbmdlIGZvciBwcm9wZXJ0eSBmb3JtYXRgKX19ZnVuY3Rpb24gdmkobil7cmV0dXJuIG5mKG4sWyJob3VyIiwibWludXRlIiwic2Vjb25kIiwibWlsbGlzZWNvbmQiXSl9Y29uc3Qgb2Y9WyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdLGtsPVsiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiTWF5IiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwIiwiT2N0IiwiTm92IiwiRGVjIl0sYWY9WyJKIiwiRiIsIk0iLCJBIiwiTSIsIkoiLCJKIiwiQSIsIlMiLCJPIiwiTiIsIkQiXTtmdW5jdGlvbiBFbChuKXtzd2l0Y2gobil7Y2FzZSJuYXJyb3ciOnJldHVyblsuLi5hZl07Y2FzZSJzaG9ydCI6cmV0dXJuWy4uLmtsXTtjYXNlImxvbmciOnJldHVyblsuLi5vZl07Y2FzZSJudW1lcmljIjpyZXR1cm5bIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciLCI4IiwiOSIsIjEwIiwiMTEiLCIxMiJdO2Nhc2UiMi1kaWdpdCI6cmV0dXJuWyIwMSIsIjAyIiwiMDMiLCIwNCIsIjA1IiwiMDYiLCIwNyIsIjA4IiwiMDkiLCIxMCIsIjExIiwiMTIiXTtkZWZhdWx0OnJldHVybiBudWxsfX1jb25zdCBTbD1bIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5IiwiU3VuZGF5Il0sT2w9WyJNb24iLCJUdWUiLCJXZWQiLCJUaHUiLCJGcmkiLCJTYXQiLCJTdW4iXSxsZj1bIk0iLCJUIiwiVyIsIlQiLCJGIiwiUyIsIlMiXTtmdW5jdGlvbiBJbChuKXtzd2l0Y2gobil7Y2FzZSJuYXJyb3ciOnJldHVyblsuLi5sZl07Y2FzZSJzaG9ydCI6cmV0dXJuWy4uLk9sXTtjYXNlImxvbmciOnJldHVyblsuLi5TbF07Y2FzZSJudW1lcmljIjpyZXR1cm5bIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciXTtkZWZhdWx0OnJldHVybiBudWxsfX1jb25zdCBEbD1bIkFNIiwiUE0iXSx1Zj1bIkJlZm9yZSBDaHJpc3QiLCJBbm5vIERvbWluaSJdLGNmPVsiQkMiLCJBRCJdLGhmPVsiQiIsIkEiXTtmdW5jdGlvbiBNbChuKXtzd2l0Y2gobil7Y2FzZSJuYXJyb3ciOnJldHVyblsuLi5oZl07Y2FzZSJzaG9ydCI6cmV0dXJuWy4uLmNmXTtjYXNlImxvbmciOnJldHVyblsuLi51Zl07ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gZmYobil7cmV0dXJuIERsW24uaG91cjwxMj8wOjFdfWZ1bmN0aW9uIGRmKG4sZSl7cmV0dXJuIElsKGUpW24ud2Vla2RheS0xXX1mdW5jdGlvbiBtZihuLGUpe3JldHVybiBFbChlKVtuLm1vbnRoLTFdfWZ1bmN0aW9uIHlmKG4sZSl7cmV0dXJuIE1sKGUpW24ueWVhcjwwPzA6MV19ZnVuY3Rpb24gcGYobixlLHQ9ImFsd2F5cyIscz0hMSl7Y29uc3QgaT17eWVhcnM6WyJ5ZWFyIiwieXIuIl0scXVhcnRlcnM6WyJxdWFydGVyIiwicXRyLiJdLG1vbnRoczpbIm1vbnRoIiwibW8uIl0sd2Vla3M6WyJ3ZWVrIiwid2suIl0sZGF5czpbImRheSIsImRheSIsImRheXMiXSxob3VyczpbImhvdXIiLCJoci4iXSxtaW51dGVzOlsibWludXRlIiwibWluLiJdLHNlY29uZHM6WyJzZWNvbmQiLCJzZWMuIl19LHI9WyJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIl0uaW5kZXhPZihuKT09PS0xO2lmKHQ9PT0iYXV0byImJnIpe2NvbnN0IGM9bj09PSJkYXlzIjtzd2l0Y2goZSl7Y2FzZSAxOnJldHVybiBjPyJ0b21vcnJvdyI6YG5leHQgJHtpW25dWzBdfWA7Y2FzZS0xOnJldHVybiBjPyJ5ZXN0ZXJkYXkiOmBsYXN0ICR7aVtuXVswXX1gO2Nhc2UgMDpyZXR1cm4gYz8idG9kYXkiOmB0aGlzICR7aVtuXVswXX1gfX1jb25zdCBvPU9iamVjdC5pcyhlLC0wKXx8ZTwwLGE9TWF0aC5hYnMoZSksbD1hPT09MSx1PWlbbl0saD1zP2w/dVsxXTp1WzJdfHx1WzFdOmw/aVtuXVswXTpuO3JldHVybiBvP2Ake2F9ICR7aH0gYWdvYDpgaW4gJHthfSAke2h9YH1mdW5jdGlvbiBfbChuLGUpe2xldCB0PSIiO2Zvcihjb25zdCBzIG9mIG4pcy5saXRlcmFsP3QrPXMudmFsOnQrPWUocy52YWwpO3JldHVybiB0fWNvbnN0IGdmPXtEOkVpLEREOk5hLERERDp2YSxEREREOkFhLHQ6Q2EsdHQ6eGEsdHR0OkxhLHR0dHQ6WWEsVDpSYSxUVDpVYSxUVFQ6RmEsVFRUVDp6YSxmOlBhLGZmOkJhLGZmZjpIYSxmZmZmOmphLEY6JGEsRkY6V2EsRkZGOlZhLEZGRkY6cWF9O2NsYXNzIHhle3N0YXRpYyBjcmVhdGUoZSx0PXt9KXtyZXR1cm4gbmV3IHhlKGUsdCl9c3RhdGljIHBhcnNlRm9ybWF0KGUpe2xldCB0PW51bGwscz0iIixpPSExO2NvbnN0IHI9W107Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IGE9ZS5jaGFyQXQobyk7YT09PSInIj8ocy5sZW5ndGg+MCYmci5wdXNoKHtsaXRlcmFsOml8fC9eXHMrJC8udGVzdChzKSx2YWw6c30pLHQ9bnVsbCxzPSIiLGk9IWkpOml8fGE9PT10P3MrPWE6KHMubGVuZ3RoPjAmJnIucHVzaCh7bGl0ZXJhbDovXlxzKyQvLnRlc3QocyksdmFsOnN9KSxzPWEsdD1hKX1yZXR1cm4gcy5sZW5ndGg+MCYmci5wdXNoKHtsaXRlcmFsOml8fC9eXHMrJC8udGVzdChzKSx2YWw6c30pLHJ9c3RhdGljIG1hY3JvVG9rZW5Ub0Zvcm1hdE9wdHMoZSl7cmV0dXJuIGdmW2VdfWNvbnN0cnVjdG9yKGUsdCl7dGhpcy5vcHRzPXQsdGhpcy5sb2M9ZSx0aGlzLnN5c3RlbUxvYz1udWxsfWZvcm1hdFdpdGhTeXN0ZW1EZWZhdWx0KGUsdCl7cmV0dXJuIHRoaXMuc3lzdGVtTG9jPT09bnVsbCYmKHRoaXMuc3lzdGVtTG9jPXRoaXMubG9jLnJlZGVmYXVsdFRvU3lzdGVtKCkpLHRoaXMuc3lzdGVtTG9jLmR0Rm9ybWF0dGVyKGUsey4uLnRoaXMub3B0cywuLi50fSkuZm9ybWF0KCl9ZHRGb3JtYXR0ZXIoZSx0PXt9KXtyZXR1cm4gdGhpcy5sb2MuZHRGb3JtYXR0ZXIoZSx7Li4udGhpcy5vcHRzLC4uLnR9KX1mb3JtYXREYXRlVGltZShlLHQpe3JldHVybiB0aGlzLmR0Rm9ybWF0dGVyKGUsdCkuZm9ybWF0KCl9Zm9ybWF0RGF0ZVRpbWVQYXJ0cyhlLHQpe3JldHVybiB0aGlzLmR0Rm9ybWF0dGVyKGUsdCkuZm9ybWF0VG9QYXJ0cygpfWZvcm1hdEludGVydmFsKGUsdCl7cmV0dXJuIHRoaXMuZHRGb3JtYXR0ZXIoZS5zdGFydCx0KS5kdGYuZm9ybWF0UmFuZ2UoZS5zdGFydC50b0pTRGF0ZSgpLGUuZW5kLnRvSlNEYXRlKCkpfXJlc29sdmVkT3B0aW9ucyhlLHQpe3JldHVybiB0aGlzLmR0Rm9ybWF0dGVyKGUsdCkucmVzb2x2ZWRPcHRpb25zKCl9bnVtKGUsdD0wKXtpZih0aGlzLm9wdHMuZm9yY2VTaW1wbGUpcmV0dXJuIFRlKGUsdCk7Y29uc3Qgcz17Li4udGhpcy5vcHRzfTtyZXR1cm4gdD4wJiYocy5wYWRUbz10KSx0aGlzLmxvYy5udW1iZXJGb3JtYXR0ZXIocykuZm9ybWF0KGUpfWZvcm1hdERhdGVUaW1lRnJvbVN0cmluZyhlLHQpe2NvbnN0IHM9dGhpcy5sb2MubGlzdGluZ01vZGUoKT09PSJlbiIsaT10aGlzLmxvYy5vdXRwdXRDYWxlbmRhciYmdGhpcy5sb2Mub3V0cHV0Q2FsZW5kYXIhPT0iZ3JlZ29yeSIscj0oZixnKT0+dGhpcy5sb2MuZXh0cmFjdChlLGYsZyksbz1mPT5lLmlzT2Zmc2V0Rml4ZWQmJmUub2Zmc2V0PT09MCYmZi5hbGxvd1o/IloiOmUuaXNWYWxpZD9lLnpvbmUuZm9ybWF0T2Zmc2V0KGUudHMsZi5mb3JtYXQpOiIiLGE9KCk9PnM/ZmYoZSk6cih7aG91cjoibnVtZXJpYyIsaG91ckN5Y2xlOiJoMTIifSwiZGF5cGVyaW9kIiksbD0oZixnKT0+cz9tZihlLGYpOnIoZz97bW9udGg6Zn06e21vbnRoOmYsZGF5OiJudW1lcmljIn0sIm1vbnRoIiksdT0oZixnKT0+cz9kZihlLGYpOnIoZz97d2Vla2RheTpmfTp7d2Vla2RheTpmLG1vbnRoOiJsb25nIixkYXk6Im51bWVyaWMifSwid2Vla2RheSIpLGg9Zj0+e2NvbnN0IGc9eGUubWFjcm9Ub2tlblRvRm9ybWF0T3B0cyhmKTtyZXR1cm4gZz90aGlzLmZvcm1hdFdpdGhTeXN0ZW1EZWZhdWx0KGUsZyk6Zn0sYz1mPT5zP3lmKGUsZik6cih7ZXJhOmZ9LCJlcmEiKSxtPWY9Pntzd2l0Y2goZil7Y2FzZSJTIjpyZXR1cm4gdGhpcy5udW0oZS5taWxsaXNlY29uZCk7Y2FzZSJ1IjpjYXNlIlNTUyI6cmV0dXJuIHRoaXMubnVtKGUubWlsbGlzZWNvbmQsMyk7Y2FzZSJzIjpyZXR1cm4gdGhpcy5udW0oZS5zZWNvbmQpO2Nhc2Uic3MiOnJldHVybiB0aGlzLm51bShlLnNlY29uZCwyKTtjYXNlInV1IjpyZXR1cm4gdGhpcy5udW0oTWF0aC5mbG9vcihlLm1pbGxpc2Vjb25kLzEwKSwyKTtjYXNlInV1dSI6cmV0dXJuIHRoaXMubnVtKE1hdGguZmxvb3IoZS5taWxsaXNlY29uZC8xMDApKTtjYXNlIm0iOnJldHVybiB0aGlzLm51bShlLm1pbnV0ZSk7Y2FzZSJtbSI6cmV0dXJuIHRoaXMubnVtKGUubWludXRlLDIpO2Nhc2UiaCI6cmV0dXJuIHRoaXMubnVtKGUuaG91ciUxMj09PTA/MTI6ZS5ob3VyJTEyKTtjYXNlImhoIjpyZXR1cm4gdGhpcy5udW0oZS5ob3VyJTEyPT09MD8xMjplLmhvdXIlMTIsMik7Y2FzZSJIIjpyZXR1cm4gdGhpcy5udW0oZS5ob3VyKTtjYXNlIkhIIjpyZXR1cm4gdGhpcy5udW0oZS5ob3VyLDIpO2Nhc2UiWiI6cmV0dXJuIG8oe2Zvcm1hdDoibmFycm93IixhbGxvd1o6dGhpcy5vcHRzLmFsbG93Wn0pO2Nhc2UiWloiOnJldHVybiBvKHtmb3JtYXQ6InNob3J0IixhbGxvd1o6dGhpcy5vcHRzLmFsbG93Wn0pO2Nhc2UiWlpaIjpyZXR1cm4gbyh7Zm9ybWF0OiJ0ZWNoaWUiLGFsbG93Wjp0aGlzLm9wdHMuYWxsb3dafSk7Y2FzZSJaWlpaIjpyZXR1cm4gZS56b25lLm9mZnNldE5hbWUoZS50cyx7Zm9ybWF0OiJzaG9ydCIsbG9jYWxlOnRoaXMubG9jLmxvY2FsZX0pO2Nhc2UiWlpaWloiOnJldHVybiBlLnpvbmUub2Zmc2V0TmFtZShlLnRzLHtmb3JtYXQ6ImxvbmciLGxvY2FsZTp0aGlzLmxvYy5sb2NhbGV9KTtjYXNlInoiOnJldHVybiBlLnpvbmVOYW1lO2Nhc2UiYSI6cmV0dXJuIGEoKTtjYXNlImQiOnJldHVybiBpP3Ioe2RheToibnVtZXJpYyJ9LCJkYXkiKTp0aGlzLm51bShlLmRheSk7Y2FzZSJkZCI6cmV0dXJuIGk/cih7ZGF5OiIyLWRpZ2l0In0sImRheSIpOnRoaXMubnVtKGUuZGF5LDIpO2Nhc2UiYyI6cmV0dXJuIHRoaXMubnVtKGUud2Vla2RheSk7Y2FzZSJjY2MiOnJldHVybiB1KCJzaG9ydCIsITApO2Nhc2UiY2NjYyI6cmV0dXJuIHUoImxvbmciLCEwKTtjYXNlImNjY2NjIjpyZXR1cm4gdSgibmFycm93IiwhMCk7Y2FzZSJFIjpyZXR1cm4gdGhpcy5udW0oZS53ZWVrZGF5KTtjYXNlIkVFRSI6cmV0dXJuIHUoInNob3J0IiwhMSk7Y2FzZSJFRUVFIjpyZXR1cm4gdSgibG9uZyIsITEpO2Nhc2UiRUVFRUUiOnJldHVybiB1KCJuYXJyb3ciLCExKTtjYXNlIkwiOnJldHVybiBpP3Ioe21vbnRoOiJudW1lcmljIixkYXk6Im51bWVyaWMifSwibW9udGgiKTp0aGlzLm51bShlLm1vbnRoKTtjYXNlIkxMIjpyZXR1cm4gaT9yKHttb250aDoiMi1kaWdpdCIsZGF5OiJudW1lcmljIn0sIm1vbnRoIik6dGhpcy5udW0oZS5tb250aCwyKTtjYXNlIkxMTCI6cmV0dXJuIGwoInNob3J0IiwhMCk7Y2FzZSJMTExMIjpyZXR1cm4gbCgibG9uZyIsITApO2Nhc2UiTExMTEwiOnJldHVybiBsKCJuYXJyb3ciLCEwKTtjYXNlIk0iOnJldHVybiBpP3Ioe21vbnRoOiJudW1lcmljIn0sIm1vbnRoIik6dGhpcy5udW0oZS5tb250aCk7Y2FzZSJNTSI6cmV0dXJuIGk/cih7bW9udGg6IjItZGlnaXQifSwibW9udGgiKTp0aGlzLm51bShlLm1vbnRoLDIpO2Nhc2UiTU1NIjpyZXR1cm4gbCgic2hvcnQiLCExKTtjYXNlIk1NTU0iOnJldHVybiBsKCJsb25nIiwhMSk7Y2FzZSJNTU1NTSI6cmV0dXJuIGwoIm5hcnJvdyIsITEpO2Nhc2UieSI6cmV0dXJuIGk/cih7eWVhcjoibnVtZXJpYyJ9LCJ5ZWFyIik6dGhpcy5udW0oZS55ZWFyKTtjYXNlInl5IjpyZXR1cm4gaT9yKHt5ZWFyOiIyLWRpZ2l0In0sInllYXIiKTp0aGlzLm51bShlLnllYXIudG9TdHJpbmcoKS5zbGljZSgtMiksMik7Y2FzZSJ5eXl5IjpyZXR1cm4gaT9yKHt5ZWFyOiJudW1lcmljIn0sInllYXIiKTp0aGlzLm51bShlLnllYXIsNCk7Y2FzZSJ5eXl5eXkiOnJldHVybiBpP3Ioe3llYXI6Im51bWVyaWMifSwieWVhciIpOnRoaXMubnVtKGUueWVhciw2KTtjYXNlIkciOnJldHVybiBjKCJzaG9ydCIpO2Nhc2UiR0ciOnJldHVybiBjKCJsb25nIik7Y2FzZSJHR0dHRyI6cmV0dXJuIGMoIm5hcnJvdyIpO2Nhc2Uia2siOnJldHVybiB0aGlzLm51bShlLndlZWtZZWFyLnRvU3RyaW5nKCkuc2xpY2UoLTIpLDIpO2Nhc2Uia2trayI6cmV0dXJuIHRoaXMubnVtKGUud2Vla1llYXIsNCk7Y2FzZSJXIjpyZXR1cm4gdGhpcy5udW0oZS53ZWVrTnVtYmVyKTtjYXNlIldXIjpyZXR1cm4gdGhpcy5udW0oZS53ZWVrTnVtYmVyLDIpO2Nhc2UibiI6cmV0dXJuIHRoaXMubnVtKGUubG9jYWxXZWVrTnVtYmVyKTtjYXNlIm5uIjpyZXR1cm4gdGhpcy5udW0oZS5sb2NhbFdlZWtOdW1iZXIsMik7Y2FzZSJpaSI6cmV0dXJuIHRoaXMubnVtKGUubG9jYWxXZWVrWWVhci50b1N0cmluZygpLnNsaWNlKC0yKSwyKTtjYXNlImlpaWkiOnJldHVybiB0aGlzLm51bShlLmxvY2FsV2Vla1llYXIsNCk7Y2FzZSJvIjpyZXR1cm4gdGhpcy5udW0oZS5vcmRpbmFsKTtjYXNlIm9vbyI6cmV0dXJuIHRoaXMubnVtKGUub3JkaW5hbCwzKTtjYXNlInEiOnJldHVybiB0aGlzLm51bShlLnF1YXJ0ZXIpO2Nhc2UicXEiOnJldHVybiB0aGlzLm51bShlLnF1YXJ0ZXIsMik7Y2FzZSJYIjpyZXR1cm4gdGhpcy5udW0oTWF0aC5mbG9vcihlLnRzLzFlMykpO2Nhc2UieCI6cmV0dXJuIHRoaXMubnVtKGUudHMpO2RlZmF1bHQ6cmV0dXJuIGgoZil9fTtyZXR1cm4gX2woeGUucGFyc2VGb3JtYXQodCksbSl9Zm9ybWF0RHVyYXRpb25Gcm9tU3RyaW5nKGUsdCl7Y29uc3Qgcz1sPT57c3dpdGNoKGxbMF0pe2Nhc2UiUyI6cmV0dXJuIm1pbGxpc2Vjb25kIjtjYXNlInMiOnJldHVybiJzZWNvbmQiO2Nhc2UibSI6cmV0dXJuIm1pbnV0ZSI7Y2FzZSJoIjpyZXR1cm4iaG91ciI7Y2FzZSJkIjpyZXR1cm4iZGF5IjtjYXNlInciOnJldHVybiJ3ZWVrIjtjYXNlIk0iOnJldHVybiJtb250aCI7Y2FzZSJ5IjpyZXR1cm4ieWVhciI7ZGVmYXVsdDpyZXR1cm4gbnVsbH19LGk9bD0+dT0+e2NvbnN0IGg9cyh1KTtyZXR1cm4gaD90aGlzLm51bShsLmdldChoKSx1Lmxlbmd0aCk6dX0scj14ZS5wYXJzZUZvcm1hdCh0KSxvPXIucmVkdWNlKChsLHtsaXRlcmFsOnUsdmFsOmh9KT0+dT9sOmwuY29uY2F0KGgpLFtdKSxhPWUuc2hpZnRUbyguLi5vLm1hcChzKS5maWx0ZXIobD0+bCkpO3JldHVybiBfbChyLGkoYSkpfX1jb25zdCBObD0vW0EtWmEtel8rLV17MSwyNTZ9KD86Oj9cL1tBLVphLXowLTlfKy1dezEsMjU2fSg/OlwvW0EtWmEtejAtOV8rLV17MSwyNTZ9KT8pPy87ZnVuY3Rpb24ganMoLi4ubil7Y29uc3QgZT1uLnJlZHVjZSgodCxzKT0+dCtzLnNvdXJjZSwiIik7cmV0dXJuIFJlZ0V4cChgXiR7ZX0kYCl9ZnVuY3Rpb24gcXMoLi4ubil7cmV0dXJuIGU9Pm4ucmVkdWNlKChbdCxzLGldLHIpPT57Y29uc3RbbyxhLGxdPXIoZSxpKTtyZXR1cm5bey4uLnQsLi4ub30sYXx8cyxsXX0sW3t9LG51bGwsMV0pLnNsaWNlKDAsMil9ZnVuY3Rpb24gS3MobiwuLi5lKXtpZihuPT1udWxsKXJldHVybltudWxsLG51bGxdO2Zvcihjb25zdFt0LHNdb2YgZSl7Y29uc3QgaT10LmV4ZWMobik7aWYoaSlyZXR1cm4gcyhpKX1yZXR1cm5bbnVsbCxudWxsXX1mdW5jdGlvbiB2bCguLi5uKXtyZXR1cm4oZSx0KT0+e2NvbnN0IHM9e307bGV0IGk7Zm9yKGk9MDtpPG4ubGVuZ3RoO2krKylzW25baV1dPVF0KGVbdCtpXSk7cmV0dXJuW3MsbnVsbCx0K2ldfX1jb25zdCBBbD0vKD86KFopfChbKy1dXGRcZCkoPzo6PyhcZFxkKSk/KS8sd2Y9YCg/OiR7QWwuc291cmNlfT8oPzpcXFsoJHtObC5zb3VyY2V9KVxcXSk/KT9gLG5vPS8oXGRcZCkoPzo6PyhcZFxkKSg/Ojo/KFxkXGQpKD86Wy4sXShcZHsxLDMwfSkpPyk/KT8vLENsPVJlZ0V4cChgJHtuby5zb3VyY2V9JHt3Zn1gKSxpbz1SZWdFeHAoYCg/OlQke0NsLnNvdXJjZX0pP2ApLGJmPS8oWystXVxkezZ9fFxkezR9KSg/Oi0/KFxkXGQpKD86LT8oXGRcZCkpPyk/LyxUZj0vKFxkezR9KS0/VyhcZFxkKSg/Oi0/KFxkKSk/LyxrZj0vKFxkezR9KS0/KFxkezN9KS8sRWY9dmwoIndlZWtZZWFyIiwid2Vla051bWJlciIsIndlZWtEYXkiKSxTZj12bCgieWVhciIsIm9yZGluYWwiKSxPZj0vKFxkezR9KS0oXGRcZCktKFxkXGQpLyx4bD1SZWdFeHAoYCR7bm8uc291cmNlfSA/KD86JHtBbC5zb3VyY2V9fCgke05sLnNvdXJjZX0pKT9gKSxJZj1SZWdFeHAoYCg/OiAke3hsLnNvdXJjZX0pP2ApO2Z1bmN0aW9uIFpzKG4sZSx0KXtjb25zdCBzPW5bZV07cmV0dXJuIFAocyk/dDpRdChzKX1mdW5jdGlvbiBEZihuLGUpe3JldHVyblt7eWVhcjpacyhuLGUpLG1vbnRoOlpzKG4sZSsxLDEpLGRheTpacyhuLGUrMiwxKX0sbnVsbCxlKzNdfWZ1bmN0aW9uIEdzKG4sZSl7cmV0dXJuW3tob3VyczpacyhuLGUsMCksbWludXRlczpacyhuLGUrMSwwKSxzZWNvbmRzOlpzKG4sZSsyLDApLG1pbGxpc2Vjb25kczplbyhuW2UrM10pfSxudWxsLGUrNF19ZnVuY3Rpb24gUG4obixlKXtjb25zdCB0PSFuW2VdJiYhbltlKzFdLHM9X2kobltlKzFdLG5bZSsyXSksaT10P251bGw6JGUuaW5zdGFuY2Uocyk7cmV0dXJuW3t9LGksZSszXX1mdW5jdGlvbiAkbihuLGUpe2NvbnN0IHQ9bltlXT8kdC5jcmVhdGUobltlXSk6bnVsbDtyZXR1cm5be30sdCxlKzFdfWNvbnN0IE1mPVJlZ0V4cChgXlQ/JHtuby5zb3VyY2V9JGApLF9mPS9eLT9QKD86KD86KC0/XGR7MSwyMH0oPzpcLlxkezEsMjB9KT8pWSk/KD86KC0/XGR7MSwyMH0oPzpcLlxkezEsMjB9KT8pTSk/KD86KC0/XGR7MSwyMH0oPzpcLlxkezEsMjB9KT8pVyk/KD86KC0/XGR7MSwyMH0oPzpcLlxkezEsMjB9KT8pRCk/KD86VCg/OigtP1xkezEsMjB9KD86XC5cZHsxLDIwfSk/KUgpPyg/OigtP1xkezEsMjB9KD86XC5cZHsxLDIwfSk/KU0pPyg/OigtP1xkezEsMjB9KSg/OlsuLF0oLT9cZHsxLDIwfSkpP1MpPyk/KSQvO2Z1bmN0aW9uIE5mKG4pe2NvbnN0W2UsdCxzLGkscixvLGEsbCx1XT1uLGg9ZVswXT09PSItIixjPWwmJmxbMF09PT0iLSIsbT0oZixnPSExKT0+ZiE9PXZvaWQgMCYmKGd8fGYmJmgpPy1mOmY7cmV0dXJuW3t5ZWFyczptKGtzKHQpKSxtb250aHM6bShrcyhzKSksd2Vla3M6bShrcyhpKSksZGF5czptKGtzKHIpKSxob3VyczptKGtzKG8pKSxtaW51dGVzOm0oa3MoYSkpLHNlY29uZHM6bShrcyhsKSxsPT09Ii0wIiksbWlsbGlzZWNvbmRzOm0oZW8odSksYyl9XX1jb25zdCB2Zj17R01UOjAsRURUOi00KjYwLEVTVDotNSo2MCxDRFQ6LTUqNjAsQ1NUOi02KjYwLE1EVDotNio2MCxNU1Q6LTcqNjAsUERUOi03KjYwLFBTVDotOCo2MH07ZnVuY3Rpb24gcm8obixlLHQscyxpLHIsbyl7Y29uc3QgYT17eWVhcjplLmxlbmd0aD09PTI/c28oUXQoZSkpOlF0KGUpLG1vbnRoOmtsLmluZGV4T2YodCkrMSxkYXk6UXQocyksaG91cjpRdChpKSxtaW51dGU6UXQocil9O3JldHVybiBvJiYoYS5zZWNvbmQ9UXQobykpLG4mJihhLndlZWtkYXk9bi5sZW5ndGg+Mz9TbC5pbmRleE9mKG4pKzE6T2wuaW5kZXhPZihuKSsxKSxhfWNvbnN0IEFmPS9eKD86KE1vbnxUdWV8V2VkfFRodXxGcml8U2F0fFN1biksXHMpPyhcZHsxLDJ9KVxzKEphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKVxzKFxkezIsNH0pXHMoXGRcZCk6KFxkXGQpKD86OihcZFxkKSk/XHMoPzooVVR8R01UfFtFQ01QXVtTRF1UKXwoW1p6XSl8KD86KFsrLV1cZFxkKShcZFxkKSkpJC87ZnVuY3Rpb24gQ2Yobil7Y29uc3RbLGUsdCxzLGkscixvLGEsbCx1LGgsY109bixtPXJvKGUsaSxzLHQscixvLGEpO2xldCBmO3JldHVybiBsP2Y9dmZbbF06dT9mPTA6Zj1faShoLGMpLFttLG5ldyAkZShmKV19ZnVuY3Rpb24geGYobil7cmV0dXJuIG4ucmVwbGFjZSgvXChbXigpXSpcKXxbXG5cdF0vZywiICIpLnJlcGxhY2UoLyhcc1xzKykvZywiICIpLnRyaW0oKX1jb25zdCBMZj0vXihNb258VHVlfFdlZHxUaHV8RnJpfFNhdHxTdW4pLCAoXGRcZCkgKEphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKSAoXGR7NH0pIChcZFxkKTooXGRcZCk6KFxkXGQpIEdNVCQvLFlmPS9eKE1vbmRheXxUdWVzZGF5fFdlZG5lc2RheXxUaHVyc2RheXxGcmlkYXl8U2F0dXJkYXl8U3VuZGF5KSwgKFxkXGQpLShKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYyktKFxkXGQpIChcZFxkKTooXGRcZCk6KFxkXGQpIEdNVCQvLFJmPS9eKE1vbnxUdWV8V2VkfFRodXxGcml8U2F0fFN1bikgKEphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKSAoIFxkfFxkXGQpIChcZFxkKTooXGRcZCk6KFxkXGQpIChcZHs0fSkkLztmdW5jdGlvbiBMbChuKXtjb25zdFssZSx0LHMsaSxyLG8sYV09bjtyZXR1cm5bcm8oZSxpLHMsdCxyLG8sYSksJGUudXRjSW5zdGFuY2VdfWZ1bmN0aW9uIFVmKG4pe2NvbnN0WyxlLHQscyxpLHIsbyxhXT1uO3JldHVybltybyhlLGEsdCxzLGkscixvKSwkZS51dGNJbnN0YW5jZV19Y29uc3QgRmY9anMoYmYsaW8pLHpmPWpzKFRmLGlvKSxQZj1qcyhrZixpbyksJGY9anMoQ2wpLFlsPXFzKERmLEdzLFBuLCRuKSxCZj1xcyhFZixHcyxQbiwkbiksV2Y9cXMoU2YsR3MsUG4sJG4pLEhmPXFzKEdzLFBuLCRuKTtmdW5jdGlvbiBWZihuKXtyZXR1cm4gS3MobixbRmYsWWxdLFt6ZixCZl0sW1BmLFdmXSxbJGYsSGZdKX1mdW5jdGlvbiBqZihuKXtyZXR1cm4gS3MoeGYobiksW0FmLENmXSl9ZnVuY3Rpb24gcWYobil7cmV0dXJuIEtzKG4sW0xmLExsXSxbWWYsTGxdLFtSZixVZl0pfWZ1bmN0aW9uIEtmKG4pe3JldHVybiBLcyhuLFtfZixOZl0pfWNvbnN0IFpmPXFzKEdzKTtmdW5jdGlvbiBHZihuKXtyZXR1cm4gS3MobixbTWYsWmZdKX1jb25zdCBKZj1qcyhPZixJZiksWGY9anMoeGwpLFFmPXFzKEdzLFBuLCRuKTtmdW5jdGlvbiBlZChuKXtyZXR1cm4gS3MobixbSmYsWWxdLFtYZixRZl0pfWNvbnN0IFJsPSJJbnZhbGlkIER1cmF0aW9uIixVbD17d2Vla3M6e2RheXM6Nyxob3Vyczo3KjI0LG1pbnV0ZXM6NyoyNCo2MCxzZWNvbmRzOjcqMjQqNjAqNjAsbWlsbGlzZWNvbmRzOjcqMjQqNjAqNjAqMWUzfSxkYXlzOntob3VyczoyNCxtaW51dGVzOjI0KjYwLHNlY29uZHM6MjQqNjAqNjAsbWlsbGlzZWNvbmRzOjI0KjYwKjYwKjFlM30saG91cnM6e21pbnV0ZXM6NjAsc2Vjb25kczo2MCo2MCxtaWxsaXNlY29uZHM6NjAqNjAqMWUzfSxtaW51dGVzOntzZWNvbmRzOjYwLG1pbGxpc2Vjb25kczo2MCoxZTN9LHNlY29uZHM6e21pbGxpc2Vjb25kczoxZTN9fSx0ZD17eWVhcnM6e3F1YXJ0ZXJzOjQsbW9udGhzOjEyLHdlZWtzOjUyLGRheXM6MzY1LGhvdXJzOjM2NSoyNCxtaW51dGVzOjM2NSoyNCo2MCxzZWNvbmRzOjM2NSoyNCo2MCo2MCxtaWxsaXNlY29uZHM6MzY1KjI0KjYwKjYwKjFlM30scXVhcnRlcnM6e21vbnRoczozLHdlZWtzOjEzLGRheXM6OTEsaG91cnM6OTEqMjQsbWludXRlczo5MSoyNCo2MCxzZWNvbmRzOjkxKjI0KjYwKjYwLG1pbGxpc2Vjb25kczo5MSoyNCo2MCo2MCoxZTN9LG1vbnRoczp7d2Vla3M6NCxkYXlzOjMwLGhvdXJzOjMwKjI0LG1pbnV0ZXM6MzAqMjQqNjAsc2Vjb25kczozMCoyNCo2MCo2MCxtaWxsaXNlY29uZHM6MzAqMjQqNjAqNjAqMWUzfSwuLi5VbH0sYXQ9MTQ2MDk3LzQwMCxKcz0xNDYwOTcvNDgwMCxzZD17eWVhcnM6e3F1YXJ0ZXJzOjQsbW9udGhzOjEyLHdlZWtzOmF0LzcsZGF5czphdCxob3VyczphdCoyNCxtaW51dGVzOmF0KjI0KjYwLHNlY29uZHM6YXQqMjQqNjAqNjAsbWlsbGlzZWNvbmRzOmF0KjI0KjYwKjYwKjFlM30scXVhcnRlcnM6e21vbnRoczozLHdlZWtzOmF0LzI4LGRheXM6YXQvNCxob3VyczphdCoyNC80LG1pbnV0ZXM6YXQqMjQqNjAvNCxzZWNvbmRzOmF0KjI0KjYwKjYwLzQsbWlsbGlzZWNvbmRzOmF0KjI0KjYwKjYwKjFlMy80fSxtb250aHM6e3dlZWtzOkpzLzcsZGF5czpKcyxob3VyczpKcyoyNCxtaW51dGVzOkpzKjI0KjYwLHNlY29uZHM6SnMqMjQqNjAqNjAsbWlsbGlzZWNvbmRzOkpzKjI0KjYwKjYwKjFlM30sLi4uVWx9LEVzPVsieWVhcnMiLCJxdWFydGVycyIsIm1vbnRocyIsIndlZWtzIiwiZGF5cyIsImhvdXJzIiwibWludXRlcyIsInNlY29uZHMiLCJtaWxsaXNlY29uZHMiXSxuZD1Fcy5zbGljZSgwKS5yZXZlcnNlKCk7ZnVuY3Rpb24gZXMobixlLHQ9ITEpe2NvbnN0IHM9e3ZhbHVlczp0P2UudmFsdWVzOnsuLi5uLnZhbHVlcywuLi5lLnZhbHVlc3x8e319LGxvYzpuLmxvYy5jbG9uZShlLmxvYyksY29udmVyc2lvbkFjY3VyYWN5OmUuY29udmVyc2lvbkFjY3VyYWN5fHxuLmNvbnZlcnNpb25BY2N1cmFjeSxtYXRyaXg6ZS5tYXRyaXh8fG4ubWF0cml4fTtyZXR1cm4gbmV3IExlKHMpfWZ1bmN0aW9uIEZsKG4sZSl7bGV0IHQ9ZS5taWxsaXNlY29uZHM/PzA7Zm9yKGNvbnN0IHMgb2YgbmQuc2xpY2UoMSkpZVtzXSYmKHQrPWVbc10qbltzXS5taWxsaXNlY29uZHMpO3JldHVybiB0fWZ1bmN0aW9uIHpsKG4sZSl7Y29uc3QgdD1GbChuLGUpPDA/LTE6MTtFcy5yZWR1Y2VSaWdodCgocyxpKT0+e2lmKFAoZVtpXSkpcmV0dXJuIHM7aWYocyl7Y29uc3Qgcj1lW3NdKnQsbz1uW2ldW3NdLGE9TWF0aC5mbG9vcihyL28pO2VbaV0rPWEqdCxlW3NdLT1hKm8qdH1yZXR1cm4gaX0sbnVsbCksRXMucmVkdWNlKChzLGkpPT57aWYoUChlW2ldKSlyZXR1cm4gcztpZihzKXtjb25zdCByPWVbc10lMTtlW3NdLT1yLGVbaV0rPXIqbltzXVtpXX1yZXR1cm4gaX0sbnVsbCl9ZnVuY3Rpb24gaWQobil7Y29uc3QgZT17fTtmb3IoY29uc3RbdCxzXW9mIE9iamVjdC5lbnRyaWVzKG4pKXMhPT0wJiYoZVt0XT1zKTtyZXR1cm4gZX1sZXQgTGU9Y2xhc3MgQWV7Y29uc3RydWN0b3IoZSl7Y29uc3QgdD1lLmNvbnZlcnNpb25BY2N1cmFjeT09PSJsb25ndGVybSJ8fCExO2xldCBzPXQ/c2Q6dGQ7ZS5tYXRyaXgmJihzPWUubWF0cml4KSx0aGlzLnZhbHVlcz1lLnZhbHVlcyx0aGlzLmxvYz1lLmxvY3x8dGUuY3JlYXRlKCksdGhpcy5jb252ZXJzaW9uQWNjdXJhY3k9dD8ibG9uZ3Rlcm0iOiJjYXN1YWwiLHRoaXMuaW52YWxpZD1lLmludmFsaWR8fG51bGwsdGhpcy5tYXRyaXg9cyx0aGlzLmlzTHV4b25EdXJhdGlvbj0hMH1zdGF0aWMgZnJvbU1pbGxpcyhlLHQpe3JldHVybiBBZS5mcm9tT2JqZWN0KHttaWxsaXNlY29uZHM6ZX0sdCl9c3RhdGljIGZyb21PYmplY3QoZSx0PXt9KXtpZihlPT1udWxsfHx0eXBlb2YgZSE9Im9iamVjdCIpdGhyb3cgbmV3IENlKGBEdXJhdGlvbi5mcm9tT2JqZWN0OiBhcmd1bWVudCBleHBlY3RlZCB0byBiZSBhbiBvYmplY3QsIGdvdCAke2U9PT1udWxsPyJudWxsIjp0eXBlb2YgZX1gKTtyZXR1cm4gbmV3IEFlKHt2YWx1ZXM6TmkoZSxBZS5ub3JtYWxpemVVbml0KSxsb2M6dGUuZnJvbU9iamVjdCh0KSxjb252ZXJzaW9uQWNjdXJhY3k6dC5jb252ZXJzaW9uQWNjdXJhY3ksbWF0cml4OnQubWF0cml4fSl9c3RhdGljIGZyb21EdXJhdGlvbkxpa2UoZSl7aWYoWHQoZSkpcmV0dXJuIEFlLmZyb21NaWxsaXMoZSk7aWYoQWUuaXNEdXJhdGlvbihlKSlyZXR1cm4gZTtpZih0eXBlb2YgZT09Im9iamVjdCIpcmV0dXJuIEFlLmZyb21PYmplY3QoZSk7dGhyb3cgbmV3IENlKGBVbmtub3duIGR1cmF0aW9uIGFyZ3VtZW50ICR7ZX0gb2YgdHlwZSAke3R5cGVvZiBlfWApfXN0YXRpYyBmcm9tSVNPKGUsdCl7Y29uc3Rbc109S2YoZSk7cmV0dXJuIHM/QWUuZnJvbU9iamVjdChzLHQpOkFlLmludmFsaWQoInVucGFyc2FibGUiLGB0aGUgaW5wdXQgIiR7ZX0iIGNhbid0IGJlIHBhcnNlZCBhcyBJU08gODYwMWApfXN0YXRpYyBmcm9tSVNPVGltZShlLHQpe2NvbnN0W3NdPUdmKGUpO3JldHVybiBzP0FlLmZyb21PYmplY3Qocyx0KTpBZS5pbnZhbGlkKCJ1bnBhcnNhYmxlIixgdGhlIGlucHV0ICIke2V9IiBjYW4ndCBiZSBwYXJzZWQgYXMgSVNPIDg2MDFgKX1zdGF0aWMgaW52YWxpZChlLHQ9bnVsbCl7aWYoIWUpdGhyb3cgbmV3IENlKCJuZWVkIHRvIHNwZWNpZnkgYSByZWFzb24gdGhlIER1cmF0aW9uIGlzIGludmFsaWQiKTtjb25zdCBzPWUgaW5zdGFuY2VvZiBwdD9lOm5ldyBwdChlLHQpO2lmKGRlLnRocm93T25JbnZhbGlkKXRocm93IG5ldyBXcyhzKTtyZXR1cm4gbmV3IEFlKHtpbnZhbGlkOnN9KX1zdGF0aWMgbm9ybWFsaXplVW5pdChlKXtjb25zdCB0PXt5ZWFyOiJ5ZWFycyIseWVhcnM6InllYXJzIixxdWFydGVyOiJxdWFydGVycyIscXVhcnRlcnM6InF1YXJ0ZXJzIixtb250aDoibW9udGhzIixtb250aHM6Im1vbnRocyIsd2Vlazoid2Vla3MiLHdlZWtzOiJ3ZWVrcyIsZGF5OiJkYXlzIixkYXlzOiJkYXlzIixob3VyOiJob3VycyIsaG91cnM6ImhvdXJzIixtaW51dGU6Im1pbnV0ZXMiLG1pbnV0ZXM6Im1pbnV0ZXMiLHNlY29uZDoic2Vjb25kcyIsc2Vjb25kczoic2Vjb25kcyIsbWlsbGlzZWNvbmQ6Im1pbGxpc2Vjb25kcyIsbWlsbGlzZWNvbmRzOiJtaWxsaXNlY29uZHMifVtlJiZlLnRvTG93ZXJDYXNlKCldO2lmKCF0KXRocm93IG5ldyBfYShlKTtyZXR1cm4gdH1zdGF0aWMgaXNEdXJhdGlvbihlKXtyZXR1cm4gZSYmZS5pc0x1eG9uRHVyYXRpb258fCExfWdldCBsb2NhbGUoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMubG9jLmxvY2FsZTpudWxsfWdldCBudW1iZXJpbmdTeXN0ZW0oKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMubG9jLm51bWJlcmluZ1N5c3RlbTpudWxsfXRvRm9ybWF0KGUsdD17fSl7Y29uc3Qgcz17Li4udCxmbG9vcjp0LnJvdW5kIT09ITEmJnQuZmxvb3IhPT0hMX07cmV0dXJuIHRoaXMuaXNWYWxpZD94ZS5jcmVhdGUodGhpcy5sb2MscykuZm9ybWF0RHVyYXRpb25Gcm9tU3RyaW5nKHRoaXMsZSk6Umx9dG9IdW1hbihlPXt9KXtpZighdGhpcy5pc1ZhbGlkKXJldHVybiBSbDtjb25zdCB0PUVzLm1hcChzPT57Y29uc3QgaT10aGlzLnZhbHVlc1tzXTtyZXR1cm4gUChpKT9udWxsOnRoaXMubG9jLm51bWJlckZvcm1hdHRlcih7c3R5bGU6InVuaXQiLHVuaXREaXNwbGF5OiJsb25nIiwuLi5lLHVuaXQ6cy5zbGljZSgwLC0xKX0pLmZvcm1hdChpKX0pLmZpbHRlcihzPT5zKTtyZXR1cm4gdGhpcy5sb2MubGlzdEZvcm1hdHRlcih7dHlwZToiY29uanVuY3Rpb24iLHN0eWxlOmUubGlzdFN0eWxlfHwibmFycm93IiwuLi5lfSkuZm9ybWF0KHQpfXRvT2JqZWN0KCl7cmV0dXJuIHRoaXMuaXNWYWxpZD97Li4udGhpcy52YWx1ZXN9Ont9fXRvSVNPKCl7aWYoIXRoaXMuaXNWYWxpZClyZXR1cm4gbnVsbDtsZXQgZT0iUCI7cmV0dXJuIHRoaXMueWVhcnMhPT0wJiYoZSs9dGhpcy55ZWFycysiWSIpLCh0aGlzLm1vbnRocyE9PTB8fHRoaXMucXVhcnRlcnMhPT0wKSYmKGUrPXRoaXMubW9udGhzK3RoaXMucXVhcnRlcnMqMysiTSIpLHRoaXMud2Vla3MhPT0wJiYoZSs9dGhpcy53ZWVrcysiVyIpLHRoaXMuZGF5cyE9PTAmJihlKz10aGlzLmRheXMrIkQiKSwodGhpcy5ob3VycyE9PTB8fHRoaXMubWludXRlcyE9PTB8fHRoaXMuc2Vjb25kcyE9PTB8fHRoaXMubWlsbGlzZWNvbmRzIT09MCkmJihlKz0iVCIpLHRoaXMuaG91cnMhPT0wJiYoZSs9dGhpcy5ob3VycysiSCIpLHRoaXMubWludXRlcyE9PTAmJihlKz10aGlzLm1pbnV0ZXMrIk0iKSwodGhpcy5zZWNvbmRzIT09MHx8dGhpcy5taWxsaXNlY29uZHMhPT0wKSYmKGUrPXRvKHRoaXMuc2Vjb25kcyt0aGlzLm1pbGxpc2Vjb25kcy8xZTMsMykrIlMiKSxlPT09IlAiJiYoZSs9IlQwUyIpLGV9dG9JU09UaW1lKGU9e30pe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLnRvTWlsbGlzKCk7cmV0dXJuIHQ8MHx8dD49ODY0ZTU/bnVsbDooZT17c3VwcHJlc3NNaWxsaXNlY29uZHM6ITEsc3VwcHJlc3NTZWNvbmRzOiExLGluY2x1ZGVQcmVmaXg6ITEsZm9ybWF0OiJleHRlbmRlZCIsLi4uZSxpbmNsdWRlT2Zmc2V0OiExfSxNLmZyb21NaWxsaXModCx7em9uZToiVVRDIn0pLnRvSVNPVGltZShlKSl9dG9KU09OKCl7cmV0dXJuIHRoaXMudG9JU08oKX10b1N0cmluZygpe3JldHVybiB0aGlzLnRvSVNPKCl9W1N5bWJvbC5mb3IoIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tIildKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD9gRHVyYXRpb24geyB2YWx1ZXM6ICR7SlNPTi5zdHJpbmdpZnkodGhpcy52YWx1ZXMpfSB9YDpgRHVyYXRpb24geyBJbnZhbGlkLCByZWFzb246ICR7dGhpcy5pbnZhbGlkUmVhc29ufSB9YH10b01pbGxpcygpe3JldHVybiB0aGlzLmlzVmFsaWQ/RmwodGhpcy5tYXRyaXgsdGhpcy52YWx1ZXMpOk5hTn12YWx1ZU9mKCl7cmV0dXJuIHRoaXMudG9NaWxsaXMoKX1wbHVzKGUpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7Y29uc3QgdD1BZS5mcm9tRHVyYXRpb25MaWtlKGUpLHM9e307Zm9yKGNvbnN0IGkgb2YgRXMpKEhzKHQudmFsdWVzLGkpfHxIcyh0aGlzLnZhbHVlcyxpKSkmJihzW2ldPXQuZ2V0KGkpK3RoaXMuZ2V0KGkpKTtyZXR1cm4gZXModGhpcyx7dmFsdWVzOnN9LCEwKX1taW51cyhlKXtpZighdGhpcy5pc1ZhbGlkKXJldHVybiB0aGlzO2NvbnN0IHQ9QWUuZnJvbUR1cmF0aW9uTGlrZShlKTtyZXR1cm4gdGhpcy5wbHVzKHQubmVnYXRlKCkpfW1hcFVuaXRzKGUpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7Y29uc3QgdD17fTtmb3IoY29uc3QgcyBvZiBPYmplY3Qua2V5cyh0aGlzLnZhbHVlcykpdFtzXT1UbChlKHRoaXMudmFsdWVzW3NdLHMpKTtyZXR1cm4gZXModGhpcyx7dmFsdWVzOnR9LCEwKX1nZXQoZSl7cmV0dXJuIHRoaXNbQWUubm9ybWFsaXplVW5pdChlKV19c2V0KGUpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7Y29uc3QgdD17Li4udGhpcy52YWx1ZXMsLi4uTmkoZSxBZS5ub3JtYWxpemVVbml0KX07cmV0dXJuIGVzKHRoaXMse3ZhbHVlczp0fSl9cmVjb25maWd1cmUoe2xvY2FsZTplLG51bWJlcmluZ1N5c3RlbTp0LGNvbnZlcnNpb25BY2N1cmFjeTpzLG1hdHJpeDppfT17fSl7Y29uc3Qgbz17bG9jOnRoaXMubG9jLmNsb25lKHtsb2NhbGU6ZSxudW1iZXJpbmdTeXN0ZW06dH0pLG1hdHJpeDppLGNvbnZlcnNpb25BY2N1cmFjeTpzfTtyZXR1cm4gZXModGhpcyxvKX1hcyhlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMuc2hpZnRUbyhlKS5nZXQoZSk6TmFOfW5vcm1hbGl6ZSgpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7Y29uc3QgZT10aGlzLnRvT2JqZWN0KCk7cmV0dXJuIHpsKHRoaXMubWF0cml4LGUpLGVzKHRoaXMse3ZhbHVlczplfSwhMCl9cmVzY2FsZSgpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7Y29uc3QgZT1pZCh0aGlzLm5vcm1hbGl6ZSgpLnNoaWZ0VG9BbGwoKS50b09iamVjdCgpKTtyZXR1cm4gZXModGhpcyx7dmFsdWVzOmV9LCEwKX1zaGlmdFRvKC4uLmUpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7aWYoZS5sZW5ndGg9PT0wKXJldHVybiB0aGlzO2U9ZS5tYXAobz0+QWUubm9ybWFsaXplVW5pdChvKSk7Y29uc3QgdD17fSxzPXt9LGk9dGhpcy50b09iamVjdCgpO2xldCByO2Zvcihjb25zdCBvIG9mIEVzKWlmKGUuaW5kZXhPZihvKT49MCl7cj1vO2xldCBhPTA7Zm9yKGNvbnN0IHUgaW4gcylhKz10aGlzLm1hdHJpeFt1XVtvXSpzW3VdLHNbdV09MDtYdChpW29dKSYmKGErPWlbb10pO2NvbnN0IGw9TWF0aC50cnVuYyhhKTt0W29dPWwsc1tvXT0oYSoxZTMtbCoxZTMpLzFlM31lbHNlIFh0KGlbb10pJiYoc1tvXT1pW29dKTtmb3IoY29uc3QgbyBpbiBzKXNbb10hPT0wJiYodFtyXSs9bz09PXI/c1tvXTpzW29dL3RoaXMubWF0cml4W3JdW29dKTtyZXR1cm4gemwodGhpcy5tYXRyaXgsdCksZXModGhpcyx7dmFsdWVzOnR9LCEwKX1zaGlmdFRvQWxsKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLnNoaWZ0VG8oInllYXJzIiwibW9udGhzIiwid2Vla3MiLCJkYXlzIiwiaG91cnMiLCJtaW51dGVzIiwic2Vjb25kcyIsIm1pbGxpc2Vjb25kcyIpOnRoaXN9bmVnYXRlKCl7aWYoIXRoaXMuaXNWYWxpZClyZXR1cm4gdGhpcztjb25zdCBlPXt9O2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMudmFsdWVzKSllW3RdPXRoaXMudmFsdWVzW3RdPT09MD8wOi10aGlzLnZhbHVlc1t0XTtyZXR1cm4gZXModGhpcyx7dmFsdWVzOmV9LCEwKX1nZXQgeWVhcnMoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMudmFsdWVzLnllYXJzfHwwOk5hTn1nZXQgcXVhcnRlcnMoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMudmFsdWVzLnF1YXJ0ZXJzfHwwOk5hTn1nZXQgbW9udGhzKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLnZhbHVlcy5tb250aHN8fDA6TmFOfWdldCB3ZWVrcygpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy52YWx1ZXMud2Vla3N8fDA6TmFOfWdldCBkYXlzKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLnZhbHVlcy5kYXlzfHwwOk5hTn1nZXQgaG91cnMoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMudmFsdWVzLmhvdXJzfHwwOk5hTn1nZXQgbWludXRlcygpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy52YWx1ZXMubWludXRlc3x8MDpOYU59Z2V0IHNlY29uZHMoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMudmFsdWVzLnNlY29uZHN8fDA6TmFOfWdldCBtaWxsaXNlY29uZHMoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMudmFsdWVzLm1pbGxpc2Vjb25kc3x8MDpOYU59Z2V0IGlzVmFsaWQoKXtyZXR1cm4gdGhpcy5pbnZhbGlkPT09bnVsbH1nZXQgaW52YWxpZFJlYXNvbigpe3JldHVybiB0aGlzLmludmFsaWQ/dGhpcy5pbnZhbGlkLnJlYXNvbjpudWxsfWdldCBpbnZhbGlkRXhwbGFuYXRpb24oKXtyZXR1cm4gdGhpcy5pbnZhbGlkP3RoaXMuaW52YWxpZC5leHBsYW5hdGlvbjpudWxsfWVxdWFscyhlKXtpZighdGhpcy5pc1ZhbGlkfHwhZS5pc1ZhbGlkfHwhdGhpcy5sb2MuZXF1YWxzKGUubG9jKSlyZXR1cm4hMTtmdW5jdGlvbiB0KHMsaSl7cmV0dXJuIHM9PT12b2lkIDB8fHM9PT0wP2k9PT12b2lkIDB8fGk9PT0wOnM9PT1pfWZvcihjb25zdCBzIG9mIEVzKWlmKCF0KHRoaXMudmFsdWVzW3NdLGUudmFsdWVzW3NdKSlyZXR1cm4hMTtyZXR1cm4hMH19O2NvbnN0IFhzPSJJbnZhbGlkIEludGVydmFsIjtmdW5jdGlvbiByZChuLGUpe3JldHVybiFufHwhbi5pc1ZhbGlkP21lLmludmFsaWQoIm1pc3Npbmcgb3IgaW52YWxpZCBzdGFydCIpOiFlfHwhZS5pc1ZhbGlkP21lLmludmFsaWQoIm1pc3Npbmcgb3IgaW52YWxpZCBlbmQiKTplPG4/bWUuaW52YWxpZCgiZW5kIGJlZm9yZSBzdGFydCIsYFRoZSBlbmQgb2YgYW4gaW50ZXJ2YWwgbXVzdCBiZSBhZnRlciBpdHMgc3RhcnQsIGJ1dCB5b3UgaGFkIHN0YXJ0PSR7bi50b0lTTygpfSBhbmQgZW5kPSR7ZS50b0lTTygpfWApOm51bGx9Y2xhc3MgbWV7Y29uc3RydWN0b3IoZSl7dGhpcy5zPWUuc3RhcnQsdGhpcy5lPWUuZW5kLHRoaXMuaW52YWxpZD1lLmludmFsaWR8fG51bGwsdGhpcy5pc0x1eG9uSW50ZXJ2YWw9ITB9c3RhdGljIGludmFsaWQoZSx0PW51bGwpe2lmKCFlKXRocm93IG5ldyBDZSgibmVlZCB0byBzcGVjaWZ5IGEgcmVhc29uIHRoZSBJbnRlcnZhbCBpcyBpbnZhbGlkIik7Y29uc3Qgcz1lIGluc3RhbmNlb2YgcHQ/ZTpuZXcgcHQoZSx0KTtpZihkZS50aHJvd09uSW52YWxpZCl0aHJvdyBuZXcgZmUocyk7cmV0dXJuIG5ldyBtZSh7aW52YWxpZDpzfSl9c3RhdGljIGZyb21EYXRlVGltZXMoZSx0KXtjb25zdCBzPUhuKGUpLGk9SG4odCkscj1yZChzLGkpO3JldHVybiByPz9uZXcgbWUoe3N0YXJ0OnMsZW5kOml9KX1zdGF0aWMgYWZ0ZXIoZSx0KXtjb25zdCBzPUxlLmZyb21EdXJhdGlvbkxpa2UodCksaT1IbihlKTtyZXR1cm4gbWUuZnJvbURhdGVUaW1lcyhpLGkucGx1cyhzKSl9c3RhdGljIGJlZm9yZShlLHQpe2NvbnN0IHM9TGUuZnJvbUR1cmF0aW9uTGlrZSh0KSxpPUhuKGUpO3JldHVybiBtZS5mcm9tRGF0ZVRpbWVzKGkubWludXMocyksaSl9c3RhdGljIGZyb21JU08oZSx0KXtjb25zdFtzLGldPShlfHwiIikuc3BsaXQoIi8iLDIpO2lmKHMmJmkpe2xldCByLG87dHJ5e3I9TS5mcm9tSVNPKHMsdCksbz1yLmlzVmFsaWR9Y2F0Y2h7bz0hMX1sZXQgYSxsO3RyeXthPU0uZnJvbUlTTyhpLHQpLGw9YS5pc1ZhbGlkfWNhdGNoe2w9ITF9aWYobyYmbClyZXR1cm4gbWUuZnJvbURhdGVUaW1lcyhyLGEpO2lmKG8pe2NvbnN0IHU9TGUuZnJvbUlTTyhpLHQpO2lmKHUuaXNWYWxpZClyZXR1cm4gbWUuYWZ0ZXIocix1KX1lbHNlIGlmKGwpe2NvbnN0IHU9TGUuZnJvbUlTTyhzLHQpO2lmKHUuaXNWYWxpZClyZXR1cm4gbWUuYmVmb3JlKGEsdSl9fXJldHVybiBtZS5pbnZhbGlkKCJ1bnBhcnNhYmxlIixgdGhlIGlucHV0ICIke2V9IiBjYW4ndCBiZSBwYXJzZWQgYXMgSVNPIDg2MDFgKX1zdGF0aWMgaXNJbnRlcnZhbChlKXtyZXR1cm4gZSYmZS5pc0x1eG9uSW50ZXJ2YWx8fCExfWdldCBzdGFydCgpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5zOm51bGx9Z2V0IGVuZCgpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5lOm51bGx9Z2V0IGxhc3REYXRlVGltZSgpe3JldHVybiB0aGlzLmlzVmFsaWQmJnRoaXMuZT90aGlzLmUubWludXMoMSk6bnVsbH1nZXQgaXNWYWxpZCgpe3JldHVybiB0aGlzLmludmFsaWRSZWFzb249PT1udWxsfWdldCBpbnZhbGlkUmVhc29uKCl7cmV0dXJuIHRoaXMuaW52YWxpZD90aGlzLmludmFsaWQucmVhc29uOm51bGx9Z2V0IGludmFsaWRFeHBsYW5hdGlvbigpe3JldHVybiB0aGlzLmludmFsaWQ/dGhpcy5pbnZhbGlkLmV4cGxhbmF0aW9uOm51bGx9bGVuZ3RoKGU9Im1pbGxpc2Vjb25kcyIpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy50b0R1cmF0aW9uKGUpLmdldChlKTpOYU59Y291bnQoZT0ibWlsbGlzZWNvbmRzIix0KXtpZighdGhpcy5pc1ZhbGlkKXJldHVybiBOYU47Y29uc3Qgcz10aGlzLnN0YXJ0LnN0YXJ0T2YoZSx0KTtsZXQgaTtyZXR1cm4gdCE9bnVsbCYmdC51c2VMb2NhbGVXZWVrcz9pPXRoaXMuZW5kLnJlY29uZmlndXJlKHtsb2NhbGU6cy5sb2NhbGV9KTppPXRoaXMuZW5kLGk9aS5zdGFydE9mKGUsdCksTWF0aC5mbG9vcihpLmRpZmYocyxlKS5nZXQoZSkpKyhpLnZhbHVlT2YoKSE9PXRoaXMuZW5kLnZhbHVlT2YoKSl9aGFzU2FtZShlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMuaXNFbXB0eSgpfHx0aGlzLmUubWludXMoMSkuaGFzU2FtZSh0aGlzLnMsZSk6ITF9aXNFbXB0eSgpe3JldHVybiB0aGlzLnMudmFsdWVPZigpPT09dGhpcy5lLnZhbHVlT2YoKX1pc0FmdGVyKGUpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5zPmU6ITF9aXNCZWZvcmUoZSl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLmU8PWU6ITF9Y29udGFpbnMoZSl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLnM8PWUmJnRoaXMuZT5lOiExfXNldCh7c3RhcnQ6ZSxlbmQ6dH09e30pe3JldHVybiB0aGlzLmlzVmFsaWQ/bWUuZnJvbURhdGVUaW1lcyhlfHx0aGlzLnMsdHx8dGhpcy5lKTp0aGlzfXNwbGl0QXQoLi4uZSl7aWYoIXRoaXMuaXNWYWxpZClyZXR1cm5bXTtjb25zdCB0PWUubWFwKEhuKS5maWx0ZXIobz0+dGhpcy5jb250YWlucyhvKSkuc29ydCgobyxhKT0+by50b01pbGxpcygpLWEudG9NaWxsaXMoKSkscz1bXTtsZXR7czppfT10aGlzLHI9MDtmb3IoO2k8dGhpcy5lOyl7Y29uc3Qgbz10W3JdfHx0aGlzLmUsYT0rbz4rdGhpcy5lP3RoaXMuZTpvO3MucHVzaChtZS5mcm9tRGF0ZVRpbWVzKGksYSkpLGk9YSxyKz0xfXJldHVybiBzfXNwbGl0QnkoZSl7Y29uc3QgdD1MZS5mcm9tRHVyYXRpb25MaWtlKGUpO2lmKCF0aGlzLmlzVmFsaWR8fCF0LmlzVmFsaWR8fHQuYXMoIm1pbGxpc2Vjb25kcyIpPT09MClyZXR1cm5bXTtsZXR7c309dGhpcyxpPTEscjtjb25zdCBvPVtdO2Zvcig7czx0aGlzLmU7KXtjb25zdCBhPXRoaXMuc3RhcnQucGx1cyh0Lm1hcFVuaXRzKGw9PmwqaSkpO3I9K2E+K3RoaXMuZT90aGlzLmU6YSxvLnB1c2gobWUuZnJvbURhdGVUaW1lcyhzLHIpKSxzPXIsaSs9MX1yZXR1cm4gb31kaXZpZGVFcXVhbGx5KGUpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5zcGxpdEJ5KHRoaXMubGVuZ3RoKCkvZSkuc2xpY2UoMCxlKTpbXX1vdmVybGFwcyhlKXtyZXR1cm4gdGhpcy5lPmUucyYmdGhpcy5zPGUuZX1hYnV0c1N0YXJ0KGUpe3JldHVybiB0aGlzLmlzVmFsaWQ/K3RoaXMuZT09K2UuczohMX1hYnV0c0VuZChlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkPytlLmU9PSt0aGlzLnM6ITF9ZW5ndWxmcyhlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMuczw9ZS5zJiZ0aGlzLmU+PWUuZTohMX1lcXVhbHMoZSl7cmV0dXJuIXRoaXMuaXNWYWxpZHx8IWUuaXNWYWxpZD8hMTp0aGlzLnMuZXF1YWxzKGUucykmJnRoaXMuZS5lcXVhbHMoZS5lKX1pbnRlcnNlY3Rpb24oZSl7aWYoIXRoaXMuaXNWYWxpZClyZXR1cm4gdGhpcztjb25zdCB0PXRoaXMucz5lLnM/dGhpcy5zOmUucyxzPXRoaXMuZTxlLmU/dGhpcy5lOmUuZTtyZXR1cm4gdD49cz9udWxsOm1lLmZyb21EYXRlVGltZXModCxzKX11bmlvbihlKXtpZighdGhpcy5pc1ZhbGlkKXJldHVybiB0aGlzO2NvbnN0IHQ9dGhpcy5zPGUucz90aGlzLnM6ZS5zLHM9dGhpcy5lPmUuZT90aGlzLmU6ZS5lO3JldHVybiBtZS5mcm9tRGF0ZVRpbWVzKHQscyl9c3RhdGljIG1lcmdlKGUpe2NvbnN0W3Qsc109ZS5zb3J0KChpLHIpPT5pLnMtci5zKS5yZWR1Y2UoKFtpLHJdLG8pPT5yP3Iub3ZlcmxhcHMobyl8fHIuYWJ1dHNTdGFydChvKT9baSxyLnVuaW9uKG8pXTpbaS5jb25jYXQoW3JdKSxvXTpbaSxvXSxbW10sbnVsbF0pO3JldHVybiBzJiZ0LnB1c2gocyksdH1zdGF0aWMgeG9yKGUpe2xldCB0PW51bGwscz0wO2NvbnN0IGk9W10scj1lLm1hcChsPT5be3RpbWU6bC5zLHR5cGU6InMifSx7dGltZTpsLmUsdHlwZToiZSJ9XSksbz1BcnJheS5wcm90b3R5cGUuY29uY2F0KC4uLnIpLGE9by5zb3J0KChsLHUpPT5sLnRpbWUtdS50aW1lKTtmb3IoY29uc3QgbCBvZiBhKXMrPWwudHlwZT09PSJzIj8xOi0xLHM9PT0xP3Q9bC50aW1lOih0JiYrdCE9K2wudGltZSYmaS5wdXNoKG1lLmZyb21EYXRlVGltZXModCxsLnRpbWUpKSx0PW51bGwpO3JldHVybiBtZS5tZXJnZShpKX1kaWZmZXJlbmNlKC4uLmUpe3JldHVybiBtZS54b3IoW3RoaXNdLmNvbmNhdChlKSkubWFwKHQ9PnRoaXMuaW50ZXJzZWN0aW9uKHQpKS5maWx0ZXIodD0+dCYmIXQuaXNFbXB0eSgpKX10b1N0cmluZygpe3JldHVybiB0aGlzLmlzVmFsaWQ/YFske3RoaXMucy50b0lTTygpfSDigJMgJHt0aGlzLmUudG9JU08oKX0pYDpYc31bU3ltYm9sLmZvcigibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20iKV0oKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP2BJbnRlcnZhbCB7IHN0YXJ0OiAke3RoaXMucy50b0lTTygpfSwgZW5kOiAke3RoaXMuZS50b0lTTygpfSB9YDpgSW50ZXJ2YWwgeyBJbnZhbGlkLCByZWFzb246ICR7dGhpcy5pbnZhbGlkUmVhc29ufSB9YH10b0xvY2FsZVN0cmluZyhlPUVpLHQ9e30pe3JldHVybiB0aGlzLmlzVmFsaWQ/eGUuY3JlYXRlKHRoaXMucy5sb2MuY2xvbmUodCksZSkuZm9ybWF0SW50ZXJ2YWwodGhpcyk6WHN9dG9JU08oZSl7cmV0dXJuIHRoaXMuaXNWYWxpZD9gJHt0aGlzLnMudG9JU08oZSl9LyR7dGhpcy5lLnRvSVNPKGUpfWA6WHN9dG9JU09EYXRlKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD9gJHt0aGlzLnMudG9JU09EYXRlKCl9LyR7dGhpcy5lLnRvSVNPRGF0ZSgpfWA6WHN9dG9JU09UaW1lKGUpe3JldHVybiB0aGlzLmlzVmFsaWQ/YCR7dGhpcy5zLnRvSVNPVGltZShlKX0vJHt0aGlzLmUudG9JU09UaW1lKGUpfWA6WHN9dG9Gb3JtYXQoZSx7c2VwYXJhdG9yOnQ9IiDigJMgIn09e30pe3JldHVybiB0aGlzLmlzVmFsaWQ/YCR7dGhpcy5zLnRvRm9ybWF0KGUpfSR7dH0ke3RoaXMuZS50b0Zvcm1hdChlKX1gOlhzfXRvRHVyYXRpb24oZSx0KXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMuZS5kaWZmKHRoaXMucyxlLHQpOkxlLmludmFsaWQodGhpcy5pbnZhbGlkUmVhc29uKX1tYXBFbmRwb2ludHMoZSl7cmV0dXJuIG1lLmZyb21EYXRlVGltZXMoZSh0aGlzLnMpLGUodGhpcy5lKSl9fWNsYXNzIEFpe3N0YXRpYyBoYXNEU1QoZT1kZS5kZWZhdWx0Wm9uZSl7Y29uc3QgdD1NLm5vdygpLnNldFpvbmUoZSkuc2V0KHttb250aDoxMn0pO3JldHVybiFlLmlzVW5pdmVyc2FsJiZ0Lm9mZnNldCE9PXQuc2V0KHttb250aDo2fSkub2Zmc2V0fXN0YXRpYyBpc1ZhbGlkSUFOQVpvbmUoZSl7cmV0dXJuICR0LmlzVmFsaWRab25lKGUpfXN0YXRpYyBub3JtYWxpemVab25lKGUpe3JldHVybiBKdChlLGRlLmRlZmF1bHRab25lKX1zdGF0aWMgZ2V0U3RhcnRPZldlZWsoe2xvY2FsZTplPW51bGwsbG9jT2JqOnQ9bnVsbH09e30pe3JldHVybih0fHx0ZS5jcmVhdGUoZSkpLmdldFN0YXJ0T2ZXZWVrKCl9c3RhdGljIGdldE1pbmltdW1EYXlzSW5GaXJzdFdlZWsoe2xvY2FsZTplPW51bGwsbG9jT2JqOnQ9bnVsbH09e30pe3JldHVybih0fHx0ZS5jcmVhdGUoZSkpLmdldE1pbkRheXNJbkZpcnN0V2VlaygpfXN0YXRpYyBnZXRXZWVrZW5kV2Vla2RheXMoe2xvY2FsZTplPW51bGwsbG9jT2JqOnQ9bnVsbH09e30pe3JldHVybih0fHx0ZS5jcmVhdGUoZSkpLmdldFdlZWtlbmREYXlzKCkuc2xpY2UoKX1zdGF0aWMgbW9udGhzKGU9ImxvbmciLHtsb2NhbGU6dD1udWxsLG51bWJlcmluZ1N5c3RlbTpzPW51bGwsbG9jT2JqOmk9bnVsbCxvdXRwdXRDYWxlbmRhcjpyPSJncmVnb3J5In09e30pe3JldHVybihpfHx0ZS5jcmVhdGUodCxzLHIpKS5tb250aHMoZSl9c3RhdGljIG1vbnRoc0Zvcm1hdChlPSJsb25nIix7bG9jYWxlOnQ9bnVsbCxudW1iZXJpbmdTeXN0ZW06cz1udWxsLGxvY09iajppPW51bGwsb3V0cHV0Q2FsZW5kYXI6cj0iZ3JlZ29yeSJ9PXt9KXtyZXR1cm4oaXx8dGUuY3JlYXRlKHQscyxyKSkubW9udGhzKGUsITApfXN0YXRpYyB3ZWVrZGF5cyhlPSJsb25nIix7bG9jYWxlOnQ9bnVsbCxudW1iZXJpbmdTeXN0ZW06cz1udWxsLGxvY09iajppPW51bGx9PXt9KXtyZXR1cm4oaXx8dGUuY3JlYXRlKHQscyxudWxsKSkud2Vla2RheXMoZSl9c3RhdGljIHdlZWtkYXlzRm9ybWF0KGU9ImxvbmciLHtsb2NhbGU6dD1udWxsLG51bWJlcmluZ1N5c3RlbTpzPW51bGwsbG9jT2JqOmk9bnVsbH09e30pe3JldHVybihpfHx0ZS5jcmVhdGUodCxzLG51bGwpKS53ZWVrZGF5cyhlLCEwKX1zdGF0aWMgbWVyaWRpZW1zKHtsb2NhbGU6ZT1udWxsfT17fSl7cmV0dXJuIHRlLmNyZWF0ZShlKS5tZXJpZGllbXMoKX1zdGF0aWMgZXJhcyhlPSJzaG9ydCIse2xvY2FsZTp0PW51bGx9PXt9KXtyZXR1cm4gdGUuY3JlYXRlKHQsbnVsbCwiZ3JlZ29yeSIpLmVyYXMoZSl9c3RhdGljIGZlYXR1cmVzKCl7cmV0dXJue3JlbGF0aXZlOnlsKCksbG9jYWxlV2VlazpwbCgpfX19ZnVuY3Rpb24gUGwobixlKXtjb25zdCB0PWk9PmkudG9VVEMoMCx7a2VlcExvY2FsVGltZTohMH0pLnN0YXJ0T2YoImRheSIpLnZhbHVlT2YoKSxzPXQoZSktdChuKTtyZXR1cm4gTWF0aC5mbG9vcihMZS5mcm9tTWlsbGlzKHMpLmFzKCJkYXlzIikpfWZ1bmN0aW9uIG9kKG4sZSx0KXtjb25zdCBzPVtbInllYXJzIiwobCx1KT0+dS55ZWFyLWwueWVhcl0sWyJxdWFydGVycyIsKGwsdSk9PnUucXVhcnRlci1sLnF1YXJ0ZXIrKHUueWVhci1sLnllYXIpKjRdLFsibW9udGhzIiwobCx1KT0+dS5tb250aC1sLm1vbnRoKyh1LnllYXItbC55ZWFyKSoxMl0sWyJ3ZWVrcyIsKGwsdSk9Pntjb25zdCBoPVBsKGwsdSk7cmV0dXJuKGgtaCU3KS83fV0sWyJkYXlzIixQbF1dLGk9e30scj1uO2xldCBvLGE7Zm9yKGNvbnN0W2wsdV1vZiBzKXQuaW5kZXhPZihsKT49MCYmKG89bCxpW2xdPXUobixlKSxhPXIucGx1cyhpKSxhPmU/KGlbbF0tLSxuPXIucGx1cyhpKSxuPmUmJihhPW4saVtsXS0tLG49ci5wbHVzKGkpKSk6bj1hKTtyZXR1cm5bbixpLGEsb119ZnVuY3Rpb24gYWQobixlLHQscyl7bGV0W2kscixvLGFdPW9kKG4sZSx0KTtjb25zdCBsPWUtaSx1PXQuZmlsdGVyKGM9PlsiaG91cnMiLCJtaW51dGVzIiwic2Vjb25kcyIsIm1pbGxpc2Vjb25kcyJdLmluZGV4T2YoYyk+PTApO3UubGVuZ3RoPT09MCYmKG88ZSYmKG89aS5wbHVzKHtbYV06MX0pKSxvIT09aSYmKHJbYV09KHJbYV18fDApK2wvKG8taSkpKTtjb25zdCBoPUxlLmZyb21PYmplY3QocixzKTtyZXR1cm4gdS5sZW5ndGg+MD9MZS5mcm9tTWlsbGlzKGwscykuc2hpZnRUbyguLi51KS5wbHVzKGgpOmh9Y29uc3QgbGQ9Im1pc3NpbmcgSW50bC5EYXRlVGltZUZvcm1hdC5mb3JtYXRUb1BhcnRzIHN1cHBvcnQiO2Z1bmN0aW9uIFEobixlPXQ9PnQpe3JldHVybntyZWdleDpuLGRlc2VyOihbdF0pPT5lKEdoKHQpKX19Y29uc3QgJGw9IlsgwqBdIixCbD1uZXcgUmVnRXhwKCRsLCJnIik7ZnVuY3Rpb24gdWQobil7cmV0dXJuIG4ucmVwbGFjZSgvXC4vZywiXFwuPyIpLnJlcGxhY2UoQmwsJGwpfWZ1bmN0aW9uIFdsKG4pe3JldHVybiBuLnJlcGxhY2UoL1wuL2csIiIpLnJlcGxhY2UoQmwsIiAiKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGd0KG4sZSl7cmV0dXJuIG49PT1udWxsP251bGw6e3JlZ2V4OlJlZ0V4cChuLm1hcCh1ZCkuam9pbigifCIpKSxkZXNlcjooW3RdKT0+bi5maW5kSW5kZXgocz0+V2wodCk9PT1XbChzKSkrZX19ZnVuY3Rpb24gSGwobixlKXtyZXR1cm57cmVnZXg6bixkZXNlcjooWyx0LHNdKT0+X2kodCxzKSxncm91cHM6ZX19ZnVuY3Rpb24gQ2kobil7cmV0dXJue3JlZ2V4Om4sZGVzZXI6KFtlXSk9PmV9fWZ1bmN0aW9uIGNkKG4pe3JldHVybiBuLnJlcGxhY2UoL1tcLVxbXF17fSgpKis/LixcXFxeJHwjXHNdL2csIlxcJCYiKX1mdW5jdGlvbiBoZChuLGUpe2NvbnN0IHQ9eXQoZSkscz15dChlLCJ7Mn0iKSxpPXl0KGUsInszfSIpLHI9eXQoZSwiezR9Iiksbz15dChlLCJ7Nn0iKSxhPXl0KGUsInsxLDJ9IiksbD15dChlLCJ7MSwzfSIpLHU9eXQoZSwiezEsNn0iKSxoPXl0KGUsInsxLDl9IiksYz15dChlLCJ7Miw0fSIpLG09eXQoZSwiezQsNn0iKSxmPXk9Pih7cmVnZXg6UmVnRXhwKGNkKHkudmFsKSksZGVzZXI6KFt3XSk9PncsbGl0ZXJhbDohMH0pLGQ9KHk9PntpZihuLmxpdGVyYWwpcmV0dXJuIGYoeSk7c3dpdGNoKHkudmFsKXtjYXNlIkciOnJldHVybiBndChlLmVyYXMoInNob3J0IiksMCk7Y2FzZSJHRyI6cmV0dXJuIGd0KGUuZXJhcygibG9uZyIpLDApO2Nhc2UieSI6cmV0dXJuIFEodSk7Y2FzZSJ5eSI6cmV0dXJuIFEoYyxzbyk7Y2FzZSJ5eXl5IjpyZXR1cm4gUShyKTtjYXNlInl5eXl5IjpyZXR1cm4gUShtKTtjYXNlInl5eXl5eSI6cmV0dXJuIFEobyk7Y2FzZSJNIjpyZXR1cm4gUShhKTtjYXNlIk1NIjpyZXR1cm4gUShzKTtjYXNlIk1NTSI6cmV0dXJuIGd0KGUubW9udGhzKCJzaG9ydCIsITApLDEpO2Nhc2UiTU1NTSI6cmV0dXJuIGd0KGUubW9udGhzKCJsb25nIiwhMCksMSk7Y2FzZSJMIjpyZXR1cm4gUShhKTtjYXNlIkxMIjpyZXR1cm4gUShzKTtjYXNlIkxMTCI6cmV0dXJuIGd0KGUubW9udGhzKCJzaG9ydCIsITEpLDEpO2Nhc2UiTExMTCI6cmV0dXJuIGd0KGUubW9udGhzKCJsb25nIiwhMSksMSk7Y2FzZSJkIjpyZXR1cm4gUShhKTtjYXNlImRkIjpyZXR1cm4gUShzKTtjYXNlIm8iOnJldHVybiBRKGwpO2Nhc2Uib29vIjpyZXR1cm4gUShpKTtjYXNlIkhIIjpyZXR1cm4gUShzKTtjYXNlIkgiOnJldHVybiBRKGEpO2Nhc2UiaGgiOnJldHVybiBRKHMpO2Nhc2UiaCI6cmV0dXJuIFEoYSk7Y2FzZSJtbSI6cmV0dXJuIFEocyk7Y2FzZSJtIjpyZXR1cm4gUShhKTtjYXNlInEiOnJldHVybiBRKGEpO2Nhc2UicXEiOnJldHVybiBRKHMpO2Nhc2UicyI6cmV0dXJuIFEoYSk7Y2FzZSJzcyI6cmV0dXJuIFEocyk7Y2FzZSJTIjpyZXR1cm4gUShsKTtjYXNlIlNTUyI6cmV0dXJuIFEoaSk7Y2FzZSJ1IjpyZXR1cm4gQ2koaCk7Y2FzZSJ1dSI6cmV0dXJuIENpKGEpO2Nhc2UidXV1IjpyZXR1cm4gUSh0KTtjYXNlImEiOnJldHVybiBndChlLm1lcmlkaWVtcygpLDApO2Nhc2Uia2trayI6cmV0dXJuIFEocik7Y2FzZSJrayI6cmV0dXJuIFEoYyxzbyk7Y2FzZSJXIjpyZXR1cm4gUShhKTtjYXNlIldXIjpyZXR1cm4gUShzKTtjYXNlIkUiOmNhc2UiYyI6cmV0dXJuIFEodCk7Y2FzZSJFRUUiOnJldHVybiBndChlLndlZWtkYXlzKCJzaG9ydCIsITEpLDEpO2Nhc2UiRUVFRSI6cmV0dXJuIGd0KGUud2Vla2RheXMoImxvbmciLCExKSwxKTtjYXNlImNjYyI6cmV0dXJuIGd0KGUud2Vla2RheXMoInNob3J0IiwhMCksMSk7Y2FzZSJjY2NjIjpyZXR1cm4gZ3QoZS53ZWVrZGF5cygibG9uZyIsITApLDEpO2Nhc2UiWiI6Y2FzZSJaWiI6cmV0dXJuIEhsKG5ldyBSZWdFeHAoYChbKy1dJHthLnNvdXJjZX0pKD86Oigke3Muc291cmNlfSkpP2ApLDIpO2Nhc2UiWlpaIjpyZXR1cm4gSGwobmV3IFJlZ0V4cChgKFsrLV0ke2Euc291cmNlfSkoJHtzLnNvdXJjZX0pP2ApLDIpO2Nhc2UieiI6cmV0dXJuIENpKC9bYS16XystL117MSwyNTZ9Py9pKTtjYXNlIiAiOnJldHVybiBDaSgvW15cU1xuXHJdLyk7ZGVmYXVsdDpyZXR1cm4gZih5KX19KShuKXx8e2ludmFsaWRSZWFzb246bGR9O3JldHVybiBkLnRva2VuPW4sZH1jb25zdCBmZD17eWVhcjp7IjItZGlnaXQiOiJ5eSIsbnVtZXJpYzoieXl5eXkifSxtb250aDp7bnVtZXJpYzoiTSIsIjItZGlnaXQiOiJNTSIsc2hvcnQ6Ik1NTSIsbG9uZzoiTU1NTSJ9LGRheTp7bnVtZXJpYzoiZCIsIjItZGlnaXQiOiJkZCJ9LHdlZWtkYXk6e3Nob3J0OiJFRUUiLGxvbmc6IkVFRUUifSxkYXlwZXJpb2Q6ImEiLGRheVBlcmlvZDoiYSIsaG91cjEyOntudW1lcmljOiJoIiwiMi1kaWdpdCI6ImhoIn0saG91cjI0OntudW1lcmljOiJIIiwiMi1kaWdpdCI6IkhIIn0sbWludXRlOntudW1lcmljOiJtIiwiMi1kaWdpdCI6Im1tIn0sc2Vjb25kOntudW1lcmljOiJzIiwiMi1kaWdpdCI6InNzIn0sdGltZVpvbmVOYW1lOntsb25nOiJaWlpaWiIsc2hvcnQ6IlpaWiJ9fTtmdW5jdGlvbiBkZChuLGUsdCl7Y29uc3R7dHlwZTpzLHZhbHVlOml9PW47aWYocz09PSJsaXRlcmFsIil7Y29uc3QgbD0vXlxzKyQvLnRlc3QoaSk7cmV0dXJue2xpdGVyYWw6IWwsdmFsOmw/IiAiOml9fWNvbnN0IHI9ZVtzXTtsZXQgbz1zO3M9PT0iaG91ciImJihlLmhvdXIxMiE9bnVsbD9vPWUuaG91cjEyPyJob3VyMTIiOiJob3VyMjQiOmUuaG91ckN5Y2xlIT1udWxsP2UuaG91ckN5Y2xlPT09ImgxMSJ8fGUuaG91ckN5Y2xlPT09ImgxMiI/bz0iaG91cjEyIjpvPSJob3VyMjQiOm89dC5ob3VyMTI/ImhvdXIxMiI6ImhvdXIyNCIpO2xldCBhPWZkW29dO2lmKHR5cGVvZiBhPT0ib2JqZWN0IiYmKGE9YVtyXSksYSlyZXR1cm57bGl0ZXJhbDohMSx2YWw6YX19ZnVuY3Rpb24gbWQobil7cmV0dXJuW2BeJHtuLm1hcCh0PT50LnJlZ2V4KS5yZWR1Y2UoKHQscyk9PmAke3R9KCR7cy5zb3VyY2V9KWAsIiIpfSRgLG5dfWZ1bmN0aW9uIHlkKG4sZSx0KXtjb25zdCBzPW4ubWF0Y2goZSk7aWYocyl7Y29uc3QgaT17fTtsZXQgcj0xO2Zvcihjb25zdCBvIGluIHQpaWYoSHModCxvKSl7Y29uc3QgYT10W29dLGw9YS5ncm91cHM/YS5ncm91cHMrMToxOyFhLmxpdGVyYWwmJmEudG9rZW4mJihpW2EudG9rZW4udmFsWzBdXT1hLmRlc2VyKHMuc2xpY2UocixyK2wpKSkscis9bH1yZXR1cm5bcyxpXX1lbHNlIHJldHVybltzLHt9XX1mdW5jdGlvbiBwZChuKXtjb25zdCBlPXI9Pntzd2l0Y2gocil7Y2FzZSJTIjpyZXR1cm4ibWlsbGlzZWNvbmQiO2Nhc2UicyI6cmV0dXJuInNlY29uZCI7Y2FzZSJtIjpyZXR1cm4ibWludXRlIjtjYXNlImgiOmNhc2UiSCI6cmV0dXJuImhvdXIiO2Nhc2UiZCI6cmV0dXJuImRheSI7Y2FzZSJvIjpyZXR1cm4ib3JkaW5hbCI7Y2FzZSJMIjpjYXNlIk0iOnJldHVybiJtb250aCI7Y2FzZSJ5IjpyZXR1cm4ieWVhciI7Y2FzZSJFIjpjYXNlImMiOnJldHVybiJ3ZWVrZGF5IjtjYXNlIlciOnJldHVybiJ3ZWVrTnVtYmVyIjtjYXNlImsiOnJldHVybiJ3ZWVrWWVhciI7Y2FzZSJxIjpyZXR1cm4icXVhcnRlciI7ZGVmYXVsdDpyZXR1cm4gbnVsbH19O2xldCB0PW51bGwscztyZXR1cm4gUChuLnopfHwodD0kdC5jcmVhdGUobi56KSksUChuLlopfHwodHx8KHQ9bmV3ICRlKG4uWikpLHM9bi5aKSxQKG4ucSl8fChuLk09KG4ucS0xKSozKzEpLFAobi5oKXx8KG4uaDwxMiYmbi5hPT09MT9uLmgrPTEyOm4uaD09PTEyJiZuLmE9PT0wJiYobi5oPTApKSxuLkc9PT0wJiZuLnkmJihuLnk9LW4ueSksUChuLnUpfHwobi5TPWVvKG4udSkpLFtPYmplY3Qua2V5cyhuKS5yZWR1Y2UoKHIsbyk9Pntjb25zdCBhPWUobyk7cmV0dXJuIGEmJihyW2FdPW5bb10pLHJ9LHt9KSx0LHNdfWxldCBvbz1udWxsO2Z1bmN0aW9uIGdkKCl7cmV0dXJuIG9vfHwob289TS5mcm9tTWlsbGlzKDE1NTU1NTU1NTU1NTUpKSxvb31mdW5jdGlvbiB3ZChuLGUpe2lmKG4ubGl0ZXJhbClyZXR1cm4gbjtjb25zdCB0PXhlLm1hY3JvVG9rZW5Ub0Zvcm1hdE9wdHMobi52YWwpLHM9S2wodCxlKTtyZXR1cm4gcz09bnVsbHx8cy5pbmNsdWRlcyh2b2lkIDApP246c31mdW5jdGlvbiBWbChuLGUpe3JldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0KC4uLm4ubWFwKHQ9PndkKHQsZSkpKX1jbGFzcyBqbHtjb25zdHJ1Y3RvcihlLHQpe2lmKHRoaXMubG9jYWxlPWUsdGhpcy5mb3JtYXQ9dCx0aGlzLnRva2Vucz1WbCh4ZS5wYXJzZUZvcm1hdCh0KSxlKSx0aGlzLnVuaXRzPXRoaXMudG9rZW5zLm1hcChzPT5oZChzLGUpKSx0aGlzLmRpc3F1YWxpZnlpbmdVbml0PXRoaXMudW5pdHMuZmluZChzPT5zLmludmFsaWRSZWFzb24pLCF0aGlzLmRpc3F1YWxpZnlpbmdVbml0KXtjb25zdFtzLGldPW1kKHRoaXMudW5pdHMpO3RoaXMucmVnZXg9UmVnRXhwKHMsImkiKSx0aGlzLmhhbmRsZXJzPWl9fWV4cGxhaW5Gcm9tVG9rZW5zKGUpe2lmKHRoaXMuaXNWYWxpZCl7Y29uc3RbdCxzXT15ZChlLHRoaXMucmVnZXgsdGhpcy5oYW5kbGVycyksW2kscixvXT1zP3BkKHMpOltudWxsLG51bGwsdm9pZCAwXTtpZihIcyhzLCJhIikmJkhzKHMsIkgiKSl0aHJvdyBuZXcgWnQoIkNhbid0IGluY2x1ZGUgbWVyaWRpZW0gd2hlbiBzcGVjaWZ5aW5nIDI0LWhvdXIgZm9ybWF0Iik7cmV0dXJue2lucHV0OmUsdG9rZW5zOnRoaXMudG9rZW5zLHJlZ2V4OnRoaXMucmVnZXgscmF3TWF0Y2hlczp0LG1hdGNoZXM6cyxyZXN1bHQ6aSx6b25lOnIsc3BlY2lmaWNPZmZzZXQ6b319ZWxzZSByZXR1cm57aW5wdXQ6ZSx0b2tlbnM6dGhpcy50b2tlbnMsaW52YWxpZFJlYXNvbjp0aGlzLmludmFsaWRSZWFzb259fWdldCBpc1ZhbGlkKCl7cmV0dXJuIXRoaXMuZGlzcXVhbGlmeWluZ1VuaXR9Z2V0IGludmFsaWRSZWFzb24oKXtyZXR1cm4gdGhpcy5kaXNxdWFsaWZ5aW5nVW5pdD90aGlzLmRpc3F1YWxpZnlpbmdVbml0LmludmFsaWRSZWFzb246bnVsbH19ZnVuY3Rpb24gcWwobixlLHQpe3JldHVybiBuZXcgamwobix0KS5leHBsYWluRnJvbVRva2VucyhlKX1mdW5jdGlvbiBiZChuLGUsdCl7Y29uc3R7cmVzdWx0OnMsem9uZTppLHNwZWNpZmljT2Zmc2V0OnIsaW52YWxpZFJlYXNvbjpvfT1xbChuLGUsdCk7cmV0dXJuW3MsaSxyLG9dfWZ1bmN0aW9uIEtsKG4sZSl7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3Qgcz14ZS5jcmVhdGUoZSxuKS5kdEZvcm1hdHRlcihnZCgpKSxpPXMuZm9ybWF0VG9QYXJ0cygpLHI9cy5yZXNvbHZlZE9wdGlvbnMoKTtyZXR1cm4gaS5tYXAobz0+ZGQobyxuLHIpKX1jb25zdCBhbz0iSW52YWxpZCBEYXRlVGltZSIsWmw9ODY0ZTEzO2Z1bmN0aW9uIEJuKG4pe3JldHVybiBuZXcgcHQoInVuc3VwcG9ydGVkIHpvbmUiLGB0aGUgem9uZSAiJHtuLm5hbWV9IiBpcyBub3Qgc3VwcG9ydGVkYCl9ZnVuY3Rpb24gbG8obil7cmV0dXJuIG4ud2Vla0RhdGE9PT1udWxsJiYobi53ZWVrRGF0YT1PaShuLmMpKSxuLndlZWtEYXRhfWZ1bmN0aW9uIHVvKG4pe3JldHVybiBuLmxvY2FsV2Vla0RhdGE9PT1udWxsJiYobi5sb2NhbFdlZWtEYXRhPU9pKG4uYyxuLmxvYy5nZXRNaW5EYXlzSW5GaXJzdFdlZWsoKSxuLmxvYy5nZXRTdGFydE9mV2VlaygpKSksbi5sb2NhbFdlZWtEYXRhfWZ1bmN0aW9uIFNzKG4sZSl7Y29uc3QgdD17dHM6bi50cyx6b25lOm4uem9uZSxjOm4uYyxvOm4ubyxsb2M6bi5sb2MsaW52YWxpZDpuLmludmFsaWR9O3JldHVybiBuZXcgTSh7Li4udCwuLi5lLG9sZDp0fSl9ZnVuY3Rpb24gR2wobixlLHQpe2xldCBzPW4tZSo2MCoxZTM7Y29uc3QgaT10Lm9mZnNldChzKTtpZihlPT09aSlyZXR1cm5bcyxlXTtzLT0oaS1lKSo2MCoxZTM7Y29uc3Qgcj10Lm9mZnNldChzKTtyZXR1cm4gaT09PXI/W3MsaV06W24tTWF0aC5taW4oaSxyKSo2MCoxZTMsTWF0aC5tYXgoaSxyKV19ZnVuY3Rpb24geGkobixlKXtuKz1lKjYwKjFlMztjb25zdCB0PW5ldyBEYXRlKG4pO3JldHVybnt5ZWFyOnQuZ2V0VVRDRnVsbFllYXIoKSxtb250aDp0LmdldFVUQ01vbnRoKCkrMSxkYXk6dC5nZXRVVENEYXRlKCksaG91cjp0LmdldFVUQ0hvdXJzKCksbWludXRlOnQuZ2V0VVRDTWludXRlcygpLHNlY29uZDp0LmdldFVUQ1NlY29uZHMoKSxtaWxsaXNlY29uZDp0LmdldFVUQ01pbGxpc2Vjb25kcygpfX1mdW5jdGlvbiBMaShuLGUsdCl7cmV0dXJuIEdsKE1pKG4pLGUsdCl9ZnVuY3Rpb24gSmwobixlKXtjb25zdCB0PW4ubyxzPW4uYy55ZWFyK01hdGgudHJ1bmMoZS55ZWFycyksaT1uLmMubW9udGgrTWF0aC50cnVuYyhlLm1vbnRocykrTWF0aC50cnVuYyhlLnF1YXJ0ZXJzKSozLHI9ey4uLm4uYyx5ZWFyOnMsbW9udGg6aSxkYXk6TWF0aC5taW4obi5jLmRheSxEaShzLGkpKStNYXRoLnRydW5jKGUuZGF5cykrTWF0aC50cnVuYyhlLndlZWtzKSo3fSxvPUxlLmZyb21PYmplY3Qoe3llYXJzOmUueWVhcnMtTWF0aC50cnVuYyhlLnllYXJzKSxxdWFydGVyczplLnF1YXJ0ZXJzLU1hdGgudHJ1bmMoZS5xdWFydGVycyksbW9udGhzOmUubW9udGhzLU1hdGgudHJ1bmMoZS5tb250aHMpLHdlZWtzOmUud2Vla3MtTWF0aC50cnVuYyhlLndlZWtzKSxkYXlzOmUuZGF5cy1NYXRoLnRydW5jKGUuZGF5cyksaG91cnM6ZS5ob3VycyxtaW51dGVzOmUubWludXRlcyxzZWNvbmRzOmUuc2Vjb25kcyxtaWxsaXNlY29uZHM6ZS5taWxsaXNlY29uZHN9KS5hcygibWlsbGlzZWNvbmRzIiksYT1NaShyKTtsZXRbbCx1XT1HbChhLHQsbi56b25lKTtyZXR1cm4gbyE9PTAmJihsKz1vLHU9bi56b25lLm9mZnNldChsKSkse3RzOmwsbzp1fX1mdW5jdGlvbiBRcyhuLGUsdCxzLGkscil7Y29uc3R7c2V0Wm9uZTpvLHpvbmU6YX09dDtpZihuJiZPYmplY3Qua2V5cyhuKS5sZW5ndGghPT0wfHxlKXtjb25zdCBsPWV8fGEsdT1NLmZyb21PYmplY3Qobix7Li4udCx6b25lOmwsc3BlY2lmaWNPZmZzZXQ6cn0pO3JldHVybiBvP3U6dS5zZXRab25lKGEpfWVsc2UgcmV0dXJuIE0uaW52YWxpZChuZXcgcHQoInVucGFyc2FibGUiLGB0aGUgaW5wdXQgIiR7aX0iIGNhbid0IGJlIHBhcnNlZCBhcyAke3N9YCkpfWZ1bmN0aW9uIFlpKG4sZSx0PSEwKXtyZXR1cm4gbi5pc1ZhbGlkP3hlLmNyZWF0ZSh0ZS5jcmVhdGUoImVuLVVTIikse2FsbG93Wjp0LGZvcmNlU2ltcGxlOiEwfSkuZm9ybWF0RGF0ZVRpbWVGcm9tU3RyaW5nKG4sZSk6bnVsbH1mdW5jdGlvbiBjbyhuLGUpe2NvbnN0IHQ9bi5jLnllYXI+OTk5OXx8bi5jLnllYXI8MDtsZXQgcz0iIjtyZXR1cm4gdCYmbi5jLnllYXI+PTAmJihzKz0iKyIpLHMrPVRlKG4uYy55ZWFyLHQ/Njo0KSxlPyhzKz0iLSIscys9VGUobi5jLm1vbnRoKSxzKz0iLSIscys9VGUobi5jLmRheSkpOihzKz1UZShuLmMubW9udGgpLHMrPVRlKG4uYy5kYXkpKSxzfWZ1bmN0aW9uIFhsKG4sZSx0LHMsaSxyKXtsZXQgbz1UZShuLmMuaG91cik7cmV0dXJuIGU/KG8rPSI6IixvKz1UZShuLmMubWludXRlKSwobi5jLm1pbGxpc2Vjb25kIT09MHx8bi5jLnNlY29uZCE9PTB8fCF0KSYmKG8rPSI6IikpOm8rPVRlKG4uYy5taW51dGUpLChuLmMubWlsbGlzZWNvbmQhPT0wfHxuLmMuc2Vjb25kIT09MHx8IXQpJiYobys9VGUobi5jLnNlY29uZCksKG4uYy5taWxsaXNlY29uZCE9PTB8fCFzKSYmKG8rPSIuIixvKz1UZShuLmMubWlsbGlzZWNvbmQsMykpKSxpJiYobi5pc09mZnNldEZpeGVkJiZuLm9mZnNldD09PTAmJiFyP28rPSJaIjpuLm88MD8obys9Ii0iLG8rPVRlKE1hdGgudHJ1bmMoLW4uby82MCkpLG8rPSI6IixvKz1UZShNYXRoLnRydW5jKC1uLm8lNjApKSk6KG8rPSIrIixvKz1UZShNYXRoLnRydW5jKG4uby82MCkpLG8rPSI6IixvKz1UZShNYXRoLnRydW5jKG4ubyU2MCkpKSksciYmKG8rPSJbIituLnpvbmUuaWFuYU5hbWUrIl0iKSxvfWNvbnN0IFFsPXttb250aDoxLGRheToxLGhvdXI6MCxtaW51dGU6MCxzZWNvbmQ6MCxtaWxsaXNlY29uZDowfSxUZD17d2Vla051bWJlcjoxLHdlZWtkYXk6MSxob3VyOjAsbWludXRlOjAsc2Vjb25kOjAsbWlsbGlzZWNvbmQ6MH0sa2Q9e29yZGluYWw6MSxob3VyOjAsbWludXRlOjAsc2Vjb25kOjAsbWlsbGlzZWNvbmQ6MH0sZXU9WyJ5ZWFyIiwibW9udGgiLCJkYXkiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwibWlsbGlzZWNvbmQiXSxFZD1bIndlZWtZZWFyIiwid2Vla051bWJlciIsIndlZWtkYXkiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwibWlsbGlzZWNvbmQiXSxTZD1bInllYXIiLCJvcmRpbmFsIiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsIm1pbGxpc2Vjb25kIl07ZnVuY3Rpb24gT2Qobil7Y29uc3QgZT17eWVhcjoieWVhciIseWVhcnM6InllYXIiLG1vbnRoOiJtb250aCIsbW9udGhzOiJtb250aCIsZGF5OiJkYXkiLGRheXM6ImRheSIsaG91cjoiaG91ciIsaG91cnM6ImhvdXIiLG1pbnV0ZToibWludXRlIixtaW51dGVzOiJtaW51dGUiLHF1YXJ0ZXI6InF1YXJ0ZXIiLHF1YXJ0ZXJzOiJxdWFydGVyIixzZWNvbmQ6InNlY29uZCIsc2Vjb25kczoic2Vjb25kIixtaWxsaXNlY29uZDoibWlsbGlzZWNvbmQiLG1pbGxpc2Vjb25kczoibWlsbGlzZWNvbmQiLHdlZWtkYXk6IndlZWtkYXkiLHdlZWtkYXlzOiJ3ZWVrZGF5Iix3ZWVrbnVtYmVyOiJ3ZWVrTnVtYmVyIix3ZWVrc251bWJlcjoid2Vla051bWJlciIsd2Vla251bWJlcnM6IndlZWtOdW1iZXIiLHdlZWt5ZWFyOiJ3ZWVrWWVhciIsd2Vla3llYXJzOiJ3ZWVrWWVhciIsb3JkaW5hbDoib3JkaW5hbCJ9W24udG9Mb3dlckNhc2UoKV07aWYoIWUpdGhyb3cgbmV3IF9hKG4pO3JldHVybiBlfWZ1bmN0aW9uIHR1KG4pe3N3aXRjaChuLnRvTG93ZXJDYXNlKCkpe2Nhc2UibG9jYWx3ZWVrZGF5IjpjYXNlImxvY2Fsd2Vla2RheXMiOnJldHVybiJsb2NhbFdlZWtkYXkiO2Nhc2UibG9jYWx3ZWVrbnVtYmVyIjpjYXNlImxvY2Fsd2Vla251bWJlcnMiOnJldHVybiJsb2NhbFdlZWtOdW1iZXIiO2Nhc2UibG9jYWx3ZWVreWVhciI6Y2FzZSJsb2NhbHdlZWt5ZWFycyI6cmV0dXJuImxvY2FsV2Vla1llYXIiO2RlZmF1bHQ6cmV0dXJuIE9kKG4pfX1mdW5jdGlvbiBJZChuKXtpZihXbj09PXZvaWQgMCYmKFduPWRlLm5vdygpKSxuLnR5cGUhPT0iaWFuYSIpcmV0dXJuIG4ub2Zmc2V0KFduKTtjb25zdCBlPW4ubmFtZTtsZXQgdD1oby5nZXQoZSk7cmV0dXJuIHQ9PT12b2lkIDAmJih0PW4ub2Zmc2V0KFduKSxoby5zZXQoZSx0KSksdH1mdW5jdGlvbiBzdShuLGUpe2NvbnN0IHQ9SnQoZS56b25lLGRlLmRlZmF1bHRab25lKTtpZighdC5pc1ZhbGlkKXJldHVybiBNLmludmFsaWQoQm4odCkpO2NvbnN0IHM9dGUuZnJvbU9iamVjdChlKTtsZXQgaSxyO2lmKFAobi55ZWFyKSlpPWRlLm5vdygpO2Vsc2V7Zm9yKGNvbnN0IGwgb2YgZXUpUChuW2xdKSYmKG5bbF09UWxbbF0pO2NvbnN0IG89ZGwobil8fG1sKG4pO2lmKG8pcmV0dXJuIE0uaW52YWxpZChvKTtjb25zdCBhPUlkKHQpO1tpLHJdPUxpKG4sYSx0KX1yZXR1cm4gbmV3IE0oe3RzOmksem9uZTp0LGxvYzpzLG86cn0pfWZ1bmN0aW9uIG51KG4sZSx0KXtjb25zdCBzPVAodC5yb3VuZCk/ITA6dC5yb3VuZCxpPShvLGEpPT4obz10byhvLHN8fHQuY2FsZW5kYXJ5PzA6MiwhMCksZS5sb2MuY2xvbmUodCkucmVsRm9ybWF0dGVyKHQpLmZvcm1hdChvLGEpKSxyPW89PnQuY2FsZW5kYXJ5P2UuaGFzU2FtZShuLG8pPzA6ZS5zdGFydE9mKG8pLmRpZmYobi5zdGFydE9mKG8pLG8pLmdldChvKTplLmRpZmYobixvKS5nZXQobyk7aWYodC51bml0KXJldHVybiBpKHIodC51bml0KSx0LnVuaXQpO2Zvcihjb25zdCBvIG9mIHQudW5pdHMpe2NvbnN0IGE9cihvKTtpZihNYXRoLmFicyhhKT49MSlyZXR1cm4gaShhLG8pfXJldHVybiBpKG4+ZT8tMDowLHQudW5pdHNbdC51bml0cy5sZW5ndGgtMV0pfWZ1bmN0aW9uIGl1KG4pe2xldCBlPXt9LHQ7cmV0dXJuIG4ubGVuZ3RoPjAmJnR5cGVvZiBuW24ubGVuZ3RoLTFdPT0ib2JqZWN0Ij8oZT1uW24ubGVuZ3RoLTFdLHQ9QXJyYXkuZnJvbShuKS5zbGljZSgwLG4ubGVuZ3RoLTEpKTp0PUFycmF5LmZyb20obiksW2UsdF19bGV0IFduO2NvbnN0IGhvPW5ldyBNYXA7bGV0IE09Y2xhc3MgY2V7Y29uc3RydWN0b3IoZSl7Y29uc3QgdD1lLnpvbmV8fGRlLmRlZmF1bHRab25lO2xldCBzPWUuaW52YWxpZHx8KE51bWJlci5pc05hTihlLnRzKT9uZXcgcHQoImludmFsaWQgaW5wdXQiKTpudWxsKXx8KHQuaXNWYWxpZD9udWxsOkJuKHQpKTt0aGlzLnRzPVAoZS50cyk/ZGUubm93KCk6ZS50cztsZXQgaT1udWxsLHI9bnVsbDtpZighcylpZihlLm9sZCYmZS5vbGQudHM9PT10aGlzLnRzJiZlLm9sZC56b25lLmVxdWFscyh0KSlbaSxyXT1bZS5vbGQuYyxlLm9sZC5vXTtlbHNle2NvbnN0IGE9WHQoZS5vKSYmIWUub2xkP2Uubzp0Lm9mZnNldCh0aGlzLnRzKTtpPXhpKHRoaXMudHMsYSkscz1OdW1iZXIuaXNOYU4oaS55ZWFyKT9uZXcgcHQoImludmFsaWQgaW5wdXQiKTpudWxsLGk9cz9udWxsOmkscj1zP251bGw6YX10aGlzLl96b25lPXQsdGhpcy5sb2M9ZS5sb2N8fHRlLmNyZWF0ZSgpLHRoaXMuaW52YWxpZD1zLHRoaXMud2Vla0RhdGE9bnVsbCx0aGlzLmxvY2FsV2Vla0RhdGE9bnVsbCx0aGlzLmM9aSx0aGlzLm89cix0aGlzLmlzTHV4b25EYXRlVGltZT0hMH1zdGF0aWMgbm93KCl7cmV0dXJuIG5ldyBjZSh7fSl9c3RhdGljIGxvY2FsKCl7Y29uc3RbZSx0XT1pdShhcmd1bWVudHMpLFtzLGkscixvLGEsbCx1XT10O3JldHVybiBzdSh7eWVhcjpzLG1vbnRoOmksZGF5OnIsaG91cjpvLG1pbnV0ZTphLHNlY29uZDpsLG1pbGxpc2Vjb25kOnV9LGUpfXN0YXRpYyB1dGMoKXtjb25zdFtlLHRdPWl1KGFyZ3VtZW50cyksW3MsaSxyLG8sYSxsLHVdPXQ7cmV0dXJuIGUuem9uZT0kZS51dGNJbnN0YW5jZSxzdSh7eWVhcjpzLG1vbnRoOmksZGF5OnIsaG91cjpvLG1pbnV0ZTphLHNlY29uZDpsLG1pbGxpc2Vjb25kOnV9LGUpfXN0YXRpYyBmcm9tSlNEYXRlKGUsdD17fSl7Y29uc3Qgcz10ZihlKT9lLnZhbHVlT2YoKTpOYU47aWYoTnVtYmVyLmlzTmFOKHMpKXJldHVybiBjZS5pbnZhbGlkKCJpbnZhbGlkIGlucHV0Iik7Y29uc3QgaT1KdCh0LnpvbmUsZGUuZGVmYXVsdFpvbmUpO3JldHVybiBpLmlzVmFsaWQ/bmV3IGNlKHt0czpzLHpvbmU6aSxsb2M6dGUuZnJvbU9iamVjdCh0KX0pOmNlLmludmFsaWQoQm4oaSkpfXN0YXRpYyBmcm9tTWlsbGlzKGUsdD17fSl7aWYoWHQoZSkpcmV0dXJuIGU8LVpsfHxlPlpsP2NlLmludmFsaWQoIlRpbWVzdGFtcCBvdXQgb2YgcmFuZ2UiKTpuZXcgY2Uoe3RzOmUsem9uZTpKdCh0LnpvbmUsZGUuZGVmYXVsdFpvbmUpLGxvYzp0ZS5mcm9tT2JqZWN0KHQpfSk7dGhyb3cgbmV3IENlKGBmcm9tTWlsbGlzIHJlcXVpcmVzIGEgbnVtZXJpY2FsIGlucHV0LCBidXQgcmVjZWl2ZWQgYSAke3R5cGVvZiBlfSB3aXRoIHZhbHVlICR7ZX1gKX1zdGF0aWMgZnJvbVNlY29uZHMoZSx0PXt9KXtpZihYdChlKSlyZXR1cm4gbmV3IGNlKHt0czplKjFlMyx6b25lOkp0KHQuem9uZSxkZS5kZWZhdWx0Wm9uZSksbG9jOnRlLmZyb21PYmplY3QodCl9KTt0aHJvdyBuZXcgQ2UoImZyb21TZWNvbmRzIHJlcXVpcmVzIGEgbnVtZXJpY2FsIGlucHV0Iil9c3RhdGljIGZyb21PYmplY3QoZSx0PXt9KXtlPWV8fHt9O2NvbnN0IHM9SnQodC56b25lLGRlLmRlZmF1bHRab25lKTtpZighcy5pc1ZhbGlkKXJldHVybiBjZS5pbnZhbGlkKEJuKHMpKTtjb25zdCBpPXRlLmZyb21PYmplY3QodCkscj1OaShlLHR1KSx7bWluRGF5c0luRmlyc3RXZWVrOm8sc3RhcnRPZldlZWs6YX09ZmwocixpKSxsPWRlLm5vdygpLHU9UCh0LnNwZWNpZmljT2Zmc2V0KT9zLm9mZnNldChsKTp0LnNwZWNpZmljT2Zmc2V0LGg9IVAoci5vcmRpbmFsKSxjPSFQKHIueWVhciksbT0hUChyLm1vbnRoKXx8IVAoci5kYXkpLGY9Y3x8bSxnPXIud2Vla1llYXJ8fHIud2Vla051bWJlcjtpZigoZnx8aCkmJmcpdGhyb3cgbmV3IFp0KCJDYW4ndCBtaXggd2Vla1llYXIvd2Vla051bWJlciB1bml0cyB3aXRoIHllYXIvbW9udGgvZGF5IG9yIG9yZGluYWxzIik7aWYobSYmaCl0aHJvdyBuZXcgWnQoIkNhbid0IG1peCBvcmRpbmFsIGRhdGVzIHdpdGggbW9udGgvZGF5Iik7Y29uc3QgZD1nfHxyLndlZWtkYXkmJiFmO2xldCB5LHcsYj14aShsLHUpO2Q/KHk9RWQsdz1UZCxiPU9pKGIsbyxhKSk6aD8oeT1TZCx3PWtkLGI9WHIoYikpOih5PWV1LHc9UWwpO2xldCBrPSExO2Zvcihjb25zdCBSIG9mIHkpe2NvbnN0IFY9cltSXTtQKFYpP2s/cltSXT13W1JdOnJbUl09YltSXTprPSEwfWNvbnN0IFM9ZD9YaChyLG8sYSk6aD9RaChyKTpkbChyKSxPPVN8fG1sKHIpO2lmKE8pcmV0dXJuIGNlLmludmFsaWQoTyk7Y29uc3Qgdj1kP2NsKHIsbyxhKTpoP2hsKHIpOnIsW0gsX109TGkodix1LHMpLFk9bmV3IGNlKHt0czpILHpvbmU6cyxvOl8sbG9jOml9KTtyZXR1cm4gci53ZWVrZGF5JiZmJiZlLndlZWtkYXkhPT1ZLndlZWtkYXk/Y2UuaW52YWxpZCgibWlzbWF0Y2hlZCB3ZWVrZGF5IixgeW91IGNhbid0IHNwZWNpZnkgYm90aCBhIHdlZWtkYXkgb2YgJHtyLndlZWtkYXl9IGFuZCBhIGRhdGUgb2YgJHtZLnRvSVNPKCl9YCk6WS5pc1ZhbGlkP1k6Y2UuaW52YWxpZChZLmludmFsaWQpfXN0YXRpYyBmcm9tSVNPKGUsdD17fSl7Y29uc3RbcyxpXT1WZihlKTtyZXR1cm4gUXMocyxpLHQsIklTTyA4NjAxIixlKX1zdGF0aWMgZnJvbVJGQzI4MjIoZSx0PXt9KXtjb25zdFtzLGldPWpmKGUpO3JldHVybiBRcyhzLGksdCwiUkZDIDI4MjIiLGUpfXN0YXRpYyBmcm9tSFRUUChlLHQ9e30pe2NvbnN0W3MsaV09cWYoZSk7cmV0dXJuIFFzKHMsaSx0LCJIVFRQIix0KX1zdGF0aWMgZnJvbUZvcm1hdChlLHQscz17fSl7aWYoUChlKXx8UCh0KSl0aHJvdyBuZXcgQ2UoImZyb21Gb3JtYXQgcmVxdWlyZXMgYW4gaW5wdXQgc3RyaW5nIGFuZCBhIGZvcm1hdCIpO2NvbnN0e2xvY2FsZTppPW51bGwsbnVtYmVyaW5nU3lzdGVtOnI9bnVsbH09cyxvPXRlLmZyb21PcHRzKHtsb2NhbGU6aSxudW1iZXJpbmdTeXN0ZW06cixkZWZhdWx0VG9FTjohMH0pLFthLGwsdSxoXT1iZChvLGUsdCk7cmV0dXJuIGg/Y2UuaW52YWxpZChoKTpRcyhhLGwscyxgZm9ybWF0ICR7dH1gLGUsdSl9c3RhdGljIGZyb21TdHJpbmcoZSx0LHM9e30pe3JldHVybiBjZS5mcm9tRm9ybWF0KGUsdCxzKX1zdGF0aWMgZnJvbVNRTChlLHQ9e30pe2NvbnN0W3MsaV09ZWQoZSk7cmV0dXJuIFFzKHMsaSx0LCJTUUwiLGUpfXN0YXRpYyBpbnZhbGlkKGUsdD1udWxsKXtpZighZSl0aHJvdyBuZXcgQ2UoIm5lZWQgdG8gc3BlY2lmeSBhIHJlYXNvbiB0aGUgRGF0ZVRpbWUgaXMgaW52YWxpZCIpO2NvbnN0IHM9ZSBpbnN0YW5jZW9mIHB0P2U6bmV3IHB0KGUsdCk7aWYoZGUudGhyb3dPbkludmFsaWQpdGhyb3cgbmV3IG5lKHMpO3JldHVybiBuZXcgY2Uoe2ludmFsaWQ6c30pfXN0YXRpYyBpc0RhdGVUaW1lKGUpe3JldHVybiBlJiZlLmlzTHV4b25EYXRlVGltZXx8ITF9c3RhdGljIHBhcnNlRm9ybWF0Rm9yT3B0cyhlLHQ9e30pe2NvbnN0IHM9S2woZSx0ZS5mcm9tT2JqZWN0KHQpKTtyZXR1cm4gcz9zLm1hcChpPT5pP2kudmFsOm51bGwpLmpvaW4oIiIpOm51bGx9c3RhdGljIGV4cGFuZEZvcm1hdChlLHQ9e30pe3JldHVybiBWbCh4ZS5wYXJzZUZvcm1hdChlKSx0ZS5mcm9tT2JqZWN0KHQpKS5tYXAoaT0+aS52YWwpLmpvaW4oIiIpfXN0YXRpYyByZXNldENhY2hlKCl7V249dm9pZCAwLGhvLmNsZWFyKCl9Z2V0KGUpe3JldHVybiB0aGlzW2VdfWdldCBpc1ZhbGlkKCl7cmV0dXJuIHRoaXMuaW52YWxpZD09PW51bGx9Z2V0IGludmFsaWRSZWFzb24oKXtyZXR1cm4gdGhpcy5pbnZhbGlkP3RoaXMuaW52YWxpZC5yZWFzb246bnVsbH1nZXQgaW52YWxpZEV4cGxhbmF0aW9uKCl7cmV0dXJuIHRoaXMuaW52YWxpZD90aGlzLmludmFsaWQuZXhwbGFuYXRpb246bnVsbH1nZXQgbG9jYWxlKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLmxvYy5sb2NhbGU6bnVsbH1nZXQgbnVtYmVyaW5nU3lzdGVtKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLmxvYy5udW1iZXJpbmdTeXN0ZW06bnVsbH1nZXQgb3V0cHV0Q2FsZW5kYXIoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMubG9jLm91dHB1dENhbGVuZGFyOm51bGx9Z2V0IHpvbmUoKXtyZXR1cm4gdGhpcy5fem9uZX1nZXQgem9uZU5hbWUoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMuem9uZS5uYW1lOm51bGx9Z2V0IHllYXIoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMuYy55ZWFyOk5hTn1nZXQgcXVhcnRlcigpe3JldHVybiB0aGlzLmlzVmFsaWQ/TWF0aC5jZWlsKHRoaXMuYy5tb250aC8zKTpOYU59Z2V0IG1vbnRoKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLmMubW9udGg6TmFOfWdldCBkYXkoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMuYy5kYXk6TmFOfWdldCBob3VyKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLmMuaG91cjpOYU59Z2V0IG1pbnV0ZSgpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5jLm1pbnV0ZTpOYU59Z2V0IHNlY29uZCgpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy5jLnNlY29uZDpOYU59Z2V0IG1pbGxpc2Vjb25kKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD90aGlzLmMubWlsbGlzZWNvbmQ6TmFOfWdldCB3ZWVrWWVhcigpe3JldHVybiB0aGlzLmlzVmFsaWQ/bG8odGhpcykud2Vla1llYXI6TmFOfWdldCB3ZWVrTnVtYmVyKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD9sbyh0aGlzKS53ZWVrTnVtYmVyOk5hTn1nZXQgd2Vla2RheSgpe3JldHVybiB0aGlzLmlzVmFsaWQ/bG8odGhpcykud2Vla2RheTpOYU59Z2V0IGlzV2Vla2VuZCgpe3JldHVybiB0aGlzLmlzVmFsaWQmJnRoaXMubG9jLmdldFdlZWtlbmREYXlzKCkuaW5jbHVkZXModGhpcy53ZWVrZGF5KX1nZXQgbG9jYWxXZWVrZGF5KCl7cmV0dXJuIHRoaXMuaXNWYWxpZD91byh0aGlzKS53ZWVrZGF5Ok5hTn1nZXQgbG9jYWxXZWVrTnVtYmVyKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD91byh0aGlzKS53ZWVrTnVtYmVyOk5hTn1nZXQgbG9jYWxXZWVrWWVhcigpe3JldHVybiB0aGlzLmlzVmFsaWQ/dW8odGhpcykud2Vla1llYXI6TmFOfWdldCBvcmRpbmFsKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD9Ycih0aGlzLmMpLm9yZGluYWw6TmFOfWdldCBtb250aFNob3J0KCl7cmV0dXJuIHRoaXMuaXNWYWxpZD9BaS5tb250aHMoInNob3J0Iix7bG9jT2JqOnRoaXMubG9jfSlbdGhpcy5tb250aC0xXTpudWxsfWdldCBtb250aExvbmcoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP0FpLm1vbnRocygibG9uZyIse2xvY09iajp0aGlzLmxvY30pW3RoaXMubW9udGgtMV06bnVsbH1nZXQgd2Vla2RheVNob3J0KCl7cmV0dXJuIHRoaXMuaXNWYWxpZD9BaS53ZWVrZGF5cygic2hvcnQiLHtsb2NPYmo6dGhpcy5sb2N9KVt0aGlzLndlZWtkYXktMV06bnVsbH1nZXQgd2Vla2RheUxvbmcoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP0FpLndlZWtkYXlzKCJsb25nIix7bG9jT2JqOnRoaXMubG9jfSlbdGhpcy53ZWVrZGF5LTFdOm51bGx9Z2V0IG9mZnNldCgpe3JldHVybiB0aGlzLmlzVmFsaWQ/K3RoaXMubzpOYU59Z2V0IG9mZnNldE5hbWVTaG9ydCgpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy56b25lLm9mZnNldE5hbWUodGhpcy50cyx7Zm9ybWF0OiJzaG9ydCIsbG9jYWxlOnRoaXMubG9jYWxlfSk6bnVsbH1nZXQgb2Zmc2V0TmFtZUxvbmcoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMuem9uZS5vZmZzZXROYW1lKHRoaXMudHMse2Zvcm1hdDoibG9uZyIsbG9jYWxlOnRoaXMubG9jYWxlfSk6bnVsbH1nZXQgaXNPZmZzZXRGaXhlZCgpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy56b25lLmlzVW5pdmVyc2FsOm51bGx9Z2V0IGlzSW5EU1QoKXtyZXR1cm4gdGhpcy5pc09mZnNldEZpeGVkPyExOnRoaXMub2Zmc2V0PnRoaXMuc2V0KHttb250aDoxLGRheToxfSkub2Zmc2V0fHx0aGlzLm9mZnNldD50aGlzLnNldCh7bW9udGg6NX0pLm9mZnNldH1nZXRQb3NzaWJsZU9mZnNldHMoKXtpZighdGhpcy5pc1ZhbGlkfHx0aGlzLmlzT2Zmc2V0Rml4ZWQpcmV0dXJuW3RoaXNdO2NvbnN0IGU9ODY0ZTUsdD02ZTQscz1NaSh0aGlzLmMpLGk9dGhpcy56b25lLm9mZnNldChzLWUpLHI9dGhpcy56b25lLm9mZnNldChzK2UpLG89dGhpcy56b25lLm9mZnNldChzLWkqdCksYT10aGlzLnpvbmUub2Zmc2V0KHMtcip0KTtpZihvPT09YSlyZXR1cm5bdGhpc107Y29uc3QgbD1zLW8qdCx1PXMtYSp0LGg9eGkobCxvKSxjPXhpKHUsYSk7cmV0dXJuIGguaG91cj09PWMuaG91ciYmaC5taW51dGU9PT1jLm1pbnV0ZSYmaC5zZWNvbmQ9PT1jLnNlY29uZCYmaC5taWxsaXNlY29uZD09PWMubWlsbGlzZWNvbmQ/W1NzKHRoaXMse3RzOmx9KSxTcyh0aGlzLHt0czp1fSldOlt0aGlzXX1nZXQgaXNJbkxlYXBZZWFyKCl7cmV0dXJuIFVuKHRoaXMueWVhcil9Z2V0IGRheXNJbk1vbnRoKCl7cmV0dXJuIERpKHRoaXMueWVhcix0aGlzLm1vbnRoKX1nZXQgZGF5c0luWWVhcigpe3JldHVybiB0aGlzLmlzVmFsaWQ/VnModGhpcy55ZWFyKTpOYU59Z2V0IHdlZWtzSW5XZWVrWWVhcigpe3JldHVybiB0aGlzLmlzVmFsaWQ/Rm4odGhpcy53ZWVrWWVhcik6TmFOfWdldCB3ZWVrc0luTG9jYWxXZWVrWWVhcigpe3JldHVybiB0aGlzLmlzVmFsaWQ/Rm4odGhpcy5sb2NhbFdlZWtZZWFyLHRoaXMubG9jLmdldE1pbkRheXNJbkZpcnN0V2VlaygpLHRoaXMubG9jLmdldFN0YXJ0T2ZXZWVrKCkpOk5hTn1yZXNvbHZlZExvY2FsZU9wdGlvbnMoZT17fSl7Y29uc3R7bG9jYWxlOnQsbnVtYmVyaW5nU3lzdGVtOnMsY2FsZW5kYXI6aX09eGUuY3JlYXRlKHRoaXMubG9jLmNsb25lKGUpLGUpLnJlc29sdmVkT3B0aW9ucyh0aGlzKTtyZXR1cm57bG9jYWxlOnQsbnVtYmVyaW5nU3lzdGVtOnMsb3V0cHV0Q2FsZW5kYXI6aX19dG9VVEMoZT0wLHQ9e30pe3JldHVybiB0aGlzLnNldFpvbmUoJGUuaW5zdGFuY2UoZSksdCl9dG9Mb2NhbCgpe3JldHVybiB0aGlzLnNldFpvbmUoZGUuZGVmYXVsdFpvbmUpfXNldFpvbmUoZSx7a2VlcExvY2FsVGltZTp0PSExLGtlZXBDYWxlbmRhclRpbWU6cz0hMX09e30pe2lmKGU9SnQoZSxkZS5kZWZhdWx0Wm9uZSksZS5lcXVhbHModGhpcy56b25lKSlyZXR1cm4gdGhpcztpZihlLmlzVmFsaWQpe2xldCBpPXRoaXMudHM7aWYodHx8cyl7Y29uc3Qgcj1lLm9mZnNldCh0aGlzLnRzKSxvPXRoaXMudG9PYmplY3QoKTtbaV09TGkobyxyLGUpfXJldHVybiBTcyh0aGlzLHt0czppLHpvbmU6ZX0pfWVsc2UgcmV0dXJuIGNlLmludmFsaWQoQm4oZSkpfXJlY29uZmlndXJlKHtsb2NhbGU6ZSxudW1iZXJpbmdTeXN0ZW06dCxvdXRwdXRDYWxlbmRhcjpzfT17fSl7Y29uc3QgaT10aGlzLmxvYy5jbG9uZSh7bG9jYWxlOmUsbnVtYmVyaW5nU3lzdGVtOnQsb3V0cHV0Q2FsZW5kYXI6c30pO3JldHVybiBTcyh0aGlzLHtsb2M6aX0pfXNldExvY2FsZShlKXtyZXR1cm4gdGhpcy5yZWNvbmZpZ3VyZSh7bG9jYWxlOmV9KX1zZXQoZSl7aWYoIXRoaXMuaXNWYWxpZClyZXR1cm4gdGhpcztjb25zdCB0PU5pKGUsdHUpLHttaW5EYXlzSW5GaXJzdFdlZWs6cyxzdGFydE9mV2VlazppfT1mbCh0LHRoaXMubG9jKSxyPSFQKHQud2Vla1llYXIpfHwhUCh0LndlZWtOdW1iZXIpfHwhUCh0LndlZWtkYXkpLG89IVAodC5vcmRpbmFsKSxhPSFQKHQueWVhciksbD0hUCh0Lm1vbnRoKXx8IVAodC5kYXkpLHU9YXx8bCxoPXQud2Vla1llYXJ8fHQud2Vla051bWJlcjtpZigodXx8bykmJmgpdGhyb3cgbmV3IFp0KCJDYW4ndCBtaXggd2Vla1llYXIvd2Vla051bWJlciB1bml0cyB3aXRoIHllYXIvbW9udGgvZGF5IG9yIG9yZGluYWxzIik7aWYobCYmbyl0aHJvdyBuZXcgWnQoIkNhbid0IG1peCBvcmRpbmFsIGRhdGVzIHdpdGggbW9udGgvZGF5Iik7bGV0IGM7cj9jPWNsKHsuLi5PaSh0aGlzLmMscyxpKSwuLi50fSxzLGkpOlAodC5vcmRpbmFsKT8oYz17Li4udGhpcy50b09iamVjdCgpLC4uLnR9LFAodC5kYXkpJiYoYy5kYXk9TWF0aC5taW4oRGkoYy55ZWFyLGMubW9udGgpLGMuZGF5KSkpOmM9aGwoey4uLlhyKHRoaXMuYyksLi4udH0pO2NvbnN0W20sZl09TGkoYyx0aGlzLm8sdGhpcy56b25lKTtyZXR1cm4gU3ModGhpcyx7dHM6bSxvOmZ9KX1wbHVzKGUpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7Y29uc3QgdD1MZS5mcm9tRHVyYXRpb25MaWtlKGUpO3JldHVybiBTcyh0aGlzLEpsKHRoaXMsdCkpfW1pbnVzKGUpe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7Y29uc3QgdD1MZS5mcm9tRHVyYXRpb25MaWtlKGUpLm5lZ2F0ZSgpO3JldHVybiBTcyh0aGlzLEpsKHRoaXMsdCkpfXN0YXJ0T2YoZSx7dXNlTG9jYWxlV2Vla3M6dD0hMX09e30pe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIHRoaXM7Y29uc3Qgcz17fSxpPUxlLm5vcm1hbGl6ZVVuaXQoZSk7c3dpdGNoKGkpe2Nhc2UieWVhcnMiOnMubW9udGg9MTtjYXNlInF1YXJ0ZXJzIjpjYXNlIm1vbnRocyI6cy5kYXk9MTtjYXNlIndlZWtzIjpjYXNlImRheXMiOnMuaG91cj0wO2Nhc2UiaG91cnMiOnMubWludXRlPTA7Y2FzZSJtaW51dGVzIjpzLnNlY29uZD0wO2Nhc2Uic2Vjb25kcyI6cy5taWxsaXNlY29uZD0wO2JyZWFrfWlmKGk9PT0id2Vla3MiKWlmKHQpe2NvbnN0IHI9dGhpcy5sb2MuZ2V0U3RhcnRPZldlZWsoKSx7d2Vla2RheTpvfT10aGlzO288ciYmKHMud2Vla051bWJlcj10aGlzLndlZWtOdW1iZXItMSkscy53ZWVrZGF5PXJ9ZWxzZSBzLndlZWtkYXk9MTtpZihpPT09InF1YXJ0ZXJzIil7Y29uc3Qgcj1NYXRoLmNlaWwodGhpcy5tb250aC8zKTtzLm1vbnRoPShyLTEpKjMrMX1yZXR1cm4gdGhpcy5zZXQocyl9ZW5kT2YoZSx0KXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMucGx1cyh7W2VdOjF9KS5zdGFydE9mKGUsdCkubWludXMoMSk6dGhpc310b0Zvcm1hdChlLHQ9e30pe3JldHVybiB0aGlzLmlzVmFsaWQ/eGUuY3JlYXRlKHRoaXMubG9jLnJlZGVmYXVsdFRvRU4odCkpLmZvcm1hdERhdGVUaW1lRnJvbVN0cmluZyh0aGlzLGUpOmFvfXRvTG9jYWxlU3RyaW5nKGU9RWksdD17fSl7cmV0dXJuIHRoaXMuaXNWYWxpZD94ZS5jcmVhdGUodGhpcy5sb2MuY2xvbmUodCksZSkuZm9ybWF0RGF0ZVRpbWUodGhpcyk6YW99dG9Mb2NhbGVQYXJ0cyhlPXt9KXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3hlLmNyZWF0ZSh0aGlzLmxvYy5jbG9uZShlKSxlKS5mb3JtYXREYXRlVGltZVBhcnRzKHRoaXMpOltdfXRvSVNPKHtmb3JtYXQ6ZT0iZXh0ZW5kZWQiLHN1cHByZXNzU2Vjb25kczp0PSExLHN1cHByZXNzTWlsbGlzZWNvbmRzOnM9ITEsaW5jbHVkZU9mZnNldDppPSEwLGV4dGVuZGVkWm9uZTpyPSExfT17fSl7aWYoIXRoaXMuaXNWYWxpZClyZXR1cm4gbnVsbDtjb25zdCBvPWU9PT0iZXh0ZW5kZWQiO2xldCBhPWNvKHRoaXMsbyk7cmV0dXJuIGErPSJUIixhKz1YbCh0aGlzLG8sdCxzLGksciksYX10b0lTT0RhdGUoe2Zvcm1hdDplPSJleHRlbmRlZCJ9PXt9KXtyZXR1cm4gdGhpcy5pc1ZhbGlkP2NvKHRoaXMsZT09PSJleHRlbmRlZCIpOm51bGx9dG9JU09XZWVrRGF0ZSgpe3JldHVybiBZaSh0aGlzLCJra2trLSdXJ1dXLWMiKX10b0lTT1RpbWUoe3N1cHByZXNzTWlsbGlzZWNvbmRzOmU9ITEsc3VwcHJlc3NTZWNvbmRzOnQ9ITEsaW5jbHVkZU9mZnNldDpzPSEwLGluY2x1ZGVQcmVmaXg6aT0hMSxleHRlbmRlZFpvbmU6cj0hMSxmb3JtYXQ6bz0iZXh0ZW5kZWQifT17fSl7cmV0dXJuIHRoaXMuaXNWYWxpZD8oaT8iVCI6IiIpK1hsKHRoaXMsbz09PSJleHRlbmRlZCIsdCxlLHMscik6bnVsbH10b1JGQzI4MjIoKXtyZXR1cm4gWWkodGhpcywiRUVFLCBkZCBMTEwgeXl5eSBISDptbTpzcyBaWloiLCExKX10b0hUVFAoKXtyZXR1cm4gWWkodGhpcy50b1VUQygpLCJFRUUsIGRkIExMTCB5eXl5IEhIOm1tOnNzICdHTVQnIil9dG9TUUxEYXRlKCl7cmV0dXJuIHRoaXMuaXNWYWxpZD9jbyh0aGlzLCEwKTpudWxsfXRvU1FMVGltZSh7aW5jbHVkZU9mZnNldDplPSEwLGluY2x1ZGVab25lOnQ9ITEsaW5jbHVkZU9mZnNldFNwYWNlOnM9ITB9PXt9KXtsZXQgaT0iSEg6bW06c3MuU1NTIjtyZXR1cm4odHx8ZSkmJihzJiYoaSs9IiAiKSx0P2krPSJ6IjplJiYoaSs9IlpaIikpLFlpKHRoaXMsaSwhMCl9dG9TUUwoZT17fSl7cmV0dXJuIHRoaXMuaXNWYWxpZD9gJHt0aGlzLnRvU1FMRGF0ZSgpfSAke3RoaXMudG9TUUxUaW1lKGUpfWA6bnVsbH10b1N0cmluZygpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy50b0lTTygpOmFvfVtTeW1ib2wuZm9yKCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbSIpXSgpe3JldHVybiB0aGlzLmlzVmFsaWQ/YERhdGVUaW1lIHsgdHM6ICR7dGhpcy50b0lTTygpfSwgem9uZTogJHt0aGlzLnpvbmUubmFtZX0sIGxvY2FsZTogJHt0aGlzLmxvY2FsZX0gfWA6YERhdGVUaW1lIHsgSW52YWxpZCwgcmVhc29uOiAke3RoaXMuaW52YWxpZFJlYXNvbn0gfWB9dmFsdWVPZigpe3JldHVybiB0aGlzLnRvTWlsbGlzKCl9dG9NaWxsaXMoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP3RoaXMudHM6TmFOfXRvU2Vjb25kcygpe3JldHVybiB0aGlzLmlzVmFsaWQ/dGhpcy50cy8xZTM6TmFOfXRvVW5peEludGVnZXIoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkP01hdGguZmxvb3IodGhpcy50cy8xZTMpOk5hTn10b0pTT04oKXtyZXR1cm4gdGhpcy50b0lTTygpfXRvQlNPTigpe3JldHVybiB0aGlzLnRvSlNEYXRlKCl9dG9PYmplY3QoZT17fSl7aWYoIXRoaXMuaXNWYWxpZClyZXR1cm57fTtjb25zdCB0PXsuLi50aGlzLmN9O3JldHVybiBlLmluY2x1ZGVDb25maWcmJih0Lm91dHB1dENhbGVuZGFyPXRoaXMub3V0cHV0Q2FsZW5kYXIsdC5udW1iZXJpbmdTeXN0ZW09dGhpcy5sb2MubnVtYmVyaW5nU3lzdGVtLHQubG9jYWxlPXRoaXMubG9jLmxvY2FsZSksdH10b0pTRGF0ZSgpe3JldHVybiBuZXcgRGF0ZSh0aGlzLmlzVmFsaWQ/dGhpcy50czpOYU4pfWRpZmYoZSx0PSJtaWxsaXNlY29uZHMiLHM9e30pe2lmKCF0aGlzLmlzVmFsaWR8fCFlLmlzVmFsaWQpcmV0dXJuIExlLmludmFsaWQoImNyZWF0ZWQgYnkgZGlmZmluZyBhbiBpbnZhbGlkIERhdGVUaW1lIik7Y29uc3QgaT17bG9jYWxlOnRoaXMubG9jYWxlLG51bWJlcmluZ1N5c3RlbTp0aGlzLm51bWJlcmluZ1N5c3RlbSwuLi5zfSxyPXNmKHQpLm1hcChMZS5ub3JtYWxpemVVbml0KSxvPWUudmFsdWVPZigpPnRoaXMudmFsdWVPZigpLGE9bz90aGlzOmUsbD1vP2U6dGhpcyx1PWFkKGEsbCxyLGkpO3JldHVybiBvP3UubmVnYXRlKCk6dX1kaWZmTm93KGU9Im1pbGxpc2Vjb25kcyIsdD17fSl7cmV0dXJuIHRoaXMuZGlmZihjZS5ub3coKSxlLHQpfXVudGlsKGUpe3JldHVybiB0aGlzLmlzVmFsaWQ/bWUuZnJvbURhdGVUaW1lcyh0aGlzLGUpOnRoaXN9aGFzU2FtZShlLHQscyl7aWYoIXRoaXMuaXNWYWxpZClyZXR1cm4hMTtjb25zdCBpPWUudmFsdWVPZigpLHI9dGhpcy5zZXRab25lKGUuem9uZSx7a2VlcExvY2FsVGltZTohMH0pO3JldHVybiByLnN0YXJ0T2YodCxzKTw9aSYmaTw9ci5lbmRPZih0LHMpfWVxdWFscyhlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkJiZlLmlzVmFsaWQmJnRoaXMudmFsdWVPZigpPT09ZS52YWx1ZU9mKCkmJnRoaXMuem9uZS5lcXVhbHMoZS56b25lKSYmdGhpcy5sb2MuZXF1YWxzKGUubG9jKX10b1JlbGF0aXZlKGU9e30pe2lmKCF0aGlzLmlzVmFsaWQpcmV0dXJuIG51bGw7Y29uc3QgdD1lLmJhc2V8fGNlLmZyb21PYmplY3Qoe30se3pvbmU6dGhpcy56b25lfSkscz1lLnBhZGRpbmc/dGhpczx0Py1lLnBhZGRpbmc6ZS5wYWRkaW5nOjA7bGV0IGk9WyJ5ZWFycyIsIm1vbnRocyIsImRheXMiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIl0scj1lLnVuaXQ7cmV0dXJuIEFycmF5LmlzQXJyYXkoZS51bml0KSYmKGk9ZS51bml0LHI9dm9pZCAwKSxudSh0LHRoaXMucGx1cyhzKSx7Li4uZSxudW1lcmljOiJhbHdheXMiLHVuaXRzOmksdW5pdDpyfSl9dG9SZWxhdGl2ZUNhbGVuZGFyKGU9e30pe3JldHVybiB0aGlzLmlzVmFsaWQ/bnUoZS5iYXNlfHxjZS5mcm9tT2JqZWN0KHt9LHt6b25lOnRoaXMuem9uZX0pLHRoaXMsey4uLmUsbnVtZXJpYzoiYXV0byIsdW5pdHM6WyJ5ZWFycyIsIm1vbnRocyIsImRheXMiXSxjYWxlbmRhcnk6ITB9KTpudWxsfXN0YXRpYyBtaW4oLi4uZSl7aWYoIWUuZXZlcnkoY2UuaXNEYXRlVGltZSkpdGhyb3cgbmV3IENlKCJtaW4gcmVxdWlyZXMgYWxsIGFyZ3VtZW50cyBiZSBEYXRlVGltZXMiKTtyZXR1cm4gZ2woZSx0PT50LnZhbHVlT2YoKSxNYXRoLm1pbil9c3RhdGljIG1heCguLi5lKXtpZighZS5ldmVyeShjZS5pc0RhdGVUaW1lKSl0aHJvdyBuZXcgQ2UoIm1heCByZXF1aXJlcyBhbGwgYXJndW1lbnRzIGJlIERhdGVUaW1lcyIpO3JldHVybiBnbChlLHQ9PnQudmFsdWVPZigpLE1hdGgubWF4KX1zdGF0aWMgZnJvbUZvcm1hdEV4cGxhaW4oZSx0LHM9e30pe2NvbnN0e2xvY2FsZTppPW51bGwsbnVtYmVyaW5nU3lzdGVtOnI9bnVsbH09cyxvPXRlLmZyb21PcHRzKHtsb2NhbGU6aSxudW1iZXJpbmdTeXN0ZW06cixkZWZhdWx0VG9FTjohMH0pO3JldHVybiBxbChvLGUsdCl9c3RhdGljIGZyb21TdHJpbmdFeHBsYWluKGUsdCxzPXt9KXtyZXR1cm4gY2UuZnJvbUZvcm1hdEV4cGxhaW4oZSx0LHMpfXN0YXRpYyBidWlsZEZvcm1hdFBhcnNlcihlLHQ9e30pe2NvbnN0e2xvY2FsZTpzPW51bGwsbnVtYmVyaW5nU3lzdGVtOmk9bnVsbH09dCxyPXRlLmZyb21PcHRzKHtsb2NhbGU6cyxudW1iZXJpbmdTeXN0ZW06aSxkZWZhdWx0VG9FTjohMH0pO3JldHVybiBuZXcgamwocixlKX1zdGF0aWMgZnJvbUZvcm1hdFBhcnNlcihlLHQscz17fSl7aWYoUChlKXx8UCh0KSl0aHJvdyBuZXcgQ2UoImZyb21Gb3JtYXRQYXJzZXIgcmVxdWlyZXMgYW4gaW5wdXQgc3RyaW5nIGFuZCBhIGZvcm1hdCBwYXJzZXIiKTtjb25zdHtsb2NhbGU6aT1udWxsLG51bWJlcmluZ1N5c3RlbTpyPW51bGx9PXMsbz10ZS5mcm9tT3B0cyh7bG9jYWxlOmksbnVtYmVyaW5nU3lzdGVtOnIsZGVmYXVsdFRvRU46ITB9KTtpZighby5lcXVhbHModC5sb2NhbGUpKXRocm93IG5ldyBDZShgZnJvbUZvcm1hdFBhcnNlciBjYWxsZWQgd2l0aCBhIGxvY2FsZSBvZiAke299LCBidXQgdGhlIGZvcm1hdCBwYXJzZXIgd2FzIGNyZWF0ZWQgZm9yICR7dC5sb2NhbGV9YCk7Y29uc3R7cmVzdWx0OmEsem9uZTpsLHNwZWNpZmljT2Zmc2V0OnUsaW52YWxpZFJlYXNvbjpofT10LmV4cGxhaW5Gcm9tVG9rZW5zKGUpO3JldHVybiBoP2NlLmludmFsaWQoaCk6UXMoYSxsLHMsYGZvcm1hdCAke3QuZm9ybWF0fWAsZSx1KX1zdGF0aWMgZ2V0IERBVEVfU0hPUlQoKXtyZXR1cm4gRWl9c3RhdGljIGdldCBEQVRFX01FRCgpe3JldHVybiBOYX1zdGF0aWMgZ2V0IERBVEVfTUVEX1dJVEhfV0VFS0RBWSgpe3JldHVybiBOaH1zdGF0aWMgZ2V0IERBVEVfRlVMTCgpe3JldHVybiB2YX1zdGF0aWMgZ2V0IERBVEVfSFVHRSgpe3JldHVybiBBYX1zdGF0aWMgZ2V0IFRJTUVfU0lNUExFKCl7cmV0dXJuIENhfXN0YXRpYyBnZXQgVElNRV9XSVRIX1NFQ09ORFMoKXtyZXR1cm4geGF9c3RhdGljIGdldCBUSU1FX1dJVEhfU0hPUlRfT0ZGU0VUKCl7cmV0dXJuIExhfXN0YXRpYyBnZXQgVElNRV9XSVRIX0xPTkdfT0ZGU0VUKCl7cmV0dXJuIFlhfXN0YXRpYyBnZXQgVElNRV8yNF9TSU1QTEUoKXtyZXR1cm4gUmF9c3RhdGljIGdldCBUSU1FXzI0X1dJVEhfU0VDT05EUygpe3JldHVybiBVYX1zdGF0aWMgZ2V0IFRJTUVfMjRfV0lUSF9TSE9SVF9PRkZTRVQoKXtyZXR1cm4gRmF9c3RhdGljIGdldCBUSU1FXzI0X1dJVEhfTE9OR19PRkZTRVQoKXtyZXR1cm4gemF9c3RhdGljIGdldCBEQVRFVElNRV9TSE9SVCgpe3JldHVybiBQYX1zdGF0aWMgZ2V0IERBVEVUSU1FX1NIT1JUX1dJVEhfU0VDT05EUygpe3JldHVybiAkYX1zdGF0aWMgZ2V0IERBVEVUSU1FX01FRCgpe3JldHVybiBCYX1zdGF0aWMgZ2V0IERBVEVUSU1FX01FRF9XSVRIX1NFQ09ORFMoKXtyZXR1cm4gV2F9c3RhdGljIGdldCBEQVRFVElNRV9NRURfV0lUSF9XRUVLREFZKCl7cmV0dXJuIHZofXN0YXRpYyBnZXQgREFURVRJTUVfRlVMTCgpe3JldHVybiBIYX1zdGF0aWMgZ2V0IERBVEVUSU1FX0ZVTExfV0lUSF9TRUNPTkRTKCl7cmV0dXJuIFZhfXN0YXRpYyBnZXQgREFURVRJTUVfSFVHRSgpe3JldHVybiBqYX1zdGF0aWMgZ2V0IERBVEVUSU1FX0hVR0VfV0lUSF9TRUNPTkRTKCl7cmV0dXJuIHFhfX07ZnVuY3Rpb24gSG4obil7aWYoTS5pc0RhdGVUaW1lKG4pKXJldHVybiBuO2lmKG4mJm4udmFsdWVPZiYmWHQobi52YWx1ZU9mKCkpKXJldHVybiBNLmZyb21KU0RhdGUobik7aWYobiYmdHlwZW9mIG49PSJvYmplY3QiKXJldHVybiBNLmZyb21PYmplY3Qobik7dGhyb3cgbmV3IENlKGBVbmtub3duIGRhdGV0aW1lIGFyZ3VtZW50OiAke259LCBvZiB0eXBlICR7dHlwZW9mIG59YCl9Y29uc3QgRGQ9LyhtaWxsaXNlY29uZHN8bXMpL2ksTWQ9LyhzZWNvbmRzfHNlY29uZHxzZWNzfHNlY3xzKS9pLF9kPS8obWludXRlc3xtaW51dGV8bWluc3xtaW4pL2ksTmQ9Lyhob3Vyc3xob3VyfGgpL2ksdmQ9Lyg/Oih3ZWVrXHMqfHdvcmtccyp8YnVzaW5lc3NccyopPyhkYXlzfGRheXxkKSkvaSxBZD0vKHdlZWtzfHdlZWt8dykvaSxDZD0vKG1vbnRoc3xtb250aCkvaSx4ZD0vKHllYXJzfHllYXJ8eSkvaSxmbz1uZXcgUmVnRXhwKGAoXFxkK1xcVyopKCR7RGQuc291cmNlfXwke01kLnNvdXJjZX18JHtfZC5zb3VyY2V9fCR7TmQuc291cmNlfXwke3ZkLnNvdXJjZX18JHtBZC5zb3VyY2V9fCR7Q2Quc291cmNlfXwke3hkLnNvdXJjZX0pKD86XFxzKixcXHMqfFxccyopYCwiZyIpLHJ1PS8oPzpcV3xeKSghXHcrKS8sb3U9bmV3IFJlZ0V4cChgKGJ5fGJlZm9yZXxhZnRlcik/KFxccyoke3J1LnNvdXJjZX1cXHMqKT8oPzpwbHVzfFxcKyk/XFxzKigke2ZvLnNvdXJjZX0pKmApLExkPS9qYW51YXJ5fGZlYnJ1YXJ5fG1hcmNofGFwcmlsfG1heXxqdW5lfGp1bHl8YXVndXN0fHNlcHRlbWJlcnxvY3RvYmVyfG5vdmVtYmVyfGRlY2VtYmVyLyxZZD0vamFufGZlYnxtYXJ8YXByfG1heXxqdW58anVsfGF1Z3xzZXB8b2N0fG5vdnxkZWMvLG1vPW5ldyBSZWdFeHAoYCg/Oigke0xkLnNvdXJjZX0pfCgke1lkLnNvdXJjZX0pKWApLFJkPW5ldyBSZWdFeHAoYCgoWzAtM10/WzAtOV0pXFxzKyR7bW8uc291cmNlfSlgKSxVZD1uZXcgUmVnRXhwKGAoJHttby5zb3VyY2V9XFxzKyhbMC0zXT9bMC05XSg/IVxcZCkpKWApLFJpPS8oKDF8MnwzfDR8NXw2fDd8OHw5fDEwfDExfDEyKSg6XGR7Mn0pPyhbYXBdbSl8KFswMTJdP1swLTldKSg6XGR7Mn0pPykvLEZkPW5ldyBSZWdFeHAoYCg/Oig/OiR7UmQuc291cmNlfXwke1VkLnNvdXJjZX0pLD8oPzpcXHMrKFxcZHs0fSksPyk/KD86XFxzKyR7Umkuc291cmNlfSk/KXwoJHttby5zb3VyY2V9KD86XFxzKyhcXGR7MSw0fSkpPylgKSx6ZD0vXGR7NH0tXGR7Mn0tXGR7Mn1UXGR7Mn06XGR7Mn06XGR7Mix9KD86XC5cZCopP1ovLGF1PS9ub3cvLFBkPW5ldyBSZWdFeHAoYChcXGR7MSw1fShcXC9cXGR7MSw1fShcXC9cXGR7MSw1fSg/Oig/Oix8XFxzKSske1JpLnNvdXJjZX0pPyk/KT8pYCkseW89bmV3IFJlZ0V4cChgKCR7emQuc291cmNlfSl8KCR7YXUuc291cmNlfSl8JHtSaS5zb3VyY2V9fCgke1BkLnNvdXJjZX0pfCgke291LnNvdXJjZX0pfCR7RmQuc291cmNlfWApO25ldyBSZWdFeHAoYChcXHMrKD86KD86KD86dW4pP3RpbCl8KD86dG8pfCg/OlxcfCkpXFxzKygke3lvLnNvdXJjZX0pKT9gKTtjb25zdCBsdT1uZXcgUmVnRXhwKCJcXHMqZXZlcnlbXjpdKyIpLCRkPW5ldyBSZWdFeHAoYCgoJHt5by5zb3VyY2V9KSg/Oig/Oig/OlxccyotXFxzKil8KD86XFxzK3RvXFxzKykpKCR7eW8uc291cmNlfSkpPykoJHtsdS5zb3VyY2V9KT9cXHMqOmApLHBvPW5ldyBSZWdFeHAoYF4oXFxzKikkeyRkLnNvdXJjZX0oLiopYCwiaSIpO2xldCBFPTA7KytFO2NvbnN0IEJkPSsrRSxXZD0rK0U7KytFO2NvbnN0IEhkPSsrRSxWZD0rK0UsamQ9KytFLHFkPSsrRSxLZD0rK0UsWmQ9KytFLEdkPSsrRSxKZD0rK0U7KytFLCsrRSwrK0U7Y29uc3QgWGQ9KytFLFFkPSsrRSxlbT0rK0UsdG09KytFLHNtPSsrRSxubT0rK0UsaW09KytFLHJtPSsrRTsrK0U7Y29uc3Qgb209KytFOysrRSwrK0UsKytFLCsrRSwrK0UsKytFLCsrRSwrK0UsKytFLCsrRSwrK0UsKytFLCsrRTtjb25zdCBhbT0rK0UsbG09KytFLHVtPSsrRTsrK0U7Y29uc3QgY209KytFLGhtPSsrRSxmbT0rK0UsZG09KytFLG1tPSsrRSx5bT0rK0UscG09KytFLGdtPSsrRSx3bT0rK0UsYm09KytFOysrRTtjb25zdCBUbT0rK0Usa209KytFLEVtPSsrRSxTbT0rK0U7KytFO2NvbnN0IE9tPSsrRSxJbT0rK0UsRG09KytFLE1tPSsrRSxfbT0rK0UsTm09KytFLHZtPSsrRSxBbT0rK0U7KytFLCsrRSwrK0U7Y29uc3QgQ209KytFLHhtPSsrRSxMbT0rK0UsWW09KytFLFJtPSsrRSxVbT0rK0UsRm09KytFOysrRSwrK0U7Y29uc3Qgem09KytFOysrRSwrK0UsKytFLCsrRSwrK0UsKytFLCsrRSwrK0UsKytFLCsrRSwrK0UsKytFLCsrRTtjb25zdCBQbT0rK0UsJG09KytFLEJtPSsrRTsrK0U7Y29uc3QgV209KytFLEhtPSsrRSxWbT0rK0Usam09KytFLHFtPSsrRSxLbT0rK0UsWm09KytFLEdtPSsrRSxKbT0rK0UsWG09KytFOysrRTtjb25zdCBRbT0rK0UsZXk9KytFLHR5PSsrRSxzeT0rK0UsdXU9KytFLGdvPS9eXHMqXC9cLy4qLyxVaT0vKD86XnxccykjKD8hXGQrKD86XHN8JCkpKFx3KykvZyxGaT0vXihccyopKGdyb3VwfHNlY3Rpb24pKD86XHN8JCkvaSxjdT0vXihccyopZW5kKD86R3JvdXB8U2VjdGlvbik/L2ksbnk9L15ccyotIC4qLyxpeT0vXlxzKi0gKFxbKHh8WHwgKT9cXSkuKi8scnk9L15ccyooXFsoeHxYfCApP1xdKS4qLyxveT1uZXcgUmVnRXhwKGAoXFxkezR9KC1cXGR7Mn0oLVxcZHsyfSg/Olxccyske1JpLnNvdXJjZX0pPyk/KT8pYCksd289bmV3IFJlZ0V4cChgKD86JHtveS5zb3VyY2V9fCgke291LnNvdXJjZX0pfCgke2F1LnNvdXJjZX0pKWApO25ldyBSZWdFeHAoYChcXHMrKD86KD86KD86dW4pP3RpbCl8KD86dG8pfCg/OlxcfCkpXFxzKyR7d28uc291cmNlfSk/YCk7Y29uc3QgYXk9bmV3IFJlZ0V4cChgKCR7d28uc291cmNlfShcXHMqL1xccyoke3dvLnNvdXJjZX0pPykoJHtsdS5zb3VyY2V9KT9cXHMqOmApLGJvPW5ldyBSZWdFeHAoYF4oXFxzKikke2F5LnNvdXJjZX0oLiopYCwiaSIpO2xldCBMPTA7KytMO2NvbnN0IGx5PSsrTCx1eT0rK0wsY3k9KytMLGh5PSsrTCxmeT0rK0wsZHk9KytMLG15PSsrTCx5eT0rK0wscHk9KytMLGd5PSsrTCx3eT0rK0wsYnk9KytMOysrTDtjb25zdCBUeT0rK0w7KytMLCsrTCwrK0wsKytMLCsrTCwrK0wsKytMLCsrTCwrK0wsKytMLCsrTCwrK0w7Y29uc3Qga3k9KytMLEV5PSsrTCxTeT0rK0wsT3k9KytMLEl5PSsrTCxEeT0rK0wsTXk9KytMLF95PSsrTCxOeT0rK0wsdnk9KytMLEF5PSsrTCxDeT0rK0wseHk9KytMOysrTDtjb25zdCBMeT0rK0w7KytMLCsrTCwrK0wsKytMLCsrTCwrK0wsKytMLCsrTCwrK0wsKytMLCsrTCwrK0w7Y29uc3QgWXk9KytMLFJ5PSsrTCxodT0rK0wsVG89bmV3IFJlZ0V4cCgiXlxccyooXFxkezEsNX0pXFxzPyhCQ0V8QkN8QUR8Q0UpPyg/Olxccz9b4oCTLV1cXHM/KFxcZHsxLDV9KVxccz8oQkNFfEJDfEFEfENFKT8pPyg/PVxccyo6KSguKikiLCJpIik7bGV0IGVuPS0xO2NvbnN0IFV5PSsrZW4sRnk9Kytlbix6eT0rK2VuLFB5PSsrZW4sZnU9KytlbixkdT0rK2VuO2Z1bmN0aW9uIG11KG4pe3JldHVybiBuLnN0YXJ0c1dpdGgoImh0dHA6Ly8iKXx8bi5zdGFydHNXaXRoKCJodHRwczovLyIpfHxuLnN0YXJ0c1dpdGgoIi8iKT9uOmBodHRwOi8vJHtufWB9Y29uc3QgdG49Ik0vZC95IiwkeT0iZC9NL3kiLEJ5PSJNL3kiLFd5PSJ5IjtjbGFzcyBsdHtzdGF0aWMgZGlmZkZyb21TdHJpbmcoZSl7Y29uc3QgdD1lLm1hdGNoQWxsKGZvKTtsZXQgcz10Lm5leHQoKTtjb25zdCBpPXt9O2Zvcig7cy52YWx1ZTspe2NvbnN0IHI9cy52YWx1ZSxvPXBhcnNlSW50KHJbMV0pO3JbM10/aS5taWxsaXNlY29uZHM9KGkubWlsbGlzZWNvbmRzPz8wKStvOnJbNF0/aS5zZWNvbmRzPShpLnNlY29uZHM/PzApK286cls1XT9pLm1pbnV0ZXM9KGkubWludXRlcz8/MCkrbzpyWzZdP2kuaG91cnM9KGkuaG91cnM/PzApK286cls3XXx8KHJbOF0/aS5kYXlzPShpLmRheXM/PzApK286cls5XT9pLndlZWtzPShpLndlZWtzPz8wKStvOnJbMTBdP2kubW9udGhzPShpLm1vbnRocz8/MCkrbzpyWzExXSYmKGkueWVhcnM9KGkueWVhcnM/PzApK28pKSxzPXQubmV4dCgpfXJldHVybiBpfXN0YXRpYyBmcm9tKGUsdCxzPSExKXtjb25zdCBpPWUubWF0Y2hBbGwoZm8pO2xldCByPWkubmV4dCgpO2NvbnN0IG89cz8ibWludXMiOiJwbHVzIjtmb3IoO3IudmFsdWU7KXtjb25zdCBhPXIudmFsdWUsbD1wYXJzZUludChhWzFdKTthWzNdP3Q9dFtvXSh7bWlsbGlzZWNvbmRzOmx9KTphWzRdP3Q9dFtvXSh7c2Vjb25kczpsfSk6YVs1XT90PXRbb10oe21pbnV0ZXM6bH0pOmFbNl0/dD10W29dKHtob3VyczpsfSk6YVs3XT90PXM/SHkobCx0KTpWeShsLHQpOmFbOF0/dD10W29dKHtkYXlzOmx9KTphWzldP3Q9dFtvXSh7d2Vla3M6bH0pOmFbMTBdP3Q9dFtvXSh7bW9udGhzOmx9KTphWzExXSYmKHQ9dFtvXSh7eWVhcnM6bH0pKSxyPWkubmV4dCgpfXJldHVybiB0fX1mdW5jdGlvbiBIeShuLGUpe2NvbnN0IHQ9ZS53ZWVrZGF5LTEscz1uLXQ7aWYoczw9MClyZXR1cm4gZS5taW51cyh7ZGF5czpufSk7Y29uc3QgaT0yLHI9NyxvPTUsYT10LGw9fn4ocy9vKSx1PXMlbyxoPWwqcixjPXU/aSt1OjA7cmV0dXJuIGUubWludXMoe2RheXM6YStoK2N9KX1mdW5jdGlvbiBWeShuLGUpe2NvbnN0IGk9Ni1lLndlZWtkYXkscj1uLWk7aWYocjw9MClyZXR1cm4gZS5wbHVzKHtkYXlzOm59KTt7Y29uc3QgdT1pLGg9fn4oci81KSxjPXIlNSxtPWgqNyxmPWM/MitjOjA7cmV0dXJuIGUucGx1cyh7ZGF5czp1K20rZn0pfX1jbGFzcyBzbntjb25zdHJ1Y3Rvcih7ZnJvbTplLHRvOnQsb3JpZ2luYWxTdHJpbmc6cyxkYXRlUmFuZ2VJblRleHQ6aSxldmVudFRleHQ6cixkZWZpbml0aW9uOm8saXNSZWxhdGl2ZTphLHJlY3VycmVuY2U6bH0pe3RoaXMuZnJvbURhdGVUaW1lPWUsdGhpcy50b0RhdGVUaW1lPXQsdGhpcy5vcmlnaW5hbFN0cmluZz1zLHRoaXMuZGF0ZVJhbmdlSW5UZXh0PWksdGhpcy5ldmVudFRleHQ9cix0aGlzLnJlY3VycmVuY2U9bD09bnVsbD92b2lkIDA6bC5yZWN1cnJlbmNlLHRoaXMucmVjdXJyZW5jZVJhbmdlSW5UZXh0PWw9PW51bGw/dm9pZCAwOmwucmFuZ2UsdGhpcy5kZWZpbml0aW9uPW8sdGhpcy5pc1JlbGF0aXZlPWF9fWNvbnN0IGp5PS9cWyhbXlxdXSspXF1cKChsb2NhdGlvbnxtYXApXCkvZyx5dT0vIVxbKFteXF1cPFw+XSopXF1cKCgoaHR0cHM/OlwvXC8pP1tcd1xkLi9cJlw/PVwtIzosX10rKVwpLyxxeT0vKD86XHN8XikoXGR7MSwzfSklKD86XHN8JCkvO3ZhciBPczsoZnVuY3Rpb24obil7bi5URVhUPSJ0ZXh0IixuLkxJU1RfSVRFTT0ibGlzdEl0ZW0iLG4uQ0hFQ0tCT1g9ImNoZWNrYm94IixuLklNQUdFPSJpbWFnZSJ9KShPc3x8KE9zPXt9KSk7Y2xhc3MgS3l7Y29uc3RydWN0b3IoZSl7dGhpcy5yYXc9ZSxlLnN0YXJ0c1dpdGgoIi0gW10iKT8odGhpcy50eXBlPU9zLkNIRUNLQk9YLHRoaXMudmFsdWU9ITEsdGhpcy5yYXc9ZS5zdWJzdHJpbmcoNCkudHJpbSgpKTplLnN0YXJ0c1dpdGgoIi0gWyBdIik/KHRoaXMudHlwZT1Pcy5DSEVDS0JPWCx0aGlzLnZhbHVlPSExLHRoaXMucmF3PWUuc3Vic3RyaW5nKDUpLnRyaW0oKSk6ZS5zdGFydHNXaXRoKCItIFt4XSIpPyh0aGlzLnR5cGU9T3MuQ0hFQ0tCT1gsdGhpcy52YWx1ZT0hMCx0aGlzLnJhdz1lLnN1YnN0cmluZyg1KS50cmltKCkpOmUuc3RhcnRzV2l0aCgiLSAiKT8odGhpcy50eXBlPU9zLkxJU1RfSVRFTSx0aGlzLnJhdz1lLnN1YnN0cmluZygyKSk6dGhpcy50eXBlPU9zLlRFWFR9fWNsYXNzIHB1e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPSJpbWFnZSIsdGhpcy5hbHRUZXh0PWUsdGhpcy5saW5rPXR9fWNsYXNzIFp5e2NvbnN0cnVjdG9yKGUsdCxzKXt0aGlzLnRhZ3M9W10sdGhpcy5zdXBwbGVtZW50YWw9W10sdGhpcy5sb2NhdGlvbnM9W10sdGhpcy5tYXRjaGVkTGlzdEl0ZW1zPXQ7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2xldCByPWVbaV07aWYoIXIubWF0Y2goZ28pKXtpZihpPT09MCYmKHI9ci5yZXBsYWNlKHl1LChvLGEsbCk9Pih0aGlzLnN1cHBsZW1lbnRhbC5wdXNoKG5ldyBwdShhLG11KGwpKSksIiIpKSkscj1yLnJlcGxhY2UoanksKG8sYSk9Pih0aGlzLmxvY2F0aW9ucy5wdXNoKGEpLCIiKSkscj1yLnJlcGxhY2UoVWksKG8sYSk9Pih0aGlzLnRhZ3MuaW5jbHVkZXMoYSl8fHRoaXMudGFncy5wdXNoKGEpLCIiKSksaT09PTAmJihyPXIucmVwbGFjZShydSwobyxhKT0+dGhpcy5pZD9hOih0aGlzLmlkPWEuc3Vic3RyaW5nKDEpLCIiKSkpLCF0aGlzLnBlcmNlbnQpe2NvbnN0IG89ci5tYXRjaChxeSk7byYmKHRoaXMucGVyY2VudD1wYXJzZUludChvWzBdKSl9ZVtpXT1yfX10aGlzLmV2ZW50RGVzY3JpcHRpb249ZVswXSx0aGlzLnN1cHBsZW1lbnRhbD10aGlzLnN1cHBsZW1lbnRhbC5jb25jYXQoZS5zbGljZSgxKS5maWx0ZXIoaT0+IWkubWF0Y2goZ28pJiYhIWkudHJpbSgpKS5tYXAoaT0+e2k9aS5yZXBsYWNlKFVpLChvLGEpPT4odGhpcy50YWdzLmluY2x1ZGVzKGEpfHx0aGlzLnRhZ3MucHVzaChhKSwiIikpO2NvbnN0IHI9aS5tYXRjaCh5dSk7cmV0dXJuIHI/bmV3IHB1KHJbMV0sbXUoclsyXSkpOm5ldyBLeShpLnRyaW0oKSl9KSksdGhpcy5jb21wbGV0ZWQ9c319dmFyIFc7KGZ1bmN0aW9uKG4pe24uQ29tbWVudD0iY29tbWVudCIsbi5DaGVja2JveEl0ZW1JbmRpY2F0b3I9ImNoZWNrYm94SXRlbUluZGljYXRvciIsbi5saXN0SXRlbUluZGljYXRvcj0ibGlzdEl0ZW1JbmRpY2F0b3IiLG4uTGlzdEl0ZW1Db250ZW50cz0ibGlzdEl0ZW1Db250ZW50cyIsbi5UYWc9InRhZyIsbi50YWdEZWZpbml0aW9uPSJ0YWdEZWZpbml0aW9uIixuLlRpdGxlPSJ0aXRsZSIsbi5WaWV3PSJ2aWV3IixuLlZpZXdlcj0idmlld2VyIixuLkRlc2NyaXB0aW9uPSJkZXNjcmlwdGlvbiIsbi5TZWN0aW9uPSJzZWN0aW9uIixuLkRhdGVSYW5nZT0iZGF0ZVJhbmdlIixuLkRhdGVSYW5nZUNvbG9uPSJkYXRlUmFuZ2VDb2xvbiIsbi5FdmVudD0iZXZlbnQiLG4uRWRpdD0iZWRpdCIsbi5FZGl0b3I9ImVkaXRvciIsbi5SZWN1cnJlbmNlPSJyZWN1cnJlbmNlIixuLkZyb250bWF0dGVyRGVsaW1pdGVyPSJmcm9udE1hdHRlckRlbGltaXRlciIsbi5IZWFkZXJLZXk9ImhlYWRlcktleSIsbi5IZWFkZXJLZXlDb2xvbj0iaGVhZGVyS2V5Q29sb24iLG4uSGVhZGVyVmFsdWU9ImhlYWRlclZhbHVlIixuLlByb3BlcnR5S2V5PSJwcm9wZXJ0eUtleSIsbi5Qcm9wZXJ0eUtleUNvbG9uPSJwcm9wZXJ0eUtleUNvbG9uIixuLlByb3BlcnR5VmFsdWU9InByb3BlcnR5VmFsdWUiLG4uRXZlbnREZWZpbml0aW9uPSJldmVudERlZmluaXRpb24iLG4uU2VjdGlvbkRlZmluaXRpb249InNlY3Rpb25EZWZpbml0aW9uIn0pKFd8fChXPXt9KSk7Y29uc3QgR3k9bj0+KHtmcm9tRGF0ZVRpbWVJc286bi5mcm9tRGF0ZVRpbWUudG9JU08oKSx0b0RhdGVUaW1lSXNvOm4udG9EYXRlVGltZS50b0lTTygpfSksQ3Q9bj0+KHtmcm9tRGF0ZVRpbWU6TS5mcm9tSVNPKG4uZnJvbURhdGVUaW1lSXNvLHtzZXRab25lOiEwfSksdG9EYXRlVGltZTpNLmZyb21JU08obi50b0RhdGVUaW1lSXNvLHtzZXRab25lOiEwfSl9KTtmdW5jdGlvbiBWbihuKXtyZXR1cm4hbi5jaGlsZHJlbn1jbGFzcyBrb3tjb25zdHJ1Y3Rvcigpe3RoaXMucHJvcE9yZGVyPVtdLHRoaXMudGFncz1bXSx0aGlzLnRpdGxlPSIiLHRoaXMuY2hpbGRyZW49W119fWxldCBKeT1jbGFzc3tjb25zdHJ1Y3RvcihlLHQscyxpLHIsbyxhLGwpe3RoaXMuZmlyc3RMaW5lPXtmdWxsOmUsZGF0ZVBhcnQ6bCxyZXN0OmkuZXZlbnRUZXh0LHJlc3RUcmltbWVkOmEuZXZlbnREZXNjcmlwdGlvbn0sdGhpcy5wcm9wZXJ0aWVzPXQsdGhpcy5wcm9wT3JkZXI9cyx0aGlzLnRleHRSYW5nZXM9e3dob2xlOnIsZGF0ZVBhcnQ6byxkZWZpbml0aW9uOm8scmVjdXJyZW5jZTppLnJlY3VycmVuY2VSYW5nZUluVGV4dH0sdGhpcy5kYXRlUmFuZ2VJc289R3koaSksdGhpcy5yZWN1cnJlbmNlPWkucmVjdXJyZW5jZSx0aGlzLnRhZ3M9YS50YWdzLHRoaXMuc3VwcGxlbWVudGFsPWEuc3VwcGxlbWVudGFsLHRoaXMubWF0Y2hlZExpc3RJdGVtcz1hLm1hdGNoZWRMaXN0SXRlbXMsdGhpcy5pZD0odHlwZW9mIHQuaWQ9PSJzdHJpbmciP3QuaWQ6dm9pZCAwKXx8YS5pZCx0aGlzLnBlcmNlbnQ9YS5wZXJjZW50LHRoaXMuY29tcGxldGVkPWEuY29tcGxldGVkLHRoaXMuaXNSZWxhdGl2ZT1pLmlzUmVsYXRpdmV9fTtmdW5jdGlvbiBYeSgpe3JldHVybiBNLm5vdygpLHtldmVudHM6bmV3IGtvLHJhbmdlczpbXSxmb2xkYWJsZXM6W10saWRzOnt9LGhlYWRlcjp7ZGF0ZUZvcm1hdDp0bn0scGFyc2VNZXNzYWdlczpbXSxkb2N1bWVudE1lc3NhZ2VzOltdfX1jb25zdCBndT0obixlLHQscyk9PntpZighdHx8IXQubGVuZ3RoKXJldHVybiBlLmNoaWxkcmVuLnB1c2gobiksVm4obik/e3BhdGg6W2UuY2hpbGRyZW4ubGVuZ3RoLTFdLHRhaWw6bn06e3BhdGg6W2UuY2hpbGRyZW4ubGVuZ3RoLTEsbi5jaGlsZHJlbi5sZW5ndGhdLHRhaWw6c307e2NvbnN0e3RhaWw6aSxwYXRoOnJ9PWd1KG4sZS5jaGlsZHJlblt0WzBdXSx0LnNsaWNlKDEpLHMpO3JldHVybntwYXRoOlt0WzBdLC4uLnJdLHRhaWw6aX19fSx6aT0obixlKT0+e2lmKCFlLmxlbmd0aClyZXR1cm4gbjtjb25zdCB0PW47aWYoISghdC5jaGlsZHJlbi5sZW5ndGh8fHQuY2hpbGRyZW4ubGVuZ3RoLTE8ZVswXSkpcmV0dXJuIHppKHQuY2hpbGRyZW5bZVswXV0sZS5zbGljZSgxKSl9O2Z1bmN0aW9uIHRzKG4sZSx0LHMsaSxyKXtjb25zdCBvPW5bZV0sYT1uW3RdfHwiOjAwIjtsZXQgbD1uW3NdO2lmKCFsKXtjb25zdCBjPXBhcnNlSW50KG8pO2lzTmFOKGMpJiYobD0iYW0iKSxjPDl8fGM9PT0xMj9sPSJwbSI6bD0iYW0ifWlmKG8pcmV0dXJue2RhdGVUaW1lSXNvOk0uZnJvbUZvcm1hdChgJHtvfSR7YX0ke2x9YCwiaDptbWEiKS50b0lTTygpLGdyYW51bGFyaXR5OmE9PT0iOjAwIj8iaG91ciI6Im1pbnV0ZSJ9O2NvbnN0IHU9bltpXSxoPW5bcl18fCI6MDAiO3JldHVybntkYXRlVGltZUlzbzpNLmZyb21Gb3JtYXQoYCR7dX0ke2h9YCxgJHt1Lmxlbmd0aD09PTImJnVbMF09PT0iMCI/IkhIIjoiSCJ9Om1tYCkudG9JU08oKSxncmFudWxhcml0eTpoPT09IjowMCI/ImhvdXIiOiJtaW51dGUifX1mdW5jdGlvbiBReShuKXtyZXR1cm4gdHMobixRZCxlbSx0bSxzbSxubSl9ZnVuY3Rpb24gZXAobil7cmV0dXJuIHRzKG4seG0sTG0sWW0sUm0sVW0pfWZ1bmN0aW9uIHRwKG4pe3JldHVybiB0cyhuLHltLHBtLGdtLHdtLGJtKX1mdW5jdGlvbiBzcChuKXtyZXR1cm4gdHMobixLbSxabSxHbSxKbSxYbSl9ZnVuY3Rpb24gd3UobixlLHQscyxpLHIsbyxhLGwsdSxoLGMsbSl7bGV0IGY9blt0XSxnPW5bc10sZD1uW2ldfHxgJHtlLnpvbmVkTm93LnllYXJ9YCx5PWYmJmcmJmJ1KGAke2R9ICR7Zn0gJHtwYXJzZUludChnKX1gLGUpO2lmKGY9bltyXSx5PXl8fGYmJmcmJlR1KGAke2R9ICR7Zn0gJHtwYXJzZUludChnKX1gLGUpLGc9bltvXSxmPW5bYV0seT15fHxmJiZnJiZidShgJHtkfSAke2Z9ICR7cGFyc2VJbnQoZyl9YCxlKSxmPW5bbF0seT15fHxmJiZnJiZUdShgJHtkfSAke2Z9ICR7cGFyc2VJbnQoZyl9YCxlKSx5KXtpZihtKXtjb25zdCB3PU0uZnJvbUlTTyh5LmRhdGVUaW1lSXNvLHtzZXRab25lOiEwLHpvbmU6ZS50aW1lem9uZX0pLGI9TS5mcm9tSVNPKG0uZGF0ZVRpbWVJc28se3NldFpvbmU6ITAsem9uZTplLnRpbWV6b25lfSk7eS5kYXRlVGltZUlzbz13LnNldCh7aG91cjpiLmhvdXIsbWludXRlOmIubWludXRlfSkudG9JU08oKSx5LmdyYW51bGFyaXR5PW0uZ3JhbnVsYXJpdHl9cmV0dXJuIHl9aWYoZD1uW3VdfHxgJHtlLnpvbmVkTm93LnllYXJ9YCxmPW5baF0sZilyZXR1cm57ZGF0ZVRpbWVJc286TS5mcm9tRm9ybWF0KGAke2R9ICR7Zn1gLCJ5IE1NTU0iLHtzZXRab25lOiEwLHpvbmU6ZS50aW1lem9uZX0pLnRvSVNPKCksZ3JhbnVsYXJpdHk6Im1vbnRoIn07aWYoZj1uW2NdLGYpcmV0dXJue2RhdGVUaW1lSXNvOk0uZnJvbUZvcm1hdChgJHtkfSAke2Z9YCwieSBNTU0iLHtzZXRab25lOiEwLHpvbmU6ZS50aW1lem9uZX0pLnRvSVNPKCksZ3JhbnVsYXJpdHk6Im1vbnRoIn19ZnVuY3Rpb24gYnUobixlKXtyZXR1cm57ZGF0ZVRpbWVJc286TS5mcm9tRm9ybWF0KG4sInkgTU1NTSBkIix7c2V0Wm9uZTohMCx6b25lOmUudGltZXpvbmV9KS50b0lTTygpLGdyYW51bGFyaXR5OiJkYXkifX1mdW5jdGlvbiBUdShuLGUpe3JldHVybntkYXRlVGltZUlzbzpNLmZyb21Gb3JtYXQobiwieSBNTU0gZCIse3NldFpvbmU6ITAsem9uZTplLnRpbWV6b25lfSkudG9JU08oKSxncmFudWxhcml0eToiZGF5In19ZnVuY3Rpb24gbnAobixlLHQpe2NvbnN0IHM9bmV3IGtvO3JldHVybiBzLnRhZ3M9W10scy5zdHlsZT0iZ3JvdXAiLHMudGV4dFJhbmdlcz17d2hvbGU6dCxkZWZpbml0aW9uOntmcm9tOnQuZnJvbSx0bzp0LmZyb20rbi5sZW5ndGgsdHlwZTpXLlNlY3Rpb25EZWZpbml0aW9ufX0sbj1uLnJlcGxhY2UoRmksKGkscixvKT0+KHMuc3RhcnRFeHBhbmRlZD0hci5sZW5ndGgscy5zdHlsZT1vLHMudGV4dFJhbmdlcy5kZWZpbml0aW9uLnRvPXMudGV4dFJhbmdlcy5kZWZpbml0aW9uLmZyb20rci5sZW5ndGgrby5sZW5ndGgsIiIpKS5yZXBsYWNlKFVpLChpLHIpPT4ocy50YWdzLmluY2x1ZGVzKHIpfHxzLnRhZ3MucHVzaChyKSwiIikpLHMudGl0bGU9bi50cmltKCksc31mdW5jdGlvbiBrdShuLGUsdCl7dmFyIG8sYTtlPXR5cGVvZiBlPT0ic3RyaW5nIiYmZXx8dG47Y29uc3Qgcz1KU09OLnN0cmluZ2lmeSh7czpuLGZ1bGxGb3JtYXQ6ZX0pLGk9KG89dC5jYWNoZSk9PW51bGw/dm9pZCAwOm8uem9uZSh0LnRpbWV6b25lKS5zbGFzaERhdGUuZ2V0KHMpO2lmKGkpcmV0dXJuIGk7Y29uc3Qgcj1bW2UsImRheSJdLFtCeSwibW9udGgiXSxbV3ksInllYXIiXV07Zm9yKGNvbnN0IGwgb2Ygcil7bGV0IHU9TS5mcm9tRm9ybWF0KG4sbFswXSx7c2V0Wm9uZTohMCx6b25lOnQudGltZXpvbmV9KTtpZih1LmlzVmFsaWQpe2NvbnN0IGg9e2RhdGVUaW1lSXNvOnUudG9JU08oKSxncmFudWxhcml0eTpsWzFdfTtyZXR1cm4oYT10LmNhY2hlKT09bnVsbHx8YS56b25lKHQudGltZXpvbmUpLnNsYXNoRGF0ZS5zZXQocyxoKSxofX19ZnVuY3Rpb24gc3MobixlKXt2YXIgbztjb25zdCB0PUpTT04uc3RyaW5naWZ5KG4pLHM9KG89ZS5jYWNoZSk9PW51bGw/dm9pZCAwOm8uem9uZShlLnRpbWV6b25lKS5yb3VuZERhdGVVcC5nZXQodCk7aWYocylyZXR1cm4gcztjb25zdCBpPWE9Pnt2YXIgbDtyZXR1cm4obD1lLmNhY2hlKT09bnVsbHx8bC56b25lKGUudGltZXpvbmUpLnJvdW5kRGF0ZVVwLnNldCh0LGEpLGF9LHI9TS5mcm9tSVNPKG4uZGF0ZVRpbWVJc28se3NldFpvbmU6ITAsem9uZTplLnRpbWV6b25lfSk7cmV0dXJuIXIuaXNWYWxpZHx8WyJpbnN0YW50IiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCJdLmluY2x1ZGVzKG4uZ3JhbnVsYXJpdHkpP2kobi5kYXRlVGltZUlzbyk6aShyLnBsdXMoe1tuLmdyYW51bGFyaXR5XToxfSkudG9JU08oKSl9ZnVuY3Rpb24gRXUobixlLHQpe3JldHVybiB0eXBlb2Ygbj09InN0cmluZyImJihuPXBhcnNlSW50KG4pKSxlJiYoZT09PSJCQ0UifHxlPT09IkJDIikmJihuPS0obi0xKSksTS5mcm9tT2JqZWN0KHt5ZWFyOm59LHt6b25lOnQudGltZXpvbmV9KX1jb25zdCBQaT1bIk1PIiwiVFUiLCJXRSIsIlRIIiwiRlIiLCJTQSIsIlNVIl07Y2xhc3MgU2V7Y29uc3RydWN0b3IoZSx0KXtpZih0PT09MCl0aHJvdyBuZXcgRXJyb3IoIkNhbid0IGNyZWF0ZSB3ZWVrZGF5IHdpdGggbiA9PSAwIik7dGhpcy53ZWVrZGF5PWUsdGhpcy5uPXR9c3RhdGljIGZyb21TdHIoZSl7cmV0dXJuIG5ldyBTZShQaS5pbmRleE9mKGUpKX1udGgoZSl7cmV0dXJuIHRoaXMubj09PWU/dGhpczpuZXcgU2UodGhpcy53ZWVrZGF5LGUpfWVxdWFscyhlKXtyZXR1cm4gdGhpcy53ZWVrZGF5PT09ZS53ZWVrZGF5JiZ0aGlzLm49PT1lLm59dG9TdHJpbmcoKXtsZXQgZT1QaVt0aGlzLndlZWtkYXldO3JldHVybiB0aGlzLm4mJihlPSh0aGlzLm4+MD8iKyI6IiIpK1N0cmluZyh0aGlzLm4pK2UpLGV9Z2V0SnNXZWVrZGF5KCl7cmV0dXJuIHRoaXMud2Vla2RheT09PTY/MDp0aGlzLndlZWtkYXkrMX19Y29uc3Qga2U9ZnVuY3Rpb24obil7cmV0dXJuIG4hPW51bGx9LHh0PWZ1bmN0aW9uKG4pe3JldHVybiB0eXBlb2Ygbj09Im51bWJlciJ9LFN1PWZ1bmN0aW9uKG4pe3JldHVybiB0eXBlb2Ygbj09InN0cmluZyImJlBpLmluY2x1ZGVzKG4pfSxRZT1BcnJheS5pc0FycmF5LEx0PWZ1bmN0aW9uKG4sZT1uKXthcmd1bWVudHMubGVuZ3RoPT09MSYmKGU9bixuPTApO2NvbnN0IHQ9W107Zm9yKGxldCBzPW47czxlO3MrKyl0LnB1c2gocyk7cmV0dXJuIHR9LFg9ZnVuY3Rpb24obixlKXtsZXQgdD0wO2NvbnN0IHM9W107aWYoUWUobikpZm9yKDt0PGU7dCsrKXNbdF09W10uY29uY2F0KG4pO2Vsc2UgZm9yKDt0PGU7dCsrKXNbdF09bjtyZXR1cm4gc30saXA9ZnVuY3Rpb24obil7cmV0dXJuIFFlKG4pP246W25dfTtmdW5jdGlvbiBubihuLGUsdD0iICIpe2NvbnN0IHM9U3RyaW5nKG4pO3JldHVybiBlPWU+PjAscy5sZW5ndGg+ZT9TdHJpbmcocyk6KGU9ZS1zLmxlbmd0aCxlPnQubGVuZ3RoJiYodCs9WCh0LGUvdC5sZW5ndGgpKSx0LnNsaWNlKDAsZSkrU3RyaW5nKHMpKX1jb25zdCBycD1mdW5jdGlvbihuLGUsdCl7Y29uc3Qgcz1uLnNwbGl0KGUpO3JldHVybiB0P3Muc2xpY2UoMCx0KS5jb25jYXQoW3Muc2xpY2UodCkuam9pbihlKV0pOnN9LHV0PWZ1bmN0aW9uKG4sZSl7Y29uc3QgdD1uJWU7cmV0dXJuIHQqZTwwP3QrZTp0fSxFbz1mdW5jdGlvbihuLGUpe3JldHVybntkaXY6TWF0aC5mbG9vcihuL2UpLG1vZDp1dChuLGUpfX0sWXQ9ZnVuY3Rpb24obil7cmV0dXJuIWtlKG4pfHxuLmxlbmd0aD09PTB9LEllPWZ1bmN0aW9uKG4pe3JldHVybiFZdChuKX0saWU9ZnVuY3Rpb24obixlKXtyZXR1cm4gSWUobikmJm4uaW5kZXhPZihlKSE9PS0xfSxucz1mdW5jdGlvbihuLGUsdCxzPTAsaT0wLHI9MCl7cmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKG4sZS0xLHQscyxpLHIpKX0sb3A9WzMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXSxPdT0xZTMqNjAqNjAqMjQsSXU9OTk5OSxEdT1ucygxOTcwLDEsMSksYXA9WzYsMCwxLDIsMyw0LDVdLGpuPWZ1bmN0aW9uKG4pe3JldHVybiBuJTQ9PT0wJiZuJTEwMCE9PTB8fG4lNDAwPT09MH0sTXU9ZnVuY3Rpb24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiBEYXRlfSxxbj1mdW5jdGlvbihuKXtyZXR1cm4gTXUobikmJiFpc05hTihuLmdldFRpbWUoKSl9LGxwPWZ1bmN0aW9uKG4sZSl7Y29uc3QgdD1uLmdldFRpbWUoKSxzPWUuZ2V0VGltZSgpLGk9dC1zO3JldHVybiBNYXRoLnJvdW5kKGkvT3UpfSxTbz1mdW5jdGlvbihuKXtyZXR1cm4gbHAobixEdSl9LF91PWZ1bmN0aW9uKG4pe3JldHVybiBuZXcgRGF0ZShEdS5nZXRUaW1lKCkrbipPdSl9LHVwPWZ1bmN0aW9uKG4pe2NvbnN0IGU9bi5nZXRVVENNb250aCgpO3JldHVybiBlPT09MSYmam4obi5nZXRVVENGdWxsWWVhcigpKT8yOTpvcFtlXX0scm49ZnVuY3Rpb24obil7cmV0dXJuIGFwW24uZ2V0VVRDRGF5KCldfSxOdT1mdW5jdGlvbihuLGUpe2NvbnN0IHQ9bnMobixlKzEsMSk7cmV0dXJuW3JuKHQpLHVwKHQpXX0sdnU9ZnVuY3Rpb24obixlKXtyZXR1cm4gZT1lfHxuLG5ldyBEYXRlKERhdGUuVVRDKG4uZ2V0VVRDRnVsbFllYXIoKSxuLmdldFVUQ01vbnRoKCksbi5nZXRVVENEYXRlKCksZS5nZXRIb3VycygpLGUuZ2V0TWludXRlcygpLGUuZ2V0U2Vjb25kcygpLGUuZ2V0TWlsbGlzZWNvbmRzKCkpKX0sT289ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBEYXRlKG4uZ2V0VGltZSgpKX0sQXU9ZnVuY3Rpb24obil7Y29uc3QgZT1bXTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyllLnB1c2goT28oblt0XSkpO3JldHVybiBlfSxLbj1mdW5jdGlvbihuKXtuLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5nZXRUaW1lKCktdC5nZXRUaW1lKCl9KX0sSW89ZnVuY3Rpb24obixlPSEwKXtjb25zdCB0PW5ldyBEYXRlKG4pO3JldHVybltubih0LmdldFVUQ0Z1bGxZZWFyKCkudG9TdHJpbmcoKSw0LCIwIiksbm4odC5nZXRVVENNb250aCgpKzEsMiwiMCIpLG5uKHQuZ2V0VVRDRGF0ZSgpLDIsIjAiKSwiVCIsbm4odC5nZXRVVENIb3VycygpLDIsIjAiKSxubih0LmdldFVUQ01pbnV0ZXMoKSwyLCIwIiksbm4odC5nZXRVVENTZWNvbmRzKCksMiwiMCIpLGU/IloiOiIiXS5qb2luKCIiKX0sRG89ZnVuY3Rpb24obil7Y29uc3QgdD0vXihcZHs0fSkoXGR7Mn0pKFxkezJ9KShUKFxkezJ9KShcZHsyfSkoXGR7Mn0pWj8pPyQvLmV4ZWMobik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIFVOVElMIHZhbHVlOiAke259YCk7cmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKHBhcnNlSW50KHRbMV0sMTApLHBhcnNlSW50KHRbMl0sMTApLTEscGFyc2VJbnQodFszXSwxMCkscGFyc2VJbnQodFs1XSwxMCl8fDAscGFyc2VJbnQodFs2XSwxMCl8fDAscGFyc2VJbnQodFs3XSwxMCl8fDApKX0sQ3U9ZnVuY3Rpb24obixlKXtyZXR1cm4gbi50b0xvY2FsZVN0cmluZygic3YtU0UiLHt0aW1lWm9uZTplfSkucmVwbGFjZSgiICIsIlQiKSsiWiJ9LGNwPWZ1bmN0aW9uKG4sZSl7Y29uc3QgdD1JbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmUscz1uZXcgRGF0ZShDdShuLHQpKSxyPW5ldyBEYXRlKEN1KG4sZT8/IlVUQyIpKS5nZXRUaW1lKCktcy5nZXRUaW1lKCk7cmV0dXJuIG5ldyBEYXRlKG4uZ2V0VGltZSgpLXIpfTtjbGFzcyBpc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMubWluRGF0ZT1udWxsLHRoaXMubWF4RGF0ZT1udWxsLHRoaXMuX3Jlc3VsdD1bXSx0aGlzLnRvdGFsPTAsdGhpcy5tZXRob2Q9ZSx0aGlzLmFyZ3M9dCxlPT09ImJldHdlZW4iPyh0aGlzLm1heERhdGU9dC5pbmM/dC5iZWZvcmU6bmV3IERhdGUodC5iZWZvcmUuZ2V0VGltZSgpLTEpLHRoaXMubWluRGF0ZT10LmluYz90LmFmdGVyOm5ldyBEYXRlKHQuYWZ0ZXIuZ2V0VGltZSgpKzEpKTplPT09ImJlZm9yZSI/dGhpcy5tYXhEYXRlPXQuaW5jP3QuZHQ6bmV3IERhdGUodC5kdC5nZXRUaW1lKCktMSk6ZT09PSJhZnRlciImJih0aGlzLm1pbkRhdGU9dC5pbmM/dC5kdDpuZXcgRGF0ZSh0LmR0LmdldFRpbWUoKSsxKSl9YWNjZXB0KGUpeysrdGhpcy50b3RhbDtjb25zdCB0PXRoaXMubWluRGF0ZSYmZTx0aGlzLm1pbkRhdGUscz10aGlzLm1heERhdGUmJmU+dGhpcy5tYXhEYXRlO2lmKHRoaXMubWV0aG9kPT09ImJldHdlZW4iKXtpZih0KXJldHVybiEwO2lmKHMpcmV0dXJuITF9ZWxzZSBpZih0aGlzLm1ldGhvZD09PSJiZWZvcmUiKXtpZihzKXJldHVybiExfWVsc2UgaWYodGhpcy5tZXRob2Q9PT0iYWZ0ZXIiKXJldHVybiB0PyEwOih0aGlzLmFkZChlKSwhMSk7cmV0dXJuIHRoaXMuYWRkKGUpfWFkZChlKXtyZXR1cm4gdGhpcy5fcmVzdWx0LnB1c2goZSksITB9Z2V0VmFsdWUoKXtjb25zdCBlPXRoaXMuX3Jlc3VsdDtzd2l0Y2godGhpcy5tZXRob2Qpe2Nhc2UiYWxsIjpjYXNlImJldHdlZW4iOnJldHVybiBlO2Nhc2UiYmVmb3JlIjpjYXNlImFmdGVyIjpkZWZhdWx0OnJldHVybiBlLmxlbmd0aD9lW2UubGVuZ3RoLTFdOm51bGx9fWNsb25lKCl7cmV0dXJuIG5ldyBpcyh0aGlzLm1ldGhvZCx0aGlzLmFyZ3MpfX1jbGFzcyB4dSBleHRlbmRzIGlze2NvbnN0cnVjdG9yKGUsdCxzKXtzdXBlcihlLHQpLHRoaXMuaXRlcmF0b3I9c31hZGQoZSl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoZSx0aGlzLl9yZXN1bHQubGVuZ3RoKT8odGhpcy5fcmVzdWx0LnB1c2goZSksITApOiExfX1jb25zdCAkaT17ZGF5TmFtZXM6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLG1vbnRoTmFtZXM6WyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdLHRva2Vuczp7U0tJUDovXlsgXHJcblx0XSt8XlwuJC8sbnVtYmVyOi9eWzEtOV1bMC05XSovLG51bWJlckFzVGV4dDovXihvbmV8dHdvfHRocmVlKS9pLGV2ZXJ5Oi9eZXZlcnkvaSwiZGF5KHMpIjovXmRheXM/L2ksIndlZWtkYXkocykiOi9eKHdlZWtkYXlzP3xidXNpbmVzc1xzK2RheXM/fHdvcmtccytkYXlzPykvaSwid2VlayhzKSI6L14od2Vla3M/fHdrcz98d2Vla2x5KS9pLCJob3VyKHMpIjovXihob3Vycz98aHJzP3xob3VybHkpL2ksIm1pbnV0ZShzKSI6L14obWludXRlcz98bWlucz8pL2ksIm1vbnRoKHMpIjovXihtb250aHM/fG1vbnRobHkpL2ksInllYXIocykiOi9eKHllYXJzP3x5ZWFybHl8YW5udWFsbHkpL2ksb246L14ob258aW4pL2ksYXQ6L14oYXR8QCkvaSx0aGU6L150aGUvaSxmaXJzdDovXmZpcnN0L2ksc2Vjb25kOi9ec2Vjb25kL2ksdGhpcmQ6L150aGlyZC9pLG50aDovXihbMS05XVswLTldKikoXC58dGh8bmR8cmR8c3QpL2ksbGFzdDovXmxhc3QvaSxmb3I6L14oZm9yfHgpL2ksInRpbWUocykiOi9edGltZXM/L2ksdW50aWw6L14oKHVuKT90aWwpfFx8L2ksbW9uZGF5Oi9eKG1vXC4/KG5cLj8oZGF5cz8pPyk/KS9pLHR1ZXNkYXk6L14odHVcLj8oZVwuPyhzXC4/KGRheXM/KT8pPyk/KS9pLHdlZG5lc2RheTovXih3ZVwuPyhkXC4/KG5cLj8oZXNkYXlzPyk/KT8pPykvaSx0aHVyc2RheTovXih0aFwuPyh1XC4/KHJcLj8oc1wuPyhkYXlzPyk/KT8pPyk/KS9pLGZyaWRheTovXihmclwuPyhpXC4/KGRheXM/KT8pPykvaSxzYXR1cmRheTovXihzYVwuPyh0XC4/KHVyZGF5cz8pPyk/KS9pLHN1bmRheTovXihzdVwuPyhuXC4/KGRheXM/KT8pPykvaSxqYW51YXJ5Oi9eKGphblwuPyh1YXJ5KT8pL2ksZmVicnVhcnk6L14oZmViXC4/KHJ1YXJ5KT8pL2ksbWFyY2g6L14obWFyXC4/KGNoKT8pL2ksYXByaWw6L14oYXByXC4/KGlsKT8pL2ksbWF5Oi9ebWF5L2ksanVuZTovXihqdW5lP3xqdW5cLikvaSxqdWx5Oi9eKGp1bHk/fGp1bFwuKS9pLGF1Z3VzdDovXihhdWcodXN0KT98YXVnXC4pL2ksc2VwdGVtYmVyOi9eKHNlcCh0KGVtYmVyKT8pP3xzZXB0XC58c2VwXC4pL2ksb2N0b2JlcjovXihvY3Qob2Jlcik/fG9jdFwuKS9pLG5vdmVtYmVyOi9eKG5vdihlbWJlcik/fG5vdlwuKS9pLGRlY2VtYmVyOi9eKGRlYyhlbWJlcik/fGRlY1wuKS9pLGNvbW1hOi9eKCxccyp8KGFuZHxvcnwmKVxzKikrL2l9fSxMdT1mdW5jdGlvbihuLGUpe3JldHVybiBuLmluZGV4T2YoZSkhPT0tMX0saHA9bj0+bi50b1N0cmluZygpLGZwPShuLGUsdCk9PmAke2V9ICR7dH0sICR7bn1gO2NsYXNzIEtle2NvbnN0cnVjdG9yKGUsdD1ocCxzPSRpLGk9ZnApe2lmKHRoaXMudGV4dD1bXSx0aGlzLmxhbmd1YWdlPXN8fCRpLHRoaXMuZ2V0dGV4dD10LHRoaXMuZGF0ZUZvcm1hdHRlcj1pLHRoaXMucnJ1bGU9ZSx0aGlzLm9wdGlvbnM9ZS5vcHRpb25zLHRoaXMub3JpZ09wdGlvbnM9ZS5vcmlnT3B0aW9ucyx0aGlzLm9yaWdPcHRpb25zLmJ5bW9udGhkYXkpe2NvbnN0IHI9W10uY29uY2F0KHRoaXMub3B0aW9ucy5ieW1vbnRoZGF5KSxvPVtdLmNvbmNhdCh0aGlzLm9wdGlvbnMuYnlubW9udGhkYXkpO3Iuc29ydCgoYSxsKT0+YS1sKSxvLnNvcnQoKGEsbCk9PmwtYSksdGhpcy5ieW1vbnRoZGF5PXIuY29uY2F0KG8pLHRoaXMuYnltb250aGRheS5sZW5ndGh8fCh0aGlzLmJ5bW9udGhkYXk9bnVsbCl9aWYoa2UodGhpcy5vcmlnT3B0aW9ucy5ieXdlZWtkYXkpKXtjb25zdCByPVFlKHRoaXMub3JpZ09wdGlvbnMuYnl3ZWVrZGF5KT90aGlzLm9yaWdPcHRpb25zLmJ5d2Vla2RheTpbdGhpcy5vcmlnT3B0aW9ucy5ieXdlZWtkYXldLG89U3RyaW5nKHIpO3RoaXMuYnl3ZWVrZGF5PXthbGxXZWVrczpyLmZpbHRlcihmdW5jdGlvbihsKXtyZXR1cm4hbC5ufSksc29tZVdlZWtzOnIuZmlsdGVyKGZ1bmN0aW9uKGwpe3JldHVybiEhbC5ufSksaXNXZWVrZGF5czpvLmluZGV4T2YoIk1PIikhPT0tMSYmby5pbmRleE9mKCJUVSIpIT09LTEmJm8uaW5kZXhPZigiV0UiKSE9PS0xJiZvLmluZGV4T2YoIlRIIikhPT0tMSYmby5pbmRleE9mKCJGUiIpIT09LTEmJm8uaW5kZXhPZigiU0EiKT09PS0xJiZvLmluZGV4T2YoIlNVIik9PT0tMSxpc0V2ZXJ5RGF5Om8uaW5kZXhPZigiTU8iKSE9PS0xJiZvLmluZGV4T2YoIlRVIikhPT0tMSYmby5pbmRleE9mKCJXRSIpIT09LTEmJm8uaW5kZXhPZigiVEgiKSE9PS0xJiZvLmluZGV4T2YoIkZSIikhPT0tMSYmby5pbmRleE9mKCJTQSIpIT09LTEmJm8uaW5kZXhPZigiU1UiKSE9PS0xfTtjb25zdCBhPWZ1bmN0aW9uKGwsdSl7cmV0dXJuIGwud2Vla2RheS11LndlZWtkYXl9O3RoaXMuYnl3ZWVrZGF5LmFsbFdlZWtzLnNvcnQoYSksdGhpcy5ieXdlZWtkYXkuc29tZVdlZWtzLnNvcnQoYSksdGhpcy5ieXdlZWtkYXkuYWxsV2Vla3MubGVuZ3RofHwodGhpcy5ieXdlZWtkYXkuYWxsV2Vla3M9bnVsbCksdGhpcy5ieXdlZWtkYXkuc29tZVdlZWtzLmxlbmd0aHx8KHRoaXMuYnl3ZWVrZGF5LnNvbWVXZWVrcz1udWxsKX1lbHNlIHRoaXMuYnl3ZWVrZGF5PW51bGx9c3RhdGljIGlzRnVsbHlDb252ZXJ0aWJsZShlKXtpZighKGUub3B0aW9ucy5mcmVxIGluIEtlLklNUExFTUVOVEVEKXx8ZS5vcmlnT3B0aW9ucy51bnRpbCYmZS5vcmlnT3B0aW9ucy5jb3VudClyZXR1cm4hMTtmb3IoY29uc3QgcyBpbiBlLm9yaWdPcHRpb25zKXtpZihMdShbImR0c3RhcnQiLCJ0emlkIiwid2tzdCIsImZyZXEiXSxzKSlyZXR1cm4hMDtpZighTHUoS2UuSU1QTEVNRU5URURbZS5vcHRpb25zLmZyZXFdLHMpKXJldHVybiExfXJldHVybiEwfWlzRnVsbHlDb252ZXJ0aWJsZSgpe3JldHVybiBLZS5pc0Z1bGx5Q29udmVydGlibGUodGhpcy5ycnVsZSl9dG9TdHJpbmcoKXtjb25zdCBlPXRoaXMuZ2V0dGV4dDtpZighKHRoaXMub3B0aW9ucy5mcmVxIGluIEtlLklNUExFTUVOVEVEKSlyZXR1cm4gZSgiUlJ1bGUgZXJyb3I6IFVuYWJsZSB0byBmdWxseSBjb252ZXJ0IHRoaXMgcnJ1bGUgdG8gdGV4dCIpO2lmKHRoaXMudGV4dD1bZSgiZXZlcnkiKV0sdGhpc1tELkZSRVFVRU5DSUVTW3RoaXMub3B0aW9ucy5mcmVxXV0oKSx0aGlzLm9wdGlvbnMudW50aWwpe3RoaXMuYWRkKGUoInVudGlsIikpO2NvbnN0IHQ9dGhpcy5vcHRpb25zLnVudGlsO3RoaXMuYWRkKHRoaXMuZGF0ZUZvcm1hdHRlcih0LmdldFVUQ0Z1bGxZZWFyKCksdGhpcy5sYW5ndWFnZS5tb250aE5hbWVzW3QuZ2V0VVRDTW9udGgoKV0sdC5nZXRVVENEYXRlKCkpKX1lbHNlIHRoaXMub3B0aW9ucy5jb3VudCYmdGhpcy5hZGQoZSgiZm9yIikpLmFkZCh0aGlzLm9wdGlvbnMuY291bnQudG9TdHJpbmcoKSkuYWRkKHRoaXMucGx1cmFsKHRoaXMub3B0aW9ucy5jb3VudCk/ZSgidGltZXMiKTplKCJ0aW1lIikpO3JldHVybiB0aGlzLmlzRnVsbHlDb252ZXJ0aWJsZSgpfHx0aGlzLmFkZChlKCIofiBhcHByb3hpbWF0ZSkiKSksdGhpcy50ZXh0LmpvaW4oIiIpfUhPVVJMWSgpe2NvbnN0IGU9dGhpcy5nZXR0ZXh0O3RoaXMub3B0aW9ucy5pbnRlcnZhbCE9PTEmJnRoaXMuYWRkKHRoaXMub3B0aW9ucy5pbnRlcnZhbC50b1N0cmluZygpKSx0aGlzLmFkZCh0aGlzLnBsdXJhbCh0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpP2UoImhvdXJzIik6ZSgiaG91ciIpKX1NSU5VVEVMWSgpe2NvbnN0IGU9dGhpcy5nZXR0ZXh0O3RoaXMub3B0aW9ucy5pbnRlcnZhbCE9PTEmJnRoaXMuYWRkKHRoaXMub3B0aW9ucy5pbnRlcnZhbC50b1N0cmluZygpKSx0aGlzLmFkZCh0aGlzLnBsdXJhbCh0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpP2UoIm1pbnV0ZXMiKTplKCJtaW51dGUiKSl9REFJTFkoKXtjb25zdCBlPXRoaXMuZ2V0dGV4dDt0aGlzLm9wdGlvbnMuaW50ZXJ2YWwhPT0xJiZ0aGlzLmFkZCh0aGlzLm9wdGlvbnMuaW50ZXJ2YWwudG9TdHJpbmcoKSksdGhpcy5ieXdlZWtkYXkmJnRoaXMuYnl3ZWVrZGF5LmlzV2Vla2RheXM/dGhpcy5hZGQodGhpcy5wbHVyYWwodGhpcy5vcHRpb25zLmludGVydmFsKT9lKCJ3ZWVrZGF5cyIpOmUoIndlZWtkYXkiKSk6dGhpcy5hZGQodGhpcy5wbHVyYWwodGhpcy5vcHRpb25zLmludGVydmFsKT9lKCJkYXlzIik6ZSgiZGF5IikpLHRoaXMub3JpZ09wdGlvbnMuYnltb250aCYmKHRoaXMuYWRkKGUoImluIikpLHRoaXMuX2J5bW9udGgoKSksdGhpcy5ieW1vbnRoZGF5P3RoaXMuX2J5bW9udGhkYXkoKTp0aGlzLmJ5d2Vla2RheT90aGlzLl9ieXdlZWtkYXkoKTp0aGlzLm9yaWdPcHRpb25zLmJ5aG91ciYmdGhpcy5fYnlob3VyKCl9V0VFS0xZKCl7Y29uc3QgZT10aGlzLmdldHRleHQ7dGhpcy5vcHRpb25zLmludGVydmFsIT09MSYmdGhpcy5hZGQodGhpcy5vcHRpb25zLmludGVydmFsLnRvU3RyaW5nKCkpLmFkZCh0aGlzLnBsdXJhbCh0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpP2UoIndlZWtzIik6ZSgid2VlayIpKSx0aGlzLmJ5d2Vla2RheSYmdGhpcy5ieXdlZWtkYXkuaXNXZWVrZGF5cz90aGlzLm9wdGlvbnMuaW50ZXJ2YWw9PT0xP3RoaXMuYWRkKHRoaXMucGx1cmFsKHRoaXMub3B0aW9ucy5pbnRlcnZhbCk/ZSgid2Vla2RheXMiKTplKCJ3ZWVrZGF5IikpOnRoaXMuYWRkKGUoIm9uIikpLmFkZChlKCJ3ZWVrZGF5cyIpKTp0aGlzLmJ5d2Vla2RheSYmdGhpcy5ieXdlZWtkYXkuaXNFdmVyeURheT90aGlzLnBsdXJhbCh0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpP3RoaXMuYWRkKGUoIm9uIikpLmFkZChlKCJldmVyeSIpKS5hZGQoZSgiZGF5IikpOnRoaXMuYWRkKGUoImRheSIpKToodGhpcy5vcHRpb25zLmludGVydmFsPT09MSYmdGhpcy5hZGQoZSgid2VlayIpKSx0aGlzLm9yaWdPcHRpb25zLmJ5bW9udGgmJih0aGlzLmFkZChlKCJpbiIpKSx0aGlzLl9ieW1vbnRoKCkpLHRoaXMuYnltb250aGRheT90aGlzLl9ieW1vbnRoZGF5KCk6dGhpcy5ieXdlZWtkYXkmJnRoaXMuX2J5d2Vla2RheSgpLHRoaXMub3JpZ09wdGlvbnMuYnlob3VyJiZ0aGlzLl9ieWhvdXIoKSl9TU9OVEhMWSgpe2NvbnN0IGU9dGhpcy5nZXR0ZXh0O3RoaXMub3JpZ09wdGlvbnMuYnltb250aD8odGhpcy5vcHRpb25zLmludGVydmFsIT09MSYmKHRoaXMuYWRkKHRoaXMub3B0aW9ucy5pbnRlcnZhbC50b1N0cmluZygpKS5hZGQoZSgibW9udGhzIikpLHRoaXMucGx1cmFsKHRoaXMub3B0aW9ucy5pbnRlcnZhbCkmJnRoaXMuYWRkKGUoImluIikpKSx0aGlzLl9ieW1vbnRoKCkpOih0aGlzLm9wdGlvbnMuaW50ZXJ2YWwhPT0xJiZ0aGlzLmFkZCh0aGlzLm9wdGlvbnMuaW50ZXJ2YWwudG9TdHJpbmcoKSksdGhpcy5hZGQodGhpcy5wbHVyYWwodGhpcy5vcHRpb25zLmludGVydmFsKT9lKCJtb250aHMiKTplKCJtb250aCIpKSksdGhpcy5ieW1vbnRoZGF5P3RoaXMuX2J5bW9udGhkYXkoKTp0aGlzLmJ5d2Vla2RheSYmdGhpcy5ieXdlZWtkYXkuaXNXZWVrZGF5cz90aGlzLmFkZChlKCJvbiIpKS5hZGQoZSgid2Vla2RheXMiKSk6dGhpcy5ieXdlZWtkYXkmJnRoaXMuX2J5d2Vla2RheSgpfVlFQVJMWSgpe2NvbnN0IGU9dGhpcy5nZXR0ZXh0O3RoaXMub3JpZ09wdGlvbnMuYnltb250aD8odGhpcy5vcHRpb25zLmludGVydmFsIT09MSYmKHRoaXMuYWRkKHRoaXMub3B0aW9ucy5pbnRlcnZhbC50b1N0cmluZygpKSx0aGlzLmFkZChlKCJ5ZWFycyIpKSksdGhpcy5fYnltb250aCgpKToodGhpcy5vcHRpb25zLmludGVydmFsIT09MSYmdGhpcy5hZGQodGhpcy5vcHRpb25zLmludGVydmFsLnRvU3RyaW5nKCkpLHRoaXMuYWRkKHRoaXMucGx1cmFsKHRoaXMub3B0aW9ucy5pbnRlcnZhbCk/ZSgieWVhcnMiKTplKCJ5ZWFyIikpKSx0aGlzLmJ5bW9udGhkYXk/dGhpcy5fYnltb250aGRheSgpOnRoaXMuYnl3ZWVrZGF5JiZ0aGlzLl9ieXdlZWtkYXkoKSx0aGlzLm9wdGlvbnMuYnl5ZWFyZGF5JiZ0aGlzLmFkZChlKCJvbiB0aGUiKSkuYWRkKHRoaXMubGlzdCh0aGlzLm9wdGlvbnMuYnl5ZWFyZGF5LHRoaXMubnRoLGUoImFuZCIpKSkuYWRkKGUoImRheSIpKSx0aGlzLm9wdGlvbnMuYnl3ZWVrbm8mJnRoaXMuYWRkKGUoImluIikpLmFkZCh0aGlzLnBsdXJhbCh0aGlzLm9wdGlvbnMuYnl3ZWVrbm8ubGVuZ3RoKT9lKCJ3ZWVrcyIpOmUoIndlZWsiKSkuYWRkKHRoaXMubGlzdCh0aGlzLm9wdGlvbnMuYnl3ZWVrbm8sdm9pZCAwLGUoImFuZCIpKSl9X2J5bW9udGhkYXkoKXtjb25zdCBlPXRoaXMuZ2V0dGV4dDt0aGlzLmJ5d2Vla2RheSYmdGhpcy5ieXdlZWtkYXkuYWxsV2Vla3M/dGhpcy5hZGQoZSgib24iKSkuYWRkKHRoaXMubGlzdCh0aGlzLmJ5d2Vla2RheS5hbGxXZWVrcyx0aGlzLndlZWtkYXl0ZXh0LGUoIm9yIikpKS5hZGQoZSgidGhlIikpLmFkZCh0aGlzLmxpc3QodGhpcy5ieW1vbnRoZGF5LHRoaXMubnRoLGUoIm9yIikpKTp0aGlzLmFkZChlKCJvbiB0aGUiKSkuYWRkKHRoaXMubGlzdCh0aGlzLmJ5bW9udGhkYXksdGhpcy5udGgsZSgiYW5kIikpKX1fYnl3ZWVrZGF5KCl7Y29uc3QgZT10aGlzLmdldHRleHQ7dGhpcy5ieXdlZWtkYXkuYWxsV2Vla3MmJiF0aGlzLmJ5d2Vla2RheS5pc1dlZWtkYXlzJiZ0aGlzLmFkZChlKCJvbiIpKS5hZGQodGhpcy5saXN0KHRoaXMuYnl3ZWVrZGF5LmFsbFdlZWtzLHRoaXMud2Vla2RheXRleHQpKSx0aGlzLmJ5d2Vla2RheS5zb21lV2Vla3MmJih0aGlzLmJ5d2Vla2RheS5hbGxXZWVrcyYmdGhpcy5hZGQoZSgiYW5kIikpLHRoaXMuYWRkKGUoIm9uIHRoZSIpKS5hZGQodGhpcy5saXN0KHRoaXMuYnl3ZWVrZGF5LnNvbWVXZWVrcyx0aGlzLndlZWtkYXl0ZXh0LGUoImFuZCIpKSkpfV9ieWhvdXIoKXtjb25zdCBlPXRoaXMuZ2V0dGV4dDt0aGlzLmFkZChlKCJhdCIpKS5hZGQodGhpcy5saXN0KHRoaXMub3JpZ09wdGlvbnMuYnlob3VyLHZvaWQgMCxlKCJhbmQiKSkpfV9ieW1vbnRoKCl7dGhpcy5hZGQodGhpcy5saXN0KHRoaXMub3B0aW9ucy5ieW1vbnRoLHRoaXMubW9udGh0ZXh0LHRoaXMuZ2V0dGV4dCgiYW5kIikpKX1udGgoZSl7ZT1wYXJzZUludChlLnRvU3RyaW5nKCksMTApO2xldCB0O2NvbnN0IHM9dGhpcy5nZXR0ZXh0O2lmKGU9PT0tMSlyZXR1cm4gcygibGFzdCIpO2NvbnN0IGk9TWF0aC5hYnMoZSk7c3dpdGNoKGkpe2Nhc2UgMTpjYXNlIDIxOmNhc2UgMzE6dD1pK3MoInN0Iik7YnJlYWs7Y2FzZSAyOmNhc2UgMjI6dD1pK3MoIm5kIik7YnJlYWs7Y2FzZSAzOmNhc2UgMjM6dD1pK3MoInJkIik7YnJlYWs7ZGVmYXVsdDp0PWkrcygidGgiKX1yZXR1cm4gZTwwP3QrIiAiK3MoImxhc3QiKTp0fW1vbnRodGV4dChlKXtyZXR1cm4gdGhpcy5sYW5ndWFnZS5tb250aE5hbWVzW2UtMV19d2Vla2RheXRleHQoZSl7Y29uc3QgdD14dChlKT8oZSsxKSU3OmUuZ2V0SnNXZWVrZGF5KCk7cmV0dXJuKGUubj90aGlzLm50aChlLm4pKyIgIjoiIikrdGhpcy5sYW5ndWFnZS5kYXlOYW1lc1t0XX1wbHVyYWwoZSl7cmV0dXJuIGUlMTAwIT09MX1hZGQoZSl7cmV0dXJuIHRoaXMudGV4dC5wdXNoKCIgIiksdGhpcy50ZXh0LnB1c2goZSksdGhpc31saXN0KGUsdCxzLGk9IiwiKXtRZShlKXx8KGU9W2VdKTtjb25zdCByPWZ1bmN0aW9uKGEsbCx1KXtsZXQgaD0iIjtmb3IobGV0IGM9MDtjPGEubGVuZ3RoO2MrKyljIT09MCYmKGM9PT1hLmxlbmd0aC0xP2grPSIgIit1KyIgIjpoKz1sKyIgIiksaCs9YVtjXTtyZXR1cm4gaH07dD10fHxmdW5jdGlvbihhKXtyZXR1cm4gYS50b1N0cmluZygpfTtjb25zdCBvPWE9PnQmJnQuY2FsbCh0aGlzLGEpO3JldHVybiBzP3IoZS5tYXAobyksaSxzKTplLm1hcChvKS5qb2luKGkrIiAiKX19bGV0IGRwPWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuZG9uZT0hMCx0aGlzLnJ1bGVzPWV9c3RhcnQoZSl7cmV0dXJuIHRoaXMudGV4dD1lLHRoaXMuZG9uZT0hMSx0aGlzLm5leHRTeW1ib2woKX1pc0RvbmUoKXtyZXR1cm4gdGhpcy5kb25lJiZ0aGlzLnN5bWJvbD09PW51bGx9bmV4dFN5bWJvbCgpe2xldCBlLHQ7dGhpcy5zeW1ib2w9bnVsbCx0aGlzLnZhbHVlPW51bGw7ZG97aWYodGhpcy5kb25lKXJldHVybiExO2xldCBzO2U9bnVsbDtmb3IoY29uc3QgaSBpbiB0aGlzLnJ1bGVzKXtzPXRoaXMucnVsZXNbaV07Y29uc3Qgcj1zLmV4ZWModGhpcy50ZXh0KTtyJiYoZT09PW51bGx8fHJbMF0ubGVuZ3RoPmVbMF0ubGVuZ3RoKSYmKGU9cix0PWkpfWlmKGUhPW51bGwmJih0aGlzLnRleHQ9dGhpcy50ZXh0LnN1YnN0cihlWzBdLmxlbmd0aCksdGhpcy50ZXh0PT09IiImJih0aGlzLmRvbmU9ITApKSxlPT1udWxsKXt0aGlzLmRvbmU9ITAsdGhpcy5zeW1ib2w9bnVsbCx0aGlzLnZhbHVlPW51bGw7cmV0dXJufX13aGlsZSh0PT09IlNLSVAiKTtyZXR1cm4gdGhpcy5zeW1ib2w9dCx0aGlzLnZhbHVlPWUsITB9YWNjZXB0KGUpe2lmKHRoaXMuc3ltYm9sPT09ZSl7aWYodGhpcy52YWx1ZSl7Y29uc3QgdD10aGlzLnZhbHVlO3JldHVybiB0aGlzLm5leHRTeW1ib2woKSx0fXJldHVybiB0aGlzLm5leHRTeW1ib2woKSwhMH1yZXR1cm4hMX1hY2NlcHROdW1iZXIoKXtyZXR1cm4gdGhpcy5hY2NlcHQoIm51bWJlciIpfWV4cGVjdChlKXtpZih0aGlzLmFjY2VwdChlKSlyZXR1cm4hMDt0aHJvdyBuZXcgRXJyb3IoImV4cGVjdGVkICIrZSsiIGJ1dCBmb3VuZCAiK3RoaXMuc3ltYm9sKX19O2Z1bmN0aW9uIFl1KG4sZT0kaSl7Y29uc3QgdD17fSxzPW5ldyBkcChlLnRva2Vucyk7aWYoIXMuc3RhcnQobikpcmV0dXJuIG51bGw7cmV0dXJuIGkoKSx0LmJ5d2Vla2RheSYmQXJyYXkuaXNBcnJheSh0LmJ5d2Vla2RheSkmJih0LmJ5d2Vla2RheT1bLi4ubmV3IFNldCh0LmJ5d2Vla2RheSldKSx0LmJ5bW9udGgmJkFycmF5LmlzQXJyYXkodC5ieW1vbnRoKSYmKHQuYnltb250aD1bLi4ubmV3IFNldCh0LmJ5bW9udGgpXSksdDtmdW5jdGlvbiBpKCl7cy5leHBlY3QoImV2ZXJ5Iik7Y29uc3QgbT1zLmFjY2VwdE51bWJlcigpO2lmKG0mJih0LmludGVydmFsPXBhcnNlSW50KG1bMF0sMTApKSxzLmlzRG9uZSgpKXRocm93IG5ldyBFcnJvcigiVW5leHBlY3RlZCBlbmQiKTtzd2l0Y2gocy5zeW1ib2wpe2Nhc2UiZGF5KHMpIjppZih0LmZyZXE9RC5EQUlMWSxzLm5leHRTeW1ib2woKSwhcy5pc0RvbmUoKSl7aWYocy5hY2NlcHQoIm9uIikpe2NvbnN0IGc9YSgpO2cmJih0LmJ5bW9udGg9W2ddLHMubmV4dFN5bWJvbCgpKX1vKCksYygpfWJyZWFrO2Nhc2Uid2Vla2RheShzKSI6dC5mcmVxPUQuV0VFS0xZLHQuYnl3ZWVrZGF5PVtELk1PLEQuVFUsRC5XRSxELlRILEQuRlJdLHMubmV4dFN5bWJvbCgpLG8oKSxjKCk7YnJlYWs7Y2FzZSJ3ZWVrKHMpIjp0LmZyZXE9RC5XRUVLTFkscy5uZXh0U3ltYm9sKCkmJihyKCksbygpLGMoKSk7YnJlYWs7Y2FzZSJob3VyKHMpIjp0LmZyZXE9RC5IT1VSTFkscy5uZXh0U3ltYm9sKCkmJihyKCksYygpKTticmVhaztjYXNlIm1pbnV0ZShzKSI6dC5mcmVxPUQuTUlOVVRFTFkscy5uZXh0U3ltYm9sKCkmJihyKCksYygpKTticmVhaztjYXNlIm1vbnRoKHMpIjp0LmZyZXE9RC5NT05USExZLHMubmV4dFN5bWJvbCgpJiYocigpLGMoKSk7YnJlYWs7Y2FzZSJ5ZWFyKHMpIjp0LmZyZXE9RC5ZRUFSTFkscy5uZXh0U3ltYm9sKCkmJihyKCksYygpKTticmVhaztjYXNlIm1vbmRheSI6Y2FzZSJ0dWVzZGF5IjpjYXNlIndlZG5lc2RheSI6Y2FzZSJ0aHVyc2RheSI6Y2FzZSJmcmlkYXkiOmNhc2Uic2F0dXJkYXkiOmNhc2Uic3VuZGF5Ijp0LmZyZXE9RC5XRUVLTFk7Y29uc3QgZj1zLnN5bWJvbC5zdWJzdHIoMCwyKS50b1VwcGVyQ2FzZSgpO2lmKHQuYnl3ZWVrZGF5PVtEW2ZdXSwhcy5uZXh0U3ltYm9sKCkpcmV0dXJuO2Zvcig7cy5hY2NlcHQoImNvbW1hIik7KXtpZihzLmlzRG9uZSgpKXRocm93IG5ldyBFcnJvcigiVW5leHBlY3RlZCBlbmQiKTtjb25zdCBnPWwoKTtpZighZyl0aHJvdyBuZXcgRXJyb3IoIlVuZXhwZWN0ZWQgc3ltYm9sICIrcy5zeW1ib2wrIiwgZXhwZWN0ZWQgd2Vla2RheSIpO3QuYnl3ZWVrZGF5LnB1c2goRFtnXSkscy5uZXh0U3ltYm9sKCl9bygpLGgoKSxjKCk7YnJlYWs7Y2FzZSJqYW51YXJ5IjpjYXNlImZlYnJ1YXJ5IjpjYXNlIm1hcmNoIjpjYXNlImFwcmlsIjpjYXNlIm1heSI6Y2FzZSJqdW5lIjpjYXNlImp1bHkiOmNhc2UiYXVndXN0IjpjYXNlInNlcHRlbWJlciI6Y2FzZSJvY3RvYmVyIjpjYXNlIm5vdmVtYmVyIjpjYXNlImRlY2VtYmVyIjppZih0LmZyZXE9RC5ZRUFSTFksdC5ieW1vbnRoPVthKCldLCFzLm5leHRTeW1ib2woKSlyZXR1cm47Zm9yKDtzLmFjY2VwdCgiY29tbWEiKTspe2lmKHMuaXNEb25lKCkpdGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIGVuZCIpO2NvbnN0IGc9YSgpO2lmKCFnKXRocm93IG5ldyBFcnJvcigiVW5leHBlY3RlZCBzeW1ib2wgIitzLnN5bWJvbCsiLCBleHBlY3RlZCBtb250aCIpO3QuYnltb250aC5wdXNoKGcpLHMubmV4dFN5bWJvbCgpfXIoKSxjKCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc3ltYm9sOiAke3Muc3ltYm9sfWApfX1mdW5jdGlvbiByKCl7Y29uc3QgbT1zLmFjY2VwdCgib24iKSxmPXMuYWNjZXB0KCJ0aGUiKTtpZighKG18fGYpKXJldHVybjtpZihzLmFjY2VwdCgiZXZlcnkiKSl7cy5hY2NlcHQoImRheShzKSIpJiYodC5ieXdlZWtkYXk9W0QuTU8sRC5UVSxELldFLEQuVEgsRC5GUixELlNBLEQuU1VdKTtyZXR1cm59ZG97Y29uc3QgZD11KCkseT1sKCksdz1hKCk7aWYoZCl5PyhzLm5leHRTeW1ib2woKSx0LmJ5d2Vla2RheXx8KHQuYnl3ZWVrZGF5PVtdKSx0LmJ5d2Vla2RheS5wdXNoKERbeV0ubnRoKGQpKSk6KHQuYnltb250aGRheXx8KHQuYnltb250aGRheT1bXSksdC5ieW1vbnRoZGF5LnB1c2goZCkscy5hY2NlcHQoImRheShzKSIpKTtlbHNlIGlmKHkpcy5uZXh0U3ltYm9sKCksdC5ieXdlZWtkYXl8fCh0LmJ5d2Vla2RheT1bXSksdC5ieXdlZWtkYXkucHVzaChEW3ldKTtlbHNlIGlmKHMuc3ltYm9sPT09IndlZWtkYXkocykiKXMubmV4dFN5bWJvbCgpLHQuYnl3ZWVrZGF5fHwodC5ieXdlZWtkYXk9W0QuTU8sRC5UVSxELldFLEQuVEgsRC5GUl0pO2Vsc2UgaWYocy5zeW1ib2w9PT0id2VlayhzKSIpe3MubmV4dFN5bWJvbCgpO2xldCBiPXMuYWNjZXB0TnVtYmVyKCk7aWYoIWIpdGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIHN5bWJvbCAiK3Muc3ltYm9sKyIsIGV4cGVjdGVkIHdlZWsgbnVtYmVyIik7Zm9yKHQuYnl3ZWVrbm89W3BhcnNlSW50KGJbMF0sMTApXTtzLmFjY2VwdCgiY29tbWEiKTspe2lmKGI9cy5hY2NlcHROdW1iZXIoKSwhYil0aHJvdyBuZXcgRXJyb3IoIlVuZXhwZWN0ZWQgc3ltYm9sICIrcy5zeW1ib2wrIjsgZXhwZWN0ZWQgbW9udGhkYXkiKTt0LmJ5d2Vla25vLnB1c2gocGFyc2VJbnQoYlswXSwxMCkpfX1lbHNlIGlmKHcpcy5uZXh0U3ltYm9sKCksdC5ieW1vbnRofHwodC5ieW1vbnRoPVtdKSx0LmJ5bW9udGgucHVzaCh3KTtlbHNlIHJldHVybn13aGlsZShzLmFjY2VwdCgiY29tbWEiKXx8cy5hY2NlcHQoInRoZSIpfHxzLmFjY2VwdCgib24iKSl9ZnVuY3Rpb24gbygpe2lmKHMuYWNjZXB0KCJhdCIpKWRve2xldCBmPXMuYWNjZXB0TnVtYmVyKCk7aWYoIWYpdGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIHN5bWJvbCAiK3Muc3ltYm9sKyIsIGV4cGVjdGVkIGhvdXIiKTtmb3IodC5ieWhvdXI9W3BhcnNlSW50KGZbMF0sMTApXTtzLmFjY2VwdCgiY29tbWEiKTspe2lmKGY9cy5hY2NlcHROdW1iZXIoKSwhZil0aHJvdyBuZXcgRXJyb3IoIlVuZXhwZWN0ZWQgc3ltYm9sICIrcy5zeW1ib2wrIjsgZXhwZWN0ZWQgaG91ciIpO3QuYnlob3VyLnB1c2gocGFyc2VJbnQoZlswXSwxMCkpfX13aGlsZShzLmFjY2VwdCgiY29tbWEiKXx8cy5hY2NlcHQoImF0IikpfWZ1bmN0aW9uIGEoKXtzd2l0Y2gocy5zeW1ib2wpe2Nhc2UiamFudWFyeSI6cmV0dXJuIDE7Y2FzZSJmZWJydWFyeSI6cmV0dXJuIDI7Y2FzZSJtYXJjaCI6cmV0dXJuIDM7Y2FzZSJhcHJpbCI6cmV0dXJuIDQ7Y2FzZSJtYXkiOnJldHVybiA1O2Nhc2UianVuZSI6cmV0dXJuIDY7Y2FzZSJqdWx5IjpyZXR1cm4gNztjYXNlImF1Z3VzdCI6cmV0dXJuIDg7Y2FzZSJzZXB0ZW1iZXIiOnJldHVybiA5O2Nhc2Uib2N0b2JlciI6cmV0dXJuIDEwO2Nhc2Uibm92ZW1iZXIiOnJldHVybiAxMTtjYXNlImRlY2VtYmVyIjpyZXR1cm4gMTI7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gbCgpe3N3aXRjaChzLnN5bWJvbCl7Y2FzZSJtb25kYXkiOmNhc2UidHVlc2RheSI6Y2FzZSJ3ZWRuZXNkYXkiOmNhc2UidGh1cnNkYXkiOmNhc2UiZnJpZGF5IjpjYXNlInNhdHVyZGF5IjpjYXNlInN1bmRheSI6cmV0dXJuIHMuc3ltYm9sLnN1YnN0cigwLDIpLnRvVXBwZXJDYXNlKCk7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gdSgpe3N3aXRjaChzLnN5bWJvbCl7Y2FzZSJsYXN0IjpyZXR1cm4gcy5uZXh0U3ltYm9sKCksLTE7Y2FzZSJmaXJzdCI6cmV0dXJuIHMubmV4dFN5bWJvbCgpLDE7Y2FzZSJzZWNvbmQiOnJldHVybiBzLm5leHRTeW1ib2woKSxzLmFjY2VwdCgibGFzdCIpPy0yOjI7Y2FzZSJ0aGlyZCI6cmV0dXJuIHMubmV4dFN5bWJvbCgpLHMuYWNjZXB0KCJsYXN0Iik/LTM6MztjYXNlIm50aCI6Y29uc3QgbT1wYXJzZUludChzLnZhbHVlWzFdLDEwKTtpZihtPC0zNjZ8fG0+MzY2KXRocm93IG5ldyBFcnJvcigiTnRoIG91dCBvZiByYW5nZTogIittKTtyZXR1cm4gcy5uZXh0U3ltYm9sKCkscy5hY2NlcHQoImxhc3QiKT8tbTptO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIGgoKXtzLmFjY2VwdCgib24iKSxzLmFjY2VwdCgidGhlIik7bGV0IG09dSgpO2lmKG0pZm9yKHQuYnltb250aGRheT1bbV0scy5uZXh0U3ltYm9sKCk7cy5hY2NlcHQoImNvbW1hIik7KXtpZihtPXUoKSwhbSl0aHJvdyBuZXcgRXJyb3IoIlVuZXhwZWN0ZWQgc3ltYm9sICIrcy5zeW1ib2wrIjsgZXhwZWN0ZWQgbW9udGhkYXkiKTt0LmJ5bW9udGhkYXkucHVzaChtKSxzLm5leHRTeW1ib2woKX19ZnVuY3Rpb24gYygpe2lmKHMuc3ltYm9sPT09InVudGlsIil7Y29uc3QgbT1zLnRleHQudHJpbSgpPT09Im5vdyI/RGF0ZS5ub3coKTpEYXRlLnBhcnNlKHMudGV4dCk7aWYoIW0pdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgcGFyc2UgdW50aWwgZGF0ZToiK3MudGV4dCk7dC51bnRpbD1uZXcgRGF0ZShtKX1lbHNlIHMuYWNjZXB0KCJmb3IiKSYmKHQuY291bnQ9cGFyc2VJbnQocy52YWx1ZVswXSwxMCkscy5leHBlY3QoIm51bWJlciIpKX19dmFyIGo7KGZ1bmN0aW9uKG4pe25bbi5ZRUFSTFk9MF09IllFQVJMWSIsbltuLk1PTlRITFk9MV09Ik1PTlRITFkiLG5bbi5XRUVLTFk9Ml09IldFRUtMWSIsbltuLkRBSUxZPTNdPSJEQUlMWSIsbltuLkhPVVJMWT00XT0iSE9VUkxZIixuW24uTUlOVVRFTFk9NV09Ik1JTlVURUxZIixuW24uU0VDT05ETFk9Nl09IlNFQ09ORExZIn0pKGp8fChqPXt9KSk7ZnVuY3Rpb24gTW8obil7cmV0dXJuIG48ai5IT1VSTFl9Y29uc3QgbXA9ZnVuY3Rpb24obixlPSRpKXtyZXR1cm4gbmV3IEQoWXUobixlKXx8dm9pZCAwKX0sb249WyJjb3VudCIsInVudGlsIiwiaW50ZXJ2YWwiLCJieXdlZWtkYXkiLCJieW1vbnRoZGF5IiwiYnltb250aCJdO0tlLklNUExFTUVOVEVEPVtdLEtlLklNUExFTUVOVEVEW2ouSE9VUkxZXT1vbixLZS5JTVBMRU1FTlRFRFtqLk1JTlVURUxZXT1vbixLZS5JTVBMRU1FTlRFRFtqLkRBSUxZXT1bImJ5aG91ciJdLmNvbmNhdChvbiksS2UuSU1QTEVNRU5URURbai5XRUVLTFldPW9uLEtlLklNUExFTUVOVEVEW2ouTU9OVEhMWV09b24sS2UuSU1QTEVNRU5URURbai5ZRUFSTFldPVsiYnl3ZWVrbm8iLCJieXllYXJkYXkiXS5jb25jYXQob24pO2NvbnN0IHlwPWZ1bmN0aW9uKG4sZSx0LHMpe3JldHVybiBuZXcgS2UobixlLHQscykudG9TdHJpbmcoKX0se2lzRnVsbHlDb252ZXJ0aWJsZTpwcH09S2U7bGV0IEJpPWNsYXNze2NvbnN0cnVjdG9yKGUsdCxzLGkpe3RoaXMuaG91cj1lLHRoaXMubWludXRlPXQsdGhpcy5zZWNvbmQ9cyx0aGlzLm1pbGxpc2Vjb25kPWl8fDB9Z2V0SG91cnMoKXtyZXR1cm4gdGhpcy5ob3VyfWdldE1pbnV0ZXMoKXtyZXR1cm4gdGhpcy5taW51dGV9Z2V0U2Vjb25kcygpe3JldHVybiB0aGlzLnNlY29uZH1nZXRNaWxsaXNlY29uZHMoKXtyZXR1cm4gdGhpcy5taWxsaXNlY29uZH1nZXRUaW1lKCl7cmV0dXJuKHRoaXMuaG91cio2MCo2MCt0aGlzLm1pbnV0ZSo2MCt0aGlzLnNlY29uZCkqMWUzK3RoaXMubWlsbGlzZWNvbmR9fTtjbGFzcyBncCBleHRlbmRzIEJpe2NvbnN0cnVjdG9yKGUsdCxzLGkscixvLGEpe3N1cGVyKGkscixvLGEpLHRoaXMueWVhcj1lLHRoaXMubW9udGg9dCx0aGlzLmRheT1zfXN0YXRpYyBmcm9tRGF0ZShlKXtyZXR1cm4gbmV3IHRoaXMoZS5nZXRVVENGdWxsWWVhcigpLGUuZ2V0VVRDTW9udGgoKSsxLGUuZ2V0VVRDRGF0ZSgpLGUuZ2V0VVRDSG91cnMoKSxlLmdldFVUQ01pbnV0ZXMoKSxlLmdldFVUQ1NlY29uZHMoKSxlLnZhbHVlT2YoKSUxZTMpfWdldFdlZWtkYXkoKXtyZXR1cm4gcm4obmV3IERhdGUodGhpcy5nZXRUaW1lKCkpKX1nZXRUaW1lKCl7cmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKHRoaXMueWVhcix0aGlzLm1vbnRoLTEsdGhpcy5kYXksdGhpcy5ob3VyLHRoaXMubWludXRlLHRoaXMuc2Vjb25kLHRoaXMubWlsbGlzZWNvbmQpKS5nZXRUaW1lKCl9Z2V0RGF5KCl7cmV0dXJuIHRoaXMuZGF5fWdldE1vbnRoKCl7cmV0dXJuIHRoaXMubW9udGh9Z2V0WWVhcigpe3JldHVybiB0aGlzLnllYXJ9YWRkWWVhcnMoZSl7dGhpcy55ZWFyKz1lfWFkZE1vbnRocyhlKXtpZih0aGlzLm1vbnRoKz1lLHRoaXMubW9udGg+MTIpe2NvbnN0IHQ9TWF0aC5mbG9vcih0aGlzLm1vbnRoLzEyKSxzPXV0KHRoaXMubW9udGgsMTIpO3RoaXMubW9udGg9cyx0aGlzLnllYXIrPXQsdGhpcy5tb250aD09PTAmJih0aGlzLm1vbnRoPTEyLC0tdGhpcy55ZWFyKX19YWRkV2Vla2x5KGUsdCl7dD50aGlzLmdldFdlZWtkYXkoKT90aGlzLmRheSs9LSh0aGlzLmdldFdlZWtkYXkoKSsxKyg2LXQpKStlKjc6dGhpcy5kYXkrPS0odGhpcy5nZXRXZWVrZGF5KCktdCkrZSo3LHRoaXMuZml4RGF5KCl9YWRkRGFpbHkoZSl7dGhpcy5kYXkrPWUsdGhpcy5maXhEYXkoKX1hZGRIb3VycyhlLHQscyl7Zm9yKHQmJih0aGlzLmhvdXIrPU1hdGguZmxvb3IoKDIzLXRoaXMuaG91cikvZSkqZSk7Oyl7dGhpcy5ob3VyKz1lO2NvbnN0e2RpdjppLG1vZDpyfT1Fbyh0aGlzLmhvdXIsMjQpO2lmKGkmJih0aGlzLmhvdXI9cix0aGlzLmFkZERhaWx5KGkpKSxZdChzKXx8aWUocyx0aGlzLmhvdXIpKWJyZWFrfX1hZGRNaW51dGVzKGUsdCxzLGkpe2Zvcih0JiYodGhpcy5taW51dGUrPU1hdGguZmxvb3IoKDE0MzktKHRoaXMuaG91cio2MCt0aGlzLm1pbnV0ZSkpL2UpKmUpOzspe3RoaXMubWludXRlKz1lO2NvbnN0e2RpdjpyLG1vZDpvfT1Fbyh0aGlzLm1pbnV0ZSw2MCk7aWYociYmKHRoaXMubWludXRlPW8sdGhpcy5hZGRIb3VycyhyLCExLHMpKSwoWXQocyl8fGllKHMsdGhpcy5ob3VyKSkmJihZdChpKXx8aWUoaSx0aGlzLm1pbnV0ZSkpKWJyZWFrfX1hZGRTZWNvbmRzKGUsdCxzLGkscil7Zm9yKHQmJih0aGlzLnNlY29uZCs9TWF0aC5mbG9vcigoODYzOTktKHRoaXMuaG91ciozNjAwK3RoaXMubWludXRlKjYwK3RoaXMuc2Vjb25kKSkvZSkqZSk7Oyl7dGhpcy5zZWNvbmQrPWU7Y29uc3R7ZGl2Om8sbW9kOmF9PUVvKHRoaXMuc2Vjb25kLDYwKTtpZihvJiYodGhpcy5zZWNvbmQ9YSx0aGlzLmFkZE1pbnV0ZXMobywhMSxzLGkpKSwoWXQocyl8fGllKHMsdGhpcy5ob3VyKSkmJihZdChpKXx8aWUoaSx0aGlzLm1pbnV0ZSkpJiYoWXQocil8fGllKHIsdGhpcy5zZWNvbmQpKSlicmVha319Zml4RGF5KCl7aWYodGhpcy5kYXk8PTI4KXJldHVybjtsZXQgZT1OdSh0aGlzLnllYXIsdGhpcy5tb250aC0xKVsxXTtpZighKHRoaXMuZGF5PD1lKSlmb3IoO3RoaXMuZGF5PmU7KXtpZih0aGlzLmRheS09ZSwrK3RoaXMubW9udGgsdGhpcy5tb250aD09PTEzJiYodGhpcy5tb250aD0xLCsrdGhpcy55ZWFyLHRoaXMueWVhcj5JdSkpcmV0dXJuO2U9TnUodGhpcy55ZWFyLHRoaXMubW9udGgtMSlbMV19fWFkZChlLHQpe2NvbnN0e2ZyZXE6cyxpbnRlcnZhbDppLHdrc3Q6cixieWhvdXI6byxieW1pbnV0ZTphLGJ5c2Vjb25kOmx9PWU7c3dpdGNoKHMpe2Nhc2Ugai5ZRUFSTFk6cmV0dXJuIHRoaXMuYWRkWWVhcnMoaSk7Y2FzZSBqLk1PTlRITFk6cmV0dXJuIHRoaXMuYWRkTW9udGhzKGkpO2Nhc2Ugai5XRUVLTFk6cmV0dXJuIHRoaXMuYWRkV2Vla2x5KGkscik7Y2FzZSBqLkRBSUxZOnJldHVybiB0aGlzLmFkZERhaWx5KGkpO2Nhc2Ugai5IT1VSTFk6cmV0dXJuIHRoaXMuYWRkSG91cnMoaSx0LG8pO2Nhc2Ugai5NSU5VVEVMWTpyZXR1cm4gdGhpcy5hZGRNaW51dGVzKGksdCxvLGEpO2Nhc2Ugai5TRUNPTkRMWTpyZXR1cm4gdGhpcy5hZGRTZWNvbmRzKGksdCxvLGEsbCl9fX1mdW5jdGlvbiBSdShuKXtjb25zdCBlPVtdLHQ9T2JqZWN0LmtleXMobik7Zm9yKGNvbnN0IHMgb2YgdClpZShxcCxzKXx8ZS5wdXNoKHMpLE11KG5bc10pJiYhcW4obltzXSkmJmUucHVzaChzKTtpZihlLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgb3B0aW9uczogIitlLmpvaW4oIiwgIikpO3JldHVybiBPYmplY3QuYXNzaWduKHt9LG4pfWZ1bmN0aW9uIHdwKG4pe2NvbnN0IGU9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHZvKSxSdShuKSk7aWYoa2UoZS5ieWVhc3RlcikmJihlLmZyZXE9RC5ZRUFSTFkpLCEoa2UoZS5mcmVxKSYmRC5GUkVRVUVOQ0lFU1tlLmZyZXFdKSl0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZnJlcXVlbmN5OiAke2UuZnJlcX0gJHtuLmZyZXF9YCk7aWYoZS5kdHN0YXJ0fHwoZS5kdHN0YXJ0PW5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0TWlsbGlzZWNvbmRzKDApKSksa2UoZS53a3N0KT94dChlLndrc3QpfHwoZS53a3N0PWUud2tzdC53ZWVrZGF5KTplLndrc3Q9RC5NTy53ZWVrZGF5LGtlKGUuYnlzZXRwb3MpKXt4dChlLmJ5c2V0cG9zKSYmKGUuYnlzZXRwb3M9W2UuYnlzZXRwb3NdKTtmb3IobGV0IHQ9MDt0PGUuYnlzZXRwb3MubGVuZ3RoO3QrKyl7Y29uc3Qgcz1lLmJ5c2V0cG9zW3RdO2lmKHM9PT0wfHwhKHM+PS0zNjYmJnM8PTM2NikpdGhyb3cgbmV3IEVycm9yKCJieXNldHBvcyBtdXN0IGJlIGJldHdlZW4gMSBhbmQgMzY2LCBvciBiZXR3ZWVuIC0zNjYgYW5kIC0xIil9fWlmKCEoZS5ieXdlZWtub3x8SWUoZS5ieXdlZWtubyl8fEllKGUuYnl5ZWFyZGF5KXx8ZS5ieW1vbnRoZGF5fHxJZShlLmJ5bW9udGhkYXkpfHxrZShlLmJ5d2Vla2RheSl8fGtlKGUuYnllYXN0ZXIpKSlzd2l0Y2goZS5mcmVxKXtjYXNlIEQuWUVBUkxZOmUuYnltb250aHx8KGUuYnltb250aD1lLmR0c3RhcnQuZ2V0VVRDTW9udGgoKSsxKSxlLmJ5bW9udGhkYXk9ZS5kdHN0YXJ0LmdldFVUQ0RhdGUoKTticmVhaztjYXNlIEQuTU9OVEhMWTplLmJ5bW9udGhkYXk9ZS5kdHN0YXJ0LmdldFVUQ0RhdGUoKTticmVhaztjYXNlIEQuV0VFS0xZOmUuYnl3ZWVrZGF5PVtybihlLmR0c3RhcnQpXTticmVha31pZihrZShlLmJ5bW9udGgpJiYhUWUoZS5ieW1vbnRoKSYmKGUuYnltb250aD1bZS5ieW1vbnRoXSksa2UoZS5ieXllYXJkYXkpJiYhUWUoZS5ieXllYXJkYXkpJiZ4dChlLmJ5eWVhcmRheSkmJihlLmJ5eWVhcmRheT1bZS5ieXllYXJkYXldKSwha2UoZS5ieW1vbnRoZGF5KSllLmJ5bW9udGhkYXk9W10sZS5ieW5tb250aGRheT1bXTtlbHNlIGlmKFFlKGUuYnltb250aGRheSkpe2NvbnN0IHQ9W10scz1bXTtmb3IobGV0IGk9MDtpPGUuYnltb250aGRheS5sZW5ndGg7aSsrKXtjb25zdCByPWUuYnltb250aGRheVtpXTtyPjA/dC5wdXNoKHIpOnI8MCYmcy5wdXNoKHIpfWUuYnltb250aGRheT10LGUuYnlubW9udGhkYXk9c31lbHNlIGUuYnltb250aGRheTwwPyhlLmJ5bm1vbnRoZGF5PVtlLmJ5bW9udGhkYXldLGUuYnltb250aGRheT1bXSk6KGUuYnlubW9udGhkYXk9W10sZS5ieW1vbnRoZGF5PVtlLmJ5bW9udGhkYXldKTtpZihrZShlLmJ5d2Vla25vKSYmIVFlKGUuYnl3ZWVrbm8pJiYoZS5ieXdlZWtubz1bZS5ieXdlZWtub10pLCFrZShlLmJ5d2Vla2RheSkpZS5ieW53ZWVrZGF5PW51bGw7ZWxzZSBpZih4dChlLmJ5d2Vla2RheSkpZS5ieXdlZWtkYXk9W2UuYnl3ZWVrZGF5XSxlLmJ5bndlZWtkYXk9bnVsbDtlbHNlIGlmKFN1KGUuYnl3ZWVrZGF5KSllLmJ5d2Vla2RheT1bU2UuZnJvbVN0cihlLmJ5d2Vla2RheSkud2Vla2RheV0sZS5ieW53ZWVrZGF5PW51bGw7ZWxzZSBpZihlLmJ5d2Vla2RheSBpbnN0YW5jZW9mIFNlKSFlLmJ5d2Vla2RheS5ufHxlLmZyZXE+RC5NT05USExZPyhlLmJ5d2Vla2RheT1bZS5ieXdlZWtkYXkud2Vla2RheV0sZS5ieW53ZWVrZGF5PW51bGwpOihlLmJ5bndlZWtkYXk9W1tlLmJ5d2Vla2RheS53ZWVrZGF5LGUuYnl3ZWVrZGF5Lm5dXSxlLmJ5d2Vla2RheT1udWxsKTtlbHNle2NvbnN0IHQ9W10scz1bXTtmb3IobGV0IGk9MDtpPGUuYnl3ZWVrZGF5Lmxlbmd0aDtpKyspe2NvbnN0IHI9ZS5ieXdlZWtkYXlbaV07aWYoeHQocikpe3QucHVzaChyKTtjb250aW51ZX1lbHNlIGlmKFN1KHIpKXt0LnB1c2goU2UuZnJvbVN0cihyKS53ZWVrZGF5KTtjb250aW51ZX0hci5ufHxlLmZyZXE+RC5NT05USExZP3QucHVzaChyLndlZWtkYXkpOnMucHVzaChbci53ZWVrZGF5LHIubl0pfWUuYnl3ZWVrZGF5PUllKHQpP3Q6bnVsbCxlLmJ5bndlZWtkYXk9SWUocyk/czpudWxsfXJldHVybiBrZShlLmJ5aG91cik/eHQoZS5ieWhvdXIpJiYoZS5ieWhvdXI9W2UuYnlob3VyXSk6ZS5ieWhvdXI9ZS5mcmVxPEQuSE9VUkxZP1tlLmR0c3RhcnQuZ2V0VVRDSG91cnMoKV06bnVsbCxrZShlLmJ5bWludXRlKT94dChlLmJ5bWludXRlKSYmKGUuYnltaW51dGU9W2UuYnltaW51dGVdKTplLmJ5bWludXRlPWUuZnJlcTxELk1JTlVURUxZP1tlLmR0c3RhcnQuZ2V0VVRDTWludXRlcygpXTpudWxsLGtlKGUuYnlzZWNvbmQpP3h0KGUuYnlzZWNvbmQpJiYoZS5ieXNlY29uZD1bZS5ieXNlY29uZF0pOmUuYnlzZWNvbmQ9ZS5mcmVxPEQuU0VDT05ETFk/W2UuZHRzdGFydC5nZXRVVENTZWNvbmRzKCldOm51bGwse3BhcnNlZE9wdGlvbnM6ZX19ZnVuY3Rpb24gYnAobil7Y29uc3QgZT1uLmR0c3RhcnQuZ2V0VGltZSgpJTFlMztpZighTW8obi5mcmVxKSlyZXR1cm5bXTtjb25zdCB0PVtdO3JldHVybiBuLmJ5aG91ci5mb3JFYWNoKHM9PntuLmJ5bWludXRlLmZvckVhY2goaT0+e24uYnlzZWNvbmQuZm9yRWFjaChyPT57dC5wdXNoKG5ldyBCaShzLGkscixlKSl9KX0pfSksdH1mdW5jdGlvbiBfbyhuKXtjb25zdCBlPW4uc3BsaXQoYApgKS5tYXAoVHApLmZpbHRlcih0PT50IT09bnVsbCk7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlWzBdKSxlWzFdKX1mdW5jdGlvbiBXaShuKXtjb25zdCBlPXt9LHQ9L0RUU1RBUlQoPzo7VFpJRD0oW146PV0rPykpPyg/Ojp8PSkoW147XHNdKykvaS5leGVjKG4pO2lmKCF0KXJldHVybiBlO2NvbnN0WyxzLGldPXQ7cmV0dXJuIHMmJihlLnR6aWQ9cyksZS5kdHN0YXJ0PURvKGkpLGV9ZnVuY3Rpb24gVHAobil7aWYobj1uLnJlcGxhY2UoL15ccyt8XHMrJC8sIiIpLCFuLmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBlPS9eKFtBLVpdKz8pWzo7XS8uZXhlYyhuLnRvVXBwZXJDYXNlKCkpO2lmKCFlKXJldHVybiBVdShuKTtjb25zdFssdF09ZTtzd2l0Y2godC50b1VwcGVyQ2FzZSgpKXtjYXNlIlJSVUxFIjpjYXNlIkVYUlVMRSI6cmV0dXJuIFV1KG4pO2Nhc2UiRFRTVEFSVCI6cmV0dXJuIFdpKG4pO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBSRkMgcHJvcCAke3R9IGluICR7bn1gKX19ZnVuY3Rpb24gVXUobil7Y29uc3QgZT1uLnJlcGxhY2UoL15SUlVMRTovaSwiIiksdD1XaShlKTtyZXR1cm4gbi5yZXBsYWNlKC9eKD86UlJVTEV8RVhSVUxFKTovaSwiIikuc3BsaXQoIjsiKS5mb3JFYWNoKGk9Pntjb25zdFtyLG9dPWkuc3BsaXQoIj0iKTtzd2l0Y2goci50b1VwcGVyQ2FzZSgpKXtjYXNlIkZSRVEiOnQuZnJlcT1qW28udG9VcHBlckNhc2UoKV07YnJlYWs7Y2FzZSJXS1NUIjp0Lndrc3Q9d3Rbby50b1VwcGVyQ2FzZSgpXTticmVhaztjYXNlIkNPVU5UIjpjYXNlIklOVEVSVkFMIjpjYXNlIkJZU0VUUE9TIjpjYXNlIkJZTU9OVEgiOmNhc2UiQllNT05USERBWSI6Y2FzZSJCWVlFQVJEQVkiOmNhc2UiQllXRUVLTk8iOmNhc2UiQllIT1VSIjpjYXNlIkJZTUlOVVRFIjpjYXNlIkJZU0VDT05EIjpjb25zdCBhPWtwKG8pLGw9ci50b0xvd2VyQ2FzZSgpO3RbbF09YTticmVhaztjYXNlIkJZV0VFS0RBWSI6Y2FzZSJCWURBWSI6dC5ieXdlZWtkYXk9RXAobyk7YnJlYWs7Y2FzZSJEVFNUQVJUIjpjYXNlIlRaSUQiOmNvbnN0IHU9V2kobik7dC50emlkPXUudHppZCx0LmR0c3RhcnQ9dS5kdHN0YXJ0O2JyZWFrO2Nhc2UiVU5USUwiOnQudW50aWw9RG8obyk7YnJlYWs7Y2FzZSJCWUVBU1RFUiI6dC5ieWVhc3Rlcj1OdW1iZXIobyk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gUlJVTEUgcHJvcGVydHkgJyIrcisiJyIpfX0pLHR9ZnVuY3Rpb24ga3Aobil7cmV0dXJuIG4uaW5kZXhPZigiLCIpIT09LTE/bi5zcGxpdCgiLCIpLm1hcChGdSk6RnUobil9ZnVuY3Rpb24gRnUobil7cmV0dXJuL15bKy1dP1xkKyQvLnRlc3Qobik/TnVtYmVyKG4pOm59ZnVuY3Rpb24gRXAobil7cmV0dXJuIG4uc3BsaXQoIiwiKS5tYXAodD0+e2lmKHQubGVuZ3RoPT09MilyZXR1cm4gd3RbdF07Y29uc3Qgcz10Lm1hdGNoKC9eKFsrLV0/XGR7MSwyfSkoW0EtWl17Mn0pJC8pO2lmKCFzfHxzLmxlbmd0aDwzKXRocm93IG5ldyBTeW50YXhFcnJvcihgSW52YWxpZCB3ZWVrZGF5IHN0cmluZzogJHt0fWApO2NvbnN0IGk9TnVtYmVyKHNbMV0pLHI9c1syXSxvPXd0W3JdLndlZWtkYXk7cmV0dXJuIG5ldyBTZShvLGkpfSl9Y2xhc3MgSGl7Y29uc3RydWN0b3IoZSx0KXtpZihpc05hTihlLmdldFRpbWUoKSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgZGF0ZSBwYXNzZWQgdG8gRGF0ZVdpdGhab25lIik7dGhpcy5kYXRlPWUsdGhpcy50emlkPXR9Z2V0IGlzVVRDKCl7cmV0dXJuIXRoaXMudHppZHx8dGhpcy50emlkLnRvVXBwZXJDYXNlKCk9PT0iVVRDIn10b1N0cmluZygpe2NvbnN0IGU9SW8odGhpcy5kYXRlLmdldFRpbWUoKSx0aGlzLmlzVVRDKTtyZXR1cm4gdGhpcy5pc1VUQz9gOiR7ZX1gOmA7VFpJRD0ke3RoaXMudHppZH06JHtlfWB9Z2V0VGltZSgpe3JldHVybiB0aGlzLmRhdGUuZ2V0VGltZSgpfXJlem9uZWREYXRlKCl7cmV0dXJuIHRoaXMuaXNVVEM/dGhpcy5kYXRlOmNwKHRoaXMuZGF0ZSx0aGlzLnR6aWQpfX1mdW5jdGlvbiBObyhuKXtjb25zdCBlPVtdO2xldCB0PSIiO2NvbnN0IHM9T2JqZWN0LmtleXMobiksaT1PYmplY3Qua2V5cyh2byk7Zm9yKGxldCBhPTA7YTxzLmxlbmd0aDthKyspe2lmKHNbYV09PT0idHppZCJ8fCFpZShpLHNbYV0pKWNvbnRpbnVlO2xldCBsPXNbYV0udG9VcHBlckNhc2UoKTtjb25zdCB1PW5bc1thXV07bGV0IGg9IiI7aWYoISgha2UodSl8fFFlKHUpJiYhdS5sZW5ndGgpKXtzd2l0Y2gobCl7Y2FzZSJGUkVRIjpoPUQuRlJFUVVFTkNJRVNbbi5mcmVxXTticmVhaztjYXNlIldLU1QiOnh0KHUpP2g9bmV3IFNlKHUpLnRvU3RyaW5nKCk6aD11LnRvU3RyaW5nKCk7YnJlYWs7Y2FzZSJCWVdFRUtEQVkiOmw9IkJZREFZIixoPWlwKHUpLm1hcChjPT5jIGluc3RhbmNlb2YgU2U/YzpRZShjKT9uZXcgU2UoY1swXSxjWzFdKTpuZXcgU2UoYykpLnRvU3RyaW5nKCk7YnJlYWs7Y2FzZSJEVFNUQVJUIjp0PVNwKHUsbi50emlkKTticmVhaztjYXNlIlVOVElMIjpoPUlvKHUsIW4udHppZCk7YnJlYWs7ZGVmYXVsdDppZihRZSh1KSl7Y29uc3QgYz1bXTtmb3IobGV0IG09MDttPHUubGVuZ3RoO20rKyljW21dPVN0cmluZyh1W21dKTtoPWMudG9TdHJpbmcoKX1lbHNlIGg9U3RyaW5nKHUpfWgmJmUucHVzaChbbCxoXSl9fWNvbnN0IHI9ZS5tYXAoKFthLGxdKT0+YCR7YX09JHtsLnRvU3RyaW5nKCl9YCkuam9pbigiOyIpO2xldCBvPSIiO3JldHVybiByIT09IiImJihvPWBSUlVMRToke3J9YCksW3Qsb10uZmlsdGVyKGE9PiEhYSkuam9pbihgCmApfWZ1bmN0aW9uIFNwKG4sZSl7cmV0dXJuIG4/IkRUU1RBUlQiK25ldyBIaShuZXcgRGF0ZShuKSxlKS50b1N0cmluZygpOiIifWZ1bmN0aW9uIE9wKG4sZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkobik/IUFycmF5LmlzQXJyYXkoZSl8fG4ubGVuZ3RoIT09ZS5sZW5ndGg/ITE6bi5ldmVyeSgodCxzKT0+dC5nZXRUaW1lKCk9PT1lW3NdLmdldFRpbWUoKSk6biBpbnN0YW5jZW9mIERhdGU/ZSBpbnN0YW5jZW9mIERhdGUmJm4uZ2V0VGltZSgpPT09ZS5nZXRUaW1lKCk6bj09PWV9bGV0IElwPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5hbGw9ITEsdGhpcy5iZWZvcmU9W10sdGhpcy5hZnRlcj1bXSx0aGlzLmJldHdlZW49W119X2NhY2hlQWRkKGUsdCxzKXt0JiYodD10IGluc3RhbmNlb2YgRGF0ZT9Pbyh0KTpBdSh0KSksZT09PSJhbGwiP3RoaXMuYWxsPXQ6KHMuX3ZhbHVlPXQsdGhpc1tlXS5wdXNoKHMpKX1fY2FjaGVHZXQoZSx0KXtsZXQgcz0hMTtjb25zdCBpPXQ/T2JqZWN0LmtleXModCk6W10scj1mdW5jdGlvbihhKXtmb3IobGV0IGw9MDtsPGkubGVuZ3RoO2wrKyl7Y29uc3QgdT1pW2xdO2lmKCFPcCh0W3VdLGFbdV0pKXJldHVybiEwfXJldHVybiExfSxvPXRoaXNbZV07aWYoZT09PSJhbGwiKXM9dGhpcy5hbGw7ZWxzZSBpZihRZShvKSlmb3IobGV0IGE9MDthPG8ubGVuZ3RoO2ErKyl7Y29uc3QgbD1vW2FdO2lmKCEoaS5sZW5ndGgmJnIobCkpKXtzPWwuX3ZhbHVlO2JyZWFrfX1pZighcyYmdGhpcy5hbGwpe2NvbnN0IGE9bmV3IGlzKGUsdCk7Zm9yKGxldCBsPTA7bDx0aGlzLmFsbC5sZW5ndGgmJmEuYWNjZXB0KHRoaXMuYWxsW2xdKTtsKyspO3M9YS5nZXRWYWx1ZSgpLHRoaXMuX2NhY2hlQWRkKGUscyx0KX1yZXR1cm4gUWUocyk/QXUocyk6cyBpbnN0YW5jZW9mIERhdGU/T28ocyk6c319O2NvbnN0IERwPVsuLi5YKDEsMzEpLC4uLlgoMiwyOCksLi4uWCgzLDMxKSwuLi5YKDQsMzApLC4uLlgoNSwzMSksLi4uWCg2LDMwKSwuLi5YKDcsMzEpLC4uLlgoOCwzMSksLi4uWCg5LDMwKSwuLi5YKDEwLDMxKSwuLi5YKDExLDMwKSwuLi5YKDEyLDMxKSwuLi5YKDEsNyldLE1wPVsuLi5YKDEsMzEpLC4uLlgoMiwyOSksLi4uWCgzLDMxKSwuLi5YKDQsMzApLC4uLlgoNSwzMSksLi4uWCg2LDMwKSwuLi5YKDcsMzEpLC4uLlgoOCwzMSksLi4uWCg5LDMwKSwuLi5YKDEwLDMxKSwuLi5YKDExLDMwKSwuLi5YKDEyLDMxKSwuLi5YKDEsNyldLF9wPUx0KDEsMjkpLE5wPUx0KDEsMzApLHJzPUx0KDEsMzEpLFllPUx0KDEsMzIpLHZwPVsuLi5ZZSwuLi5OcCwuLi5ZZSwuLi5ycywuLi5ZZSwuLi5ycywuLi5ZZSwuLi5ZZSwuLi5ycywuLi5ZZSwuLi5ycywuLi5ZZSwuLi5ZZS5zbGljZSgwLDcpXSxBcD1bLi4uWWUsLi4uX3AsLi4uWWUsLi4ucnMsLi4uWWUsLi4ucnMsLi4uWWUsLi4uWWUsLi4ucnMsLi4uWWUsLi4ucnMsLi4uWWUsLi4uWWUuc2xpY2UoMCw3KV0sQ3A9THQoLTI4LDApLHhwPUx0KC0yOSwwKSxvcz1MdCgtMzAsMCksUmU9THQoLTMxLDApLExwPVsuLi5SZSwuLi54cCwuLi5SZSwuLi5vcywuLi5SZSwuLi5vcywuLi5SZSwuLi5SZSwuLi5vcywuLi5SZSwuLi5vcywuLi5SZSwuLi5SZS5zbGljZSgwLDcpXSxZcD1bLi4uUmUsLi4uQ3AsLi4uUmUsLi4ub3MsLi4uUmUsLi4ub3MsLi4uUmUsLi4uUmUsLi4ub3MsLi4uUmUsLi4ub3MsLi4uUmUsLi4uUmUuc2xpY2UoMCw3KV0sUnA9WzAsMzEsNjAsOTEsMTIxLDE1MiwxODIsMjEzLDI0NCwyNzQsMzA1LDMzNSwzNjZdLFVwPVswLDMxLDU5LDkwLDEyMCwxNTEsMTgxLDIxMiwyNDMsMjczLDMwNCwzMzQsMzY1XSx6dT1mdW5jdGlvbigpe2xldCBuPVtdO2ZvcihsZXQgZT0wO2U8NTU7ZSsrKW49bi5jb25jYXQoTHQoNykpO3JldHVybiBufSgpO2Z1bmN0aW9uIEZwKG4sZSl7Y29uc3QgdD1ucyhuLDEsMSkscz1qbihuKT8zNjY6MzY1LGk9am4obisxKT8zNjY6MzY1LHI9U28odCksbz1ybih0KSxhPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7eWVhcmxlbjpzLG5leHR5ZWFybGVuOmkseWVhcm9yZGluYWw6cix5ZWFyd2Vla2RheTpvfSx6cChuKSkse3dub21hc2s6bnVsbH0pO2lmKFl0KGUuYnl3ZWVrbm8pKXJldHVybiBhO2Eud25vbWFzaz1YKDAscys3KTtsZXQgbCx1LGg9bD11dCg3LW8rZS53a3N0LDcpO2g+PTQ/KGg9MCx1PWEueWVhcmxlbit1dChvLWUud2tzdCw3KSk6dT1zLWg7Y29uc3QgYz1NYXRoLmZsb29yKHUvNyksbT11dCh1LDcpLGY9TWF0aC5mbG9vcihjK20vNCk7Zm9yKGxldCBnPTA7ZzxlLmJ5d2Vla25vLmxlbmd0aDtnKyspe2xldCBkPWUuYnl3ZWVrbm9bZ107aWYoZDwwJiYoZCs9ZisxKSwhKGQ+MCYmZDw9ZikpY29udGludWU7bGV0IHk7ZD4xPyh5PWgrKGQtMSkqNyxoIT09bCYmKHktPTctbCkpOnk9aDtmb3IobGV0IHc9MDt3PDcmJihhLndub21hc2tbeV09MSx5KyssYS53ZGF5bWFza1t5XSE9PWUud2tzdCk7dysrKTt9aWYoaWUoZS5ieXdlZWtubywxKSl7bGV0IGc9aCtmKjc7aWYoaCE9PWwmJihnLT03LWwpLGc8cylmb3IobGV0IGQ9MDtkPDcmJihhLndub21hc2tbZ109MSxnKz0xLGEud2RheW1hc2tbZ10hPT1lLndrc3QpO2QrKyk7fWlmKGgpe2xldCBnO2lmKGllKGUuYnl3ZWVrbm8sLTEpKWc9LTE7ZWxzZXtjb25zdCBkPXJuKG5zKG4tMSwxLDEpKTtsZXQgeT11dCg3LWQudmFsdWVPZigpK2Uud2tzdCw3KTtjb25zdCB3PWpuKG4tMSk/MzY2OjM2NTtsZXQgYjt5Pj00Pyh5PTAsYj13K3V0KGQtZS53a3N0LDcpKTpiPXMtaCxnPU1hdGguZmxvb3IoNTIrdXQoYiw3KS80KX1pZihpZShlLmJ5d2Vla25vLGcpKWZvcihsZXQgZD0wO2Q8aDtkKyspYS53bm9tYXNrW2RdPTF9cmV0dXJuIGF9ZnVuY3Rpb24genAobil7Y29uc3QgZT1qbihuKT8zNjY6MzY1LHQ9bnMobiwxLDEpLHM9cm4odCk7cmV0dXJuIGU9PT0zNjU/e21tYXNrOkRwLG1kYXltYXNrOkFwLG5tZGF5bWFzazpZcCx3ZGF5bWFzazp6dS5zbGljZShzKSxtcmFuZ2U6VXB9OnttbWFzazpNcCxtZGF5bWFzazp2cCxubWRheW1hc2s6THAsd2RheW1hc2s6enUuc2xpY2UocyksbXJhbmdlOlJwfX1mdW5jdGlvbiBQcChuLGUsdCxzLGkscil7Y29uc3Qgbz17bGFzdHllYXI6bixsYXN0bW9udGg6ZSxud2RheW1hc2s6W119O2xldCBhPVtdO2lmKHIuZnJlcT09PUQuWUVBUkxZKWlmKFl0KHIuYnltb250aCkpYT1bWzAsdF1dO2Vsc2UgZm9yKGxldCBsPTA7bDxyLmJ5bW9udGgubGVuZ3RoO2wrKyllPXIuYnltb250aFtsXSxhLnB1c2gocy5zbGljZShlLTEsZSsxKSk7ZWxzZSByLmZyZXE9PT1ELk1PTlRITFkmJihhPVtzLnNsaWNlKGUtMSxlKzEpXSk7aWYoWXQoYSkpcmV0dXJuIG87by5ud2RheW1hc2s9WCgwLHQpO2ZvcihsZXQgbD0wO2w8YS5sZW5ndGg7bCsrKXtjb25zdCB1PWFbbF0saD11WzBdLGM9dVsxXS0xO2ZvcihsZXQgbT0wO208ci5ieW53ZWVrZGF5Lmxlbmd0aDttKyspe2xldCBmO2NvbnN0W2csZF09ci5ieW53ZWVrZGF5W21dO2Q8MD8oZj1jKyhkKzEpKjcsZi09dXQoaVtmXS1nLDcpKTooZj1oKyhkLTEpKjcsZis9dXQoNy1pW2ZdK2csNykpLGg8PWYmJmY8PWMmJihvLm53ZGF5bWFza1tmXT0xKX19cmV0dXJuIG99ZnVuY3Rpb24gJHAobixlPTApe2NvbnN0IHQ9biUxOSxzPU1hdGguZmxvb3Iobi8xMDApLGk9biUxMDAscj1NYXRoLmZsb29yKHMvNCksbz1zJTQsYT1NYXRoLmZsb29yKChzKzgpLzI1KSxsPU1hdGguZmxvb3IoKHMtYSsxKS8zKSx1PU1hdGguZmxvb3IoMTkqdCtzLXItbCsxNSklMzAsaD1NYXRoLmZsb29yKGkvNCksYz1pJTQsbT1NYXRoLmZsb29yKDMyKzIqbysyKmgtdS1jKSU3LGY9TWF0aC5mbG9vcigodCsxMSp1KzIyKm0pLzQ1MSksZz1NYXRoLmZsb29yKCh1K20tNypmKzExNCkvMzEpLGQ9KHUrbS03KmYrMTE0KSUzMSsxLHk9RGF0ZS5VVEMobixnLTEsZCtlKSx3PURhdGUuVVRDKG4sMCwxKTtyZXR1cm5bTWF0aC5jZWlsKCh5LXcpLygxZTMqNjAqNjAqMjQpKV19Y2xhc3MgQnB7Y29uc3RydWN0b3IoZSl7dGhpcy5vcHRpb25zPWV9cmVidWlsZChlLHQpe2NvbnN0IHM9dGhpcy5vcHRpb25zO2lmKGUhPT10aGlzLmxhc3R5ZWFyJiYodGhpcy55ZWFyaW5mbz1GcChlLHMpKSxJZShzLmJ5bndlZWtkYXkpJiYodCE9PXRoaXMubGFzdG1vbnRofHxlIT09dGhpcy5sYXN0eWVhcikpe2NvbnN0e3llYXJsZW46aSxtcmFuZ2U6cix3ZGF5bWFzazpvfT10aGlzLnllYXJpbmZvO3RoaXMubW9udGhpbmZvPVBwKGUsdCxpLHIsbyxzKX1rZShzLmJ5ZWFzdGVyKSYmKHRoaXMuZWFzdGVybWFzaz0kcChlLHMuYnllYXN0ZXIpKX1nZXQgbGFzdHllYXIoKXtyZXR1cm4gdGhpcy5tb250aGluZm8/dGhpcy5tb250aGluZm8ubGFzdHllYXI6bnVsbH1nZXQgbGFzdG1vbnRoKCl7cmV0dXJuIHRoaXMubW9udGhpbmZvP3RoaXMubW9udGhpbmZvLmxhc3Rtb250aDpudWxsfWdldCB5ZWFybGVuKCl7cmV0dXJuIHRoaXMueWVhcmluZm8ueWVhcmxlbn1nZXQgeWVhcm9yZGluYWwoKXtyZXR1cm4gdGhpcy55ZWFyaW5mby55ZWFyb3JkaW5hbH1nZXQgbXJhbmdlKCl7cmV0dXJuIHRoaXMueWVhcmluZm8ubXJhbmdlfWdldCB3ZGF5bWFzaygpe3JldHVybiB0aGlzLnllYXJpbmZvLndkYXltYXNrfWdldCBtbWFzaygpe3JldHVybiB0aGlzLnllYXJpbmZvLm1tYXNrfWdldCB3bm9tYXNrKCl7cmV0dXJuIHRoaXMueWVhcmluZm8ud25vbWFza31nZXQgbndkYXltYXNrKCl7cmV0dXJuIHRoaXMubW9udGhpbmZvP3RoaXMubW9udGhpbmZvLm53ZGF5bWFzazpbXX1nZXQgbmV4dHllYXJsZW4oKXtyZXR1cm4gdGhpcy55ZWFyaW5mby5uZXh0eWVhcmxlbn1nZXQgbWRheW1hc2soKXtyZXR1cm4gdGhpcy55ZWFyaW5mby5tZGF5bWFza31nZXQgbm1kYXltYXNrKCl7cmV0dXJuIHRoaXMueWVhcmluZm8ubm1kYXltYXNrfXlkYXlzZXQoKXtyZXR1cm5bTHQodGhpcy55ZWFybGVuKSwwLHRoaXMueWVhcmxlbl19bWRheXNldChlLHQpe2NvbnN0IHM9dGhpcy5tcmFuZ2VbdC0xXSxpPXRoaXMubXJhbmdlW3RdLHI9WChudWxsLHRoaXMueWVhcmxlbik7Zm9yKGxldCBvPXM7bzxpO28rKylyW29dPW87cmV0dXJuW3IscyxpXX13ZGF5c2V0KGUsdCxzKXtjb25zdCBpPVgobnVsbCx0aGlzLnllYXJsZW4rNyk7bGV0IHI9U28obnMoZSx0LHMpKS10aGlzLnllYXJvcmRpbmFsO2NvbnN0IG89cjtmb3IobGV0IGE9MDthPDcmJihpW3JdPXIsKytyLHRoaXMud2RheW1hc2tbcl0hPT10aGlzLm9wdGlvbnMud2tzdCk7YSsrKTtyZXR1cm5baSxvLHJdfWRkYXlzZXQoZSx0LHMpe2NvbnN0IGk9WChudWxsLHRoaXMueWVhcmxlbikscj1TbyhucyhlLHQscykpLXRoaXMueWVhcm9yZGluYWw7cmV0dXJuIGlbcl09cixbaSxyLHIrMV19aHRpbWVzZXQoZSx0LHMsaSl7bGV0IHI9W107cmV0dXJuIHRoaXMub3B0aW9ucy5ieW1pbnV0ZS5mb3JFYWNoKG89PntyPXIuY29uY2F0KHRoaXMubXRpbWVzZXQoZSxvLHMsaSkpfSksS24ocikscn1tdGltZXNldChlLHQscyxpKXtjb25zdCByPXRoaXMub3B0aW9ucy5ieXNlY29uZC5tYXAobz0+bmV3IEJpKGUsdCxvLGkpKTtyZXR1cm4gS24ocikscn1zdGltZXNldChlLHQscyxpKXtyZXR1cm5bbmV3IEJpKGUsdCxzLGkpXX1nZXRkYXlzZXQoZSl7c3dpdGNoKGUpe2Nhc2Ugai5ZRUFSTFk6cmV0dXJuIHRoaXMueWRheXNldC5iaW5kKHRoaXMpO2Nhc2Ugai5NT05USExZOnJldHVybiB0aGlzLm1kYXlzZXQuYmluZCh0aGlzKTtjYXNlIGouV0VFS0xZOnJldHVybiB0aGlzLndkYXlzZXQuYmluZCh0aGlzKTtjYXNlIGouREFJTFk6cmV0dXJuIHRoaXMuZGRheXNldC5iaW5kKHRoaXMpO2RlZmF1bHQ6cmV0dXJuIHRoaXMuZGRheXNldC5iaW5kKHRoaXMpfX1nZXR0aW1lc2V0KGUpe3N3aXRjaChlKXtjYXNlIGouSE9VUkxZOnJldHVybiB0aGlzLmh0aW1lc2V0LmJpbmQodGhpcyk7Y2FzZSBqLk1JTlVURUxZOnJldHVybiB0aGlzLm10aW1lc2V0LmJpbmQodGhpcyk7Y2FzZSBqLlNFQ09ORExZOnJldHVybiB0aGlzLnN0aW1lc2V0LmJpbmQodGhpcyl9fX1mdW5jdGlvbiBXcChuLGUsdCxzLGkscil7Y29uc3Qgbz1bXTtmb3IobGV0IGE9MDthPG4ubGVuZ3RoO2ErKyl7bGV0IGwsdTtjb25zdCBoPW5bYV07aDwwPyhsPU1hdGguZmxvb3IoaC9lLmxlbmd0aCksdT11dChoLGUubGVuZ3RoKSk6KGw9TWF0aC5mbG9vcigoaC0xKS9lLmxlbmd0aCksdT11dChoLTEsZS5sZW5ndGgpKTtjb25zdCBjPVtdO2ZvcihsZXQgeT10O3k8czt5Kyspe2NvbnN0IHc9clt5XTtrZSh3KSYmYy5wdXNoKHcpfWxldCBtO2w8MD9tPWMuc2xpY2UobClbMF06bT1jW2xdO2NvbnN0IGY9ZVt1XSxnPV91KGkueWVhcm9yZGluYWwrbSksZD12dShnLGYpO2llKG8sZCl8fG8ucHVzaChkKX1yZXR1cm4gS24obyksb31mdW5jdGlvbiBQdShuLGUpe2NvbnN0e2R0c3RhcnQ6dCxmcmVxOnMsaW50ZXJ2YWw6aSx1bnRpbDpyLGJ5c2V0cG9zOm99PWU7bGV0IGE9ZS5jb3VudDtpZihhPT09MHx8aT09PTApcmV0dXJuIEJ0KG4pO2NvbnN0IGw9Z3AuZnJvbURhdGUodCksdT1uZXcgQnAoZSk7dS5yZWJ1aWxkKGwueWVhcixsLm1vbnRoKTtsZXQgaD1qcCh1LGwsZSk7Zm9yKDs7KXtjb25zdFtjLG0sZl09dS5nZXRkYXlzZXQocykobC55ZWFyLGwubW9udGgsbC5kYXkpLGc9VnAoYyxtLGYsdSxlKTtpZihJZShvKSl7Y29uc3QgZD1XcChvLGgsbSxmLHUsYyk7Zm9yKGxldCB5PTA7eTxkLmxlbmd0aDt5Kyspe2NvbnN0IHc9ZFt5XTtpZihyJiZ3PnIpcmV0dXJuIEJ0KG4pO2lmKHc+PXQpe2NvbnN0IGI9JHUodyxlKTtpZighbi5hY2NlcHQoYil8fGEmJigtLWEsIWEpKXJldHVybiBCdChuKX19fWVsc2UgZm9yKGxldCBkPW07ZDxmO2QrKyl7Y29uc3QgeT1jW2RdO2lmKCFrZSh5KSljb250aW51ZTtjb25zdCB3PV91KHUueWVhcm9yZGluYWwreSk7Zm9yKGxldCBiPTA7YjxoLmxlbmd0aDtiKyspe2NvbnN0IGs9aFtiXSxTPXZ1KHcsayk7aWYociYmUz5yKXJldHVybiBCdChuKTtpZihTPj10KXtjb25zdCBPPSR1KFMsZSk7aWYoIW4uYWNjZXB0KE8pfHxhJiYoLS1hLCFhKSlyZXR1cm4gQnQobil9fX1pZihlLmludGVydmFsPT09MHx8KGwuYWRkKGUsZyksbC55ZWFyPkl1KSlyZXR1cm4gQnQobik7TW8ocyl8fChoPXUuZ2V0dGltZXNldChzKShsLmhvdXIsbC5taW51dGUsbC5zZWNvbmQsMCkpLHUucmVidWlsZChsLnllYXIsbC5tb250aCl9fWZ1bmN0aW9uIEhwKG4sZSx0KXtjb25zdHtieW1vbnRoOnMsYnl3ZWVrbm86aSxieXdlZWtkYXk6cixieWVhc3RlcjpvLGJ5bW9udGhkYXk6YSxieW5tb250aGRheTpsLGJ5eWVhcmRheTp1fT10O3JldHVybiBJZShzKSYmIWllKHMsbi5tbWFza1tlXSl8fEllKGkpJiYhbi53bm9tYXNrW2VdfHxJZShyKSYmIWllKHIsbi53ZGF5bWFza1tlXSl8fEllKG4ubndkYXltYXNrKSYmIW4ubndkYXltYXNrW2VdfHxvIT09bnVsbCYmIWllKG4uZWFzdGVybWFzayxlKXx8KEllKGEpfHxJZShsKSkmJiFpZShhLG4ubWRheW1hc2tbZV0pJiYhaWUobCxuLm5tZGF5bWFza1tlXSl8fEllKHUpJiYoZTxuLnllYXJsZW4mJiFpZSh1LGUrMSkmJiFpZSh1LC1uLnllYXJsZW4rZSl8fGU+PW4ueWVhcmxlbiYmIWllKHUsZSsxLW4ueWVhcmxlbikmJiFpZSh1LC1uLm5leHR5ZWFybGVuK2Utbi55ZWFybGVuKSl9ZnVuY3Rpb24gJHUobixlKXtyZXR1cm4gbmV3IEhpKG4sZS50emlkKS5yZXpvbmVkRGF0ZSgpfWZ1bmN0aW9uIEJ0KG4pe3JldHVybiBuLmdldFZhbHVlKCl9ZnVuY3Rpb24gVnAobixlLHQscyxpKXtsZXQgcj0hMTtmb3IobGV0IG89ZTtvPHQ7bysrKXtjb25zdCBhPW5bb107cj1IcChzLGEsaSksciYmKG5bYV09bnVsbCl9cmV0dXJuIHJ9ZnVuY3Rpb24ganAobixlLHQpe2NvbnN0e2ZyZXE6cyxieWhvdXI6aSxieW1pbnV0ZTpyLGJ5c2Vjb25kOm99PXQ7cmV0dXJuIE1vKHMpP2JwKHQpOnM+PUQuSE9VUkxZJiZJZShpKSYmIWllKGksZS5ob3VyKXx8cz49RC5NSU5VVEVMWSYmSWUocikmJiFpZShyLGUubWludXRlKXx8cz49RC5TRUNPTkRMWSYmSWUobykmJiFpZShvLGUuc2Vjb25kKT9bXTpuLmdldHRpbWVzZXQocykoZS5ob3VyLGUubWludXRlLGUuc2Vjb25kLGUubWlsbGlzZWNvbmQpfWNvbnN0IHd0PXtNTzpuZXcgU2UoMCksVFU6bmV3IFNlKDEpLFdFOm5ldyBTZSgyKSxUSDpuZXcgU2UoMyksRlI6bmV3IFNlKDQpLFNBOm5ldyBTZSg1KSxTVTpuZXcgU2UoNil9LHZvPXtmcmVxOmouWUVBUkxZLGR0c3RhcnQ6bnVsbCxpbnRlcnZhbDoxLHdrc3Q6d3QuTU8sY291bnQ6bnVsbCx1bnRpbDpudWxsLHR6aWQ6bnVsbCxieXNldHBvczpudWxsLGJ5bW9udGg6bnVsbCxieW1vbnRoZGF5Om51bGwsYnlubW9udGhkYXk6bnVsbCxieXllYXJkYXk6bnVsbCxieXdlZWtubzpudWxsLGJ5d2Vla2RheTpudWxsLGJ5bndlZWtkYXk6bnVsbCxieWhvdXI6bnVsbCxieW1pbnV0ZTpudWxsLGJ5c2Vjb25kOm51bGwsYnllYXN0ZXI6bnVsbH0scXA9T2JqZWN0LmtleXModm8pO2xldCBEPWNsYXNzIFlye2NvbnN0cnVjdG9yKGU9e30sdD0hMSl7dGhpcy5fY2FjaGU9dD9udWxsOm5ldyBJcCx0aGlzLm9yaWdPcHRpb25zPVJ1KGUpO2NvbnN0e3BhcnNlZE9wdGlvbnM6c309d3AoZSk7dGhpcy5vcHRpb25zPXN9c3RhdGljIHBhcnNlVGV4dChlLHQpe3JldHVybiBZdShlLHQpfXN0YXRpYyBmcm9tVGV4dChlLHQpe3JldHVybiBtcChlLHQpfXN0YXRpYyBmcm9tU3RyaW5nKGUpe3JldHVybiBuZXcgWXIoWXIucGFyc2VTdHJpbmcoZSl8fHZvaWQgMCl9X2l0ZXIoZSl7cmV0dXJuIFB1KGUsdGhpcy5vcHRpb25zKX1fY2FjaGVHZXQoZSx0KXtyZXR1cm4gdGhpcy5fY2FjaGU/dGhpcy5fY2FjaGUuX2NhY2hlR2V0KGUsdCk6ITF9X2NhY2hlQWRkKGUsdCxzKXtpZih0aGlzLl9jYWNoZSlyZXR1cm4gdGhpcy5fY2FjaGUuX2NhY2hlQWRkKGUsdCxzKX1hbGwoZSl7aWYoZSlyZXR1cm4gdGhpcy5faXRlcihuZXcgeHUoImFsbCIse30sZSkpO2xldCB0PXRoaXMuX2NhY2hlR2V0KCJhbGwiKTtyZXR1cm4gdD09PSExJiYodD10aGlzLl9pdGVyKG5ldyBpcygiYWxsIix7fSkpLHRoaXMuX2NhY2hlQWRkKCJhbGwiLHQpKSx0fWJldHdlZW4oZSx0LHM9ITEsaSl7aWYoIXFuKGUpfHwhcW4odCkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGRhdGUgcGFzc2VkIGluIHRvIFJSdWxlLmJldHdlZW4iKTtjb25zdCByPXtiZWZvcmU6dCxhZnRlcjplLGluYzpzfTtpZihpKXJldHVybiB0aGlzLl9pdGVyKG5ldyB4dSgiYmV0d2VlbiIscixpKSk7bGV0IG89dGhpcy5fY2FjaGVHZXQoImJldHdlZW4iLHIpO3JldHVybiBvPT09ITEmJihvPXRoaXMuX2l0ZXIobmV3IGlzKCJiZXR3ZWVuIixyKSksdGhpcy5fY2FjaGVBZGQoImJldHdlZW4iLG8scikpLG99YmVmb3JlKGUsdD0hMSl7aWYoIXFuKGUpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBkYXRlIHBhc3NlZCBpbiB0byBSUnVsZS5iZWZvcmUiKTtjb25zdCBzPXtkdDplLGluYzp0fTtsZXQgaT10aGlzLl9jYWNoZUdldCgiYmVmb3JlIixzKTtyZXR1cm4gaT09PSExJiYoaT10aGlzLl9pdGVyKG5ldyBpcygiYmVmb3JlIixzKSksdGhpcy5fY2FjaGVBZGQoImJlZm9yZSIsaSxzKSksaX1hZnRlcihlLHQ9ITEpe2lmKCFxbihlKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZGF0ZSBwYXNzZWQgaW4gdG8gUlJ1bGUuYWZ0ZXIiKTtjb25zdCBzPXtkdDplLGluYzp0fTtsZXQgaT10aGlzLl9jYWNoZUdldCgiYWZ0ZXIiLHMpO3JldHVybiBpPT09ITEmJihpPXRoaXMuX2l0ZXIobmV3IGlzKCJhZnRlciIscykpLHRoaXMuX2NhY2hlQWRkKCJhZnRlciIsaSxzKSksaX1jb3VudCgpe3JldHVybiB0aGlzLmFsbCgpLmxlbmd0aH10b1N0cmluZygpe3JldHVybiBObyh0aGlzLm9yaWdPcHRpb25zKX10b1RleHQoZSx0LHMpe3JldHVybiB5cCh0aGlzLGUsdCxzKX1pc0Z1bGx5Q29udmVydGlibGVUb1RleHQoKXtyZXR1cm4gcHAodGhpcyl9Y2xvbmUoKXtyZXR1cm4gbmV3IFlyKHRoaXMub3JpZ09wdGlvbnMpfX07RC5GUkVRVUVOQ0lFUz1bIllFQVJMWSIsIk1PTlRITFkiLCJXRUVLTFkiLCJEQUlMWSIsIkhPVVJMWSIsIk1JTlVURUxZIiwiU0VDT05ETFkiXSxELllFQVJMWT1qLllFQVJMWSxELk1PTlRITFk9ai5NT05USExZLEQuV0VFS0xZPWouV0VFS0xZLEQuREFJTFk9ai5EQUlMWSxELkhPVVJMWT1qLkhPVVJMWSxELk1JTlVURUxZPWouTUlOVVRFTFksRC5TRUNPTkRMWT1qLlNFQ09ORExZLEQuTU89d3QuTU8sRC5UVT13dC5UVSxELldFPXd0LldFLEQuVEg9d3QuVEgsRC5GUj13dC5GUixELlNBPXd0LlNBLEQuU1U9d3QuU1UsRC5wYXJzZVN0cmluZz1fbyxELm9wdGlvbnNUb1N0cmluZz1ObztmdW5jdGlvbiBLcChuLGUsdCxzLGkscil7Y29uc3Qgbz17fSxhPW4uYWNjZXB0O2Z1bmN0aW9uIGwoaCxjKXt0LmZvckVhY2goZnVuY3Rpb24obSl7bS5iZXR3ZWVuKGgsYywhMCkuZm9yRWFjaChmdW5jdGlvbihmKXtvW051bWJlcihmKV09ITB9KX0pfWkuZm9yRWFjaChmdW5jdGlvbihoKXtjb25zdCBjPW5ldyBIaShoLHIpLnJlem9uZWREYXRlKCk7b1tOdW1iZXIoYyldPSEwfSksbi5hY2NlcHQ9ZnVuY3Rpb24oaCl7Y29uc3QgYz1OdW1iZXIoaCk7cmV0dXJuIGlzTmFOKGMpP2EuY2FsbCh0aGlzLGgpOiFvW2NdJiYobChuZXcgRGF0ZShjLTEpLG5ldyBEYXRlKGMrMSkpLCFvW2NdKT8ob1tjXT0hMCxhLmNhbGwodGhpcyxoKSk6ITB9LG4ubWV0aG9kPT09ImJldHdlZW4iJiYobChuLmFyZ3MuYWZ0ZXIsbi5hcmdzLmJlZm9yZSksbi5hY2NlcHQ9ZnVuY3Rpb24oaCl7Y29uc3QgYz1OdW1iZXIoaCk7cmV0dXJuIG9bY10/ITA6KG9bY109ITAsYS5jYWxsKHRoaXMsaCkpfSk7Zm9yKGxldCBoPTA7aDxzLmxlbmd0aDtoKyspe2NvbnN0IGM9bmV3IEhpKHNbaF0scikucmV6b25lZERhdGUoKTtpZighbi5hY2NlcHQobmV3IERhdGUoYy5nZXRUaW1lKCkpKSlicmVha31lLmZvckVhY2goZnVuY3Rpb24oaCl7UHUobixoLm9wdGlvbnMpfSk7Y29uc3QgdT1uLl9yZXN1bHQ7c3dpdGNoKEtuKHUpLG4ubWV0aG9kKXtjYXNlImFsbCI6Y2FzZSJiZXR3ZWVuIjpyZXR1cm4gdTtjYXNlImJlZm9yZSI6cmV0dXJuIHUubGVuZ3RoJiZ1W3UubGVuZ3RoLTFdfHxudWxsO2Nhc2UiYWZ0ZXIiOmRlZmF1bHQ6cmV0dXJuIHUubGVuZ3RoJiZ1WzBdfHxudWxsfX1jb25zdCBCdT17ZHRzdGFydDpudWxsLGNhY2hlOiExLHVuZm9sZDohMSxmb3JjZXNldDohMSxjb21wYXRpYmxlOiExLHR6aWQ6bnVsbH07ZnVuY3Rpb24gWnAobixlKXtjb25zdCB0PVtdO2xldCBzPVtdO2NvbnN0IGk9W107bGV0IHI9W107Y29uc3Qgbz1XaShuKSx7ZHRzdGFydDphfT1vO2xldHt0emlkOmx9PW87cmV0dXJuIGVnKG4sZS51bmZvbGQpLmZvckVhY2goaD0+e3ZhciBjO2lmKCFoKXJldHVybjtjb25zdHtuYW1lOm0scGFybXM6Zix2YWx1ZTpnfT1RcChoKTtzd2l0Y2gobS50b1VwcGVyQ2FzZSgpKXtjYXNlIlJSVUxFIjppZihmLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIFJSVUxFIHBhcm06ICR7Zi5qb2luKCIsIil9YCk7dC5wdXNoKF9vKGgpKTticmVhaztjYXNlIlJEQVRFIjpjb25zdFssZF09KGM9L1JEQVRFKD86O1RaSUQ9KFteOj1dKykpPy9pLmV4ZWMoaCkpIT09bnVsbCYmYyE9PXZvaWQgMD9jOltdO2QmJiFsJiYobD1kKSxzPXMuY29uY2F0KFd1KGcsZikpO2JyZWFrO2Nhc2UiRVhSVUxFIjppZihmLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIEVYUlVMRSBwYXJtOiAke2Yuam9pbigiLCIpfWApO2kucHVzaChfbyhnKSk7YnJlYWs7Y2FzZSJFWERBVEUiOnI9ci5jb25jYXQoV3UoZyxmKSk7YnJlYWs7Y2FzZSJEVFNUQVJUIjpicmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigidW5zdXBwb3J0ZWQgcHJvcGVydHk6ICIrbSl9fSkse2R0c3RhcnQ6YSx0emlkOmwscnJ1bGV2YWxzOnQscmRhdGV2YWxzOnMsZXhydWxldmFsczppLGV4ZGF0ZXZhbHM6cn19ZnVuY3Rpb24gR3AobixlKXtjb25zdHtycnVsZXZhbHM6dCxyZGF0ZXZhbHM6cyxleHJ1bGV2YWxzOmksZXhkYXRldmFsczpyLGR0c3RhcnQ6byx0emlkOmF9PVpwKG4sZSksbD1lLmNhY2hlPT09ITE7aWYoZS5jb21wYXRpYmxlJiYoZS5mb3JjZXNldD0hMCxlLnVuZm9sZD0hMCksZS5mb3JjZXNldHx8dC5sZW5ndGg+MXx8cy5sZW5ndGh8fGkubGVuZ3RofHxyLmxlbmd0aCl7Y29uc3QgaD1uZXcgVmkobCk7cmV0dXJuIGguZHRzdGFydChvKSxoLnR6aWQoYXx8dm9pZCAwKSx0LmZvckVhY2goYz0+e2gucnJ1bGUobmV3IEQoQ28oYyxvLGEpLGwpKX0pLHMuZm9yRWFjaChjPT57aC5yZGF0ZShjKX0pLGkuZm9yRWFjaChjPT57aC5leHJ1bGUobmV3IEQoQ28oYyxvLGEpLGwpKX0pLHIuZm9yRWFjaChjPT57aC5leGRhdGUoYyl9KSxlLmNvbXBhdGlibGUmJmUuZHRzdGFydCYmaC5yZGF0ZShvKSxofWNvbnN0IHU9dFswXXx8e307cmV0dXJuIG5ldyBEKENvKHUsdS5kdHN0YXJ0fHxlLmR0c3RhcnR8fG8sdS50emlkfHxlLnR6aWR8fGEpLGwpfWZ1bmN0aW9uIEFvKG4sZT17fSl7cmV0dXJuIEdwKG4sSnAoZSkpfWZ1bmN0aW9uIENvKG4sZSx0KXtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtkdHN0YXJ0OmUsdHppZDp0fSl9ZnVuY3Rpb24gSnAobil7Y29uc3QgZT1bXSx0PU9iamVjdC5rZXlzKG4pLHM9T2JqZWN0LmtleXMoQnUpO2lmKHQuZm9yRWFjaChmdW5jdGlvbihpKXtpZShzLGkpfHxlLnB1c2goaSl9KSxlLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgb3B0aW9uczogIitlLmpvaW4oIiwgIikpO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sQnUpLG4pfWZ1bmN0aW9uIFhwKG4pe2lmKG4uaW5kZXhPZigiOiIpPT09LTEpcmV0dXJue25hbWU6IlJSVUxFIix2YWx1ZTpufTtjb25zdFtlLHRdPXJwKG4sIjoiLDEpO3JldHVybntuYW1lOmUsdmFsdWU6dH19ZnVuY3Rpb24gUXAobil7Y29uc3R7bmFtZTplLHZhbHVlOnR9PVhwKG4pLHM9ZS5zcGxpdCgiOyIpO2lmKCFzKXRocm93IG5ldyBFcnJvcigiZW1wdHkgcHJvcGVydHkgbmFtZSIpO3JldHVybntuYW1lOnNbMF0udG9VcHBlckNhc2UoKSxwYXJtczpzLnNsaWNlKDEpLHZhbHVlOnR9fWZ1bmN0aW9uIGVnKG4sZT0hMSl7aWYobj1uJiZuLnRyaW0oKSwhbil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZW1wdHkgc3RyaW5nIik7aWYoIWUpcmV0dXJuIG4uc3BsaXQoL1xzLyk7Y29uc3QgdD1uLnNwbGl0KGAKYCk7bGV0IHM9MDtmb3IoO3M8dC5sZW5ndGg7KXtjb25zdCBpPXRbc109dFtzXS5yZXBsYWNlKC9ccyskL2csIiIpO2k/cz4wJiZpWzBdPT09IiAiPyh0W3MtMV0rPWkuc2xpY2UoMSksdC5zcGxpY2UocywxKSk6cys9MTp0LnNwbGljZShzLDEpfXJldHVybiB0fWZ1bmN0aW9uIHRnKG4pe24uZm9yRWFjaChlPT57aWYoIS8oVkFMVUU9REFURSgtVElNRSk/KXwoVFpJRD0pLy50ZXN0KGUpKXRocm93IG5ldyBFcnJvcigidW5zdXBwb3J0ZWQgUkRBVEUvRVhEQVRFIHBhcm06ICIrZSl9KX1mdW5jdGlvbiBXdShuLGUpe3JldHVybiB0ZyhlKSxuLnNwbGl0KCIsIikubWFwKHQ9PkRvKHQpKX1mdW5jdGlvbiBIdShuKXtyZXR1cm4gZT0+e2lmKGUhPT12b2lkIDAmJih0aGlzW2BfJHtufWBdPWUpLHRoaXNbYF8ke259YF0hPT12b2lkIDApcmV0dXJuIHRoaXNbYF8ke259YF07Zm9yKGxldCB0PTA7dDx0aGlzLl9ycnVsZS5sZW5ndGg7dCsrKXtjb25zdCBzPXRoaXMuX3JydWxlW3RdLm9yaWdPcHRpb25zW25dO2lmKHMpcmV0dXJuIHN9fX1jbGFzcyBWaSBleHRlbmRzIER7Y29uc3RydWN0b3IoZT0hMSl7c3VwZXIoe30sZSksdGhpcy5kdHN0YXJ0PUh1LmFwcGx5KHRoaXMsWyJkdHN0YXJ0Il0pLHRoaXMudHppZD1IdS5hcHBseSh0aGlzLFsidHppZCJdKSx0aGlzLl9ycnVsZT1bXSx0aGlzLl9yZGF0ZT1bXSx0aGlzLl9leHJ1bGU9W10sdGhpcy5fZXhkYXRlPVtdfV9pdGVyKGUpe3JldHVybiBLcChlLHRoaXMuX3JydWxlLHRoaXMuX2V4cnVsZSx0aGlzLl9yZGF0ZSx0aGlzLl9leGRhdGUsdGhpcy50emlkKCkpfXJydWxlKGUpe1Z1KGUsdGhpcy5fcnJ1bGUpfWV4cnVsZShlKXtWdShlLHRoaXMuX2V4cnVsZSl9cmRhdGUoZSl7anUoZSx0aGlzLl9yZGF0ZSl9ZXhkYXRlKGUpe2p1KGUsdGhpcy5fZXhkYXRlKX1ycnVsZXMoKXtyZXR1cm4gdGhpcy5fcnJ1bGUubWFwKGU9PkFvKGUudG9TdHJpbmcoKSkpfWV4cnVsZXMoKXtyZXR1cm4gdGhpcy5fZXhydWxlLm1hcChlPT5BbyhlLnRvU3RyaW5nKCkpKX1yZGF0ZXMoKXtyZXR1cm4gdGhpcy5fcmRhdGUubWFwKGU9Pm5ldyBEYXRlKGUuZ2V0VGltZSgpKSl9ZXhkYXRlcygpe3JldHVybiB0aGlzLl9leGRhdGUubWFwKGU9Pm5ldyBEYXRlKGUuZ2V0VGltZSgpKSl9dmFsdWVPZigpe2xldCBlPVtdO3JldHVybiF0aGlzLl9ycnVsZS5sZW5ndGgmJnRoaXMuX2R0c3RhcnQmJihlPWUuY29uY2F0KE5vKHtkdHN0YXJ0OnRoaXMuX2R0c3RhcnR9KSkpLHRoaXMuX3JydWxlLmZvckVhY2goZnVuY3Rpb24odCl7ZT1lLmNvbmNhdCh0LnRvU3RyaW5nKCkuc3BsaXQoYApgKSl9KSx0aGlzLl9leHJ1bGUuZm9yRWFjaChmdW5jdGlvbih0KXtlPWUuY29uY2F0KHQudG9TdHJpbmcoKS5zcGxpdChgCmApLm1hcChzPT5zLnJlcGxhY2UoL15SUlVMRTovLCJFWFJVTEU6IikpLmZpbHRlcihzPT4hL15EVFNUQVJULy50ZXN0KHMpKSl9KSx0aGlzLl9yZGF0ZS5sZW5ndGgmJmUucHVzaChxdSgiUkRBVEUiLHRoaXMuX3JkYXRlLHRoaXMudHppZCgpKSksdGhpcy5fZXhkYXRlLmxlbmd0aCYmZS5wdXNoKHF1KCJFWERBVEUiLHRoaXMuX2V4ZGF0ZSx0aGlzLnR6aWQoKSkpLGV9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy52YWx1ZU9mKCkuam9pbihgCmApfWNsb25lKCl7Y29uc3QgZT1uZXcgVmkoISF0aGlzLl9jYWNoZSk7cmV0dXJuIHRoaXMuX3JydWxlLmZvckVhY2godD0+ZS5ycnVsZSh0LmNsb25lKCkpKSx0aGlzLl9leHJ1bGUuZm9yRWFjaCh0PT5lLmV4cnVsZSh0LmNsb25lKCkpKSx0aGlzLl9yZGF0ZS5mb3JFYWNoKHQ9PmUucmRhdGUobmV3IERhdGUodC5nZXRUaW1lKCkpKSksdGhpcy5fZXhkYXRlLmZvckVhY2godD0+ZS5leGRhdGUobmV3IERhdGUodC5nZXRUaW1lKCkpKSksZX19ZnVuY3Rpb24gVnUobixlKXtpZighKG4gaW5zdGFuY2VvZiBEKSl0aHJvdyBuZXcgVHlwZUVycm9yKFN0cmluZyhuKSsiIGlzIG5vdCBSUnVsZSBpbnN0YW5jZSIpO2llKGUubWFwKFN0cmluZyksU3RyaW5nKG4pKXx8ZS5wdXNoKG4pfWZ1bmN0aW9uIGp1KG4sZSl7aWYoIShuIGluc3RhbmNlb2YgRGF0ZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihTdHJpbmcobikrIiBpcyBub3QgRGF0ZSBpbnN0YW5jZSIpO2llKGUubWFwKE51bWJlciksTnVtYmVyKG4pKXx8KGUucHVzaChuKSxLbihlKSl9ZnVuY3Rpb24gcXUobixlLHQpe2NvbnN0IHM9IXR8fHQudG9VcHBlckNhc2UoKT09PSJVVEMiLGk9cz9gJHtufTpgOmAke259O1RaSUQ9JHt0fTpgLHI9ZS5tYXAobz0+SW8oby52YWx1ZU9mKCkscykpLmpvaW4oIiwiKTtyZXR1cm5gJHtpfSR7cn1gfXZhciBzZz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxBTExfV0VFS0RBWVM6UGksZ2V0IEZyZXF1ZW5jeSgpe3JldHVybiBqfSxSUnVsZTpELFJSdWxlU2V0OlZpLFdlZWtkYXk6U2UsZGF0ZXRpbWU6bnMscnJ1bGVzdHI6QW99KTtjb25zdHtSUnVsZTpLdX09c2c7ZnVuY3Rpb24gWnUobil7dmFyIHMsaTtjb25zdCBlPW4udW50aWw/KChzPU0uZnJvbUpTRGF0ZShuLnVudGlsKSk9PW51bGw/dm9pZCAwOnMudG9JU08oKSk/P3ZvaWQgMDp2b2lkIDAsdD1uLmR0c3RhcnQ/KChpPU0uZnJvbUpTRGF0ZShuLmR0c3RhcnQpKT09bnVsbD92b2lkIDA6aS50b0lTTygpKT8/dm9pZCAwOnZvaWQgMDtyZXR1cm57Li4ubix1bnRpbDplLGR0c3RhcnQ6dH19Y29uc3QgR3U9KG4sZSx0LHMsaSk9Pntjb25zdCByPXNbUnldO2lmKCFyKXJldHVybjtjb25zdCBvPXIudHJpbSgpLGE9c1swXS5pbmRleE9mKG8pLGw9dFtlXSthLHU9dFtlXSthK28ubGVuZ3RoLGg9e3R5cGU6Vy5SZWN1cnJlbmNlLGZyb206bCx0bzp1LGNvbnRlbnQ6cn07dHJ5e2NvbnN0IGM9S3UucGFyc2VUZXh0KHIpO3JldHVybntyZWN1cnJlbmNlOlp1KGMpLHJhbmdlOmh9fWNhdGNoe2kucGFyc2VNZXNzYWdlcy5wdXNoKHt0eXBlOiJlcnJvciIsbWVzc2FnZToiQ2Fubm90IHBhcnNlIHJlY3VycmVuY2UiLHBvczpbbCx1XX0pO3JldHVybn19LEp1PShuLGUsdCxzLGkpPT57Y29uc3Qgcj1zW3N5XTtpZighcilyZXR1cm47Y29uc3Qgbz1yLnRyaW0oKSxhPXNbMF0uaW5kZXhPZihvKSxsPXRbZV0rYSx1PXRbZV0rYStvLmxlbmd0aCxoPXt0eXBlOlcuUmVjdXJyZW5jZSxmcm9tOmwsdG86dSxjb250ZW50OnJ9O3RyeXtjb25zdCBjPUt1LnBhcnNlVGV4dChyKTtyZXR1cm57cmVjdXJyZW5jZTpadShjKSxyYW5nZTpofX1jYXRjaHtpLnBhcnNlTWVzc2FnZXMucHVzaCh7dHlwZToiZXJyb3IiLG1lc3NhZ2U6IkNhbm5vdCBwYXJzZSByZWN1cnJlbmNlIixwb3M6W2wsdV19KTtyZXR1cm59fTtmdW5jdGlvbiBuZyhuLGUsdCxzKXt2YXIgeHIsYmksVGk7Y29uc3QgaT1uLm1hdGNoKHBvKTtpZighaSlyZXR1cm47Y29uc3Qgcj1pW0JkXSxvPW4uaW5kZXhPZihyKSxhPXt0eXBlOlcuRGF0ZVJhbmdlLGZyb206dFtlXStvLHRvOnRbZV0rbytyLmxlbmd0aH07cy5yYW5nZXMucHVzaChhKTtjb25zdCBsPW4uaW5kZXhPZigiOiIsbytyLmxlbmd0aCksdT1HPT4oe3R5cGU6Ryxmcm9tOnRbZV0rbCx0bzp0W2VdK2wrMX0pLGg9KHhyPXMuY2FjaGUpPT1udWxsP3ZvaWQgMDp4ci56b25lKHMudGltZXpvbmUpLnJhbmdlcy5nZXQocik7aWYoaCl7Y29uc3QgRz1KdShuLGUsdCxpLHMpO0cmJnMucmFuZ2VzLnB1c2goRy5yYW5nZSk7Y29uc3QgQz11KFcuRGF0ZVJhbmdlQ29sb24pO3JldHVybiBzLnJhbmdlcy5wdXNoKEMpLG5ldyBzbih7ZnJvbTpNLmZyb21JU08oaC5mcm9tRGF0ZVRpbWVJc28se3NldFpvbmU6ITB9KSx0bzpNLmZyb21JU08oaC50b0RhdGVUaW1lSXNvLHtzZXRab25lOiEwfSksb3JpZ2luYWxTdHJpbmc6cixkYXRlUmFuZ2VJblRleHQ6YSxldmVudFRleHQ6aVt1dV0scmVjdXJyZW5jZTpHLGRlZmluaXRpb246ey4uLmEsdHlwZTpXLkV2ZW50RGVmaW5pdGlvbix0bzpDLnRvfSxpc1JlbGF0aXZlOiExfSl9Y29uc3QgYz1pW1dkXSxtPWlbU21dLGY9aVtpbV0sZz1pW3JtXSxkPVsiYmVmb3JlIiwiYnkiXS5pbmNsdWRlcyhnfHwiIik/ImJlZm9yZSI6ImFmdGVyIix5PWlbRm1dLHc9d3UoaSxzLGNtLGZtLGRtLGhtLGFtLGxtLHVtLEVtLFRtLGttLGlbbW1dP3RwKGkpOnZvaWQgMCksYj13dShpLHMsV20sVm0sam0sSG0sUG0sJG0sQm0sdHksUW0sZXksaVtxbV0/c3AoaSk6dm9pZCAwKSxrPWlbSmRdLFM9aVtBbV0sTz1pW1ZkXSx2PWlbSW1dLEg9aVtIZF0sXz1pW09tXTtsZXQgWSxSLFY9Imluc3RhbnQiLFo9ITAsdnQ9ITE7aWYoZil7Wj0hMSx2dD0hMDtjb25zdCBHPShiaT1pW29tXSk9PW51bGw/dm9pZCAwOmJpLnN1YnN0cmluZygxKTtsZXQgQztpZihHKXtjb25zdCBGPXMuZ2V0QnlJZChHKTtpZihGJiZWbihGKSl7Y29uc3QgbGU9Q3QoRi5kYXRlUmFuZ2VJc28pO2Q9PT0iYWZ0ZXIiP0M9bGUudG9EYXRlVGltZTpDPWxlLmZyb21EYXRlVGltZX1lbHNlIHMucGFyc2VNZXNzYWdlcy5wdXNoKHt0eXBlOiJlcnJvciIsbWVzc2FnZTpgRXZlbnQgJHtHfSBub3QgZm91bmRgLHBvczpbdFtlXStuLmluZGV4T2YoRyksdFtlXStuLmluZGV4T2YoRykrRy5sZW5ndGhdfSl9aWYoIUMpe2NvbnN0IEY9cy5wcmlvckV2ZW50KCk7Rj9DPWQ9PT0iYWZ0ZXIiP0N0KEYuZGF0ZVJhbmdlSXNvKS50b0RhdGVUaW1lOkN0KEYuZGF0ZVJhbmdlSXNvKS5mcm9tRGF0ZVRpbWU6Qz1zLnpvbmVkTm93fSF5JiYhbT9kPT09ImJlZm9yZSI/KFI9QyxZPWx0LmZyb20oZixDLCEwKSk6KFk9QyxSPWx0LmZyb20oZixDKSk6ZD09PSJiZWZvcmUiP3kmJihSPWx0LmZyb20oZixDLCEwKSxZPWx0LmZyb20oeSxSLCEwKSk6WT1sdC5mcm9tKGYsQyksVj0iaW5zdGFudCJ9ZWxzZSBpZih3KVk9TS5mcm9tSVNPKHcuZGF0ZVRpbWVJc28se3NldFpvbmU6ITAsem9uZTpzLnRpbWV6b25lfSksVj13LmdyYW51bGFyaXR5O2Vsc2UgaWYoayl7Y29uc3QgRz1pW1hkXTtsZXQgQz1rO0cmJihDPUMuc3Vic3RyaW5nKDAsQy5pbmRleE9mKEcpKS50cmltKCkucmVwbGFjZSgvLC9nLCIiKSk7Y29uc3QgRj1rdShDLHMuaGVhZGVyLmRhdGVGb3JtYXQscyk7aWYoRilpZihHKXtjb25zdCBsZT1ReShpKSxBdD1NLmZyb21JU08obGUuZGF0ZVRpbWVJc28pO1k9TS5mcm9tSVNPKEYuZGF0ZVRpbWVJc28se3NldFpvbmU6ITAsem9uZTpzLnRpbWV6b25lfSkuc2V0KHtob3VyOkF0LmhvdXIsbWludXRlOkF0Lm1pbnV0ZX0pLFY9bGUuZ3JhbnVsYXJpdHl9ZWxzZSBZPU0uZnJvbUlTTyhGLmRhdGVUaW1lSXNvLHtzZXRab25lOiEwLHpvbmU6cy50aW1lem9uZX0pLFY9Ri5ncmFudWxhcml0eTtlbHNlIHMucGFyc2VNZXNzYWdlcy5wdXNoKHt0eXBlOiJlcnJvciIsbWVzc2FnZToiV2FzIHN1cHBvc2VkIHRvIGhhdmUgYSBzbGFzaCBkYXRlIGJ1dCBjb3VsZG4ndCBwYXJzZSBpdCIscG9zOlthLmZyb20sYS50b119KX1lbHNlIGlmKE8pe1o9ITEsdnQ9ITA7Y29uc3QgRz10cyhpLGpkLHFkLEtkLFpkLEdkKSxDPXMucHJpb3JFdmVudFRvRGF0ZVRpbWUoKXx8cy56b25lZE5vdyxGPU0uZnJvbUlTTyhHLmRhdGVUaW1lSXNvLHtzZXRab25lOiEwLHpvbmU6cy50aW1lem9uZX0pO2xldCBsZT1DLnNldCh7aG91cjpGLmhvdXIsbWludXRlOkYubWludXRlfSk7bGU8Qz8obGU9bGUucGx1cyh7ZGF5czoxfSksWT1sZSxWPUcuZ3JhbnVsYXJpdHkpOihZPWxlLFY9Ry5ncmFudWxhcml0eSl9ZWxzZSBIPyhZPXMuem9uZWROb3csVj0iaW5zdGFudCIpOihZPU0uZnJvbUlTTyhjLHt6b25lOnMudGltZXpvbmUsc2V0Wm9uZTohMH0pLFY9Imluc3RhbnQiKTtpZigoIVl8fCFZLmlzVmFsaWQpJiYoWT1zLnpvbmVkTm93LFY9Imluc3RhbnQiKSwhUilpZih5KXtaPSExLHZ0PSEwO2NvbnN0IEc9aVt6bV07bGV0IEM7aWYoRyl7Y29uc3QgRj1zLmdldEJ5SWQoRyk7RiYmVm4oRikmJihDPUN0KEYuZGF0ZVJhbmdlSXNvKS50b0RhdGVUaW1lKX1DfHwoQz1ZKSxSPWx0LmZyb20obSxDKX1lbHNlIGlmKGIpUj1NLmZyb21JU08oc3MoYixzKSx7c2V0Wm9uZTohMCx6b25lOnMudGltZXpvbmV9KTtlbHNlIGlmKFMpe2NvbnN0IEc9aVtDbV07bGV0IEM9UztHJiYoQz1DLnN1YnN0cmluZygwLEMuaW5kZXhPZihHKSkudHJpbSgpLnJlcGxhY2UoLywvZywiIikpO2NvbnN0IEY9a3UoQyxzLmhlYWRlci5kYXRlRm9ybWF0LHMpO2lmKEYpaWYoRyl7Y29uc3QgbGU9TS5mcm9tSVNPKEYuZGF0ZVRpbWVJc28se3NldFpvbmU6ITAsem9uZTpzLnRpbWV6b25lfSksQXQ9ZXAoaSksTWg9TS5mcm9tSVNPKEF0LmRhdGVUaW1lSXNvLHtzZXRab25lOiEwLHpvbmU6cy50aW1lem9uZX0pO1I9bGUuc2V0KHtob3VyOk1oLmhvdXIsbWludXRlOk1oLm1pbnV0ZX0pLFI9TS5mcm9tSVNPKHNzKHtkYXRlVGltZUlzbzpSLnRvSVNPKCksZ3JhbnVsYXJpdHk6QXQuZ3JhbnVsYXJpdHl9LHMpLHtzZXRab25lOiEwLHpvbmU6cy50aW1lem9uZX0pfWVsc2UgUj1NLmZyb21JU08oc3MoRixzKSx7c2V0Wm9uZTohMCx6b25lOnMudGltZXpvbmV9KTtlbHNlIHMucGFyc2VNZXNzYWdlcy5wdXNoKHt0eXBlOiJlcnJvciIsbWVzc2FnZToiV2FzIHN1cHBvc2VkIHRvIGhhdmUgYSBzbGFzaCBkYXRlIGJ1dCBjb3VsZG4ndCBwYXJzZSBpdCIscG9zOlthLmZyb20sYS50b119KX1lbHNlIGlmKHYpe2NvbnN0IEc9dHMoaSxEbSxNbSxfbSxObSx2bSksQz1NLmZyb21JU08oRy5kYXRlVGltZUlzbyx7c2V0Wm9uZTohMCx6b25lOnMudGltZXpvbmV9KTtsZXQgRj1ZLnNldCh7aG91cjpDLmhvdXIsbWludXRlOkMubWludXRlfSk7RjxZJiYoRj1GLnBsdXMoe2RheXM6MX0pKSxSPUYsVj1HLmdyYW51bGFyaXR5fWVsc2UgXz8oUj1zLnpvbmVkTm93LFY9Imluc3RhbnQiKTpSPU0uZnJvbUlTTyhzcyh7ZGF0ZVRpbWVJc286bSxncmFudWxhcml0eToiaW5zdGFudCJ9LHMpLHtzZXRab25lOiEwLHpvbmU6cy50aW1lem9uZX0pOyghUnx8IVIuaXNWYWxpZCkmJihSPU0uZnJvbUlTTyhzcyh7ZGF0ZVRpbWVJc286WS50b0lTTygpLGdyYW51bGFyaXR5OlZ9LHMpLHtzZXRab25lOiEwLHpvbmU6cy50aW1lem9uZX0pKTtjb25zdCBCcz1KdShuLGUsdCxpLHMpO0JzJiZzLnJhbmdlcy5wdXNoKEJzLnJhbmdlKTtjb25zdCB4bj11KFcuRGF0ZVJhbmdlQ29sb24pO3MucmFuZ2VzLnB1c2goeG4pO2NvbnN0IENyPW5ldyBzbih7ZnJvbTpZLHRvOlIsb3JpZ2luYWxTdHJpbmc6cixkYXRlUmFuZ2VJblRleHQ6YSxldmVudFRleHQ6aVt1dV0scmVjdXJyZW5jZTpCcyxpc1JlbGF0aXZlOnZ0LGRlZmluaXRpb246ey4uLmEsdHlwZTpXLkV2ZW50RGVmaW5pdGlvbix0bzp4bi50b319KTtyZXR1cm4gWiYmKChUaT1zLmNhY2hlKT09bnVsbHx8VGkuem9uZShzLnRpbWV6b25lKS5yYW5nZXMuc2V0KHIse2Zyb21EYXRlVGltZUlzbzpZLnRvSVNPKCksdG9EYXRlVGltZUlzbzpSLnRvSVNPKCl9KSksQ3J9ZnVuY3Rpb24gaWcobixlLHQscyl7dmFyIGJpLFRpLEc7Y29uc3QgaT1uLm1hdGNoKGJvKTtpZighaSlyZXR1cm47Y29uc3Qgcj1pW2x5XSxvPWlbdXldLGE9ISFpW2N5XSxsPSEhaVtoeV0sdT0hIWlbZnldLGg9aVtFeV0sYz1pW1N5XSxtPSEhaVtPeV0sZj0hIWlbSXldLGc9ISFpW0R5XSxkPWlbYnldO2lbeHldO2NvbnN0IHk9aVt3eV0sdz1bImJlZm9yZSIsImJ5Il0uaW5jbHVkZXMoZHx8IiIpPyJiZWZvcmUiOiJhZnRlciIsYj1pW0N5XSxrPWlba3ldLFM9aVtZeV0sTz1uLmluZGV4T2Yociksdj17dHlwZTpXLkRhdGVSYW5nZSxmcm9tOnRbZV0rTyx0bzp0W2VdK08rci5sZW5ndGh9O3MucmFuZ2VzLnB1c2godik7Y29uc3QgSD1uLmluZGV4T2YoIjoiLE8rci5sZW5ndGgpLF89Qz0+KHt0eXBlOkMsZnJvbTp0W2VdK0gsdG86dFtlXStIKzF9KSxZPShiaT1zLmNhY2hlKT09bnVsbD92b2lkIDA6Ymkuem9uZShzLnRpbWV6b25lKS5yYW5nZXMuZ2V0KHIpO2lmKFkpe2NvbnN0IEM9R3UobixlLHQsaSxzKTtyZXR1cm4gQyYmcy5yYW5nZXMucHVzaChDLnJhbmdlKSxzLnJhbmdlcy5wdXNoKF8oVy5EYXRlUmFuZ2VDb2xvbikpLG5ldyBzbih7ZnJvbTpNLmZyb21JU08oWS5mcm9tRGF0ZVRpbWVJc28se3NldFpvbmU6ITB9KSx0bzpNLmZyb21JU08oWS50b0RhdGVUaW1lSXNvLHtzZXRab25lOiEwfSksb3JpZ2luYWxTdHJpbmc6cixkYXRlUmFuZ2VJblRleHQ6dixldmVudFRleHQ6aVtodV0scmVjdXJyZW5jZTpDLGlzUmVsYXRpdmU6ITEsZGVmaW5pdGlvbjp7Li4udix0eXBlOlcuRXZlbnREZWZpbml0aW9uLHRvOnRbZV0rSCsxfX0pfWxldCBSLFYsWj0iaW5zdGFudCIsdnQ9ITAsQnM9ITE7aWYobylpZih1KXtjb25zdCBDPXRzKGksZHksbXkseXkscHksZ3kpLEY9TS5mcm9tSVNPKEMuZGF0ZVRpbWVJc28pO1I9TS5mcm9tSVNPKG8uc3Vic3RyaW5nKDAsMTApLHt6b25lOnMudGltZXpvbmV9KS5zZXQoe2hvdXI6Ri5ob3VyLG1pbnV0ZTpGLm1pbnV0ZX0pLFo9Qy5ncmFudWxhcml0eX1lbHNlIFI9TS5mcm9tSVNPKG8se3pvbmU6cy50aW1lem9uZX0pLFo9bD8iZGF5IjphPyJtb250aCI6InllYXIiO2Vsc2UgaWYoeSl7dnQ9ITEsQnM9ITA7Y29uc3QgQz0oVGk9aVtUeV0pPT1udWxsP3ZvaWQgMDpUaS5zdWJzdHJpbmcoMSk7bGV0IEY7aWYoQyl7Y29uc3QgbGU9cy5nZXRCeUlkKEMpO2lmKGxlJiZWbihsZSkpe2NvbnN0IEF0PUN0KGxlLmRhdGVSYW5nZUlzbyk7dz09PSJhZnRlciI/Rj1BdC50b0RhdGVUaW1lOkY9QXQuZnJvbURhdGVUaW1lfWVsc2Ugcy5wYXJzZU1lc3NhZ2VzLnB1c2goe3R5cGU6ImVycm9yIixtZXNzYWdlOmBFdmVudCAke0N9IG5vdCBmb3VuZGAscG9zOlt0W2VdK24uaW5kZXhPZihDKSx0W2VdK24uaW5kZXhPZihDKStDLmxlbmd0aF19KX1pZighRil7Y29uc3QgbGU9cy5wcmlvckV2ZW50KCk7bGU/Rj13PT09ImFmdGVyIj9DdChsZS5kYXRlUmFuZ2VJc28pLnRvRGF0ZVRpbWU6Q3QobGUuZGF0ZVJhbmdlSXNvKS5mcm9tRGF0ZVRpbWU6Rj1zLnpvbmVkTm93fSFiJiYhaD93PT09ImJlZm9yZSI/KFY9RixSPWx0LmZyb20oeSxGLCEwKSk6KFI9RixWPWx0LmZyb20oeSxGKSk6dz09PSJiZWZvcmUiP2ImJihWPWx0LmZyb20oeSxGLCEwKSxSPWx0LmZyb20oYixWLCEwKSk6Uj1sdC5mcm9tKHksRiksWj0iaW5zdGFudCJ9ZWxzZSBrPyhSPXMuem9uZWROb3csWj0iaW5zdGFudCIpOihSPU0uZnJvbUlTTyhvLHt6b25lOnMudGltZXpvbmV9KSxaPSJpbnN0YW50Iik7aWYoKCFSfHwhKFIhPW51bGwmJlIuaXNWYWxpZCkpJiYoUj1zLnpvbmVkTm93LFo9Imluc3RhbnQiKSwhVil7aWYoYil7Y29uc3QgQz1pW0x5XTtsZXQgRjtpZihDKXtjb25zdCBsZT1zLmdldEJ5SWQoQyk7aWYobGUmJlZuKGxlKSlGPUN0KGxlLmRhdGVSYW5nZUlzbykudG9EYXRlVGltZSx2dD0hMSxCcz0hMDtlbHNle2NvbnN0IEF0PW4uaW5kZXhPZihDKTtzLnBhcnNlTWVzc2FnZXMucHVzaCh7dHlwZToiZXJyb3IiLG1lc3NhZ2U6YEV2ZW50ICR7Q30gbm90IGZvdW5kYCxwb3M6W3RbZV0rQXQsdFtlXStBdCtDLmxlbmd0aF19KX19Rnx8KEY9UiksVj1sdC5mcm9tKGIsRil9ZWxzZSBpZihTKVY9cy56b25lZE5vdyxaPSJpbnN0YW50IjtlbHNlIGlmKGMpaWYoZyl7Y29uc3QgQz10cyhpLE15LF95LE55LHZ5LEF5KSxGPU0uZnJvbUlTTyhDLmRhdGVUaW1lSXNvKTtWPU0uZnJvbUlTTyhvLnN1YnN0cmluZygwLDEwKSx7em9uZTpzLnRpbWV6b25lfSkuc2V0KHtob3VyOkYuaG91cixtaW51dGU6Ri5taW51dGV9KX1lbHNlIFY9TS5mcm9tSVNPKHNzKHtkYXRlVGltZUlzbzpjLGdyYW51bGFyaXR5OmY/ImRheSI6bT8ibW9udGgiOiJ5ZWFyIn0scykse3NldFpvbmU6ITAsem9uZTpzLnRpbWV6b25lfSl9KCFWfHwhVi5pc1ZhbGlkKSYmKFY9TS5mcm9tSVNPKHNzKHtkYXRlVGltZUlzbzpSLnRvSVNPKCksZ3JhbnVsYXJpdHk6Wn0scykse3NldFpvbmU6ITAsem9uZTpzLnRpbWV6b25lfSkpO2NvbnN0IHhuPUd1KG4sZSx0LGkscyksQ3I9XyhXLkRhdGVSYW5nZUNvbG9uKTt4biYmcy5yYW5nZXMucHVzaCh4bi5yYW5nZSkscy5yYW5nZXMucHVzaChDcik7Y29uc3QgeHI9bmV3IHNuKHtmcm9tOlIsdG86VixvcmlnaW5hbFN0cmluZzpyLGRhdGVSYW5nZUluVGV4dDp2LGV2ZW50VGV4dDppW2h1XSxyZWN1cnJlbmNlOnhuLGlzUmVsYXRpdmU6QnMsZGVmaW5pdGlvbjp7Li4udix0eXBlOlcuRXZlbnREZWZpbml0aW9uLHRvOkNyLnRvfX0pO3JldHVybiB2dCYmKChHPXMuY2FjaGUpPT1udWxsfHxHLnpvbmUocy50aW1lem9uZSkucmFuZ2VzLnNldChyLHtmcm9tRGF0ZVRpbWVJc286Ui50b0lTTygpLHRvRGF0ZVRpbWVJc286Vi50b0lTTygpfSkpLHhyfWZ1bmN0aW9uIHJnKG4sZSx0LHMpe3ZhciBTLE87Y29uc3QgaT1uLm1hdGNoKFRvKTtpZighaSlyZXR1cm47Y29uc3Qgcj1pW1V5XSxvPWlbRnldLGE9aVt6eV18fGlbZnVdLGw9aVtQeV0sdT1pW2Z1XSxoPW4uaW5kZXhPZihyKSxjPXt0eXBlOlcuRGF0ZVJhbmdlLGZyb206dFtlXStoLHRvOnRbZV0raCtyLmxlbmd0aH07cy5yYW5nZXMucHVzaChjKTtjb25zdCBtPW4uaW5kZXhPZigiOiIsaCtyLmxlbmd0aCksZj12PT4oe3R5cGU6dixmcm9tOnRbZV0rbSx0bzp0W2VdK20rMX0pLGc9KFM9cy5jYWNoZSk9PW51bGw/dm9pZCAwOlMuem9uZShzLnRpbWV6b25lKS5yYW5nZXMuZ2V0KHIpO2lmKGcpe2NvbnN0IHY9ZihXLkRhdGVSYW5nZUNvbG9uKTtyZXR1cm4gcy5yYW5nZXMucHVzaCh2KSxuZXcgc24oe2Zyb206TS5mcm9tSVNPKGcuZnJvbURhdGVUaW1lSXNvLHtzZXRab25lOiEwfSksdG86TS5mcm9tSVNPKGcudG9EYXRlVGltZUlzbyx7c2V0Wm9uZTohMH0pLG9yaWdpbmFsU3RyaW5nOnIsZGF0ZVJhbmdlSW5UZXh0OmMsZXZlbnRUZXh0OmlbZHVdLGRlZmluaXRpb246ey4uLmMsdHlwZTpXLkV2ZW50RGVmaW5pdGlvbix0bzp2LnRvfSxpc1JlbGF0aXZlOiExfSl9bGV0IGQseSx3PSJ5ZWFyIjtpZihvKWQ9RXUobyxhLHMpO2Vsc2UgcmV0dXJuOyghZHx8IShkIT1udWxsJiZkLmlzVmFsaWQpKSYmKGQ9cy56b25lZE5vdyx3PSJpbnN0YW50IikseXx8bCYmKHk9RXUobCx1LHMpKSwoIXl8fCF5LmlzVmFsaWQpJiYoeT1NLmZyb21JU08oc3Moe2RhdGVUaW1lSXNvOmQudG9JU08oKSxncmFudWxhcml0eTp3fSxzKSx7c2V0Wm9uZTohMCx6b25lOnMudGltZXpvbmV9KSk7Y29uc3QgYj1mKFcuRGF0ZVJhbmdlQ29sb24pO3MucmFuZ2VzLnB1c2goYik7Y29uc3Qgaz1uZXcgc24oe2Zyb206ZCx0bzp5LG9yaWdpbmFsU3RyaW5nOnIsZGF0ZVJhbmdlSW5UZXh0OmMsZXZlbnRUZXh0OmlbZHVdLGRlZmluaXRpb246ey4uLmMsdHlwZTpXLkV2ZW50RGVmaW5pdGlvbix0bzpiLnRvfSxpc1JlbGF0aXZlOiExfSk7cmV0dXJuKE89cy5jYWNoZSk9PW51bGx8fE8uem9uZShzLnRpbWV6b25lKS5yYW5nZXMuc2V0KHIse2Zyb21EYXRlVGltZUlzbzpkLnRvSVNPKCksdG9EYXRlVGltZUlzbzp5LnRvSVNPKCl9KSxrfWNvbnN0IGFuPXR5cGVvZiBwZXJmb3JtYW5jZT09Im9iamVjdCImJnBlcmZvcm1hbmNlJiZ0eXBlb2YgcGVyZm9ybWFuY2Uubm93PT0iZnVuY3Rpb24iP3BlcmZvcm1hbmNlOkRhdGUsWHU9bmV3IFNldCx4bz10eXBlb2YgcHJvY2Vzcz09Im9iamVjdCImJnByb2Nlc3M/cHJvY2Vzczp7fSxRdT0obixlLHQscyk9Pnt0eXBlb2YgeG8uZW1pdFdhcm5pbmc9PSJmdW5jdGlvbiI/eG8uZW1pdFdhcm5pbmcobixlLHQscyk6Y29uc29sZS5lcnJvcihgWyR7dH1dICR7ZX06ICR7bn1gKX07bGV0IGppPWdsb2JhbFRoaXMuQWJvcnRDb250cm9sbGVyLGVjPWdsb2JhbFRoaXMuQWJvcnRTaWduYWw7aWYodHlwZW9mIGppPiJ1Iil7ZWM9Y2xhc3N7Y29uc3RydWN0b3IoKXtUKHRoaXMsIm9uYWJvcnQiKTtUKHRoaXMsIl9vbmFib3J0IixbXSk7VCh0aGlzLCJyZWFzb24iKTtUKHRoaXMsImFib3J0ZWQiLCExKX1hZGRFdmVudExpc3RlbmVyKHMsaSl7dGhpcy5fb25hYm9ydC5wdXNoKGkpfX0samk9Y2xhc3N7Y29uc3RydWN0b3IoKXtUKHRoaXMsInNpZ25hbCIsbmV3IGVjKTtlKCl9YWJvcnQocyl7dmFyIGkscjtpZighdGhpcy5zaWduYWwuYWJvcnRlZCl7dGhpcy5zaWduYWwucmVhc29uPXMsdGhpcy5zaWduYWwuYWJvcnRlZD0hMDtmb3IoY29uc3QgbyBvZiB0aGlzLnNpZ25hbC5fb25hYm9ydClvKHMpOyhyPShpPXRoaXMuc2lnbmFsKS5vbmFib3J0KT09bnVsbHx8ci5jYWxsKGkscyl9fX07bGV0IG49KChEaD14by5lbnYpPT1udWxsP3ZvaWQgMDpEaC5MUlVfQ0FDSEVfSUdOT1JFX0FDX1dBUk5JTkcpIT09IjEiO2NvbnN0IGU9KCk9PntuJiYobj0hMSxRdSgiQWJvcnRDb250cm9sbGVyIGlzIG5vdCBkZWZpbmVkLiBJZiB1c2luZyBscnUtY2FjaGUgaW4gbm9kZSAxNCwgbG9hZCBhbiBBYm9ydENvbnRyb2xsZXIgcG9seWZpbGwgZnJvbSB0aGUgYG5vZGUtYWJvcnQtY29udHJvbGxlcmAgcGFja2FnZS4gQSBtaW5pbWFsIHBvbHlmaWxsIGlzIHByb3ZpZGVkIGZvciB1c2UgYnkgTFJVQ2FjaGUuZmV0Y2goKSwgYnV0IGl0IHNob3VsZCBub3QgYmUgcmVsaWVkIHVwb24gaW4gb3RoZXIgY29udGV4dHMgKGVnLCBwYXNzaW5nIGl0IHRvIG90aGVyIEFQSXMgdGhhdCB1c2UgQWJvcnRDb250cm9sbGVyL0Fib3J0U2lnbmFsIG1pZ2h0IGhhdmUgdW5kZXNpcmFibGUgZWZmZWN0cykuIFlvdSBtYXkgZGlzYWJsZSB0aGlzIHdpdGggTFJVX0NBQ0hFX0lHTk9SRV9BQ19XQVJOSU5HPTEgaW4gdGhlIGVudi4iLCJOT19BQk9SVF9DT05UUk9MTEVSIiwiRU5PVFNVUCIsZSkpfX1jb25zdCBvZz1uPT4hWHUuaGFzKG4pLGFzPW49Pm4mJm49PT1NYXRoLmZsb29yKG4pJiZuPjAmJmlzRmluaXRlKG4pLHRjPW49PmFzKG4pP248PU1hdGgucG93KDIsOCk/VWludDhBcnJheTpuPD1NYXRoLnBvdygyLDE2KT9VaW50MTZBcnJheTpuPD1NYXRoLnBvdygyLDMyKT9VaW50MzJBcnJheTpuPD1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUj9xaTpudWxsOm51bGw7Y2xhc3MgcWkgZXh0ZW5kcyBBcnJheXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmZpbGwoMCl9fWNvbnN0IFVzPWNsYXNzIFVze2NvbnN0cnVjdG9yKGUsdCl7VCh0aGlzLCJoZWFwIik7VCh0aGlzLCJsZW5ndGgiKTtpZighcChVcyxTbikpdGhyb3cgbmV3IFR5cGVFcnJvcigiaW5zdGFudGlhdGUgU3RhY2sgdXNpbmcgU3RhY2suY3JlYXRlKG4pIik7dGhpcy5oZWFwPW5ldyB0KGUpLHRoaXMubGVuZ3RoPTB9c3RhdGljIGNyZWF0ZShlKXtjb25zdCB0PXRjKGUpO2lmKCF0KXJldHVybltdO1UoVXMsU24sITApO2NvbnN0IHM9bmV3IFVzKGUsdCk7cmV0dXJuIFUoVXMsU24sITEpLHN9cHVzaChlKXt0aGlzLmhlYXBbdGhpcy5sZW5ndGgrK109ZX1wb3AoKXtyZXR1cm4gdGhpcy5oZWFwWy0tdGhpcy5sZW5ndGhdfX07U249bmV3IFdlYWtNYXAseihVcyxTbiwhMSk7bGV0IExvPVVzO2NvbnN0IEVhPWNsYXNzIEVhe2NvbnN0cnVjdG9yKGUpe3oodGhpcyxmaSk7eih0aGlzLEFyKTt6KHRoaXMsRnQpO3oodGhpcyx6dCk7eih0aGlzLHlpKTt6KHRoaXMsX24pO3oodGhpcyxObik7eih0aGlzLHJlKTt6KHRoaXMscGkpO3oodGhpcywkcyk7eih0aGlzLFB0KTt6KHRoaXMsZ2kpO3oodGhpcyxFdCx2b2lkIDApO3oodGhpcyx0dCx2b2lkIDApO3oodGhpcyxTdCx2b2lkIDApO3oodGhpcyxGcyx2b2lkIDApO3oodGhpcyxPdCx2b2lkIDApO3oodGhpcyxPbix2b2lkIDApO3oodGhpcyxJbix2b2lkIDApO1QodGhpcywidHRsIik7VCh0aGlzLCJ0dGxSZXNvbHV0aW9uIik7VCh0aGlzLCJ0dGxBdXRvcHVyZ2UiKTtUKHRoaXMsInVwZGF0ZUFnZU9uR2V0Iik7VCh0aGlzLCJ1cGRhdGVBZ2VPbkhhcyIpO1QodGhpcywiYWxsb3dTdGFsZSIpO1QodGhpcywibm9EaXNwb3NlT25TZXQiKTtUKHRoaXMsIm5vVXBkYXRlVFRMIik7VCh0aGlzLCJtYXhFbnRyeVNpemUiKTtUKHRoaXMsInNpemVDYWxjdWxhdGlvbiIpO1QodGhpcywibm9EZWxldGVPbkZldGNoUmVqZWN0aW9uIik7VCh0aGlzLCJub0RlbGV0ZU9uU3RhbGVHZXQiKTtUKHRoaXMsImFsbG93U3RhbGVPbkZldGNoQWJvcnQiKTtUKHRoaXMsImFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uIik7VCh0aGlzLCJpZ25vcmVGZXRjaEFib3J0Iik7eih0aGlzLE9lLHZvaWQgMCk7eih0aGlzLEl0LHZvaWQgMCk7eih0aGlzLEVlLHZvaWQgMCk7eih0aGlzLGFlLHZvaWQgMCk7eih0aGlzLCQsdm9pZCAwKTt6KHRoaXMsamUsdm9pZCAwKTt6KHRoaXMsc3Qsdm9pZCAwKTt6KHRoaXMsUGUsdm9pZCAwKTt6KHRoaXMsX2Usdm9pZCAwKTt6KHRoaXMsRHQsdm9pZCAwKTt6KHRoaXMsTmUsdm9pZCAwKTt6KHRoaXMsTXQsdm9pZCAwKTt6KHRoaXMsX3Qsdm9pZCAwKTt6KHRoaXMsbnQsdm9pZCAwKTt6KHRoaXMsTnQsdm9pZCAwKTt6KHRoaXMsZ3Msdm9pZCAwKTt6KHRoaXMscWUsdm9pZCAwKTt6KHRoaXMsRG4sdm9pZCAwKTt6KHRoaXMsenMsKCk9Pnt9KTt6KHRoaXMsS3QsKCk9Pnt9KTt6KHRoaXMsZGksKCk9Pnt9KTt6KHRoaXMsaXQsKCk9PiExKTt6KHRoaXMsUHMsZT0+e30pO3oodGhpcyxNbiwoZSx0LHMpPT57fSk7eih0aGlzLG1pLChlLHQscyxpKT0+e2lmKHN8fGkpdGhyb3cgbmV3IFR5cGVFcnJvcigiY2Fubm90IHNldCBzaXplIHdpdGhvdXQgc2V0dGluZyBtYXhTaXplIG9yIG1heEVudHJ5U2l6ZSBvbiBjYWNoZSIpO3JldHVybiAwfSk7VCh0aGlzLGd3LCJMUlVDYWNoZSIpO2NvbnN0e21heDp0PTAsdHRsOnMsdHRsUmVzb2x1dGlvbjppPTEsdHRsQXV0b3B1cmdlOnIsdXBkYXRlQWdlT25HZXQ6byx1cGRhdGVBZ2VPbkhhczphLGFsbG93U3RhbGU6bCxkaXNwb3NlOnUsb25JbnNlcnQ6aCxkaXNwb3NlQWZ0ZXI6Yyxub0Rpc3Bvc2VPblNldDptLG5vVXBkYXRlVFRMOmYsbWF4U2l6ZTpnPTAsbWF4RW50cnlTaXplOmQ9MCxzaXplQ2FsY3VsYXRpb246eSxmZXRjaE1ldGhvZDp3LG1lbW9NZXRob2Q6Yixub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb246ayxub0RlbGV0ZU9uU3RhbGVHZXQ6UyxhbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbjpPLGFsbG93U3RhbGVPbkZldGNoQWJvcnQ6dixpZ25vcmVGZXRjaEFib3J0Okh9PWU7aWYodCE9PTAmJiFhcyh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJtYXggb3B0aW9uIG11c3QgYmUgYSBub25uZWdhdGl2ZSBpbnRlZ2VyIik7Y29uc3QgXz10P3RjKHQpOkFycmF5O2lmKCFfKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBtYXggdmFsdWU6ICIrdCk7aWYoVSh0aGlzLEV0LHQpLFUodGhpcyx0dCxnKSx0aGlzLm1heEVudHJ5U2l6ZT1kfHxwKHRoaXMsdHQpLHRoaXMuc2l6ZUNhbGN1bGF0aW9uPXksdGhpcy5zaXplQ2FsY3VsYXRpb24pe2lmKCFwKHRoaXMsdHQpJiYhdGhpcy5tYXhFbnRyeVNpemUpdGhyb3cgbmV3IFR5cGVFcnJvcigiY2Fubm90IHNldCBzaXplQ2FsY3VsYXRpb24gd2l0aG91dCBzZXR0aW5nIG1heFNpemUgb3IgbWF4RW50cnlTaXplIik7aWYodHlwZW9mIHRoaXMuc2l6ZUNhbGN1bGF0aW9uIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoInNpemVDYWxjdWxhdGlvbiBzZXQgdG8gbm9uLWZ1bmN0aW9uIil9aWYoYiE9PXZvaWQgMCYmdHlwZW9mIGIhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigibWVtb01ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24gaWYgZGVmaW5lZCIpO2lmKFUodGhpcyxJbixiKSx3IT09dm9pZCAwJiZ0eXBlb2YgdyE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJmZXRjaE1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24gaWYgc3BlY2lmaWVkIik7aWYoVSh0aGlzLE9uLHcpLFUodGhpcyxncywhIXcpLFUodGhpcyxFZSxuZXcgTWFwKSxVKHRoaXMsYWUsbmV3IEFycmF5KHQpLmZpbGwodm9pZCAwKSksVSh0aGlzLCQsbmV3IEFycmF5KHQpLmZpbGwodm9pZCAwKSksVSh0aGlzLGplLG5ldyBfKHQpKSxVKHRoaXMsc3QsbmV3IF8odCkpLFUodGhpcyxQZSwwKSxVKHRoaXMsX2UsMCksVSh0aGlzLER0LExvLmNyZWF0ZSh0KSksVSh0aGlzLE9lLDApLFUodGhpcyxJdCwwKSx0eXBlb2YgdT09ImZ1bmN0aW9uIiYmVSh0aGlzLFN0LHUpLHR5cGVvZiBoPT0iZnVuY3Rpb24iJiZVKHRoaXMsRnMsaCksdHlwZW9mIGM9PSJmdW5jdGlvbiI/KFUodGhpcyxPdCxjKSxVKHRoaXMsTmUsW10pKTooVSh0aGlzLE90LHZvaWQgMCksVSh0aGlzLE5lLHZvaWQgMCkpLFUodGhpcyxOdCwhIXAodGhpcyxTdCkpLFUodGhpcyxEbiwhIXAodGhpcyxGcykpLFUodGhpcyxxZSwhIXAodGhpcyxPdCkpLHRoaXMubm9EaXNwb3NlT25TZXQ9ISFtLHRoaXMubm9VcGRhdGVUVEw9ISFmLHRoaXMubm9EZWxldGVPbkZldGNoUmVqZWN0aW9uPSEhayx0aGlzLmFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uPSEhTyx0aGlzLmFsbG93U3RhbGVPbkZldGNoQWJvcnQ9ISF2LHRoaXMuaWdub3JlRmV0Y2hBYm9ydD0hIUgsdGhpcy5tYXhFbnRyeVNpemUhPT0wKXtpZihwKHRoaXMsdHQpIT09MCYmIWFzKHAodGhpcyx0dCkpKXRocm93IG5ldyBUeXBlRXJyb3IoIm1heFNpemUgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgaWYgc3BlY2lmaWVkIik7aWYoIWFzKHRoaXMubWF4RW50cnlTaXplKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJtYXhFbnRyeVNpemUgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgaWYgc3BlY2lmaWVkIik7QSh0aGlzLEFyLF9oKS5jYWxsKHRoaXMpfWlmKHRoaXMuYWxsb3dTdGFsZT0hIWwsdGhpcy5ub0RlbGV0ZU9uU3RhbGVHZXQ9ISFTLHRoaXMudXBkYXRlQWdlT25HZXQ9ISFvLHRoaXMudXBkYXRlQWdlT25IYXM9ISFhLHRoaXMudHRsUmVzb2x1dGlvbj1hcyhpKXx8aT09PTA/aToxLHRoaXMudHRsQXV0b3B1cmdlPSEhcix0aGlzLnR0bD1zfHwwLHRoaXMudHRsKXtpZighYXModGhpcy50dGwpKXRocm93IG5ldyBUeXBlRXJyb3IoInR0bCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBpZiBzcGVjaWZpZWQiKTtBKHRoaXMsZmksT2EpLmNhbGwodGhpcyl9aWYocCh0aGlzLEV0KT09PTAmJnRoaXMudHRsPT09MCYmcCh0aGlzLHR0KT09PTApdGhyb3cgbmV3IFR5cGVFcnJvcigiQXQgbGVhc3Qgb25lIG9mIG1heCwgbWF4U2l6ZSwgb3IgdHRsIGlzIHJlcXVpcmVkIik7aWYoIXRoaXMudHRsQXV0b3B1cmdlJiYhcCh0aGlzLEV0KSYmIXAodGhpcyx0dCkpe2NvbnN0IFk9IkxSVV9DQUNIRV9VTkJPVU5ERUQiO29nKFkpJiYoWHUuYWRkKFkpLFF1KCJUVEwgY2FjaGluZyB3aXRob3V0IHR0bEF1dG9wdXJnZSwgbWF4LCBvciBtYXhTaXplIGNhbiByZXN1bHQgaW4gdW5ib3VuZGVkIG1lbW9yeSBjb25zdW1wdGlvbi4iLCJVbmJvdW5kZWRDYWNoZVdhcm5pbmciLFksRWEpKX19c3RhdGljIHVuc2FmZUV4cG9zZUludGVybmFscyhlKXtyZXR1cm57c3RhcnRzOnAoZSxfdCksdHRsczpwKGUsbnQpLHNpemVzOnAoZSxNdCksa2V5TWFwOnAoZSxFZSksa2V5TGlzdDpwKGUsYWUpLHZhbExpc3Q6cChlLCQpLG5leHQ6cChlLGplKSxwcmV2OnAoZSxzdCksZ2V0IGhlYWQoKXtyZXR1cm4gcChlLFBlKX0sZ2V0IHRhaWwoKXtyZXR1cm4gcChlLF9lKX0sZnJlZTpwKGUsRHQpLGlzQmFja2dyb3VuZEZldGNoOnQ9Pnt2YXIgcztyZXR1cm4gQShzPWUscmUsdWUpLmNhbGwocyx0KX0sYmFja2dyb3VuZEZldGNoOih0LHMsaSxyKT0+e3ZhciBvO3JldHVybiBBKG89ZSxObixVcikuY2FsbChvLHQscyxpLHIpfSxtb3ZlVG9UYWlsOnQ9Pnt2YXIgcztyZXR1cm4gQShzPWUsJHMsa2kpLmNhbGwocyx0KX0saW5kZXhlczp0PT57dmFyIHM7cmV0dXJuIEEocz1lLEZ0LHdzKS5jYWxsKHMsdCl9LHJpbmRleGVzOnQ9Pnt2YXIgcztyZXR1cm4gQShzPWUsenQsYnMpLmNhbGwocyx0KX0saXNTdGFsZTp0PT57dmFyIHM7cmV0dXJuIHAocz1lLGl0KS5jYWxsKHMsdCl9fX1nZXQgbWF4KCl7cmV0dXJuIHAodGhpcyxFdCl9Z2V0IG1heFNpemUoKXtyZXR1cm4gcCh0aGlzLHR0KX1nZXQgY2FsY3VsYXRlZFNpemUoKXtyZXR1cm4gcCh0aGlzLEl0KX1nZXQgc2l6ZSgpe3JldHVybiBwKHRoaXMsT2UpfWdldCBmZXRjaE1ldGhvZCgpe3JldHVybiBwKHRoaXMsT24pfWdldCBtZW1vTWV0aG9kKCl7cmV0dXJuIHAodGhpcyxJbil9Z2V0IGRpc3Bvc2UoKXtyZXR1cm4gcCh0aGlzLFN0KX1nZXQgb25JbnNlcnQoKXtyZXR1cm4gcCh0aGlzLEZzKX1nZXQgZGlzcG9zZUFmdGVyKCl7cmV0dXJuIHAodGhpcyxPdCl9Z2V0UmVtYWluaW5nVFRMKGUpe3JldHVybiBwKHRoaXMsRWUpLmhhcyhlKT8xLzA6MH0qZW50cmllcygpe2Zvcihjb25zdCBlIG9mIEEodGhpcyxGdCx3cykuY2FsbCh0aGlzKSlwKHRoaXMsJClbZV0hPT12b2lkIDAmJnAodGhpcyxhZSlbZV0hPT12b2lkIDAmJiFBKHRoaXMscmUsdWUpLmNhbGwodGhpcyxwKHRoaXMsJClbZV0pJiYoeWllbGRbcCh0aGlzLGFlKVtlXSxwKHRoaXMsJClbZV1dKX0qcmVudHJpZXMoKXtmb3IoY29uc3QgZSBvZiBBKHRoaXMsenQsYnMpLmNhbGwodGhpcykpcCh0aGlzLCQpW2VdIT09dm9pZCAwJiZwKHRoaXMsYWUpW2VdIT09dm9pZCAwJiYhQSh0aGlzLHJlLHVlKS5jYWxsKHRoaXMscCh0aGlzLCQpW2VdKSYmKHlpZWxkW3AodGhpcyxhZSlbZV0scCh0aGlzLCQpW2VdXSl9KmtleXMoKXtmb3IoY29uc3QgZSBvZiBBKHRoaXMsRnQsd3MpLmNhbGwodGhpcykpe2NvbnN0IHQ9cCh0aGlzLGFlKVtlXTt0IT09dm9pZCAwJiYhQSh0aGlzLHJlLHVlKS5jYWxsKHRoaXMscCh0aGlzLCQpW2VdKSYmKHlpZWxkIHQpfX0qcmtleXMoKXtmb3IoY29uc3QgZSBvZiBBKHRoaXMsenQsYnMpLmNhbGwodGhpcykpe2NvbnN0IHQ9cCh0aGlzLGFlKVtlXTt0IT09dm9pZCAwJiYhQSh0aGlzLHJlLHVlKS5jYWxsKHRoaXMscCh0aGlzLCQpW2VdKSYmKHlpZWxkIHQpfX0qdmFsdWVzKCl7Zm9yKGNvbnN0IGUgb2YgQSh0aGlzLEZ0LHdzKS5jYWxsKHRoaXMpKXAodGhpcywkKVtlXSE9PXZvaWQgMCYmIUEodGhpcyxyZSx1ZSkuY2FsbCh0aGlzLHAodGhpcywkKVtlXSkmJih5aWVsZCBwKHRoaXMsJClbZV0pfSpydmFsdWVzKCl7Zm9yKGNvbnN0IGUgb2YgQSh0aGlzLHp0LGJzKS5jYWxsKHRoaXMpKXAodGhpcywkKVtlXSE9PXZvaWQgMCYmIUEodGhpcyxyZSx1ZSkuY2FsbCh0aGlzLHAodGhpcywkKVtlXSkmJih5aWVsZCBwKHRoaXMsJClbZV0pfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfWZpbmQoZSx0PXt9KXtmb3IoY29uc3QgcyBvZiBBKHRoaXMsRnQsd3MpLmNhbGwodGhpcykpe2NvbnN0IGk9cCh0aGlzLCQpW3NdLHI9QSh0aGlzLHJlLHVlKS5jYWxsKHRoaXMsaSk/aS5fX3N0YWxlV2hpbGVGZXRjaGluZzppO2lmKHIhPT12b2lkIDAmJmUocixwKHRoaXMsYWUpW3NdLHRoaXMpKXJldHVybiB0aGlzLmdldChwKHRoaXMsYWUpW3NdLHQpfX1mb3JFYWNoKGUsdD10aGlzKXtmb3IoY29uc3QgcyBvZiBBKHRoaXMsRnQsd3MpLmNhbGwodGhpcykpe2NvbnN0IGk9cCh0aGlzLCQpW3NdLHI9QSh0aGlzLHJlLHVlKS5jYWxsKHRoaXMsaSk/aS5fX3N0YWxlV2hpbGVGZXRjaGluZzppO3IhPT12b2lkIDAmJmUuY2FsbCh0LHIscCh0aGlzLGFlKVtzXSx0aGlzKX19cmZvckVhY2goZSx0PXRoaXMpe2Zvcihjb25zdCBzIG9mIEEodGhpcyx6dCxicykuY2FsbCh0aGlzKSl7Y29uc3QgaT1wKHRoaXMsJClbc10scj1BKHRoaXMscmUsdWUpLmNhbGwodGhpcyxpKT9pLl9fc3RhbGVXaGlsZUZldGNoaW5nOmk7ciE9PXZvaWQgMCYmZS5jYWxsKHQscixwKHRoaXMsYWUpW3NdLHRoaXMpfX1wdXJnZVN0YWxlKCl7bGV0IGU9ITE7Zm9yKGNvbnN0IHQgb2YgQSh0aGlzLHp0LGJzKS5jYWxsKHRoaXMse2FsbG93U3RhbGU6ITB9KSlwKHRoaXMsaXQpLmNhbGwodGhpcyx0KSYmKEEodGhpcyxQdCxUcykuY2FsbCh0aGlzLHAodGhpcyxhZSlbdF0sImV4cGlyZSIpLGU9ITApO3JldHVybiBlfWluZm8oZSl7Y29uc3QgdD1wKHRoaXMsRWUpLmdldChlKTtpZih0PT09dm9pZCAwKXJldHVybjtjb25zdCBzPXAodGhpcywkKVt0XSxpPUEodGhpcyxyZSx1ZSkuY2FsbCh0aGlzLHMpP3MuX19zdGFsZVdoaWxlRmV0Y2hpbmc6cztpZihpPT09dm9pZCAwKXJldHVybjtjb25zdCByPXt2YWx1ZTppfTtpZihwKHRoaXMsbnQpJiZwKHRoaXMsX3QpKXtjb25zdCBvPXAodGhpcyxudClbdF0sYT1wKHRoaXMsX3QpW3RdO2lmKG8mJmEpe2NvbnN0IGw9by0oYW4ubm93KCktYSk7ci50dGw9bCxyLnN0YXJ0PURhdGUubm93KCl9fXJldHVybiBwKHRoaXMsTXQpJiYoci5zaXplPXAodGhpcyxNdClbdF0pLHJ9ZHVtcCgpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2YgQSh0aGlzLEZ0LHdzKS5jYWxsKHRoaXMse2FsbG93U3RhbGU6ITB9KSl7Y29uc3Qgcz1wKHRoaXMsYWUpW3RdLGk9cCh0aGlzLCQpW3RdLHI9QSh0aGlzLHJlLHVlKS5jYWxsKHRoaXMsaSk/aS5fX3N0YWxlV2hpbGVGZXRjaGluZzppO2lmKHI9PT12b2lkIDB8fHM9PT12b2lkIDApY29udGludWU7Y29uc3Qgbz17dmFsdWU6cn07aWYocCh0aGlzLG50KSYmcCh0aGlzLF90KSl7by50dGw9cCh0aGlzLG50KVt0XTtjb25zdCBhPWFuLm5vdygpLXAodGhpcyxfdClbdF07by5zdGFydD1NYXRoLmZsb29yKERhdGUubm93KCktYSl9cCh0aGlzLE10KSYmKG8uc2l6ZT1wKHRoaXMsTXQpW3RdKSxlLnVuc2hpZnQoW3Msb10pfXJldHVybiBlfWxvYWQoZSl7dGhpcy5jbGVhcigpO2Zvcihjb25zdFt0LHNdb2YgZSl7aWYocy5zdGFydCl7Y29uc3QgaT1EYXRlLm5vdygpLXMuc3RhcnQ7cy5zdGFydD1hbi5ub3coKS1pfXRoaXMuc2V0KHQscy52YWx1ZSxzKX19c2V0KGUsdCxzPXt9KXt2YXIgbSxmLGcsZCx5LHcsYjtpZih0PT09dm9pZCAwKXJldHVybiB0aGlzLmRlbGV0ZShlKSx0aGlzO2NvbnN0e3R0bDppPXRoaXMudHRsLHN0YXJ0OnIsbm9EaXNwb3NlT25TZXQ6bz10aGlzLm5vRGlzcG9zZU9uU2V0LHNpemVDYWxjdWxhdGlvbjphPXRoaXMuc2l6ZUNhbGN1bGF0aW9uLHN0YXR1czpsfT1zO2xldHtub1VwZGF0ZVRUTDp1PXRoaXMubm9VcGRhdGVUVEx9PXM7Y29uc3QgaD1wKHRoaXMsbWkpLmNhbGwodGhpcyxlLHQscy5zaXplfHwwLGEpO2lmKHRoaXMubWF4RW50cnlTaXplJiZoPnRoaXMubWF4RW50cnlTaXplKXJldHVybiBsJiYobC5zZXQ9Im1pc3MiLGwubWF4RW50cnlTaXplRXhjZWVkZWQ9ITApLEEodGhpcyxQdCxUcykuY2FsbCh0aGlzLGUsInNldCIpLHRoaXM7bGV0IGM9cCh0aGlzLE9lKT09PTA/dm9pZCAwOnAodGhpcyxFZSkuZ2V0KGUpO2lmKGM9PT12b2lkIDApYz1wKHRoaXMsT2UpPT09MD9wKHRoaXMsX2UpOnAodGhpcyxEdCkubGVuZ3RoIT09MD9wKHRoaXMsRHQpLnBvcCgpOnAodGhpcyxPZSk9PT1wKHRoaXMsRXQpP0EodGhpcyxfbixScikuY2FsbCh0aGlzLCExKTpwKHRoaXMsT2UpLHAodGhpcyxhZSlbY109ZSxwKHRoaXMsJClbY109dCxwKHRoaXMsRWUpLnNldChlLGMpLHAodGhpcyxqZSlbcCh0aGlzLF9lKV09YyxwKHRoaXMsc3QpW2NdPXAodGhpcyxfZSksVSh0aGlzLF9lLGMpLExyKHRoaXMsT2UpLl8rKyxwKHRoaXMsTW4pLmNhbGwodGhpcyxjLGgsbCksbCYmKGwuc2V0PSJhZGQiKSx1PSExLHAodGhpcyxEbikmJigobT1wKHRoaXMsRnMpKT09bnVsbHx8bS5jYWxsKHRoaXMsdCxlLCJhZGQiKSk7ZWxzZXtBKHRoaXMsJHMsa2kpLmNhbGwodGhpcyxjKTtjb25zdCBrPXAodGhpcywkKVtjXTtpZih0IT09ayl7aWYocCh0aGlzLGdzKSYmQSh0aGlzLHJlLHVlKS5jYWxsKHRoaXMsaykpe2suX19hYm9ydENvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKCJyZXBsYWNlZCIpKTtjb25zdHtfX3N0YWxlV2hpbGVGZXRjaGluZzpTfT1rO1MhPT12b2lkIDAmJiFvJiYocCh0aGlzLE50KSYmKChmPXAodGhpcyxTdCkpPT1udWxsfHxmLmNhbGwodGhpcyxTLGUsInNldCIpKSxwKHRoaXMscWUpJiYoKGc9cCh0aGlzLE5lKSk9PW51bGx8fGcucHVzaChbUyxlLCJzZXQiXSkpKX1lbHNlIG98fChwKHRoaXMsTnQpJiYoKGQ9cCh0aGlzLFN0KSk9PW51bGx8fGQuY2FsbCh0aGlzLGssZSwic2V0IikpLHAodGhpcyxxZSkmJigoeT1wKHRoaXMsTmUpKT09bnVsbHx8eS5wdXNoKFtrLGUsInNldCJdKSkpO2lmKHAodGhpcyxQcykuY2FsbCh0aGlzLGMpLHAodGhpcyxNbikuY2FsbCh0aGlzLGMsaCxsKSxwKHRoaXMsJClbY109dCxsKXtsLnNldD0icmVwbGFjZSI7Y29uc3QgUz1rJiZBKHRoaXMscmUsdWUpLmNhbGwodGhpcyxrKT9rLl9fc3RhbGVXaGlsZUZldGNoaW5nOms7UyE9PXZvaWQgMCYmKGwub2xkVmFsdWU9Uyl9fWVsc2UgbCYmKGwuc2V0PSJ1cGRhdGUiKTtwKHRoaXMsRG4pJiYoKHc9dGhpcy5vbkluc2VydCk9PW51bGx8fHcuY2FsbCh0aGlzLHQsZSx0PT09az8idXBkYXRlIjoicmVwbGFjZSIpKX1pZihpIT09MCYmIXAodGhpcyxudCkmJkEodGhpcyxmaSxPYSkuY2FsbCh0aGlzKSxwKHRoaXMsbnQpJiYodXx8cCh0aGlzLGRpKS5jYWxsKHRoaXMsYyxpLHIpLGwmJnAodGhpcyxLdCkuY2FsbCh0aGlzLGwsYykpLCFvJiZwKHRoaXMscWUpJiZwKHRoaXMsTmUpKXtjb25zdCBrPXAodGhpcyxOZSk7bGV0IFM7Zm9yKDtTPWs9PW51bGw/dm9pZCAwOmsuc2hpZnQoKTspKGI9cCh0aGlzLE90KSk9PW51bGx8fGIuY2FsbCh0aGlzLC4uLlMpfXJldHVybiB0aGlzfXBvcCgpe3ZhciBlO3RyeXtmb3IoO3AodGhpcyxPZSk7KXtjb25zdCB0PXAodGhpcywkKVtwKHRoaXMsUGUpXTtpZihBKHRoaXMsX24sUnIpLmNhbGwodGhpcywhMCksQSh0aGlzLHJlLHVlKS5jYWxsKHRoaXMsdCkpe2lmKHQuX19zdGFsZVdoaWxlRmV0Y2hpbmcpcmV0dXJuIHQuX19zdGFsZVdoaWxlRmV0Y2hpbmd9ZWxzZSBpZih0IT09dm9pZCAwKXJldHVybiB0fX1maW5hbGx5e2lmKHAodGhpcyxxZSkmJnAodGhpcyxOZSkpe2NvbnN0IHQ9cCh0aGlzLE5lKTtsZXQgcztmb3IoO3M9dD09bnVsbD92b2lkIDA6dC5zaGlmdCgpOykoZT1wKHRoaXMsT3QpKT09bnVsbHx8ZS5jYWxsKHRoaXMsLi4ucyl9fX1oYXMoZSx0PXt9KXtjb25zdHt1cGRhdGVBZ2VPbkhhczpzPXRoaXMudXBkYXRlQWdlT25IYXMsc3RhdHVzOml9PXQscj1wKHRoaXMsRWUpLmdldChlKTtpZihyIT09dm9pZCAwKXtjb25zdCBvPXAodGhpcywkKVtyXTtpZihBKHRoaXMscmUsdWUpLmNhbGwodGhpcyxvKSYmby5fX3N0YWxlV2hpbGVGZXRjaGluZz09PXZvaWQgMClyZXR1cm4hMTtpZihwKHRoaXMsaXQpLmNhbGwodGhpcyxyKSlpJiYoaS5oYXM9InN0YWxlIixwKHRoaXMsS3QpLmNhbGwodGhpcyxpLHIpKTtlbHNlIHJldHVybiBzJiZwKHRoaXMsenMpLmNhbGwodGhpcyxyKSxpJiYoaS5oYXM9ImhpdCIscCh0aGlzLEt0KS5jYWxsKHRoaXMsaSxyKSksITB9ZWxzZSBpJiYoaS5oYXM9Im1pc3MiKTtyZXR1cm4hMX1wZWVrKGUsdD17fSl7Y29uc3R7YWxsb3dTdGFsZTpzPXRoaXMuYWxsb3dTdGFsZX09dCxpPXAodGhpcyxFZSkuZ2V0KGUpO2lmKGk9PT12b2lkIDB8fCFzJiZwKHRoaXMsaXQpLmNhbGwodGhpcyxpKSlyZXR1cm47Y29uc3Qgcj1wKHRoaXMsJClbaV07cmV0dXJuIEEodGhpcyxyZSx1ZSkuY2FsbCh0aGlzLHIpP3IuX19zdGFsZVdoaWxlRmV0Y2hpbmc6cn1hc3luYyBmZXRjaChlLHQ9e30pe2NvbnN0e2FsbG93U3RhbGU6cz10aGlzLmFsbG93U3RhbGUsdXBkYXRlQWdlT25HZXQ6aT10aGlzLnVwZGF0ZUFnZU9uR2V0LG5vRGVsZXRlT25TdGFsZUdldDpyPXRoaXMubm9EZWxldGVPblN0YWxlR2V0LHR0bDpvPXRoaXMudHRsLG5vRGlzcG9zZU9uU2V0OmE9dGhpcy5ub0Rpc3Bvc2VPblNldCxzaXplOmw9MCxzaXplQ2FsY3VsYXRpb246dT10aGlzLnNpemVDYWxjdWxhdGlvbixub1VwZGF0ZVRUTDpoPXRoaXMubm9VcGRhdGVUVEwsbm9EZWxldGVPbkZldGNoUmVqZWN0aW9uOmM9dGhpcy5ub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb24sYWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb246bT10aGlzLmFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uLGlnbm9yZUZldGNoQWJvcnQ6Zj10aGlzLmlnbm9yZUZldGNoQWJvcnQsYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydDpnPXRoaXMuYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydCxjb250ZXh0OmQsZm9yY2VSZWZyZXNoOnk9ITEsc3RhdHVzOncsc2lnbmFsOmJ9PXQ7aWYoIXAodGhpcyxncykpcmV0dXJuIHcmJih3LmZldGNoPSJnZXQiKSx0aGlzLmdldChlLHthbGxvd1N0YWxlOnMsdXBkYXRlQWdlT25HZXQ6aSxub0RlbGV0ZU9uU3RhbGVHZXQ6cixzdGF0dXM6d30pO2NvbnN0IGs9e2FsbG93U3RhbGU6cyx1cGRhdGVBZ2VPbkdldDppLG5vRGVsZXRlT25TdGFsZUdldDpyLHR0bDpvLG5vRGlzcG9zZU9uU2V0OmEsc2l6ZTpsLHNpemVDYWxjdWxhdGlvbjp1LG5vVXBkYXRlVFRMOmgsbm9EZWxldGVPbkZldGNoUmVqZWN0aW9uOmMsYWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb246bSxhbGxvd1N0YWxlT25GZXRjaEFib3J0OmcsaWdub3JlRmV0Y2hBYm9ydDpmLHN0YXR1czp3LHNpZ25hbDpifTtsZXQgUz1wKHRoaXMsRWUpLmdldChlKTtpZihTPT09dm9pZCAwKXt3JiYody5mZXRjaD0ibWlzcyIpO2NvbnN0IE89QSh0aGlzLE5uLFVyKS5jYWxsKHRoaXMsZSxTLGssZCk7cmV0dXJuIE8uX19yZXR1cm5lZD1PfWVsc2V7Y29uc3QgTz1wKHRoaXMsJClbU107aWYoQSh0aGlzLHJlLHVlKS5jYWxsKHRoaXMsTykpe2NvbnN0IFI9cyYmTy5fX3N0YWxlV2hpbGVGZXRjaGluZyE9PXZvaWQgMDtyZXR1cm4gdyYmKHcuZmV0Y2g9ImluZmxpZ2h0IixSJiYody5yZXR1cm5lZFN0YWxlPSEwKSksUj9PLl9fc3RhbGVXaGlsZUZldGNoaW5nOk8uX19yZXR1cm5lZD1PfWNvbnN0IHY9cCh0aGlzLGl0KS5jYWxsKHRoaXMsUyk7aWYoIXkmJiF2KXJldHVybiB3JiYody5mZXRjaD0iaGl0IiksQSh0aGlzLCRzLGtpKS5jYWxsKHRoaXMsUyksaSYmcCh0aGlzLHpzKS5jYWxsKHRoaXMsUyksdyYmcCh0aGlzLEt0KS5jYWxsKHRoaXMsdyxTKSxPO2NvbnN0IEg9QSh0aGlzLE5uLFVyKS5jYWxsKHRoaXMsZSxTLGssZCksWT1ILl9fc3RhbGVXaGlsZUZldGNoaW5nIT09dm9pZCAwJiZzO3JldHVybiB3JiYody5mZXRjaD12PyJzdGFsZSI6InJlZnJlc2giLFkmJnYmJih3LnJldHVybmVkU3RhbGU9ITApKSxZP0guX19zdGFsZVdoaWxlRmV0Y2hpbmc6SC5fX3JldHVybmVkPUh9fWFzeW5jIGZvcmNlRmV0Y2goZSx0PXt9KXtjb25zdCBzPWF3YWl0IHRoaXMuZmV0Y2goZSx0KTtpZihzPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigiZmV0Y2goKSByZXR1cm5lZCB1bmRlZmluZWQiKTtyZXR1cm4gc31tZW1vKGUsdD17fSl7Y29uc3Qgcz1wKHRoaXMsSW4pO2lmKCFzKXRocm93IG5ldyBFcnJvcigibm8gbWVtb01ldGhvZCBwcm92aWRlZCB0byBjb25zdHJ1Y3RvciIpO2NvbnN0e2NvbnRleHQ6aSxmb3JjZVJlZnJlc2g6ciwuLi5vfT10LGE9dGhpcy5nZXQoZSxvKTtpZighciYmYSE9PXZvaWQgMClyZXR1cm4gYTtjb25zdCBsPXMoZSxhLHtvcHRpb25zOm8sY29udGV4dDppfSk7cmV0dXJuIHRoaXMuc2V0KGUsbCxvKSxsfWdldChlLHQ9e30pe2NvbnN0e2FsbG93U3RhbGU6cz10aGlzLmFsbG93U3RhbGUsdXBkYXRlQWdlT25HZXQ6aT10aGlzLnVwZGF0ZUFnZU9uR2V0LG5vRGVsZXRlT25TdGFsZUdldDpyPXRoaXMubm9EZWxldGVPblN0YWxlR2V0LHN0YXR1czpvfT10LGE9cCh0aGlzLEVlKS5nZXQoZSk7aWYoYSE9PXZvaWQgMCl7Y29uc3QgbD1wKHRoaXMsJClbYV0sdT1BKHRoaXMscmUsdWUpLmNhbGwodGhpcyxsKTtyZXR1cm4gbyYmcCh0aGlzLEt0KS5jYWxsKHRoaXMsbyxhKSxwKHRoaXMsaXQpLmNhbGwodGhpcyxhKT8obyYmKG8uZ2V0PSJzdGFsZSIpLHU/KG8mJnMmJmwuX19zdGFsZVdoaWxlRmV0Y2hpbmchPT12b2lkIDAmJihvLnJldHVybmVkU3RhbGU9ITApLHM/bC5fX3N0YWxlV2hpbGVGZXRjaGluZzp2b2lkIDApOihyfHxBKHRoaXMsUHQsVHMpLmNhbGwodGhpcyxlLCJleHBpcmUiKSxvJiZzJiYoby5yZXR1cm5lZFN0YWxlPSEwKSxzP2w6dm9pZCAwKSk6KG8mJihvLmdldD0iaGl0IiksdT9sLl9fc3RhbGVXaGlsZUZldGNoaW5nOihBKHRoaXMsJHMsa2kpLmNhbGwodGhpcyxhKSxpJiZwKHRoaXMsenMpLmNhbGwodGhpcyxhKSxsKSl9ZWxzZSBvJiYoby5nZXQ9Im1pc3MiKX1kZWxldGUoZSl7cmV0dXJuIEEodGhpcyxQdCxUcykuY2FsbCh0aGlzLGUsImRlbGV0ZSIpfWNsZWFyKCl7cmV0dXJuIEEodGhpcyxnaSxNYSkuY2FsbCh0aGlzLCJkZWxldGUiKX19O2d3PVN5bWJvbC50b1N0cmluZ1RhZyxFdD1uZXcgV2Vha01hcCx0dD1uZXcgV2Vha01hcCxTdD1uZXcgV2Vha01hcCxGcz1uZXcgV2Vha01hcCxPdD1uZXcgV2Vha01hcCxPbj1uZXcgV2Vha01hcCxJbj1uZXcgV2Vha01hcCxPZT1uZXcgV2Vha01hcCxJdD1uZXcgV2Vha01hcCxFZT1uZXcgV2Vha01hcCxhZT1uZXcgV2Vha01hcCwkPW5ldyBXZWFrTWFwLGplPW5ldyBXZWFrTWFwLHN0PW5ldyBXZWFrTWFwLFBlPW5ldyBXZWFrTWFwLF9lPW5ldyBXZWFrTWFwLER0PW5ldyBXZWFrTWFwLE5lPW5ldyBXZWFrTWFwLE10PW5ldyBXZWFrTWFwLF90PW5ldyBXZWFrTWFwLG50PW5ldyBXZWFrTWFwLE50PW5ldyBXZWFrTWFwLGdzPW5ldyBXZWFrTWFwLHFlPW5ldyBXZWFrTWFwLERuPW5ldyBXZWFrTWFwLGZpPW5ldyBXZWFrU2V0LE9hPWZ1bmN0aW9uKCl7Y29uc3QgZT1uZXcgcWkocCh0aGlzLEV0KSksdD1uZXcgcWkocCh0aGlzLEV0KSk7VSh0aGlzLG50LGUpLFUodGhpcyxfdCx0KSxVKHRoaXMsZGksKHIsbyxhPWFuLm5vdygpKT0+e2lmKHRbcl09byE9PTA/YTowLGVbcl09byxvIT09MCYmdGhpcy50dGxBdXRvcHVyZ2Upe2NvbnN0IGw9c2V0VGltZW91dCgoKT0+e3AodGhpcyxpdCkuY2FsbCh0aGlzLHIpJiZBKHRoaXMsUHQsVHMpLmNhbGwodGhpcyxwKHRoaXMsYWUpW3JdLCJleHBpcmUiKX0sbysxKTtsLnVucmVmJiZsLnVucmVmKCl9fSksVSh0aGlzLHpzLHI9Pnt0W3JdPWVbcl0hPT0wP2FuLm5vdygpOjB9KSxVKHRoaXMsS3QsKHIsbyk9PntpZihlW29dKXtjb25zdCBhPWVbb10sbD10W29dO2lmKCFhfHwhbClyZXR1cm47ci50dGw9YSxyLnN0YXJ0PWwsci5ub3c9c3x8aSgpO2NvbnN0IHU9ci5ub3ctbDtyLnJlbWFpbmluZ1RUTD1hLXV9fSk7bGV0IHM9MDtjb25zdCBpPSgpPT57Y29uc3Qgcj1hbi5ub3coKTtpZih0aGlzLnR0bFJlc29sdXRpb24+MCl7cz1yO2NvbnN0IG89c2V0VGltZW91dCgoKT0+cz0wLHRoaXMudHRsUmVzb2x1dGlvbik7by51bnJlZiYmby51bnJlZigpfXJldHVybiByfTt0aGlzLmdldFJlbWFpbmluZ1RUTD1yPT57Y29uc3Qgbz1wKHRoaXMsRWUpLmdldChyKTtpZihvPT09dm9pZCAwKXJldHVybiAwO2NvbnN0IGE9ZVtvXSxsPXRbb107aWYoIWF8fCFsKXJldHVybiAxLzA7Y29uc3QgdT0oc3x8aSgpKS1sO3JldHVybiBhLXV9LFUodGhpcyxpdCxyPT57Y29uc3Qgbz10W3JdLGE9ZVtyXTtyZXR1cm4hIWEmJiEhbyYmKHN8fGkoKSktbz5hfSl9LHpzPW5ldyBXZWFrTWFwLEt0PW5ldyBXZWFrTWFwLGRpPW5ldyBXZWFrTWFwLGl0PW5ldyBXZWFrTWFwLEFyPW5ldyBXZWFrU2V0LF9oPWZ1bmN0aW9uKCl7Y29uc3QgZT1uZXcgcWkocCh0aGlzLEV0KSk7VSh0aGlzLEl0LDApLFUodGhpcyxNdCxlKSxVKHRoaXMsUHMsdD0+e1UodGhpcyxJdCxwKHRoaXMsSXQpLWVbdF0pLGVbdF09MH0pLFUodGhpcyxtaSwodCxzLGkscik9PntpZihBKHRoaXMscmUsdWUpLmNhbGwodGhpcyxzKSlyZXR1cm4gMDtpZighYXMoaSkpaWYocil7aWYodHlwZW9mIHIhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigic2l6ZUNhbGN1bGF0aW9uIG11c3QgYmUgYSBmdW5jdGlvbiIpO2lmKGk9cihzLHQpLCFhcyhpKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJzaXplQ2FsY3VsYXRpb24gcmV0dXJuIGludmFsaWQgKGV4cGVjdCBwb3NpdGl2ZSBpbnRlZ2VyKSIpfWVsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcigiaW52YWxpZCBzaXplIHZhbHVlIChtdXN0IGJlIHBvc2l0aXZlIGludGVnZXIpLiBXaGVuIG1heFNpemUgb3IgbWF4RW50cnlTaXplIGlzIHVzZWQsIHNpemVDYWxjdWxhdGlvbiBvciBzaXplIG11c3QgYmUgc2V0LiIpO3JldHVybiBpfSksVSh0aGlzLE1uLCh0LHMsaSk9PntpZihlW3RdPXMscCh0aGlzLHR0KSl7Y29uc3Qgcj1wKHRoaXMsdHQpLWVbdF07Zm9yKDtwKHRoaXMsSXQpPnI7KUEodGhpcyxfbixScikuY2FsbCh0aGlzLCEwKX1VKHRoaXMsSXQscCh0aGlzLEl0KStlW3RdKSxpJiYoaS5lbnRyeVNpemU9cyxpLnRvdGFsQ2FsY3VsYXRlZFNpemU9cCh0aGlzLEl0KSl9KX0sUHM9bmV3IFdlYWtNYXAsTW49bmV3IFdlYWtNYXAsbWk9bmV3IFdlYWtNYXAsRnQ9bmV3IFdlYWtTZXQsd3M9ZnVuY3Rpb24qKHthbGxvd1N0YWxlOmU9dGhpcy5hbGxvd1N0YWxlfT17fSl7aWYocCh0aGlzLE9lKSlmb3IobGV0IHQ9cCh0aGlzLF9lKTshKCFBKHRoaXMseWksSWEpLmNhbGwodGhpcyx0KXx8KChlfHwhcCh0aGlzLGl0KS5jYWxsKHRoaXMsdCkpJiYoeWllbGQgdCksdD09PXAodGhpcyxQZSkpKTspdD1wKHRoaXMsc3QpW3RdfSx6dD1uZXcgV2Vha1NldCxicz1mdW5jdGlvbiooe2FsbG93U3RhbGU6ZT10aGlzLmFsbG93U3RhbGV9PXt9KXtpZihwKHRoaXMsT2UpKWZvcihsZXQgdD1wKHRoaXMsUGUpOyEoIUEodGhpcyx5aSxJYSkuY2FsbCh0aGlzLHQpfHwoKGV8fCFwKHRoaXMsaXQpLmNhbGwodGhpcyx0KSkmJih5aWVsZCB0KSx0PT09cCh0aGlzLF9lKSkpOyl0PXAodGhpcyxqZSlbdF19LHlpPW5ldyBXZWFrU2V0LElhPWZ1bmN0aW9uKGUpe3JldHVybiBlIT09dm9pZCAwJiZwKHRoaXMsRWUpLmdldChwKHRoaXMsYWUpW2VdKT09PWV9LF9uPW5ldyBXZWFrU2V0LFJyPWZ1bmN0aW9uKGUpe3ZhciByLG87Y29uc3QgdD1wKHRoaXMsUGUpLHM9cCh0aGlzLGFlKVt0XSxpPXAodGhpcywkKVt0XTtyZXR1cm4gcCh0aGlzLGdzKSYmQSh0aGlzLHJlLHVlKS5jYWxsKHRoaXMsaSk/aS5fX2Fib3J0Q29udHJvbGxlci5hYm9ydChuZXcgRXJyb3IoImV2aWN0ZWQiKSk6KHAodGhpcyxOdCl8fHAodGhpcyxxZSkpJiYocCh0aGlzLE50KSYmKChyPXAodGhpcyxTdCkpPT1udWxsfHxyLmNhbGwodGhpcyxpLHMsImV2aWN0IikpLHAodGhpcyxxZSkmJigobz1wKHRoaXMsTmUpKT09bnVsbHx8by5wdXNoKFtpLHMsImV2aWN0Il0pKSkscCh0aGlzLFBzKS5jYWxsKHRoaXMsdCksZSYmKHAodGhpcyxhZSlbdF09dm9pZCAwLHAodGhpcywkKVt0XT12b2lkIDAscCh0aGlzLER0KS5wdXNoKHQpKSxwKHRoaXMsT2UpPT09MT8oVSh0aGlzLFBlLFUodGhpcyxfZSwwKSkscCh0aGlzLER0KS5sZW5ndGg9MCk6VSh0aGlzLFBlLHAodGhpcyxqZSlbdF0pLHAodGhpcyxFZSkuZGVsZXRlKHMpLExyKHRoaXMsT2UpLl8tLSx0fSxObj1uZXcgV2Vha1NldCxVcj1mdW5jdGlvbihlLHQscyxpKXtjb25zdCByPXQ9PT12b2lkIDA/dm9pZCAwOnAodGhpcywkKVt0XTtpZihBKHRoaXMscmUsdWUpLmNhbGwodGhpcyxyKSlyZXR1cm4gcjtjb25zdCBvPW5ldyBqaSx7c2lnbmFsOmF9PXM7YT09bnVsbHx8YS5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsKCk9Pm8uYWJvcnQoYS5yZWFzb24pLHtzaWduYWw6by5zaWduYWx9KTtjb25zdCBsPXtzaWduYWw6by5zaWduYWwsb3B0aW9uczpzLGNvbnRleHQ6aX0sdT0oZCx5PSExKT0+e2NvbnN0e2Fib3J0ZWQ6d309by5zaWduYWwsYj1zLmlnbm9yZUZldGNoQWJvcnQmJmQhPT12b2lkIDA7aWYocy5zdGF0dXMmJih3JiYheT8ocy5zdGF0dXMuZmV0Y2hBYm9ydGVkPSEwLHMuc3RhdHVzLmZldGNoRXJyb3I9by5zaWduYWwucmVhc29uLGImJihzLnN0YXR1cy5mZXRjaEFib3J0SWdub3JlZD0hMCkpOnMuc3RhdHVzLmZldGNoUmVzb2x2ZWQ9ITApLHcmJiFiJiYheSlyZXR1cm4gYyhvLnNpZ25hbC5yZWFzb24pO2NvbnN0IGs9ZjtyZXR1cm4gcCh0aGlzLCQpW3RdPT09ZiYmKGQ9PT12b2lkIDA/ay5fX3N0YWxlV2hpbGVGZXRjaGluZz9wKHRoaXMsJClbdF09ay5fX3N0YWxlV2hpbGVGZXRjaGluZzpBKHRoaXMsUHQsVHMpLmNhbGwodGhpcyxlLCJmZXRjaCIpOihzLnN0YXR1cyYmKHMuc3RhdHVzLmZldGNoVXBkYXRlZD0hMCksdGhpcy5zZXQoZSxkLGwub3B0aW9ucykpKSxkfSxoPWQ9PihzLnN0YXR1cyYmKHMuc3RhdHVzLmZldGNoUmVqZWN0ZWQ9ITAscy5zdGF0dXMuZmV0Y2hFcnJvcj1kKSxjKGQpKSxjPWQ9Pntjb25zdHthYm9ydGVkOnl9PW8uc2lnbmFsLHc9eSYmcy5hbGxvd1N0YWxlT25GZXRjaEFib3J0LGI9d3x8cy5hbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbixrPWJ8fHMubm9EZWxldGVPbkZldGNoUmVqZWN0aW9uLFM9ZjtpZihwKHRoaXMsJClbdF09PT1mJiYoIWt8fFMuX19zdGFsZVdoaWxlRmV0Y2hpbmc9PT12b2lkIDA/QSh0aGlzLFB0LFRzKS5jYWxsKHRoaXMsZSwiZmV0Y2giKTp3fHwocCh0aGlzLCQpW3RdPVMuX19zdGFsZVdoaWxlRmV0Y2hpbmcpKSxiKXJldHVybiBzLnN0YXR1cyYmUy5fX3N0YWxlV2hpbGVGZXRjaGluZyE9PXZvaWQgMCYmKHMuc3RhdHVzLnJldHVybmVkU3RhbGU9ITApLFMuX19zdGFsZVdoaWxlRmV0Y2hpbmc7aWYoUy5fX3JldHVybmVkPT09Uyl0aHJvdyBkfSxtPShkLHkpPT57dmFyIGI7Y29uc3Qgdz0oYj1wKHRoaXMsT24pKT09bnVsbD92b2lkIDA6Yi5jYWxsKHRoaXMsZSxyLGwpO3cmJncgaW5zdGFuY2VvZiBQcm9taXNlJiZ3LnRoZW4oaz0+ZChrPT09dm9pZCAwP3ZvaWQgMDprKSx5KSxvLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsKCk9PnsoIXMuaWdub3JlRmV0Y2hBYm9ydHx8cy5hbGxvd1N0YWxlT25GZXRjaEFib3J0KSYmKGQodm9pZCAwKSxzLmFsbG93U3RhbGVPbkZldGNoQWJvcnQmJihkPWs9PnUoaywhMCkpKX0pfTtzLnN0YXR1cyYmKHMuc3RhdHVzLmZldGNoRGlzcGF0Y2hlZD0hMCk7Y29uc3QgZj1uZXcgUHJvbWlzZShtKS50aGVuKHUsaCksZz1PYmplY3QuYXNzaWduKGYse19fYWJvcnRDb250cm9sbGVyOm8sX19zdGFsZVdoaWxlRmV0Y2hpbmc6cixfX3JldHVybmVkOnZvaWQgMH0pO3JldHVybiB0PT09dm9pZCAwPyh0aGlzLnNldChlLGcsey4uLmwub3B0aW9ucyxzdGF0dXM6dm9pZCAwfSksdD1wKHRoaXMsRWUpLmdldChlKSk6cCh0aGlzLCQpW3RdPWcsZ30scmU9bmV3IFdlYWtTZXQsdWU9ZnVuY3Rpb24oZSl7aWYoIXAodGhpcyxncykpcmV0dXJuITE7Y29uc3QgdD1lO3JldHVybiEhdCYmdCBpbnN0YW5jZW9mIFByb21pc2UmJnQuaGFzT3duUHJvcGVydHkoIl9fc3RhbGVXaGlsZUZldGNoaW5nIikmJnQuX19hYm9ydENvbnRyb2xsZXIgaW5zdGFuY2VvZiBqaX0scGk9bmV3IFdlYWtTZXQsRGE9ZnVuY3Rpb24oZSx0KXtwKHRoaXMsc3QpW3RdPWUscCh0aGlzLGplKVtlXT10fSwkcz1uZXcgV2Vha1NldCxraT1mdW5jdGlvbihlKXtlIT09cCh0aGlzLF9lKSYmKGU9PT1wKHRoaXMsUGUpP1UodGhpcyxQZSxwKHRoaXMsamUpW2VdKTpBKHRoaXMscGksRGEpLmNhbGwodGhpcyxwKHRoaXMsc3QpW2VdLHAodGhpcyxqZSlbZV0pLEEodGhpcyxwaSxEYSkuY2FsbCh0aGlzLHAodGhpcyxfZSksZSksVSh0aGlzLF9lLGUpKX0sUHQ9bmV3IFdlYWtTZXQsVHM9ZnVuY3Rpb24oZSx0KXt2YXIgaSxyLG8sYTtsZXQgcz0hMTtpZihwKHRoaXMsT2UpIT09MCl7Y29uc3QgbD1wKHRoaXMsRWUpLmdldChlKTtpZihsIT09dm9pZCAwKWlmKHM9ITAscCh0aGlzLE9lKT09PTEpQSh0aGlzLGdpLE1hKS5jYWxsKHRoaXMsdCk7ZWxzZXtwKHRoaXMsUHMpLmNhbGwodGhpcyxsKTtjb25zdCB1PXAodGhpcywkKVtsXTtpZihBKHRoaXMscmUsdWUpLmNhbGwodGhpcyx1KT91Ll9fYWJvcnRDb250cm9sbGVyLmFib3J0KG5ldyBFcnJvcigiZGVsZXRlZCIpKToocCh0aGlzLE50KXx8cCh0aGlzLHFlKSkmJihwKHRoaXMsTnQpJiYoKGk9cCh0aGlzLFN0KSk9PW51bGx8fGkuY2FsbCh0aGlzLHUsZSx0KSkscCh0aGlzLHFlKSYmKChyPXAodGhpcyxOZSkpPT1udWxsfHxyLnB1c2goW3UsZSx0XSkpKSxwKHRoaXMsRWUpLmRlbGV0ZShlKSxwKHRoaXMsYWUpW2xdPXZvaWQgMCxwKHRoaXMsJClbbF09dm9pZCAwLGw9PT1wKHRoaXMsX2UpKVUodGhpcyxfZSxwKHRoaXMsc3QpW2xdKTtlbHNlIGlmKGw9PT1wKHRoaXMsUGUpKVUodGhpcyxQZSxwKHRoaXMsamUpW2xdKTtlbHNle2NvbnN0IGg9cCh0aGlzLHN0KVtsXTtwKHRoaXMsamUpW2hdPXAodGhpcyxqZSlbbF07Y29uc3QgYz1wKHRoaXMsamUpW2xdO3AodGhpcyxzdClbY109cCh0aGlzLHN0KVtsXX1Mcih0aGlzLE9lKS5fLS0scCh0aGlzLER0KS5wdXNoKGwpfX1pZihwKHRoaXMscWUpJiYoKG89cCh0aGlzLE5lKSkhPW51bGwmJm8ubGVuZ3RoKSl7Y29uc3QgbD1wKHRoaXMsTmUpO2xldCB1O2Zvcig7dT1sPT1udWxsP3ZvaWQgMDpsLnNoaWZ0KCk7KShhPXAodGhpcyxPdCkpPT1udWxsfHxhLmNhbGwodGhpcywuLi51KX1yZXR1cm4gc30sZ2k9bmV3IFdlYWtTZXQsTWE9ZnVuY3Rpb24oZSl7dmFyIHQscyxpO2Zvcihjb25zdCByIG9mIEEodGhpcyx6dCxicykuY2FsbCh0aGlzLHthbGxvd1N0YWxlOiEwfSkpe2NvbnN0IG89cCh0aGlzLCQpW3JdO2lmKEEodGhpcyxyZSx1ZSkuY2FsbCh0aGlzLG8pKW8uX19hYm9ydENvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKCJkZWxldGVkIikpO2Vsc2V7Y29uc3QgYT1wKHRoaXMsYWUpW3JdO3AodGhpcyxOdCkmJigodD1wKHRoaXMsU3QpKT09bnVsbHx8dC5jYWxsKHRoaXMsbyxhLGUpKSxwKHRoaXMscWUpJiYoKHM9cCh0aGlzLE5lKSk9PW51bGx8fHMucHVzaChbbyxhLGVdKSl9fWlmKHAodGhpcyxFZSkuY2xlYXIoKSxwKHRoaXMsJCkuZmlsbCh2b2lkIDApLHAodGhpcyxhZSkuZmlsbCh2b2lkIDApLHAodGhpcyxudCkmJnAodGhpcyxfdCkmJihwKHRoaXMsbnQpLmZpbGwoMCkscCh0aGlzLF90KS5maWxsKDApKSxwKHRoaXMsTXQpJiZwKHRoaXMsTXQpLmZpbGwoMCksVSh0aGlzLFBlLDApLFUodGhpcyxfZSwwKSxwKHRoaXMsRHQpLmxlbmd0aD0wLFUodGhpcyxJdCwwKSxVKHRoaXMsT2UsMCkscCh0aGlzLHFlKSYmcCh0aGlzLE5lKSl7Y29uc3Qgcj1wKHRoaXMsTmUpO2xldCBvO2Zvcig7bz1yPT1udWxsP3ZvaWQgMDpyLnNoaWZ0KCk7KShpPXAodGhpcyxPdCkpPT1udWxsfHxpLmNhbGwodGhpcywuLi5vKX19O2xldCBZbz1FYTtjb25zdCBabj0oKT0+bmV3IFlvKHttYXg6MWUzfSk7Y2xhc3MgYWd7Y29uc3RydWN0b3IoKXt0aGlzLnNsYXNoRGF0ZT1abigpLHRoaXMucm91bmREYXRlVXA9Wm4oKSx0aGlzLnJhbmdlcz1abigpfX1jbGFzcyBzY3tjb25zdHJ1Y3Rvcigpe3RoaXMuem9uZXM9Wm4oKSx0aGlzLnlhbWw9Wm4oKSx0aGlzLmNhY2hlcz1bXX16b25lKGUpe2ZvcihsZXQgcz0wO3M8dGhpcy5jYWNoZXMubGVuZ3RoO3MrKylpZih0aGlzLmNhY2hlc1tzXVswXS5lcXVhbHMoZSkpcmV0dXJuIHRoaXMuY2FjaGVzW3NdWzFdO2NvbnN0IHQ9bmV3IGFnO3JldHVybiB0aGlzLmNhY2hlcy5wdXNoKFtlLHRdKSx0fX1mdW5jdGlvbiBLaShuLGUsdCxzKXtpZihuLm1hdGNoKGdvKSl7Y29uc3QgaT10W2VdLHI9aStuLmxlbmd0aDtzLnJhbmdlcy5wdXNoKHt0eXBlOlcuQ29tbWVudCxmcm9tOmksdG86cn0pO2NvbnN0IG89cy5jdXJyZW50Rm9sZGFibGVDb21tZW50KCk7aWYobylvLmVuZEluZGV4PXI7ZWxzZXtjb25zdCBhPW4uaW5kZXhPZigiLy8iKTtzLnN0YXJ0Rm9sZGFibGUoe3N0YXJ0SW5kZXg6aSxzdGFydExpbmU6ZSxlbmRJbmRleDpyLHR5cGU6ImNvbW1lbnQiLGZvbGRTdGFydEluZGV4OmkrKGE+LTE/YSsyOjApfSl9cmV0dXJuITB9ZWxzZSByZXR1cm4gcy5maW5pc2hGb2xkYWJsZUNvbW1lbnQoZSksITF9ZnVuY3Rpb24gbGcobixlLHQscyl7Y29uc3QgaT1uLm1hdGNoKGl5KTtpZihpKXtjb25zdCByPW4uaW5kZXhPZigiLSIpLG89dFtlXStyLGE9dFtlXStuLmluZGV4T2YoaVsxXSksbD1hK2lbMV0ubGVuZ3RoLHU9e3R5cGU6Vy5saXN0SXRlbUluZGljYXRvcixmcm9tOm8sdG86bysxfSxoPXt0eXBlOlcuQ2hlY2tib3hJdGVtSW5kaWNhdG9yLGZyb206YSx0bzpsLGNvbnRlbnQ6aVsyXT09PSJ4Inx8aVsyXT09PSJYIn0sYz17dHlwZTpXLkxpc3RJdGVtQ29udGVudHMsZnJvbTpsLHRvOnRbZV0rbi5sZW5ndGh9O3JldHVybiBzLnJhbmdlcy5wdXNoKHUsaCxjKSxbdSxoLGNdfWVsc2UgaWYobi5tYXRjaChueSkpe2NvbnN0IHI9bi5pbmRleE9mKCItIiksbz10W2VdK3IsYT17dHlwZTpXLmxpc3RJdGVtSW5kaWNhdG9yLGZyb206byx0bzpvKzF9LGw9e3R5cGU6Vy5MaXN0SXRlbUNvbnRlbnRzLGZyb206bysyLHRvOnRbZV0rbi5sZW5ndGh9O3JldHVybiBzLnJhbmdlcy5wdXNoKGEsbCksW2EsbF19cmV0dXJuITF9ZnVuY3Rpb24gdWcobil7cmV0dXJuIG4ucmVwbGFjZSgvKF58XFcrKSMoXHcrKS9nLChlLHQscyxpLHIpPT5gJHt0fSkke3N9YCl9ZnVuY3Rpb24gY2cobixlLHQscyl7Y29uc3QgaT0ocixvLGEsbCx1KT0+e2lmKGw9PT0wKXtjb25zdCBoPXRbZV0rbCtvLmxlbmd0aDtzLnJhbmdlcy5wdXNoKHt0eXBlOlcuVGFnLGZyb206aCx0bzpoK2EubGVuZ3RoKzEsY29udGVudDp7dGFnOmF9fSl9cmV0dXJuYCR7b30pJHthfWB9O3JldHVybiBuLnJlcGxhY2UoLyhefFxXKykjKFx3KykvZyxpKX1mdW5jdGlvbiBuYyhuLGUsdCxzKXtjb25zdCBpPW4ubWF0Y2hBbGwoVWkpO2lmKGkpZm9yKGxldCByIG9mIGkpe2NvbnN0IG89bi5pbmRleE9mKCIjIityWzFdKSxhPXRbZV0rbztzLnJhbmdlcy5wdXNoKHt0eXBlOlcuVGFnLGZyb206YSx0bzphK3JbMV0ubGVuZ3RoKzEsY29udGVudDp7dGFnOnJbMV19fSl9cmV0dXJuITF9ZnVuY3Rpb24gbHMobixlKXtjb25zdCB0PWAke259YCxzPWU9PW51bGw/dm9pZCAwOmUuem9uZXMuZ2V0KHQpO2lmKHMpcmV0dXJuIHM7e2NvbnN0IGk9WyJ6IiwiWlpaIiwiWloiLCJaIl07bGV0IHI7Zm9yKGNvbnN0IG8gb2YgaSlpZihyPU0uZnJvbUZvcm1hdCh0LG8se3NldFpvbmU6ITB9KSxyLmlzVmFsaWQmJnIuem9uZS5pc1ZhbGlkfHxvIT09InoiJiYocj1NLmZyb21Gb3JtYXQoYCske3R9YCxvLHtzZXRab25lOiEwfSksci5pc1ZhbGlkJiZyLnpvbmUuaXNWYWxpZCkpcmV0dXJuIGU9PW51bGx8fGUuem9uZXMuc2V0KHQsci56b25lKSxyLnpvbmV9fWNvbnN0IFJvPVN5bWJvbC5mb3IoInlhbWwuYWxpYXMiKSxVbz1TeW1ib2wuZm9yKCJ5YW1sLmRvY3VtZW50IiksdXM9U3ltYm9sLmZvcigieWFtbC5tYXAiKSxpYz1TeW1ib2wuZm9yKCJ5YW1sLnBhaXIiKSxSdD1TeW1ib2wuZm9yKCJ5YW1sLnNjYWxhciIpLGxuPVN5bWJvbC5mb3IoInlhbWwuc2VxIiksY3Q9U3ltYm9sLmZvcigieWFtbC5ub2RlLnR5cGUiKSxJcz1uPT4hIW4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmbltjdF09PT1SbyxaaT1uPT4hIW4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmbltjdF09PT1VbyxHbj1uPT4hIW4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmbltjdF09PT11cyxwZT1uPT4hIW4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmbltjdF09PT1pYyxvZT1uPT4hIW4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmbltjdF09PT1SdCxKbj1uPT4hIW4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmbltjdF09PT1sbjtmdW5jdGlvbiBnZShuKXtpZihuJiZ0eXBlb2Ygbj09Im9iamVjdCIpc3dpdGNoKG5bY3RdKXtjYXNlIHVzOmNhc2UgbG46cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gd2Uobil7aWYobiYmdHlwZW9mIG49PSJvYmplY3QiKXN3aXRjaChuW2N0XSl7Y2FzZSBSbzpjYXNlIHVzOmNhc2UgUnQ6Y2FzZSBsbjpyZXR1cm4hMH1yZXR1cm4hMX1jb25zdCByYz1uPT4ob2Uobil8fGdlKG4pKSYmISFuLmFuY2hvcixEcz1TeW1ib2woImJyZWFrIHZpc2l0IiksaGc9U3ltYm9sKCJza2lwIGNoaWxkcmVuIiksWG49U3ltYm9sKCJyZW1vdmUgbm9kZSIpO2Z1bmN0aW9uIHVuKG4sZSl7Y29uc3QgdD1mZyhlKTtaaShuKT9jbihudWxsLG4uY29udGVudHMsdCxPYmplY3QuZnJlZXplKFtuXSkpPT09WG4mJihuLmNvbnRlbnRzPW51bGwpOmNuKG51bGwsbix0LE9iamVjdC5mcmVlemUoW10pKX11bi5CUkVBSz1Ecyx1bi5TS0lQPWhnLHVuLlJFTU9WRT1YbjtmdW5jdGlvbiBjbihuLGUsdCxzKXtjb25zdCBpPWRnKG4sZSx0LHMpO2lmKHdlKGkpfHxwZShpKSlyZXR1cm4gbWcobixzLGkpLGNuKG4saSx0LHMpO2lmKHR5cGVvZiBpIT0ic3ltYm9sIil7aWYoZ2UoZSkpe3M9T2JqZWN0LmZyZWV6ZShzLmNvbmNhdChlKSk7Zm9yKGxldCByPTA7cjxlLml0ZW1zLmxlbmd0aDsrK3Ipe2NvbnN0IG89Y24ocixlLml0ZW1zW3JdLHQscyk7aWYodHlwZW9mIG89PSJudW1iZXIiKXI9by0xO2Vsc2V7aWYobz09PURzKXJldHVybiBEcztvPT09WG4mJihlLml0ZW1zLnNwbGljZShyLDEpLHItPTEpfX19ZWxzZSBpZihwZShlKSl7cz1PYmplY3QuZnJlZXplKHMuY29uY2F0KGUpKTtjb25zdCByPWNuKCJrZXkiLGUua2V5LHQscyk7aWYocj09PURzKXJldHVybiBEcztyPT09WG4mJihlLmtleT1udWxsKTtjb25zdCBvPWNuKCJ2YWx1ZSIsZS52YWx1ZSx0LHMpO2lmKG89PT1EcylyZXR1cm4gRHM7bz09PVhuJiYoZS52YWx1ZT1udWxsKX19cmV0dXJuIGl9ZnVuY3Rpb24gZmcobil7cmV0dXJuIHR5cGVvZiBuPT0ib2JqZWN0IiYmKG4uQ29sbGVjdGlvbnx8bi5Ob2RlfHxuLlZhbHVlKT9PYmplY3QuYXNzaWduKHtBbGlhczpuLk5vZGUsTWFwOm4uTm9kZSxTY2FsYXI6bi5Ob2RlLFNlcTpuLk5vZGV9LG4uVmFsdWUmJntNYXA6bi5WYWx1ZSxTY2FsYXI6bi5WYWx1ZSxTZXE6bi5WYWx1ZX0sbi5Db2xsZWN0aW9uJiZ7TWFwOm4uQ29sbGVjdGlvbixTZXE6bi5Db2xsZWN0aW9ufSxuKTpufWZ1bmN0aW9uIGRnKG4sZSx0LHMpe3ZhciBpLHIsbyxhLGw7aWYodHlwZW9mIHQ9PSJmdW5jdGlvbiIpcmV0dXJuIHQobixlLHMpO2lmKEduKGUpKXJldHVybihpPXQuTWFwKT09bnVsbD92b2lkIDA6aS5jYWxsKHQsbixlLHMpO2lmKEpuKGUpKXJldHVybihyPXQuU2VxKT09bnVsbD92b2lkIDA6ci5jYWxsKHQsbixlLHMpO2lmKHBlKGUpKXJldHVybihvPXQuUGFpcik9PW51bGw/dm9pZCAwOm8uY2FsbCh0LG4sZSxzKTtpZihvZShlKSlyZXR1cm4oYT10LlNjYWxhcik9PW51bGw/dm9pZCAwOmEuY2FsbCh0LG4sZSxzKTtpZihJcyhlKSlyZXR1cm4obD10LkFsaWFzKT09bnVsbD92b2lkIDA6bC5jYWxsKHQsbixlLHMpfWZ1bmN0aW9uIG1nKG4sZSx0KXtjb25zdCBzPWVbZS5sZW5ndGgtMV07aWYoZ2Uocykpcy5pdGVtc1tuXT10O2Vsc2UgaWYocGUocykpbj09PSJrZXkiP3Mua2V5PXQ6cy52YWx1ZT10O2Vsc2UgaWYoWmkocykpcy5jb250ZW50cz10O2Vsc2V7Y29uc3QgaT1JcyhzKT8iYWxpYXMiOiJzY2FsYXIiO3Rocm93IG5ldyBFcnJvcihgQ2Fubm90IHJlcGxhY2Ugbm9kZSB3aXRoICR7aX0gcGFyZW50YCl9fWNvbnN0IHlnPXsiISI6IiUyMSIsIiwiOiIlMkMiLCJbIjoiJTVCIiwiXSI6IiU1RCIsInsiOiIlN0IiLCJ9IjoiJTdEIn0scGc9bj0+bi5yZXBsYWNlKC9bISxbXF17fV0vZyxlPT55Z1tlXSk7Y2xhc3MgQmV7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmRvY1N0YXJ0PW51bGwsdGhpcy5kb2NFbmQ9ITEsdGhpcy55YW1sPU9iamVjdC5hc3NpZ24oe30sQmUuZGVmYXVsdFlhbWwsZSksdGhpcy50YWdzPU9iamVjdC5hc3NpZ24oe30sQmUuZGVmYXVsdFRhZ3MsdCl9Y2xvbmUoKXtjb25zdCBlPW5ldyBCZSh0aGlzLnlhbWwsdGhpcy50YWdzKTtyZXR1cm4gZS5kb2NTdGFydD10aGlzLmRvY1N0YXJ0LGV9YXREb2N1bWVudCgpe2NvbnN0IGU9bmV3IEJlKHRoaXMueWFtbCx0aGlzLnRhZ3MpO3N3aXRjaCh0aGlzLnlhbWwudmVyc2lvbil7Y2FzZSIxLjEiOnRoaXMuYXROZXh0RG9jdW1lbnQ9ITA7YnJlYWs7Y2FzZSIxLjIiOnRoaXMuYXROZXh0RG9jdW1lbnQ9ITEsdGhpcy55YW1sPXtleHBsaWNpdDpCZS5kZWZhdWx0WWFtbC5leHBsaWNpdCx2ZXJzaW9uOiIxLjIifSx0aGlzLnRhZ3M9T2JqZWN0LmFzc2lnbih7fSxCZS5kZWZhdWx0VGFncyk7YnJlYWt9cmV0dXJuIGV9YWRkKGUsdCl7dGhpcy5hdE5leHREb2N1bWVudCYmKHRoaXMueWFtbD17ZXhwbGljaXQ6QmUuZGVmYXVsdFlhbWwuZXhwbGljaXQsdmVyc2lvbjoiMS4xIn0sdGhpcy50YWdzPU9iamVjdC5hc3NpZ24oe30sQmUuZGVmYXVsdFRhZ3MpLHRoaXMuYXROZXh0RG9jdW1lbnQ9ITEpO2NvbnN0IHM9ZS50cmltKCkuc3BsaXQoL1sgXHRdKy8pLGk9cy5zaGlmdCgpO3N3aXRjaChpKXtjYXNlIiVUQUciOntpZihzLmxlbmd0aCE9PTImJih0KDAsIiVUQUcgZGlyZWN0aXZlIHNob3VsZCBjb250YWluIGV4YWN0bHkgdHdvIHBhcnRzIikscy5sZW5ndGg8MikpcmV0dXJuITE7Y29uc3RbcixvXT1zO3JldHVybiB0aGlzLnRhZ3Nbcl09bywhMH1jYXNlIiVZQU1MIjp7aWYodGhpcy55YW1sLmV4cGxpY2l0PSEwLHMubGVuZ3RoIT09MSlyZXR1cm4gdCgwLCIlWUFNTCBkaXJlY3RpdmUgc2hvdWxkIGNvbnRhaW4gZXhhY3RseSBvbmUgcGFydCIpLCExO2NvbnN0W3JdPXM7aWYocj09PSIxLjEifHxyPT09IjEuMiIpcmV0dXJuIHRoaXMueWFtbC52ZXJzaW9uPXIsITA7e2NvbnN0IG89L15cZCtcLlxkKyQvLnRlc3Qocik7cmV0dXJuIHQoNixgVW5zdXBwb3J0ZWQgWUFNTCB2ZXJzaW9uICR7cn1gLG8pLCExfX1kZWZhdWx0OnJldHVybiB0KDAsYFVua25vd24gZGlyZWN0aXZlICR7aX1gLCEwKSwhMX19dGFnTmFtZShlLHQpe2lmKGU9PT0iISIpcmV0dXJuIiEiO2lmKGVbMF0hPT0iISIpcmV0dXJuIHQoYE5vdCBhIHZhbGlkIHRhZzogJHtlfWApLG51bGw7aWYoZVsxXT09PSI8Iil7Y29uc3Qgbz1lLnNsaWNlKDIsLTEpO3JldHVybiBvPT09IiEifHxvPT09IiEhIj8odChgVmVyYmF0aW0gdGFncyBhcmVuJ3QgcmVzb2x2ZWQsIHNvICR7ZX0gaXMgaW52YWxpZC5gKSxudWxsKTooZVtlLmxlbmd0aC0xXSE9PSI+IiYmdCgiVmVyYmF0aW0gdGFncyBtdXN0IGVuZCB3aXRoIGEgPiIpLG8pfWNvbnN0WyxzLGldPWUubWF0Y2goL14oLiohKShbXiFdKikkL3MpO2l8fHQoYFRoZSAke2V9IHRhZyBoYXMgbm8gc3VmZml4YCk7Y29uc3Qgcj10aGlzLnRhZ3Nbc107aWYocil0cnl7cmV0dXJuIHIrZGVjb2RlVVJJQ29tcG9uZW50KGkpfWNhdGNoKG8pe3JldHVybiB0KFN0cmluZyhvKSksbnVsbH1yZXR1cm4gcz09PSIhIj9lOih0KGBDb3VsZCBub3QgcmVzb2x2ZSB0YWc6ICR7ZX1gKSxudWxsKX10YWdTdHJpbmcoZSl7Zm9yKGNvbnN0W3Qsc11vZiBPYmplY3QuZW50cmllcyh0aGlzLnRhZ3MpKWlmKGUuc3RhcnRzV2l0aChzKSlyZXR1cm4gdCtwZyhlLnN1YnN0cmluZyhzLmxlbmd0aCkpO3JldHVybiBlWzBdPT09IiEiP2U6YCE8JHtlfT5gfXRvU3RyaW5nKGUpe2NvbnN0IHQ9dGhpcy55YW1sLmV4cGxpY2l0P1tgJVlBTUwgJHt0aGlzLnlhbWwudmVyc2lvbnx8IjEuMiJ9YF06W10scz1PYmplY3QuZW50cmllcyh0aGlzLnRhZ3MpO2xldCBpO2lmKGUmJnMubGVuZ3RoPjAmJndlKGUuY29udGVudHMpKXtjb25zdCByPXt9O3VuKGUuY29udGVudHMsKG8sYSk9Pnt3ZShhKSYmYS50YWcmJihyW2EudGFnXT0hMCl9KSxpPU9iamVjdC5rZXlzKHIpfWVsc2UgaT1bXTtmb3IoY29uc3RbcixvXW9mIHMpcj09PSIhISImJm89PT0idGFnOnlhbWwub3JnLDIwMDI6Inx8KCFlfHxpLnNvbWUoYT0+YS5zdGFydHNXaXRoKG8pKSkmJnQucHVzaChgJVRBRyAke3J9ICR7b31gKTtyZXR1cm4gdC5qb2luKGAKYCl9fUJlLmRlZmF1bHRZYW1sPXtleHBsaWNpdDohMSx2ZXJzaW9uOiIxLjIifSxCZS5kZWZhdWx0VGFncz17IiEhIjoidGFnOnlhbWwub3JnLDIwMDI6In07ZnVuY3Rpb24gb2Mobil7aWYoL1tceDAwLVx4MTlccyxbXF17fV0vLnRlc3Qobikpe2NvbnN0IHQ9YEFuY2hvciBtdXN0IG5vdCBjb250YWluIHdoaXRlc3BhY2Ugb3IgY29udHJvbCBjaGFyYWN0ZXJzOiAke0pTT04uc3RyaW5naWZ5KG4pfWA7dGhyb3cgbmV3IEVycm9yKHQpfXJldHVybiEwfWZ1bmN0aW9uIGFjKG4pe2NvbnN0IGU9bmV3IFNldDtyZXR1cm4gdW4obix7VmFsdWUodCxzKXtzLmFuY2hvciYmZS5hZGQocy5hbmNob3IpfX0pLGV9ZnVuY3Rpb24gbGMobixlKXtmb3IobGV0IHQ9MTs7Kyt0KXtjb25zdCBzPWAke259JHt0fWA7aWYoIWUuaGFzKHMpKXJldHVybiBzfX1mdW5jdGlvbiBnZyhuLGUpe2NvbnN0IHQ9W10scz1uZXcgTWFwO2xldCBpPW51bGw7cmV0dXJue29uQW5jaG9yOnI9Pnt0LnB1c2gociksaT8/KGk9YWMobikpO2NvbnN0IG89bGMoZSxpKTtyZXR1cm4gaS5hZGQobyksb30sc2V0QW5jaG9yczooKT0+e2Zvcihjb25zdCByIG9mIHQpe2NvbnN0IG89cy5nZXQocik7aWYodHlwZW9mIG89PSJvYmplY3QiJiZvLmFuY2hvciYmKG9lKG8ubm9kZSl8fGdlKG8ubm9kZSkpKW8ubm9kZS5hbmNob3I9by5hbmNob3I7ZWxzZXtjb25zdCBhPW5ldyBFcnJvcigiRmFpbGVkIHRvIHJlc29sdmUgcmVwZWF0ZWQgb2JqZWN0ICh0aGlzIHNob3VsZCBub3QgaGFwcGVuKSIpO3Rocm93IGEuc291cmNlPXIsYX19fSxzb3VyY2VPYmplY3RzOnN9fWZ1bmN0aW9uIGhuKG4sZSx0LHMpe2lmKHMmJnR5cGVvZiBzPT0ib2JqZWN0IilpZihBcnJheS5pc0FycmF5KHMpKWZvcihsZXQgaT0wLHI9cy5sZW5ndGg7aTxyOysraSl7Y29uc3Qgbz1zW2ldLGE9aG4obixzLFN0cmluZyhpKSxvKTthPT09dm9pZCAwP2RlbGV0ZSBzW2ldOmEhPT1vJiYoc1tpXT1hKX1lbHNlIGlmKHMgaW5zdGFuY2VvZiBNYXApZm9yKGNvbnN0IGkgb2YgQXJyYXkuZnJvbShzLmtleXMoKSkpe2NvbnN0IHI9cy5nZXQoaSksbz1obihuLHMsaSxyKTtvPT09dm9pZCAwP3MuZGVsZXRlKGkpOm8hPT1yJiZzLnNldChpLG8pfWVsc2UgaWYocyBpbnN0YW5jZW9mIFNldClmb3IoY29uc3QgaSBvZiBBcnJheS5mcm9tKHMpKXtjb25zdCByPWhuKG4scyxpLGkpO3I9PT12b2lkIDA/cy5kZWxldGUoaSk6ciE9PWkmJihzLmRlbGV0ZShpKSxzLmFkZChyKSl9ZWxzZSBmb3IoY29uc3RbaSxyXW9mIE9iamVjdC5lbnRyaWVzKHMpKXtjb25zdCBvPWhuKG4scyxpLHIpO289PT12b2lkIDA/ZGVsZXRlIHNbaV06byE9PXImJihzW2ldPW8pfXJldHVybiBuLmNhbGwoZSx0LHMpfWZ1bmN0aW9uIGh0KG4sZSx0KXtpZihBcnJheS5pc0FycmF5KG4pKXJldHVybiBuLm1hcCgocyxpKT0+aHQocyxTdHJpbmcoaSksdCkpO2lmKG4mJnR5cGVvZiBuLnRvSlNPTj09ImZ1bmN0aW9uIil7aWYoIXR8fCFyYyhuKSlyZXR1cm4gbi50b0pTT04oZSx0KTtjb25zdCBzPXthbGlhc0NvdW50OjAsY291bnQ6MSxyZXM6dm9pZCAwfTt0LmFuY2hvcnMuc2V0KG4scyksdC5vbkNyZWF0ZT1yPT57cy5yZXM9cixkZWxldGUgdC5vbkNyZWF0ZX07Y29uc3QgaT1uLnRvSlNPTihlLHQpO3JldHVybiB0Lm9uQ3JlYXRlJiZ0Lm9uQ3JlYXRlKGkpLGl9cmV0dXJuIHR5cGVvZiBuPT0iYmlnaW50IiYmISh0IT1udWxsJiZ0LmtlZXApP051bWJlcihuKTpufWNsYXNzIEZve2NvbnN0cnVjdG9yKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGN0LHt2YWx1ZTplfSl9Y2xvbmUoKXtjb25zdCBlPU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHRoaXMpKTtyZXR1cm4gdGhpcy5yYW5nZSYmKGUucmFuZ2U9dGhpcy5yYW5nZS5zbGljZSgpKSxlfXRvSlMoZSx7bWFwQXNNYXA6dCxtYXhBbGlhc0NvdW50OnMsb25BbmNob3I6aSxyZXZpdmVyOnJ9PXt9KXtpZighWmkoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQSBkb2N1bWVudCBhcmd1bWVudCBpcyByZXF1aXJlZCIpO2NvbnN0IG89e2FuY2hvcnM6bmV3IE1hcCxkb2M6ZSxrZWVwOiEwLG1hcEFzTWFwOnQ9PT0hMCxtYXBLZXlXYXJuZWQ6ITEsbWF4QWxpYXNDb3VudDp0eXBlb2Ygcz09Im51bWJlciI/czoxMDB9LGE9aHQodGhpcywiIixvKTtpZih0eXBlb2YgaT09ImZ1bmN0aW9uIilmb3IoY29uc3R7Y291bnQ6bCxyZXM6dX1vZiBvLmFuY2hvcnMudmFsdWVzKCkpaSh1LGwpO3JldHVybiB0eXBlb2Ygcj09ImZ1bmN0aW9uIj9obihyLHsiIjphfSwiIixhKTphfX1jbGFzcyB6byBleHRlbmRzIEZve2NvbnN0cnVjdG9yKGUpe3N1cGVyKFJvKSx0aGlzLnNvdXJjZT1lLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJ0YWciLHtzZXQoKXt0aHJvdyBuZXcgRXJyb3IoIkFsaWFzIG5vZGVzIGNhbm5vdCBoYXZlIHRhZ3MiKX19KX1yZXNvbHZlKGUsdCl7bGV0IHM7dCE9bnVsbCYmdC5hbGlhc1Jlc29sdmVDYWNoZT9zPXQuYWxpYXNSZXNvbHZlQ2FjaGU6KHM9W10sdW4oZSx7Tm9kZToocixvKT0+eyhJcyhvKXx8cmMobykpJiZzLnB1c2gobyl9fSksdCYmKHQuYWxpYXNSZXNvbHZlQ2FjaGU9cykpO2xldCBpO2Zvcihjb25zdCByIG9mIHMpe2lmKHI9PT10aGlzKWJyZWFrO3IuYW5jaG9yPT09dGhpcy5zb3VyY2UmJihpPXIpfXJldHVybiBpfXRvSlNPTihlLHQpe2lmKCF0KXJldHVybntzb3VyY2U6dGhpcy5zb3VyY2V9O2NvbnN0e2FuY2hvcnM6cyxkb2M6aSxtYXhBbGlhc0NvdW50OnJ9PXQsbz10aGlzLnJlc29sdmUoaSx0KTtpZighbyl7Y29uc3QgbD1gVW5yZXNvbHZlZCBhbGlhcyAodGhlIGFuY2hvciBtdXN0IGJlIHNldCBiZWZvcmUgdGhlIGFsaWFzKTogJHt0aGlzLnNvdXJjZX1gO3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcihsKX1sZXQgYT1zLmdldChvKTtpZihhfHwoaHQobyxudWxsLHQpLGE9cy5nZXQobykpLCFhfHxhLnJlcz09PXZvaWQgMCl7Y29uc3QgbD0iVGhpcyBzaG91bGQgbm90IGhhcHBlbjogQWxpYXMgYW5jaG9yIHdhcyBub3QgcmVzb2x2ZWQ/Ijt0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IobCl9aWYocj49MCYmKGEuY291bnQrPTEsYS5hbGlhc0NvdW50PT09MCYmKGEuYWxpYXNDb3VudD1HaShpLG8scykpLGEuY291bnQqYS5hbGlhc0NvdW50PnIpKXtjb25zdCBsPSJFeGNlc3NpdmUgYWxpYXMgY291bnQgaW5kaWNhdGVzIGEgcmVzb3VyY2UgZXhoYXVzdGlvbiBhdHRhY2siO3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcihsKX1yZXR1cm4gYS5yZXN9dG9TdHJpbmcoZSx0LHMpe2NvbnN0IGk9YCoke3RoaXMuc291cmNlfWA7aWYoZSl7aWYob2ModGhpcy5zb3VyY2UpLGUub3B0aW9ucy52ZXJpZnlBbGlhc09yZGVyJiYhZS5hbmNob3JzLmhhcyh0aGlzLnNvdXJjZSkpe2NvbnN0IHI9YFVucmVzb2x2ZWQgYWxpYXMgKHRoZSBhbmNob3IgbXVzdCBiZSBzZXQgYmVmb3JlIHRoZSBhbGlhcyk6ICR7dGhpcy5zb3VyY2V9YDt0aHJvdyBuZXcgRXJyb3Iocil9aWYoZS5pbXBsaWNpdEtleSlyZXR1cm5gJHtpfSBgfXJldHVybiBpfX1mdW5jdGlvbiBHaShuLGUsdCl7aWYoSXMoZSkpe2NvbnN0IHM9ZS5yZXNvbHZlKG4pLGk9dCYmcyYmdC5nZXQocyk7cmV0dXJuIGk/aS5jb3VudCppLmFsaWFzQ291bnQ6MH1lbHNlIGlmKGdlKGUpKXtsZXQgcz0wO2Zvcihjb25zdCBpIG9mIGUuaXRlbXMpe2NvbnN0IHI9R2kobixpLHQpO3I+cyYmKHM9cil9cmV0dXJuIHN9ZWxzZSBpZihwZShlKSl7Y29uc3Qgcz1HaShuLGUua2V5LHQpLGk9R2kobixlLnZhbHVlLHQpO3JldHVybiBNYXRoLm1heChzLGkpfXJldHVybiAxfWNvbnN0IHVjPW49PiFufHx0eXBlb2YgbiE9ImZ1bmN0aW9uIiYmdHlwZW9mIG4hPSJvYmplY3QiO2NsYXNzIEIgZXh0ZW5kcyBGb3tjb25zdHJ1Y3RvcihlKXtzdXBlcihSdCksdGhpcy52YWx1ZT1lfXRvSlNPTihlLHQpe3JldHVybiB0IT1udWxsJiZ0LmtlZXA/dGhpcy52YWx1ZTpodCh0aGlzLnZhbHVlLGUsdCl9dG9TdHJpbmcoKXtyZXR1cm4gU3RyaW5nKHRoaXMudmFsdWUpfX1CLkJMT0NLX0ZPTERFRD0iQkxPQ0tfRk9MREVEIixCLkJMT0NLX0xJVEVSQUw9IkJMT0NLX0xJVEVSQUwiLEIuUExBSU49IlBMQUlOIixCLlFVT1RFX0RPVUJMRT0iUVVPVEVfRE9VQkxFIixCLlFVT1RFX1NJTkdMRT0iUVVPVEVfU0lOR0xFIjtjb25zdCB3Zz0idGFnOnlhbWwub3JnLDIwMDI6IjtmdW5jdGlvbiBiZyhuLGUsdCl7aWYoZSl7Y29uc3Qgcz10LmZpbHRlcihyPT5yLnRhZz09PWUpLGk9cy5maW5kKHI9PiFyLmZvcm1hdCk/P3NbMF07aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBUYWcgJHtlfSBub3QgZm91bmRgKTtyZXR1cm4gaX1yZXR1cm4gdC5maW5kKHM9Pnt2YXIgaTtyZXR1cm4oKGk9cy5pZGVudGlmeSk9PW51bGw/dm9pZCAwOmkuY2FsbChzLG4pKSYmIXMuZm9ybWF0fSl9ZnVuY3Rpb24gUW4obixlLHQpe3ZhciBjLG0sZjtpZihaaShuKSYmKG49bi5jb250ZW50cyksd2UobikpcmV0dXJuIG47aWYocGUobikpe2NvbnN0IGc9KG09KGM9dC5zY2hlbWFbdXNdKS5jcmVhdGVOb2RlKT09bnVsbD92b2lkIDA6bS5jYWxsKGMsdC5zY2hlbWEsbnVsbCx0KTtyZXR1cm4gZy5pdGVtcy5wdXNoKG4pLGd9KG4gaW5zdGFuY2VvZiBTdHJpbmd8fG4gaW5zdGFuY2VvZiBOdW1iZXJ8fG4gaW5zdGFuY2VvZiBCb29sZWFufHx0eXBlb2YgQmlnSW50PCJ1IiYmbiBpbnN0YW5jZW9mIEJpZ0ludCkmJihuPW4udmFsdWVPZigpKTtjb25zdHthbGlhc0R1cGxpY2F0ZU9iamVjdHM6cyxvbkFuY2hvcjppLG9uVGFnT2JqOnIsc2NoZW1hOm8sc291cmNlT2JqZWN0czphfT10O2xldCBsO2lmKHMmJm4mJnR5cGVvZiBuPT0ib2JqZWN0Iil7aWYobD1hLmdldChuKSxsKXJldHVybiBsLmFuY2hvcj8/KGwuYW5jaG9yPWkobikpLG5ldyB6byhsLmFuY2hvcik7bD17YW5jaG9yOm51bGwsbm9kZTpudWxsfSxhLnNldChuLGwpfWUhPW51bGwmJmUuc3RhcnRzV2l0aCgiISEiKSYmKGU9d2crZS5zbGljZSgyKSk7bGV0IHU9YmcobixlLG8udGFncyk7aWYoIXUpe2lmKG4mJnR5cGVvZiBuLnRvSlNPTj09ImZ1bmN0aW9uIiYmKG49bi50b0pTT04oKSksIW58fHR5cGVvZiBuIT0ib2JqZWN0Iil7Y29uc3QgZz1uZXcgQihuKTtyZXR1cm4gbCYmKGwubm9kZT1nKSxnfXU9biBpbnN0YW5jZW9mIE1hcD9vW3VzXTpTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KG4pP29bbG5dOm9bdXNdfXImJihyKHUpLGRlbGV0ZSB0Lm9uVGFnT2JqKTtjb25zdCBoPXUhPW51bGwmJnUuY3JlYXRlTm9kZT91LmNyZWF0ZU5vZGUodC5zY2hlbWEsbix0KTp0eXBlb2YoKGY9dT09bnVsbD92b2lkIDA6dS5ub2RlQ2xhc3MpPT1udWxsP3ZvaWQgMDpmLmZyb20pPT0iZnVuY3Rpb24iP3Uubm9kZUNsYXNzLmZyb20odC5zY2hlbWEsbix0KTpuZXcgQihuKTtyZXR1cm4gZT9oLnRhZz1lOnUuZGVmYXVsdHx8KGgudGFnPXUudGFnKSxsJiYobC5ub2RlPWgpLGh9ZnVuY3Rpb24gSmkobixlLHQpe2xldCBzPXQ7Zm9yKGxldCBpPWUubGVuZ3RoLTE7aT49MDstLWkpe2NvbnN0IHI9ZVtpXTtpZih0eXBlb2Ygcj09Im51bWJlciImJk51bWJlci5pc0ludGVnZXIocikmJnI+PTApe2NvbnN0IG89W107b1tyXT1zLHM9b31lbHNlIHM9bmV3IE1hcChbW3Isc11dKX1yZXR1cm4gUW4ocyx2b2lkIDAse2FsaWFzRHVwbGljYXRlT2JqZWN0czohMSxrZWVwVW5kZWZpbmVkOiExLG9uQW5jaG9yOigpPT57dGhyb3cgbmV3IEVycm9yKCJUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBwbGVhc2UgcmVwb3J0IGEgYnVnLiIpfSxzY2hlbWE6bixzb3VyY2VPYmplY3RzOm5ldyBNYXB9KX1jb25zdCBlaT1uPT5uPT1udWxsfHx0eXBlb2Ygbj09Im9iamVjdCImJiEhbltTeW1ib2wuaXRlcmF0b3JdKCkubmV4dCgpLmRvbmU7Y2xhc3MgY2MgZXh0ZW5kcyBGb3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJzY2hlbWEiLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwfSl9Y2xvbmUoZSl7Y29uc3QgdD1PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0aGlzKSk7cmV0dXJuIGUmJih0LnNjaGVtYT1lKSx0Lml0ZW1zPXQuaXRlbXMubWFwKHM9PndlKHMpfHxwZShzKT9zLmNsb25lKGUpOnMpLHRoaXMucmFuZ2UmJih0LnJhbmdlPXRoaXMucmFuZ2Uuc2xpY2UoKSksdH1hZGRJbihlLHQpe2lmKGVpKGUpKXRoaXMuYWRkKHQpO2Vsc2V7Y29uc3RbcywuLi5pXT1lLHI9dGhpcy5nZXQocywhMCk7aWYoZ2Uocikpci5hZGRJbihpLHQpO2Vsc2UgaWYocj09PXZvaWQgMCYmdGhpcy5zY2hlbWEpdGhpcy5zZXQocyxKaSh0aGlzLnNjaGVtYSxpLHQpKTtlbHNlIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgWUFNTCBjb2xsZWN0aW9uIGF0ICR7c30uIFJlbWFpbmluZyBwYXRoOiAke2l9YCl9fWRlbGV0ZUluKGUpe2NvbnN0W3QsLi4uc109ZTtpZihzLmxlbmd0aD09PTApcmV0dXJuIHRoaXMuZGVsZXRlKHQpO2NvbnN0IGk9dGhpcy5nZXQodCwhMCk7aWYoZ2UoaSkpcmV0dXJuIGkuZGVsZXRlSW4ocyk7dGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBZQU1MIGNvbGxlY3Rpb24gYXQgJHt0fS4gUmVtYWluaW5nIHBhdGg6ICR7c31gKX1nZXRJbihlLHQpe2NvbnN0W3MsLi4uaV09ZSxyPXRoaXMuZ2V0KHMsITApO3JldHVybiBpLmxlbmd0aD09PTA/IXQmJm9lKHIpP3IudmFsdWU6cjpnZShyKT9yLmdldEluKGksdCk6dm9pZCAwfWhhc0FsbE51bGxWYWx1ZXMoZSl7cmV0dXJuIHRoaXMuaXRlbXMuZXZlcnkodD0+e2lmKCFwZSh0KSlyZXR1cm4hMTtjb25zdCBzPXQudmFsdWU7cmV0dXJuIHM9PW51bGx8fGUmJm9lKHMpJiZzLnZhbHVlPT1udWxsJiYhcy5jb21tZW50QmVmb3JlJiYhcy5jb21tZW50JiYhcy50YWd9KX1oYXNJbihlKXtjb25zdFt0LC4uLnNdPWU7aWYocy5sZW5ndGg9PT0wKXJldHVybiB0aGlzLmhhcyh0KTtjb25zdCBpPXRoaXMuZ2V0KHQsITApO3JldHVybiBnZShpKT9pLmhhc0luKHMpOiExfXNldEluKGUsdCl7Y29uc3RbcywuLi5pXT1lO2lmKGkubGVuZ3RoPT09MCl0aGlzLnNldChzLHQpO2Vsc2V7Y29uc3Qgcj10aGlzLmdldChzLCEwKTtpZihnZShyKSlyLnNldEluKGksdCk7ZWxzZSBpZihyPT09dm9pZCAwJiZ0aGlzLnNjaGVtYSl0aGlzLnNldChzLEppKHRoaXMuc2NoZW1hLGksdCkpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBZQU1MIGNvbGxlY3Rpb24gYXQgJHtzfS4gUmVtYWluaW5nIHBhdGg6ICR7aX1gKX19fWNvbnN0IFRnPW49Pm4ucmVwbGFjZSgvXig/ISQpKD86ICQpPy9nbSwiIyIpO2Z1bmN0aW9uIFd0KG4sZSl7cmV0dXJuL15cbiskLy50ZXN0KG4pP24uc3Vic3RyaW5nKDEpOmU/bi5yZXBsYWNlKC9eKD8hICokKS9nbSxlKTpufWNvbnN0IE1zPShuLGUsdCk9Pm4uZW5kc1dpdGgoYApgKT9XdCh0LGUpOnQuaW5jbHVkZXMoYApgKT9gCmArV3QodCxlKToobi5lbmRzV2l0aCgiICIpPyIiOiIgIikrdCxoYz0iZmxvdyIsUG89ImJsb2NrIixYaT0icXVvdGVkIjtmdW5jdGlvbiBRaShuLGUsdD0iZmxvdyIse2luZGVudEF0U3RhcnQ6cyxsaW5lV2lkdGg6aT04MCxtaW5Db250ZW50V2lkdGg6cj0yMCxvbkZvbGQ6byxvbk92ZXJmbG93OmF9PXt9KXtpZighaXx8aTwwKXJldHVybiBuO2k8ciYmKHI9MCk7Y29uc3QgbD1NYXRoLm1heCgxK3IsMStpLWUubGVuZ3RoKTtpZihuLmxlbmd0aDw9bClyZXR1cm4gbjtjb25zdCB1PVtdLGg9e307bGV0IGM9aS1lLmxlbmd0aDt0eXBlb2Ygcz09Im51bWJlciImJihzPmktTWF0aC5tYXgoMixyKT91LnB1c2goMCk6Yz1pLXMpO2xldCBtLGYsZz0hMSxkPS0xLHk9LTEsdz0tMTt0PT09UG8mJihkPWZjKG4sZCxlLmxlbmd0aCksZCE9PS0xJiYoYz1kK2wpKTtmb3IobGV0IGs7az1uW2QrPTFdOyl7aWYodD09PVhpJiZrPT09IlxcIil7c3dpdGNoKHk9ZCxuW2QrMV0pe2Nhc2UieCI6ZCs9MzticmVhaztjYXNlInUiOmQrPTU7YnJlYWs7Y2FzZSJVIjpkKz05O2JyZWFrO2RlZmF1bHQ6ZCs9MX13PWR9aWYoaz09PWAKYCl0PT09UG8mJihkPWZjKG4sZCxlLmxlbmd0aCkpLGM9ZCtlLmxlbmd0aCtsLG09dm9pZCAwO2Vsc2V7aWYoaz09PSIgIiYmZiYmZiE9PSIgIiYmZiE9PWAKYCYmZiE9PSIJIil7Y29uc3QgUz1uW2QrMV07UyYmUyE9PSIgIiYmUyE9PWAKYCYmUyE9PSIJIiYmKG09ZCl9aWYoZD49YylpZihtKXUucHVzaChtKSxjPW0rbCxtPXZvaWQgMDtlbHNlIGlmKHQ9PT1YaSl7Zm9yKDtmPT09IiAifHxmPT09IgkiOylmPWssaz1uW2QrPTFdLGc9ITA7Y29uc3QgUz1kPncrMT9kLTI6eS0xO2lmKGhbU10pcmV0dXJuIG47dS5wdXNoKFMpLGhbU109ITAsYz1TK2wsbT12b2lkIDB9ZWxzZSBnPSEwfWY9a31pZihnJiZhJiZhKCksdS5sZW5ndGg9PT0wKXJldHVybiBuO28mJm8oKTtsZXQgYj1uLnNsaWNlKDAsdVswXSk7Zm9yKGxldCBrPTA7azx1Lmxlbmd0aDsrK2spe2NvbnN0IFM9dVtrXSxPPXVbaysxXXx8bi5sZW5ndGg7Uz09PTA/Yj1gCiR7ZX0ke24uc2xpY2UoMCxPKX1gOih0PT09WGkmJmhbU10mJihiKz1gJHtuW1NdfVxcYCksYis9YAoke2V9JHtuLnNsaWNlKFMrMSxPKX1gKX1yZXR1cm4gYn1mdW5jdGlvbiBmYyhuLGUsdCl7bGV0IHM9ZSxpPWUrMSxyPW5baV07Zm9yKDtyPT09IiAifHxyPT09IgkiOylpZihlPGkrdClyPW5bKytlXTtlbHNle2RvIHI9blsrK2VdO3doaWxlKHImJnIhPT1gCmApO3M9ZSxpPWUrMSxyPW5baV19cmV0dXJuIHN9Y29uc3QgZXI9KG4sZSk9Pih7aW5kZW50QXRTdGFydDplP24uaW5kZW50Lmxlbmd0aDpuLmluZGVudEF0U3RhcnQsbGluZVdpZHRoOm4ub3B0aW9ucy5saW5lV2lkdGgsbWluQ29udGVudFdpZHRoOm4ub3B0aW9ucy5taW5Db250ZW50V2lkdGh9KSx0cj1uPT4vXiglfC0tLXxcLlwuXC4pL20udGVzdChuKTtmdW5jdGlvbiBrZyhuLGUsdCl7aWYoIWV8fGU8MClyZXR1cm4hMTtjb25zdCBzPWUtdCxpPW4ubGVuZ3RoO2lmKGk8PXMpcmV0dXJuITE7Zm9yKGxldCByPTAsbz0wO3I8aTsrK3IpaWYobltyXT09PWAKYCl7aWYoci1vPnMpcmV0dXJuITA7aWYobz1yKzEsaS1vPD1zKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIHRpKG4sZSl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShuKTtpZihlLm9wdGlvbnMuZG91YmxlUXVvdGVkQXNKU09OKXJldHVybiB0O2NvbnN0e2ltcGxpY2l0S2V5OnN9PWUsaT1lLm9wdGlvbnMuZG91YmxlUXVvdGVkTWluTXVsdGlMaW5lTGVuZ3RoLHI9ZS5pbmRlbnR8fCh0cihuKT8iICAiOiIiKTtsZXQgbz0iIixhPTA7Zm9yKGxldCBsPTAsdT10W2xdO3U7dT10WysrbF0paWYodT09PSIgIiYmdFtsKzFdPT09IlxcIiYmdFtsKzJdPT09Im4iJiYobys9dC5zbGljZShhLGwpKyJcXCAiLGwrPTEsYT1sLHU9IlxcIiksdT09PSJcXCIpc3dpdGNoKHRbbCsxXSl7Y2FzZSJ1Ijp7bys9dC5zbGljZShhLGwpO2NvbnN0IGg9dC5zdWJzdHIobCsyLDQpO3N3aXRjaChoKXtjYXNlIjAwMDAiOm8rPSJcXDAiO2JyZWFrO2Nhc2UiMDAwNyI6bys9IlxcYSI7YnJlYWs7Y2FzZSIwMDBiIjpvKz0iXFx2IjticmVhaztjYXNlIjAwMWIiOm8rPSJcXGUiO2JyZWFrO2Nhc2UiMDA4NSI6bys9IlxcTiI7YnJlYWs7Y2FzZSIwMGEwIjpvKz0iXFxfIjticmVhaztjYXNlIjIwMjgiOm8rPSJcXEwiO2JyZWFrO2Nhc2UiMjAyOSI6bys9IlxcUCI7YnJlYWs7ZGVmYXVsdDpoLnN1YnN0cigwLDIpPT09IjAwIj9vKz0iXFx4IitoLnN1YnN0cigyKTpvKz10LnN1YnN0cihsLDYpfWwrPTUsYT1sKzF9YnJlYWs7Y2FzZSJuIjppZihzfHx0W2wrMl09PT0nIid8fHQubGVuZ3RoPGkpbCs9MTtlbHNle2ZvcihvKz10LnNsaWNlKGEsbCkrYAoKYDt0W2wrMl09PT0iXFwiJiZ0W2wrM109PT0ibiImJnRbbCs0XSE9PSciJzspbys9YApgLGwrPTI7bys9cix0W2wrMl09PT0iICImJihvKz0iXFwiKSxsKz0xLGE9bCsxfWJyZWFrO2RlZmF1bHQ6bCs9MX1yZXR1cm4gbz1hP28rdC5zbGljZShhKTp0LHM/bzpRaShvLHIsWGksZXIoZSwhMSkpfWZ1bmN0aW9uICRvKG4sZSl7aWYoZS5vcHRpb25zLnNpbmdsZVF1b3RlPT09ITF8fGUuaW1wbGljaXRLZXkmJm4uaW5jbHVkZXMoYApgKXx8L1sgXHRdXG58XG5bIFx0XS8udGVzdChuKSlyZXR1cm4gdGkobixlKTtjb25zdCB0PWUuaW5kZW50fHwodHIobik/IiAgIjoiIikscz0iJyIrbi5yZXBsYWNlKC8nL2csIicnIikucmVwbGFjZSgvXG4rL2csYCQmCiR7dH1gKSsiJyI7cmV0dXJuIGUuaW1wbGljaXRLZXk/czpRaShzLHQsaGMsZXIoZSwhMSkpfWZ1bmN0aW9uIGZuKG4sZSl7Y29uc3R7c2luZ2xlUXVvdGU6dH09ZS5vcHRpb25zO2xldCBzO2lmKHQ9PT0hMSlzPXRpO2Vsc2V7Y29uc3QgaT1uLmluY2x1ZGVzKCciJykscj1uLmluY2x1ZGVzKCInIik7aSYmIXI/cz0kbzpyJiYhaT9zPXRpOnM9dD8kbzp0aX1yZXR1cm4gcyhuLGUpfWxldCBCbzt0cnl7Qm89bmV3IFJlZ0V4cChgKF58KD88IQopKQorKD8hCnwkKWAsImciKX1jYXRjaHtCbz0vXG4rKD8hXG58JCkvZ31mdW5jdGlvbiBzcih7Y29tbWVudDpuLHR5cGU6ZSx2YWx1ZTp0fSxzLGkscil7Y29uc3R7YmxvY2tRdW90ZTpvLGNvbW1lbnRTdHJpbmc6YSxsaW5lV2lkdGg6bH09cy5vcHRpb25zO2lmKCFvfHwvXG5bXHQgXSskLy50ZXN0KHQpfHwvXlxzKiQvLnRlc3QodCkpcmV0dXJuIGZuKHQscyk7Y29uc3QgdT1zLmluZGVudHx8KHMuZm9yY2VCbG9ja0luZGVudHx8dHIodCk/IiAgIjoiIiksaD1vPT09ImxpdGVyYWwiPyEwOm89PT0iZm9sZGVkInx8ZT09PUIuQkxPQ0tfRk9MREVEPyExOmU9PT1CLkJMT0NLX0xJVEVSQUw/ITA6IWtnKHQsbCx1Lmxlbmd0aCk7aWYoIXQpcmV0dXJuIGg/YHwKYDpgPgpgO2xldCBjLG07Zm9yKG09dC5sZW5ndGg7bT4wOy0tbSl7Y29uc3QgTz10W20tMV07aWYoTyE9PWAKYCYmTyE9PSIJIiYmTyE9PSIgIilicmVha31sZXQgZj10LnN1YnN0cmluZyhtKTtjb25zdCBnPWYuaW5kZXhPZihgCmApO2c9PT0tMT9jPSItIjp0PT09Znx8ZyE9PWYubGVuZ3RoLTE/KGM9IisiLHImJnIoKSk6Yz0iIixmJiYodD10LnNsaWNlKDAsLWYubGVuZ3RoKSxmW2YubGVuZ3RoLTFdPT09YApgJiYoZj1mLnNsaWNlKDAsLTEpKSxmPWYucmVwbGFjZShCbyxgJCYke3V9YCkpO2xldCBkPSExLHksdz0tMTtmb3IoeT0wO3k8dC5sZW5ndGg7Kyt5KXtjb25zdCBPPXRbeV07aWYoTz09PSIgIilkPSEwO2Vsc2UgaWYoTz09PWAKYCl3PXk7ZWxzZSBicmVha31sZXQgYj10LnN1YnN0cmluZygwLHc8eT93KzE6eSk7YiYmKHQ9dC5zdWJzdHJpbmcoYi5sZW5ndGgpLGI9Yi5yZXBsYWNlKC9cbisvZyxgJCYke3V9YCkpO2xldCBTPShkP3U/IjIiOiIxIjoiIikrYztpZihuJiYoUys9IiAiK2Eobi5yZXBsYWNlKC8gP1tcclxuXSsvZywiICIpKSxpJiZpKCkpLCFoKXtjb25zdCBPPXQucmVwbGFjZSgvXG4rL2csYAokJmApLnJlcGxhY2UoLyg/Ol58XG4pKFtcdCBdLiopKD86KFtcblx0IF0qKVxuKD8hW1xuXHQgXSkpPy9nLCIkMSQyIikucmVwbGFjZSgvXG4rL2csYCQmJHt1fWApO2xldCB2PSExO2NvbnN0IEg9ZXIocywhMCk7byE9PSJmb2xkZWQiJiZlIT09Qi5CTE9DS19GT0xERUQmJihILm9uT3ZlcmZsb3c9KCk9Pnt2PSEwfSk7Y29uc3QgXz1RaShgJHtifSR7T30ke2Z9YCx1LFBvLEgpO2lmKCF2KXJldHVybmA+JHtTfQoke3V9JHtffWB9cmV0dXJuIHQ9dC5yZXBsYWNlKC9cbisvZyxgJCYke3V9YCksYHwke1N9CiR7dX0ke2J9JHt0fSR7Zn1gfWZ1bmN0aW9uIEVnKG4sZSx0LHMpe2NvbnN0e3R5cGU6aSx2YWx1ZTpyfT1uLHthY3R1YWxTdHJpbmc6byxpbXBsaWNpdEtleTphLGluZGVudDpsLGluZGVudFN0ZXA6dSxpbkZsb3c6aH09ZTtpZihhJiZyLmluY2x1ZGVzKGAKYCl8fGgmJi9bW1xde30sXS8udGVzdChyKSlyZXR1cm4gZm4ocixlKTtpZigvXltcblx0ICxbXF17fSMmKiF8PiciJUBgXXxeWz8tXSR8Xls/LV1bIFx0XXxbXG46XVsgXHRdfFsgXHRdXG58W1xuXHQgXSN8W1xuXHQgOl0kLy50ZXN0KHIpKXJldHVybiBhfHxofHwhci5pbmNsdWRlcyhgCmApP2ZuKHIsZSk6c3IobixlLHQscyk7aWYoIWEmJiFoJiZpIT09Qi5QTEFJTiYmci5pbmNsdWRlcyhgCmApKXJldHVybiBzcihuLGUsdCxzKTtpZih0cihyKSl7aWYobD09PSIiKXJldHVybiBlLmZvcmNlQmxvY2tJbmRlbnQ9ITAsc3IobixlLHQscyk7aWYoYSYmbD09PXUpcmV0dXJuIGZuKHIsZSl9Y29uc3QgYz1yLnJlcGxhY2UoL1xuKy9nLGAkJgoke2x9YCk7aWYobyl7Y29uc3QgbT1kPT57dmFyIHk7cmV0dXJuIGQuZGVmYXVsdCYmZC50YWchPT0idGFnOnlhbWwub3JnLDIwMDI6c3RyIiYmKCh5PWQudGVzdCk9PW51bGw/dm9pZCAwOnkudGVzdChjKSl9LHtjb21wYXQ6Zix0YWdzOmd9PWUuZG9jLnNjaGVtYTtpZihnLnNvbWUobSl8fGYhPW51bGwmJmYuc29tZShtKSlyZXR1cm4gZm4ocixlKX1yZXR1cm4gYT9jOlFpKGMsbCxoYyxlcihlLCExKSl9ZnVuY3Rpb24gV28obixlLHQscyl7Y29uc3R7aW1wbGljaXRLZXk6aSxpbkZsb3c6cn09ZSxvPXR5cGVvZiBuLnZhbHVlPT0ic3RyaW5nIj9uOk9iamVjdC5hc3NpZ24oe30sbix7dmFsdWU6U3RyaW5nKG4udmFsdWUpfSk7bGV0e3R5cGU6YX09bjthIT09Qi5RVU9URV9ET1VCTEUmJi9bXHgwMC1ceDA4XHgwYi1ceDFmXHg3Zi1ceDlmXHV7RDgwMH0tXHV7REZGRn1dL3UudGVzdChvLnZhbHVlKSYmKGE9Qi5RVU9URV9ET1VCTEUpO2NvbnN0IGw9aD0+e3N3aXRjaChoKXtjYXNlIEIuQkxPQ0tfRk9MREVEOmNhc2UgQi5CTE9DS19MSVRFUkFMOnJldHVybiBpfHxyP2ZuKG8udmFsdWUsZSk6c3IobyxlLHQscyk7Y2FzZSBCLlFVT1RFX0RPVUJMRTpyZXR1cm4gdGkoby52YWx1ZSxlKTtjYXNlIEIuUVVPVEVfU0lOR0xFOnJldHVybiAkbyhvLnZhbHVlLGUpO2Nhc2UgQi5QTEFJTjpyZXR1cm4gRWcobyxlLHQscyk7ZGVmYXVsdDpyZXR1cm4gbnVsbH19O2xldCB1PWwoYSk7aWYodT09PW51bGwpe2NvbnN0e2RlZmF1bHRLZXlUeXBlOmgsZGVmYXVsdFN0cmluZ1R5cGU6Y309ZS5vcHRpb25zLG09aSYmaHx8YztpZih1PWwobSksdT09PW51bGwpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBkZWZhdWx0IHN0cmluZyB0eXBlICR7bX1gKX1yZXR1cm4gdX1mdW5jdGlvbiBkYyhuLGUpe2NvbnN0IHQ9T2JqZWN0LmFzc2lnbih7YmxvY2tRdW90ZTohMCxjb21tZW50U3RyaW5nOlRnLGRlZmF1bHRLZXlUeXBlOm51bGwsZGVmYXVsdFN0cmluZ1R5cGU6IlBMQUlOIixkaXJlY3RpdmVzOm51bGwsZG91YmxlUXVvdGVkQXNKU09OOiExLGRvdWJsZVF1b3RlZE1pbk11bHRpTGluZUxlbmd0aDo0MCxmYWxzZVN0cjoiZmFsc2UiLGZsb3dDb2xsZWN0aW9uUGFkZGluZzohMCxpbmRlbnRTZXE6ITAsbGluZVdpZHRoOjgwLG1pbkNvbnRlbnRXaWR0aDoyMCxudWxsU3RyOiJudWxsIixzaW1wbGVLZXlzOiExLHNpbmdsZVF1b3RlOm51bGwsdHJ1ZVN0cjoidHJ1ZSIsdmVyaWZ5QWxpYXNPcmRlcjohMH0sbi5zY2hlbWEudG9TdHJpbmdPcHRpb25zLGUpO2xldCBzO3N3aXRjaCh0LmNvbGxlY3Rpb25TdHlsZSl7Y2FzZSJibG9jayI6cz0hMTticmVhaztjYXNlImZsb3ciOnM9ITA7YnJlYWs7ZGVmYXVsdDpzPW51bGx9cmV0dXJue2FuY2hvcnM6bmV3IFNldCxkb2M6bixmbG93Q29sbGVjdGlvblBhZGRpbmc6dC5mbG93Q29sbGVjdGlvblBhZGRpbmc/IiAiOiIiLGluZGVudDoiIixpbmRlbnRTdGVwOnR5cGVvZiB0LmluZGVudD09Im51bWJlciI/IiAiLnJlcGVhdCh0LmluZGVudCk6IiAgIixpbkZsb3c6cyxvcHRpb25zOnR9fWZ1bmN0aW9uIFNnKG4sZSl7dmFyIGk7aWYoZS50YWcpe2NvbnN0IHI9bi5maWx0ZXIobz0+by50YWc9PT1lLnRhZyk7aWYoci5sZW5ndGg+MClyZXR1cm4gci5maW5kKG89Pm8uZm9ybWF0PT09ZS5mb3JtYXQpPz9yWzBdfWxldCB0LHM7aWYob2UoZSkpe3M9ZS52YWx1ZTtsZXQgcj1uLmZpbHRlcihvPT57dmFyIGE7cmV0dXJuKGE9by5pZGVudGlmeSk9PW51bGw/dm9pZCAwOmEuY2FsbChvLHMpfSk7aWYoci5sZW5ndGg+MSl7Y29uc3Qgbz1yLmZpbHRlcihhPT5hLnRlc3QpO28ubGVuZ3RoPjAmJihyPW8pfXQ9ci5maW5kKG89Pm8uZm9ybWF0PT09ZS5mb3JtYXQpPz9yLmZpbmQobz0+IW8uZm9ybWF0KX1lbHNlIHM9ZSx0PW4uZmluZChyPT5yLm5vZGVDbGFzcyYmcyBpbnN0YW5jZW9mIHIubm9kZUNsYXNzKTtpZighdCl7Y29uc3Qgcj0oKGk9cz09bnVsbD92b2lkIDA6cy5jb25zdHJ1Y3Rvcik9PW51bGw/dm9pZCAwOmkubmFtZSk/PyhzPT09bnVsbD8ibnVsbCI6dHlwZW9mIHMpO3Rocm93IG5ldyBFcnJvcihgVGFnIG5vdCByZXNvbHZlZCBmb3IgJHtyfSB2YWx1ZWApfXJldHVybiB0fWZ1bmN0aW9uIE9nKG4sZSx7YW5jaG9yczp0LGRvYzpzfSl7aWYoIXMuZGlyZWN0aXZlcylyZXR1cm4iIjtjb25zdCBpPVtdLHI9KG9lKG4pfHxnZShuKSkmJm4uYW5jaG9yO3ImJm9jKHIpJiYodC5hZGQociksaS5wdXNoKGAmJHtyfWApKTtjb25zdCBvPW4udGFnPz8oZS5kZWZhdWx0P251bGw6ZS50YWcpO3JldHVybiBvJiZpLnB1c2gocy5kaXJlY3RpdmVzLnRhZ1N0cmluZyhvKSksaS5qb2luKCIgIil9ZnVuY3Rpb24gZG4obixlLHQscyl7dmFyIGw7aWYocGUobikpcmV0dXJuIG4udG9TdHJpbmcoZSx0LHMpO2lmKElzKG4pKXtpZihlLmRvYy5kaXJlY3RpdmVzKXJldHVybiBuLnRvU3RyaW5nKGUpO2lmKChsPWUucmVzb2x2ZWRBbGlhc2VzKSE9bnVsbCYmbC5oYXMobikpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHN0cmluZ2lmeSBjaXJjdWxhciBzdHJ1Y3R1cmUgd2l0aG91dCBhbGlhcyBub2RlcyIpO2UucmVzb2x2ZWRBbGlhc2VzP2UucmVzb2x2ZWRBbGlhc2VzLmFkZChuKTplLnJlc29sdmVkQWxpYXNlcz1uZXcgU2V0KFtuXSksbj1uLnJlc29sdmUoZS5kb2MpfWxldCBpO2NvbnN0IHI9d2Uobik/bjplLmRvYy5jcmVhdGVOb2RlKG4se29uVGFnT2JqOnU9Pmk9dX0pO2k/PyhpPVNnKGUuZG9jLnNjaGVtYS50YWdzLHIpKTtjb25zdCBvPU9nKHIsaSxlKTtvLmxlbmd0aD4wJiYoZS5pbmRlbnRBdFN0YXJ0PShlLmluZGVudEF0U3RhcnQ/PzApK28ubGVuZ3RoKzEpO2NvbnN0IGE9dHlwZW9mIGkuc3RyaW5naWZ5PT0iZnVuY3Rpb24iP2kuc3RyaW5naWZ5KHIsZSx0LHMpOm9lKHIpP1dvKHIsZSx0LHMpOnIudG9TdHJpbmcoZSx0LHMpO3JldHVybiBvP29lKHIpfHxhWzBdPT09InsifHxhWzBdPT09IlsiP2Ake299ICR7YX1gOmAke299CiR7ZS5pbmRlbnR9JHthfWA6YX1mdW5jdGlvbiBJZyh7a2V5Om4sdmFsdWU6ZX0sdCxzLGkpe2NvbnN0e2FsbE51bGxWYWx1ZXM6cixkb2M6byxpbmRlbnQ6YSxpbmRlbnRTdGVwOmwsb3B0aW9uczp7Y29tbWVudFN0cmluZzp1LGluZGVudFNlcTpoLHNpbXBsZUtleXM6Y319PXQ7bGV0IG09d2UobikmJm4uY29tbWVudHx8bnVsbDtpZihjKXtpZihtKXRocm93IG5ldyBFcnJvcigiV2l0aCBzaW1wbGUga2V5cywga2V5IG5vZGVzIGNhbm5vdCBoYXZlIGNvbW1lbnRzIik7aWYoZ2Uobil8fCF3ZShuKSYmdHlwZW9mIG49PSJvYmplY3QiKXtjb25zdCBIPSJXaXRoIHNpbXBsZSBrZXlzLCBjb2xsZWN0aW9uIGNhbm5vdCBiZSB1c2VkIGFzIGEga2V5IHZhbHVlIjt0aHJvdyBuZXcgRXJyb3IoSCl9fWxldCBmPSFjJiYoIW58fG0mJmU9PW51bGwmJiF0LmluRmxvd3x8Z2Uobil8fChvZShuKT9uLnR5cGU9PT1CLkJMT0NLX0ZPTERFRHx8bi50eXBlPT09Qi5CTE9DS19MSVRFUkFMOnR5cGVvZiBuPT0ib2JqZWN0IikpO3Q9T2JqZWN0LmFzc2lnbih7fSx0LHthbGxOdWxsVmFsdWVzOiExLGltcGxpY2l0S2V5OiFmJiYoY3x8IXIpLGluZGVudDphK2x9KTtsZXQgZz0hMSxkPSExLHk9ZG4obix0LCgpPT5nPSEwLCgpPT5kPSEwKTtpZighZiYmIXQuaW5GbG93JiZ5Lmxlbmd0aD4xMDI0KXtpZihjKXRocm93IG5ldyBFcnJvcigiV2l0aCBzaW1wbGUga2V5cywgc2luZ2xlIGxpbmUgc2NhbGFyIG11c3Qgbm90IHNwYW4gbW9yZSB0aGFuIDEwMjQgY2hhcmFjdGVycyIpO2Y9ITB9aWYodC5pbkZsb3cpe2lmKHJ8fGU9PW51bGwpcmV0dXJuIGcmJnMmJnMoKSx5PT09IiI/Ij8iOmY/YD8gJHt5fWA6eX1lbHNlIGlmKHImJiFjfHxlPT1udWxsJiZmKXJldHVybiB5PWA/ICR7eX1gLG0mJiFnP3krPU1zKHksdC5pbmRlbnQsdShtKSk6ZCYmaSYmaSgpLHk7ZyYmKG09bnVsbCksZj8obSYmKHkrPU1zKHksdC5pbmRlbnQsdShtKSkpLHk9YD8gJHt5fQoke2F9OmApOih5PWAke3l9OmAsbSYmKHkrPU1zKHksdC5pbmRlbnQsdShtKSkpKTtsZXQgdyxiLGs7d2UoZSk/KHc9ISFlLnNwYWNlQmVmb3JlLGI9ZS5jb21tZW50QmVmb3JlLGs9ZS5jb21tZW50KToodz0hMSxiPW51bGwsaz1udWxsLGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9by5jcmVhdGVOb2RlKGUpKSksdC5pbXBsaWNpdEtleT0hMSwhZiYmIW0mJm9lKGUpJiYodC5pbmRlbnRBdFN0YXJ0PXkubGVuZ3RoKzEpLGQ9ITEsIWgmJmwubGVuZ3RoPj0yJiYhdC5pbkZsb3cmJiFmJiZKbihlKSYmIWUuZmxvdyYmIWUudGFnJiYhZS5hbmNob3ImJih0LmluZGVudD10LmluZGVudC5zdWJzdHJpbmcoMikpO2xldCBTPSExO2NvbnN0IE89ZG4oZSx0LCgpPT5TPSEwLCgpPT5kPSEwKTtsZXQgdj0iICI7aWYobXx8d3x8Yil7aWYodj13P2AKYDoiIixiKXtjb25zdCBIPXUoYik7dis9YAoke1d0KEgsdC5pbmRlbnQpfWB9Tz09PSIiJiYhdC5pbkZsb3c/dj09PWAKYCYmKHY9YAoKYCk6dis9YAoke3QuaW5kZW50fWB9ZWxzZSBpZighZiYmZ2UoZSkpe2NvbnN0IEg9T1swXSxfPU8uaW5kZXhPZihgCmApLFk9XyE9PS0xLFI9dC5pbkZsb3c/P2UuZmxvdz8/ZS5pdGVtcy5sZW5ndGg9PT0wO2lmKFl8fCFSKXtsZXQgVj0hMTtpZihZJiYoSD09PSImInx8SD09PSIhIikpe2xldCBaPU8uaW5kZXhPZigiICIpO0g9PT0iJiImJlohPT0tMSYmWjxfJiZPW1orMV09PT0iISImJihaPU8uaW5kZXhPZigiICIsWisxKSksKFo9PT0tMXx8XzxaKSYmKFY9ITApfVZ8fCh2PWAKJHt0LmluZGVudH1gKX19ZWxzZShPPT09IiJ8fE9bMF09PT1gCmApJiYodj0iIik7cmV0dXJuIHkrPXYrTyx0LmluRmxvdz9TJiZzJiZzKCk6ayYmIVM/eSs9TXMoeSx0LmluZGVudCx1KGspKTpkJiZpJiZpKCkseX1mdW5jdGlvbiBtYyhuLGUpeyhuPT09ImRlYnVnInx8bj09PSJ3YXJuIikmJmNvbnNvbGUud2FybihlKX1jb25zdCBucj0iPDwiLEh0PXtpZGVudGlmeTpuPT5uPT09bnJ8fHR5cGVvZiBuPT0ic3ltYm9sIiYmbi5kZXNjcmlwdGlvbj09PW5yLGRlZmF1bHQ6ImtleSIsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjptZXJnZSIsdGVzdDovXjw8JC8scmVzb2x2ZTooKT0+T2JqZWN0LmFzc2lnbihuZXcgQihTeW1ib2wobnIpKSx7YWRkVG9KU01hcDp5Y30pLHN0cmluZ2lmeTooKT0+bnJ9LERnPShuLGUpPT4oSHQuaWRlbnRpZnkoZSl8fG9lKGUpJiYoIWUudHlwZXx8ZS50eXBlPT09Qi5QTEFJTikmJkh0LmlkZW50aWZ5KGUudmFsdWUpKSYmKG49PW51bGw/dm9pZCAwOm4uZG9jLnNjaGVtYS50YWdzLnNvbWUodD0+dC50YWc9PT1IdC50YWcmJnQuZGVmYXVsdCkpO2Z1bmN0aW9uIHljKG4sZSx0KXtpZih0PW4mJklzKHQpP3QucmVzb2x2ZShuLmRvYyk6dCxKbih0KSlmb3IoY29uc3QgcyBvZiB0Lml0ZW1zKUhvKG4sZSxzKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkodCkpZm9yKGNvbnN0IHMgb2YgdClIbyhuLGUscyk7ZWxzZSBIbyhuLGUsdCl9ZnVuY3Rpb24gSG8obixlLHQpe2NvbnN0IHM9biYmSXModCk/dC5yZXNvbHZlKG4uZG9jKTp0O2lmKCFHbihzKSl0aHJvdyBuZXcgRXJyb3IoIk1lcmdlIHNvdXJjZXMgbXVzdCBiZSBtYXBzIG9yIG1hcCBhbGlhc2VzIik7Y29uc3QgaT1zLnRvSlNPTihudWxsLG4sTWFwKTtmb3IoY29uc3RbcixvXW9mIGkpZSBpbnN0YW5jZW9mIE1hcD9lLmhhcyhyKXx8ZS5zZXQocixvKTplIGluc3RhbmNlb2YgU2V0P2UuYWRkKHIpOk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTpvLHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSk7cmV0dXJuIGV9ZnVuY3Rpb24gcGMobixlLHtrZXk6dCx2YWx1ZTpzfSl7aWYod2UodCkmJnQuYWRkVG9KU01hcCl0LmFkZFRvSlNNYXAobixlLHMpO2Vsc2UgaWYoRGcobix0KSl5YyhuLGUscyk7ZWxzZXtjb25zdCBpPWh0KHQsIiIsbik7aWYoZSBpbnN0YW5jZW9mIE1hcCllLnNldChpLGh0KHMsaSxuKSk7ZWxzZSBpZihlIGluc3RhbmNlb2YgU2V0KWUuYWRkKGkpO2Vsc2V7Y29uc3Qgcj1NZyh0LGksbiksbz1odChzLHIsbik7ciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOm8sd3JpdGFibGU6ITAsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KTplW3JdPW99fXJldHVybiBlfWZ1bmN0aW9uIE1nKG4sZSx0KXtpZihlPT09bnVsbClyZXR1cm4iIjtpZih0eXBlb2YgZSE9Im9iamVjdCIpcmV0dXJuIFN0cmluZyhlKTtpZih3ZShuKSYmKHQhPW51bGwmJnQuZG9jKSl7Y29uc3Qgcz1kYyh0LmRvYyx7fSk7cy5hbmNob3JzPW5ldyBTZXQ7Zm9yKGNvbnN0IHIgb2YgdC5hbmNob3JzLmtleXMoKSlzLmFuY2hvcnMuYWRkKHIuYW5jaG9yKTtzLmluRmxvdz0hMCxzLmluU3RyaW5naWZ5S2V5PSEwO2NvbnN0IGk9bi50b1N0cmluZyhzKTtpZighdC5tYXBLZXlXYXJuZWQpe2xldCByPUpTT04uc3RyaW5naWZ5KGkpO3IubGVuZ3RoPjQwJiYocj1yLnN1YnN0cmluZygwLDM2KSsnLi4uIicpLG1jKHQuZG9jLm9wdGlvbnMubG9nTGV2ZWwsYEtleXMgd2l0aCBjb2xsZWN0aW9uIHZhbHVlcyB3aWxsIGJlIHN0cmluZ2lmaWVkIGR1ZSB0byBKUyBPYmplY3QgcmVzdHJpY3Rpb25zOiAke3J9LiBTZXQgbWFwQXNNYXA6IHRydWUgdG8gdXNlIG9iamVjdCBrZXlzLmApLHQubWFwS2V5V2FybmVkPSEwfXJldHVybiBpfXJldHVybiBKU09OLnN0cmluZ2lmeShlKX1mdW5jdGlvbiBWbyhuLGUsdCl7Y29uc3Qgcz1RbihuLHZvaWQgMCx0KSxpPVFuKGUsdm9pZCAwLHQpO3JldHVybiBuZXcgV2UocyxpKX1jbGFzcyBXZXtjb25zdHJ1Y3RvcihlLHQ9bnVsbCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsY3Qse3ZhbHVlOmljfSksdGhpcy5rZXk9ZSx0aGlzLnZhbHVlPXR9Y2xvbmUoZSl7bGV0e2tleTp0LHZhbHVlOnN9PXRoaXM7cmV0dXJuIHdlKHQpJiYodD10LmNsb25lKGUpKSx3ZShzKSYmKHM9cy5jbG9uZShlKSksbmV3IFdlKHQscyl9dG9KU09OKGUsdCl7Y29uc3Qgcz10IT1udWxsJiZ0Lm1hcEFzTWFwP25ldyBNYXA6e307cmV0dXJuIHBjKHQscyx0aGlzKX10b1N0cmluZyhlLHQscyl7cmV0dXJuIGUhPW51bGwmJmUuZG9jP0lnKHRoaXMsZSx0LHMpOkpTT04uc3RyaW5naWZ5KHRoaXMpfX1mdW5jdGlvbiBnYyhuLGUsdCl7cmV0dXJuKGUuaW5GbG93Pz9uLmZsb3c/Tmc6X2cpKG4sZSx0KX1mdW5jdGlvbiBfZyh7Y29tbWVudDpuLGl0ZW1zOmV9LHQse2Jsb2NrSXRlbVByZWZpeDpzLGZsb3dDaGFyczppLGl0ZW1JbmRlbnQ6cixvbkNob21wS2VlcDpvLG9uQ29tbWVudDphfSl7Y29uc3R7aW5kZW50Omwsb3B0aW9uczp7Y29tbWVudFN0cmluZzp1fX09dCxoPU9iamVjdC5hc3NpZ24oe30sdCx7aW5kZW50OnIsdHlwZTpudWxsfSk7bGV0IGM9ITE7Y29uc3QgbT1bXTtmb3IobGV0IGc9MDtnPGUubGVuZ3RoOysrZyl7Y29uc3QgZD1lW2ddO2xldCB5PW51bGw7aWYod2UoZCkpIWMmJmQuc3BhY2VCZWZvcmUmJm0ucHVzaCgiIiksaXIodCxtLGQuY29tbWVudEJlZm9yZSxjKSxkLmNvbW1lbnQmJih5PWQuY29tbWVudCk7ZWxzZSBpZihwZShkKSl7Y29uc3QgYj13ZShkLmtleSk/ZC5rZXk6bnVsbDtiJiYoIWMmJmIuc3BhY2VCZWZvcmUmJm0ucHVzaCgiIiksaXIodCxtLGIuY29tbWVudEJlZm9yZSxjKSl9Yz0hMTtsZXQgdz1kbihkLGgsKCk9Pnk9bnVsbCwoKT0+Yz0hMCk7eSYmKHcrPU1zKHcscix1KHkpKSksYyYmeSYmKGM9ITEpLG0ucHVzaChzK3cpfWxldCBmO2lmKG0ubGVuZ3RoPT09MClmPWkuc3RhcnQraS5lbmQ7ZWxzZXtmPW1bMF07Zm9yKGxldCBnPTE7ZzxtLmxlbmd0aDsrK2cpe2NvbnN0IGQ9bVtnXTtmKz1kP2AKJHtsfSR7ZH1gOmAKYH19cmV0dXJuIG4/KGYrPWAKYCtXdCh1KG4pLGwpLGEmJmEoKSk6YyYmbyYmbygpLGZ9ZnVuY3Rpb24gTmcoe2l0ZW1zOm59LGUse2Zsb3dDaGFyczp0LGl0ZW1JbmRlbnQ6c30pe2NvbnN0e2luZGVudDppLGluZGVudFN0ZXA6cixmbG93Q29sbGVjdGlvblBhZGRpbmc6byxvcHRpb25zOntjb21tZW50U3RyaW5nOmF9fT1lO3MrPXI7Y29uc3QgbD1PYmplY3QuYXNzaWduKHt9LGUse2luZGVudDpzLGluRmxvdzohMCx0eXBlOm51bGx9KTtsZXQgdT0hMSxoPTA7Y29uc3QgYz1bXTtmb3IobGV0IGc9MDtnPG4ubGVuZ3RoOysrZyl7Y29uc3QgZD1uW2ddO2xldCB5PW51bGw7aWYod2UoZCkpZC5zcGFjZUJlZm9yZSYmYy5wdXNoKCIiKSxpcihlLGMsZC5jb21tZW50QmVmb3JlLCExKSxkLmNvbW1lbnQmJih5PWQuY29tbWVudCk7ZWxzZSBpZihwZShkKSl7Y29uc3QgYj13ZShkLmtleSk/ZC5rZXk6bnVsbDtiJiYoYi5zcGFjZUJlZm9yZSYmYy5wdXNoKCIiKSxpcihlLGMsYi5jb21tZW50QmVmb3JlLCExKSxiLmNvbW1lbnQmJih1PSEwKSk7Y29uc3Qgaz13ZShkLnZhbHVlKT9kLnZhbHVlOm51bGw7az8oay5jb21tZW50JiYoeT1rLmNvbW1lbnQpLGsuY29tbWVudEJlZm9yZSYmKHU9ITApKTpkLnZhbHVlPT1udWxsJiYoYiE9bnVsbCYmYi5jb21tZW50KSYmKHk9Yi5jb21tZW50KX15JiYodT0hMCk7bGV0IHc9ZG4oZCxsLCgpPT55PW51bGwpO2c8bi5sZW5ndGgtMSYmKHcrPSIsIikseSYmKHcrPU1zKHcscyxhKHkpKSksIXUmJihjLmxlbmd0aD5ofHx3LmluY2x1ZGVzKGAKYCkpJiYodT0hMCksYy5wdXNoKHcpLGg9Yy5sZW5ndGh9Y29uc3R7c3RhcnQ6bSxlbmQ6Zn09dDtpZihjLmxlbmd0aD09PTApcmV0dXJuIG0rZjtpZighdSl7Y29uc3QgZz1jLnJlZHVjZSgoZCx5KT0+ZCt5Lmxlbmd0aCsyLDIpO3U9ZS5vcHRpb25zLmxpbmVXaWR0aD4wJiZnPmUub3B0aW9ucy5saW5lV2lkdGh9aWYodSl7bGV0IGc9bTtmb3IoY29uc3QgZCBvZiBjKWcrPWQ/YAoke3J9JHtpfSR7ZH1gOmAKYDtyZXR1cm5gJHtnfQoke2l9JHtmfWB9ZWxzZSByZXR1cm5gJHttfSR7b30ke2Muam9pbigiICIpfSR7b30ke2Z9YH1mdW5jdGlvbiBpcih7aW5kZW50Om4sb3B0aW9uczp7Y29tbWVudFN0cmluZzplfX0sdCxzLGkpe2lmKHMmJmkmJihzPXMucmVwbGFjZSgvXlxuKy8sIiIpKSxzKXtjb25zdCByPVd0KGUocyksbik7dC5wdXNoKHIudHJpbVN0YXJ0KCkpfX1mdW5jdGlvbiBfcyhuLGUpe2NvbnN0IHQ9b2UoZSk/ZS52YWx1ZTplO2Zvcihjb25zdCBzIG9mIG4paWYocGUocykmJihzLmtleT09PWV8fHMua2V5PT09dHx8b2Uocy5rZXkpJiZzLmtleS52YWx1ZT09PXQpKXJldHVybiBzfWNsYXNzIGZ0IGV4dGVuZHMgY2N7c3RhdGljIGdldCB0YWdOYW1lKCl7cmV0dXJuInRhZzp5YW1sLm9yZywyMDAyOm1hcCJ9Y29uc3RydWN0b3IoZSl7c3VwZXIodXMsZSksdGhpcy5pdGVtcz1bXX1zdGF0aWMgZnJvbShlLHQscyl7Y29uc3R7a2VlcFVuZGVmaW5lZDppLHJlcGxhY2VyOnJ9PXMsbz1uZXcgdGhpcyhlKSxhPShsLHUpPT57aWYodHlwZW9mIHI9PSJmdW5jdGlvbiIpdT1yLmNhbGwodCxsLHUpO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShyKSYmIXIuaW5jbHVkZXMobCkpcmV0dXJuOyh1IT09dm9pZCAwfHxpKSYmby5pdGVtcy5wdXNoKFZvKGwsdSxzKSl9O2lmKHQgaW5zdGFuY2VvZiBNYXApZm9yKGNvbnN0W2wsdV1vZiB0KWEobCx1KTtlbHNlIGlmKHQmJnR5cGVvZiB0PT0ib2JqZWN0Iilmb3IoY29uc3QgbCBvZiBPYmplY3Qua2V5cyh0KSlhKGwsdFtsXSk7cmV0dXJuIHR5cGVvZiBlLnNvcnRNYXBFbnRyaWVzPT0iZnVuY3Rpb24iJiZvLml0ZW1zLnNvcnQoZS5zb3J0TWFwRW50cmllcyksb31hZGQoZSx0KXt2YXIgbztsZXQgcztwZShlKT9zPWU6IWV8fHR5cGVvZiBlIT0ib2JqZWN0Inx8ISgia2V5ImluIGUpP3M9bmV3IFdlKGUsZT09bnVsbD92b2lkIDA6ZS52YWx1ZSk6cz1uZXcgV2UoZS5rZXksZS52YWx1ZSk7Y29uc3QgaT1fcyh0aGlzLml0ZW1zLHMua2V5KSxyPShvPXRoaXMuc2NoZW1hKT09bnVsbD92b2lkIDA6by5zb3J0TWFwRW50cmllcztpZihpKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoYEtleSAke3Mua2V5fSBhbHJlYWR5IHNldGApO29lKGkudmFsdWUpJiZ1YyhzLnZhbHVlKT9pLnZhbHVlLnZhbHVlPXMudmFsdWU6aS52YWx1ZT1zLnZhbHVlfWVsc2UgaWYocil7Y29uc3QgYT10aGlzLml0ZW1zLmZpbmRJbmRleChsPT5yKHMsbCk8MCk7YT09PS0xP3RoaXMuaXRlbXMucHVzaChzKTp0aGlzLml0ZW1zLnNwbGljZShhLDAscyl9ZWxzZSB0aGlzLml0ZW1zLnB1c2gocyl9ZGVsZXRlKGUpe2NvbnN0IHQ9X3ModGhpcy5pdGVtcyxlKTtyZXR1cm4gdD90aGlzLml0ZW1zLnNwbGljZSh0aGlzLml0ZW1zLmluZGV4T2YodCksMSkubGVuZ3RoPjA6ITF9Z2V0KGUsdCl7Y29uc3Qgcz1fcyh0aGlzLml0ZW1zLGUpLGk9cz09bnVsbD92b2lkIDA6cy52YWx1ZTtyZXR1cm4oIXQmJm9lKGkpP2kudmFsdWU6aSk/P3ZvaWQgMH1oYXMoZSl7cmV0dXJuISFfcyh0aGlzLml0ZW1zLGUpfXNldChlLHQpe3RoaXMuYWRkKG5ldyBXZShlLHQpLCEwKX10b0pTT04oZSx0LHMpe2NvbnN0IGk9cz9uZXcgczp0IT1udWxsJiZ0Lm1hcEFzTWFwP25ldyBNYXA6e307dCE9bnVsbCYmdC5vbkNyZWF0ZSYmdC5vbkNyZWF0ZShpKTtmb3IoY29uc3QgciBvZiB0aGlzLml0ZW1zKXBjKHQsaSxyKTtyZXR1cm4gaX10b1N0cmluZyhlLHQscyl7aWYoIWUpcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMpO2Zvcihjb25zdCBpIG9mIHRoaXMuaXRlbXMpaWYoIXBlKGkpKXRocm93IG5ldyBFcnJvcihgTWFwIGl0ZW1zIG11c3QgYWxsIGJlIHBhaXJzOyBmb3VuZCAke0pTT04uc3RyaW5naWZ5KGkpfSBpbnN0ZWFkYCk7cmV0dXJuIWUuYWxsTnVsbFZhbHVlcyYmdGhpcy5oYXNBbGxOdWxsVmFsdWVzKCExKSYmKGU9T2JqZWN0LmFzc2lnbih7fSxlLHthbGxOdWxsVmFsdWVzOiEwfSkpLGdjKHRoaXMsZSx7YmxvY2tJdGVtUHJlZml4OiIiLGZsb3dDaGFyczp7c3RhcnQ6InsiLGVuZDoifSJ9LGl0ZW1JbmRlbnQ6ZS5pbmRlbnR8fCIiLG9uQ2hvbXBLZWVwOnMsb25Db21tZW50OnR9KX19Y29uc3QgbW49e2NvbGxlY3Rpb246Im1hcCIsZGVmYXVsdDohMCxub2RlQ2xhc3M6ZnQsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjptYXAiLHJlc29sdmUobixlKXtyZXR1cm4gR24obil8fGUoIkV4cGVjdGVkIGEgbWFwcGluZyBmb3IgdGhpcyB0YWciKSxufSxjcmVhdGVOb2RlOihuLGUsdCk9PmZ0LmZyb20obixlLHQpfTtjbGFzcyBOcyBleHRlbmRzIGNje3N0YXRpYyBnZXQgdGFnTmFtZSgpe3JldHVybiJ0YWc6eWFtbC5vcmcsMjAwMjpzZXEifWNvbnN0cnVjdG9yKGUpe3N1cGVyKGxuLGUpLHRoaXMuaXRlbXM9W119YWRkKGUpe3RoaXMuaXRlbXMucHVzaChlKX1kZWxldGUoZSl7Y29uc3QgdD1ycihlKTtyZXR1cm4gdHlwZW9mIHQhPSJudW1iZXIiPyExOnRoaXMuaXRlbXMuc3BsaWNlKHQsMSkubGVuZ3RoPjB9Z2V0KGUsdCl7Y29uc3Qgcz1ycihlKTtpZih0eXBlb2YgcyE9Im51bWJlciIpcmV0dXJuO2NvbnN0IGk9dGhpcy5pdGVtc1tzXTtyZXR1cm4hdCYmb2UoaSk/aS52YWx1ZTppfWhhcyhlKXtjb25zdCB0PXJyKGUpO3JldHVybiB0eXBlb2YgdD09Im51bWJlciImJnQ8dGhpcy5pdGVtcy5sZW5ndGh9c2V0KGUsdCl7Y29uc3Qgcz1ycihlKTtpZih0eXBlb2YgcyE9Im51bWJlciIpdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhIHZhbGlkIGluZGV4LCBub3QgJHtlfS5gKTtjb25zdCBpPXRoaXMuaXRlbXNbc107b2UoaSkmJnVjKHQpP2kudmFsdWU9dDp0aGlzLml0ZW1zW3NdPXR9dG9KU09OKGUsdCl7Y29uc3Qgcz1bXTt0IT1udWxsJiZ0Lm9uQ3JlYXRlJiZ0Lm9uQ3JlYXRlKHMpO2xldCBpPTA7Zm9yKGNvbnN0IHIgb2YgdGhpcy5pdGVtcylzLnB1c2goaHQocixTdHJpbmcoaSsrKSx0KSk7cmV0dXJuIHN9dG9TdHJpbmcoZSx0LHMpe3JldHVybiBlP2djKHRoaXMsZSx7YmxvY2tJdGVtUHJlZml4OiItICIsZmxvd0NoYXJzOntzdGFydDoiWyIsZW5kOiJdIn0saXRlbUluZGVudDooZS5pbmRlbnR8fCIiKSsiICAiLG9uQ2hvbXBLZWVwOnMsb25Db21tZW50OnR9KTpKU09OLnN0cmluZ2lmeSh0aGlzKX1zdGF0aWMgZnJvbShlLHQscyl7Y29uc3R7cmVwbGFjZXI6aX09cyxyPW5ldyB0aGlzKGUpO2lmKHQmJlN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCkpe2xldCBvPTA7Zm9yKGxldCBhIG9mIHQpe2lmKHR5cGVvZiBpPT0iZnVuY3Rpb24iKXtjb25zdCBsPXQgaW5zdGFuY2VvZiBTZXQ/YTpTdHJpbmcobysrKTthPWkuY2FsbCh0LGwsYSl9ci5pdGVtcy5wdXNoKFFuKGEsdm9pZCAwLHMpKX19cmV0dXJuIHJ9fWZ1bmN0aW9uIHJyKG4pe2xldCBlPW9lKG4pP24udmFsdWU6bjtyZXR1cm4gZSYmdHlwZW9mIGU9PSJzdHJpbmciJiYoZT1OdW1iZXIoZSkpLHR5cGVvZiBlPT0ibnVtYmVyIiYmTnVtYmVyLmlzSW50ZWdlcihlKSYmZT49MD9lOm51bGx9Y29uc3QgeW49e2NvbGxlY3Rpb246InNlcSIsZGVmYXVsdDohMCxub2RlQ2xhc3M6TnMsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpzZXEiLHJlc29sdmUobixlKXtyZXR1cm4gSm4obil8fGUoIkV4cGVjdGVkIGEgc2VxdWVuY2UgZm9yIHRoaXMgdGFnIiksbn0sY3JlYXRlTm9kZToobixlLHQpPT5Ocy5mcm9tKG4sZSx0KX0sb3I9e2lkZW50aWZ5Om49PnR5cGVvZiBuPT0ic3RyaW5nIixkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6c3RyIixyZXNvbHZlOm49Pm4sc3RyaW5naWZ5KG4sZSx0LHMpe3JldHVybiBlPU9iamVjdC5hc3NpZ24oe2FjdHVhbFN0cmluZzohMH0sZSksV28obixlLHQscyl9fSxhcj17aWRlbnRpZnk6bj0+bj09bnVsbCxjcmVhdGVOb2RlOigpPT5uZXcgQihudWxsKSxkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6bnVsbCIsdGVzdDovXig/On58W05uXXVsbHxOVUxMKT8kLyxyZXNvbHZlOigpPT5uZXcgQihudWxsKSxzdHJpbmdpZnk6KHtzb3VyY2U6bn0sZSk9PnR5cGVvZiBuPT0ic3RyaW5nIiYmYXIudGVzdC50ZXN0KG4pP246ZS5vcHRpb25zLm51bGxTdHJ9LGpvPXtpZGVudGlmeTpuPT50eXBlb2Ygbj09ImJvb2xlYW4iLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpib29sIix0ZXN0Oi9eKD86W1R0XXJ1ZXxUUlVFfFtGZl1hbHNlfEZBTFNFKSQvLHJlc29sdmU6bj0+bmV3IEIoblswXT09PSJ0Inx8blswXT09PSJUIiksc3RyaW5naWZ5KHtzb3VyY2U6bix2YWx1ZTplfSx0KXtpZihuJiZqby50ZXN0LnRlc3Qobikpe2NvbnN0IHM9blswXT09PSJ0Inx8blswXT09PSJUIjtpZihlPT09cylyZXR1cm4gbn1yZXR1cm4gZT90Lm9wdGlvbnMudHJ1ZVN0cjp0Lm9wdGlvbnMuZmFsc2VTdHJ9fTtmdW5jdGlvbiBidCh7Zm9ybWF0Om4sbWluRnJhY3Rpb25EaWdpdHM6ZSx0YWc6dCx2YWx1ZTpzfSl7aWYodHlwZW9mIHM9PSJiaWdpbnQiKXJldHVybiBTdHJpbmcocyk7Y29uc3QgaT10eXBlb2Ygcz09Im51bWJlciI/czpOdW1iZXIocyk7aWYoIWlzRmluaXRlKGkpKXJldHVybiBpc05hTihpKT8iLm5hbiI6aTwwPyItLmluZiI6Ii5pbmYiO2xldCByPUpTT04uc3RyaW5naWZ5KHMpO2lmKCFuJiZlJiYoIXR8fHQ9PT0idGFnOnlhbWwub3JnLDIwMDI6ZmxvYXQiKSYmL15cZC8udGVzdChyKSl7bGV0IG89ci5pbmRleE9mKCIuIik7bzwwJiYobz1yLmxlbmd0aCxyKz0iLiIpO2xldCBhPWUtKHIubGVuZ3RoLW8tMSk7Zm9yKDthLS0gPjA7KXIrPSIwIn1yZXR1cm4gcn1jb25zdCB3Yz17aWRlbnRpZnk6bj0+dHlwZW9mIG49PSJudW1iZXIiLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpmbG9hdCIsdGVzdDovXig/OlstK10/XC4oPzppbmZ8SW5mfElORil8XC5uYW58XC5OYU58XC5OQU4pJC8scmVzb2x2ZTpuPT5uLnNsaWNlKC0zKS50b0xvd2VyQ2FzZSgpPT09Im5hbiI/TmFOOm5bMF09PT0iLSI/TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZOk51bWJlci5QT1NJVElWRV9JTkZJTklUWSxzdHJpbmdpZnk6YnR9LGJjPXtpZGVudGlmeTpuPT50eXBlb2Ygbj09Im51bWJlciIsZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmZsb2F0Iixmb3JtYXQ6IkVYUCIsdGVzdDovXlstK10/KD86XC5bMC05XSt8WzAtOV0rKD86XC5bMC05XSopPylbZUVdWy0rXT9bMC05XSskLyxyZXNvbHZlOm49PnBhcnNlRmxvYXQobiksc3RyaW5naWZ5KG4pe2NvbnN0IGU9TnVtYmVyKG4udmFsdWUpO3JldHVybiBpc0Zpbml0ZShlKT9lLnRvRXhwb25lbnRpYWwoKTpidChuKX19LFRjPXtpZGVudGlmeTpuPT50eXBlb2Ygbj09Im51bWJlciIsZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmZsb2F0Iix0ZXN0Oi9eWy0rXT8oPzpcLlswLTldK3xbMC05XStcLlswLTldKikkLyxyZXNvbHZlKG4pe2NvbnN0IGU9bmV3IEIocGFyc2VGbG9hdChuKSksdD1uLmluZGV4T2YoIi4iKTtyZXR1cm4gdCE9PS0xJiZuW24ubGVuZ3RoLTFdPT09IjAiJiYoZS5taW5GcmFjdGlvbkRpZ2l0cz1uLmxlbmd0aC10LTEpLGV9LHN0cmluZ2lmeTpidH0sbHI9bj0+dHlwZW9mIG49PSJiaWdpbnQifHxOdW1iZXIuaXNJbnRlZ2VyKG4pLHFvPShuLGUsdCx7aW50QXNCaWdJbnQ6c30pPT5zP0JpZ0ludChuKTpwYXJzZUludChuLnN1YnN0cmluZyhlKSx0KTtmdW5jdGlvbiBrYyhuLGUsdCl7Y29uc3R7dmFsdWU6c309bjtyZXR1cm4gbHIocykmJnM+PTA/dCtzLnRvU3RyaW5nKGUpOmJ0KG4pfWNvbnN0IEVjPXtpZGVudGlmeTpuPT5scihuKSYmbj49MCxkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6aW50Iixmb3JtYXQ6Ik9DVCIsdGVzdDovXjBvWzAtN10rJC8scmVzb2x2ZToobixlLHQpPT5xbyhuLDIsOCx0KSxzdHJpbmdpZnk6bj0+a2Mobiw4LCIwbyIpfSxTYz17aWRlbnRpZnk6bHIsZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmludCIsdGVzdDovXlstK10/WzAtOV0rJC8scmVzb2x2ZToobixlLHQpPT5xbyhuLDAsMTAsdCksc3RyaW5naWZ5OmJ0fSxPYz17aWRlbnRpZnk6bj0+bHIobikmJm4+PTAsZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmludCIsZm9ybWF0OiJIRVgiLHRlc3Q6L14weFswLTlhLWZBLUZdKyQvLHJlc29sdmU6KG4sZSx0KT0+cW8obiwyLDE2LHQpLHN0cmluZ2lmeTpuPT5rYyhuLDE2LCIweCIpfSx2Zz1bbW4seW4sb3IsYXIsam8sRWMsU2MsT2Msd2MsYmMsVGNdO2Z1bmN0aW9uIEljKG4pe3JldHVybiB0eXBlb2Ygbj09ImJpZ2ludCJ8fE51bWJlci5pc0ludGVnZXIobil9Y29uc3QgdXI9KHt2YWx1ZTpufSk9PkpTT04uc3RyaW5naWZ5KG4pLEFnPVt7aWRlbnRpZnk6bj0+dHlwZW9mIG49PSJzdHJpbmciLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpzdHIiLHJlc29sdmU6bj0+bixzdHJpbmdpZnk6dXJ9LHtpZGVudGlmeTpuPT5uPT1udWxsLGNyZWF0ZU5vZGU6KCk9Pm5ldyBCKG51bGwpLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpudWxsIix0ZXN0Oi9ebnVsbCQvLHJlc29sdmU6KCk9Pm51bGwsc3RyaW5naWZ5OnVyfSx7aWRlbnRpZnk6bj0+dHlwZW9mIG49PSJib29sZWFuIixkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6Ym9vbCIsdGVzdDovXnRydWUkfF5mYWxzZSQvLHJlc29sdmU6bj0+bj09PSJ0cnVlIixzdHJpbmdpZnk6dXJ9LHtpZGVudGlmeTpJYyxkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6aW50Iix0ZXN0Oi9eLT8oPzowfFsxLTldWzAtOV0qKSQvLHJlc29sdmU6KG4sZSx7aW50QXNCaWdJbnQ6dH0pPT50P0JpZ0ludChuKTpwYXJzZUludChuLDEwKSxzdHJpbmdpZnk6KHt2YWx1ZTpufSk9PkljKG4pP24udG9TdHJpbmcoKTpKU09OLnN0cmluZ2lmeShuKX0se2lkZW50aWZ5Om49PnR5cGVvZiBuPT0ibnVtYmVyIixkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6ZmxvYXQiLHRlc3Q6L14tPyg/OjB8WzEtOV1bMC05XSopKD86XC5bMC05XSopPyg/OltlRV1bLStdP1swLTldKyk/JC8scmVzb2x2ZTpuPT5wYXJzZUZsb2F0KG4pLHN0cmluZ2lmeTp1cn1dLENnPXtkZWZhdWx0OiEwLHRhZzoiIix0ZXN0Oi9eLyxyZXNvbHZlKG4sZSl7cmV0dXJuIGUoYFVucmVzb2x2ZWQgcGxhaW4gc2NhbGFyICR7SlNPTi5zdHJpbmdpZnkobil9YCksbn19LHhnPVttbix5bl0uY29uY2F0KEFnLENnKSxLbz17aWRlbnRpZnk6bj0+biBpbnN0YW5jZW9mIFVpbnQ4QXJyYXksZGVmYXVsdDohMSx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmJpbmFyeSIscmVzb2x2ZShuLGUpe2lmKHR5cGVvZiBhdG9iPT0iZnVuY3Rpb24iKXtjb25zdCB0PWF0b2Iobi5yZXBsYWNlKC9bXG5ccl0vZywiIikpLHM9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7KytpKXNbaV09dC5jaGFyQ29kZUF0KGkpO3JldHVybiBzfWVsc2UgcmV0dXJuIGUoIlRoaXMgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCByZWFkaW5nIGJpbmFyeSB0YWdzOyBlaXRoZXIgQnVmZmVyIG9yIGF0b2IgaXMgcmVxdWlyZWQiKSxufSxzdHJpbmdpZnkoe2NvbW1lbnQ6bix0eXBlOmUsdmFsdWU6dH0scyxpLHIpe2lmKCF0KXJldHVybiIiO2NvbnN0IG89dDtsZXQgYTtpZih0eXBlb2YgYnRvYT09ImZ1bmN0aW9uIil7bGV0IGw9IiI7Zm9yKGxldCB1PTA7dTxvLmxlbmd0aDsrK3UpbCs9U3RyaW5nLmZyb21DaGFyQ29kZShvW3VdKTthPWJ0b2EobCl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIlRoaXMgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCB3cml0aW5nIGJpbmFyeSB0YWdzOyBlaXRoZXIgQnVmZmVyIG9yIGJ0b2EgaXMgcmVxdWlyZWQiKTtpZihlPz8oZT1CLkJMT0NLX0xJVEVSQUwpLGUhPT1CLlFVT1RFX0RPVUJMRSl7Y29uc3QgbD1NYXRoLm1heChzLm9wdGlvbnMubGluZVdpZHRoLXMuaW5kZW50Lmxlbmd0aCxzLm9wdGlvbnMubWluQ29udGVudFdpZHRoKSx1PU1hdGguY2VpbChhLmxlbmd0aC9sKSxoPW5ldyBBcnJheSh1KTtmb3IobGV0IGM9MCxtPTA7Yzx1OysrYyxtKz1sKWhbY109YS5zdWJzdHIobSxsKTthPWguam9pbihlPT09Qi5CTE9DS19MSVRFUkFMP2AKYDoiICIpfXJldHVybiBXbyh7Y29tbWVudDpuLHR5cGU6ZSx2YWx1ZTphfSxzLGkscil9fTtmdW5jdGlvbiBEYyhuLGUpe2lmKEpuKG4pKWZvcihsZXQgdD0wO3Q8bi5pdGVtcy5sZW5ndGg7Kyt0KXtsZXQgcz1uLml0ZW1zW3RdO2lmKCFwZShzKSl7aWYoR24ocykpe3MuaXRlbXMubGVuZ3RoPjEmJmUoIkVhY2ggcGFpciBtdXN0IGhhdmUgaXRzIG93biBzZXF1ZW5jZSBpbmRpY2F0b3IiKTtjb25zdCBpPXMuaXRlbXNbMF18fG5ldyBXZShuZXcgQihudWxsKSk7aWYocy5jb21tZW50QmVmb3JlJiYoaS5rZXkuY29tbWVudEJlZm9yZT1pLmtleS5jb21tZW50QmVmb3JlP2Ake3MuY29tbWVudEJlZm9yZX0KJHtpLmtleS5jb21tZW50QmVmb3JlfWA6cy5jb21tZW50QmVmb3JlKSxzLmNvbW1lbnQpe2NvbnN0IHI9aS52YWx1ZT8/aS5rZXk7ci5jb21tZW50PXIuY29tbWVudD9gJHtzLmNvbW1lbnR9CiR7ci5jb21tZW50fWA6cy5jb21tZW50fXM9aX1uLml0ZW1zW3RdPXBlKHMpP3M6bmV3IFdlKHMpfX1lbHNlIGUoIkV4cGVjdGVkIGEgc2VxdWVuY2UgZm9yIHRoaXMgdGFnIik7cmV0dXJuIG59ZnVuY3Rpb24gTWMobixlLHQpe2NvbnN0e3JlcGxhY2VyOnN9PXQsaT1uZXcgTnMobik7aS50YWc9InRhZzp5YW1sLm9yZywyMDAyOnBhaXJzIjtsZXQgcj0wO2lmKGUmJlN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpZm9yKGxldCBvIG9mIGUpe3R5cGVvZiBzPT0iZnVuY3Rpb24iJiYobz1zLmNhbGwoZSxTdHJpbmcocisrKSxvKSk7bGV0IGEsbDtpZihBcnJheS5pc0FycmF5KG8pKWlmKG8ubGVuZ3RoPT09MilhPW9bMF0sbD1vWzFdO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgW2tleSwgdmFsdWVdIHR1cGxlOiAke299YCk7ZWxzZSBpZihvJiZvIGluc3RhbmNlb2YgT2JqZWN0KXtjb25zdCB1PU9iamVjdC5rZXlzKG8pO2lmKHUubGVuZ3RoPT09MSlhPXVbMF0sbD1vW2FdO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgdHVwbGUgd2l0aCBvbmUga2V5LCBub3QgJHt1Lmxlbmd0aH0ga2V5c2ApfWVsc2UgYT1vO2kuaXRlbXMucHVzaChWbyhhLGwsdCkpfXJldHVybiBpfWNvbnN0IFpvPXtjb2xsZWN0aW9uOiJzZXEiLGRlZmF1bHQ6ITEsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpwYWlycyIscmVzb2x2ZTpEYyxjcmVhdGVOb2RlOk1jfTtjbGFzcyBwbiBleHRlbmRzIE5ze2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmFkZD1mdC5wcm90b3R5cGUuYWRkLmJpbmQodGhpcyksdGhpcy5kZWxldGU9ZnQucHJvdG90eXBlLmRlbGV0ZS5iaW5kKHRoaXMpLHRoaXMuZ2V0PWZ0LnByb3RvdHlwZS5nZXQuYmluZCh0aGlzKSx0aGlzLmhhcz1mdC5wcm90b3R5cGUuaGFzLmJpbmQodGhpcyksdGhpcy5zZXQ9ZnQucHJvdG90eXBlLnNldC5iaW5kKHRoaXMpLHRoaXMudGFnPXBuLnRhZ310b0pTT04oZSx0KXtpZighdClyZXR1cm4gc3VwZXIudG9KU09OKGUpO2NvbnN0IHM9bmV3IE1hcDt0IT1udWxsJiZ0Lm9uQ3JlYXRlJiZ0Lm9uQ3JlYXRlKHMpO2Zvcihjb25zdCBpIG9mIHRoaXMuaXRlbXMpe2xldCByLG87aWYocGUoaSk/KHI9aHQoaS5rZXksIiIsdCksbz1odChpLnZhbHVlLHIsdCkpOnI9aHQoaSwiIix0KSxzLmhhcyhyKSl0aHJvdyBuZXcgRXJyb3IoIk9yZGVyZWQgbWFwcyBtdXN0IG5vdCBpbmNsdWRlIGR1cGxpY2F0ZSBrZXlzIik7cy5zZXQocixvKX1yZXR1cm4gc31zdGF0aWMgZnJvbShlLHQscyl7Y29uc3QgaT1NYyhlLHQscykscj1uZXcgdGhpcztyZXR1cm4gci5pdGVtcz1pLml0ZW1zLHJ9fXBuLnRhZz0idGFnOnlhbWwub3JnLDIwMDI6b21hcCI7Y29uc3QgR289e2NvbGxlY3Rpb246InNlcSIsaWRlbnRpZnk6bj0+biBpbnN0YW5jZW9mIE1hcCxub2RlQ2xhc3M6cG4sZGVmYXVsdDohMSx0YWc6InRhZzp5YW1sLm9yZywyMDAyOm9tYXAiLHJlc29sdmUobixlKXtjb25zdCB0PURjKG4sZSkscz1bXTtmb3IoY29uc3R7a2V5Oml9b2YgdC5pdGVtcylvZShpKSYmKHMuaW5jbHVkZXMoaS52YWx1ZSk/ZShgT3JkZXJlZCBtYXBzIG11c3Qgbm90IGluY2x1ZGUgZHVwbGljYXRlIGtleXM6ICR7aS52YWx1ZX1gKTpzLnB1c2goaS52YWx1ZSkpO3JldHVybiBPYmplY3QuYXNzaWduKG5ldyBwbix0KX0sY3JlYXRlTm9kZToobixlLHQpPT5wbi5mcm9tKG4sZSx0KX07ZnVuY3Rpb24gX2Moe3ZhbHVlOm4sc291cmNlOmV9LHQpe3JldHVybiBlJiYobj9OYzp2YykudGVzdC50ZXN0KGUpP2U6bj90Lm9wdGlvbnMudHJ1ZVN0cjp0Lm9wdGlvbnMuZmFsc2VTdHJ9Y29uc3QgTmM9e2lkZW50aWZ5Om49Pm49PT0hMCxkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6Ym9vbCIsdGVzdDovXig/Oll8eXxbWXldZXN8WUVTfFtUdF1ydWV8VFJVRXxbT29dbnxPTikkLyxyZXNvbHZlOigpPT5uZXcgQighMCksc3RyaW5naWZ5Ol9jfSx2Yz17aWRlbnRpZnk6bj0+bj09PSExLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpib29sIix0ZXN0Oi9eKD86TnxufFtObl1vfE5PfFtGZl1hbHNlfEZBTFNFfFtPb11mZnxPRkYpJC8scmVzb2x2ZTooKT0+bmV3IEIoITEpLHN0cmluZ2lmeTpfY30sTGc9e2lkZW50aWZ5Om49PnR5cGVvZiBuPT0ibnVtYmVyIixkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6ZmxvYXQiLHRlc3Q6L14oPzpbLStdP1wuKD86aW5mfEluZnxJTkYpfFwubmFufFwuTmFOfFwuTkFOKSQvLHJlc29sdmU6bj0+bi5zbGljZSgtMykudG9Mb3dlckNhc2UoKT09PSJuYW4iP05hTjpuWzBdPT09Ii0iP051bWJlci5ORUdBVElWRV9JTkZJTklUWTpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksc3RyaW5naWZ5OmJ0fSxZZz17aWRlbnRpZnk6bj0+dHlwZW9mIG49PSJudW1iZXIiLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpmbG9hdCIsZm9ybWF0OiJFWFAiLHRlc3Q6L15bLStdPyg/OlswLTldWzAtOV9dKik/KD86XC5bMC05X10qKT9bZUVdWy0rXT9bMC05XSskLyxyZXNvbHZlOm49PnBhcnNlRmxvYXQobi5yZXBsYWNlKC9fL2csIiIpKSxzdHJpbmdpZnkobil7Y29uc3QgZT1OdW1iZXIobi52YWx1ZSk7cmV0dXJuIGlzRmluaXRlKGUpP2UudG9FeHBvbmVudGlhbCgpOmJ0KG4pfX0sUmc9e2lkZW50aWZ5Om49PnR5cGVvZiBuPT0ibnVtYmVyIixkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6ZmxvYXQiLHRlc3Q6L15bLStdPyg/OlswLTldWzAtOV9dKik/XC5bMC05X10qJC8scmVzb2x2ZShuKXtjb25zdCBlPW5ldyBCKHBhcnNlRmxvYXQobi5yZXBsYWNlKC9fL2csIiIpKSksdD1uLmluZGV4T2YoIi4iKTtpZih0IT09LTEpe2NvbnN0IHM9bi5zdWJzdHJpbmcodCsxKS5yZXBsYWNlKC9fL2csIiIpO3Nbcy5sZW5ndGgtMV09PT0iMCImJihlLm1pbkZyYWN0aW9uRGlnaXRzPXMubGVuZ3RoKX1yZXR1cm4gZX0sc3RyaW5naWZ5OmJ0fSxzaT1uPT50eXBlb2Ygbj09ImJpZ2ludCJ8fE51bWJlci5pc0ludGVnZXIobik7ZnVuY3Rpb24gY3IobixlLHQse2ludEFzQmlnSW50OnN9KXtjb25zdCBpPW5bMF07aWYoKGk9PT0iLSJ8fGk9PT0iKyIpJiYoZSs9MSksbj1uLnN1YnN0cmluZyhlKS5yZXBsYWNlKC9fL2csIiIpLHMpe3N3aXRjaCh0KXtjYXNlIDI6bj1gMGIke259YDticmVhaztjYXNlIDg6bj1gMG8ke259YDticmVhaztjYXNlIDE2Om49YDB4JHtufWA7YnJlYWt9Y29uc3Qgbz1CaWdJbnQobik7cmV0dXJuIGk9PT0iLSI/QmlnSW50KC0xKSpvOm99Y29uc3Qgcj1wYXJzZUludChuLHQpO3JldHVybiBpPT09Ii0iPy0xKnI6cn1mdW5jdGlvbiBKbyhuLGUsdCl7Y29uc3R7dmFsdWU6c309bjtpZihzaShzKSl7Y29uc3QgaT1zLnRvU3RyaW5nKGUpO3JldHVybiBzPDA/Ii0iK3QraS5zdWJzdHIoMSk6dCtpfXJldHVybiBidChuKX1jb25zdCBVZz17aWRlbnRpZnk6c2ksZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmludCIsZm9ybWF0OiJCSU4iLHRlc3Q6L15bLStdPzBiWzAtMV9dKyQvLHJlc29sdmU6KG4sZSx0KT0+Y3IobiwyLDIsdCksc3RyaW5naWZ5Om49PkpvKG4sMiwiMGIiKX0sRmc9e2lkZW50aWZ5OnNpLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjppbnQiLGZvcm1hdDoiT0NUIix0ZXN0Oi9eWy0rXT8wWzAtN19dKyQvLHJlc29sdmU6KG4sZSx0KT0+Y3IobiwxLDgsdCksc3RyaW5naWZ5Om49PkpvKG4sOCwiMCIpfSx6Zz17aWRlbnRpZnk6c2ksZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmludCIsdGVzdDovXlstK10/WzAtOV1bMC05X10qJC8scmVzb2x2ZToobixlLHQpPT5jcihuLDAsMTAsdCksc3RyaW5naWZ5OmJ0fSxQZz17aWRlbnRpZnk6c2ksZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmludCIsZm9ybWF0OiJIRVgiLHRlc3Q6L15bLStdPzB4WzAtOWEtZkEtRl9dKyQvLHJlc29sdmU6KG4sZSx0KT0+Y3IobiwyLDE2LHQpLHN0cmluZ2lmeTpuPT5KbyhuLDE2LCIweCIpfTtjbGFzcyBnbiBleHRlbmRzIGZ0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudGFnPWduLnRhZ31hZGQoZSl7bGV0IHQ7cGUoZSk/dD1lOmUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmImtleSJpbiBlJiYidmFsdWUiaW4gZSYmZS52YWx1ZT09PW51bGw/dD1uZXcgV2UoZS5rZXksbnVsbCk6dD1uZXcgV2UoZSxudWxsKSxfcyh0aGlzLml0ZW1zLHQua2V5KXx8dGhpcy5pdGVtcy5wdXNoKHQpfWdldChlLHQpe2NvbnN0IHM9X3ModGhpcy5pdGVtcyxlKTtyZXR1cm4hdCYmcGUocyk/b2Uocy5rZXkpP3Mua2V5LnZhbHVlOnMua2V5OnN9c2V0KGUsdCl7aWYodHlwZW9mIHQhPSJib29sZWFuIil0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGJvb2xlYW4gdmFsdWUgZm9yIHNldChrZXksIHZhbHVlKSBpbiBhIFlBTUwgc2V0LCBub3QgJHt0eXBlb2YgdH1gKTtjb25zdCBzPV9zKHRoaXMuaXRlbXMsZSk7cyYmIXQ/dGhpcy5pdGVtcy5zcGxpY2UodGhpcy5pdGVtcy5pbmRleE9mKHMpLDEpOiFzJiZ0JiZ0aGlzLml0ZW1zLnB1c2gobmV3IFdlKGUpKX10b0pTT04oZSx0KXtyZXR1cm4gc3VwZXIudG9KU09OKGUsdCxTZXQpfXRvU3RyaW5nKGUsdCxzKXtpZighZSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcyk7aWYodGhpcy5oYXNBbGxOdWxsVmFsdWVzKCEwKSlyZXR1cm4gc3VwZXIudG9TdHJpbmcoT2JqZWN0LmFzc2lnbih7fSxlLHthbGxOdWxsVmFsdWVzOiEwfSksdCxzKTt0aHJvdyBuZXcgRXJyb3IoIlNldCBpdGVtcyBtdXN0IGFsbCBoYXZlIG51bGwgdmFsdWVzIil9c3RhdGljIGZyb20oZSx0LHMpe2NvbnN0e3JlcGxhY2VyOml9PXMscj1uZXcgdGhpcyhlKTtpZih0JiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpKWZvcihsZXQgbyBvZiB0KXR5cGVvZiBpPT0iZnVuY3Rpb24iJiYobz1pLmNhbGwodCxvLG8pKSxyLml0ZW1zLnB1c2goVm8obyxudWxsLHMpKTtyZXR1cm4gcn19Z24udGFnPSJ0YWc6eWFtbC5vcmcsMjAwMjpzZXQiO2NvbnN0IFhvPXtjb2xsZWN0aW9uOiJtYXAiLGlkZW50aWZ5Om49Pm4gaW5zdGFuY2VvZiBTZXQsbm9kZUNsYXNzOmduLGRlZmF1bHQ6ITEsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjpzZXQiLGNyZWF0ZU5vZGU6KG4sZSx0KT0+Z24uZnJvbShuLGUsdCkscmVzb2x2ZShuLGUpe2lmKEduKG4pKXtpZihuLmhhc0FsbE51bGxWYWx1ZXMoITApKXJldHVybiBPYmplY3QuYXNzaWduKG5ldyBnbixuKTtlKCJTZXQgaXRlbXMgbXVzdCBhbGwgaGF2ZSBudWxsIHZhbHVlcyIpfWVsc2UgZSgiRXhwZWN0ZWQgYSBtYXBwaW5nIGZvciB0aGlzIHRhZyIpO3JldHVybiBufX07ZnVuY3Rpb24gUW8obixlKXtjb25zdCB0PW5bMF0scz10PT09Ii0ifHx0PT09IisiP24uc3Vic3RyaW5nKDEpOm4saT1vPT5lP0JpZ0ludChvKTpOdW1iZXIobykscj1zLnJlcGxhY2UoL18vZywiIikuc3BsaXQoIjoiKS5yZWR1Y2UoKG8sYSk9Pm8qaSg2MCkraShhKSxpKDApKTtyZXR1cm4gdD09PSItIj9pKC0xKSpyOnJ9ZnVuY3Rpb24gQWMobil7bGV0e3ZhbHVlOmV9PW4sdD1vPT5vO2lmKHR5cGVvZiBlPT0iYmlnaW50Iil0PW89PkJpZ0ludChvKTtlbHNlIGlmKGlzTmFOKGUpfHwhaXNGaW5pdGUoZSkpcmV0dXJuIGJ0KG4pO2xldCBzPSIiO2U8MCYmKHM9Ii0iLGUqPXQoLTEpKTtjb25zdCBpPXQoNjApLHI9W2UlaV07cmV0dXJuIGU8NjA/ci51bnNoaWZ0KDApOihlPShlLXJbMF0pL2ksci51bnNoaWZ0KGUlaSksZT49NjAmJihlPShlLXJbMF0pL2ksci51bnNoaWZ0KGUpKSkscytyLm1hcChvPT5TdHJpbmcobykucGFkU3RhcnQoMiwiMCIpKS5qb2luKCI6IikucmVwbGFjZSgvMDAwMDAwXGQqJC8sIiIpfWNvbnN0IENjPXtpZGVudGlmeTpuPT50eXBlb2Ygbj09ImJpZ2ludCJ8fE51bWJlci5pc0ludGVnZXIobiksZGVmYXVsdDohMCx0YWc6InRhZzp5YW1sLm9yZywyMDAyOmludCIsZm9ybWF0OiJUSU1FIix0ZXN0Oi9eWy0rXT9bMC05XVswLTlfXSooPzo6WzAtNV0/WzAtOV0pKyQvLHJlc29sdmU6KG4sZSx7aW50QXNCaWdJbnQ6dH0pPT5RbyhuLHQpLHN0cmluZ2lmeTpBY30seGM9e2lkZW50aWZ5Om49PnR5cGVvZiBuPT0ibnVtYmVyIixkZWZhdWx0OiEwLHRhZzoidGFnOnlhbWwub3JnLDIwMDI6ZmxvYXQiLGZvcm1hdDoiVElNRSIsdGVzdDovXlstK10/WzAtOV1bMC05X10qKD86OlswLTVdP1swLTldKStcLlswLTlfXSokLyxyZXNvbHZlOm49PlFvKG4sITEpLHN0cmluZ2lmeTpBY30saHI9e2lkZW50aWZ5Om49Pm4gaW5zdGFuY2VvZiBEYXRlLGRlZmF1bHQ6ITAsdGFnOiJ0YWc6eWFtbC5vcmcsMjAwMjp0aW1lc3RhbXAiLHRlc3Q6UmVnRXhwKCJeKFswLTldezR9KS0oWzAtOV17MSwyfSktKFswLTldezEsMn0pKD86KD86dHxUfFsgXFx0XSspKFswLTldezEsMn0pOihbMC05XXsxLDJ9KTooWzAtOV17MSwyfShcXC5bMC05XSspPykoPzpbIFxcdF0qKFp8Wy0rXVswMTJdP1swLTldKD86OlswLTldezJ9KT8pKT8pPyQiKSxyZXNvbHZlKG4pe2NvbnN0IGU9bi5tYXRjaChoci50ZXN0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIiEhdGltZXN0YW1wIGV4cGVjdHMgYSBkYXRlLCBzdGFydGluZyB3aXRoIHl5eXktbW0tZGQiKTtjb25zdFssdCxzLGkscixvLGFdPWUubWFwKE51bWJlciksbD1lWzddP051bWJlcigoZVs3XSsiMDAiKS5zdWJzdHIoMSwzKSk6MDtsZXQgdT1EYXRlLlVUQyh0LHMtMSxpLHJ8fDAsb3x8MCxhfHwwLGwpO2NvbnN0IGg9ZVs4XTtpZihoJiZoIT09IloiKXtsZXQgYz1RbyhoLCExKTtNYXRoLmFicyhjKTwzMCYmKGMqPTYwKSx1LT02ZTQqY31yZXR1cm4gbmV3IERhdGUodSl9LHN0cmluZ2lmeTooe3ZhbHVlOm59KT0+KG49PW51bGw/dm9pZCAwOm4udG9JU09TdHJpbmcoKS5yZXBsYWNlKC8oVDAwOjAwOjAwKT9cLjAwMFokLywiIikpPz8iIn0sTGM9W21uLHluLG9yLGFyLE5jLHZjLFVnLEZnLHpnLFBnLExnLFlnLFJnLEtvLEh0LEdvLFpvLFhvLENjLHhjLGhyXSxZYz1uZXcgTWFwKFtbImNvcmUiLHZnXSxbImZhaWxzYWZlIixbbW4seW4sb3JdXSxbImpzb24iLHhnXSxbInlhbWwxMSIsTGNdLFsieWFtbC0xLjEiLExjXV0pLFJjPXtiaW5hcnk6S28sYm9vbDpqbyxmbG9hdDpUYyxmbG9hdEV4cDpiYyxmbG9hdE5hTjp3YyxmbG9hdFRpbWU6eGMsaW50OlNjLGludEhleDpPYyxpbnRPY3Q6RWMsaW50VGltZTpDYyxtYXA6bW4sbWVyZ2U6SHQsbnVsbDphcixvbWFwOkdvLHBhaXJzOlpvLHNlcTp5bixzZXQ6WG8sdGltZXN0YW1wOmhyfSwkZz17InRhZzp5YW1sLm9yZywyMDAyOmJpbmFyeSI6S28sInRhZzp5YW1sLm9yZywyMDAyOm1lcmdlIjpIdCwidGFnOnlhbWwub3JnLDIwMDI6b21hcCI6R28sInRhZzp5YW1sLm9yZywyMDAyOnBhaXJzIjpabywidGFnOnlhbWwub3JnLDIwMDI6c2V0IjpYbywidGFnOnlhbWwub3JnLDIwMDI6dGltZXN0YW1wIjpocn07ZnVuY3Rpb24gZWEobixlLHQpe2NvbnN0IHM9WWMuZ2V0KGUpO2lmKHMmJiFuKXJldHVybiB0JiYhcy5pbmNsdWRlcyhIdCk/cy5jb25jYXQoSHQpOnMuc2xpY2UoKTtsZXQgaT1zO2lmKCFpKWlmKEFycmF5LmlzQXJyYXkobikpaT1bXTtlbHNle2NvbnN0IHI9QXJyYXkuZnJvbShZYy5rZXlzKCkpLmZpbHRlcihvPT5vIT09InlhbWwxMSIpLm1hcChvPT5KU09OLnN0cmluZ2lmeShvKSkuam9pbigiLCAiKTt0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc2NoZW1hICIke2V9IjsgdXNlIG9uZSBvZiAke3J9IG9yIGRlZmluZSBjdXN0b21UYWdzIGFycmF5YCl9aWYoQXJyYXkuaXNBcnJheShuKSlmb3IoY29uc3QgciBvZiBuKWk9aS5jb25jYXQocik7ZWxzZSB0eXBlb2Ygbj09ImZ1bmN0aW9uIiYmKGk9bihpLnNsaWNlKCkpKTtyZXR1cm4gdCYmKGk9aS5jb25jYXQoSHQpKSxpLnJlZHVjZSgocixvKT0+e2NvbnN0IGE9dHlwZW9mIG89PSJzdHJpbmciP1JjW29dOm87aWYoIWEpe2NvbnN0IGw9SlNPTi5zdHJpbmdpZnkobyksdT1PYmplY3Qua2V5cyhSYykubWFwKGg9PkpTT04uc3RyaW5naWZ5KGgpKS5qb2luKCIsICIpO3Rocm93IG5ldyBFcnJvcihgVW5rbm93biBjdXN0b20gdGFnICR7bH07IHVzZSBvbmUgb2YgJHt1fWApfXJldHVybiByLmluY2x1ZGVzKGEpfHxyLnB1c2goYSkscn0sW10pfWNvbnN0IEJnPShuLGUpPT5uLmtleTxlLmtleT8tMTpuLmtleT5lLmtleT8xOjA7Y2xhc3MgdGF7Y29uc3RydWN0b3Ioe2NvbXBhdDplLGN1c3RvbVRhZ3M6dCxtZXJnZTpzLHJlc29sdmVLbm93blRhZ3M6aSxzY2hlbWE6cixzb3J0TWFwRW50cmllczpvLHRvU3RyaW5nRGVmYXVsdHM6YX0pe3RoaXMuY29tcGF0PUFycmF5LmlzQXJyYXkoZSk/ZWEoZSwiY29tcGF0Iik6ZT9lYShudWxsLGUpOm51bGwsdGhpcy5uYW1lPXR5cGVvZiByPT0ic3RyaW5nIiYmcnx8ImNvcmUiLHRoaXMua25vd25UYWdzPWk/JGc6e30sdGhpcy50YWdzPWVhKHQsdGhpcy5uYW1lLHMpLHRoaXMudG9TdHJpbmdPcHRpb25zPWE/P251bGwsT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdXMse3ZhbHVlOm1ufSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsUnQse3ZhbHVlOm9yfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsbG4se3ZhbHVlOnlufSksdGhpcy5zb3J0TWFwRW50cmllcz10eXBlb2Ygbz09ImZ1bmN0aW9uIj9vOm89PT0hMD9CZzpudWxsfWNsb25lKCl7Y29uc3QgZT1PYmplY3QuY3JlYXRlKHRhLnByb3RvdHlwZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0aGlzKSk7cmV0dXJuIGUudGFncz10aGlzLnRhZ3Muc2xpY2UoKSxlfX1mdW5jdGlvbiBXZyhuLGUpe3ZhciBsO2NvbnN0IHQ9W107bGV0IHM9ZS5kaXJlY3RpdmVzPT09ITA7aWYoZS5kaXJlY3RpdmVzIT09ITEmJm4uZGlyZWN0aXZlcyl7Y29uc3QgdT1uLmRpcmVjdGl2ZXMudG9TdHJpbmcobik7dT8odC5wdXNoKHUpLHM9ITApOm4uZGlyZWN0aXZlcy5kb2NTdGFydCYmKHM9ITApfXMmJnQucHVzaCgiLS0tIik7Y29uc3QgaT1kYyhuLGUpLHtjb21tZW50U3RyaW5nOnJ9PWkub3B0aW9ucztpZihuLmNvbW1lbnRCZWZvcmUpe3QubGVuZ3RoIT09MSYmdC51bnNoaWZ0KCIiKTtjb25zdCB1PXIobi5jb21tZW50QmVmb3JlKTt0LnVuc2hpZnQoV3QodSwiIikpfWxldCBvPSExLGE9bnVsbDtpZihuLmNvbnRlbnRzKXtpZih3ZShuLmNvbnRlbnRzKSl7aWYobi5jb250ZW50cy5zcGFjZUJlZm9yZSYmcyYmdC5wdXNoKCIiKSxuLmNvbnRlbnRzLmNvbW1lbnRCZWZvcmUpe2NvbnN0IGM9cihuLmNvbnRlbnRzLmNvbW1lbnRCZWZvcmUpO3QucHVzaChXdChjLCIiKSl9aS5mb3JjZUJsb2NrSW5kZW50PSEhbi5jb21tZW50LGE9bi5jb250ZW50cy5jb21tZW50fWNvbnN0IHU9YT92b2lkIDA6KCk9Pm89ITA7bGV0IGg9ZG4obi5jb250ZW50cyxpLCgpPT5hPW51bGwsdSk7YSYmKGgrPU1zKGgsIiIscihhKSkpLChoWzBdPT09InwifHxoWzBdPT09Ij4iKSYmdFt0Lmxlbmd0aC0xXT09PSItLS0iP3RbdC5sZW5ndGgtMV09YC0tLSAke2h9YDp0LnB1c2goaCl9ZWxzZSB0LnB1c2goZG4obi5jb250ZW50cyxpKSk7aWYoKGw9bi5kaXJlY3RpdmVzKSE9bnVsbCYmbC5kb2NFbmQpaWYobi5jb21tZW50KXtjb25zdCB1PXIobi5jb21tZW50KTt1LmluY2x1ZGVzKGAKYCk/KHQucHVzaCgiLi4uIiksdC5wdXNoKFd0KHUsIiIpKSk6dC5wdXNoKGAuLi4gJHt1fWApfWVsc2UgdC5wdXNoKCIuLi4iKTtlbHNle2xldCB1PW4uY29tbWVudDt1JiZvJiYodT11LnJlcGxhY2UoL15cbisvLCIiKSksdSYmKCghb3x8YSkmJnRbdC5sZW5ndGgtMV0hPT0iIiYmdC5wdXNoKCIiKSx0LnB1c2goV3Qocih1KSwiIikpKX1yZXR1cm4gdC5qb2luKGAKYCkrYApgfWNsYXNzIGZye2NvbnN0cnVjdG9yKGUsdCxzKXt0aGlzLmNvbW1lbnRCZWZvcmU9bnVsbCx0aGlzLmNvbW1lbnQ9bnVsbCx0aGlzLmVycm9ycz1bXSx0aGlzLndhcm5pbmdzPVtdLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGN0LHt2YWx1ZTpVb30pO2xldCBpPW51bGw7dHlwZW9mIHQ9PSJmdW5jdGlvbiJ8fEFycmF5LmlzQXJyYXkodCk/aT10OnM9PT12b2lkIDAmJnQmJihzPXQsdD12b2lkIDApO2NvbnN0IHI9T2JqZWN0LmFzc2lnbih7aW50QXNCaWdJbnQ6ITEsa2VlcFNvdXJjZVRva2VuczohMSxsb2dMZXZlbDoid2FybiIscHJldHR5RXJyb3JzOiEwLHN0cmljdDohMCxzdHJpbmdLZXlzOiExLHVuaXF1ZUtleXM6ITAsdmVyc2lvbjoiMS4yIn0scyk7dGhpcy5vcHRpb25zPXI7bGV0e3ZlcnNpb246b309cjtzIT1udWxsJiZzLl9kaXJlY3RpdmVzPyh0aGlzLmRpcmVjdGl2ZXM9cy5fZGlyZWN0aXZlcy5hdERvY3VtZW50KCksdGhpcy5kaXJlY3RpdmVzLnlhbWwuZXhwbGljaXQmJihvPXRoaXMuZGlyZWN0aXZlcy55YW1sLnZlcnNpb24pKTp0aGlzLmRpcmVjdGl2ZXM9bmV3IEJlKHt2ZXJzaW9uOm99KSx0aGlzLnNldFNjaGVtYShvLHMpLHRoaXMuY29udGVudHM9ZT09PXZvaWQgMD9udWxsOnRoaXMuY3JlYXRlTm9kZShlLGkscyl9Y2xvbmUoKXtjb25zdCBlPU9iamVjdC5jcmVhdGUoZnIucHJvdG90eXBlLHtbY3RdOnt2YWx1ZTpVb319KTtyZXR1cm4gZS5jb21tZW50QmVmb3JlPXRoaXMuY29tbWVudEJlZm9yZSxlLmNvbW1lbnQ9dGhpcy5jb21tZW50LGUuZXJyb3JzPXRoaXMuZXJyb3JzLnNsaWNlKCksZS53YXJuaW5ncz10aGlzLndhcm5pbmdzLnNsaWNlKCksZS5vcHRpb25zPU9iamVjdC5hc3NpZ24oe30sdGhpcy5vcHRpb25zKSx0aGlzLmRpcmVjdGl2ZXMmJihlLmRpcmVjdGl2ZXM9dGhpcy5kaXJlY3RpdmVzLmNsb25lKCkpLGUuc2NoZW1hPXRoaXMuc2NoZW1hLmNsb25lKCksZS5jb250ZW50cz13ZSh0aGlzLmNvbnRlbnRzKT90aGlzLmNvbnRlbnRzLmNsb25lKGUuc2NoZW1hKTp0aGlzLmNvbnRlbnRzLHRoaXMucmFuZ2UmJihlLnJhbmdlPXRoaXMucmFuZ2Uuc2xpY2UoKSksZX1hZGQoZSl7d24odGhpcy5jb250ZW50cykmJnRoaXMuY29udGVudHMuYWRkKGUpfWFkZEluKGUsdCl7d24odGhpcy5jb250ZW50cykmJnRoaXMuY29udGVudHMuYWRkSW4oZSx0KX1jcmVhdGVBbGlhcyhlLHQpe2lmKCFlLmFuY2hvcil7Y29uc3Qgcz1hYyh0aGlzKTtlLmFuY2hvcj0hdHx8cy5oYXModCk/bGModHx8ImEiLHMpOnR9cmV0dXJuIG5ldyB6byhlLmFuY2hvcil9Y3JlYXRlTm9kZShlLHQscyl7bGV0IGk7aWYodHlwZW9mIHQ9PSJmdW5jdGlvbiIpZT10LmNhbGwoeyIiOmV9LCIiLGUpLGk9dDtlbHNlIGlmKEFycmF5LmlzQXJyYXkodCkpe2NvbnN0IHk9Yj0+dHlwZW9mIGI9PSJudW1iZXIifHxiIGluc3RhbmNlb2YgU3RyaW5nfHxiIGluc3RhbmNlb2YgTnVtYmVyLHc9dC5maWx0ZXIoeSkubWFwKFN0cmluZyk7dy5sZW5ndGg+MCYmKHQ9dC5jb25jYXQodykpLGk9dH1lbHNlIHM9PT12b2lkIDAmJnQmJihzPXQsdD12b2lkIDApO2NvbnN0e2FsaWFzRHVwbGljYXRlT2JqZWN0czpyLGFuY2hvclByZWZpeDpvLGZsb3c6YSxrZWVwVW5kZWZpbmVkOmwsb25UYWdPYmo6dSx0YWc6aH09cz8/e30se29uQW5jaG9yOmMsc2V0QW5jaG9yczptLHNvdXJjZU9iamVjdHM6Zn09Z2codGhpcyxvfHwiYSIpLGc9e2FsaWFzRHVwbGljYXRlT2JqZWN0czpyPz8hMCxrZWVwVW5kZWZpbmVkOmw/PyExLG9uQW5jaG9yOmMsb25UYWdPYmo6dSxyZXBsYWNlcjppLHNjaGVtYTp0aGlzLnNjaGVtYSxzb3VyY2VPYmplY3RzOmZ9LGQ9UW4oZSxoLGcpO3JldHVybiBhJiZnZShkKSYmKGQuZmxvdz0hMCksbSgpLGR9Y3JlYXRlUGFpcihlLHQscz17fSl7Y29uc3QgaT10aGlzLmNyZWF0ZU5vZGUoZSxudWxsLHMpLHI9dGhpcy5jcmVhdGVOb2RlKHQsbnVsbCxzKTtyZXR1cm4gbmV3IFdlKGkscil9ZGVsZXRlKGUpe3JldHVybiB3bih0aGlzLmNvbnRlbnRzKT90aGlzLmNvbnRlbnRzLmRlbGV0ZShlKTohMX1kZWxldGVJbihlKXtyZXR1cm4gZWkoZSk/dGhpcy5jb250ZW50cz09bnVsbD8hMToodGhpcy5jb250ZW50cz1udWxsLCEwKTp3bih0aGlzLmNvbnRlbnRzKT90aGlzLmNvbnRlbnRzLmRlbGV0ZUluKGUpOiExfWdldChlLHQpe3JldHVybiBnZSh0aGlzLmNvbnRlbnRzKT90aGlzLmNvbnRlbnRzLmdldChlLHQpOnZvaWQgMH1nZXRJbihlLHQpe3JldHVybiBlaShlKT8hdCYmb2UodGhpcy5jb250ZW50cyk/dGhpcy5jb250ZW50cy52YWx1ZTp0aGlzLmNvbnRlbnRzOmdlKHRoaXMuY29udGVudHMpP3RoaXMuY29udGVudHMuZ2V0SW4oZSx0KTp2b2lkIDB9aGFzKGUpe3JldHVybiBnZSh0aGlzLmNvbnRlbnRzKT90aGlzLmNvbnRlbnRzLmhhcyhlKTohMX1oYXNJbihlKXtyZXR1cm4gZWkoZSk/dGhpcy5jb250ZW50cyE9PXZvaWQgMDpnZSh0aGlzLmNvbnRlbnRzKT90aGlzLmNvbnRlbnRzLmhhc0luKGUpOiExfXNldChlLHQpe3RoaXMuY29udGVudHM9PW51bGw/dGhpcy5jb250ZW50cz1KaSh0aGlzLnNjaGVtYSxbZV0sdCk6d24odGhpcy5jb250ZW50cykmJnRoaXMuY29udGVudHMuc2V0KGUsdCl9c2V0SW4oZSx0KXtlaShlKT90aGlzLmNvbnRlbnRzPXQ6dGhpcy5jb250ZW50cz09bnVsbD90aGlzLmNvbnRlbnRzPUppKHRoaXMuc2NoZW1hLEFycmF5LmZyb20oZSksdCk6d24odGhpcy5jb250ZW50cykmJnRoaXMuY29udGVudHMuc2V0SW4oZSx0KX1zZXRTY2hlbWEoZSx0PXt9KXt0eXBlb2YgZT09Im51bWJlciImJihlPVN0cmluZyhlKSk7bGV0IHM7c3dpdGNoKGUpe2Nhc2UiMS4xIjp0aGlzLmRpcmVjdGl2ZXM/dGhpcy5kaXJlY3RpdmVzLnlhbWwudmVyc2lvbj0iMS4xIjp0aGlzLmRpcmVjdGl2ZXM9bmV3IEJlKHt2ZXJzaW9uOiIxLjEifSkscz17cmVzb2x2ZUtub3duVGFnczohMSxzY2hlbWE6InlhbWwtMS4xIn07YnJlYWs7Y2FzZSIxLjIiOmNhc2UibmV4dCI6dGhpcy5kaXJlY3RpdmVzP3RoaXMuZGlyZWN0aXZlcy55YW1sLnZlcnNpb249ZTp0aGlzLmRpcmVjdGl2ZXM9bmV3IEJlKHt2ZXJzaW9uOmV9KSxzPXtyZXNvbHZlS25vd25UYWdzOiEwLHNjaGVtYToiY29yZSJ9O2JyZWFrO2Nhc2UgbnVsbDp0aGlzLmRpcmVjdGl2ZXMmJmRlbGV0ZSB0aGlzLmRpcmVjdGl2ZXMscz1udWxsO2JyZWFrO2RlZmF1bHQ6e2NvbnN0IGk9SlNPTi5zdHJpbmdpZnkoZSk7dGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCAnMS4xJywgJzEuMicgb3IgbnVsbCBhcyBmaXJzdCBhcmd1bWVudCwgYnV0IGZvdW5kOiAke2l9YCl9fWlmKHQuc2NoZW1hIGluc3RhbmNlb2YgT2JqZWN0KXRoaXMuc2NoZW1hPXQuc2NoZW1hO2Vsc2UgaWYocyl0aGlzLnNjaGVtYT1uZXcgdGEoT2JqZWN0LmFzc2lnbihzLHQpKTtlbHNlIHRocm93IG5ldyBFcnJvcigiV2l0aCBhIG51bGwgWUFNTCB2ZXJzaW9uLCB0aGUgeyBzY2hlbWE6IFNjaGVtYSB9IG9wdGlvbiBpcyByZXF1aXJlZCIpfXRvSlMoe2pzb246ZSxqc29uQXJnOnQsbWFwQXNNYXA6cyxtYXhBbGlhc0NvdW50Omksb25BbmNob3I6cixyZXZpdmVyOm99PXt9KXtjb25zdCBhPXthbmNob3JzOm5ldyBNYXAsZG9jOnRoaXMsa2VlcDohZSxtYXBBc01hcDpzPT09ITAsbWFwS2V5V2FybmVkOiExLG1heEFsaWFzQ291bnQ6dHlwZW9mIGk9PSJudW1iZXIiP2k6MTAwfSxsPWh0KHRoaXMuY29udGVudHMsdD8/IiIsYSk7aWYodHlwZW9mIHI9PSJmdW5jdGlvbiIpZm9yKGNvbnN0e2NvdW50OnUscmVzOmh9b2YgYS5hbmNob3JzLnZhbHVlcygpKXIoaCx1KTtyZXR1cm4gdHlwZW9mIG89PSJmdW5jdGlvbiI/aG4obyx7IiI6bH0sIiIsbCk6bH10b0pTT04oZSx0KXtyZXR1cm4gdGhpcy50b0pTKHtqc29uOiEwLGpzb25Bcmc6ZSxtYXBBc01hcDohMSxvbkFuY2hvcjp0fSl9dG9TdHJpbmcoZT17fSl7aWYodGhpcy5lcnJvcnMubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKCJEb2N1bWVudCB3aXRoIGVycm9ycyBjYW5ub3QgYmUgc3RyaW5naWZpZWQiKTtpZigiaW5kZW50ImluIGUmJighTnVtYmVyLmlzSW50ZWdlcihlLmluZGVudCl8fE51bWJlcihlLmluZGVudCk8PTApKXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KGUuaW5kZW50KTt0aHJvdyBuZXcgRXJyb3IoYCJpbmRlbnQiIG9wdGlvbiBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciwgbm90ICR7dH1gKX1yZXR1cm4gV2codGhpcyxlKX19ZnVuY3Rpb24gd24obil7aWYoZ2UobikpcmV0dXJuITA7dGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCBhIFlBTUwgY29sbGVjdGlvbiBhcyBkb2N1bWVudCBjb250ZW50cyIpfWNsYXNzIFVjIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSx0LHMsaSl7c3VwZXIoKSx0aGlzLm5hbWU9ZSx0aGlzLmNvZGU9cyx0aGlzLm1lc3NhZ2U9aSx0aGlzLnBvcz10fX1jbGFzcyB2cyBleHRlbmRzIFVje2NvbnN0cnVjdG9yKGUsdCxzKXtzdXBlcigiWUFNTFBhcnNlRXJyb3IiLGUsdCxzKX19Y2xhc3MgSGcgZXh0ZW5kcyBVY3tjb25zdHJ1Y3RvcihlLHQscyl7c3VwZXIoIllBTUxXYXJuaW5nIixlLHQscyl9fWNvbnN0IEZjPShuLGUpPT50PT57aWYodC5wb3NbMF09PT0tMSlyZXR1cm47dC5saW5lUG9zPXQucG9zLm1hcChhPT5lLmxpbmVQb3MoYSkpO2NvbnN0e2xpbmU6cyxjb2w6aX09dC5saW5lUG9zWzBdO3QubWVzc2FnZSs9YCBhdCBsaW5lICR7c30sIGNvbHVtbiAke2l9YDtsZXQgcj1pLTEsbz1uLnN1YnN0cmluZyhlLmxpbmVTdGFydHNbcy0xXSxlLmxpbmVTdGFydHNbc10pLnJlcGxhY2UoL1tcblxyXSskLywiIik7aWYocj49NjAmJm8ubGVuZ3RoPjgwKXtjb25zdCBhPU1hdGgubWluKHItMzksby5sZW5ndGgtNzkpO289IuKApiIrby5zdWJzdHJpbmcoYSksci09YS0xfWlmKG8ubGVuZ3RoPjgwJiYobz1vLnN1YnN0cmluZygwLDc5KSsi4oCmIikscz4xJiYvXiAqJC8udGVzdChvLnN1YnN0cmluZygwLHIpKSl7bGV0IGE9bi5zdWJzdHJpbmcoZS5saW5lU3RhcnRzW3MtMl0sZS5saW5lU3RhcnRzW3MtMV0pO2EubGVuZ3RoPjgwJiYoYT1hLnN1YnN0cmluZygwLDc5KStg4oCmCmApLG89YStvfWlmKC9bXiBdLy50ZXN0KG8pKXtsZXQgYT0xO2NvbnN0IGw9dC5saW5lUG9zWzFdO2wmJmwubGluZT09PXMmJmwuY29sPmkmJihhPU1hdGgubWF4KDEsTWF0aC5taW4obC5jb2wtaSw4MC1yKSkpO2NvbnN0IHU9IiAiLnJlcGVhdChyKSsiXiIucmVwZWF0KGEpO3QubWVzc2FnZSs9YDoKCiR7b30KJHt1fQpgfX07ZnVuY3Rpb24gYm4obix7ZmxvdzplLGluZGljYXRvcjp0LG5leHQ6cyxvZmZzZXQ6aSxvbkVycm9yOnIscGFyZW50SW5kZW50Om8sc3RhcnRPbk5ld2xpbmU6YX0pe2xldCBsPSExLHU9YSxoPWEsYz0iIixtPSIiLGY9ITEsZz0hMSxkPW51bGwseT1udWxsLHc9bnVsbCxiPW51bGwsaz1udWxsLFM9bnVsbCxPPW51bGw7Zm9yKGNvbnN0IF8gb2Ygbilzd2l0Y2goZyYmKF8udHlwZSE9PSJzcGFjZSImJl8udHlwZSE9PSJuZXdsaW5lIiYmXy50eXBlIT09ImNvbW1hIiYmcihfLm9mZnNldCwiTUlTU0lOR19DSEFSIiwiVGFncyBhbmQgYW5jaG9ycyBtdXN0IGJlIHNlcGFyYXRlZCBmcm9tIHRoZSBuZXh0IHRva2VuIGJ5IHdoaXRlIHNwYWNlIiksZz0hMSksZCYmKHUmJl8udHlwZSE9PSJjb21tZW50IiYmXy50eXBlIT09Im5ld2xpbmUiJiZyKGQsIlRBQl9BU19JTkRFTlQiLCJUYWJzIGFyZSBub3QgYWxsb3dlZCBhcyBpbmRlbnRhdGlvbiIpLGQ9bnVsbCksXy50eXBlKXtjYXNlInNwYWNlIjohZSYmKHQhPT0iZG9jLXN0YXJ0Inx8KHM9PW51bGw/dm9pZCAwOnMudHlwZSkhPT0iZmxvdy1jb2xsZWN0aW9uIikmJl8uc291cmNlLmluY2x1ZGVzKCIJIikmJihkPV8pLGg9ITA7YnJlYWs7Y2FzZSJjb21tZW50Ijp7aHx8cihfLCJNSVNTSU5HX0NIQVIiLCJDb21tZW50cyBtdXN0IGJlIHNlcGFyYXRlZCBmcm9tIG90aGVyIHRva2VucyBieSB3aGl0ZSBzcGFjZSBjaGFyYWN0ZXJzIik7Y29uc3QgWT1fLnNvdXJjZS5zdWJzdHJpbmcoMSl8fCIgIjtjP2MrPW0rWTpjPVksbT0iIix1PSExO2JyZWFrfWNhc2UibmV3bGluZSI6dT9jP2MrPV8uc291cmNlOighU3x8dCE9PSJzZXEtaXRlbS1pbmQiKSYmKGw9ITApOm0rPV8uc291cmNlLHU9ITAsZj0hMCwoeXx8dykmJihiPV8pLGg9ITA7YnJlYWs7Y2FzZSJhbmNob3IiOnkmJnIoXywiTVVMVElQTEVfQU5DSE9SUyIsIkEgbm9kZSBjYW4gaGF2ZSBhdCBtb3N0IG9uZSBhbmNob3IiKSxfLnNvdXJjZS5lbmRzV2l0aCgiOiIpJiZyKF8ub2Zmc2V0K18uc291cmNlLmxlbmd0aC0xLCJCQURfQUxJQVMiLCJBbmNob3IgZW5kaW5nIGluIDogaXMgYW1iaWd1b3VzIiwhMCkseT1fLE8/PyhPPV8ub2Zmc2V0KSx1PSExLGg9ITEsZz0hMDticmVhaztjYXNlInRhZyI6e3cmJnIoXywiTVVMVElQTEVfVEFHUyIsIkEgbm9kZSBjYW4gaGF2ZSBhdCBtb3N0IG9uZSB0YWciKSx3PV8sTz8/KE89Xy5vZmZzZXQpLHU9ITEsaD0hMSxnPSEwO2JyZWFrfWNhc2UgdDooeXx8dykmJnIoXywiQkFEX1BST1BfT1JERVIiLGBBbmNob3JzIGFuZCB0YWdzIG11c3QgYmUgYWZ0ZXIgdGhlICR7Xy5zb3VyY2V9IGluZGljYXRvcmApLFMmJnIoXywiVU5FWFBFQ1RFRF9UT0tFTiIsYFVuZXhwZWN0ZWQgJHtfLnNvdXJjZX0gaW4gJHtlPz8iY29sbGVjdGlvbiJ9YCksUz1fLHU9dD09PSJzZXEtaXRlbS1pbmQifHx0PT09ImV4cGxpY2l0LWtleS1pbmQiLGg9ITE7YnJlYWs7Y2FzZSJjb21tYSI6aWYoZSl7ayYmcihfLCJVTkVYUEVDVEVEX1RPS0VOIixgVW5leHBlY3RlZCAsIGluICR7ZX1gKSxrPV8sdT0hMSxoPSExO2JyZWFrfWRlZmF1bHQ6cihfLCJVTkVYUEVDVEVEX1RPS0VOIixgVW5leHBlY3RlZCAke18udHlwZX0gdG9rZW5gKSx1PSExLGg9ITF9Y29uc3Qgdj1uW24ubGVuZ3RoLTFdLEg9dj92Lm9mZnNldCt2LnNvdXJjZS5sZW5ndGg6aTtyZXR1cm4gZyYmcyYmcy50eXBlIT09InNwYWNlIiYmcy50eXBlIT09Im5ld2xpbmUiJiZzLnR5cGUhPT0iY29tbWEiJiYocy50eXBlIT09InNjYWxhciJ8fHMuc291cmNlIT09IiIpJiZyKHMub2Zmc2V0LCJNSVNTSU5HX0NIQVIiLCJUYWdzIGFuZCBhbmNob3JzIG11c3QgYmUgc2VwYXJhdGVkIGZyb20gdGhlIG5leHQgdG9rZW4gYnkgd2hpdGUgc3BhY2UiKSxkJiYodSYmZC5pbmRlbnQ8PW98fChzPT1udWxsP3ZvaWQgMDpzLnR5cGUpPT09ImJsb2NrLW1hcCJ8fChzPT1udWxsP3ZvaWQgMDpzLnR5cGUpPT09ImJsb2NrLXNlcSIpJiZyKGQsIlRBQl9BU19JTkRFTlQiLCJUYWJzIGFyZSBub3QgYWxsb3dlZCBhcyBpbmRlbnRhdGlvbiIpLHtjb21tYTprLGZvdW5kOlMsc3BhY2VCZWZvcmU6bCxjb21tZW50OmMsaGFzTmV3bGluZTpmLGFuY2hvcjp5LHRhZzp3LG5ld2xpbmVBZnRlclByb3A6YixlbmQ6SCxzdGFydDpPPz9IfX1mdW5jdGlvbiBuaShuKXtpZighbilyZXR1cm4gbnVsbDtzd2l0Y2gobi50eXBlKXtjYXNlImFsaWFzIjpjYXNlInNjYWxhciI6Y2FzZSJkb3VibGUtcXVvdGVkLXNjYWxhciI6Y2FzZSJzaW5nbGUtcXVvdGVkLXNjYWxhciI6aWYobi5zb3VyY2UuaW5jbHVkZXMoYApgKSlyZXR1cm4hMDtpZihuLmVuZCl7Zm9yKGNvbnN0IGUgb2Ygbi5lbmQpaWYoZS50eXBlPT09Im5ld2xpbmUiKXJldHVybiEwfXJldHVybiExO2Nhc2UiZmxvdy1jb2xsZWN0aW9uIjpmb3IoY29uc3QgZSBvZiBuLml0ZW1zKXtmb3IoY29uc3QgdCBvZiBlLnN0YXJ0KWlmKHQudHlwZT09PSJuZXdsaW5lIilyZXR1cm4hMDtpZihlLnNlcCl7Zm9yKGNvbnN0IHQgb2YgZS5zZXApaWYodC50eXBlPT09Im5ld2xpbmUiKXJldHVybiEwfWlmKG5pKGUua2V5KXx8bmkoZS52YWx1ZSkpcmV0dXJuITB9cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4hMH19ZnVuY3Rpb24gc2EobixlLHQpe2lmKChlPT1udWxsP3ZvaWQgMDplLnR5cGUpPT09ImZsb3ctY29sbGVjdGlvbiIpe2NvbnN0IHM9ZS5lbmRbMF07cy5pbmRlbnQ9PT1uJiYocy5zb3VyY2U9PT0iXSJ8fHMuc291cmNlPT09In0iKSYmbmkoZSkmJnQocywiQkFEX0lOREVOVCIsIkZsb3cgZW5kIGluZGljYXRvciBzaG91bGQgYmUgbW9yZSBpbmRlbnRlZCB0aGFuIHBhcmVudCIsITApfX1mdW5jdGlvbiB6YyhuLGUsdCl7Y29uc3R7dW5pcXVlS2V5czpzfT1uLm9wdGlvbnM7aWYocz09PSExKXJldHVybiExO2NvbnN0IGk9dHlwZW9mIHM9PSJmdW5jdGlvbiI/czoocixvKT0+cj09PW98fG9lKHIpJiZvZShvKSYmci52YWx1ZT09PW8udmFsdWU7cmV0dXJuIGUuc29tZShyPT5pKHIua2V5LHQpKX1jb25zdCBQYz0iQWxsIG1hcHBpbmcgaXRlbXMgbXVzdCBzdGFydCBhdCB0aGUgc2FtZSBjb2x1bW4iO2Z1bmN0aW9uIFZnKHtjb21wb3NlTm9kZTpuLGNvbXBvc2VFbXB0eU5vZGU6ZX0sdCxzLGkscil7dmFyIGg7Y29uc3Qgbz0ocj09bnVsbD92b2lkIDA6ci5ub2RlQ2xhc3MpPz9mdCxhPW5ldyBvKHQuc2NoZW1hKTt0LmF0Um9vdCYmKHQuYXRSb290PSExKTtsZXQgbD1zLm9mZnNldCx1PW51bGw7Zm9yKGNvbnN0IGMgb2Ygcy5pdGVtcyl7Y29uc3R7c3RhcnQ6bSxrZXk6ZixzZXA6Zyx2YWx1ZTpkfT1jLHk9Ym4obSx7aW5kaWNhdG9yOiJleHBsaWNpdC1rZXktaW5kIixuZXh0OmY/PyhnPT1udWxsP3ZvaWQgMDpnWzBdKSxvZmZzZXQ6bCxvbkVycm9yOmkscGFyZW50SW5kZW50OnMuaW5kZW50LHN0YXJ0T25OZXdsaW5lOiEwfSksdz0heS5mb3VuZDtpZih3KXtpZihmJiYoZi50eXBlPT09ImJsb2NrLXNlcSI/aShsLCJCTE9DS19BU19JTVBMSUNJVF9LRVkiLCJBIGJsb2NrIHNlcXVlbmNlIG1heSBub3QgYmUgdXNlZCBhcyBhbiBpbXBsaWNpdCBtYXAga2V5Iik6ImluZGVudCJpbiBmJiZmLmluZGVudCE9PXMuaW5kZW50JiZpKGwsIkJBRF9JTkRFTlQiLFBjKSksIXkuYW5jaG9yJiYheS50YWcmJiFnKXt1PXkuZW5kLHkuY29tbWVudCYmKGEuY29tbWVudD9hLmNvbW1lbnQrPWAKYCt5LmNvbW1lbnQ6YS5jb21tZW50PXkuY29tbWVudCk7Y29udGludWV9KHkubmV3bGluZUFmdGVyUHJvcHx8bmkoZikpJiZpKGY/P21bbS5sZW5ndGgtMV0sIk1VTFRJTElORV9JTVBMSUNJVF9LRVkiLCJJbXBsaWNpdCBrZXlzIG5lZWQgdG8gYmUgb24gYSBzaW5nbGUgbGluZSIpfWVsc2UoKGg9eS5mb3VuZCk9PW51bGw/dm9pZCAwOmguaW5kZW50KSE9PXMuaW5kZW50JiZpKGwsIkJBRF9JTkRFTlQiLFBjKTt0LmF0S2V5PSEwO2NvbnN0IGI9eS5lbmQsaz1mP24odCxmLHksaSk6ZSh0LGIsbSxudWxsLHksaSk7dC5zY2hlbWEuY29tcGF0JiZzYShzLmluZGVudCxmLGkpLHQuYXRLZXk9ITEsemModCxhLml0ZW1zLGspJiZpKGIsIkRVUExJQ0FURV9LRVkiLCJNYXAga2V5cyBtdXN0IGJlIHVuaXF1ZSIpO2NvbnN0IFM9Ym4oZz8/W10se2luZGljYXRvcjoibWFwLXZhbHVlLWluZCIsbmV4dDpkLG9mZnNldDprLnJhbmdlWzJdLG9uRXJyb3I6aSxwYXJlbnRJbmRlbnQ6cy5pbmRlbnQsc3RhcnRPbk5ld2xpbmU6IWZ8fGYudHlwZT09PSJibG9jay1zY2FsYXIifSk7aWYobD1TLmVuZCxTLmZvdW5kKXt3JiYoKGQ9PW51bGw/dm9pZCAwOmQudHlwZSk9PT0iYmxvY2stbWFwIiYmIVMuaGFzTmV3bGluZSYmaShsLCJCTE9DS19BU19JTVBMSUNJVF9LRVkiLCJOZXN0ZWQgbWFwcGluZ3MgYXJlIG5vdCBhbGxvd2VkIGluIGNvbXBhY3QgbWFwcGluZ3MiKSx0Lm9wdGlvbnMuc3RyaWN0JiZ5LnN0YXJ0PFMuZm91bmQub2Zmc2V0LTEwMjQmJmkoay5yYW5nZSwiS0VZX09WRVJfMTAyNF9DSEFSUyIsIlRoZSA6IGluZGljYXRvciBtdXN0IGJlIGF0IG1vc3QgMTAyNCBjaGFycyBhZnRlciB0aGUgc3RhcnQgb2YgYW4gaW1wbGljaXQgYmxvY2sgbWFwcGluZyBrZXkiKSk7Y29uc3QgTz1kP24odCxkLFMsaSk6ZSh0LGwsZyxudWxsLFMsaSk7dC5zY2hlbWEuY29tcGF0JiZzYShzLmluZGVudCxkLGkpLGw9Ty5yYW5nZVsyXTtjb25zdCB2PW5ldyBXZShrLE8pO3Qub3B0aW9ucy5rZWVwU291cmNlVG9rZW5zJiYodi5zcmNUb2tlbj1jKSxhLml0ZW1zLnB1c2godil9ZWxzZXt3JiZpKGsucmFuZ2UsIk1JU1NJTkdfQ0hBUiIsIkltcGxpY2l0IG1hcCBrZXlzIG5lZWQgdG8gYmUgZm9sbG93ZWQgYnkgbWFwIHZhbHVlcyIpLFMuY29tbWVudCYmKGsuY29tbWVudD9rLmNvbW1lbnQrPWAKYCtTLmNvbW1lbnQ6ay5jb21tZW50PVMuY29tbWVudCk7Y29uc3QgTz1uZXcgV2Uoayk7dC5vcHRpb25zLmtlZXBTb3VyY2VUb2tlbnMmJihPLnNyY1Rva2VuPWMpLGEuaXRlbXMucHVzaChPKX19cmV0dXJuIHUmJnU8bCYmaSh1LCJJTVBPU1NJQkxFIiwiTWFwIGNvbW1lbnQgd2l0aCB0cmFpbGluZyBjb250ZW50IiksYS5yYW5nZT1bcy5vZmZzZXQsbCx1Pz9sXSxhfWZ1bmN0aW9uIGpnKHtjb21wb3NlTm9kZTpuLGNvbXBvc2VFbXB0eU5vZGU6ZX0sdCxzLGkscil7Y29uc3Qgbz0ocj09bnVsbD92b2lkIDA6ci5ub2RlQ2xhc3MpPz9OcyxhPW5ldyBvKHQuc2NoZW1hKTt0LmF0Um9vdCYmKHQuYXRSb290PSExKSx0LmF0S2V5JiYodC5hdEtleT0hMSk7bGV0IGw9cy5vZmZzZXQsdT1udWxsO2Zvcihjb25zdHtzdGFydDpoLHZhbHVlOmN9b2Ygcy5pdGVtcyl7Y29uc3QgbT1ibihoLHtpbmRpY2F0b3I6InNlcS1pdGVtLWluZCIsbmV4dDpjLG9mZnNldDpsLG9uRXJyb3I6aSxwYXJlbnRJbmRlbnQ6cy5pbmRlbnQsc3RhcnRPbk5ld2xpbmU6ITB9KTtpZighbS5mb3VuZClpZihtLmFuY2hvcnx8bS50YWd8fGMpYyYmYy50eXBlPT09ImJsb2NrLXNlcSI/aShtLmVuZCwiQkFEX0lOREVOVCIsIkFsbCBzZXF1ZW5jZSBpdGVtcyBtdXN0IHN0YXJ0IGF0IHRoZSBzYW1lIGNvbHVtbiIpOmkobCwiTUlTU0lOR19DSEFSIiwiU2VxdWVuY2UgaXRlbSB3aXRob3V0IC0gaW5kaWNhdG9yIik7ZWxzZXt1PW0uZW5kLG0uY29tbWVudCYmKGEuY29tbWVudD1tLmNvbW1lbnQpO2NvbnRpbnVlfWNvbnN0IGY9Yz9uKHQsYyxtLGkpOmUodCxtLmVuZCxoLG51bGwsbSxpKTt0LnNjaGVtYS5jb21wYXQmJnNhKHMuaW5kZW50LGMsaSksbD1mLnJhbmdlWzJdLGEuaXRlbXMucHVzaChmKX1yZXR1cm4gYS5yYW5nZT1bcy5vZmZzZXQsbCx1Pz9sXSxhfWZ1bmN0aW9uIGlpKG4sZSx0LHMpe2xldCBpPSIiO2lmKG4pe2xldCByPSExLG89IiI7Zm9yKGNvbnN0IGEgb2Ygbil7Y29uc3R7c291cmNlOmwsdHlwZTp1fT1hO3N3aXRjaCh1KXtjYXNlInNwYWNlIjpyPSEwO2JyZWFrO2Nhc2UiY29tbWVudCI6e3QmJiFyJiZzKGEsIk1JU1NJTkdfQ0hBUiIsIkNvbW1lbnRzIG11c3QgYmUgc2VwYXJhdGVkIGZyb20gb3RoZXIgdG9rZW5zIGJ5IHdoaXRlIHNwYWNlIGNoYXJhY3RlcnMiKTtjb25zdCBoPWwuc3Vic3RyaW5nKDEpfHwiICI7aT9pKz1vK2g6aT1oLG89IiI7YnJlYWt9Y2FzZSJuZXdsaW5lIjppJiYobys9bCkscj0hMDticmVhaztkZWZhdWx0OnMoYSwiVU5FWFBFQ1RFRF9UT0tFTiIsYFVuZXhwZWN0ZWQgJHt1fSBhdCBub2RlIGVuZGApfWUrPWwubGVuZ3RofX1yZXR1cm57Y29tbWVudDppLG9mZnNldDplfX1jb25zdCBuYT0iQmxvY2sgY29sbGVjdGlvbnMgYXJlIG5vdCBhbGxvd2VkIHdpdGhpbiBmbG93IGNvbGxlY3Rpb25zIixpYT1uPT5uJiYobi50eXBlPT09ImJsb2NrLW1hcCJ8fG4udHlwZT09PSJibG9jay1zZXEiKTtmdW5jdGlvbiBxZyh7Y29tcG9zZU5vZGU6bixjb21wb3NlRW1wdHlOb2RlOmV9LHQscyxpLHIpe2NvbnN0IG89cy5zdGFydC5zb3VyY2U9PT0ieyIsYT1vPyJmbG93IG1hcCI6ImZsb3cgc2VxdWVuY2UiLGw9KHI9PW51bGw/dm9pZCAwOnIubm9kZUNsYXNzKT8/KG8/ZnQ6TnMpLHU9bmV3IGwodC5zY2hlbWEpO3UuZmxvdz0hMDtjb25zdCBoPXQuYXRSb290O2gmJih0LmF0Um9vdD0hMSksdC5hdEtleSYmKHQuYXRLZXk9ITEpO2xldCBjPXMub2Zmc2V0K3Muc3RhcnQuc291cmNlLmxlbmd0aDtmb3IobGV0IHk9MDt5PHMuaXRlbXMubGVuZ3RoOysreSl7Y29uc3Qgdz1zLml0ZW1zW3ldLHtzdGFydDpiLGtleTprLHNlcDpTLHZhbHVlOk99PXcsdj1ibihiLHtmbG93OmEsaW5kaWNhdG9yOiJleHBsaWNpdC1rZXktaW5kIixuZXh0Oms/PyhTPT1udWxsP3ZvaWQgMDpTWzBdKSxvZmZzZXQ6YyxvbkVycm9yOmkscGFyZW50SW5kZW50OnMuaW5kZW50LHN0YXJ0T25OZXdsaW5lOiExfSk7aWYoIXYuZm91bmQpe2lmKCF2LmFuY2hvciYmIXYudGFnJiYhUyYmIU8pe3k9PT0wJiZ2LmNvbW1hP2kodi5jb21tYSwiVU5FWFBFQ1RFRF9UT0tFTiIsYFVuZXhwZWN0ZWQgLCBpbiAke2F9YCk6eTxzLml0ZW1zLmxlbmd0aC0xJiZpKHYuc3RhcnQsIlVORVhQRUNURURfVE9LRU4iLGBVbmV4cGVjdGVkIGVtcHR5IGl0ZW0gaW4gJHthfWApLHYuY29tbWVudCYmKHUuY29tbWVudD91LmNvbW1lbnQrPWAKYCt2LmNvbW1lbnQ6dS5jb21tZW50PXYuY29tbWVudCksYz12LmVuZDtjb250aW51ZX0hbyYmdC5vcHRpb25zLnN0cmljdCYmbmkoaykmJmkoaywiTVVMVElMSU5FX0lNUExJQ0lUX0tFWSIsIkltcGxpY2l0IGtleXMgb2YgZmxvdyBzZXF1ZW5jZSBwYWlycyBuZWVkIHRvIGJlIG9uIGEgc2luZ2xlIGxpbmUiKX1pZih5PT09MCl2LmNvbW1hJiZpKHYuY29tbWEsIlVORVhQRUNURURfVE9LRU4iLGBVbmV4cGVjdGVkICwgaW4gJHthfWApO2Vsc2UgaWYodi5jb21tYXx8aSh2LnN0YXJ0LCJNSVNTSU5HX0NIQVIiLGBNaXNzaW5nICwgYmV0d2VlbiAke2F9IGl0ZW1zYCksdi5jb21tZW50KXtsZXQgSD0iIjtlOmZvcihjb25zdCBfIG9mIGIpc3dpdGNoKF8udHlwZSl7Y2FzZSJjb21tYSI6Y2FzZSJzcGFjZSI6YnJlYWs7Y2FzZSJjb21tZW50IjpIPV8uc291cmNlLnN1YnN0cmluZygxKTticmVhayBlO2RlZmF1bHQ6YnJlYWsgZX1pZihIKXtsZXQgXz11Lml0ZW1zW3UuaXRlbXMubGVuZ3RoLTFdO3BlKF8pJiYoXz1fLnZhbHVlPz9fLmtleSksXy5jb21tZW50P18uY29tbWVudCs9YApgK0g6Xy5jb21tZW50PUgsdi5jb21tZW50PXYuY29tbWVudC5zdWJzdHJpbmcoSC5sZW5ndGgrMSl9fWlmKCFvJiYhUyYmIXYuZm91bmQpe2NvbnN0IEg9Tz9uKHQsTyx2LGkpOmUodCx2LmVuZCxTLG51bGwsdixpKTt1Lml0ZW1zLnB1c2goSCksYz1ILnJhbmdlWzJdLGlhKE8pJiZpKEgucmFuZ2UsIkJMT0NLX0lOX0ZMT1ciLG5hKX1lbHNle3QuYXRLZXk9ITA7Y29uc3QgSD12LmVuZCxfPWs/bih0LGssdixpKTplKHQsSCxiLG51bGwsdixpKTtpYShrKSYmaShfLnJhbmdlLCJCTE9DS19JTl9GTE9XIixuYSksdC5hdEtleT0hMTtjb25zdCBZPWJuKFM/P1tdLHtmbG93OmEsaW5kaWNhdG9yOiJtYXAtdmFsdWUtaW5kIixuZXh0Ok8sb2Zmc2V0Ol8ucmFuZ2VbMl0sb25FcnJvcjppLHBhcmVudEluZGVudDpzLmluZGVudCxzdGFydE9uTmV3bGluZTohMX0pO2lmKFkuZm91bmQpe2lmKCFvJiYhdi5mb3VuZCYmdC5vcHRpb25zLnN0cmljdCl7aWYoUylmb3IoY29uc3QgWiBvZiBTKXtpZihaPT09WS5mb3VuZClicmVhaztpZihaLnR5cGU9PT0ibmV3bGluZSIpe2koWiwiTVVMVElMSU5FX0lNUExJQ0lUX0tFWSIsIkltcGxpY2l0IGtleXMgb2YgZmxvdyBzZXF1ZW5jZSBwYWlycyBuZWVkIHRvIGJlIG9uIGEgc2luZ2xlIGxpbmUiKTticmVha319di5zdGFydDxZLmZvdW5kLm9mZnNldC0xMDI0JiZpKFkuZm91bmQsIktFWV9PVkVSXzEwMjRfQ0hBUlMiLCJUaGUgOiBpbmRpY2F0b3IgbXVzdCBiZSBhdCBtb3N0IDEwMjQgY2hhcnMgYWZ0ZXIgdGhlIHN0YXJ0IG9mIGFuIGltcGxpY2l0IGZsb3cgc2VxdWVuY2Uga2V5Iil9fWVsc2UgTyYmKCJzb3VyY2UiaW4gTyYmTy5zb3VyY2UmJk8uc291cmNlWzBdPT09IjoiP2koTywiTUlTU0lOR19DSEFSIixgTWlzc2luZyBzcGFjZSBhZnRlciA6IGluICR7YX1gKTppKFkuc3RhcnQsIk1JU1NJTkdfQ0hBUiIsYE1pc3NpbmcgLCBvciA6IGJldHdlZW4gJHthfSBpdGVtc2ApKTtjb25zdCBSPU8/bih0LE8sWSxpKTpZLmZvdW5kP2UodCxZLmVuZCxTLG51bGwsWSxpKTpudWxsO1I/aWEoTykmJmkoUi5yYW5nZSwiQkxPQ0tfSU5fRkxPVyIsbmEpOlkuY29tbWVudCYmKF8uY29tbWVudD9fLmNvbW1lbnQrPWAKYCtZLmNvbW1lbnQ6Xy5jb21tZW50PVkuY29tbWVudCk7Y29uc3QgVj1uZXcgV2UoXyxSKTtpZih0Lm9wdGlvbnMua2VlcFNvdXJjZVRva2VucyYmKFYuc3JjVG9rZW49dyksbyl7Y29uc3QgWj11O3pjKHQsWi5pdGVtcyxfKSYmaShILCJEVVBMSUNBVEVfS0VZIiwiTWFwIGtleXMgbXVzdCBiZSB1bmlxdWUiKSxaLml0ZW1zLnB1c2goVil9ZWxzZXtjb25zdCBaPW5ldyBmdCh0LnNjaGVtYSk7Wi5mbG93PSEwLFouaXRlbXMucHVzaChWKTtjb25zdCB2dD0oUj8/XykucmFuZ2U7Wi5yYW5nZT1bXy5yYW5nZVswXSx2dFsxXSx2dFsyXV0sdS5pdGVtcy5wdXNoKFopfWM9Uj9SLnJhbmdlWzJdOlkuZW5kfX1jb25zdCBtPW8/In0iOiJdIixbZiwuLi5nXT1zLmVuZDtsZXQgZD1jO2lmKGYmJmYuc291cmNlPT09bSlkPWYub2Zmc2V0K2Yuc291cmNlLmxlbmd0aDtlbHNle2NvbnN0IHk9YVswXS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyaW5nKDEpLHc9aD9gJHt5fSBtdXN0IGVuZCB3aXRoIGEgJHttfWA6YCR7eX0gaW4gYmxvY2sgY29sbGVjdGlvbiBtdXN0IGJlIHN1ZmZpY2llbnRseSBpbmRlbnRlZCBhbmQgZW5kIHdpdGggYSAke219YDtpKGMsaD8iTUlTU0lOR19DSEFSIjoiQkFEX0lOREVOVCIsdyksZiYmZi5zb3VyY2UubGVuZ3RoIT09MSYmZy51bnNoaWZ0KGYpfWlmKGcubGVuZ3RoPjApe2NvbnN0IHk9aWkoZyxkLHQub3B0aW9ucy5zdHJpY3QsaSk7eS5jb21tZW50JiYodS5jb21tZW50P3UuY29tbWVudCs9YApgK3kuY29tbWVudDp1LmNvbW1lbnQ9eS5jb21tZW50KSx1LnJhbmdlPVtzLm9mZnNldCxkLHkub2Zmc2V0XX1lbHNlIHUucmFuZ2U9W3Mub2Zmc2V0LGQsZF07cmV0dXJuIHV9ZnVuY3Rpb24gcmEobixlLHQscyxpLHIpe2NvbnN0IG89dC50eXBlPT09ImJsb2NrLW1hcCI/VmcobixlLHQscyxyKTp0LnR5cGU9PT0iYmxvY2stc2VxIj9qZyhuLGUsdCxzLHIpOnFnKG4sZSx0LHMsciksYT1vLmNvbnN0cnVjdG9yO3JldHVybiBpPT09IiEifHxpPT09YS50YWdOYW1lPyhvLnRhZz1hLnRhZ05hbWUsbyk6KGkmJihvLnRhZz1pKSxvKX1mdW5jdGlvbiBLZyhuLGUsdCxzLGkpe3ZhciBtO2NvbnN0IHI9cy50YWcsbz1yP2UuZGlyZWN0aXZlcy50YWdOYW1lKHIuc291cmNlLGY9PmkociwiVEFHX1JFU09MVkVfRkFJTEVEIixmKSk6bnVsbDtpZih0LnR5cGU9PT0iYmxvY2stc2VxIil7Y29uc3R7YW5jaG9yOmYsbmV3bGluZUFmdGVyUHJvcDpnfT1zLGQ9ZiYmcj9mLm9mZnNldD5yLm9mZnNldD9mOnI6Zj8/cjtkJiYoIWd8fGcub2Zmc2V0PGQub2Zmc2V0KSYmaShkLCJNSVNTSU5HX0NIQVIiLCJNaXNzaW5nIG5ld2xpbmUgYWZ0ZXIgYmxvY2sgc2VxdWVuY2UgcHJvcHMiKX1jb25zdCBhPXQudHlwZT09PSJibG9jay1tYXAiPyJtYXAiOnQudHlwZT09PSJibG9jay1zZXEiPyJzZXEiOnQuc3RhcnQuc291cmNlPT09InsiPyJtYXAiOiJzZXEiO2lmKCFyfHwhb3x8bz09PSIhInx8bz09PWZ0LnRhZ05hbWUmJmE9PT0ibWFwInx8bz09PU5zLnRhZ05hbWUmJmE9PT0ic2VxIilyZXR1cm4gcmEobixlLHQsaSxvKTtsZXQgbD1lLnNjaGVtYS50YWdzLmZpbmQoZj0+Zi50YWc9PT1vJiZmLmNvbGxlY3Rpb249PT1hKTtpZighbCl7Y29uc3QgZj1lLnNjaGVtYS5rbm93blRhZ3Nbb107aWYoZiYmZi5jb2xsZWN0aW9uPT09YSllLnNjaGVtYS50YWdzLnB1c2goT2JqZWN0LmFzc2lnbih7fSxmLHtkZWZhdWx0OiExfSkpLGw9ZjtlbHNlIHJldHVybiBmP2kociwiQkFEX0NPTExFQ1RJT05fVFlQRSIsYCR7Zi50YWd9IHVzZWQgZm9yICR7YX0gY29sbGVjdGlvbiwgYnV0IGV4cGVjdHMgJHtmLmNvbGxlY3Rpb24/PyJzY2FsYXIifWAsITApOmkociwiVEFHX1JFU09MVkVfRkFJTEVEIixgVW5yZXNvbHZlZCB0YWc6ICR7b31gLCEwKSxyYShuLGUsdCxpLG8pfWNvbnN0IHU9cmEobixlLHQsaSxvLGwpLGg9KChtPWwucmVzb2x2ZSk9PW51bGw/dm9pZCAwOm0uY2FsbChsLHUsZj0+aShyLCJUQUdfUkVTT0xWRV9GQUlMRUQiLGYpLGUub3B0aW9ucykpPz91LGM9d2UoaCk/aDpuZXcgQihoKTtyZXR1cm4gYy5yYW5nZT11LnJhbmdlLGMudGFnPW8sbCE9bnVsbCYmbC5mb3JtYXQmJihjLmZvcm1hdD1sLmZvcm1hdCksY31mdW5jdGlvbiBaZyhuLGUsdCl7Y29uc3Qgcz1lLm9mZnNldCxpPUdnKGUsbi5vcHRpb25zLnN0cmljdCx0KTtpZighaSlyZXR1cm57dmFsdWU6IiIsdHlwZTpudWxsLGNvbW1lbnQ6IiIscmFuZ2U6W3MscyxzXX07Y29uc3Qgcj1pLm1vZGU9PT0iPiI/Qi5CTE9DS19GT0xERUQ6Qi5CTE9DS19MSVRFUkFMLG89ZS5zb3VyY2U/SmcoZS5zb3VyY2UpOltdO2xldCBhPW8ubGVuZ3RoO2ZvcihsZXQgZD1vLmxlbmd0aC0xO2Q+PTA7LS1kKXtjb25zdCB5PW9bZF1bMV07aWYoeT09PSIifHx5PT09IlxyIilhPWQ7ZWxzZSBicmVha31pZihhPT09MCl7Y29uc3QgZD1pLmNob21wPT09IisiJiZvLmxlbmd0aD4wP2AKYC5yZXBlYXQoTWF0aC5tYXgoMSxvLmxlbmd0aC0xKSk6IiI7bGV0IHk9cytpLmxlbmd0aDtyZXR1cm4gZS5zb3VyY2UmJih5Kz1lLnNvdXJjZS5sZW5ndGgpLHt2YWx1ZTpkLHR5cGU6cixjb21tZW50OmkuY29tbWVudCxyYW5nZTpbcyx5LHldfX1sZXQgbD1lLmluZGVudCtpLmluZGVudCx1PWUub2Zmc2V0K2kubGVuZ3RoLGg9MDtmb3IobGV0IGQ9MDtkPGE7KytkKXtjb25zdFt5LHddPW9bZF07aWYodz09PSIifHx3PT09IlxyIilpLmluZGVudD09PTAmJnkubGVuZ3RoPmwmJihsPXkubGVuZ3RoKTtlbHNle3kubGVuZ3RoPGwmJnQodSt5Lmxlbmd0aCwiTUlTU0lOR19DSEFSIiwiQmxvY2sgc2NhbGFycyB3aXRoIG1vcmUtaW5kZW50ZWQgbGVhZGluZyBlbXB0eSBsaW5lcyBtdXN0IHVzZSBhbiBleHBsaWNpdCBpbmRlbnRhdGlvbiBpbmRpY2F0b3IiKSxpLmluZGVudD09PTAmJihsPXkubGVuZ3RoKSxoPWQsbD09PTAmJiFuLmF0Um9vdCYmdCh1LCJCQURfSU5ERU5UIiwiQmxvY2sgc2NhbGFyIHZhbHVlcyBpbiBjb2xsZWN0aW9ucyBtdXN0IGJlIGluZGVudGVkIik7YnJlYWt9dSs9eS5sZW5ndGgrdy5sZW5ndGgrMX1mb3IobGV0IGQ9by5sZW5ndGgtMTtkPj1hOy0tZClvW2RdWzBdLmxlbmd0aD5sJiYoYT1kKzEpO2xldCBjPSIiLG09IiIsZj0hMTtmb3IobGV0IGQ9MDtkPGg7KytkKWMrPW9bZF1bMF0uc2xpY2UobCkrYApgO2ZvcihsZXQgZD1oO2Q8YTsrK2Qpe2xldFt5LHddPW9bZF07dSs9eS5sZW5ndGgrdy5sZW5ndGgrMTtjb25zdCBiPXdbdy5sZW5ndGgtMV09PT0iXHIiO2lmKGImJih3PXcuc2xpY2UoMCwtMSkpLHcmJnkubGVuZ3RoPGwpe2NvbnN0IFM9YEJsb2NrIHNjYWxhciBsaW5lcyBtdXN0IG5vdCBiZSBsZXNzIGluZGVudGVkIHRoYW4gdGhlaXIgJHtpLmluZGVudD8iZXhwbGljaXQgaW5kZW50YXRpb24gaW5kaWNhdG9yIjoiZmlyc3QgbGluZSJ9YDt0KHUtdy5sZW5ndGgtKGI/MjoxKSwiQkFEX0lOREVOVCIsUykseT0iIn1yPT09Qi5CTE9DS19MSVRFUkFMPyhjKz1tK3kuc2xpY2UobCkrdyxtPWAKYCk6eS5sZW5ndGg+bHx8d1swXT09PSIJIj8obT09PSIgIj9tPWAKYDohZiYmbT09PWAKYCYmKG09YAoKYCksYys9bSt5LnNsaWNlKGwpK3csbT1gCmAsZj0hMCk6dz09PSIiP209PT1gCmA/Yys9YApgOm09YApgOihjKz1tK3csbT0iICIsZj0hMSl9c3dpdGNoKGkuY2hvbXApe2Nhc2UiLSI6YnJlYWs7Y2FzZSIrIjpmb3IobGV0IGQ9YTtkPG8ubGVuZ3RoOysrZCljKz1gCmArb1tkXVswXS5zbGljZShsKTtjW2MubGVuZ3RoLTFdIT09YApgJiYoYys9YApgKTticmVhaztkZWZhdWx0OmMrPWAKYH1jb25zdCBnPXMraS5sZW5ndGgrZS5zb3VyY2UubGVuZ3RoO3JldHVybnt2YWx1ZTpjLHR5cGU6cixjb21tZW50OmkuY29tbWVudCxyYW5nZTpbcyxnLGddfX1mdW5jdGlvbiBHZyh7b2Zmc2V0Om4scHJvcHM6ZX0sdCxzKXtpZihlWzBdLnR5cGUhPT0iYmxvY2stc2NhbGFyLWhlYWRlciIpcmV0dXJuIHMoZVswXSwiSU1QT1NTSUJMRSIsIkJsb2NrIHNjYWxhciBoZWFkZXIgbm90IGZvdW5kIiksbnVsbDtjb25zdHtzb3VyY2U6aX09ZVswXSxyPWlbMF07bGV0IG89MCxhPSIiLGw9LTE7Zm9yKGxldCBtPTE7bTxpLmxlbmd0aDsrK20pe2NvbnN0IGY9aVttXTtpZighYSYmKGY9PT0iLSJ8fGY9PT0iKyIpKWE9ZjtlbHNle2NvbnN0IGc9TnVtYmVyKGYpOyFvJiZnP289ZzpsPT09LTEmJihsPW4rbSl9fWwhPT0tMSYmcyhsLCJVTkVYUEVDVEVEX1RPS0VOIixgQmxvY2sgc2NhbGFyIGhlYWRlciBpbmNsdWRlcyBleHRyYSBjaGFyYWN0ZXJzOiAke2l9YCk7bGV0IHU9ITEsaD0iIixjPWkubGVuZ3RoO2ZvcihsZXQgbT0xO208ZS5sZW5ndGg7KyttKXtjb25zdCBmPWVbbV07c3dpdGNoKGYudHlwZSl7Y2FzZSJzcGFjZSI6dT0hMDtjYXNlIm5ld2xpbmUiOmMrPWYuc291cmNlLmxlbmd0aDticmVhaztjYXNlImNvbW1lbnQiOnQmJiF1JiZzKGYsIk1JU1NJTkdfQ0hBUiIsIkNvbW1lbnRzIG11c3QgYmUgc2VwYXJhdGVkIGZyb20gb3RoZXIgdG9rZW5zIGJ5IHdoaXRlIHNwYWNlIGNoYXJhY3RlcnMiKSxjKz1mLnNvdXJjZS5sZW5ndGgsaD1mLnNvdXJjZS5zdWJzdHJpbmcoMSk7YnJlYWs7Y2FzZSJlcnJvciI6cyhmLCJVTkVYUEVDVEVEX1RPS0VOIixmLm1lc3NhZ2UpLGMrPWYuc291cmNlLmxlbmd0aDticmVhaztkZWZhdWx0Ontjb25zdCBnPWBVbmV4cGVjdGVkIHRva2VuIGluIGJsb2NrIHNjYWxhciBoZWFkZXI6ICR7Zi50eXBlfWA7cyhmLCJVTkVYUEVDVEVEX1RPS0VOIixnKTtjb25zdCBkPWYuc291cmNlO2QmJnR5cGVvZiBkPT0ic3RyaW5nIiYmKGMrPWQubGVuZ3RoKX19fXJldHVybnttb2RlOnIsaW5kZW50Om8sY2hvbXA6YSxjb21tZW50OmgsbGVuZ3RoOmN9fWZ1bmN0aW9uIEpnKG4pe2NvbnN0IGU9bi5zcGxpdCgvXG4oICopLyksdD1lWzBdLHM9dC5tYXRjaCgvXiggKikvKSxyPVtzIT1udWxsJiZzWzFdP1tzWzFdLHQuc2xpY2Uoc1sxXS5sZW5ndGgpXTpbIiIsdF1dO2ZvcihsZXQgbz0xO288ZS5sZW5ndGg7bys9MilyLnB1c2goW2Vbb10sZVtvKzFdXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gWGcobixlLHQpe2NvbnN0e29mZnNldDpzLHR5cGU6aSxzb3VyY2U6cixlbmQ6b309bjtsZXQgYSxsO2NvbnN0IHU9KG0sZixnKT0+dChzK20sZixnKTtzd2l0Y2goaSl7Y2FzZSJzY2FsYXIiOmE9Qi5QTEFJTixsPVFnKHIsdSk7YnJlYWs7Y2FzZSJzaW5nbGUtcXVvdGVkLXNjYWxhciI6YT1CLlFVT1RFX1NJTkdMRSxsPWUwKHIsdSk7YnJlYWs7Y2FzZSJkb3VibGUtcXVvdGVkLXNjYWxhciI6YT1CLlFVT1RFX0RPVUJMRSxsPXQwKHIsdSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdChuLCJVTkVYUEVDVEVEX1RPS0VOIixgRXhwZWN0ZWQgYSBmbG93IHNjYWxhciB2YWx1ZSwgYnV0IGZvdW5kOiAke2l9YCkse3ZhbHVlOiIiLHR5cGU6bnVsbCxjb21tZW50OiIiLHJhbmdlOltzLHMrci5sZW5ndGgscytyLmxlbmd0aF19fWNvbnN0IGg9cytyLmxlbmd0aCxjPWlpKG8saCxlLHQpO3JldHVybnt2YWx1ZTpsLHR5cGU6YSxjb21tZW50OmMuY29tbWVudCxyYW5nZTpbcyxoLGMub2Zmc2V0XX19ZnVuY3Rpb24gUWcobixlKXtsZXQgdD0iIjtzd2l0Y2goblswXSl7Y2FzZSIJIjp0PSJhIHRhYiBjaGFyYWN0ZXIiO2JyZWFrO2Nhc2UiLCI6dD0iZmxvdyBpbmRpY2F0b3IgY2hhcmFjdGVyICwiO2JyZWFrO2Nhc2UiJSI6dD0iZGlyZWN0aXZlIGluZGljYXRvciBjaGFyYWN0ZXIgJSI7YnJlYWs7Y2FzZSJ8IjpjYXNlIj4iOnt0PWBibG9jayBzY2FsYXIgaW5kaWNhdG9yICR7blswXX1gO2JyZWFrfWNhc2UiQCI6Y2FzZSJgIjp7dD1gcmVzZXJ2ZWQgY2hhcmFjdGVyICR7blswXX1gO2JyZWFrfX1yZXR1cm4gdCYmZSgwLCJCQURfU0NBTEFSX1NUQVJUIixgUGxhaW4gdmFsdWUgY2Fubm90IHN0YXJ0IHdpdGggJHt0fWApLCRjKG4pfWZ1bmN0aW9uIGUwKG4sZSl7cmV0dXJuKG5bbi5sZW5ndGgtMV0hPT0iJyJ8fG4ubGVuZ3RoPT09MSkmJmUobi5sZW5ndGgsIk1JU1NJTkdfQ0hBUiIsIk1pc3NpbmcgY2xvc2luZyAncXVvdGUiKSwkYyhuLnNsaWNlKDEsLTEpKS5yZXBsYWNlKC8nJy9nLCInIil9ZnVuY3Rpb24gJGMobil7bGV0IGUsdDt0cnl7ZT1uZXcgUmVnRXhwKGAoLio/KSg/PCFbIAldKVsgCV0qXHI/CmAsInN5IiksdD1uZXcgUmVnRXhwKGBbIAldKiguKj8pKD86KD88IVsgCV0pWyAJXSopP1xyPwpgLCJzeSIpfWNhdGNoe2U9LyguKj8pWyBcdF0qXHI/XG4vc3ksdD0vWyBcdF0qKC4qPylbIFx0XSpccj9cbi9zeX1sZXQgcz1lLmV4ZWMobik7aWYoIXMpcmV0dXJuIG47bGV0IGk9c1sxXSxyPSIgIixvPWUubGFzdEluZGV4O2Zvcih0Lmxhc3RJbmRleD1vO3M9dC5leGVjKG4pOylzWzFdPT09IiI/cj09PWAKYD9pKz1yOnI9YApgOihpKz1yK3NbMV0scj0iICIpLG89dC5sYXN0SW5kZXg7Y29uc3QgYT0vWyBcdF0qKC4qKS9zeTtyZXR1cm4gYS5sYXN0SW5kZXg9byxzPWEuZXhlYyhuKSxpK3IrKChzPT1udWxsP3ZvaWQgMDpzWzFdKT8/IiIpfWZ1bmN0aW9uIHQwKG4sZSl7bGV0IHQ9IiI7Zm9yKGxldCBzPTE7czxuLmxlbmd0aC0xOysrcyl7Y29uc3QgaT1uW3NdO2lmKCEoaT09PSJcciImJm5bcysxXT09PWAKYCkpaWYoaT09PWAKYCl7Y29uc3R7Zm9sZDpyLG9mZnNldDpvfT1zMChuLHMpO3QrPXIscz1vfWVsc2UgaWYoaT09PSJcXCIpe2xldCByPW5bKytzXTtjb25zdCBvPW4wW3JdO2lmKG8pdCs9bztlbHNlIGlmKHI9PT1gCmApZm9yKHI9bltzKzFdO3I9PT0iICJ8fHI9PT0iCSI7KXI9blsrK3MrMV07ZWxzZSBpZihyPT09IlxyIiYmbltzKzFdPT09YApgKWZvcihyPW5bKytzKzFdO3I9PT0iICJ8fHI9PT0iCSI7KXI9blsrK3MrMV07ZWxzZSBpZihyPT09IngifHxyPT09InUifHxyPT09IlUiKXtjb25zdCBhPXt4OjIsdTo0LFU6OH1bcl07dCs9aTAobixzKzEsYSxlKSxzKz1hfWVsc2V7Y29uc3QgYT1uLnN1YnN0cihzLTEsMik7ZShzLTEsIkJBRF9EUV9FU0NBUEUiLGBJbnZhbGlkIGVzY2FwZSBzZXF1ZW5jZSAke2F9YCksdCs9YX19ZWxzZSBpZihpPT09IiAifHxpPT09IgkiKXtjb25zdCByPXM7bGV0IG89bltzKzFdO2Zvcig7bz09PSIgInx8bz09PSIJIjspbz1uWysrcysxXTtvIT09YApgJiYhKG89PT0iXHIiJiZuW3MrMl09PT1gCmApJiYodCs9cz5yP24uc2xpY2UocixzKzEpOmkpfWVsc2UgdCs9aX1yZXR1cm4obltuLmxlbmd0aC0xXSE9PSciJ3x8bi5sZW5ndGg9PT0xKSYmZShuLmxlbmd0aCwiTUlTU0lOR19DSEFSIiwnTWlzc2luZyBjbG9zaW5nICJxdW90ZScpLHR9ZnVuY3Rpb24gczAobixlKXtsZXQgdD0iIixzPW5bZSsxXTtmb3IoOyhzPT09IiAifHxzPT09IgkifHxzPT09YApgfHxzPT09IlxyIikmJiEocz09PSJcciImJm5bZSsyXSE9PWAKYCk7KXM9PT1gCmAmJih0Kz1gCmApLGUrPTEscz1uW2UrMV07cmV0dXJuIHR8fCh0PSIgIikse2ZvbGQ6dCxvZmZzZXQ6ZX19Y29uc3QgbjA9ezA6IlwwIixhOiJceDA3IixiOiJcYiIsZToiXHgxQiIsZjoiXGYiLG46YApgLHI6IlxyIix0OiIJIix2OiJcdiIsTjoiwoUiLF86IsKgIixMOiJcdTIwMjgiLFA6Ilx1MjAyOSIsIiAiOiIgIiwnIic6JyInLCIvIjoiLyIsIlxcIjoiXFwiLCIJIjoiCSJ9O2Z1bmN0aW9uIGkwKG4sZSx0LHMpe2NvbnN0IGk9bi5zdWJzdHIoZSx0KSxvPWkubGVuZ3RoPT09dCYmL15bMC05YS1mQS1GXSskLy50ZXN0KGkpP3BhcnNlSW50KGksMTYpOk5hTjtpZihpc05hTihvKSl7Y29uc3QgYT1uLnN1YnN0cihlLTIsdCsyKTtyZXR1cm4gcyhlLTIsIkJBRF9EUV9FU0NBUEUiLGBJbnZhbGlkIGVzY2FwZSBzZXF1ZW5jZSAke2F9YCksYX1yZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQobyl9ZnVuY3Rpb24gQmMobixlLHQscyl7Y29uc3R7dmFsdWU6aSx0eXBlOnIsY29tbWVudDpvLHJhbmdlOmF9PWUudHlwZT09PSJibG9jay1zY2FsYXIiP1pnKG4sZSxzKTpYZyhlLG4ub3B0aW9ucy5zdHJpY3QscyksbD10P24uZGlyZWN0aXZlcy50YWdOYW1lKHQuc291cmNlLGM9PnModCwiVEFHX1JFU09MVkVfRkFJTEVEIixjKSk6bnVsbDtsZXQgdTtuLm9wdGlvbnMuc3RyaW5nS2V5cyYmbi5hdEtleT91PW4uc2NoZW1hW1J0XTpsP3U9cjAobi5zY2hlbWEsaSxsLHQscyk6ZS50eXBlPT09InNjYWxhciI/dT1vMChuLGksZSxzKTp1PW4uc2NoZW1hW1J0XTtsZXQgaDt0cnl7Y29uc3QgYz11LnJlc29sdmUoaSxtPT5zKHQ/P2UsIlRBR19SRVNPTFZFX0ZBSUxFRCIsbSksbi5vcHRpb25zKTtoPW9lKGMpP2M6bmV3IEIoYyl9Y2F0Y2goYyl7Y29uc3QgbT1jIGluc3RhbmNlb2YgRXJyb3I/Yy5tZXNzYWdlOlN0cmluZyhjKTtzKHQ/P2UsIlRBR19SRVNPTFZFX0ZBSUxFRCIsbSksaD1uZXcgQihpKX1yZXR1cm4gaC5yYW5nZT1hLGguc291cmNlPWksciYmKGgudHlwZT1yKSxsJiYoaC50YWc9bCksdS5mb3JtYXQmJihoLmZvcm1hdD11LmZvcm1hdCksbyYmKGguY29tbWVudD1vKSxofWZ1bmN0aW9uIHIwKG4sZSx0LHMsaSl7dmFyIGE7aWYodD09PSIhIilyZXR1cm4gbltSdF07Y29uc3Qgcj1bXTtmb3IoY29uc3QgbCBvZiBuLnRhZ3MpaWYoIWwuY29sbGVjdGlvbiYmbC50YWc9PT10KWlmKGwuZGVmYXVsdCYmbC50ZXN0KXIucHVzaChsKTtlbHNlIHJldHVybiBsO2Zvcihjb25zdCBsIG9mIHIpaWYoKGE9bC50ZXN0KSE9bnVsbCYmYS50ZXN0KGUpKXJldHVybiBsO2NvbnN0IG89bi5rbm93blRhZ3NbdF07cmV0dXJuIG8mJiFvLmNvbGxlY3Rpb24/KG4udGFncy5wdXNoKE9iamVjdC5hc3NpZ24oe30sbyx7ZGVmYXVsdDohMSx0ZXN0OnZvaWQgMH0pKSxvKTooaShzLCJUQUdfUkVTT0xWRV9GQUlMRUQiLGBVbnJlc29sdmVkIHRhZzogJHt0fWAsdCE9PSJ0YWc6eWFtbC5vcmcsMjAwMjpzdHIiKSxuW1J0XSl9ZnVuY3Rpb24gbzAoe2F0S2V5Om4sZGlyZWN0aXZlczplLHNjaGVtYTp0fSxzLGkscil7Y29uc3Qgbz10LnRhZ3MuZmluZChhPT57dmFyIGw7cmV0dXJuKGEuZGVmYXVsdD09PSEwfHxuJiZhLmRlZmF1bHQ9PT0ia2V5IikmJigobD1hLnRlc3QpPT1udWxsP3ZvaWQgMDpsLnRlc3QocykpfSl8fHRbUnRdO2lmKHQuY29tcGF0KXtjb25zdCBhPXQuY29tcGF0LmZpbmQobD0+e3ZhciB1O3JldHVybiBsLmRlZmF1bHQmJigodT1sLnRlc3QpPT1udWxsP3ZvaWQgMDp1LnRlc3QocykpfSk/P3RbUnRdO2lmKG8udGFnIT09YS50YWcpe2NvbnN0IGw9ZS50YWdTdHJpbmcoby50YWcpLHU9ZS50YWdTdHJpbmcoYS50YWcpLGg9YFZhbHVlIG1heSBiZSBwYXJzZWQgYXMgZWl0aGVyICR7bH0gb3IgJHt1fWA7cihpLCJUQUdfUkVTT0xWRV9GQUlMRUQiLGgsITApfX1yZXR1cm4gb31mdW5jdGlvbiBhMChuLGUsdCl7aWYoZSl7dD8/KHQ9ZS5sZW5ndGgpO2ZvcihsZXQgcz10LTE7cz49MDstLXMpe2xldCBpPWVbc107c3dpdGNoKGkudHlwZSl7Y2FzZSJzcGFjZSI6Y2FzZSJjb21tZW50IjpjYXNlIm5ld2xpbmUiOm4tPWkuc291cmNlLmxlbmd0aDtjb250aW51ZX1mb3IoaT1lWysrc107KGk9PW51bGw/dm9pZCAwOmkudHlwZSk9PT0ic3BhY2UiOyluKz1pLnNvdXJjZS5sZW5ndGgsaT1lWysrc107YnJlYWt9fXJldHVybiBufWNvbnN0IGwwPXtjb21wb3NlTm9kZTpXYyxjb21wb3NlRW1wdHlOb2RlOm9hfTtmdW5jdGlvbiBXYyhuLGUsdCxzKXtjb25zdCBpPW4uYXRLZXkse3NwYWNlQmVmb3JlOnIsY29tbWVudDpvLGFuY2hvcjphLHRhZzpsfT10O2xldCB1LGg9ITA7c3dpdGNoKGUudHlwZSl7Y2FzZSJhbGlhcyI6dT11MChuLGUscyksKGF8fGwpJiZzKGUsIkFMSUFTX1BST1BTIiwiQW4gYWxpYXMgbm9kZSBtdXN0IG5vdCBzcGVjaWZ5IGFueSBwcm9wZXJ0aWVzIik7YnJlYWs7Y2FzZSJzY2FsYXIiOmNhc2Uic2luZ2xlLXF1b3RlZC1zY2FsYXIiOmNhc2UiZG91YmxlLXF1b3RlZC1zY2FsYXIiOmNhc2UiYmxvY2stc2NhbGFyIjp1PUJjKG4sZSxsLHMpLGEmJih1LmFuY2hvcj1hLnNvdXJjZS5zdWJzdHJpbmcoMSkpO2JyZWFrO2Nhc2UiYmxvY2stbWFwIjpjYXNlImJsb2NrLXNlcSI6Y2FzZSJmbG93LWNvbGxlY3Rpb24iOnU9S2cobDAsbixlLHQscyksYSYmKHUuYW5jaG9yPWEuc291cmNlLnN1YnN0cmluZygxKSk7YnJlYWs7ZGVmYXVsdDp7Y29uc3QgYz1lLnR5cGU9PT0iZXJyb3IiP2UubWVzc2FnZTpgVW5zdXBwb3J0ZWQgdG9rZW4gKHR5cGU6ICR7ZS50eXBlfSlgO3MoZSwiVU5FWFBFQ1RFRF9UT0tFTiIsYyksdT1vYShuLGUub2Zmc2V0LHZvaWQgMCxudWxsLHQscyksaD0hMX19cmV0dXJuIGEmJnUuYW5jaG9yPT09IiImJnMoYSwiQkFEX0FMSUFTIiwiQW5jaG9yIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmciKSxpJiZuLm9wdGlvbnMuc3RyaW5nS2V5cyYmKCFvZSh1KXx8dHlwZW9mIHUudmFsdWUhPSJzdHJpbmcifHx1LnRhZyYmdS50YWchPT0idGFnOnlhbWwub3JnLDIwMDI6c3RyIikmJnMobD8/ZSwiTk9OX1NUUklOR19LRVkiLCJXaXRoIHN0cmluZ0tleXMsIGFsbCBrZXlzIG11c3QgYmUgc3RyaW5ncyIpLHImJih1LnNwYWNlQmVmb3JlPSEwKSxvJiYoZS50eXBlPT09InNjYWxhciImJmUuc291cmNlPT09IiI/dS5jb21tZW50PW86dS5jb21tZW50QmVmb3JlPW8pLG4ub3B0aW9ucy5rZWVwU291cmNlVG9rZW5zJiZoJiYodS5zcmNUb2tlbj1lKSx1fWZ1bmN0aW9uIG9hKG4sZSx0LHMse3NwYWNlQmVmb3JlOmksY29tbWVudDpyLGFuY2hvcjpvLHRhZzphLGVuZDpsfSx1KXtjb25zdCBoPXt0eXBlOiJzY2FsYXIiLG9mZnNldDphMChlLHQscyksaW5kZW50Oi0xLHNvdXJjZToiIn0sYz1CYyhuLGgsYSx1KTtyZXR1cm4gbyYmKGMuYW5jaG9yPW8uc291cmNlLnN1YnN0cmluZygxKSxjLmFuY2hvcj09PSIiJiZ1KG8sIkJBRF9BTElBUyIsIkFuY2hvciBjYW5ub3QgYmUgYW4gZW1wdHkgc3RyaW5nIikpLGkmJihjLnNwYWNlQmVmb3JlPSEwKSxyJiYoYy5jb21tZW50PXIsYy5yYW5nZVsyXT1sKSxjfWZ1bmN0aW9uIHUwKHtvcHRpb25zOm59LHtvZmZzZXQ6ZSxzb3VyY2U6dCxlbmQ6c30saSl7Y29uc3Qgcj1uZXcgem8odC5zdWJzdHJpbmcoMSkpO3Iuc291cmNlPT09IiImJmkoZSwiQkFEX0FMSUFTIiwiQWxpYXMgY2Fubm90IGJlIGFuIGVtcHR5IHN0cmluZyIpLHIuc291cmNlLmVuZHNXaXRoKCI6IikmJmkoZSt0Lmxlbmd0aC0xLCJCQURfQUxJQVMiLCJBbGlhcyBlbmRpbmcgaW4gOiBpcyBhbWJpZ3VvdXMiLCEwKTtjb25zdCBvPWUrdC5sZW5ndGgsYT1paShzLG8sbi5zdHJpY3QsaSk7cmV0dXJuIHIucmFuZ2U9W2UsbyxhLm9mZnNldF0sYS5jb21tZW50JiYoci5jb21tZW50PWEuY29tbWVudCkscn1mdW5jdGlvbiBjMChuLGUse29mZnNldDp0LHN0YXJ0OnMsdmFsdWU6aSxlbmQ6cn0sbyl7Y29uc3QgYT1PYmplY3QuYXNzaWduKHtfZGlyZWN0aXZlczplfSxuKSxsPW5ldyBmcih2b2lkIDAsYSksdT17YXRLZXk6ITEsYXRSb290OiEwLGRpcmVjdGl2ZXM6bC5kaXJlY3RpdmVzLG9wdGlvbnM6bC5vcHRpb25zLHNjaGVtYTpsLnNjaGVtYX0saD1ibihzLHtpbmRpY2F0b3I6ImRvYy1zdGFydCIsbmV4dDppPz8ocj09bnVsbD92b2lkIDA6clswXSksb2Zmc2V0OnQsb25FcnJvcjpvLHBhcmVudEluZGVudDowLHN0YXJ0T25OZXdsaW5lOiEwfSk7aC5mb3VuZCYmKGwuZGlyZWN0aXZlcy5kb2NTdGFydD0hMCxpJiYoaS50eXBlPT09ImJsb2NrLW1hcCJ8fGkudHlwZT09PSJibG9jay1zZXEiKSYmIWguaGFzTmV3bGluZSYmbyhoLmVuZCwiTUlTU0lOR19DSEFSIiwiQmxvY2sgY29sbGVjdGlvbiBjYW5ub3Qgc3RhcnQgb24gc2FtZSBsaW5lIHdpdGggZGlyZWN0aXZlcy1lbmQgbWFya2VyIikpLGwuY29udGVudHM9aT9XYyh1LGksaCxvKTpvYSh1LGguZW5kLHMsbnVsbCxoLG8pO2NvbnN0IGM9bC5jb250ZW50cy5yYW5nZVsyXSxtPWlpKHIsYywhMSxvKTtyZXR1cm4gbS5jb21tZW50JiYobC5jb21tZW50PW0uY29tbWVudCksbC5yYW5nZT1bdCxjLG0ub2Zmc2V0XSxsfWZ1bmN0aW9uIHJpKG4pe2lmKHR5cGVvZiBuPT0ibnVtYmVyIilyZXR1cm5bbixuKzFdO2lmKEFycmF5LmlzQXJyYXkobikpcmV0dXJuIG4ubGVuZ3RoPT09Mj9uOltuWzBdLG5bMV1dO2NvbnN0e29mZnNldDplLHNvdXJjZTp0fT1uO3JldHVybltlLGUrKHR5cGVvZiB0PT0ic3RyaW5nIj90Lmxlbmd0aDoxKV19ZnVuY3Rpb24gSGMobil7dmFyIGk7bGV0IGU9IiIsdD0hMSxzPSExO2ZvcihsZXQgcj0wO3I8bi5sZW5ndGg7KytyKXtjb25zdCBvPW5bcl07c3dpdGNoKG9bMF0pe2Nhc2UiIyI6ZSs9KGU9PT0iIj8iIjpzP2AKCmA6YApgKSsoby5zdWJzdHJpbmcoMSl8fCIgIiksdD0hMCxzPSExO2JyZWFrO2Nhc2UiJSI6KChpPW5bcisxXSk9PW51bGw/dm9pZCAwOmlbMF0pIT09IiMiJiYocis9MSksdD0hMTticmVhaztkZWZhdWx0OnR8fChzPSEwKSx0PSExfX1yZXR1cm57Y29tbWVudDplLGFmdGVyRW1wdHlMaW5lOnN9fWNsYXNzIGgwe2NvbnN0cnVjdG9yKGU9e30pe3RoaXMuZG9jPW51bGwsdGhpcy5hdERpcmVjdGl2ZXM9ITEsdGhpcy5wcmVsdWRlPVtdLHRoaXMuZXJyb3JzPVtdLHRoaXMud2FybmluZ3M9W10sdGhpcy5vbkVycm9yPSh0LHMsaSxyKT0+e2NvbnN0IG89cmkodCk7cj90aGlzLndhcm5pbmdzLnB1c2gobmV3IEhnKG8scyxpKSk6dGhpcy5lcnJvcnMucHVzaChuZXcgdnMobyxzLGkpKX0sdGhpcy5kaXJlY3RpdmVzPW5ldyBCZSh7dmVyc2lvbjplLnZlcnNpb258fCIxLjIifSksdGhpcy5vcHRpb25zPWV9ZGVjb3JhdGUoZSx0KXtjb25zdHtjb21tZW50OnMsYWZ0ZXJFbXB0eUxpbmU6aX09SGModGhpcy5wcmVsdWRlKTtpZihzKXtjb25zdCByPWUuY29udGVudHM7aWYodCllLmNvbW1lbnQ9ZS5jb21tZW50P2Ake2UuY29tbWVudH0KJHtzfWA6cztlbHNlIGlmKGl8fGUuZGlyZWN0aXZlcy5kb2NTdGFydHx8IXIpZS5jb21tZW50QmVmb3JlPXM7ZWxzZSBpZihnZShyKSYmIXIuZmxvdyYmci5pdGVtcy5sZW5ndGg+MCl7bGV0IG89ci5pdGVtc1swXTtwZShvKSYmKG89by5rZXkpO2NvbnN0IGE9by5jb21tZW50QmVmb3JlO28uY29tbWVudEJlZm9yZT1hP2Ake3N9CiR7YX1gOnN9ZWxzZXtjb25zdCBvPXIuY29tbWVudEJlZm9yZTtyLmNvbW1lbnRCZWZvcmU9bz9gJHtzfQoke299YDpzfX10PyhBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShlLmVycm9ycyx0aGlzLmVycm9ycyksQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZS53YXJuaW5ncyx0aGlzLndhcm5pbmdzKSk6KGUuZXJyb3JzPXRoaXMuZXJyb3JzLGUud2FybmluZ3M9dGhpcy53YXJuaW5ncyksdGhpcy5wcmVsdWRlPVtdLHRoaXMuZXJyb3JzPVtdLHRoaXMud2FybmluZ3M9W119c3RyZWFtSW5mbygpe3JldHVybntjb21tZW50OkhjKHRoaXMucHJlbHVkZSkuY29tbWVudCxkaXJlY3RpdmVzOnRoaXMuZGlyZWN0aXZlcyxlcnJvcnM6dGhpcy5lcnJvcnMsd2FybmluZ3M6dGhpcy53YXJuaW5nc319KmNvbXBvc2UoZSx0PSExLHM9LTEpe2Zvcihjb25zdCBpIG9mIGUpeWllbGQqdGhpcy5uZXh0KGkpO3lpZWxkKnRoaXMuZW5kKHQscyl9Km5leHQoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSJkaXJlY3RpdmUiOnRoaXMuZGlyZWN0aXZlcy5hZGQoZS5zb3VyY2UsKHQscyxpKT0+e2NvbnN0IHI9cmkoZSk7clswXSs9dCx0aGlzLm9uRXJyb3IociwiQkFEX0RJUkVDVElWRSIscyxpKX0pLHRoaXMucHJlbHVkZS5wdXNoKGUuc291cmNlKSx0aGlzLmF0RGlyZWN0aXZlcz0hMDticmVhaztjYXNlImRvY3VtZW50Ijp7Y29uc3QgdD1jMCh0aGlzLm9wdGlvbnMsdGhpcy5kaXJlY3RpdmVzLGUsdGhpcy5vbkVycm9yKTt0aGlzLmF0RGlyZWN0aXZlcyYmIXQuZGlyZWN0aXZlcy5kb2NTdGFydCYmdGhpcy5vbkVycm9yKGUsIk1JU1NJTkdfQ0hBUiIsIk1pc3NpbmcgZGlyZWN0aXZlcy1lbmQvZG9jLXN0YXJ0IGluZGljYXRvciBsaW5lIiksdGhpcy5kZWNvcmF0ZSh0LCExKSx0aGlzLmRvYyYmKHlpZWxkIHRoaXMuZG9jKSx0aGlzLmRvYz10LHRoaXMuYXREaXJlY3RpdmVzPSExO2JyZWFrfWNhc2UiYnl0ZS1vcmRlci1tYXJrIjpjYXNlInNwYWNlIjpicmVhaztjYXNlImNvbW1lbnQiOmNhc2UibmV3bGluZSI6dGhpcy5wcmVsdWRlLnB1c2goZS5zb3VyY2UpO2JyZWFrO2Nhc2UiZXJyb3IiOntjb25zdCB0PWUuc291cmNlP2Ake2UubWVzc2FnZX06ICR7SlNPTi5zdHJpbmdpZnkoZS5zb3VyY2UpfWA6ZS5tZXNzYWdlLHM9bmV3IHZzKHJpKGUpLCJVTkVYUEVDVEVEX1RPS0VOIix0KTt0aGlzLmF0RGlyZWN0aXZlc3x8IXRoaXMuZG9jP3RoaXMuZXJyb3JzLnB1c2gocyk6dGhpcy5kb2MuZXJyb3JzLnB1c2gocyk7YnJlYWt9Y2FzZSJkb2MtZW5kIjp7aWYoIXRoaXMuZG9jKXtjb25zdCBzPSJVbmV4cGVjdGVkIGRvYy1lbmQgd2l0aG91dCBwcmVjZWRpbmcgZG9jdW1lbnQiO3RoaXMuZXJyb3JzLnB1c2gobmV3IHZzKHJpKGUpLCJVTkVYUEVDVEVEX1RPS0VOIixzKSk7YnJlYWt9dGhpcy5kb2MuZGlyZWN0aXZlcy5kb2NFbmQ9ITA7Y29uc3QgdD1paShlLmVuZCxlLm9mZnNldCtlLnNvdXJjZS5sZW5ndGgsdGhpcy5kb2Mub3B0aW9ucy5zdHJpY3QsdGhpcy5vbkVycm9yKTtpZih0aGlzLmRlY29yYXRlKHRoaXMuZG9jLCEwKSx0LmNvbW1lbnQpe2NvbnN0IHM9dGhpcy5kb2MuY29tbWVudDt0aGlzLmRvYy5jb21tZW50PXM/YCR7c30KJHt0LmNvbW1lbnR9YDp0LmNvbW1lbnR9dGhpcy5kb2MucmFuZ2VbMl09dC5vZmZzZXQ7YnJlYWt9ZGVmYXVsdDp0aGlzLmVycm9ycy5wdXNoKG5ldyB2cyhyaShlKSwiVU5FWFBFQ1RFRF9UT0tFTiIsYFVuc3VwcG9ydGVkIHRva2VuICR7ZS50eXBlfWApKX19KmVuZChlPSExLHQ9LTEpe2lmKHRoaXMuZG9jKXRoaXMuZGVjb3JhdGUodGhpcy5kb2MsITApLHlpZWxkIHRoaXMuZG9jLHRoaXMuZG9jPW51bGw7ZWxzZSBpZihlKXtjb25zdCBzPU9iamVjdC5hc3NpZ24oe19kaXJlY3RpdmVzOnRoaXMuZGlyZWN0aXZlc30sdGhpcy5vcHRpb25zKSxpPW5ldyBmcih2b2lkIDAscyk7dGhpcy5hdERpcmVjdGl2ZXMmJnRoaXMub25FcnJvcih0LCJNSVNTSU5HX0NIQVIiLCJNaXNzaW5nIGRpcmVjdGl2ZXMtZW5kIGluZGljYXRvciBsaW5lIiksaS5yYW5nZT1bMCx0LHRdLHRoaXMuZGVjb3JhdGUoaSwhMSkseWllbGQgaX19fWNvbnN0IFZjPSJcdUZFRkYiLGpjPSICIixxYz0iGCIsYWE9Ih8iO2Z1bmN0aW9uIGYwKG4pe3N3aXRjaChuKXtjYXNlIFZjOnJldHVybiJieXRlLW9yZGVyLW1hcmsiO2Nhc2UgamM6cmV0dXJuImRvYy1tb2RlIjtjYXNlIHFjOnJldHVybiJmbG93LWVycm9yLWVuZCI7Y2FzZSBhYTpyZXR1cm4ic2NhbGFyIjtjYXNlIi0tLSI6cmV0dXJuImRvYy1zdGFydCI7Y2FzZSIuLi4iOnJldHVybiJkb2MtZW5kIjtjYXNlIiI6Y2FzZWAKYDpjYXNlYFxyCmA6cmV0dXJuIm5ld2xpbmUiO2Nhc2UiLSI6cmV0dXJuInNlcS1pdGVtLWluZCI7Y2FzZSI/IjpyZXR1cm4iZXhwbGljaXQta2V5LWluZCI7Y2FzZSI6IjpyZXR1cm4ibWFwLXZhbHVlLWluZCI7Y2FzZSJ7IjpyZXR1cm4iZmxvdy1tYXAtc3RhcnQiO2Nhc2UifSI6cmV0dXJuImZsb3ctbWFwLWVuZCI7Y2FzZSJbIjpyZXR1cm4iZmxvdy1zZXEtc3RhcnQiO2Nhc2UiXSI6cmV0dXJuImZsb3ctc2VxLWVuZCI7Y2FzZSIsIjpyZXR1cm4iY29tbWEifXN3aXRjaChuWzBdKXtjYXNlIiAiOmNhc2UiCSI6cmV0dXJuInNwYWNlIjtjYXNlIiMiOnJldHVybiJjb21tZW50IjtjYXNlIiUiOnJldHVybiJkaXJlY3RpdmUtbGluZSI7Y2FzZSIqIjpyZXR1cm4iYWxpYXMiO2Nhc2UiJiI6cmV0dXJuImFuY2hvciI7Y2FzZSIhIjpyZXR1cm4idGFnIjtjYXNlIiciOnJldHVybiJzaW5nbGUtcXVvdGVkLXNjYWxhciI7Y2FzZSciJzpyZXR1cm4iZG91YmxlLXF1b3RlZC1zY2FsYXIiO2Nhc2UifCI6Y2FzZSI+IjpyZXR1cm4iYmxvY2stc2NhbGFyLWhlYWRlciJ9cmV0dXJuIG51bGx9ZnVuY3Rpb24gVHQobil7c3dpdGNoKG4pe2Nhc2Ugdm9pZCAwOmNhc2UiICI6Y2FzZWAKYDpjYXNlIlxyIjpjYXNlIgkiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fWNvbnN0IEtjPW5ldyBTZXQoIjAxMjM0NTY3ODlBQkNERUZhYmNkZWYiKSxkMD1uZXcgU2V0KCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ei0jOy8/OkAmPSskXy4hfionKCkiKSxkcj1uZXcgU2V0KCIsW117fSIpLG0wPW5ldyBTZXQoYCAsW117fQpccglgKSxsYT1uPT4hbnx8bTAuaGFzKG4pO2NsYXNzIHkwe2NvbnN0cnVjdG9yKCl7dGhpcy5hdEVuZD0hMSx0aGlzLmJsb2NrU2NhbGFySW5kZW50PS0xLHRoaXMuYmxvY2tTY2FsYXJLZWVwPSExLHRoaXMuYnVmZmVyPSIiLHRoaXMuZmxvd0tleT0hMSx0aGlzLmZsb3dMZXZlbD0wLHRoaXMuaW5kZW50TmV4dD0wLHRoaXMuaW5kZW50VmFsdWU9MCx0aGlzLmxpbmVFbmRQb3M9bnVsbCx0aGlzLm5leHQ9bnVsbCx0aGlzLnBvcz0wfSpsZXgoZSx0PSExKXtpZihlKXtpZih0eXBlb2YgZSE9InN0cmluZyIpdGhyb3cgVHlwZUVycm9yKCJzb3VyY2UgaXMgbm90IGEgc3RyaW5nIik7dGhpcy5idWZmZXI9dGhpcy5idWZmZXI/dGhpcy5idWZmZXIrZTplLHRoaXMubGluZUVuZFBvcz1udWxsfXRoaXMuYXRFbmQ9IXQ7bGV0IHM9dGhpcy5uZXh0Pz8ic3RyZWFtIjtmb3IoO3MmJih0fHx0aGlzLmhhc0NoYXJzKDEpKTspcz15aWVsZCp0aGlzLnBhcnNlTmV4dChzKX1hdExpbmVFbmQoKXtsZXQgZT10aGlzLnBvcyx0PXRoaXMuYnVmZmVyW2VdO2Zvcig7dD09PSIgInx8dD09PSIJIjspdD10aGlzLmJ1ZmZlclsrK2VdO3JldHVybiF0fHx0PT09IiMifHx0PT09YApgPyEwOnQ9PT0iXHIiP3RoaXMuYnVmZmVyW2UrMV09PT1gCmA6ITF9Y2hhckF0KGUpe3JldHVybiB0aGlzLmJ1ZmZlclt0aGlzLnBvcytlXX1jb250aW51ZVNjYWxhcihlKXtsZXQgdD10aGlzLmJ1ZmZlcltlXTtpZih0aGlzLmluZGVudE5leHQ+MCl7bGV0IHM9MDtmb3IoO3Q9PT0iICI7KXQ9dGhpcy5idWZmZXJbKytzK2VdO2lmKHQ9PT0iXHIiKXtjb25zdCBpPXRoaXMuYnVmZmVyW3MrZSsxXTtpZihpPT09YApgfHwhaSYmIXRoaXMuYXRFbmQpcmV0dXJuIGUrcysxfXJldHVybiB0PT09YApgfHxzPj10aGlzLmluZGVudE5leHR8fCF0JiYhdGhpcy5hdEVuZD9lK3M6LTF9aWYodD09PSItInx8dD09PSIuIil7Y29uc3Qgcz10aGlzLmJ1ZmZlci5zdWJzdHIoZSwzKTtpZigocz09PSItLS0ifHxzPT09Ii4uLiIpJiZUdCh0aGlzLmJ1ZmZlcltlKzNdKSlyZXR1cm4tMX1yZXR1cm4gZX1nZXRMaW5lKCl7bGV0IGU9dGhpcy5saW5lRW5kUG9zO3JldHVybih0eXBlb2YgZSE9Im51bWJlciJ8fGUhPT0tMSYmZTx0aGlzLnBvcykmJihlPXRoaXMuYnVmZmVyLmluZGV4T2YoYApgLHRoaXMucG9zKSx0aGlzLmxpbmVFbmRQb3M9ZSksZT09PS0xP3RoaXMuYXRFbmQ/dGhpcy5idWZmZXIuc3Vic3RyaW5nKHRoaXMucG9zKTpudWxsOih0aGlzLmJ1ZmZlcltlLTFdPT09IlxyIiYmKGUtPTEpLHRoaXMuYnVmZmVyLnN1YnN0cmluZyh0aGlzLnBvcyxlKSl9aGFzQ2hhcnMoZSl7cmV0dXJuIHRoaXMucG9zK2U8PXRoaXMuYnVmZmVyLmxlbmd0aH1zZXROZXh0KGUpe3JldHVybiB0aGlzLmJ1ZmZlcj10aGlzLmJ1ZmZlci5zdWJzdHJpbmcodGhpcy5wb3MpLHRoaXMucG9zPTAsdGhpcy5saW5lRW5kUG9zPW51bGwsdGhpcy5uZXh0PWUsbnVsbH1wZWVrKGUpe3JldHVybiB0aGlzLmJ1ZmZlci5zdWJzdHIodGhpcy5wb3MsZSl9KnBhcnNlTmV4dChlKXtzd2l0Y2goZSl7Y2FzZSJzdHJlYW0iOnJldHVybiB5aWVsZCp0aGlzLnBhcnNlU3RyZWFtKCk7Y2FzZSJsaW5lLXN0YXJ0IjpyZXR1cm4geWllbGQqdGhpcy5wYXJzZUxpbmVTdGFydCgpO2Nhc2UiYmxvY2stc3RhcnQiOnJldHVybiB5aWVsZCp0aGlzLnBhcnNlQmxvY2tTdGFydCgpO2Nhc2UiZG9jIjpyZXR1cm4geWllbGQqdGhpcy5wYXJzZURvY3VtZW50KCk7Y2FzZSJmbG93IjpyZXR1cm4geWllbGQqdGhpcy5wYXJzZUZsb3dDb2xsZWN0aW9uKCk7Y2FzZSJxdW90ZWQtc2NhbGFyIjpyZXR1cm4geWllbGQqdGhpcy5wYXJzZVF1b3RlZFNjYWxhcigpO2Nhc2UiYmxvY2stc2NhbGFyIjpyZXR1cm4geWllbGQqdGhpcy5wYXJzZUJsb2NrU2NhbGFyKCk7Y2FzZSJwbGFpbi1zY2FsYXIiOnJldHVybiB5aWVsZCp0aGlzLnBhcnNlUGxhaW5TY2FsYXIoKX19KnBhcnNlU3RyZWFtKCl7bGV0IGU9dGhpcy5nZXRMaW5lKCk7aWYoZT09PW51bGwpcmV0dXJuIHRoaXMuc2V0TmV4dCgic3RyZWFtIik7aWYoZVswXT09PVZjJiYoeWllbGQqdGhpcy5wdXNoQ291bnQoMSksZT1lLnN1YnN0cmluZygxKSksZVswXT09PSIlIil7bGV0IHQ9ZS5sZW5ndGgscz1lLmluZGV4T2YoIiMiKTtmb3IoO3MhPT0tMTspe2NvbnN0IHI9ZVtzLTFdO2lmKHI9PT0iICJ8fHI9PT0iCSIpe3Q9cy0xO2JyZWFrfWVsc2Ugcz1lLmluZGV4T2YoIiMiLHMrMSl9Zm9yKDs7KXtjb25zdCByPWVbdC0xXTtpZihyPT09IiAifHxyPT09IgkiKXQtPTE7ZWxzZSBicmVha31jb25zdCBpPSh5aWVsZCp0aGlzLnB1c2hDb3VudCh0KSkrKHlpZWxkKnRoaXMucHVzaFNwYWNlcyghMCkpO3JldHVybiB5aWVsZCp0aGlzLnB1c2hDb3VudChlLmxlbmd0aC1pKSx0aGlzLnB1c2hOZXdsaW5lKCksInN0cmVhbSJ9aWYodGhpcy5hdExpbmVFbmQoKSl7Y29uc3QgdD15aWVsZCp0aGlzLnB1c2hTcGFjZXMoITApO3JldHVybiB5aWVsZCp0aGlzLnB1c2hDb3VudChlLmxlbmd0aC10KSx5aWVsZCp0aGlzLnB1c2hOZXdsaW5lKCksInN0cmVhbSJ9cmV0dXJuIHlpZWxkIGpjLHlpZWxkKnRoaXMucGFyc2VMaW5lU3RhcnQoKX0qcGFyc2VMaW5lU3RhcnQoKXtjb25zdCBlPXRoaXMuY2hhckF0KDApO2lmKCFlJiYhdGhpcy5hdEVuZClyZXR1cm4gdGhpcy5zZXROZXh0KCJsaW5lLXN0YXJ0Iik7aWYoZT09PSItInx8ZT09PSIuIil7aWYoIXRoaXMuYXRFbmQmJiF0aGlzLmhhc0NoYXJzKDQpKXJldHVybiB0aGlzLnNldE5leHQoImxpbmUtc3RhcnQiKTtjb25zdCB0PXRoaXMucGVlaygzKTtpZigodD09PSItLS0ifHx0PT09Ii4uLiIpJiZUdCh0aGlzLmNoYXJBdCgzKSkpcmV0dXJuIHlpZWxkKnRoaXMucHVzaENvdW50KDMpLHRoaXMuaW5kZW50VmFsdWU9MCx0aGlzLmluZGVudE5leHQ9MCx0PT09Ii0tLSI/ImRvYyI6InN0cmVhbSJ9cmV0dXJuIHRoaXMuaW5kZW50VmFsdWU9eWllbGQqdGhpcy5wdXNoU3BhY2VzKCExKSx0aGlzLmluZGVudE5leHQ+dGhpcy5pbmRlbnRWYWx1ZSYmIVR0KHRoaXMuY2hhckF0KDEpKSYmKHRoaXMuaW5kZW50TmV4dD10aGlzLmluZGVudFZhbHVlKSx5aWVsZCp0aGlzLnBhcnNlQmxvY2tTdGFydCgpfSpwYXJzZUJsb2NrU3RhcnQoKXtjb25zdFtlLHRdPXRoaXMucGVlaygyKTtpZighdCYmIXRoaXMuYXRFbmQpcmV0dXJuIHRoaXMuc2V0TmV4dCgiYmxvY2stc3RhcnQiKTtpZigoZT09PSItInx8ZT09PSI/Inx8ZT09PSI6IikmJlR0KHQpKXtjb25zdCBzPSh5aWVsZCp0aGlzLnB1c2hDb3VudCgxKSkrKHlpZWxkKnRoaXMucHVzaFNwYWNlcyghMCkpO3JldHVybiB0aGlzLmluZGVudE5leHQ9dGhpcy5pbmRlbnRWYWx1ZSsxLHRoaXMuaW5kZW50VmFsdWUrPXMseWllbGQqdGhpcy5wYXJzZUJsb2NrU3RhcnQoKX1yZXR1cm4iZG9jIn0qcGFyc2VEb2N1bWVudCgpe3lpZWxkKnRoaXMucHVzaFNwYWNlcyghMCk7Y29uc3QgZT10aGlzLmdldExpbmUoKTtpZihlPT09bnVsbClyZXR1cm4gdGhpcy5zZXROZXh0KCJkb2MiKTtsZXQgdD15aWVsZCp0aGlzLnB1c2hJbmRpY2F0b3JzKCk7c3dpdGNoKGVbdF0pe2Nhc2UiIyI6eWllbGQqdGhpcy5wdXNoQ291bnQoZS5sZW5ndGgtdCk7Y2FzZSB2b2lkIDA6cmV0dXJuIHlpZWxkKnRoaXMucHVzaE5ld2xpbmUoKSx5aWVsZCp0aGlzLnBhcnNlTGluZVN0YXJ0KCk7Y2FzZSJ7IjpjYXNlIlsiOnJldHVybiB5aWVsZCp0aGlzLnB1c2hDb3VudCgxKSx0aGlzLmZsb3dLZXk9ITEsdGhpcy5mbG93TGV2ZWw9MSwiZmxvdyI7Y2FzZSJ9IjpjYXNlIl0iOnJldHVybiB5aWVsZCp0aGlzLnB1c2hDb3VudCgxKSwiZG9jIjtjYXNlIioiOnJldHVybiB5aWVsZCp0aGlzLnB1c2hVbnRpbChsYSksImRvYyI7Y2FzZSciJzpjYXNlIiciOnJldHVybiB5aWVsZCp0aGlzLnBhcnNlUXVvdGVkU2NhbGFyKCk7Y2FzZSJ8IjpjYXNlIj4iOnJldHVybiB0Kz15aWVsZCp0aGlzLnBhcnNlQmxvY2tTY2FsYXJIZWFkZXIoKSx0Kz15aWVsZCp0aGlzLnB1c2hTcGFjZXMoITApLHlpZWxkKnRoaXMucHVzaENvdW50KGUubGVuZ3RoLXQpLHlpZWxkKnRoaXMucHVzaE5ld2xpbmUoKSx5aWVsZCp0aGlzLnBhcnNlQmxvY2tTY2FsYXIoKTtkZWZhdWx0OnJldHVybiB5aWVsZCp0aGlzLnBhcnNlUGxhaW5TY2FsYXIoKX19KnBhcnNlRmxvd0NvbGxlY3Rpb24oKXtsZXQgZSx0LHM9LTE7ZG8gZT15aWVsZCp0aGlzLnB1c2hOZXdsaW5lKCksZT4wPyh0PXlpZWxkKnRoaXMucHVzaFNwYWNlcyghMSksdGhpcy5pbmRlbnRWYWx1ZT1zPXQpOnQ9MCx0Kz15aWVsZCp0aGlzLnB1c2hTcGFjZXMoITApO3doaWxlKGUrdD4wKTtjb25zdCBpPXRoaXMuZ2V0TGluZSgpO2lmKGk9PT1udWxsKXJldHVybiB0aGlzLnNldE5leHQoImZsb3ciKTtpZigocyE9PS0xJiZzPHRoaXMuaW5kZW50TmV4dCYmaVswXSE9PSIjInx8cz09PTAmJihpLnN0YXJ0c1dpdGgoIi0tLSIpfHxpLnN0YXJ0c1dpdGgoIi4uLiIpKSYmVHQoaVszXSkpJiYhKHM9PT10aGlzLmluZGVudE5leHQtMSYmdGhpcy5mbG93TGV2ZWw9PT0xJiYoaVswXT09PSJdInx8aVswXT09PSJ9IikpKXJldHVybiB0aGlzLmZsb3dMZXZlbD0wLHlpZWxkIHFjLHlpZWxkKnRoaXMucGFyc2VMaW5lU3RhcnQoKTtsZXQgcj0wO2Zvcig7aVtyXT09PSIsIjspcis9eWllbGQqdGhpcy5wdXNoQ291bnQoMSkscis9eWllbGQqdGhpcy5wdXNoU3BhY2VzKCEwKSx0aGlzLmZsb3dLZXk9ITE7c3dpdGNoKHIrPXlpZWxkKnRoaXMucHVzaEluZGljYXRvcnMoKSxpW3JdKXtjYXNlIHZvaWQgMDpyZXR1cm4iZmxvdyI7Y2FzZSIjIjpyZXR1cm4geWllbGQqdGhpcy5wdXNoQ291bnQoaS5sZW5ndGgtciksImZsb3ciO2Nhc2UieyI6Y2FzZSJbIjpyZXR1cm4geWllbGQqdGhpcy5wdXNoQ291bnQoMSksdGhpcy5mbG93S2V5PSExLHRoaXMuZmxvd0xldmVsKz0xLCJmbG93IjtjYXNlIn0iOmNhc2UiXSI6cmV0dXJuIHlpZWxkKnRoaXMucHVzaENvdW50KDEpLHRoaXMuZmxvd0tleT0hMCx0aGlzLmZsb3dMZXZlbC09MSx0aGlzLmZsb3dMZXZlbD8iZmxvdyI6ImRvYyI7Y2FzZSIqIjpyZXR1cm4geWllbGQqdGhpcy5wdXNoVW50aWwobGEpLCJmbG93IjtjYXNlJyInOmNhc2UiJyI6cmV0dXJuIHRoaXMuZmxvd0tleT0hMCx5aWVsZCp0aGlzLnBhcnNlUXVvdGVkU2NhbGFyKCk7Y2FzZSI6Ijp7Y29uc3Qgbz10aGlzLmNoYXJBdCgxKTtpZih0aGlzLmZsb3dLZXl8fFR0KG8pfHxvPT09IiwiKXJldHVybiB0aGlzLmZsb3dLZXk9ITEseWllbGQqdGhpcy5wdXNoQ291bnQoMSkseWllbGQqdGhpcy5wdXNoU3BhY2VzKCEwKSwiZmxvdyJ9ZGVmYXVsdDpyZXR1cm4gdGhpcy5mbG93S2V5PSExLHlpZWxkKnRoaXMucGFyc2VQbGFpblNjYWxhcigpfX0qcGFyc2VRdW90ZWRTY2FsYXIoKXtjb25zdCBlPXRoaXMuY2hhckF0KDApO2xldCB0PXRoaXMuYnVmZmVyLmluZGV4T2YoZSx0aGlzLnBvcysxKTtpZihlPT09IiciKWZvcig7dCE9PS0xJiZ0aGlzLmJ1ZmZlclt0KzFdPT09IiciOyl0PXRoaXMuYnVmZmVyLmluZGV4T2YoIiciLHQrMik7ZWxzZSBmb3IoO3QhPT0tMTspe2xldCByPTA7Zm9yKDt0aGlzLmJ1ZmZlclt0LTEtcl09PT0iXFwiOylyKz0xO2lmKHIlMj09PTApYnJlYWs7dD10aGlzLmJ1ZmZlci5pbmRleE9mKCciJyx0KzEpfWNvbnN0IHM9dGhpcy5idWZmZXIuc3Vic3RyaW5nKDAsdCk7bGV0IGk9cy5pbmRleE9mKGAKYCx0aGlzLnBvcyk7aWYoaSE9PS0xKXtmb3IoO2khPT0tMTspe2NvbnN0IHI9dGhpcy5jb250aW51ZVNjYWxhcihpKzEpO2lmKHI9PT0tMSlicmVhaztpPXMuaW5kZXhPZihgCmAscil9aSE9PS0xJiYodD1pLShzW2ktMV09PT0iXHIiPzI6MSkpfWlmKHQ9PT0tMSl7aWYoIXRoaXMuYXRFbmQpcmV0dXJuIHRoaXMuc2V0TmV4dCgicXVvdGVkLXNjYWxhciIpO3Q9dGhpcy5idWZmZXIubGVuZ3RofXJldHVybiB5aWVsZCp0aGlzLnB1c2hUb0luZGV4KHQrMSwhMSksdGhpcy5mbG93TGV2ZWw/ImZsb3ciOiJkb2MifSpwYXJzZUJsb2NrU2NhbGFySGVhZGVyKCl7dGhpcy5ibG9ja1NjYWxhckluZGVudD0tMSx0aGlzLmJsb2NrU2NhbGFyS2VlcD0hMTtsZXQgZT10aGlzLnBvcztmb3IoOzspe2NvbnN0IHQ9dGhpcy5idWZmZXJbKytlXTtpZih0PT09IisiKXRoaXMuYmxvY2tTY2FsYXJLZWVwPSEwO2Vsc2UgaWYodD4iMCImJnQ8PSI5Iil0aGlzLmJsb2NrU2NhbGFySW5kZW50PU51bWJlcih0KS0xO2Vsc2UgaWYodCE9PSItIilicmVha31yZXR1cm4geWllbGQqdGhpcy5wdXNoVW50aWwodD0+VHQodCl8fHQ9PT0iIyIpfSpwYXJzZUJsb2NrU2NhbGFyKCl7bGV0IGU9dGhpcy5wb3MtMSx0PTAscztlOmZvcihsZXQgcj10aGlzLnBvcztzPXRoaXMuYnVmZmVyW3JdOysrcilzd2l0Y2gocyl7Y2FzZSIgIjp0Kz0xO2JyZWFrO2Nhc2VgCmA6ZT1yLHQ9MDticmVhaztjYXNlIlxyIjp7Y29uc3Qgbz10aGlzLmJ1ZmZlcltyKzFdO2lmKCFvJiYhdGhpcy5hdEVuZClyZXR1cm4gdGhpcy5zZXROZXh0KCJibG9jay1zY2FsYXIiKTtpZihvPT09YApgKWJyZWFrfWRlZmF1bHQ6YnJlYWsgZX1pZighcyYmIXRoaXMuYXRFbmQpcmV0dXJuIHRoaXMuc2V0TmV4dCgiYmxvY2stc2NhbGFyIik7aWYodD49dGhpcy5pbmRlbnROZXh0KXt0aGlzLmJsb2NrU2NhbGFySW5kZW50PT09LTE/dGhpcy5pbmRlbnROZXh0PXQ6dGhpcy5pbmRlbnROZXh0PXRoaXMuYmxvY2tTY2FsYXJJbmRlbnQrKHRoaXMuaW5kZW50TmV4dD09PTA/MTp0aGlzLmluZGVudE5leHQpO2Rve2NvbnN0IHI9dGhpcy5jb250aW51ZVNjYWxhcihlKzEpO2lmKHI9PT0tMSlicmVhaztlPXRoaXMuYnVmZmVyLmluZGV4T2YoYApgLHIpfXdoaWxlKGUhPT0tMSk7aWYoZT09PS0xKXtpZighdGhpcy5hdEVuZClyZXR1cm4gdGhpcy5zZXROZXh0KCJibG9jay1zY2FsYXIiKTtlPXRoaXMuYnVmZmVyLmxlbmd0aH19bGV0IGk9ZSsxO2ZvcihzPXRoaXMuYnVmZmVyW2ldO3M9PT0iICI7KXM9dGhpcy5idWZmZXJbKytpXTtpZihzPT09IgkiKXtmb3IoO3M9PT0iCSJ8fHM9PT0iICJ8fHM9PT0iXHIifHxzPT09YApgOylzPXRoaXMuYnVmZmVyWysraV07ZT1pLTF9ZWxzZSBpZighdGhpcy5ibG9ja1NjYWxhcktlZXApZG97bGV0IHI9ZS0xLG89dGhpcy5idWZmZXJbcl07bz09PSJcciImJihvPXRoaXMuYnVmZmVyWy0tcl0pO2NvbnN0IGE9cjtmb3IoO289PT0iICI7KW89dGhpcy5idWZmZXJbLS1yXTtpZihvPT09YApgJiZyPj10aGlzLnBvcyYmcisxK3Q+YSllPXI7ZWxzZSBicmVha313aGlsZSghMCk7cmV0dXJuIHlpZWxkIGFhLHlpZWxkKnRoaXMucHVzaFRvSW5kZXgoZSsxLCEwKSx5aWVsZCp0aGlzLnBhcnNlTGluZVN0YXJ0KCl9KnBhcnNlUGxhaW5TY2FsYXIoKXtjb25zdCBlPXRoaXMuZmxvd0xldmVsPjA7bGV0IHQ9dGhpcy5wb3MtMSxzPXRoaXMucG9zLTEsaTtmb3IoO2k9dGhpcy5idWZmZXJbKytzXTspaWYoaT09PSI6Iil7Y29uc3Qgcj10aGlzLmJ1ZmZlcltzKzFdO2lmKFR0KHIpfHxlJiZkci5oYXMocikpYnJlYWs7dD1zfWVsc2UgaWYoVHQoaSkpe2xldCByPXRoaXMuYnVmZmVyW3MrMV07aWYoaT09PSJcciImJihyPT09YApgPyhzKz0xLGk9YApgLHI9dGhpcy5idWZmZXJbcysxXSk6dD1zKSxyPT09IiMifHxlJiZkci5oYXMocikpYnJlYWs7aWYoaT09PWAKYCl7Y29uc3Qgbz10aGlzLmNvbnRpbnVlU2NhbGFyKHMrMSk7aWYobz09PS0xKWJyZWFrO3M9TWF0aC5tYXgocyxvLTIpfX1lbHNle2lmKGUmJmRyLmhhcyhpKSlicmVhazt0PXN9cmV0dXJuIWkmJiF0aGlzLmF0RW5kP3RoaXMuc2V0TmV4dCgicGxhaW4tc2NhbGFyIik6KHlpZWxkIGFhLHlpZWxkKnRoaXMucHVzaFRvSW5kZXgodCsxLCEwKSxlPyJmbG93IjoiZG9jIil9KnB1c2hDb3VudChlKXtyZXR1cm4gZT4wPyh5aWVsZCB0aGlzLmJ1ZmZlci5zdWJzdHIodGhpcy5wb3MsZSksdGhpcy5wb3MrPWUsZSk6MH0qcHVzaFRvSW5kZXgoZSx0KXtjb25zdCBzPXRoaXMuYnVmZmVyLnNsaWNlKHRoaXMucG9zLGUpO3JldHVybiBzPyh5aWVsZCBzLHRoaXMucG9zKz1zLmxlbmd0aCxzLmxlbmd0aCk6KHQmJih5aWVsZCIiKSwwKX0qcHVzaEluZGljYXRvcnMoKXtzd2l0Y2godGhpcy5jaGFyQXQoMCkpe2Nhc2UiISI6cmV0dXJuKHlpZWxkKnRoaXMucHVzaFRhZygpKSsoeWllbGQqdGhpcy5wdXNoU3BhY2VzKCEwKSkrKHlpZWxkKnRoaXMucHVzaEluZGljYXRvcnMoKSk7Y2FzZSImIjpyZXR1cm4oeWllbGQqdGhpcy5wdXNoVW50aWwobGEpKSsoeWllbGQqdGhpcy5wdXNoU3BhY2VzKCEwKSkrKHlpZWxkKnRoaXMucHVzaEluZGljYXRvcnMoKSk7Y2FzZSItIjpjYXNlIj8iOmNhc2UiOiI6e2NvbnN0IGU9dGhpcy5mbG93TGV2ZWw+MCx0PXRoaXMuY2hhckF0KDEpO2lmKFR0KHQpfHxlJiZkci5oYXModCkpcmV0dXJuIGU/dGhpcy5mbG93S2V5JiYodGhpcy5mbG93S2V5PSExKTp0aGlzLmluZGVudE5leHQ9dGhpcy5pbmRlbnRWYWx1ZSsxLCh5aWVsZCp0aGlzLnB1c2hDb3VudCgxKSkrKHlpZWxkKnRoaXMucHVzaFNwYWNlcyghMCkpKyh5aWVsZCp0aGlzLnB1c2hJbmRpY2F0b3JzKCkpfX1yZXR1cm4gMH0qcHVzaFRhZygpe2lmKHRoaXMuY2hhckF0KDEpPT09IjwiKXtsZXQgZT10aGlzLnBvcysyLHQ9dGhpcy5idWZmZXJbZV07Zm9yKDshVHQodCkmJnQhPT0iPiI7KXQ9dGhpcy5idWZmZXJbKytlXTtyZXR1cm4geWllbGQqdGhpcy5wdXNoVG9JbmRleCh0PT09Ij4iP2UrMTplLCExKX1lbHNle2xldCBlPXRoaXMucG9zKzEsdD10aGlzLmJ1ZmZlcltlXTtmb3IoO3Q7KWlmKGQwLmhhcyh0KSl0PXRoaXMuYnVmZmVyWysrZV07ZWxzZSBpZih0PT09IiUiJiZLYy5oYXModGhpcy5idWZmZXJbZSsxXSkmJktjLmhhcyh0aGlzLmJ1ZmZlcltlKzJdKSl0PXRoaXMuYnVmZmVyW2UrPTNdO2Vsc2UgYnJlYWs7cmV0dXJuIHlpZWxkKnRoaXMucHVzaFRvSW5kZXgoZSwhMSl9fSpwdXNoTmV3bGluZSgpe2NvbnN0IGU9dGhpcy5idWZmZXJbdGhpcy5wb3NdO3JldHVybiBlPT09YApgP3lpZWxkKnRoaXMucHVzaENvdW50KDEpOmU9PT0iXHIiJiZ0aGlzLmNoYXJBdCgxKT09PWAKYD95aWVsZCp0aGlzLnB1c2hDb3VudCgyKTowfSpwdXNoU3BhY2VzKGUpe2xldCB0PXRoaXMucG9zLTEscztkbyBzPXRoaXMuYnVmZmVyWysrdF07d2hpbGUocz09PSIgInx8ZSYmcz09PSIJIik7Y29uc3QgaT10LXRoaXMucG9zO3JldHVybiBpPjAmJih5aWVsZCB0aGlzLmJ1ZmZlci5zdWJzdHIodGhpcy5wb3MsaSksdGhpcy5wb3M9dCksaX0qcHVzaFVudGlsKGUpe2xldCB0PXRoaXMucG9zLHM9dGhpcy5idWZmZXJbdF07Zm9yKDshZShzKTspcz10aGlzLmJ1ZmZlclsrK3RdO3JldHVybiB5aWVsZCp0aGlzLnB1c2hUb0luZGV4KHQsITEpfX1jbGFzcyBwMHtjb25zdHJ1Y3Rvcigpe3RoaXMubGluZVN0YXJ0cz1bXSx0aGlzLmFkZE5ld0xpbmU9ZT0+dGhpcy5saW5lU3RhcnRzLnB1c2goZSksdGhpcy5saW5lUG9zPWU9PntsZXQgdD0wLHM9dGhpcy5saW5lU3RhcnRzLmxlbmd0aDtmb3IoO3Q8czspe2NvbnN0IHI9dCtzPj4xO3RoaXMubGluZVN0YXJ0c1tyXTxlP3Q9cisxOnM9cn1pZih0aGlzLmxpbmVTdGFydHNbdF09PT1lKXJldHVybntsaW5lOnQrMSxjb2w6MX07aWYodD09PTApcmV0dXJue2xpbmU6MCxjb2w6ZX07Y29uc3QgaT10aGlzLmxpbmVTdGFydHNbdC0xXTtyZXR1cm57bGluZTp0LGNvbDplLWkrMX19fX1mdW5jdGlvbiBjcyhuLGUpe2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7Kyt0KWlmKG5bdF0udHlwZT09PWUpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gWmMobil7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDsrK2Upc3dpdGNoKG5bZV0udHlwZSl7Y2FzZSJzcGFjZSI6Y2FzZSJjb21tZW50IjpjYXNlIm5ld2xpbmUiOmJyZWFrO2RlZmF1bHQ6cmV0dXJuIGV9cmV0dXJuLTF9ZnVuY3Rpb24gR2Mobil7c3dpdGNoKG49PW51bGw/dm9pZCAwOm4udHlwZSl7Y2FzZSJhbGlhcyI6Y2FzZSJzY2FsYXIiOmNhc2Uic2luZ2xlLXF1b3RlZC1zY2FsYXIiOmNhc2UiZG91YmxlLXF1b3RlZC1zY2FsYXIiOmNhc2UiZmxvdy1jb2xsZWN0aW9uIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBtcihuKXtzd2l0Y2gobi50eXBlKXtjYXNlImRvY3VtZW50IjpyZXR1cm4gbi5zdGFydDtjYXNlImJsb2NrLW1hcCI6e2NvbnN0IGU9bi5pdGVtc1tuLml0ZW1zLmxlbmd0aC0xXTtyZXR1cm4gZS5zZXA/P2Uuc3RhcnR9Y2FzZSJibG9jay1zZXEiOnJldHVybiBuLml0ZW1zW24uaXRlbXMubGVuZ3RoLTFdLnN0YXJ0O2RlZmF1bHQ6cmV0dXJuW119fWZ1bmN0aW9uIFRuKG4pe3ZhciB0O2lmKG4ubGVuZ3RoPT09MClyZXR1cm5bXTtsZXQgZT1uLmxlbmd0aDtlOmZvcig7LS1lPj0wOylzd2l0Y2gobltlXS50eXBlKXtjYXNlImRvYy1zdGFydCI6Y2FzZSJleHBsaWNpdC1rZXktaW5kIjpjYXNlIm1hcC12YWx1ZS1pbmQiOmNhc2Uic2VxLWl0ZW0taW5kIjpjYXNlIm5ld2xpbmUiOmJyZWFrIGV9Zm9yKDsoKHQ9blsrK2VdKT09bnVsbD92b2lkIDA6dC50eXBlKT09PSJzcGFjZSI7KTtyZXR1cm4gbi5zcGxpY2UoZSxuLmxlbmd0aCl9ZnVuY3Rpb24gSmMobil7aWYobi5zdGFydC50eXBlPT09ImZsb3ctc2VxLXN0YXJ0Iilmb3IoY29uc3QgZSBvZiBuLml0ZW1zKWUuc2VwJiYhZS52YWx1ZSYmIWNzKGUuc3RhcnQsImV4cGxpY2l0LWtleS1pbmQiKSYmIWNzKGUuc2VwLCJtYXAtdmFsdWUtaW5kIikmJihlLmtleSYmKGUudmFsdWU9ZS5rZXkpLGRlbGV0ZSBlLmtleSxHYyhlLnZhbHVlKT9lLnZhbHVlLmVuZD9BcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShlLnZhbHVlLmVuZCxlLnNlcCk6ZS52YWx1ZS5lbmQ9ZS5zZXA6QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZS5zdGFydCxlLnNlcCksZGVsZXRlIGUuc2VwKX1jbGFzcyBnMHtjb25zdHJ1Y3RvcihlKXt0aGlzLmF0TmV3TGluZT0hMCx0aGlzLmF0U2NhbGFyPSExLHRoaXMuaW5kZW50PTAsdGhpcy5vZmZzZXQ9MCx0aGlzLm9uS2V5TGluZT0hMSx0aGlzLnN0YWNrPVtdLHRoaXMuc291cmNlPSIiLHRoaXMudHlwZT0iIix0aGlzLmxleGVyPW5ldyB5MCx0aGlzLm9uTmV3TGluZT1lfSpwYXJzZShlLHQ9ITEpe3RoaXMub25OZXdMaW5lJiZ0aGlzLm9mZnNldD09PTAmJnRoaXMub25OZXdMaW5lKDApO2Zvcihjb25zdCBzIG9mIHRoaXMubGV4ZXIubGV4KGUsdCkpeWllbGQqdGhpcy5uZXh0KHMpO3R8fCh5aWVsZCp0aGlzLmVuZCgpKX0qbmV4dChlKXtpZih0aGlzLnNvdXJjZT1lLHRoaXMuYXRTY2FsYXIpe3RoaXMuYXRTY2FsYXI9ITEseWllbGQqdGhpcy5zdGVwKCksdGhpcy5vZmZzZXQrPWUubGVuZ3RoO3JldHVybn1jb25zdCB0PWYwKGUpO2lmKHQpaWYodD09PSJzY2FsYXIiKXRoaXMuYXROZXdMaW5lPSExLHRoaXMuYXRTY2FsYXI9ITAsdGhpcy50eXBlPSJzY2FsYXIiO2Vsc2V7c3dpdGNoKHRoaXMudHlwZT10LHlpZWxkKnRoaXMuc3RlcCgpLHQpe2Nhc2UibmV3bGluZSI6dGhpcy5hdE5ld0xpbmU9ITAsdGhpcy5pbmRlbnQ9MCx0aGlzLm9uTmV3TGluZSYmdGhpcy5vbk5ld0xpbmUodGhpcy5vZmZzZXQrZS5sZW5ndGgpO2JyZWFrO2Nhc2Uic3BhY2UiOnRoaXMuYXROZXdMaW5lJiZlWzBdPT09IiAiJiYodGhpcy5pbmRlbnQrPWUubGVuZ3RoKTticmVhaztjYXNlImV4cGxpY2l0LWtleS1pbmQiOmNhc2UibWFwLXZhbHVlLWluZCI6Y2FzZSJzZXEtaXRlbS1pbmQiOnRoaXMuYXROZXdMaW5lJiYodGhpcy5pbmRlbnQrPWUubGVuZ3RoKTticmVhaztjYXNlImRvYy1tb2RlIjpjYXNlImZsb3ctZXJyb3ItZW5kIjpyZXR1cm47ZGVmYXVsdDp0aGlzLmF0TmV3TGluZT0hMX10aGlzLm9mZnNldCs9ZS5sZW5ndGh9ZWxzZXtjb25zdCBzPWBOb3QgYSBZQU1MIHRva2VuOiAke2V9YDt5aWVsZCp0aGlzLnBvcCh7dHlwZToiZXJyb3IiLG9mZnNldDp0aGlzLm9mZnNldCxtZXNzYWdlOnMsc291cmNlOmV9KSx0aGlzLm9mZnNldCs9ZS5sZW5ndGh9fSplbmQoKXtmb3IoO3RoaXMuc3RhY2subGVuZ3RoPjA7KXlpZWxkKnRoaXMucG9wKCl9Z2V0IHNvdXJjZVRva2VuKCl7cmV0dXJue3R5cGU6dGhpcy50eXBlLG9mZnNldDp0aGlzLm9mZnNldCxpbmRlbnQ6dGhpcy5pbmRlbnQsc291cmNlOnRoaXMuc291cmNlfX0qc3RlcCgpe2NvbnN0IGU9dGhpcy5wZWVrKDEpO2lmKHRoaXMudHlwZT09PSJkb2MtZW5kIiYmKCFlfHxlLnR5cGUhPT0iZG9jLWVuZCIpKXtmb3IoO3RoaXMuc3RhY2subGVuZ3RoPjA7KXlpZWxkKnRoaXMucG9wKCk7dGhpcy5zdGFjay5wdXNoKHt0eXBlOiJkb2MtZW5kIixvZmZzZXQ6dGhpcy5vZmZzZXQsc291cmNlOnRoaXMuc291cmNlfSk7cmV0dXJufWlmKCFlKXJldHVybiB5aWVsZCp0aGlzLnN0cmVhbSgpO3N3aXRjaChlLnR5cGUpe2Nhc2UiZG9jdW1lbnQiOnJldHVybiB5aWVsZCp0aGlzLmRvY3VtZW50KGUpO2Nhc2UiYWxpYXMiOmNhc2Uic2NhbGFyIjpjYXNlInNpbmdsZS1xdW90ZWQtc2NhbGFyIjpjYXNlImRvdWJsZS1xdW90ZWQtc2NhbGFyIjpyZXR1cm4geWllbGQqdGhpcy5zY2FsYXIoZSk7Y2FzZSJibG9jay1zY2FsYXIiOnJldHVybiB5aWVsZCp0aGlzLmJsb2NrU2NhbGFyKGUpO2Nhc2UiYmxvY2stbWFwIjpyZXR1cm4geWllbGQqdGhpcy5ibG9ja01hcChlKTtjYXNlImJsb2NrLXNlcSI6cmV0dXJuIHlpZWxkKnRoaXMuYmxvY2tTZXF1ZW5jZShlKTtjYXNlImZsb3ctY29sbGVjdGlvbiI6cmV0dXJuIHlpZWxkKnRoaXMuZmxvd0NvbGxlY3Rpb24oZSk7Y2FzZSJkb2MtZW5kIjpyZXR1cm4geWllbGQqdGhpcy5kb2N1bWVudEVuZChlKX15aWVsZCp0aGlzLnBvcCgpfXBlZWsoZSl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGgtZV19KnBvcChlKXtjb25zdCB0PWU/P3RoaXMuc3RhY2sucG9wKCk7aWYoIXQpeWllbGR7dHlwZToiZXJyb3IiLG9mZnNldDp0aGlzLm9mZnNldCxzb3VyY2U6IiIsbWVzc2FnZToiVHJpZWQgdG8gcG9wIGFuIGVtcHR5IHN0YWNrIn07ZWxzZSBpZih0aGlzLnN0YWNrLmxlbmd0aD09PTApeWllbGQgdDtlbHNle2NvbnN0IHM9dGhpcy5wZWVrKDEpO3N3aXRjaCh0LnR5cGU9PT0iYmxvY2stc2NhbGFyIj90LmluZGVudD0iaW5kZW50ImluIHM/cy5pbmRlbnQ6MDp0LnR5cGU9PT0iZmxvdy1jb2xsZWN0aW9uIiYmcy50eXBlPT09ImRvY3VtZW50IiYmKHQuaW5kZW50PTApLHQudHlwZT09PSJmbG93LWNvbGxlY3Rpb24iJiZKYyh0KSxzLnR5cGUpe2Nhc2UiZG9jdW1lbnQiOnMudmFsdWU9dDticmVhaztjYXNlImJsb2NrLXNjYWxhciI6cy5wcm9wcy5wdXNoKHQpO2JyZWFrO2Nhc2UiYmxvY2stbWFwIjp7Y29uc3QgaT1zLml0ZW1zW3MuaXRlbXMubGVuZ3RoLTFdO2lmKGkudmFsdWUpe3MuaXRlbXMucHVzaCh7c3RhcnQ6W10sa2V5OnQsc2VwOltdfSksdGhpcy5vbktleUxpbmU9ITA7cmV0dXJufWVsc2UgaWYoaS5zZXApaS52YWx1ZT10O2Vsc2V7T2JqZWN0LmFzc2lnbihpLHtrZXk6dCxzZXA6W119KSx0aGlzLm9uS2V5TGluZT0haS5leHBsaWNpdEtleTtyZXR1cm59YnJlYWt9Y2FzZSJibG9jay1zZXEiOntjb25zdCBpPXMuaXRlbXNbcy5pdGVtcy5sZW5ndGgtMV07aS52YWx1ZT9zLml0ZW1zLnB1c2goe3N0YXJ0OltdLHZhbHVlOnR9KTppLnZhbHVlPXQ7YnJlYWt9Y2FzZSJmbG93LWNvbGxlY3Rpb24iOntjb25zdCBpPXMuaXRlbXNbcy5pdGVtcy5sZW5ndGgtMV07IWl8fGkudmFsdWU/cy5pdGVtcy5wdXNoKHtzdGFydDpbXSxrZXk6dCxzZXA6W119KTppLnNlcD9pLnZhbHVlPXQ6T2JqZWN0LmFzc2lnbihpLHtrZXk6dCxzZXA6W119KTtyZXR1cm59ZGVmYXVsdDp5aWVsZCp0aGlzLnBvcCgpLHlpZWxkKnRoaXMucG9wKHQpfWlmKChzLnR5cGU9PT0iZG9jdW1lbnQifHxzLnR5cGU9PT0iYmxvY2stbWFwInx8cy50eXBlPT09ImJsb2NrLXNlcSIpJiYodC50eXBlPT09ImJsb2NrLW1hcCJ8fHQudHlwZT09PSJibG9jay1zZXEiKSl7Y29uc3QgaT10Lml0ZW1zW3QuaXRlbXMubGVuZ3RoLTFdO2kmJiFpLnNlcCYmIWkudmFsdWUmJmkuc3RhcnQubGVuZ3RoPjAmJlpjKGkuc3RhcnQpPT09LTEmJih0LmluZGVudD09PTB8fGkuc3RhcnQuZXZlcnkocj0+ci50eXBlIT09ImNvbW1lbnQifHxyLmluZGVudDx0LmluZGVudCkpJiYocy50eXBlPT09ImRvY3VtZW50Ij9zLmVuZD1pLnN0YXJ0OnMuaXRlbXMucHVzaCh7c3RhcnQ6aS5zdGFydH0pLHQuaXRlbXMuc3BsaWNlKC0xLDEpKX19fSpzdHJlYW0oKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlImRpcmVjdGl2ZS1saW5lIjp5aWVsZHt0eXBlOiJkaXJlY3RpdmUiLG9mZnNldDp0aGlzLm9mZnNldCxzb3VyY2U6dGhpcy5zb3VyY2V9O3JldHVybjtjYXNlImJ5dGUtb3JkZXItbWFyayI6Y2FzZSJzcGFjZSI6Y2FzZSJjb21tZW50IjpjYXNlIm5ld2xpbmUiOnlpZWxkIHRoaXMuc291cmNlVG9rZW47cmV0dXJuO2Nhc2UiZG9jLW1vZGUiOmNhc2UiZG9jLXN0YXJ0Ijp7Y29uc3QgZT17dHlwZToiZG9jdW1lbnQiLG9mZnNldDp0aGlzLm9mZnNldCxzdGFydDpbXX07dGhpcy50eXBlPT09ImRvYy1zdGFydCImJmUuc3RhcnQucHVzaCh0aGlzLnNvdXJjZVRva2VuKSx0aGlzLnN0YWNrLnB1c2goZSk7cmV0dXJufX15aWVsZHt0eXBlOiJlcnJvciIsb2Zmc2V0OnRoaXMub2Zmc2V0LG1lc3NhZ2U6YFVuZXhwZWN0ZWQgJHt0aGlzLnR5cGV9IHRva2VuIGluIFlBTUwgc3RyZWFtYCxzb3VyY2U6dGhpcy5zb3VyY2V9fSpkb2N1bWVudChlKXtpZihlLnZhbHVlKXJldHVybiB5aWVsZCp0aGlzLmxpbmVFbmQoZSk7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSJkb2Mtc3RhcnQiOntaYyhlLnN0YXJ0KSE9PS0xPyh5aWVsZCp0aGlzLnBvcCgpLHlpZWxkKnRoaXMuc3RlcCgpKTplLnN0YXJ0LnB1c2godGhpcy5zb3VyY2VUb2tlbik7cmV0dXJufWNhc2UiYW5jaG9yIjpjYXNlInRhZyI6Y2FzZSJzcGFjZSI6Y2FzZSJjb21tZW50IjpjYXNlIm5ld2xpbmUiOmUuc3RhcnQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtyZXR1cm59Y29uc3QgdD10aGlzLnN0YXJ0QmxvY2tWYWx1ZShlKTt0P3RoaXMuc3RhY2sucHVzaCh0KTp5aWVsZHt0eXBlOiJlcnJvciIsb2Zmc2V0OnRoaXMub2Zmc2V0LG1lc3NhZ2U6YFVuZXhwZWN0ZWQgJHt0aGlzLnR5cGV9IHRva2VuIGluIFlBTUwgZG9jdW1lbnRgLHNvdXJjZTp0aGlzLnNvdXJjZX19KnNjYWxhcihlKXtpZih0aGlzLnR5cGU9PT0ibWFwLXZhbHVlLWluZCIpe2NvbnN0IHQ9bXIodGhpcy5wZWVrKDIpKSxzPVRuKHQpO2xldCBpO2UuZW5kPyhpPWUuZW5kLGkucHVzaCh0aGlzLnNvdXJjZVRva2VuKSxkZWxldGUgZS5lbmQpOmk9W3RoaXMuc291cmNlVG9rZW5dO2NvbnN0IHI9e3R5cGU6ImJsb2NrLW1hcCIsb2Zmc2V0OmUub2Zmc2V0LGluZGVudDplLmluZGVudCxpdGVtczpbe3N0YXJ0OnMsa2V5OmUsc2VwOml9XX07dGhpcy5vbktleUxpbmU9ITAsdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aC0xXT1yfWVsc2UgeWllbGQqdGhpcy5saW5lRW5kKGUpfSpibG9ja1NjYWxhcihlKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlInNwYWNlIjpjYXNlImNvbW1lbnQiOmNhc2UibmV3bGluZSI6ZS5wcm9wcy5wdXNoKHRoaXMuc291cmNlVG9rZW4pO3JldHVybjtjYXNlInNjYWxhciI6aWYoZS5zb3VyY2U9dGhpcy5zb3VyY2UsdGhpcy5hdE5ld0xpbmU9ITAsdGhpcy5pbmRlbnQ9MCx0aGlzLm9uTmV3TGluZSl7bGV0IHQ9dGhpcy5zb3VyY2UuaW5kZXhPZihgCmApKzE7Zm9yKDt0IT09MDspdGhpcy5vbk5ld0xpbmUodGhpcy5vZmZzZXQrdCksdD10aGlzLnNvdXJjZS5pbmRleE9mKGAKYCx0KSsxfXlpZWxkKnRoaXMucG9wKCk7YnJlYWs7ZGVmYXVsdDp5aWVsZCp0aGlzLnBvcCgpLHlpZWxkKnRoaXMuc3RlcCgpfX0qYmxvY2tNYXAoZSl7dmFyIHM7Y29uc3QgdD1lLml0ZW1zW2UuaXRlbXMubGVuZ3RoLTFdO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UibmV3bGluZSI6aWYodGhpcy5vbktleUxpbmU9ITEsdC52YWx1ZSl7Y29uc3QgaT0iZW5kImluIHQudmFsdWU/dC52YWx1ZS5lbmQ6dm9pZCAwLHI9QXJyYXkuaXNBcnJheShpKT9pW2kubGVuZ3RoLTFdOnZvaWQgMDsocj09bnVsbD92b2lkIDA6ci50eXBlKT09PSJjb21tZW50Ij9pPT1udWxsfHxpLnB1c2godGhpcy5zb3VyY2VUb2tlbik6ZS5pdGVtcy5wdXNoKHtzdGFydDpbdGhpcy5zb3VyY2VUb2tlbl19KX1lbHNlIHQuc2VwP3Quc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik6dC5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO3JldHVybjtjYXNlInNwYWNlIjpjYXNlImNvbW1lbnQiOmlmKHQudmFsdWUpZS5pdGVtcy5wdXNoKHtzdGFydDpbdGhpcy5zb3VyY2VUb2tlbl19KTtlbHNlIGlmKHQuc2VwKXQuc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik7ZWxzZXtpZih0aGlzLmF0SW5kZW50ZWRDb21tZW50KHQuc3RhcnQsZS5pbmRlbnQpKXtjb25zdCBpPWUuaXRlbXNbZS5pdGVtcy5sZW5ndGgtMl0scj0ocz1pPT1udWxsP3ZvaWQgMDppLnZhbHVlKT09bnVsbD92b2lkIDA6cy5lbmQ7aWYoQXJyYXkuaXNBcnJheShyKSl7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocix0LnN0YXJ0KSxyLnB1c2godGhpcy5zb3VyY2VUb2tlbiksZS5pdGVtcy5wb3AoKTtyZXR1cm59fXQuc3RhcnQucHVzaCh0aGlzLnNvdXJjZVRva2VuKX1yZXR1cm59aWYodGhpcy5pbmRlbnQ+PWUuaW5kZW50KXtjb25zdCBpPSF0aGlzLm9uS2V5TGluZSYmdGhpcy5pbmRlbnQ9PT1lLmluZGVudCxyPWkmJih0LnNlcHx8dC5leHBsaWNpdEtleSkmJnRoaXMudHlwZSE9PSJzZXEtaXRlbS1pbmQiO2xldCBvPVtdO2lmKHImJnQuc2VwJiYhdC52YWx1ZSl7Y29uc3QgYT1bXTtmb3IobGV0IGw9MDtsPHQuc2VwLmxlbmd0aDsrK2wpe2NvbnN0IHU9dC5zZXBbbF07c3dpdGNoKHUudHlwZSl7Y2FzZSJuZXdsaW5lIjphLnB1c2gobCk7YnJlYWs7Y2FzZSJzcGFjZSI6YnJlYWs7Y2FzZSJjb21tZW50Ijp1LmluZGVudD5lLmluZGVudCYmKGEubGVuZ3RoPTApO2JyZWFrO2RlZmF1bHQ6YS5sZW5ndGg9MH19YS5sZW5ndGg+PTImJihvPXQuc2VwLnNwbGljZShhWzFdKSl9c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSJhbmNob3IiOmNhc2UidGFnIjpyfHx0LnZhbHVlPyhvLnB1c2godGhpcy5zb3VyY2VUb2tlbiksZS5pdGVtcy5wdXNoKHtzdGFydDpvfSksdGhpcy5vbktleUxpbmU9ITApOnQuc2VwP3Quc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik6dC5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO3JldHVybjtjYXNlImV4cGxpY2l0LWtleS1pbmQiOiF0LnNlcCYmIXQuZXhwbGljaXRLZXk/KHQuc3RhcnQucHVzaCh0aGlzLnNvdXJjZVRva2VuKSx0LmV4cGxpY2l0S2V5PSEwKTpyfHx0LnZhbHVlPyhvLnB1c2godGhpcy5zb3VyY2VUb2tlbiksZS5pdGVtcy5wdXNoKHtzdGFydDpvLGV4cGxpY2l0S2V5OiEwfSkpOnRoaXMuc3RhY2sucHVzaCh7dHlwZToiYmxvY2stbWFwIixvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LGl0ZW1zOlt7c3RhcnQ6W3RoaXMuc291cmNlVG9rZW5dLGV4cGxpY2l0S2V5OiEwfV19KSx0aGlzLm9uS2V5TGluZT0hMDtyZXR1cm47Y2FzZSJtYXAtdmFsdWUtaW5kIjppZih0LmV4cGxpY2l0S2V5KWlmKHQuc2VwKWlmKHQudmFsdWUpZS5pdGVtcy5wdXNoKHtzdGFydDpbXSxrZXk6bnVsbCxzZXA6W3RoaXMuc291cmNlVG9rZW5dfSk7ZWxzZSBpZihjcyh0LnNlcCwibWFwLXZhbHVlLWluZCIpKXRoaXMuc3RhY2sucHVzaCh7dHlwZToiYmxvY2stbWFwIixvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LGl0ZW1zOlt7c3RhcnQ6byxrZXk6bnVsbCxzZXA6W3RoaXMuc291cmNlVG9rZW5dfV19KTtlbHNlIGlmKEdjKHQua2V5KSYmIWNzKHQuc2VwLCJuZXdsaW5lIikpe2NvbnN0IGE9VG4odC5zdGFydCksbD10LmtleSx1PXQuc2VwO3UucHVzaCh0aGlzLnNvdXJjZVRva2VuKSxkZWxldGUgdC5rZXksZGVsZXRlIHQuc2VwLHRoaXMuc3RhY2sucHVzaCh7dHlwZToiYmxvY2stbWFwIixvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LGl0ZW1zOlt7c3RhcnQ6YSxrZXk6bCxzZXA6dX1dfSl9ZWxzZSBvLmxlbmd0aD4wP3Quc2VwPXQuc2VwLmNvbmNhdChvLHRoaXMuc291cmNlVG9rZW4pOnQuc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik7ZWxzZSBpZihjcyh0LnN0YXJ0LCJuZXdsaW5lIikpT2JqZWN0LmFzc2lnbih0LHtrZXk6bnVsbCxzZXA6W3RoaXMuc291cmNlVG9rZW5dfSk7ZWxzZXtjb25zdCBhPVRuKHQuc3RhcnQpO3RoaXMuc3RhY2sucHVzaCh7dHlwZToiYmxvY2stbWFwIixvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LGl0ZW1zOlt7c3RhcnQ6YSxrZXk6bnVsbCxzZXA6W3RoaXMuc291cmNlVG9rZW5dfV19KX1lbHNlIHQuc2VwP3QudmFsdWV8fHI/ZS5pdGVtcy5wdXNoKHtzdGFydDpvLGtleTpudWxsLHNlcDpbdGhpcy5zb3VyY2VUb2tlbl19KTpjcyh0LnNlcCwibWFwLXZhbHVlLWluZCIpP3RoaXMuc3RhY2sucHVzaCh7dHlwZToiYmxvY2stbWFwIixvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LGl0ZW1zOlt7c3RhcnQ6W10sa2V5Om51bGwsc2VwOlt0aGlzLnNvdXJjZVRva2VuXX1dfSk6dC5zZXAucHVzaCh0aGlzLnNvdXJjZVRva2VuKTpPYmplY3QuYXNzaWduKHQse2tleTpudWxsLHNlcDpbdGhpcy5zb3VyY2VUb2tlbl19KTt0aGlzLm9uS2V5TGluZT0hMDtyZXR1cm47Y2FzZSJhbGlhcyI6Y2FzZSJzY2FsYXIiOmNhc2Uic2luZ2xlLXF1b3RlZC1zY2FsYXIiOmNhc2UiZG91YmxlLXF1b3RlZC1zY2FsYXIiOntjb25zdCBhPXRoaXMuZmxvd1NjYWxhcih0aGlzLnR5cGUpO3J8fHQudmFsdWU/KGUuaXRlbXMucHVzaCh7c3RhcnQ6byxrZXk6YSxzZXA6W119KSx0aGlzLm9uS2V5TGluZT0hMCk6dC5zZXA/dGhpcy5zdGFjay5wdXNoKGEpOihPYmplY3QuYXNzaWduKHQse2tleTphLHNlcDpbXX0pLHRoaXMub25LZXlMaW5lPSEwKTtyZXR1cm59ZGVmYXVsdDp7Y29uc3QgYT10aGlzLnN0YXJ0QmxvY2tWYWx1ZShlKTtpZihhKXtpZihhLnR5cGU9PT0iYmxvY2stc2VxIil7aWYoIXQuZXhwbGljaXRLZXkmJnQuc2VwJiYhY3ModC5zZXAsIm5ld2xpbmUiKSl7eWllbGQqdGhpcy5wb3Aoe3R5cGU6ImVycm9yIixvZmZzZXQ6dGhpcy5vZmZzZXQsbWVzc2FnZToiVW5leHBlY3RlZCBibG9jay1zZXEtaW5kIG9uIHNhbWUgbGluZSB3aXRoIGtleSIsc291cmNlOnRoaXMuc291cmNlfSk7cmV0dXJufX1lbHNlIGkmJmUuaXRlbXMucHVzaCh7c3RhcnQ6b30pO3RoaXMuc3RhY2sucHVzaChhKTtyZXR1cm59fX19eWllbGQqdGhpcy5wb3AoKSx5aWVsZCp0aGlzLnN0ZXAoKX0qYmxvY2tTZXF1ZW5jZShlKXt2YXIgcztjb25zdCB0PWUuaXRlbXNbZS5pdGVtcy5sZW5ndGgtMV07c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSJuZXdsaW5lIjppZih0LnZhbHVlKXtjb25zdCBpPSJlbmQiaW4gdC52YWx1ZT90LnZhbHVlLmVuZDp2b2lkIDAscj1BcnJheS5pc0FycmF5KGkpP2lbaS5sZW5ndGgtMV06dm9pZCAwOyhyPT1udWxsP3ZvaWQgMDpyLnR5cGUpPT09ImNvbW1lbnQiP2k9PW51bGx8fGkucHVzaCh0aGlzLnNvdXJjZVRva2VuKTplLml0ZW1zLnB1c2goe3N0YXJ0Olt0aGlzLnNvdXJjZVRva2VuXX0pfWVsc2UgdC5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO3JldHVybjtjYXNlInNwYWNlIjpjYXNlImNvbW1lbnQiOmlmKHQudmFsdWUpZS5pdGVtcy5wdXNoKHtzdGFydDpbdGhpcy5zb3VyY2VUb2tlbl19KTtlbHNle2lmKHRoaXMuYXRJbmRlbnRlZENvbW1lbnQodC5zdGFydCxlLmluZGVudCkpe2NvbnN0IGk9ZS5pdGVtc1tlLml0ZW1zLmxlbmd0aC0yXSxyPShzPWk9PW51bGw/dm9pZCAwOmkudmFsdWUpPT1udWxsP3ZvaWQgMDpzLmVuZDtpZihBcnJheS5pc0FycmF5KHIpKXtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShyLHQuc3RhcnQpLHIucHVzaCh0aGlzLnNvdXJjZVRva2VuKSxlLml0ZW1zLnBvcCgpO3JldHVybn19dC5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pfXJldHVybjtjYXNlImFuY2hvciI6Y2FzZSJ0YWciOmlmKHQudmFsdWV8fHRoaXMuaW5kZW50PD1lLmluZGVudClicmVhazt0LnN0YXJ0LnB1c2godGhpcy5zb3VyY2VUb2tlbik7cmV0dXJuO2Nhc2Uic2VxLWl0ZW0taW5kIjppZih0aGlzLmluZGVudCE9PWUuaW5kZW50KWJyZWFrO3QudmFsdWV8fGNzKHQuc3RhcnQsInNlcS1pdGVtLWluZCIpP2UuaXRlbXMucHVzaCh7c3RhcnQ6W3RoaXMuc291cmNlVG9rZW5dfSk6dC5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO3JldHVybn1pZih0aGlzLmluZGVudD5lLmluZGVudCl7Y29uc3QgaT10aGlzLnN0YXJ0QmxvY2tWYWx1ZShlKTtpZihpKXt0aGlzLnN0YWNrLnB1c2goaSk7cmV0dXJufX15aWVsZCp0aGlzLnBvcCgpLHlpZWxkKnRoaXMuc3RlcCgpfSpmbG93Q29sbGVjdGlvbihlKXtjb25zdCB0PWUuaXRlbXNbZS5pdGVtcy5sZW5ndGgtMV07aWYodGhpcy50eXBlPT09ImZsb3ctZXJyb3ItZW5kIil7bGV0IHM7ZG8geWllbGQqdGhpcy5wb3AoKSxzPXRoaXMucGVlaygxKTt3aGlsZShzJiZzLnR5cGU9PT0iZmxvdy1jb2xsZWN0aW9uIil9ZWxzZSBpZihlLmVuZC5sZW5ndGg9PT0wKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlImNvbW1hIjpjYXNlImV4cGxpY2l0LWtleS1pbmQiOiF0fHx0LnNlcD9lLml0ZW1zLnB1c2goe3N0YXJ0Olt0aGlzLnNvdXJjZVRva2VuXX0pOnQuc3RhcnQucHVzaCh0aGlzLnNvdXJjZVRva2VuKTtyZXR1cm47Y2FzZSJtYXAtdmFsdWUtaW5kIjohdHx8dC52YWx1ZT9lLml0ZW1zLnB1c2goe3N0YXJ0OltdLGtleTpudWxsLHNlcDpbdGhpcy5zb3VyY2VUb2tlbl19KTp0LnNlcD90LnNlcC5wdXNoKHRoaXMuc291cmNlVG9rZW4pOk9iamVjdC5hc3NpZ24odCx7a2V5Om51bGwsc2VwOlt0aGlzLnNvdXJjZVRva2VuXX0pO3JldHVybjtjYXNlInNwYWNlIjpjYXNlImNvbW1lbnQiOmNhc2UibmV3bGluZSI6Y2FzZSJhbmNob3IiOmNhc2UidGFnIjohdHx8dC52YWx1ZT9lLml0ZW1zLnB1c2goe3N0YXJ0Olt0aGlzLnNvdXJjZVRva2VuXX0pOnQuc2VwP3Quc2VwLnB1c2godGhpcy5zb3VyY2VUb2tlbik6dC5zdGFydC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO3JldHVybjtjYXNlImFsaWFzIjpjYXNlInNjYWxhciI6Y2FzZSJzaW5nbGUtcXVvdGVkLXNjYWxhciI6Y2FzZSJkb3VibGUtcXVvdGVkLXNjYWxhciI6e2NvbnN0IGk9dGhpcy5mbG93U2NhbGFyKHRoaXMudHlwZSk7IXR8fHQudmFsdWU/ZS5pdGVtcy5wdXNoKHtzdGFydDpbXSxrZXk6aSxzZXA6W119KTp0LnNlcD90aGlzLnN0YWNrLnB1c2goaSk6T2JqZWN0LmFzc2lnbih0LHtrZXk6aSxzZXA6W119KTtyZXR1cm59Y2FzZSJmbG93LW1hcC1lbmQiOmNhc2UiZmxvdy1zZXEtZW5kIjplLmVuZC5wdXNoKHRoaXMuc291cmNlVG9rZW4pO3JldHVybn1jb25zdCBzPXRoaXMuc3RhcnRCbG9ja1ZhbHVlKGUpO3M/dGhpcy5zdGFjay5wdXNoKHMpOih5aWVsZCp0aGlzLnBvcCgpLHlpZWxkKnRoaXMuc3RlcCgpKX1lbHNle2NvbnN0IHM9dGhpcy5wZWVrKDIpO2lmKHMudHlwZT09PSJibG9jay1tYXAiJiYodGhpcy50eXBlPT09Im1hcC12YWx1ZS1pbmQiJiZzLmluZGVudD09PWUuaW5kZW50fHx0aGlzLnR5cGU9PT0ibmV3bGluZSImJiFzLml0ZW1zW3MuaXRlbXMubGVuZ3RoLTFdLnNlcCkpeWllbGQqdGhpcy5wb3AoKSx5aWVsZCp0aGlzLnN0ZXAoKTtlbHNlIGlmKHRoaXMudHlwZT09PSJtYXAtdmFsdWUtaW5kIiYmcy50eXBlIT09ImZsb3ctY29sbGVjdGlvbiIpe2NvbnN0IGk9bXIocykscj1UbihpKTtKYyhlKTtjb25zdCBvPWUuZW5kLnNwbGljZSgxLGUuZW5kLmxlbmd0aCk7by5wdXNoKHRoaXMuc291cmNlVG9rZW4pO2NvbnN0IGE9e3R5cGU6ImJsb2NrLW1hcCIsb2Zmc2V0OmUub2Zmc2V0LGluZGVudDplLmluZGVudCxpdGVtczpbe3N0YXJ0OnIsa2V5OmUsc2VwOm99XX07dGhpcy5vbktleUxpbmU9ITAsdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aC0xXT1hfWVsc2UgeWllbGQqdGhpcy5saW5lRW5kKGUpfX1mbG93U2NhbGFyKGUpe2lmKHRoaXMub25OZXdMaW5lKXtsZXQgdD10aGlzLnNvdXJjZS5pbmRleE9mKGAKYCkrMTtmb3IoO3QhPT0wOyl0aGlzLm9uTmV3TGluZSh0aGlzLm9mZnNldCt0KSx0PXRoaXMuc291cmNlLmluZGV4T2YoYApgLHQpKzF9cmV0dXJue3R5cGU6ZSxvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LHNvdXJjZTp0aGlzLnNvdXJjZX19c3RhcnRCbG9ja1ZhbHVlKGUpe3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UiYWxpYXMiOmNhc2Uic2NhbGFyIjpjYXNlInNpbmdsZS1xdW90ZWQtc2NhbGFyIjpjYXNlImRvdWJsZS1xdW90ZWQtc2NhbGFyIjpyZXR1cm4gdGhpcy5mbG93U2NhbGFyKHRoaXMudHlwZSk7Y2FzZSJibG9jay1zY2FsYXItaGVhZGVyIjpyZXR1cm57dHlwZToiYmxvY2stc2NhbGFyIixvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LHByb3BzOlt0aGlzLnNvdXJjZVRva2VuXSxzb3VyY2U6IiJ9O2Nhc2UiZmxvdy1tYXAtc3RhcnQiOmNhc2UiZmxvdy1zZXEtc3RhcnQiOnJldHVybnt0eXBlOiJmbG93LWNvbGxlY3Rpb24iLG9mZnNldDp0aGlzLm9mZnNldCxpbmRlbnQ6dGhpcy5pbmRlbnQsc3RhcnQ6dGhpcy5zb3VyY2VUb2tlbixpdGVtczpbXSxlbmQ6W119O2Nhc2Uic2VxLWl0ZW0taW5kIjpyZXR1cm57dHlwZToiYmxvY2stc2VxIixvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LGl0ZW1zOlt7c3RhcnQ6W3RoaXMuc291cmNlVG9rZW5dfV19O2Nhc2UiZXhwbGljaXQta2V5LWluZCI6e3RoaXMub25LZXlMaW5lPSEwO2NvbnN0IHQ9bXIoZSkscz1Ubih0KTtyZXR1cm4gcy5wdXNoKHRoaXMuc291cmNlVG9rZW4pLHt0eXBlOiJibG9jay1tYXAiLG9mZnNldDp0aGlzLm9mZnNldCxpbmRlbnQ6dGhpcy5pbmRlbnQsaXRlbXM6W3tzdGFydDpzLGV4cGxpY2l0S2V5OiEwfV19fWNhc2UibWFwLXZhbHVlLWluZCI6e3RoaXMub25LZXlMaW5lPSEwO2NvbnN0IHQ9bXIoZSkscz1Ubih0KTtyZXR1cm57dHlwZToiYmxvY2stbWFwIixvZmZzZXQ6dGhpcy5vZmZzZXQsaW5kZW50OnRoaXMuaW5kZW50LGl0ZW1zOlt7c3RhcnQ6cyxrZXk6bnVsbCxzZXA6W3RoaXMuc291cmNlVG9rZW5dfV19fX1yZXR1cm4gbnVsbH1hdEluZGVudGVkQ29tbWVudChlLHQpe3JldHVybiB0aGlzLnR5cGUhPT0iY29tbWVudCJ8fHRoaXMuaW5kZW50PD10PyExOmUuZXZlcnkocz0+cy50eXBlPT09Im5ld2xpbmUifHxzLnR5cGU9PT0ic3BhY2UiKX0qZG9jdW1lbnRFbmQoZSl7dGhpcy50eXBlIT09ImRvYy1tb2RlIiYmKGUuZW5kP2UuZW5kLnB1c2godGhpcy5zb3VyY2VUb2tlbik6ZS5lbmQ9W3RoaXMuc291cmNlVG9rZW5dLHRoaXMudHlwZT09PSJuZXdsaW5lIiYmKHlpZWxkKnRoaXMucG9wKCkpKX0qbGluZUVuZChlKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlImNvbW1hIjpjYXNlImRvYy1zdGFydCI6Y2FzZSJkb2MtZW5kIjpjYXNlImZsb3ctc2VxLWVuZCI6Y2FzZSJmbG93LW1hcC1lbmQiOmNhc2UibWFwLXZhbHVlLWluZCI6eWllbGQqdGhpcy5wb3AoKSx5aWVsZCp0aGlzLnN0ZXAoKTticmVhaztjYXNlIm5ld2xpbmUiOnRoaXMub25LZXlMaW5lPSExO2Nhc2Uic3BhY2UiOmNhc2UiY29tbWVudCI6ZGVmYXVsdDplLmVuZD9lLmVuZC5wdXNoKHRoaXMuc291cmNlVG9rZW4pOmUuZW5kPVt0aGlzLnNvdXJjZVRva2VuXSx0aGlzLnR5cGU9PT0ibmV3bGluZSImJih5aWVsZCp0aGlzLnBvcCgpKX19fWZ1bmN0aW9uIHcwKG4pe2NvbnN0IGU9bi5wcmV0dHlFcnJvcnMhPT0hMTtyZXR1cm57bGluZUNvdW50ZXI6bi5saW5lQ291bnRlcnx8ZSYmbmV3IHAwfHxudWxsLHByZXR0eUVycm9yczplfX1mdW5jdGlvbiBiMChuLGU9e30pe2NvbnN0e2xpbmVDb3VudGVyOnQscHJldHR5RXJyb3JzOnN9PXcwKGUpLGk9bmV3IGcwKHQ9PW51bGw/dm9pZCAwOnQuYWRkTmV3TGluZSkscj1uZXcgaDAoZSk7bGV0IG89bnVsbDtmb3IoY29uc3QgYSBvZiByLmNvbXBvc2UoaS5wYXJzZShuKSwhMCxuLmxlbmd0aCkpaWYoIW8pbz1hO2Vsc2UgaWYoby5vcHRpb25zLmxvZ0xldmVsIT09InNpbGVudCIpe28uZXJyb3JzLnB1c2gobmV3IHZzKGEucmFuZ2Uuc2xpY2UoMCwyKSwiTVVMVElQTEVfRE9DUyIsIlNvdXJjZSBjb250YWlucyBtdWx0aXBsZSBkb2N1bWVudHM7IHBsZWFzZSB1c2UgWUFNTC5wYXJzZUFsbERvY3VtZW50cygpIikpO2JyZWFrfXJldHVybiBzJiZ0JiYoby5lcnJvcnMuZm9yRWFjaChGYyhuLHQpKSxvLndhcm5pbmdzLmZvckVhY2goRmMobix0KSkpLG99ZnVuY3Rpb24gWGMobixlLHQpe2xldCBzO3R5cGVvZiBlPT0iZnVuY3Rpb24iP3M9ZTp0PT09dm9pZCAwJiZlJiZ0eXBlb2YgZT09Im9iamVjdCImJih0PWUpO2NvbnN0IGk9YjAobix0KTtpZighaSlyZXR1cm4gbnVsbDtpZihpLndhcm5pbmdzLmZvckVhY2gocj0+bWMoaS5vcHRpb25zLmxvZ0xldmVsLHIpKSxpLmVycm9ycy5sZW5ndGg+MCl7aWYoaS5vcHRpb25zLmxvZ0xldmVsIT09InNpbGVudCIpdGhyb3cgaS5lcnJvcnNbMF07aS5lcnJvcnM9W119cmV0dXJuIGkudG9KUyhPYmplY3QuYXNzaWduKHtyZXZpdmVyOnN9LHQpKX1jb25zdCBRYz1uPT5uLnRyaW0oKS5zcGxpdCgvIHwsLykuZmlsdGVyKGU9PiEhZSYmZS5pbmNsdWRlcygiQCIpfHxlPT09IioifHxlPT09IlxcKiIpLFQwPS9eKFteOl0rKSg6KSg/OlxzfCQpLyxrMD0vXig/IS0pXHMqKFtcd1wtXC5dKykoOikoPzpcc3wkKS8sRTA9Lyg6KVxzKyguKykkLyxlaD1uPT4hIW4ubWF0Y2goYm8pfHwhIW4ubWF0Y2gocG8pfHwhIW4ubWF0Y2goVG8pfHwhIW4ubWF0Y2goRmkpLHRoPS9eLS0tLztmdW5jdGlvbiBzaChuLGUsdCxzKXtsZXQgaT10LHI9aSxvPS0xLGE9LTE7Y29uc3QgbD1bXSx1PVtdO2xldCBoPSExO2NvbnN0IGM9W107bGV0IG09bltpXTtmb3IoO3R5cGVvZiBtPCJ1IiYmISghaCYmZWgobSkpOyl7Y29uc3QgZD1tLm1hdGNoKHRoKTtpZihkKXtjb25zdCB3PXt0eXBlOlcuRnJvbnRtYXR0ZXJEZWxpbWl0ZXIsZnJvbTplW3JdLHRvOmVbcl0rNH07aWYoYy5wdXNoKHcpLCFoKWk9cixoPSEwO2Vsc2V7Yy5sZW5ndGg9PT0yJiYocy5yYW5nZXMucHVzaChjWzBdKSxzLnJhbmdlcy5wdXNoKGNbMV0pKTticmVha319Y29uc3QgeT1LaShtLHIsZSxzKTtpZih5fHwobT11ZyhtKSksIXkmJiFkKXtjb25zdCB3PW0ubWF0Y2goazApO2lmKHcpe2NvbnN0IGI9ZVtyXSxrPXcuaW5kZXgrd1swXS5pbmRleE9mKHdbMV0pO2wucHVzaCh7dHlwZTpXLlByb3BlcnR5S2V5LGZyb206YitrLHRvOmIrayt3WzFdLmxlbmd0aH0pLGwucHVzaCh7dHlwZTpXLlByb3BlcnR5S2V5Q29sb24sZnJvbTpiK2srd1sxXS5sZW5ndGgsdG86YitrK3dbMV0ubGVuZ3RoKzF9KSxsLnB1c2goe3R5cGU6Vy5Qcm9wZXJ0eVZhbHVlLGZyb206YitrK3dbMV0ubGVuZ3RoKzEsdG86YittLmxlbmd0aH0pLHUucHVzaChtKSxvPT09LTEmJihvPXIpLGE9cn1lbHNlIGlmKCFoKWJyZWFrfWVsc2UgaWYoIWgpYnJlYWs7bT1uWysrcl19bGV0IGY9e30sZz1bXTtpZih1Lmxlbmd0aCl0cnl7Y29uc3QgZD1YYyh1LmpvaW4oYApgKSx7bWFwQXNNYXA6ITB9KTtnPSgoKT0+e2NvbnN0IHk9W107Zm9yKGNvbnN0IHcgb2YgZC5rZXlzKCkpeS5wdXNoKHcpO3JldHVybiB5fSkoKSxmPXVhKGQpLHMucmFuZ2VzLnB1c2goLi4ubCl9Y2F0Y2goZCl7ZCBpbnN0YW5jZW9mIHZzJiZzLnBhcnNlTWVzc2FnZXMucHVzaCh7dHlwZToiZXJyb3IiLHBvczpkLnBvcy5tYXAoeT0+ZVt0XSt5KSxtZXNzYWdlOmQubWVzc2FnZX0pLGNvbnNvbGUuZXJyb3IoZCl9aWYoYy5sZW5ndGg9PT0yKXtjb25zdCBkPWVbaV07cy5mb2xkYWJsZXNbZF09e3N0YXJ0TGluZTppLHN0YXJ0SW5kZXg6ZCxlbmRJbmRleDplW3JdLTEsdHlwZToiaGVhZGVyIixmb2xkU3RhcnRJbmRleDpjLmxlbmd0aD09PTI/ZCszOmR9fWVsc2UgaWYobz49MCYmYT49MCYmYSE9PW8pe2NvbnN0IGQ9ZVtvXSx5PXtzdGFydExpbmU6byxzdGFydEluZGV4OmQsZW5kSW5kZXg6ZVthKzFdLTEsdHlwZToiaGVhZGVyIixmb2xkU3RhcnRJbmRleDpkfTtzLmZvbGRhYmxlc1tkXT15fXJldHVybntwcm9wZXJ0aWVzOmYscHJvcE9yZGVyOmcsaTpyfX1mdW5jdGlvbiB1YShuKXtjb25zdCBlPXt9O2Zvcihjb25zdFt0LHNdb2Ygbi5lbnRyaWVzKCkpcyBpbnN0YW5jZW9mIE1hcD9lW3RdPXVhKHMpOnR5cGVvZiBzPT0ib2JqZWN0IiYmcyE9PW51bGwmJiFBcnJheS5pc0FycmF5KHMpP2VbdF09dWEobmV3IE1hcChPYmplY3QuZW50cmllcyhzKSkpOmVbdF09cztyZXR1cm4gZX1mdW5jdGlvbiBTMChuLGUsdCl7bGV0IHM9MCxpPXMscj0tMSxvPS0xLGE9ITE7Y29uc3QgbD1bXSx1PVtdLGg9W107bGV0IGM9bltzXTtmb3IoO3R5cGVvZiBjPCJ1IiYmISghYSYmZWgoYykpOyl7Y29uc3QgZD1jLm1hdGNoKHRoKTtpZihkKXtjb25zdCB3PXt0eXBlOlcuRnJvbnRtYXR0ZXJEZWxpbWl0ZXIsZnJvbTplW2ldLHRvOmVbaV0rNH07aWYoaC5wdXNoKHcpLCFhKXM9aSxhPSEwO2Vsc2V7aC5sZW5ndGg9PT0yJiYodC5yYW5nZXMucHVzaChoWzBdKSx0LnJhbmdlcy5wdXNoKGhbMV0pKTticmVha319Y29uc3QgeT1LaShjLGksZSx0KTtpZih5fHwoYz1jZyhjLGksZSx0KSxsLnB1c2goYykpLCF5JiYhZCl7Y29uc3Qgdz1jLm1hdGNoKFQwKTt3JiYodS5wdXNoKHt0eXBlOlcuSGVhZGVyS2V5LGZyb206ZVtpXSx0bzplW2ldK3dbMV0ubGVuZ3RofSksdS5wdXNoKHt0eXBlOlcuSGVhZGVyS2V5Q29sb24sZnJvbTplW2ldK3dbMV0ubGVuZ3RoLHRvOmVbaV0rd1sxXS5sZW5ndGgrMX0pKTtjb25zdCBiPWMubWF0Y2goRTApO2xldCBrO2I/dz9rPXdbMF0ubGVuZ3RoK2Muc3Vic3RyaW5nKHdbMF0ubGVuZ3RoKS5pbmRleE9mKGJbMl0pOms9Yy5pbmRleE9mKGJbMl0pOnc/az0tMTprPTAsaz49MCYmdS5wdXNoKHt0eXBlOlcuSGVhZGVyVmFsdWUsZnJvbTplW2ldK2ssdG86ZVtpXStrKyhiP2JbMl0ubGVuZ3RoOmMubGVuZ3RoKX0pfWMubGVuZ3RoJiYocj09PS0xJiYocj1pKSxvPWkpLGkrKyxjPW5baV19dHJ5e2NvbnN0IGQ9WGMobC5qb2luKGAKYCkpO2lmKGQuZGF0ZUZvcm1hdHx8KGQuZGF0ZUZvcm1hdD1kLmRhdGVGb3JtYXQ9PT0iZC9NL3kiPyR5OnRuKSxkLnZpZXcmJnR5cGVvZiBkLnZpZXc9PSJzdHJpbmciJiYoZC52aWV3PVFjKGQudmlldykpLGQuZWRpdCYmdHlwZW9mIGQuZWRpdD09InN0cmluZyImJihkLmVkaXQ9UWMoZC5lZGl0KSksKHR5cGVvZiBkLnRpbWV6b25lPCJ1Inx8dHlwZW9mIGQudHo8InUiKSYmIWxzKGQudGltZXpvbmU/P2QudHosdC5jYWNoZSkpZm9yKGxldCB5PXM7eTxuLmxlbmd0aDt5Kyspe2NvbnN0IHc9WyJ0aW1lem9uZToiLCJ0ejoiXTtmb3IobGV0IGI9MDtiPHcubGVuZ3RoO2IrKyl7Y29uc3Qgaz13W2JdO2lmKG5beV0uc3RhcnRzV2l0aChrKSl7Y29uc3QgUz1uW3ldLnN1YnN0cmluZyhrLmxlbmd0aCkudHJpbSgpLE89ZVt5XStuW3ldLmluZGV4T2YoUyksdj1PK1MubGVuZ3RoO3QucGFyc2VNZXNzYWdlcy5wdXNoKHt0eXBlOiJlcnJvciIscG9zOltPLHZdLG1lc3NhZ2U6YEludmFsaWQgdGltZXpvbmUgIiR7U30iYH0pfX19dC5yYW5nZXMucHVzaCguLi51KSx0LmhlYWRlcj1kfWNhdGNoKGQpe2QgaW5zdGFuY2VvZiB2cyYmdC5wYXJzZU1lc3NhZ2VzLnB1c2goe3R5cGU6ImVycm9yIixwb3M6ZC5wb3MsbWVzc2FnZTpkLm1lc3NhZ2V9KSx0LmhlYWRlcj17ZGF0ZUZvcm1hdDp0bn19bGV0IG0sZjtpZihoLmxlbmd0aD09PTIpe2NvbnN0IGQ9ZVtzXTttPWQsZj1lW2ldLTEsdC5mb2xkYWJsZXNbZF09e3N0YXJ0TGluZTpzLHN0YXJ0SW5kZXg6bSxlbmRJbmRleDpmLHR5cGU6ImhlYWRlciIsZm9sZFN0YXJ0SW5kZXg6aC5sZW5ndGg9PT0yP2QrMzpkfX1lbHNlIGlmKHI+PTAmJm8+PTAmJm8hPT1yKXttPWVbcl0sZj1lW28rMV0tMTtjb25zdCBkPXtzdGFydExpbmU6cixzdGFydEluZGV4Om0sZW5kSW5kZXg6Zix0eXBlOiJoZWFkZXIiLGZvbGRTdGFydEluZGV4Om19O3QuZm9sZGFibGVzW21dPWR9Y29uc3QgZz1uLmxlbmd0aD4wfHxuWzBdLmxlbmd0aD4wO3JldHVybiF0LmhlYWRlci50aW1lem9uZSYmZyYmdC5kb2N1bWVudE1lc3NhZ2VzLnB1c2goe3R5cGU6Indhcm5pbmciLG1lc3NhZ2U6IlRpbWV6b25lIG5vdCBzcGVjaWZpZWQuIFNwZWNpZnlpbmcgYSBgdGltZXpvbmVgIGluIHRoZSBoZWFkZXIgaXMgaGlnaGx5IHJlY29tbWVuZGVkLiJ9KSxpfWZ1bmN0aW9uIE8wKG4sZSx0LHMpe24uaWQmJiFzLmlkc1tuLmlkXSYmKHMuaWRzW24uaWRdPVsuLi5lXSksKCFzLmVhcmxpZXN0fHx0LmZyb21EYXRlVGltZTxzLmVhcmxpZXN0KSYmKHMuZWFybGllc3Q9dC5mcm9tRGF0ZVRpbWUpLCghcy5sYXRlc3R8fHQudG9EYXRlVGltZT5zLmxhdGVzdCkmJihzLmxhdGVzdD10LnRvRGF0ZVRpbWUpO2NvbnN0IGk9K3QudG9EYXRlVGltZS0rdC5mcm9tRGF0ZVRpbWU7KHR5cGVvZiBzLm1heER1cmF0aW9uPiJ1Inx8aT5zLm1heER1cmF0aW9uKSYmKHMubWF4RHVyYXRpb249aSl9ZnVuY3Rpb24gSTAobixlLHQpe2NvbnN0IHM9bi5ldmVudFRleHQubWF0Y2gocnkpLGk9ZS5pbmRleE9mKG4uZXZlbnRUZXh0KTtsZXQgcjtpZihzKXtjb25zdCBvPWkrbi5ldmVudFRleHQuaW5kZXhPZihzWzBdKSxhPW8rbi5ldmVudFRleHQuaW5kZXhPZihzWzFdKStzWzFdLmxlbmd0aDtyPVsiWCIsIngiXS5zb21lKHU9PnMuaW5jbHVkZXModSkpO2NvbnN0IGw9e3R5cGU6Vy5DaGVja2JveEl0ZW1JbmRpY2F0b3IsZnJvbTpuLmRhdGVSYW5nZUluVGV4dC5mcm9tK28sdG86bi5kYXRlUmFuZ2VJblRleHQuZnJvbSthLGNvbnRlbnQ6cn07dC5yYW5nZXMucHVzaChsKX1yZXR1cm4gcn1mdW5jdGlvbiBEMChuLGUsdCxzLGkpe2xldCByPWlnKG4sdCxzLGkpO2lmKHJ8fChyPW5nKG4sdCxzLGkpKSxyfHwocj1yZyhuLHQscyxpKSksIXIpcmV0dXJuIHQ7Y29uc3R7cHJvcGVydGllczpvLGk6YSxwcm9wT3JkZXI6bH09c2goZSxzLHQrMSxpKSx1PVtdO2xldCBoPWEtMSxjO2Zvcig7Yz1lWysraF0sISh0eXBlb2YgYyE9InN0cmluZyJ8fGMubWF0Y2goYm8pfHxjLm1hdGNoKHBvKXx8Yy5tYXRjaChUbyl8fGMubWF0Y2goRmkpfHxpLmN1cnJlbnRQYXRoLmxlbmd0aD4xJiZjLm1hdGNoKGN1KSk7KXtLaShjLGgscyxpKSxuYyhjLGgscyxpKTtjb25zdCBiPWxnKGMsaCxzLGkpO2ImJnUucHVzaCguLi5iKX1jb25zdCBtPWUuc2xpY2UoYS0xLGgpLGY9STAocixuLGkpO21bMF09ci5ldmVudFRleHQudHJpbSgpO2NvbnN0IGc9bmV3IFp5KG0sdSxmKSxkPW8udGltZXpvbmV8fG8udHo7aWYoZClpZih0eXBlb2YgZD09InN0cmluZyJ8fHR5cGVvZiBkPT0ibnVtYmVyIil7Y29uc3QgYj1scyhkLGkuY2FjaGUpO2I/KHIuZnJvbURhdGVUaW1lPXIuZnJvbURhdGVUaW1lLnNldFpvbmUoYix7a2VlcExvY2FsVGltZTohMH0pLHIudG9EYXRlVGltZT1yLnRvRGF0ZVRpbWUuc2V0Wm9uZShiLHtrZWVwTG9jYWxUaW1lOiEwfSkpOmkucGFyc2VNZXNzYWdlcy5wdXNoKHt0eXBlOiJlcnJvciIsbWVzc2FnZTpgVW5hYmxlIHRvIHBhcnNlIHRpbWV6b25lICIke2R9ImAscG9zOltyLmRhdGVSYW5nZUluVGV4dC5mcm9tLHIuZGF0ZVJhbmdlSW5UZXh0LnRvXX0pfWVsc2UgaWYodHlwZW9mIGQ9PSJvYmplY3QiKXtjb25zdCBiPWQuZnJvbSxrPWQudG87aWYoIWImJiFrJiZpLnBhcnNlTWVzc2FnZXMucHVzaCh7dHlwZToiZXJyb3IiLG1lc3NhZ2U6IlVuYWJsZSB0byBwYXJzZSBkaXN0aW5jdCBmcm9tIGFuZCB0byB0aW1lem9uZXMuIFNwZWNpZnkgJ3RpbWV6b25lLmZyb20nIGFuZC9vciAndGltZXpvbmUudG8nIHRvIHNldCB6b25lcyBmb3IgdGhlIHN0YXJ0IG9yIGVuZCBvZiByYW5nZXMsIHJlc3BlY3RpdmVseS4iLHBvczpbci5kYXRlUmFuZ2VJblRleHQuZnJvbSxyLmRhdGVSYW5nZUluVGV4dC50b119KSxiKXtjb25zdCBTPWxzKGIsaS5jYWNoZSk7Uz9yLmZyb21EYXRlVGltZT1yLmZyb21EYXRlVGltZS5zZXRab25lKFMse2tlZXBMb2NhbFRpbWU6ITB9KTppLnBhcnNlTWVzc2FnZXMucHVzaCh7dHlwZToiZXJyb3IiLG1lc3NhZ2U6YFVuYWJsZSB0byBwYXJzZSAnZnJvbScgdGltZXpvbmUgIiR7Yn0iYCxwb3M6W3IuZGF0ZVJhbmdlSW5UZXh0LmZyb20sci5kYXRlUmFuZ2VJblRleHQudG9dfSl9aWYoayl7Y29uc3QgUz1scyhrLGkuY2FjaGUpO1M/ci50b0RhdGVUaW1lPXIudG9EYXRlVGltZS5zZXRab25lKFMse2tlZXBMb2NhbFRpbWU6ITB9KTppLnBhcnNlTWVzc2FnZXMucHVzaCh7dHlwZToiZXJyb3IiLG1lc3NhZ2U6YFVuYWJsZSB0byBwYXJzZSAndG8nIHRpbWV6b25lICIke2t9ImAscG9zOltyLmRhdGVSYW5nZUluVGV4dC5mcm9tLHIuZGF0ZVJhbmdlSW5UZXh0LnRvXX0pfX1lbHNlIGkucGFyc2VNZXNzYWdlcy5wdXNoKHt0eXBlOiJlcnJvciIsbWVzc2FnZTpgVW5hYmxlIHRvIHBhcnNlIHRpbWV6b25lICIke2RbMV19ImAscG9zOltyLmRhdGVSYW5nZUluVGV4dC5mcm9tLHIuZGF0ZVJhbmdlSW5UZXh0LnRvXX0pO2NvbnN0IHk9e2Zyb206c1t0XSx0bzpzW2hdLHR5cGU6Vy5FdmVudH0sdz1uZXcgSnkobixvLGwscix5LHIuZGF0ZVJhbmdlSW5UZXh0LGcsci5vcmlnaW5hbFN0cmluZyk7aWYodyl7Y29uc3QgYj1pLnB1c2godyk7TzAodyxiLHIsaSksaC10PjEmJnkudG8tc1t0KzFdPjAmJihpLmZvbGRhYmxlc1tzW3RdXT17c3RhcnRJbmRleDpzW3QrMV0tMSxlbmRJbmRleDp5LnRvLTEsdHlwZToiZXZlbnQiLGZvbGRTdGFydEluZGV4OnNbdCsxXS0xLHN0YXJ0TGluZTp0fSl9cmV0dXJuIGgtMX1jbGFzcyBNMHtjb25zdHJ1Y3RvcihlLHQscyl7aWYodGhpcy5wYXJzZU1lc3NhZ2VzPVtdLHRoaXMuZG9jdW1lbnRNZXNzYWdlcz1bXSx0aGlzLmV2ZW50cz1uZXcga28sdGhpcy5pZHM9e30sdGhpcy5wYWxldHRlSW5kZXg9MCx0aGlzLmVhcmxpZXN0PXZvaWQgMCx0aGlzLmxhdGVzdD12b2lkIDAsdGhpcy5tYXhEdXJhdGlvbj12b2lkIDAsdGhpcy5jdXJyZW50UGF0aD1bXSx0aGlzLmZvbGRhYmxlcz17fSx0aGlzLmZvbGRhYmxlU2VjdGlvbnM9W10sdGhpcy5yYW5nZXM9W10sdGhpcy5oZWFkZXI9e2RhdGVGb3JtYXQ6dG59LHRoaXMuY2FjaGU9dCx0eXBlb2YgZT09InN0cmluZyIpe2NvbnN0IGk9TS5mcm9tSVNPKGUpO2kuaXNWYWxpZD90aGlzLm5vdz1pOnRoaXMubm93PU0ubm93KCl9ZWxzZSBlP3RoaXMubm93PWU6dGhpcy5ub3c9TS5ub3coKTtzJiYodGhpcy5wcmlvckV2ZW50PSgpPT5zKHRoaXMpKX1nZXQgem9uZWROb3coKXtyZXR1cm4gdGhpcy5ub3cuc2V0Wm9uZSh0aGlzLnRpbWV6b25lKX1nZXQgdGltZXpvbmUoKXtyZXR1cm4gdGhpcy5wYXJlbnRab25lKCl9Y3VycmVudEZvbGRhYmxlU2VjdGlvbigpe3JldHVybiB0aGlzLmZvbGRhYmxlU2VjdGlvbnNbdGhpcy5mb2xkYWJsZVNlY3Rpb25zLmxlbmd0aC0xXX1jdXJyZW50Rm9sZGFibGVDb21tZW50KCl7cmV0dXJuIHRoaXMuZm9sZGFibGVzLmNvbW1lbnR9c3RhcnRGb2xkYWJsZVNlY3Rpb24oZSl7dGhpcy5mb2xkYWJsZVNlY3Rpb25zLnB1c2goZSl9c3RhcnRGb2xkYWJsZShlKXt0aGlzLmZvbGRhYmxlc1tlLnR5cGVdPWV9ZmluaXNoRm9sZGFibGVTZWN0aW9uKGUsdCl7Y29uc3Qgcz10aGlzLmZvbGRhYmxlU2VjdGlvbnMucG9wKCk7cyYmcy5zdGFydExpbmU8ZS0xJiYodGhpcy5mb2xkYWJsZXNbcy5zdGFydEluZGV4XT17Li4ucyxlbmRJbmRleDp0fSl9ZmluaXNoRm9sZGFibGVDb21tZW50KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50Rm9sZGFibGVDb21tZW50KCk7dCYmKHQuc3RhcnRMaW5lPGUtMSYmKHRoaXMuZm9sZGFibGVzW3Quc3RhcnRJbmRleF09ey4uLnR9KSxkZWxldGUgdGhpcy5mb2xkYWJsZXMuY29tbWVudCl9cHVzaChlKXtjb25zdHtwYXRoOnQsdGFpbDpzfT1ndShlLHRoaXMuZXZlbnRzLHRoaXMuY3VycmVudFBhdGguc2xpY2UoMCwtMSksdGhpcy50YWlsKTtyZXR1cm4gcyYmKHRoaXMuaGVhZHx8KHRoaXMuaGVhZD1zKSx0aGlzLnRhaWw9cyksdGhpcy5jdXJyZW50UGF0aD10LHR9ZW5kQ3VycmVudEdyb3VwKGUsdCl7dGhpcy5jdXJyZW50UGF0aC5wb3AoKTtjb25zdCBzPXppKHRoaXMuZXZlbnRzLHRoaXMuY3VycmVudFBhdGgpO3MudGV4dFJhbmdlcy53aG9sZT17Li4ucy50ZXh0UmFuZ2VzLndob2xlLHRvOmV9LHRoaXMuZmluaXNoRm9sZGFibGVTZWN0aW9uKHQubGluZSxlKX10b1RpbWVsaW5lKCl7cmV0dXJuIHRoaXMubWF4RHVyYXRpb24mJnRoaXMubWF4RHVyYXRpb24vMWUzLzYwLzYwLzI0LHtldmVudHM6dGhpcy5ldmVudHMsaWRzOnRoaXMuaWRzLHJhbmdlczp0aGlzLnJhbmdlcy5zb3J0KCh7ZnJvbTplfSx7ZnJvbTp0fSk9PmUtdCksZm9sZGFibGVzOnRoaXMuZm9sZGFibGVzLGhlYWRlcjp0aGlzLmhlYWRlcixwYXJzZU1lc3NhZ2VzOnRoaXMucGFyc2VNZXNzYWdlcy5zb3J0KCh7cG9zOmUsbWVzc2FnZTp0fSx7cG9zOnMsbWVzc2FnZTppfSk9PmVbMF0tc1swXSksZG9jdW1lbnRNZXNzYWdlczp0aGlzLmRvY3VtZW50TWVzc2FnZXN9fXByaW9yRXZlbnQoKXtyZXR1cm4gdGhpcy50YWlsfXBhcmVudFpvbmUoKXtjb25zdCBlPVsuLi50aGlzLmN1cnJlbnRQYXRoXTtmb3IoZS5wb3AoKTtlLmxlbmd0aDspe2NvbnN0IHQ9emkodGhpcy5ldmVudHMsZSkscz1fMCgodD09bnVsbD92b2lkIDA6dC5wcm9wZXJ0aWVzKT8/W10sdGhpcy5jYWNoZSk7aWYocylyZXR1cm4gcztlLnBvcCgpfXJldHVybiBscyh0aGlzLmhlYWRlci50aW1lem9uZT8/dGhpcy5oZWFkZXIudHosdGhpcy5jYWNoZSk/P1luLmluc3RhbmNlfXByaW9yRXZlbnRUb0RhdGVUaW1lKCl7Y29uc3QgZT10aGlzLnByaW9yRXZlbnQoKTtpZihlKXJldHVybiBDdChlLmRhdGVSYW5nZUlzbykudG9EYXRlVGltZX1wcmlvckV2ZW50RnJvbURhdGVUaW1lKCl7Y29uc3QgZT10aGlzLnByaW9yRXZlbnQoKTtpZihlKXJldHVybiBDdChlLmRhdGVSYW5nZUlzbykuZnJvbURhdGVUaW1lfWdldEJ5SWQoZSl7Y29uc3QgdD10aGlzLmlkc1tlXTtpZih0KXJldHVybiB6aSh0aGlzLmV2ZW50cyx0KX19ZnVuY3Rpb24gXzAobixlKXtpZihBcnJheS5pc0FycmF5KG4pKXtjb25zdCB0PW4uZmluZCgoW3MsaV0pPT4ocz09PSJ0eiJ8fHM9PT0idGltZXpvbmUiKSYmKHR5cGVvZiBpPT0ic3RyaW5nInx8dHlwZW9mIGk9PSJudW1iZXIiKSk7aWYodClyZXR1cm4gbHModFsxXSxlKX1lbHNle2NvbnN0IHQ9KG49PW51bGw/dm9pZCAwOm4udGltZXpvbmUpPz8obj09bnVsbD92b2lkIDA6bi50eik7aWYodClyZXR1cm4gbHModCxlKX19ZnVuY3Rpb24gTjAobixlLHQscyl7cmV0dXJuIHMuY3VycmVudFBhdGgubGVuZ3RoPjEmJm4ubWF0Y2goY3UpPyhzLnJhbmdlcy5wdXNoKHtmcm9tOnRbZV0sdG86dFtlXStuLmxlbmd0aCx0eXBlOlcuU2VjdGlvbn0pLHMuZW5kQ3VycmVudEdyb3VwKHRbZV0rbi5sZW5ndGgse2xpbmU6ZSxpbmRleDpuLmxlbmd0aH0pLCEwKTohMX1mdW5jdGlvbiB2MChuLGUsdCxzKXtyZXR1cm5bS2ksbmMsTjBdLnNvbWUoaT0+aShuLGUsdCxzKSl9Y2xhc3MgeXJ7Y29uc3RydWN0b3IoZSl7VCh0aGlzLCJpY2FsdHlwZSIsImJpbmFyeSIpO3RoaXMudmFsdWU9ZX1zdGF0aWMgZnJvbVN0cmluZyhlKXtyZXR1cm4gbmV3IHlyKGUpfWRlY29kZVZhbHVlKCl7cmV0dXJuIHRoaXMuX2I2NF9kZWNvZGUodGhpcy52YWx1ZSl9c2V0RW5jb2RlZFZhbHVlKGUpe3RoaXMudmFsdWU9dGhpcy5fYjY0X2VuY29kZShlKX1fYjY0X2VuY29kZShlKXtsZXQgdD0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iLHMsaSxyLG8sYSxsLHUsaCxjPTAsbT0wLGY9IiIsZz1bXTtpZighZSlyZXR1cm4gZTtkbyBzPWUuY2hhckNvZGVBdChjKyspLGk9ZS5jaGFyQ29kZUF0KGMrKykscj1lLmNoYXJDb2RlQXQoYysrKSxoPXM8PDE2fGk8PDh8cixvPWg+PjE4JjYzLGE9aD4+MTImNjMsbD1oPj42JjYzLHU9aCY2MyxnW20rK109dC5jaGFyQXQobykrdC5jaGFyQXQoYSkrdC5jaGFyQXQobCkrdC5jaGFyQXQodSk7d2hpbGUoYzxlLmxlbmd0aCk7Zj1nLmpvaW4oIiIpO2xldCBkPWUubGVuZ3RoJTM7cmV0dXJuKGQ/Zi5zbGljZSgwLGQtMyk6ZikrIj09PSIuc2xpY2UoZHx8Myl9X2I2NF9kZWNvZGUoZSl7bGV0IHQ9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89IixzLGkscixvLGEsbCx1LGgsYz0wLG09MCxmPSIiLGc9W107aWYoIWUpcmV0dXJuIGU7ZSs9IiI7ZG8gbz10LmluZGV4T2YoZS5jaGFyQXQoYysrKSksYT10LmluZGV4T2YoZS5jaGFyQXQoYysrKSksbD10LmluZGV4T2YoZS5jaGFyQXQoYysrKSksdT10LmluZGV4T2YoZS5jaGFyQXQoYysrKSksaD1vPDwxOHxhPDwxMnxsPDw2fHUscz1oPj4xNiYyNTUsaT1oPj44JjI1NSxyPWgmMjU1LGw9PTY0P2dbbSsrXT1TdHJpbmcuZnJvbUNoYXJDb2RlKHMpOnU9PTY0P2dbbSsrXT1TdHJpbmcuZnJvbUNoYXJDb2RlKHMsaSk6Z1ttKytdPVN0cmluZy5mcm9tQ2hhckNvZGUocyxpLHIpO3doaWxlKGM8ZS5sZW5ndGgpO3JldHVybiBmPWcuam9pbigiIiksZn10b1N0cmluZygpe3JldHVybiB0aGlzLnZhbHVlfX1jb25zdCBBMD0vKFtQRFdITVRTXXsxLDF9KS8sQzA9WyJ3ZWVrcyIsImRheXMiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwiaXNOZWdhdGl2ZSJdO2NsYXNzIFVle2NvbnN0cnVjdG9yKGUpe1QodGhpcywid2Vla3MiLDApO1QodGhpcywiZGF5cyIsMCk7VCh0aGlzLCJob3VycyIsMCk7VCh0aGlzLCJtaW51dGVzIiwwKTtUKHRoaXMsInNlY29uZHMiLDApO1QodGhpcywiaXNOZWdhdGl2ZSIsITEpO1QodGhpcywiaWNhbGNsYXNzIiwiaWNhbGR1cmF0aW9uIik7VCh0aGlzLCJpY2FsdHlwZSIsImR1cmF0aW9uIik7dGhpcy53cmFwcGVkSlNPYmplY3Q9dGhpcyx0aGlzLmZyb21EYXRhKGUpfXN0YXRpYyBmcm9tU2Vjb25kcyhlKXtyZXR1cm4gbmV3IFVlKCkuZnJvbVNlY29uZHMoZSl9c3RhdGljIGlzVmFsdWVTdHJpbmcoZSl7cmV0dXJuIGVbMF09PT0iUCJ8fGVbMV09PT0iUCJ9c3RhdGljIGZyb21TdHJpbmcoZSl7bGV0IHQ9MCxzPU9iamVjdC5jcmVhdGUobnVsbCksaT0wO2Zvcig7KHQ9ZS5zZWFyY2goQTApKSE9PS0xOyl7bGV0IHI9ZVt0XSxvPWUuc2xpY2UoMCxNYXRoLm1heCgwLHQpKTtlPWUuc2xpY2UodCsxKSxpKz14MChyLG8scyl9aWYoaTwyKXRocm93IG5ldyBFcnJvcignaW52YWxpZCBkdXJhdGlvbiB2YWx1ZTogTm90IGVub3VnaCBkdXJhdGlvbiBjb21wb25lbnRzIGluICInK2UrJyInKTtyZXR1cm4gbmV3IFVlKHMpfXN0YXRpYyBmcm9tRGF0YShlKXtyZXR1cm4gbmV3IFVlKGUpfWNsb25lKCl7cmV0dXJuIFVlLmZyb21EYXRhKHRoaXMpfXRvU2Vjb25kcygpe2xldCBlPXRoaXMuc2Vjb25kcys2MCp0aGlzLm1pbnV0ZXMrMzYwMCp0aGlzLmhvdXJzKzg2NDAwKnRoaXMuZGF5cys2MDQ4MDAqdGhpcy53ZWVrcztyZXR1cm4gdGhpcy5pc05lZ2F0aXZlPy1lOmV9ZnJvbVNlY29uZHMoZSl7bGV0IHQ9TWF0aC5hYnMoZSk7cmV0dXJuIHRoaXMuaXNOZWdhdGl2ZT1lPDAsdGhpcy5kYXlzPURlKHQvODY0MDApLHRoaXMuZGF5cyU3PT0wPyh0aGlzLndlZWtzPXRoaXMuZGF5cy83LHRoaXMuZGF5cz0wKTp0aGlzLndlZWtzPTAsdC09KHRoaXMuZGF5cys3KnRoaXMud2Vla3MpKjg2NDAwLHRoaXMuaG91cnM9RGUodC8zNjAwKSx0LT10aGlzLmhvdXJzKjM2MDAsdGhpcy5taW51dGVzPURlKHQvNjApLHQtPXRoaXMubWludXRlcyo2MCx0aGlzLnNlY29uZHM9dCx0aGlzfWZyb21EYXRhKGUpe2ZvcihsZXQgdCBvZiBDMCllJiZ0IGluIGU/dGhpc1t0XT1lW3RdOnRoaXNbdF09MH1yZXNldCgpe3RoaXMuaXNOZWdhdGl2ZT0hMSx0aGlzLndlZWtzPTAsdGhpcy5kYXlzPTAsdGhpcy5ob3Vycz0wLHRoaXMubWludXRlcz0wLHRoaXMuc2Vjb25kcz0wfWNvbXBhcmUoZSl7bGV0IHQ9dGhpcy50b1NlY29uZHMoKSxzPWUudG9TZWNvbmRzKCk7cmV0dXJuKHQ+cyktKHQ8cyl9bm9ybWFsaXplKCl7dGhpcy5mcm9tU2Vjb25kcyh0aGlzLnRvU2Vjb25kcygpKX10b1N0cmluZygpe2lmKHRoaXMudG9TZWNvbmRzKCk9PTApcmV0dXJuIlBUMFMiO3tsZXQgZT0iIjtyZXR1cm4gdGhpcy5pc05lZ2F0aXZlJiYoZSs9Ii0iKSxlKz0iUCIsdGhpcy53ZWVrcyYmKGUrPXRoaXMud2Vla3MrIlciKSx0aGlzLmRheXMmJihlKz10aGlzLmRheXMrIkQiKSwodGhpcy5ob3Vyc3x8dGhpcy5taW51dGVzfHx0aGlzLnNlY29uZHMpJiYoZSs9IlQiLHRoaXMuaG91cnMmJihlKz10aGlzLmhvdXJzKyJIIiksdGhpcy5taW51dGVzJiYoZSs9dGhpcy5taW51dGVzKyJNIiksdGhpcy5zZWNvbmRzJiYoZSs9dGhpcy5zZWNvbmRzKyJTIikpLGV9fXRvSUNBTFN0cmluZygpe3JldHVybiB0aGlzLnRvU3RyaW5nKCl9fWZ1bmN0aW9uIHgwKG4sZSx0KXtsZXQgcztzd2l0Y2gobil7Y2FzZSJQIjplJiZlPT09Ii0iP3QuaXNOZWdhdGl2ZT0hMDp0LmlzTmVnYXRpdmU9ITE7YnJlYWs7Y2FzZSJEIjpzPSJkYXlzIjticmVhaztjYXNlIlciOnM9IndlZWtzIjticmVhaztjYXNlIkgiOnM9ImhvdXJzIjticmVhaztjYXNlIk0iOnM9Im1pbnV0ZXMiO2JyZWFrO2Nhc2UiUyI6cz0ic2Vjb25kcyI7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gMH1pZihzKXtpZighZSYmZSE9PTApdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGR1cmF0aW9uIHZhbHVlOiBNaXNzaW5nIG51bWJlciBiZWZvcmUgIicrbisnIicpO2xldCBpPXBhcnNlSW50KGUsMTApO2lmKG9pKGkpKXRocm93IG5ldyBFcnJvcignaW52YWxpZCBkdXJhdGlvbiB2YWx1ZTogSW52YWxpZCBudW1iZXIgIicrZSsnIiBiZWZvcmUgIicrbisnIicpO3Rbc109aX1yZXR1cm4gMX1jb25zdCBOPWNsYXNzIE57Y29uc3RydWN0b3IoZSx0KXtUKHRoaXMsImljYWxjbGFzcyIsImljYWx0aW1lIik7VCh0aGlzLCJfY2FjaGVkVW5peFRpbWUiLG51bGwpO1QodGhpcywiem9uZSIsbnVsbCk7VCh0aGlzLCJfcGVuZGluZ05vcm1hbGl6YXRpb24iLCExKTt0aGlzLndyYXBwZWRKU09iamVjdD10aGlzO2xldCBzPXRoaXMuX3RpbWU9T2JqZWN0LmNyZWF0ZShudWxsKTtzLnllYXI9MCxzLm1vbnRoPTEscy5kYXk9MSxzLmhvdXI9MCxzLm1pbnV0ZT0wLHMuc2Vjb25kPTAscy5pc0RhdGU9ITEsdGhpcy5mcm9tRGF0YShlLHQpfXN0YXRpYyBkYXlzSW5Nb250aChlLHQpe2xldCBzPVswLDMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXSxpPTMwO3JldHVybiBlPDF8fGU+MTJ8fChpPXNbZV0sZT09MiYmKGkrPU4uaXNMZWFwWWVhcih0KSkpLGl9c3RhdGljIGlzTGVhcFllYXIoZSl7cmV0dXJuIGU8PTE3NTI/ZSU0PT0wOmUlND09MCYmZSUxMDAhPTB8fGUlNDAwPT0wfXN0YXRpYyBmcm9tRGF5T2ZZZWFyKGUsdCl7bGV0IHM9dCxpPWUscj1uZXcgTjtyLmF1dG9fbm9ybWFsaXplPSExO2xldCBvPU4uaXNMZWFwWWVhcihzKT8xOjA7aWYoaTwxKXJldHVybiBzLS0sbz1OLmlzTGVhcFllYXIocyk/MTowLGkrPU4uZGF5c0luWWVhclBhc3NlZE1vbnRoW29dWzEyXSxOLmZyb21EYXlPZlllYXIoaSxzKTtpZihpPk4uZGF5c0luWWVhclBhc3NlZE1vbnRoW29dWzEyXSlyZXR1cm4gbz1OLmlzTGVhcFllYXIocyk/MTowLGktPU4uZGF5c0luWWVhclBhc3NlZE1vbnRoW29dWzEyXSxzKyssTi5mcm9tRGF5T2ZZZWFyKGkscyk7ci55ZWFyPXMsci5pc0RhdGU9ITA7Zm9yKGxldCBhPTExO2E+PTA7YS0tKWlmKGk+Ti5kYXlzSW5ZZWFyUGFzc2VkTW9udGhbb11bYV0pe3IubW9udGg9YSsxLHIuZGF5PWktTi5kYXlzSW5ZZWFyUGFzc2VkTW9udGhbb11bYV07YnJlYWt9cmV0dXJuIHIuYXV0b19ub3JtYWxpemU9ITAscn1zdGF0aWMgZnJvbVN0cmluZ3YyKGUpe3JldHVybiBuZXcgTih7eWVhcjpwYXJzZUludChlLnNsaWNlKDAsNCksMTApLG1vbnRoOnBhcnNlSW50KGUuc2xpY2UoNSw3KSwxMCksZGF5OnBhcnNlSW50KGUuc2xpY2UoOCwxMCksMTApLGlzRGF0ZTohMH0pfXN0YXRpYyBmcm9tRGF0ZVN0cmluZyhlKXtyZXR1cm4gbmV3IE4oe3llYXI6RmUoZS5zbGljZSgwLDQpKSxtb250aDpGZShlLnNsaWNlKDUsNykpLGRheTpGZShlLnNsaWNlKDgsMTApKSxpc0RhdGU6ITB9KX1zdGF0aWMgZnJvbURhdGVUaW1lU3RyaW5nKGUsdCl7aWYoZS5sZW5ndGg8MTkpdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGRhdGUtdGltZSB2YWx1ZTogIicrZSsnIicpO2xldCBzLGk7ZVsxOV0mJmVbMTldPT09IloiP3M9c2UudXRjVGltZXpvbmU6dCYmKGk9dC5nZXRQYXJhbWV0ZXIoInR6aWQiKSx0LnBhcmVudCYmKHQucGFyZW50Lm5hbWU9PT0ic3RhbmRhcmQifHx0LnBhcmVudC5uYW1lPT09ImRheWxpZ2h0Ij9zPXNlLmxvY2FsVGltZXpvbmU6aSYmKHM9dC5wYXJlbnQuZ2V0VGltZVpvbmVCeUlEKGkpKSkpO2NvbnN0IHI9e3llYXI6RmUoZS5zbGljZSgwLDQpKSxtb250aDpGZShlLnNsaWNlKDUsNykpLGRheTpGZShlLnNsaWNlKDgsMTApKSxob3VyOkZlKGUuc2xpY2UoMTEsMTMpKSxtaW51dGU6RmUoZS5zbGljZSgxNCwxNikpLHNlY29uZDpGZShlLnNsaWNlKDE3LDE5KSl9O3JldHVybiBpJiYhcyYmKHIudGltZXpvbmU9aSksbmV3IE4ocixzKX1zdGF0aWMgZnJvbVN0cmluZyhlLHQpe3JldHVybiBlLmxlbmd0aD4xMD9OLmZyb21EYXRlVGltZVN0cmluZyhlLHQpOk4uZnJvbURhdGVTdHJpbmcoZSl9c3RhdGljIGZyb21KU0RhdGUoZSx0KXtyZXR1cm4gbmV3IE4oKS5mcm9tSlNEYXRlKGUsdCl9c3RhdGljIG5vdygpe3JldHVybiBOLmZyb21KU0RhdGUobmV3IERhdGUsITEpfXN0YXRpYyB3ZWVrT25lU3RhcnRzKGUsdCl7bGV0IHM9Ti5mcm9tRGF0YSh7eWVhcjplLG1vbnRoOjEsZGF5OjEsaXNEYXRlOiEwfSksaT1zLmRheU9mV2VlaygpLHI9dHx8Ti5ERUZBVUxUX1dFRUtfU1RBUlQ7cmV0dXJuIGk+Ti5USFVSU0RBWSYmKHMuZGF5Kz03KSxyPk4uVEhVUlNEQVkmJihzLmRheS09Nykscy5kYXktPWktcixzfXN0YXRpYyBnZXREb21pbmljYWxMZXR0ZXIoZSl7bGV0IHQ9IkdGRURDQkEiLHM9KGUrKGUvNHwwKSsoZS80MDB8MCktKGUvMTAwfDApLTEpJTc7cmV0dXJuIE4uaXNMZWFwWWVhcihlKT90WyhzKzYpJTddK3Rbc106dFtzXX1zdGF0aWMgZ2V0IGVwb2NoVGltZSgpe3JldHVybiBwKHRoaXMsdm4pfHxVKHRoaXMsdm4sTi5mcm9tRGF0YSh7eWVhcjoxOTcwLG1vbnRoOjEsZGF5OjEsaG91cjowLG1pbnV0ZTowLHNlY29uZDowLGlzRGF0ZTohMSx0aW1lem9uZToiWiJ9KSkscCh0aGlzLHZuKX1zdGF0aWMgX2NtcF9hdHRyKGUsdCxzKXtyZXR1cm4gZVtzXT50W3NdPzE6ZVtzXTx0W3NdPy0xOjB9Z2V0IGljYWx0eXBlKCl7cmV0dXJuIHRoaXMuaXNEYXRlPyJkYXRlIjoiZGF0ZS10aW1lIn1jbG9uZSgpe3JldHVybiBuZXcgTih0aGlzLl90aW1lLHRoaXMuem9uZSl9cmVzZXQoKXt0aGlzLmZyb21EYXRhKE4uZXBvY2hUaW1lKSx0aGlzLnpvbmU9c2UudXRjVGltZXpvbmV9cmVzZXRUbyhlLHQscyxpLHIsbyxhKXt0aGlzLmZyb21EYXRhKHt5ZWFyOmUsbW9udGg6dCxkYXk6cyxob3VyOmksbWludXRlOnIsc2Vjb25kOm8sem9uZTphfSl9ZnJvbUpTRGF0ZShlLHQpe3JldHVybiBlP3Q/KHRoaXMuem9uZT1zZS51dGNUaW1lem9uZSx0aGlzLnllYXI9ZS5nZXRVVENGdWxsWWVhcigpLHRoaXMubW9udGg9ZS5nZXRVVENNb250aCgpKzEsdGhpcy5kYXk9ZS5nZXRVVENEYXRlKCksdGhpcy5ob3VyPWUuZ2V0VVRDSG91cnMoKSx0aGlzLm1pbnV0ZT1lLmdldFVUQ01pbnV0ZXMoKSx0aGlzLnNlY29uZD1lLmdldFVUQ1NlY29uZHMoKSk6KHRoaXMuem9uZT1zZS5sb2NhbFRpbWV6b25lLHRoaXMueWVhcj1lLmdldEZ1bGxZZWFyKCksdGhpcy5tb250aD1lLmdldE1vbnRoKCkrMSx0aGlzLmRheT1lLmdldERhdGUoKSx0aGlzLmhvdXI9ZS5nZXRIb3VycygpLHRoaXMubWludXRlPWUuZ2V0TWludXRlcygpLHRoaXMuc2Vjb25kPWUuZ2V0U2Vjb25kcygpKTp0aGlzLnJlc2V0KCksdGhpcy5fY2FjaGVkVW5peFRpbWU9bnVsbCx0aGlzfWZyb21EYXRhKGUsdCl7aWYoZSlmb3IobGV0W3MsaV1vZiBPYmplY3QuZW50cmllcyhlKSlzIT09ImljYWx0eXBlIiYmKHRoaXNbc109aSk7aWYodCYmKHRoaXMuem9uZT10KSxlJiYhKCJpc0RhdGUiaW4gZSk/dGhpcy5pc0RhdGU9ISgiaG91ciJpbiBlKTplJiYiaXNEYXRlImluIGUmJih0aGlzLmlzRGF0ZT1lLmlzRGF0ZSksZSYmInRpbWV6b25lImluIGUpe2xldCBzPWdyLmdldChlLnRpbWV6b25lKTt0aGlzLnpvbmU9c3x8c2UubG9jYWxUaW1lem9uZX1yZXR1cm4gZSYmInpvbmUiaW4gZSYmKHRoaXMuem9uZT1lLnpvbmUpLHRoaXMuem9uZXx8KHRoaXMuem9uZT1zZS5sb2NhbFRpbWV6b25lKSx0aGlzLl9jYWNoZWRVbml4VGltZT1udWxsLHRoaXN9ZGF5T2ZXZWVrKGUpe2xldCB0PWV8fE4uU1VOREFZLHM9KHRoaXMueWVhcjw8MTIpKyh0aGlzLm1vbnRoPDw4KSsodGhpcy5kYXk8PDMpK3Q7aWYocyBpbiBOLl9kb3dDYWNoZSlyZXR1cm4gTi5fZG93Q2FjaGVbc107bGV0IGk9dGhpcy5kYXkscj10aGlzLm1vbnRoKyh0aGlzLm1vbnRoPDM/MTI6MCksbz10aGlzLnllYXItKHRoaXMubW9udGg8Mz8xOjApLGE9aStvK0RlKChyKzEpKjI2LzEwKStEZShvLzQpO3JldHVybiBhKz1EZShvLzEwMCkqNitEZShvLzQwMCksYT0oYSs3LXQpJTcrMSxOLl9kb3dDYWNoZVtzXT1hLGF9ZGF5T2ZZZWFyKCl7bGV0IGU9Ti5pc0xlYXBZZWFyKHRoaXMueWVhcik/MTowO3JldHVybiBOLmRheXNJblllYXJQYXNzZWRNb250aFtlXVt0aGlzLm1vbnRoLTFdK3RoaXMuZGF5fXN0YXJ0T2ZXZWVrKGUpe2xldCB0PWV8fE4uU1VOREFZLHM9dGhpcy5jbG9uZSgpO3JldHVybiBzLmRheS09KHRoaXMuZGF5T2ZXZWVrKCkrNy10KSU3LHMuaXNEYXRlPSEwLHMuaG91cj0wLHMubWludXRlPTAscy5zZWNvbmQ9MCxzfWVuZE9mV2VlayhlKXtsZXQgdD1lfHxOLlNVTkRBWSxzPXRoaXMuY2xvbmUoKTtyZXR1cm4gcy5kYXkrPSg3LXRoaXMuZGF5T2ZXZWVrKCkrdC1OLlNVTkRBWSklNyxzLmlzRGF0ZT0hMCxzLmhvdXI9MCxzLm1pbnV0ZT0wLHMuc2Vjb25kPTAsc31zdGFydE9mTW9udGgoKXtsZXQgZT10aGlzLmNsb25lKCk7cmV0dXJuIGUuZGF5PTEsZS5pc0RhdGU9ITAsZS5ob3VyPTAsZS5taW51dGU9MCxlLnNlY29uZD0wLGV9ZW5kT2ZNb250aCgpe2xldCBlPXRoaXMuY2xvbmUoKTtyZXR1cm4gZS5kYXk9Ti5kYXlzSW5Nb250aChlLm1vbnRoLGUueWVhciksZS5pc0RhdGU9ITAsZS5ob3VyPTAsZS5taW51dGU9MCxlLnNlY29uZD0wLGV9c3RhcnRPZlllYXIoKXtsZXQgZT10aGlzLmNsb25lKCk7cmV0dXJuIGUuZGF5PTEsZS5tb250aD0xLGUuaXNEYXRlPSEwLGUuaG91cj0wLGUubWludXRlPTAsZS5zZWNvbmQ9MCxlfWVuZE9mWWVhcigpe2xldCBlPXRoaXMuY2xvbmUoKTtyZXR1cm4gZS5kYXk9MzEsZS5tb250aD0xMixlLmlzRGF0ZT0hMCxlLmhvdXI9MCxlLm1pbnV0ZT0wLGUuc2Vjb25kPTAsZX1zdGFydERveVdlZWsoZSl7bGV0IHQ9ZXx8Ti5TVU5EQVkscz10aGlzLmRheU9mV2VlaygpLXQ7cmV0dXJuIHM8MCYmKHMrPTcpLHRoaXMuZGF5T2ZZZWFyKCktc31nZXREb21pbmljYWxMZXR0ZXIoKXtyZXR1cm4gTi5nZXREb21pbmljYWxMZXR0ZXIodGhpcy55ZWFyKX1udGhXZWVrRGF5KGUsdCl7bGV0IHM9Ti5kYXlzSW5Nb250aCh0aGlzLm1vbnRoLHRoaXMueWVhciksaSxyPXQsbz0wLGE9dGhpcy5jbG9uZSgpO2lmKHI+PTApe2EuZGF5PTEsciE9MCYmci0tLG89YS5kYXk7bGV0IGw9YS5kYXlPZldlZWsoKSx1PWUtbDt1PDAmJih1Kz03KSxvKz11LG8tPWUsaT1lfWVsc2V7YS5kYXk9cztsZXQgbD1hLmRheU9mV2VlaygpO3IrKyxpPWwtZSxpPDAmJihpKz03KSxpPXMtaX1yZXR1cm4gaSs9cio3LG8raX1pc050aFdlZWtEYXkoZSx0KXtsZXQgcz10aGlzLmRheU9mV2VlaygpO3JldHVybiB0PT09MCYmcz09PWV8fHRoaXMubnRoV2Vla0RheShlLHQpPT09dGhpcy5kYXl9d2Vla051bWJlcihlKXtsZXQgdD0odGhpcy55ZWFyPDwxMikrKHRoaXMubW9udGg8PDgpKyh0aGlzLmRheTw8MykrZTtpZih0IGluIE4uX3duQ2FjaGUpcmV0dXJuIE4uX3duQ2FjaGVbdF07bGV0IHMsaT10aGlzLmNsb25lKCk7aS5pc0RhdGU9ITA7bGV0IHI9dGhpcy55ZWFyO2kubW9udGg9PTEyJiZpLmRheT4yNT8ocz1OLndlZWtPbmVTdGFydHMocisxLGUpLGkuY29tcGFyZShzKTwwP3M9Ti53ZWVrT25lU3RhcnRzKHIsZSk6cisrKToocz1OLndlZWtPbmVTdGFydHMocixlKSxpLmNvbXBhcmUocyk8MCYmKHM9Ti53ZWVrT25lU3RhcnRzKC0tcixlKSkpO2xldCBvPWkuc3VidHJhY3REYXRlKHMpLnRvU2Vjb25kcygpLzg2NDAwLGE9RGUoby83KSsxO3JldHVybiBOLl93bkNhY2hlW3RdPWEsYX1hZGREdXJhdGlvbihlKXtsZXQgdD1lLmlzTmVnYXRpdmU/LTE6MSxzPXRoaXMuc2Vjb25kLGk9dGhpcy5taW51dGUscj10aGlzLmhvdXIsbz10aGlzLmRheTtzKz10KmUuc2Vjb25kcyxpKz10KmUubWludXRlcyxyKz10KmUuaG91cnMsbys9dCplLmRheXMsbys9dCo3KmUud2Vla3MsdGhpcy5zZWNvbmQ9cyx0aGlzLm1pbnV0ZT1pLHRoaXMuaG91cj1yLHRoaXMuZGF5PW8sdGhpcy5fY2FjaGVkVW5peFRpbWU9bnVsbH1zdWJ0cmFjdERhdGUoZSl7bGV0IHQ9dGhpcy50b1VuaXhUaW1lKCkrdGhpcy51dGNPZmZzZXQoKSxzPWUudG9Vbml4VGltZSgpK2UudXRjT2Zmc2V0KCk7cmV0dXJuIFVlLmZyb21TZWNvbmRzKHQtcyl9c3VidHJhY3REYXRlVHooZSl7bGV0IHQ9dGhpcy50b1VuaXhUaW1lKCkscz1lLnRvVW5peFRpbWUoKTtyZXR1cm4gVWUuZnJvbVNlY29uZHModC1zKX1jb21wYXJlKGUpe2xldCB0PXRoaXMudG9Vbml4VGltZSgpLHM9ZS50b1VuaXhUaW1lKCk7cmV0dXJuIHQ+cz8xOnM+dD8tMTowfWNvbXBhcmVEYXRlT25seVR6KGUsdCl7bGV0IHM9dGhpcy5jb252ZXJ0VG9ab25lKHQpLGk9ZS5jb252ZXJ0VG9ab25lKHQpLHI9MDtyZXR1cm4ocj1OLl9jbXBfYXR0cihzLGksInllYXIiKSkhPTB8fChyPU4uX2NtcF9hdHRyKHMsaSwibW9udGgiKSkhPTB8fChyPU4uX2NtcF9hdHRyKHMsaSwiZGF5IikpIT0wLHJ9Y29udmVydFRvWm9uZShlKXtsZXQgdD10aGlzLmNsb25lKCkscz10aGlzLnpvbmUudHppZD09ZS50emlkO3JldHVybiF0aGlzLmlzRGF0ZSYmIXMmJnNlLmNvbnZlcnRfdGltZSh0LHRoaXMuem9uZSxlKSx0LnpvbmU9ZSx0fXV0Y09mZnNldCgpe3JldHVybiB0aGlzLnpvbmU9PXNlLmxvY2FsVGltZXpvbmV8fHRoaXMuem9uZT09c2UudXRjVGltZXpvbmU/MDp0aGlzLnpvbmUudXRjT2Zmc2V0KHRoaXMpfXRvSUNBTFN0cmluZygpe2xldCBlPXRoaXMudG9TdHJpbmcoKTtyZXR1cm4gZS5sZW5ndGg+MTA/TWUuaWNhbGVuZGFyLnZhbHVlWyJkYXRlLXRpbWUiXS50b0lDQUwoZSk6TWUuaWNhbGVuZGFyLnZhbHVlLmRhdGUudG9JQ0FMKGUpfXRvU3RyaW5nKCl7bGV0IGU9dGhpcy55ZWFyKyItIitaZSh0aGlzLm1vbnRoKSsiLSIrWmUodGhpcy5kYXkpO3JldHVybiB0aGlzLmlzRGF0ZXx8KGUrPSJUIitaZSh0aGlzLmhvdXIpKyI6IitaZSh0aGlzLm1pbnV0ZSkrIjoiK1plKHRoaXMuc2Vjb25kKSx0aGlzLnpvbmU9PT1zZS51dGNUaW1lem9uZSYmKGUrPSJaIikpLGV9dG9KU0RhdGUoKXtyZXR1cm4gdGhpcy56b25lPT1zZS5sb2NhbFRpbWV6b25lP3RoaXMuaXNEYXRlP25ldyBEYXRlKHRoaXMueWVhcix0aGlzLm1vbnRoLTEsdGhpcy5kYXkpOm5ldyBEYXRlKHRoaXMueWVhcix0aGlzLm1vbnRoLTEsdGhpcy5kYXksdGhpcy5ob3VyLHRoaXMubWludXRlLHRoaXMuc2Vjb25kLDApOm5ldyBEYXRlKHRoaXMudG9Vbml4VGltZSgpKjFlMyl9X25vcm1hbGl6ZSgpe3JldHVybiB0aGlzLl90aW1lLmlzRGF0ZSYmKHRoaXMuX3RpbWUuaG91cj0wLHRoaXMuX3RpbWUubWludXRlPTAsdGhpcy5fdGltZS5zZWNvbmQ9MCksdGhpcy5hZGp1c3QoMCwwLDAsMCksdGhpc31hZGp1c3QoZSx0LHMsaSxyKXtsZXQgbyxhLGw9MCx1PTAsaCxjLG0sZixnLGQ9cnx8dGhpcy5fdGltZTtpZihkLmlzRGF0ZXx8KGg9ZC5zZWNvbmQraSxkLnNlY29uZD1oJTYwLG89RGUoaC82MCksZC5zZWNvbmQ8MCYmKGQuc2Vjb25kKz02MCxvLS0pLGM9ZC5taW51dGUrcytvLGQubWludXRlPWMlNjAsYT1EZShjLzYwKSxkLm1pbnV0ZTwwJiYoZC5taW51dGUrPTYwLGEtLSksbT1kLmhvdXIrdCthLGQuaG91cj1tJTI0LGw9RGUobS8yNCksZC5ob3VyPDAmJihkLmhvdXIrPTI0LGwtLSkpLGQubW9udGg+MTI/dT1EZSgoZC5tb250aC0xKS8xMik6ZC5tb250aDwxJiYodT1EZShkLm1vbnRoLzEyKS0xKSxkLnllYXIrPXUsZC5tb250aC09MTIqdSxmPWQuZGF5K2UrbCxmPjApZm9yKDtnPU4uZGF5c0luTW9udGgoZC5tb250aCxkLnllYXIpLCEoZjw9Zyk7KWQubW9udGgrKyxkLm1vbnRoPjEyJiYoZC55ZWFyKyssZC5tb250aD0xKSxmLT1nO2Vsc2UgZm9yKDtmPD0wOylkLm1vbnRoPT0xPyhkLnllYXItLSxkLm1vbnRoPTEyKTpkLm1vbnRoLS0sZis9Ti5kYXlzSW5Nb250aChkLm1vbnRoLGQueWVhcik7cmV0dXJuIGQuZGF5PWYsdGhpcy5fY2FjaGVkVW5peFRpbWU9bnVsbCx0aGlzfWZyb21Vbml4VGltZShlKXt0aGlzLnpvbmU9c2UudXRjVGltZXpvbmU7bGV0IHQ9bmV3IERhdGUoZSoxZTMpO3RoaXMueWVhcj10LmdldFVUQ0Z1bGxZZWFyKCksdGhpcy5tb250aD10LmdldFVUQ01vbnRoKCkrMSx0aGlzLmRheT10LmdldFVUQ0RhdGUoKSx0aGlzLl90aW1lLmlzRGF0ZT8odGhpcy5ob3VyPTAsdGhpcy5taW51dGU9MCx0aGlzLnNlY29uZD0wKToodGhpcy5ob3VyPXQuZ2V0VVRDSG91cnMoKSx0aGlzLm1pbnV0ZT10LmdldFVUQ01pbnV0ZXMoKSx0aGlzLnNlY29uZD10LmdldFVUQ1NlY29uZHMoKSksdGhpcy5fY2FjaGVkVW5peFRpbWU9bnVsbH10b1VuaXhUaW1lKCl7aWYodGhpcy5fY2FjaGVkVW5peFRpbWUhPT1udWxsKXJldHVybiB0aGlzLl9jYWNoZWRVbml4VGltZTtsZXQgZT10aGlzLnV0Y09mZnNldCgpLHQ9RGF0ZS5VVEModGhpcy55ZWFyLHRoaXMubW9udGgtMSx0aGlzLmRheSx0aGlzLmhvdXIsdGhpcy5taW51dGUsdGhpcy5zZWNvbmQtZSk7cmV0dXJuIHRoaXMuX2NhY2hlZFVuaXhUaW1lPXQvMWUzLHRoaXMuX2NhY2hlZFVuaXhUaW1lfXRvSlNPTigpe2xldCBlPVsieWVhciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsImlzRGF0ZSJdLHQ9T2JqZWN0LmNyZWF0ZShudWxsKSxzPTAsaT1lLmxlbmd0aCxyO2Zvcig7czxpO3MrKylyPWVbc10sdFtyXT10aGlzW3JdO3JldHVybiB0aGlzLnpvbmUmJih0LnRpbWV6b25lPXRoaXMuem9uZS50emlkKSx0fX07dm49bmV3IFdlYWtNYXAsVChOLCJfZG93Q2FjaGUiLHt9KSxUKE4sIl93bkNhY2hlIix7fSksVChOLCJmcm9tRGF0YSIsZnVuY3Rpb24odCxzKXtyZXR1cm4gbmV3IE4oKS5mcm9tRGF0YSh0LHMpfSkseihOLHZuLG51bGwpLFQoTiwiZGF5c0luWWVhclBhc3NlZE1vbnRoIixbWzAsMzEsNTksOTAsMTIwLDE1MSwxODEsMjEyLDI0MywyNzMsMzA0LDMzNCwzNjVdLFswLDMxLDYwLDkxLDEyMSwxNTIsMTgyLDIxMywyNDQsMjc0LDMwNSwzMzUsMzY2XV0pLFQoTiwiU1VOREFZIiwxKSxUKE4sIk1PTkRBWSIsMiksVChOLCJUVUVTREFZIiwzKSxUKE4sIldFRE5FU0RBWSIsNCksVChOLCJUSFVSU0RBWSIsNSksVChOLCJGUklEQVkiLDYpLFQoTiwiU0FUVVJEQVkiLDcpLFQoTiwiREVGQVVMVF9XRUVLX1NUQVJUIiwyKTtsZXQgeD1OOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHgucHJvdG90eXBlLHQse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wZW5kaW5nTm9ybWFsaXphdGlvbiYmKHRoaXMuX25vcm1hbGl6ZSgpLHRoaXMuX3BlbmRpbmdOb3JtYWxpemF0aW9uPSExKSx0aGlzLl90aW1lW3RdfSxzZXQ6ZnVuY3Rpb24oaSl7dD09PSJpc0RhdGUiJiZpJiYhdGhpcy5fdGltZS5pc0RhdGUmJnRoaXMuYWRqdXN0KDAsMCwwLDApLHRoaXMuX2NhY2hlZFVuaXhUaW1lPW51bGwsdGhpcy5fcGVuZGluZ05vcm1hbGl6YXRpb249ITAsdGhpcy5fdGltZVt0XT1pfX0pfWUoInllYXIiKSxlKCJtb250aCIpLGUoImRheSIpLGUoImhvdXIiKSxlKCJtaW51dGUiKSxlKCJzZWNvbmQiKSxlKCJpc0RhdGUiKX0pKCk7Y29uc3QgTDA9L1teIFx0XS8scHI9IjoiLGNhPSI7IixZMD0iPSIsUjA9InVua25vd24iLFUwPSJ0ZXh0IixGMD17Il4nIjonIicsIl5uIjpgCmAsIl5eIjoiXiJ9O2Z1bmN0aW9uIGVlKG4pe2xldCBlPXt9LHQ9ZS5jb21wb25lbnQ9W107aWYoZS5zdGFjaz1bdF0sZWUuX2VhY2hMaW5lKG4sZnVuY3Rpb24ocyxpKXtlZS5faGFuZGxlQ29udGVudExpbmUoaSxlKX0pLGUuc3RhY2subGVuZ3RoPjEpdGhyb3cgbmV3IEFzKCJpbnZhbGlkIGljYWwgYm9keS4gY29tcG9uZW50IGJlZ2FuIGJ1dCBkaWQgbm90IGVuZCIpO3JldHVybiBlPW51bGwsdC5sZW5ndGg9PTE/dFswXTp0fWVlLnByb3BlcnR5PWZ1bmN0aW9uKG4sZSl7bGV0IHQ9e2NvbXBvbmVudDpbW10sW11dLGRlc2lnblNldDplfHxNZS5kZWZhdWx0U2V0fTtyZXR1cm4gZWUuX2hhbmRsZUNvbnRlbnRMaW5lKG4sdCksdC5jb21wb25lbnRbMV1bMF19LGVlLmNvbXBvbmVudD1mdW5jdGlvbihuKXtyZXR1cm4gZWUobil9O2NsYXNzIEFzIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO1QodGhpcywibmFtZSIsdGhpcy5jb25zdHJ1Y3Rvci5uYW1lKX19ZWUuUGFyc2VyRXJyb3I9QXMsZWUuX2hhbmRsZUNvbnRlbnRMaW5lPWZ1bmN0aW9uKG4sZSl7bGV0IHQ9bi5pbmRleE9mKHByKSxzPW4uaW5kZXhPZihjYSksaSxyLG8sYSxsPXt9O3MhPT0tMSYmdCE9PS0xJiZzPnQmJihzPS0xKTtsZXQgdTtpZihzIT09LTEpe2lmKG89bi5zbGljZSgwLE1hdGgubWF4KDAscykpLnRvTG93ZXJDYXNlKCksdT1lZS5fcGFyc2VQYXJhbWV0ZXJzKG4uc2xpY2UoTWF0aC5tYXgoMCxzKSksMCxlLmRlc2lnblNldCksdVsyXT09LTEpdGhyb3cgbmV3IEFzKCJJbnZhbGlkIHBhcmFtZXRlcnMgaW4gJyIrbisiJyIpO2lmKGw9dVswXSxpPXVbMV0ubGVuZ3RoK3VbMl0rcywocj1uLnNsaWNlKE1hdGgubWF4KDAsaSkpLmluZGV4T2YocHIpKSE9PS0xKWE9bi5zbGljZShNYXRoLm1heCgwLGkrcisxKSk7ZWxzZSB0aHJvdyBuZXcgQXMoIk1pc3NpbmcgcGFyYW1ldGVyIHZhbHVlIGluICciK24rIiciKX1lbHNlIGlmKHQhPT0tMSl7aWYobz1uLnNsaWNlKDAsTWF0aC5tYXgoMCx0KSkudG9Mb3dlckNhc2UoKSxhPW4uc2xpY2UoTWF0aC5tYXgoMCx0KzEpKSxvPT09ImJlZ2luIil7bGV0IHc9W2EudG9Mb3dlckNhc2UoKSxbXSxbXV07ZS5zdGFjay5sZW5ndGg9PT0xP2UuY29tcG9uZW50LnB1c2godyk6ZS5jb21wb25lbnRbMl0ucHVzaCh3KSxlLnN0YWNrLnB1c2goZS5jb21wb25lbnQpLGUuY29tcG9uZW50PXcsZS5kZXNpZ25TZXR8fChlLmRlc2lnblNldD1NZS5nZXREZXNpZ25TZXQoZS5jb21wb25lbnRbMF0pKTtyZXR1cm59ZWxzZSBpZihvPT09ImVuZCIpe2UuY29tcG9uZW50PWUuc3RhY2sucG9wKCk7cmV0dXJufX1lbHNlIHRocm93IG5ldyBBcygnaW52YWxpZCBsaW5lIChubyB0b2tlbiAiOyIgb3IgIjoiKSAiJytuKyciJyk7bGV0IGgsYz0hMSxtPSExLGYsZyxkO2UuZGVzaWduU2V0LnByb3BlcnR5R3JvdXBzJiZvLmluZGV4T2YoIi4iKSE9PS0xPyhnPW8uc3BsaXQoIi4iKSxsLmdyb3VwPWdbMF0sZD1nWzFdKTpkPW8sZCBpbiBlLmRlc2lnblNldC5wcm9wZXJ0eSYmKGY9ZS5kZXNpZ25TZXQucHJvcGVydHlbZF0sIm11bHRpVmFsdWUiaW4gZiYmKGM9Zi5tdWx0aVZhbHVlKSwic3RydWN0dXJlZFZhbHVlImluIGYmJihtPWYuc3RydWN0dXJlZFZhbHVlKSxhJiYiZGV0ZWN0VHlwZSJpbiBmJiYoaD1mLmRldGVjdFR5cGUoYSkpKSxofHwoInZhbHVlImluIGw/aD1sLnZhbHVlLnRvTG93ZXJDYXNlKCk6Zj9oPWYuZGVmYXVsdFR5cGU6aD1SMCksZGVsZXRlIGwudmFsdWU7bGV0IHk7YyYmbT8oYT1lZS5fcGFyc2VNdWx0aVZhbHVlKGEsbSxoLFtdLGMsZS5kZXNpZ25TZXQsbSkseT1bZCxsLGgsYV0pOmM/KHk9W2QsbCxoXSxlZS5fcGFyc2VNdWx0aVZhbHVlKGEsYyxoLHksbnVsbCxlLmRlc2lnblNldCwhMSkpOm0/KGE9ZWUuX3BhcnNlTXVsdGlWYWx1ZShhLG0saCxbXSxudWxsLGUuZGVzaWduU2V0LG0pLHk9W2QsbCxoLGFdKTooYT1lZS5fcGFyc2VWYWx1ZShhLGgsZS5kZXNpZ25TZXQsITEpLHk9W2QsbCxoLGFdKSxlLmNvbXBvbmVudFswXT09PSJ2Y2FyZCImJmUuY29tcG9uZW50WzFdLmxlbmd0aD09PTAmJiEobz09PSJ2ZXJzaW9uIiYmYT09PSI0LjAiKSYmKGUuZGVzaWduU2V0PU1lLmdldERlc2lnblNldCgidmNhcmQzIikpLGUuY29tcG9uZW50WzFdLnB1c2goeSl9LGVlLl9wYXJzZVZhbHVlPWZ1bmN0aW9uKG4sZSx0LHMpe3JldHVybiBlIGluIHQudmFsdWUmJiJmcm9tSUNBTCJpbiB0LnZhbHVlW2VdP3QudmFsdWVbZV0uZnJvbUlDQUwobixzKTpufSxlZS5fcGFyc2VQYXJhbWV0ZXJzPWZ1bmN0aW9uKG4sZSx0KXtsZXQgcz1lLGk9MCxyPVkwLG89e30sYSxsLHUsaD0tMSxjLG0sZjtmb3IoO2khPT0hMSYmKGk9bi5pbmRleE9mKHIsaSsxKSkhPT0tMTspe2lmKGE9bi5zbGljZShzKzEsaSksYS5sZW5ndGg9PTApdGhyb3cgbmV3IEFzKCJFbXB0eSBwYXJhbWV0ZXIgbmFtZSBpbiAnIituKyInIik7aWYobD1hLnRvTG93ZXJDYXNlKCksZj0hMSxtPSExLGwgaW4gdC5wYXJhbSYmdC5wYXJhbVtsXS52YWx1ZVR5cGU/Yz10LnBhcmFtW2xdLnZhbHVlVHlwZTpjPVUwLGwgaW4gdC5wYXJhbSYmKG09dC5wYXJhbVtsXS5tdWx0aVZhbHVlLHQucGFyYW1bbF0ubXVsdGlWYWx1ZVNlcGFyYXRlRFF1b3RlJiYoZj1lZS5fcmZjNjg2OEVzY2FwZSgnIicrbSsnIicpKSksbltpKzFdPT09JyInKXtpZihoPWkrMixpPW4uaW5kZXhPZignIicsaCksbSYmaSE9LTEpe2xldCB3PSEwO2Zvcig7dzspbltpKzFdPT1tJiZuW2krMl09PSciJz9pPW4uaW5kZXhPZignIicsaSszKTp3PSExfWlmKGk9PT0tMSl0aHJvdyBuZXcgQXMoJ2ludmFsaWQgbGluZSAobm8gbWF0Y2hpbmcgZG91YmxlIHF1b3RlKSAiJytuKyciJyk7dT1uLnNsaWNlKGgsaSkscz1uLmluZGV4T2YoY2EsaSk7bGV0IHk9bi5pbmRleE9mKHByLGkpOyhzPT09LTF8fHkhPT0tMSYmcz55KSYmKGk9ITEpfWVsc2V7aD1pKzE7bGV0IHk9bi5pbmRleE9mKGNhLGgpLHc9bi5pbmRleE9mKHByLGgpO3chPT0tMSYmeT53Pyh5PXcsaT0hMSk6eT09PS0xPyh3PT09LTE/eT1uLmxlbmd0aDp5PXcsaT0hMSk6KHM9eSxpPXkpLHU9bi5zbGljZShoLHkpfWNvbnN0IGQ9dS5sZW5ndGg7aWYodT1lZS5fcmZjNjg2OEVzY2FwZSh1KSxoKz1kLXUubGVuZ3RoLG0pe2xldCB5PWZ8fG07dT1lZS5fcGFyc2VNdWx0aVZhbHVlKHUseSxjLFtdLG51bGwsdCl9ZWxzZSB1PWVlLl9wYXJzZVZhbHVlKHUsYyx0KTttJiZsIGluIG8/QXJyYXkuaXNBcnJheShvW2xdKT9vW2xdLnB1c2godSk6b1tsXT1bb1tsXSx1XTpvW2xdPXV9cmV0dXJuW28sdSxoXX0sZWUuX3JmYzY4NjhFc2NhcGU9ZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZSgvXF5bJ25eXS9nLGZ1bmN0aW9uKGUpe3JldHVybiBGMFtlXX0pfSxlZS5fcGFyc2VNdWx0aVZhbHVlPWZ1bmN0aW9uKG4sZSx0LHMsaSxyLG8pe2xldCBhPTAsbD0wLHU7aWYoZS5sZW5ndGg9PT0wKXJldHVybiBuO2Zvcig7KGE9bmgobixlLGwpKSE9PS0xOyl1PW4uc2xpY2UobCxhKSxpP3U9ZWUuX3BhcnNlTXVsdGlWYWx1ZSh1LGksdCxbXSxudWxsLHIsbyk6dT1lZS5fcGFyc2VWYWx1ZSh1LHQscixvKSxzLnB1c2godSksbD1hK2UubGVuZ3RoO3JldHVybiB1PW4uc2xpY2UobCksaT91PWVlLl9wYXJzZU11bHRpVmFsdWUodSxpLHQsW10sbnVsbCxyLG8pOnU9ZWUuX3BhcnNlVmFsdWUodSx0LHIsbykscy5wdXNoKHUpLHMubGVuZ3RoPT0xP3NbMF06c30sZWUuX2VhY2hMaW5lPWZ1bmN0aW9uKG4sZSl7bGV0IHQ9bi5sZW5ndGgscz1uLnNlYXJjaChMMCksaT1zLHIsbyxhO2RvIGk9bi5pbmRleE9mKGAKYCxzKSsxLGk+MSYmbltpLTJdPT09IlxyIj9hPTI6YT0xLGk9PT0wJiYoaT10LGE9MCksbz1uW3NdLG89PT0iICJ8fG89PT0iCSI/cis9bi5zbGljZShzKzEsaS1hKToociYmZShudWxsLHIpLHI9bi5zbGljZShzLGktYSkpLHM9aTt3aGlsZShpIT09dCk7cj1yLnRyaW0oKSxyLmxlbmd0aCYmZShudWxsLHIpfTtjb25zdCB6MD1bInR6aWQiLCJsb2NhdGlvbiIsInR6bmFtZXMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSJdLEs9Y2xhc3MgS3tjb25zdHJ1Y3RvcihlKXtUKHRoaXMsInR6aWQiLCIiKTtUKHRoaXMsImxvY2F0aW9uIiwiIik7VCh0aGlzLCJ0em5hbWVzIiwiIik7VCh0aGlzLCJsYXRpdHVkZSIsMCk7VCh0aGlzLCJsb25naXR1ZGUiLDApO1QodGhpcywiY29tcG9uZW50IixudWxsKTtUKHRoaXMsImV4cGFuZGVkVW50aWxZZWFyIiwwKTtUKHRoaXMsImljYWxjbGFzcyIsImljYWx0aW1lem9uZSIpO3RoaXMud3JhcHBlZEpTT2JqZWN0PXRoaXMsdGhpcy5mcm9tRGF0YShlKX1zdGF0aWMgX2NvbXBhcmVfY2hhbmdlX2ZuKGUsdCl7cmV0dXJuIGUueWVhcjx0LnllYXI/LTE6ZS55ZWFyPnQueWVhcj8xOmUubW9udGg8dC5tb250aD8tMTplLm1vbnRoPnQubW9udGg/MTplLmRheTx0LmRheT8tMTplLmRheT50LmRheT8xOmUuaG91cjx0LmhvdXI/LTE6ZS5ob3VyPnQuaG91cj8xOmUubWludXRlPHQubWludXRlPy0xOmUubWludXRlPnQubWludXRlPzE6ZS5zZWNvbmQ8dC5zZWNvbmQ/LTE6ZS5zZWNvbmQ+dC5zZWNvbmQ/MTowfXN0YXRpYyBjb252ZXJ0X3RpbWUoZSx0LHMpe2lmKGUuaXNEYXRlfHx0LnR6aWQ9PXMudHppZHx8dD09Sy5sb2NhbFRpbWV6b25lfHxzPT1LLmxvY2FsVGltZXpvbmUpcmV0dXJuIGUuem9uZT1zLGU7bGV0IGk9dC51dGNPZmZzZXQoZSk7cmV0dXJuIGUuYWRqdXN0KDAsMCwwLC1pKSxpPXMudXRjT2Zmc2V0KGUpLGUuYWRqdXN0KDAsMCwwLGkpLG51bGx9c3RhdGljIGZyb21EYXRhKGUpe3JldHVybiBuZXcgSygpLmZyb21EYXRhKGUpfXN0YXRpYyBnZXQgdXRjVGltZXpvbmUoKXtyZXR1cm4gcCh0aGlzLEFuKXx8VSh0aGlzLEFuLEsuZnJvbURhdGEoe3R6aWQ6IlVUQyJ9KSkscCh0aGlzLEFuKX1zdGF0aWMgZ2V0IGxvY2FsVGltZXpvbmUoKXtyZXR1cm4gcCh0aGlzLENuKXx8VSh0aGlzLENuLEsuZnJvbURhdGEoe3R6aWQ6ImZsb2F0aW5nIn0pKSxwKHRoaXMsQ24pfXN0YXRpYyBhZGp1c3RfY2hhbmdlKGUsdCxzLGkscil7cmV0dXJuIHgucHJvdG90eXBlLmFkanVzdC5jYWxsKGUsdCxzLGkscixlKX1mcm9tRGF0YShlKXtpZih0aGlzLmV4cGFuZGVkVW50aWxZZWFyPTAsdGhpcy5jaGFuZ2VzPVtdLGUgaW5zdGFuY2VvZiBldCl0aGlzLmNvbXBvbmVudD1lO2Vsc2V7aWYoZSYmImNvbXBvbmVudCJpbiBlKWlmKHR5cGVvZiBlLmNvbXBvbmVudD09InN0cmluZyIpe2xldCB0PWVlKGUuY29tcG9uZW50KTt0aGlzLmNvbXBvbmVudD1uZXcgZXQodCl9ZWxzZSBlLmNvbXBvbmVudCBpbnN0YW5jZW9mIGV0P3RoaXMuY29tcG9uZW50PWUuY29tcG9uZW50OnRoaXMuY29tcG9uZW50PW51bGw7Zm9yKGxldCB0IG9mIHowKWUmJnQgaW4gZSYmKHRoaXNbdF09ZVt0XSl9cmV0dXJuIHRoaXMuY29tcG9uZW50IGluc3RhbmNlb2YgZXQmJiF0aGlzLnR6aWQmJih0aGlzLnR6aWQ9dGhpcy5jb21wb25lbnQuZ2V0Rmlyc3RQcm9wZXJ0eVZhbHVlKCJ0emlkIikpLHRoaXN9dXRjT2Zmc2V0KGUpe2lmKHRoaXM9PUsudXRjVGltZXpvbmV8fHRoaXM9PUsubG9jYWxUaW1lem9uZXx8KHRoaXMuX2Vuc3VyZUNvdmVyYWdlKGUueWVhciksIXRoaXMuY2hhbmdlcy5sZW5ndGgpKXJldHVybiAwO2xldCB0PXt5ZWFyOmUueWVhcixtb250aDplLm1vbnRoLGRheTplLmRheSxob3VyOmUuaG91cixtaW51dGU6ZS5taW51dGUsc2Vjb25kOmUuc2Vjb25kfSxzPXRoaXMuX2ZpbmROZWFyYnlDaGFuZ2UodCksaT0tMSxyPTE7Zm9yKDs7KXtsZXQgbD14cyh0aGlzLmNoYW5nZXNbc10sITApO2lmKGwudXRjT2Zmc2V0PGwucHJldlV0Y09mZnNldD9LLmFkanVzdF9jaGFuZ2UobCwwLDAsMCxsLnV0Y09mZnNldCk6Sy5hZGp1c3RfY2hhbmdlKGwsMCwwLDAsbC5wcmV2VXRjT2Zmc2V0KSxLLl9jb21wYXJlX2NoYW5nZV9mbih0LGwpPj0wP2k9czpyPS0xLHI9PS0xJiZpIT0tMSlicmVhaztpZihzKz1yLHM8MClyZXR1cm4gMDtpZihzPj10aGlzLmNoYW5nZXMubGVuZ3RoKWJyZWFrfWxldCBvPXRoaXMuY2hhbmdlc1tpXTtpZihvLnV0Y09mZnNldC1vLnByZXZVdGNPZmZzZXQ8MCYmaT4wKXtsZXQgbD14cyhvLCEwKTtpZihLLmFkanVzdF9jaGFuZ2UobCwwLDAsMCxsLnByZXZVdGNPZmZzZXQpLEsuX2NvbXBhcmVfY2hhbmdlX2ZuKHQsbCk8MCl7bGV0IHU9dGhpcy5jaGFuZ2VzW2ktMV0saD0hMTtvLmlzX2RheWxpZ2h0IT1oJiZ1LmlzX2RheWxpZ2h0PT1oJiYobz11KX19cmV0dXJuIG8udXRjT2Zmc2V0fV9maW5kTmVhcmJ5Q2hhbmdlKGUpe2xldCB0PUNzKHRoaXMuY2hhbmdlcyxlLEsuX2NvbXBhcmVfY2hhbmdlX2ZuKTtyZXR1cm4gdD49dGhpcy5jaGFuZ2VzLmxlbmd0aD90aGlzLmNoYW5nZXMubGVuZ3RoLTE6dH1fZW5zdXJlQ292ZXJhZ2UoZSl7aWYoSy5fbWluaW11bUV4cGFuc2lvblllYXI9PS0xKXtsZXQgcz14Lm5vdygpO0suX21pbmltdW1FeHBhbnNpb25ZZWFyPXMueWVhcn1sZXQgdD1lO2lmKHQ8Sy5fbWluaW11bUV4cGFuc2lvblllYXImJih0PUsuX21pbmltdW1FeHBhbnNpb25ZZWFyKSx0Kz1LLkVYVFJBX0NPVkVSQUdFLCF0aGlzLmNoYW5nZXMubGVuZ3RofHx0aGlzLmV4cGFuZGVkVW50aWxZZWFyPGUpe2xldCBzPXRoaXMuY29tcG9uZW50LmdldEFsbFN1YmNvbXBvbmVudHMoKSxpPXMubGVuZ3RoLHI9MDtmb3IoO3I8aTtyKyspdGhpcy5fZXhwYW5kQ29tcG9uZW50KHNbcl0sdCx0aGlzLmNoYW5nZXMpO3RoaXMuY2hhbmdlcy5zb3J0KEsuX2NvbXBhcmVfY2hhbmdlX2ZuKSx0aGlzLmV4cGFuZGVkVW50aWxZZWFyPXR9fV9leHBhbmRDb21wb25lbnQoZSx0LHMpe2lmKCFlLmhhc1Byb3BlcnR5KCJkdHN0YXJ0Iil8fCFlLmhhc1Byb3BlcnR5KCJ0em9mZnNldHRvIil8fCFlLmhhc1Byb3BlcnR5KCJ0em9mZnNldGZyb20iKSlyZXR1cm4gbnVsbDtsZXQgaT1lLmdldEZpcnN0UHJvcGVydHkoImR0c3RhcnQiKS5nZXRGaXJzdFZhbHVlKCkscjtmdW5jdGlvbiBvKGwpe3JldHVybiBsLmZhY3RvcioobC5ob3VycyozNjAwK2wubWludXRlcyo2MCl9ZnVuY3Rpb24gYSgpe2xldCBsPXt9O3JldHVybiBsLmlzX2RheWxpZ2h0PWUubmFtZT09ImRheWxpZ2h0IixsLnV0Y09mZnNldD1vKGUuZ2V0Rmlyc3RQcm9wZXJ0eSgidHpvZmZzZXR0byIpLmdldEZpcnN0VmFsdWUoKSksbC5wcmV2VXRjT2Zmc2V0PW8oZS5nZXRGaXJzdFByb3BlcnR5KCJ0em9mZnNldGZyb20iKS5nZXRGaXJzdFZhbHVlKCkpLGx9aWYoIWUuaGFzUHJvcGVydHkoInJydWxlIikmJiFlLmhhc1Byb3BlcnR5KCJyZGF0ZSIpKXI9YSgpLHIueWVhcj1pLnllYXIsci5tb250aD1pLm1vbnRoLHIuZGF5PWkuZGF5LHIuaG91cj1pLmhvdXIsci5taW51dGU9aS5taW51dGUsci5zZWNvbmQ9aS5zZWNvbmQsSy5hZGp1c3RfY2hhbmdlKHIsMCwwLDAsLXIucHJldlV0Y09mZnNldCkscy5wdXNoKHIpO2Vsc2V7bGV0IGw9ZS5nZXRBbGxQcm9wZXJ0aWVzKCJyZGF0ZSIpO2ZvcihsZXQgaCBvZiBsKXtsZXQgYz1oLmdldEZpcnN0VmFsdWUoKTtyPWEoKSxyLnllYXI9Yy55ZWFyLHIubW9udGg9Yy5tb250aCxyLmRheT1jLmRheSxjLmlzRGF0ZT8oci5ob3VyPWkuaG91cixyLm1pbnV0ZT1pLm1pbnV0ZSxyLnNlY29uZD1pLnNlY29uZCxpLnpvbmUhPUsudXRjVGltZXpvbmUmJksuYWRqdXN0X2NoYW5nZShyLDAsMCwwLC1yLnByZXZVdGNPZmZzZXQpKTooci5ob3VyPWMuaG91cixyLm1pbnV0ZT1jLm1pbnV0ZSxyLnNlY29uZD1jLnNlY29uZCxjLnpvbmUhPUsudXRjVGltZXpvbmUmJksuYWRqdXN0X2NoYW5nZShyLDAsMCwwLC1yLnByZXZVdGNPZmZzZXQpKSxzLnB1c2gocil9bGV0IHU9ZS5nZXRGaXJzdFByb3BlcnR5KCJycnVsZSIpO2lmKHUpe3U9dS5nZXRGaXJzdFZhbHVlKCkscj1hKCksdS51bnRpbCYmdS51bnRpbC56b25lPT1LLnV0Y1RpbWV6b25lJiYodS51bnRpbC5hZGp1c3QoMCwwLDAsci5wcmV2VXRjT2Zmc2V0KSx1LnVudGlsLnpvbmU9Sy5sb2NhbFRpbWV6b25lKTtsZXQgaD11Lml0ZXJhdG9yKGkpLGM7Zm9yKDsoYz1oLm5leHQoKSkmJihyPWEoKSwhKGMueWVhcj50fHwhYykpOylyLnllYXI9Yy55ZWFyLHIubW9udGg9Yy5tb250aCxyLmRheT1jLmRheSxyLmhvdXI9Yy5ob3VyLHIubWludXRlPWMubWludXRlLHIuc2Vjb25kPWMuc2Vjb25kLHIuaXNEYXRlPWMuaXNEYXRlLEsuYWRqdXN0X2NoYW5nZShyLDAsMCwwLC1yLnByZXZVdGNPZmZzZXQpLHMucHVzaChyKX19cmV0dXJuIHN9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy50em5hbWVzP3RoaXMudHpuYW1lczp0aGlzLnR6aWR9fTtBbj1uZXcgV2Vha01hcCxDbj1uZXcgV2Vha01hcCx6KEssQW4sbnVsbCkseihLLENuLG51bGwpLFQoSywiX21pbmltdW1FeHBhbnNpb25ZZWFyIiwtMSksVChLLCJFWFRSQV9DT1ZFUkFHRSIsNSk7bGV0IHNlPUssSGU9bnVsbDtjb25zdCBncj17Z2V0IGNvdW50KCl7cmV0dXJuIEhlPT09bnVsbD8wOk9iamVjdC5rZXlzKEhlKS5sZW5ndGh9LHJlc2V0OmZ1bmN0aW9uKCl7SGU9T2JqZWN0LmNyZWF0ZShudWxsKTtsZXQgbj1zZS51dGNUaW1lem9uZTtIZS5aPW4sSGUuVVRDPW4sSGUuR01UPW59LF9oYXJkX3Jlc2V0OmZ1bmN0aW9uKCl7SGU9bnVsbH0saGFzOmZ1bmN0aW9uKG4pe3JldHVybiBIZT09PW51bGw/ITE6ISFIZVtuXX0sZ2V0OmZ1bmN0aW9uKG4pe3JldHVybiBIZT09PW51bGwmJnRoaXMucmVzZXQoKSxIZVtuXX0scmVnaXN0ZXI6ZnVuY3Rpb24obixlKXtpZihIZT09PW51bGwmJnRoaXMucmVzZXQoKSx0eXBlb2Ygbj09InN0cmluZyImJmUgaW5zdGFuY2VvZiBzZSYmKFtuLGVdPVtlLG5dKSxlfHwobiBpbnN0YW5jZW9mIHNlP2U9bi50emlkOm4ubmFtZT09PSJ2dGltZXpvbmUiJiYobj1uZXcgc2UobiksZT1uLnR6aWQpKSwhZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJOZWl0aGVyIGEgdGltZXpvbmUgbm9yIGEgbmFtZSB3YXMgcGFzc2VkIik7aWYobiBpbnN0YW5jZW9mIHNlKUhlW2VdPW47ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCJ0aW1lem9uZSBtdXN0IGJlIElDQUwuVGltZXpvbmUgb3IgSUNBTC5Db21wb25lbnQiKX0scmVtb3ZlOmZ1bmN0aW9uKG4pe3JldHVybiBIZT09PW51bGw/bnVsbDpkZWxldGUgSGVbbl19fTtmdW5jdGlvbiBQMChuKXtsZXQgZSx0LHMsaSxyO2lmKCFufHxuLm5hbWUhPT0idmNhbGVuZGFyIilyZXR1cm4gbjtmb3IoZT1uLmdldEFsbFN1YmNvbXBvbmVudHMoKSx0PVtdLHM9e30scj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0ubmFtZT09PSJ2dGltZXpvbmUiKXtsZXQgbz1lW3JdLmdldEZpcnN0UHJvcGVydHkoInR6aWQiKS5nZXRGaXJzdFZhbHVlKCk7c1tvXT1lW3JdfWVsc2UgdD10LmNvbmNhdChlW3JdLmdldEFsbFByb3BlcnRpZXMoKSk7Zm9yKGk9e30scj0wO3I8dC5sZW5ndGg7cisrKXtsZXQgbz10W3JdLmdldFBhcmFtZXRlcigidHppZCIpO28mJihpW29dPSEwKX1mb3IobGV0W28sYV1vZiBPYmplY3QuZW50cmllcyhzKSlpW29dfHxuLnJlbW92ZVN1YmNvbXBvbmVudChhKTtmb3IobGV0IG8gb2YgT2JqZWN0LmtleXMoaSkpIXNbb10mJmdyLmhhcyhvKSYmbi5hZGRTdWJjb21wb25lbnQoZ3IuZ2V0KG8pLmNvbXBvbmVudCk7cmV0dXJuIG59ZnVuY3Rpb24gb2kobil7cmV0dXJuIHR5cGVvZiBuPT0ibnVtYmVyIiYmaXNOYU4obil9ZnVuY3Rpb24gRmUobil7bGV0IGU9cGFyc2VJbnQobiwxMCk7aWYob2koZSkpdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZXh0cmFjdCBpbnRlZ2VyIGZyb20gIicrbisnIicpO3JldHVybiBlfWZ1bmN0aW9uIFZ0KG4sZSl7aWYoISh0eXBlb2Ygbj4idSIpKXJldHVybiBuIGluc3RhbmNlb2YgZT9uOm5ldyBlKG4pfWZ1bmN0aW9uIG5oKG4sZSx0KXtmb3IoOyh0PW4uaW5kZXhPZihlLHQpKSE9PS0xOylpZih0PjAmJm5bdC0xXT09PSJcXCIpdCs9MTtlbHNlIHJldHVybiB0O3JldHVybi0xfWZ1bmN0aW9uIENzKG4sZSx0KXtpZighbi5sZW5ndGgpcmV0dXJuIDA7bGV0IHM9MCxpPW4ubGVuZ3RoLTEscixvO2Zvcig7czw9aTspaWYocj1zK01hdGguZmxvb3IoKGktcykvMiksbz10KGUsbltyXSksbzwwKWk9ci0xO2Vsc2UgaWYobz4wKXM9cisxO2Vsc2UgYnJlYWs7cmV0dXJuIG88MD9yOm8+MD9yKzE6cn1mdW5jdGlvbiB4cyhuLGUpe2lmKCFufHx0eXBlb2YgbiE9Im9iamVjdCIpcmV0dXJuIG47aWYobiBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIG5ldyBEYXRlKG4uZ2V0VGltZSgpKTtpZigiY2xvbmUiaW4gbilyZXR1cm4gbi5jbG9uZSgpO2lmKEFycmF5LmlzQXJyYXkobikpe2xldCB0PVtdO2ZvcihsZXQgcz0wO3M8bi5sZW5ndGg7cysrKXQucHVzaChlP3hzKG5bc10sITApOm5bc10pO3JldHVybiB0fWVsc2V7bGV0IHQ9e307Zm9yKGxldFtzLGldb2YgT2JqZWN0LmVudHJpZXMobikpZT90W3NdPXhzKGksITApOnRbc109aTtyZXR1cm4gdH19ZnVuY3Rpb24gaWgobil7bGV0IGU9IiIsdD1ufHwiIixzPTAsaT0wO2Zvcig7dC5sZW5ndGg7KXtsZXQgcj10LmNvZGVQb2ludEF0KHMpO3I8MTI4PysraTpyPDIwNDg/aSs9MjpyPDY1NTM2P2krPTM6aSs9NCxpPHBhLmZvbGRMZW5ndGgrMT9zKz1yPjY1NTM1PzI6MTooZSs9cGEubmV3TGluZUNoYXIrIiAiK3Quc2xpY2UoMCxNYXRoLm1heCgwLHMpKSx0PXQuc2xpY2UoTWF0aC5tYXgoMCxzKSkscz1pPTApfXJldHVybiBlLnNsaWNlKHBhLm5ld0xpbmVDaGFyLmxlbmd0aCsxKX1mdW5jdGlvbiBaZShuKXtzd2l0Y2godHlwZW9mIG4hPSJzdHJpbmciJiYodHlwZW9mIG49PSJudW1iZXIiJiYobj1wYXJzZUludChuKSksbj1TdHJpbmcobikpLG4ubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIjAwIjtjYXNlIDE6cmV0dXJuIjAiK247ZGVmYXVsdDpyZXR1cm4gbn19ZnVuY3Rpb24gRGUobil7cmV0dXJuIG48MD9NYXRoLmNlaWwobik6TWF0aC5mbG9vcihuKX1mdW5jdGlvbiBMcyhuLGUpe2ZvcihsZXQgdCBpbiBuKXtsZXQgcz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCk7cyYmIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxzKX1yZXR1cm4gZX12YXIgJDA9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsdXBkYXRlVGltZXpvbmVzOlAwLGlzU3RyaWN0bHlOYU46b2ksc3RyaWN0UGFyc2VJbnQ6RmUsZm9ybWF0Q2xhc3NUeXBlOlZ0LHVuZXNjYXBlZEluZGV4T2Y6bmgsYmluc2VhcmNoSW5zZXJ0OkNzLGNsb25lOnhzLGZvbGRsaW5lOmloLHBhZDI6WmUsdHJ1bmM6RGUsZXh0ZW5kOkxzfSk7Y2xhc3Mga3R7Y29uc3RydWN0b3IoZSl7VCh0aGlzLCJob3VycyIsMCk7VCh0aGlzLCJtaW51dGVzIiwwKTtUKHRoaXMsImZhY3RvciIsMSk7VCh0aGlzLCJpY2FsdHlwZSIsInV0Yy1vZmZzZXQiKTt0aGlzLmZyb21EYXRhKGUpfXN0YXRpYyBmcm9tU3RyaW5nKGUpe2xldCB0PXt9O3JldHVybiB0LmZhY3Rvcj1lWzBdPT09IisiPzE6LTEsdC5ob3Vycz1GZShlLnNsaWNlKDEsMykpLHQubWludXRlcz1GZShlLnNsaWNlKDQsNikpLG5ldyBrdCh0KX1zdGF0aWMgZnJvbVNlY29uZHMoZSl7bGV0IHQ9bmV3IGt0O3JldHVybiB0LmZyb21TZWNvbmRzKGUpLHR9Y2xvbmUoKXtyZXR1cm4ga3QuZnJvbVNlY29uZHModGhpcy50b1NlY29uZHMoKSl9ZnJvbURhdGEoZSl7aWYoZSlmb3IobGV0W3Qsc11vZiBPYmplY3QuZW50cmllcyhlKSl0aGlzW3RdPXM7dGhpcy5fbm9ybWFsaXplKCl9ZnJvbVNlY29uZHMoZSl7bGV0IHQ9TWF0aC5hYnMoZSk7cmV0dXJuIHRoaXMuZmFjdG9yPWU8MD8tMToxLHRoaXMuaG91cnM9RGUodC8zNjAwKSx0LT10aGlzLmhvdXJzKjM2MDAsdGhpcy5taW51dGVzPURlKHQvNjApLHRoaXN9dG9TZWNvbmRzKCl7cmV0dXJuIHRoaXMuZmFjdG9yKig2MCp0aGlzLm1pbnV0ZXMrMzYwMCp0aGlzLmhvdXJzKX1jb21wYXJlKGUpe2xldCB0PXRoaXMudG9TZWNvbmRzKCkscz1lLnRvU2Vjb25kcygpO3JldHVybih0PnMpLShzPnQpfV9ub3JtYWxpemUoKXtsZXQgZT10aGlzLnRvU2Vjb25kcygpLHQ9dGhpcy5mYWN0b3I7Zm9yKDtlPC00MzIwMDspZSs9OTcyMDA7Zm9yKDtlPjUwNDAwOyllLT05NzIwMDt0aGlzLmZyb21TZWNvbmRzKGUpLGU9PTAmJih0aGlzLmZhY3Rvcj10KX10b0lDQUxTdHJpbmcoKXtyZXR1cm4gTWUuaWNhbGVuZGFyLnZhbHVlWyJ1dGMtb2Zmc2V0Il0udG9JQ0FMKHRoaXMudG9TdHJpbmcoKSl9dG9TdHJpbmcoKXtyZXR1cm4odGhpcy5mYWN0b3I9PTE/IisiOiItIikrWmUodGhpcy5ob3VycykrIjoiK1plKHRoaXMubWludXRlcyl9fWNsYXNzIGhzIGV4dGVuZHMgeHtjb25zdHJ1Y3Rvcih0LHMsaSl7c3VwZXIodCxzKTtUKHRoaXMsImljYWxjbGFzcyIsInZjYXJkdGltZSIpO1QodGhpcywiaWNhbHR5cGUiLCJkYXRlLWFuZC1vci10aW1lIik7dGhpcy5pY2FsdHlwZT1pfHwiZGF0ZS1hbmQtb3ItdGltZSJ9c3RhdGljIGZyb21EYXRlQW5kT3JUaW1lU3RyaW5nKHQscyl7ZnVuY3Rpb24gaSh5LHcsYil7cmV0dXJuIHk/RmUoeS5zbGljZSh3LHcrYikpOm51bGx9bGV0IHI9dC5zcGxpdCgiVCIpLG89clswXSxhPXJbMV0sbD1hP01lLnZjYXJkLnZhbHVlLnRpbWUuX3NwbGl0Wm9uZShhKTpbXSx1PWxbMF0saD1sWzFdLGM9bz9vLmxlbmd0aDowLG09aD9oLmxlbmd0aDowLGY9byYmb1swXT09Ii0iJiZvWzFdPT0iLSIsZz1oJiZoWzBdPT0iLSIsZD17eWVhcjpmP251bGw6aShvLDAsNCksbW9udGg6ZiYmKGM9PTR8fGM9PTcpP2kobywyLDIpOmM9PTd8fGM9PTEwP2kobyw1LDIpOm51bGwsZGF5OmM9PTU/aShvLDMsMik6Yz09NyYmZj9pKG8sNSwyKTpjPT0xMD9pKG8sOCwyKTpudWxsLGhvdXI6Zz9udWxsOmkoaCwwLDIpLG1pbnV0ZTpnJiZtPT0zP2koaCwxLDIpOm0+ND9nP2koaCwxLDIpOmkoaCwzLDIpOm51bGwsc2Vjb25kOm09PTQ/aShoLDIsMik6bT09Nj9pKGgsNCwyKTptPT04P2koaCw2LDIpOm51bGx9O3JldHVybiB1PT0iWiI/dT1zZS51dGNUaW1lem9uZTp1JiZ1WzNdPT0iOiI/dT1rdC5mcm9tU3RyaW5nKHUpOnU9bnVsbCxuZXcgaHMoZCx1LHMpfWNsb25lKCl7cmV0dXJuIG5ldyBocyh0aGlzLl90aW1lLHRoaXMuem9uZSx0aGlzLmljYWx0eXBlKX1fbm9ybWFsaXplKCl7cmV0dXJuIHRoaXN9dXRjT2Zmc2V0KCl7cmV0dXJuIHRoaXMuem9uZSBpbnN0YW5jZW9mIGt0P3RoaXMuem9uZS50b1NlY29uZHMoKTp4LnByb3RvdHlwZS51dGNPZmZzZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXRvSUNBTFN0cmluZygpe3JldHVybiBNZS52Y2FyZC52YWx1ZVt0aGlzLmljYWx0eXBlXS50b0lDQUwodGhpcy50b1N0cmluZygpKX10b1N0cmluZygpe2xldCB0PXRoaXMueWVhcixzPXRoaXMubW9udGgsaT10aGlzLmRheSxyPXRoaXMuaG91cixvPXRoaXMubWludXRlLGE9dGhpcy5zZWNvbmQsbD10IT09bnVsbCx1PXMhPT1udWxsLGg9aSE9PW51bGwsYz1yIT09bnVsbCxtPW8hPT1udWxsLGY9YSE9PW51bGwsZz0obD9aZSh0KSsodXx8aD8iLSI6IiIpOnV8fGg/Ii0tIjoiIikrKHU/WmUocyk6IiIpKyhoPyItIitaZShpKToiIiksZD0oYz9aZShyKToiLSIpKyhjJiZtPyI6IjoiIikrKG0/WmUobyk6IiIpKyghYyYmIW0/Ii0iOiIiKSsobSYmZj8iOiI6IiIpKyhmP1plKGEpOiIiKSx5O3N3aXRjaCh0aGlzLnpvbmU9PT1zZS51dGNUaW1lem9uZT95PSJaIjp0aGlzLnpvbmUgaW5zdGFuY2VvZiBrdD95PXRoaXMuem9uZS50b1N0cmluZygpOnRoaXMuem9uZT09PXNlLmxvY2FsVGltZXpvbmU/eT0iIjp0aGlzLnpvbmUgaW5zdGFuY2VvZiBzZT95PWt0LmZyb21TZWNvbmRzKHRoaXMuem9uZS51dGNPZmZzZXQodGhpcykpLnRvU3RyaW5nKCk6eT0iIix0aGlzLmljYWx0eXBlKXtjYXNlInRpbWUiOnJldHVybiBkK3k7Y2FzZSJkYXRlLWFuZC1vci10aW1lIjpjYXNlImRhdGUtdGltZSI6cmV0dXJuIGcrKGQ9PSItLSI/IiI6IlQiK2QreSk7Y2FzZSJkYXRlIjpyZXR1cm4gZ31yZXR1cm4gbnVsbH19Y29uc3QgSmU9Y2xhc3MgSmV7Y29uc3RydWN0b3IoZSl7VCh0aGlzLCJjb21wbGV0ZWQiLCExKTtUKHRoaXMsInJ1bGUiLG51bGwpO1QodGhpcywiZHRzdGFydCIsbnVsbCk7VCh0aGlzLCJsYXN0IixudWxsKTtUKHRoaXMsIm9jY3VycmVuY2VfbnVtYmVyIiwwKTtUKHRoaXMsImJ5X2luZGljZXMiLG51bGwpO1QodGhpcywiaW5pdGlhbGl6ZWQiLCExKTtUKHRoaXMsImJ5X2RhdGEiLG51bGwpO1QodGhpcywiZGF5cyIsbnVsbCk7VCh0aGlzLCJkYXlzX2luZGV4IiwwKTt0aGlzLmZyb21EYXRhKGUpfWZyb21EYXRhKGUpe2lmKHRoaXMucnVsZT1WdChlLnJ1bGUsemUpLCF0aGlzLnJ1bGUpdGhyb3cgbmV3IEVycm9yKCJpdGVyYXRvciByZXF1aXJlcyBhIChJQ0FMLlJlY3VyKSBydWxlIik7aWYodGhpcy5kdHN0YXJ0PVZ0KGUuZHRzdGFydCx4KSwhdGhpcy5kdHN0YXJ0KXRocm93IG5ldyBFcnJvcigiaXRlcmF0b3IgcmVxdWlyZXMgYSAoSUNBTC5UaW1lKSBkdHN0YXJ0Iik7aWYoZS5ieV9kYXRhP3RoaXMuYnlfZGF0YT1lLmJ5X2RhdGE6dGhpcy5ieV9kYXRhPXhzKHRoaXMucnVsZS5wYXJ0cywhMCksZS5vY2N1cnJlbmNlX251bWJlciYmKHRoaXMub2NjdXJyZW5jZV9udW1iZXI9ZS5vY2N1cnJlbmNlX251bWJlciksdGhpcy5kYXlzPWUuZGF5c3x8W10sZS5sYXN0JiYodGhpcy5sYXN0PVZ0KGUubGFzdCx4KSksdGhpcy5ieV9pbmRpY2VzPWUuYnlfaW5kaWNlcyx0aGlzLmJ5X2luZGljZXN8fCh0aGlzLmJ5X2luZGljZXM9e0JZU0VDT05EOjAsQllNSU5VVEU6MCxCWUhPVVI6MCxCWURBWTowLEJZTU9OVEg6MCxCWVdFRUtOTzowLEJZTU9OVEhEQVk6MH0pLHRoaXMuaW5pdGlhbGl6ZWQ9ZS5pbml0aWFsaXplZHx8ITEsIXRoaXMuaW5pdGlhbGl6ZWQpdHJ5e3RoaXMuaW5pdCgpfWNhdGNoKHQpe2lmKHQgaW5zdGFuY2VvZiByaCl0aGlzLmNvbXBsZXRlZD0hMDtlbHNlIHRocm93IHR9fWluaXQoKXt0aGlzLmluaXRpYWxpemVkPSEwLHRoaXMubGFzdD10aGlzLmR0c3RhcnQuY2xvbmUoKTtsZXQgZT10aGlzLmJ5X2RhdGE7aWYoIkJZREFZImluIGUmJnRoaXMuc29ydF9ieWRheV9ydWxlcyhlLkJZREFZKSwiQllZRUFSREFZImluIGUmJigiQllNT05USCJpbiBlfHwiQllXRUVLTk8iaW4gZXx8IkJZTU9OVEhEQVkiaW4gZXx8IkJZREFZImluIGUpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBCWVlFQVJEQVkgcnVsZSIpO2lmKCJCWVdFRUtOTyJpbiBlJiYiQllNT05USERBWSJpbiBlKXRocm93IG5ldyBFcnJvcigiQllXRUVLTk8gZG9lcyBub3QgZml0IHRvIEJZTU9OVEhEQVkiKTtpZih0aGlzLnJ1bGUuZnJlcT09Ik1PTlRITFkiJiYoIkJZWUVBUkRBWSJpbiBlfHwiQllXRUVLTk8iaW4gZSkpdGhyb3cgbmV3IEVycm9yKCJGb3IgTU9OVEhMWSByZWN1cnJlbmNlcyBuZWl0aGVyIEJZWUVBUkRBWSBub3IgQllXRUVLTk8gbWF5IGFwcGVhciIpO2lmKHRoaXMucnVsZS5mcmVxPT0iV0VFS0xZIiYmKCJCWVlFQVJEQVkiaW4gZXx8IkJZTU9OVEhEQVkiaW4gZSkpdGhyb3cgbmV3IEVycm9yKCJGb3IgV0VFS0xZIHJlY3VycmVuY2VzIG5laXRoZXIgQllNT05USERBWSBub3IgQllZRUFSREFZIG1heSBhcHBlYXIiKTtpZih0aGlzLnJ1bGUuZnJlcSE9IllFQVJMWSImJiJCWVlFQVJEQVkiaW4gZSl0aHJvdyBuZXcgRXJyb3IoIkJZWUVBUkRBWSBtYXkgb25seSBhcHBlYXIgaW4gWUVBUkxZIHJ1bGVzIik7aWYodGhpcy5sYXN0LnNlY29uZD10aGlzLnNldHVwX2RlZmF1bHRzKCJCWVNFQ09ORCIsIlNFQ09ORExZIix0aGlzLmR0c3RhcnQuc2Vjb25kKSx0aGlzLmxhc3QubWludXRlPXRoaXMuc2V0dXBfZGVmYXVsdHMoIkJZTUlOVVRFIiwiTUlOVVRFTFkiLHRoaXMuZHRzdGFydC5taW51dGUpLHRoaXMubGFzdC5ob3VyPXRoaXMuc2V0dXBfZGVmYXVsdHMoIkJZSE9VUiIsIkhPVVJMWSIsdGhpcy5kdHN0YXJ0LmhvdXIpLHRoaXMubGFzdC5kYXk9dGhpcy5zZXR1cF9kZWZhdWx0cygiQllNT05USERBWSIsIkRBSUxZIix0aGlzLmR0c3RhcnQuZGF5KSx0aGlzLmxhc3QubW9udGg9dGhpcy5zZXR1cF9kZWZhdWx0cygiQllNT05USCIsIk1PTlRITFkiLHRoaXMuZHRzdGFydC5tb250aCksdGhpcy5ydWxlLmZyZXE9PSJXRUVLTFkiKWlmKCJCWURBWSJpbiBlKXtsZXRbLHRdPXRoaXMucnVsZURheU9mV2VlayhlLkJZREFZWzBdLHRoaXMucnVsZS53a3N0KSxzPXQtdGhpcy5sYXN0LmRheU9mV2Vlayh0aGlzLnJ1bGUud2tzdCk7KHRoaXMubGFzdC5kYXlPZldlZWsodGhpcy5ydWxlLndrc3QpPHQmJnM+PTB8fHM8MCkmJih0aGlzLmxhc3QuZGF5Kz1zKX1lbHNle2xldCB0PXplLm51bWVyaWNEYXlUb0ljYWxEYXkodGhpcy5kdHN0YXJ0LmRheU9mV2VlaygpKTtlLkJZREFZPVt0XX1pZih0aGlzLnJ1bGUuZnJlcT09IllFQVJMWSIpe2NvbnN0IHQ9dGhpcy5ydWxlLnVudGlsP3RoaXMucnVsZS51bnRpbC55ZWFyOjJlNDtmb3IoO3RoaXMubGFzdC55ZWFyPD10JiYodGhpcy5leHBhbmRfeWVhcl9kYXlzKHRoaXMubGFzdC55ZWFyKSwhKHRoaXMuZGF5cy5sZW5ndGg+MCkpOyl0aGlzLmluY3JlbWVudF95ZWFyKHRoaXMucnVsZS5pbnRlcnZhbCk7aWYodGhpcy5kYXlzLmxlbmd0aD09MCl0aHJvdyBuZXcgcmg7dGhpcy5fbmV4dEJ5WWVhckRheSgpfWlmKHRoaXMucnVsZS5mcmVxPT0iTU9OVEhMWSIpe2lmKHRoaXMuaGFzX2J5X2RhdGEoIkJZREFZIikpe2xldCB0PW51bGwscz10aGlzLmxhc3QuY2xvbmUoKSxpPXguZGF5c0luTW9udGgodGhpcy5sYXN0Lm1vbnRoLHRoaXMubGFzdC55ZWFyKTtmb3IobGV0IHIgb2YgdGhpcy5ieV9kYXRhLkJZREFZKXt0aGlzLmxhc3Q9cy5jbG9uZSgpO2xldFtvLGFdPXRoaXMucnVsZURheU9mV2VlayhyKSxsPXRoaXMubGFzdC5udGhXZWVrRGF5KGEsbyk7aWYobz49Nnx8bzw9LTYpdGhyb3cgbmV3IEVycm9yKCJNYWxmb3JtZWQgdmFsdWVzIGluIEJZREFZIHBhcnQiKTtpZihsPml8fGw8PTApe2lmKHQmJnQubW9udGg9PXMubW9udGgpY29udGludWU7Zm9yKDtsPml8fGw8PTA7KXRoaXMuaW5jcmVtZW50X21vbnRoKCksaT14LmRheXNJbk1vbnRoKHRoaXMubGFzdC5tb250aCx0aGlzLmxhc3QueWVhciksbD10aGlzLmxhc3QubnRoV2Vla0RheShhLG8pfXRoaXMubGFzdC5kYXk9bCwoIXR8fHRoaXMubGFzdC5jb21wYXJlKHQpPDApJiYodD10aGlzLmxhc3QuY2xvbmUoKSl9aWYodGhpcy5sYXN0PXQuY2xvbmUoKSx0aGlzLmhhc19ieV9kYXRhKCJCWU1PTlRIREFZIikmJnRoaXMuX2J5RGF5QW5kTW9udGhEYXkoITApLHRoaXMubGFzdC5kYXk+aXx8dGhpcy5sYXN0LmRheT09MCl0aHJvdyBuZXcgRXJyb3IoIk1hbGZvcm1lZCB2YWx1ZXMgaW4gQllEQVkgcGFydCIpfWVsc2UgaWYodGhpcy5oYXNfYnlfZGF0YSgiQllNT05USERBWSIpKXt0aGlzLmxhc3QuZGF5PTE7bGV0IHQ9dGhpcy5ub3JtYWxpemVCeU1vbnRoRGF5UnVsZXModGhpcy5sYXN0LnllYXIsdGhpcy5sYXN0Lm1vbnRoLHRoaXMucnVsZS5wYXJ0cy5CWU1PTlRIREFZKS5maWx0ZXIocz0+cz49dGhpcy5sYXN0LmRheSk7aWYodC5sZW5ndGgpdGhpcy5sYXN0LmRheT10WzBdLHRoaXMuYnlfZGF0YS5CWU1PTlRIREFZPXQ7ZWxzZSBpZighdGhpcy5uZXh0X21vbnRoKCkmJiF0aGlzLm5leHRfbW9udGgoKSYmIXRoaXMubmV4dF9tb250aCgpKXRocm93IG5ldyBFcnJvcigiTm8gcG9zc2libGUgb2NjdXJyZW5jZXMiKX19fW5leHQoZT0hMSl7bGV0IHQ9dGhpcy5sYXN0P3RoaXMubGFzdC5jbG9uZSgpOm51bGw7aWYoKHRoaXMucnVsZS5jb3VudCYmdGhpcy5vY2N1cnJlbmNlX251bWJlcj49dGhpcy5ydWxlLmNvdW50fHx0aGlzLnJ1bGUudW50aWwmJnRoaXMubGFzdC5jb21wYXJlKHRoaXMucnVsZS51bnRpbCk+MCkmJih0aGlzLmNvbXBsZXRlZD0hMCksdGhpcy5jb21wbGV0ZWQpcmV0dXJuIG51bGw7aWYodGhpcy5vY2N1cnJlbmNlX251bWJlcj09MCYmdGhpcy5sYXN0LmNvbXBhcmUodGhpcy5kdHN0YXJ0KT49MClyZXR1cm4gdGhpcy5vY2N1cnJlbmNlX251bWJlcisrLHRoaXMubGFzdDtsZXQgcztkbyBzd2l0Y2gocz0xLHRoaXMucnVsZS5mcmVxKXtjYXNlIlNFQ09ORExZIjp0aGlzLm5leHRfc2Vjb25kKCk7YnJlYWs7Y2FzZSJNSU5VVEVMWSI6dGhpcy5uZXh0X21pbnV0ZSgpO2JyZWFrO2Nhc2UiSE9VUkxZIjp0aGlzLm5leHRfaG91cigpO2JyZWFrO2Nhc2UiREFJTFkiOnRoaXMubmV4dF9kYXkoKTticmVhaztjYXNlIldFRUtMWSI6dGhpcy5uZXh0X3dlZWsoKTticmVhaztjYXNlIk1PTlRITFkiOnM9dGhpcy5uZXh0X21vbnRoKCk7YnJlYWs7Y2FzZSJZRUFSTFkiOnRoaXMubmV4dF95ZWFyKCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gbnVsbH13aGlsZSghdGhpcy5jaGVja19jb250cmFjdGluZ19ydWxlcygpfHx0aGlzLmxhc3QuY29tcGFyZSh0aGlzLmR0c3RhcnQpPDB8fCFzKTtpZih0aGlzLmxhc3QuY29tcGFyZSh0KT09MCl7aWYoZSl0aHJvdyBuZXcgRXJyb3IoIlNhbWUgb2NjdXJyZW5jZSBmb3VuZCB0d2ljZSwgcHJvdGVjdGluZyB5b3UgZnJvbSBkZWF0aCBieSByZWN1cnNpb24iKTt0aGlzLm5leHQoITApfXJldHVybiB0aGlzLnJ1bGUudW50aWwmJnRoaXMubGFzdC5jb21wYXJlKHRoaXMucnVsZS51bnRpbCk+MD8odGhpcy5jb21wbGV0ZWQ9ITAsbnVsbCk6KHRoaXMub2NjdXJyZW5jZV9udW1iZXIrKyx0aGlzLmxhc3QpfW5leHRfc2Vjb25kKCl7cmV0dXJuIHRoaXMubmV4dF9nZW5lcmljKCJCWVNFQ09ORCIsIlNFQ09ORExZIiwic2Vjb25kIiwibWludXRlIil9aW5jcmVtZW50X3NlY29uZChlKXtyZXR1cm4gdGhpcy5pbmNyZW1lbnRfZ2VuZXJpYyhlLCJzZWNvbmQiLDYwLCJtaW51dGUiKX1uZXh0X21pbnV0ZSgpe3JldHVybiB0aGlzLm5leHRfZ2VuZXJpYygiQllNSU5VVEUiLCJNSU5VVEVMWSIsIm1pbnV0ZSIsImhvdXIiLCJuZXh0X3NlY29uZCIpfWluY3JlbWVudF9taW51dGUoZSl7cmV0dXJuIHRoaXMuaW5jcmVtZW50X2dlbmVyaWMoZSwibWludXRlIiw2MCwiaG91ciIpfW5leHRfaG91cigpe3JldHVybiB0aGlzLm5leHRfZ2VuZXJpYygiQllIT1VSIiwiSE9VUkxZIiwiaG91ciIsIm1vbnRoZGF5IiwibmV4dF9taW51dGUiKX1pbmNyZW1lbnRfaG91cihlKXt0aGlzLmluY3JlbWVudF9nZW5lcmljKGUsImhvdXIiLDI0LCJtb250aGRheSIpfW5leHRfZGF5KCl7bGV0IGU9dGhpcy5ydWxlLmZyZXE9PSJEQUlMWSI7cmV0dXJuIHRoaXMubmV4dF9ob3VyKCk9PTB8fChlP3RoaXMuaW5jcmVtZW50X21vbnRoZGF5KHRoaXMucnVsZS5pbnRlcnZhbCk6dGhpcy5pbmNyZW1lbnRfbW9udGhkYXkoMSkpLDB9bmV4dF93ZWVrKCl7bGV0IGU9MDtpZih0aGlzLm5leHRfd2Vla2RheV9ieV93ZWVrKCk9PTApcmV0dXJuIGU7aWYodGhpcy5oYXNfYnlfZGF0YSgiQllXRUVLTk8iKSl7dGhpcy5ieV9pbmRpY2VzLkJZV0VFS05PKyssdGhpcy5ieV9pbmRpY2VzLkJZV0VFS05PPT10aGlzLmJ5X2RhdGEuQllXRUVLTk8ubGVuZ3RoJiYodGhpcy5ieV9pbmRpY2VzLkJZV0VFS05PPTAsZT0xKSx0aGlzLmxhc3QubW9udGg9MSx0aGlzLmxhc3QuZGF5PTE7bGV0IHQ9dGhpcy5ieV9kYXRhLkJZV0VFS05PW3RoaXMuYnlfaW5kaWNlcy5CWVdFRUtOT107dGhpcy5sYXN0LmRheSs9Nyp0LGUmJnRoaXMuaW5jcmVtZW50X3llYXIoMSl9ZWxzZSB0aGlzLmluY3JlbWVudF9tb250aGRheSg3KnRoaXMucnVsZS5pbnRlcnZhbCk7cmV0dXJuIGV9bm9ybWFsaXplQnlNb250aERheVJ1bGVzKGUsdCxzKXtsZXQgaT14LmRheXNJbk1vbnRoKHQsZSkscj1bXSxvPTAsYT1zLmxlbmd0aCxsO2Zvcig7bzxhO28rKyl7aWYobD1wYXJzZUludChzW29dLDEwKSxpc05hTihsKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgQllNT05USERBWSB2YWx1ZSIpO2lmKCEoTWF0aC5hYnMobCk+aSkpe2lmKGw8MClsPWkrKGwrMSk7ZWxzZSBpZihsPT09MCljb250aW51ZTtyLmluZGV4T2YobCk9PT0tMSYmci5wdXNoKGwpfX1yZXR1cm4gci5zb3J0KGZ1bmN0aW9uKHUsaCl7cmV0dXJuIHUtaH0pfV9ieURheUFuZE1vbnRoRGF5KGUpe2xldCB0LHM9dGhpcy5ieV9kYXRhLkJZREFZLGkscj0wLG8sYT1zLmxlbmd0aCxsPTAsdSxoPXRoaXMsYz10aGlzLmxhc3QuZGF5O2Z1bmN0aW9uIG0oKXtmb3IodT14LmRheXNJbk1vbnRoKGgubGFzdC5tb250aCxoLmxhc3QueWVhciksdD1oLm5vcm1hbGl6ZUJ5TW9udGhEYXlSdWxlcyhoLmxhc3QueWVhcixoLmxhc3QubW9udGgsaC5ieV9kYXRhLkJZTU9OVEhEQVkpLG89dC5sZW5ndGg7dFtyXTw9YyYmIShlJiZ0W3JdPT1jKSYmcjxvLTE7KXIrK31mdW5jdGlvbiBmKCl7Yz0wLGguaW5jcmVtZW50X21vbnRoKCkscj0wLG0oKX1tKCksZSYmKGMtPTEpO2xldCBnPTQ4O2Zvcig7IWwmJmc7KXtpZihnLS0saT1jKzEsaT51KXtmKCk7Y29udGludWV9bGV0IGQ9dFtyKytdO2lmKGQ+PWkpYz1kO2Vsc2V7ZigpO2NvbnRpbnVlfWZvcihsZXQgeT0wO3k8YTt5Kyspe2xldCB3PXRoaXMucnVsZURheU9mV2VlayhzW3ldKSxiPXdbMF0saz13WzFdO2lmKHRoaXMubGFzdC5kYXk9Yyx0aGlzLmxhc3QuaXNOdGhXZWVrRGF5KGssYikpe2w9MTticmVha319aWYoIWwmJnI9PT1vKXtmKCk7Y29udGludWV9fWlmKGc8PTApdGhyb3cgbmV3IEVycm9yKCJNYWxmb3JtZWQgdmFsdWVzIGluIEJZREFZIGNvbWJpbmVkIHdpdGggQllNT05USERBWSBwYXJ0cyIpO3JldHVybiBsfW5leHRfbW9udGgoKXtsZXQgZT0xO2lmKHRoaXMubmV4dF9ob3VyKCk9PTApcmV0dXJuIGU7aWYodGhpcy5oYXNfYnlfZGF0YSgiQllEQVkiKSYmdGhpcy5oYXNfYnlfZGF0YSgiQllNT05USERBWSIpKWU9dGhpcy5fYnlEYXlBbmRNb250aERheSgpO2Vsc2UgaWYodGhpcy5oYXNfYnlfZGF0YSgiQllEQVkiKSl7bGV0IHQ9eC5kYXlzSW5Nb250aCh0aGlzLmxhc3QubW9udGgsdGhpcy5sYXN0LnllYXIpLHM9MCxpPTA7aWYodGhpcy5oYXNfYnlfZGF0YSgiQllTRVRQT1MiKSl7bGV0IG89dGhpcy5sYXN0LmRheTtmb3IobGV0IGE9MTthPD10O2ErKyl0aGlzLmxhc3QuZGF5PWEsdGhpcy5pc19kYXlfaW5fYnlkYXkodGhpcy5sYXN0KSYmKGkrKyxhPD1vJiZzKyspO3RoaXMubGFzdC5kYXk9b31lPTA7bGV0IHI7Zm9yKHI9dGhpcy5sYXN0LmRheSsxO3I8PXQ7cisrKWlmKHRoaXMubGFzdC5kYXk9cix0aGlzLmlzX2RheV9pbl9ieWRheSh0aGlzLmxhc3QpJiYoIXRoaXMuaGFzX2J5X2RhdGEoIkJZU0VUUE9TIil8fHRoaXMuY2hlY2tfc2V0X3Bvc2l0aW9uKCsrcyl8fHRoaXMuY2hlY2tfc2V0X3Bvc2l0aW9uKHMtaS0xKSkpe2U9MTticmVha31yPnQmJih0aGlzLmxhc3QuZGF5PTEsdGhpcy5pbmNyZW1lbnRfbW9udGgoKSx0aGlzLmlzX2RheV9pbl9ieWRheSh0aGlzLmxhc3QpPyghdGhpcy5oYXNfYnlfZGF0YSgiQllTRVRQT1MiKXx8dGhpcy5jaGVja19zZXRfcG9zaXRpb24oMSkpJiYoZT0xKTplPTApfWVsc2UgaWYodGhpcy5oYXNfYnlfZGF0YSgiQllNT05USERBWSIpKXtpZih0aGlzLmJ5X2luZGljZXMuQllNT05USERBWSsrLHRoaXMuYnlfaW5kaWNlcy5CWU1PTlRIREFZPj10aGlzLmJ5X2RhdGEuQllNT05USERBWS5sZW5ndGgmJih0aGlzLmJ5X2luZGljZXMuQllNT05USERBWT0wLHRoaXMuaW5jcmVtZW50X21vbnRoKCksdGhpcy5ieV9pbmRpY2VzLkJZTU9OVEhEQVk+PXRoaXMuYnlfZGF0YS5CWU1PTlRIREFZLmxlbmd0aCkpcmV0dXJuIDA7bGV0IHQ9eC5kYXlzSW5Nb250aCh0aGlzLmxhc3QubW9udGgsdGhpcy5sYXN0LnllYXIpLHM9dGhpcy5ieV9kYXRhLkJZTU9OVEhEQVlbdGhpcy5ieV9pbmRpY2VzLkJZTU9OVEhEQVldO3M8MCYmKHM9dCtzKzEpLHM+dD8odGhpcy5sYXN0LmRheT0xLGU9dGhpcy5pc19kYXlfaW5fYnlkYXkodGhpcy5sYXN0KSk6dGhpcy5sYXN0LmRheT1zfWVsc2V7dGhpcy5pbmNyZW1lbnRfbW9udGgoKTtsZXQgdD14LmRheXNJbk1vbnRoKHRoaXMubGFzdC5tb250aCx0aGlzLmxhc3QueWVhcik7dGhpcy5ieV9kYXRhLkJZTU9OVEhEQVlbMF0+dD9lPTA6dGhpcy5sYXN0LmRheT10aGlzLmJ5X2RhdGEuQllNT05USERBWVswXX1yZXR1cm4gZX1uZXh0X3dlZWtkYXlfYnlfd2Vlaygpe2xldCBlPTA7aWYodGhpcy5uZXh0X2hvdXIoKT09MClyZXR1cm4gZTtpZighdGhpcy5oYXNfYnlfZGF0YSgiQllEQVkiKSlyZXR1cm4gMTtmb3IoOzspe2xldCB0PW5ldyB4O3RoaXMuYnlfaW5kaWNlcy5CWURBWSsrLHRoaXMuYnlfaW5kaWNlcy5CWURBWT09T2JqZWN0LmtleXModGhpcy5ieV9kYXRhLkJZREFZKS5sZW5ndGgmJih0aGlzLmJ5X2luZGljZXMuQllEQVk9MCxlPTEpO2xldCBzPXRoaXMuYnlfZGF0YS5CWURBWVt0aGlzLmJ5X2luZGljZXMuQllEQVldLHI9dGhpcy5ydWxlRGF5T2ZXZWVrKHMpWzFdO3ItPXRoaXMucnVsZS53a3N0LHI8MCYmKHIrPTcpLHQueWVhcj10aGlzLmxhc3QueWVhcix0Lm1vbnRoPXRoaXMubGFzdC5tb250aCx0LmRheT10aGlzLmxhc3QuZGF5O2xldCBvPXQuc3RhcnREb3lXZWVrKHRoaXMucnVsZS53a3N0KTtpZihyK288MSYmIWUpY29udGludWU7bGV0IGE9eC5mcm9tRGF5T2ZZZWFyKG8rcix0aGlzLmxhc3QueWVhcik7cmV0dXJuIHRoaXMubGFzdC55ZWFyPWEueWVhcix0aGlzLmxhc3QubW9udGg9YS5tb250aCx0aGlzLmxhc3QuZGF5PWEuZGF5LGV9fW5leHRfeWVhcigpe2lmKHRoaXMubmV4dF9ob3VyKCk9PTApcmV0dXJuIDA7aWYoKyt0aGlzLmRheXNfaW5kZXg9PXRoaXMuZGF5cy5sZW5ndGgpe3RoaXMuZGF5c19pbmRleD0wO2RvIHRoaXMuaW5jcmVtZW50X3llYXIodGhpcy5ydWxlLmludGVydmFsKSx0aGlzLmhhc19ieV9kYXRhKCJCWU1PTlRIREFZIikmJih0aGlzLmJ5X2RhdGEuQllNT05USERBWT10aGlzLm5vcm1hbGl6ZUJ5TW9udGhEYXlSdWxlcyh0aGlzLmxhc3QueWVhcix0aGlzLmxhc3QubW9udGgsdGhpcy5ydWxlLnBhcnRzLkJZTU9OVEhEQVkpKSx0aGlzLmV4cGFuZF95ZWFyX2RheXModGhpcy5sYXN0LnllYXIpO3doaWxlKHRoaXMuZGF5cy5sZW5ndGg9PTApfXJldHVybiB0aGlzLl9uZXh0QnlZZWFyRGF5KCksMX1fbmV4dEJ5WWVhckRheSgpe2xldCBlPXRoaXMuZGF5c1t0aGlzLmRheXNfaW5kZXhdLHQ9dGhpcy5sYXN0LnllYXI7ZTwxJiYoZSs9MSx0Kz0xKTtsZXQgcz14LmZyb21EYXlPZlllYXIoZSx0KTt0aGlzLmxhc3QuZGF5PXMuZGF5LHRoaXMubGFzdC5tb250aD1zLm1vbnRofXJ1bGVEYXlPZldlZWsoZSx0KXtsZXQgcz1lLm1hdGNoKC8oWystXT9bMC05XSk/KE1PfFRVfFdFfFRIfEZSfFNBfFNVKS8pO2lmKHMpe2xldCBpPXBhcnNlSW50KHNbMV18fDAsMTApO3JldHVybiBlPXplLmljYWxEYXlUb051bWVyaWNEYXkoc1syXSx0KSxbaSxlXX1lbHNlIHJldHVyblswLDBdfW5leHRfZ2VuZXJpYyhlLHQscyxpLHIpe2xldCBvPWUgaW4gdGhpcy5ieV9kYXRhLGE9dGhpcy5ydWxlLmZyZXE9PXQsbD0wO2lmKHImJnRoaXNbcl0oKT09MClyZXR1cm4gbDtpZihvKXt0aGlzLmJ5X2luZGljZXNbZV0rKztsZXQgdT10aGlzLmJ5X2RhdGFbZV07dGhpcy5ieV9pbmRpY2VzW2VdPT11Lmxlbmd0aCYmKHRoaXMuYnlfaW5kaWNlc1tlXT0wLGw9MSksdGhpcy5sYXN0W3NdPXVbdGhpcy5ieV9pbmRpY2VzW2VdXX1lbHNlIGEmJnRoaXNbImluY3JlbWVudF8iK3NdKHRoaXMucnVsZS5pbnRlcnZhbCk7cmV0dXJuIG8mJmwmJmEmJnRoaXNbImluY3JlbWVudF8iK2ldKDEpLGx9aW5jcmVtZW50X21vbnRoZGF5KGUpe2ZvcihsZXQgdD0wO3Q8ZTt0Kyspe2xldCBzPXguZGF5c0luTW9udGgodGhpcy5sYXN0Lm1vbnRoLHRoaXMubGFzdC55ZWFyKTt0aGlzLmxhc3QuZGF5KyssdGhpcy5sYXN0LmRheT5zJiYodGhpcy5sYXN0LmRheS09cyx0aGlzLmluY3JlbWVudF9tb250aCgpKX19aW5jcmVtZW50X21vbnRoKCl7aWYodGhpcy5sYXN0LmRheT0xLHRoaXMuaGFzX2J5X2RhdGEoIkJZTU9OVEgiKSl0aGlzLmJ5X2luZGljZXMuQllNT05USCsrLHRoaXMuYnlfaW5kaWNlcy5CWU1PTlRIPT10aGlzLmJ5X2RhdGEuQllNT05USC5sZW5ndGgmJih0aGlzLmJ5X2luZGljZXMuQllNT05USD0wLHRoaXMuaW5jcmVtZW50X3llYXIoMSkpLHRoaXMubGFzdC5tb250aD10aGlzLmJ5X2RhdGEuQllNT05USFt0aGlzLmJ5X2luZGljZXMuQllNT05USF07ZWxzZXt0aGlzLnJ1bGUuZnJlcT09Ik1PTlRITFkiP3RoaXMubGFzdC5tb250aCs9dGhpcy5ydWxlLmludGVydmFsOnRoaXMubGFzdC5tb250aCsrLHRoaXMubGFzdC5tb250aC0tO2xldCBlPURlKHRoaXMubGFzdC5tb250aC8xMik7dGhpcy5sYXN0Lm1vbnRoJT0xMix0aGlzLmxhc3QubW9udGgrKyxlIT0wJiZ0aGlzLmluY3JlbWVudF95ZWFyKGUpfXRoaXMuaGFzX2J5X2RhdGEoIkJZTU9OVEhEQVkiKSYmKHRoaXMuYnlfZGF0YS5CWU1PTlRIREFZPXRoaXMubm9ybWFsaXplQnlNb250aERheVJ1bGVzKHRoaXMubGFzdC55ZWFyLHRoaXMubGFzdC5tb250aCx0aGlzLnJ1bGUucGFydHMuQllNT05USERBWSkpfWluY3JlbWVudF95ZWFyKGUpe3RoaXMubGFzdC5kYXk9MSx0aGlzLmxhc3QueWVhcis9ZX1pbmNyZW1lbnRfZ2VuZXJpYyhlLHQscyxpKXt0aGlzLmxhc3RbdF0rPWU7bGV0IHI9RGUodGhpcy5sYXN0W3RdL3MpO3RoaXMubGFzdFt0XSU9cyxyIT0wJiZ0aGlzWyJpbmNyZW1lbnRfIitpXShyKX1oYXNfYnlfZGF0YShlKXtyZXR1cm4gZSBpbiB0aGlzLnJ1bGUucGFydHN9ZXhwYW5kX3llYXJfZGF5cyhlKXtsZXQgdD1uZXcgeDt0aGlzLmRheXM9W107bGV0IHM9e30saT1bIkJZREFZIiwiQllXRUVLTk8iLCJCWU1PTlRIREFZIiwiQllNT05USCIsIkJZWUVBUkRBWSJdO2ZvcihsZXQgYSBvZiBpKWEgaW4gdGhpcy5ydWxlLnBhcnRzJiYoc1thXT10aGlzLnJ1bGUucGFydHNbYV0pO2lmKCJCWU1PTlRIImluIHMmJiJCWVdFRUtOTyJpbiBzKXtsZXQgYT0xLGw9e307dC55ZWFyPWUsdC5pc0RhdGU9ITA7Zm9yKGxldCB1PTA7dTx0aGlzLmJ5X2RhdGEuQllNT05USC5sZW5ndGg7dSsrKXtsZXQgaD10aGlzLmJ5X2RhdGEuQllNT05USFt1XTt0Lm1vbnRoPWgsdC5kYXk9MTtsZXQgYz10LndlZWtOdW1iZXIodGhpcy5ydWxlLndrc3QpO3QuZGF5PXguZGF5c0luTW9udGgoaCxlKTtsZXQgbT10LndlZWtOdW1iZXIodGhpcy5ydWxlLndrc3QpO2Zvcih1PWM7dTxtO3UrKylsW3VdPTF9Zm9yKGxldCB1PTA7dTx0aGlzLmJ5X2RhdGEuQllXRUVLTk8ubGVuZ3RoJiZhO3UrKyl0aGlzLmJ5X2RhdGEuQllXRUVLTk9bdV08NTI/YSY9bFt1XTphPTA7YT9kZWxldGUgcy5CWU1PTlRIOmRlbGV0ZSBzLkJZV0VFS05PfWxldCByPU9iamVjdC5rZXlzKHMpLmxlbmd0aDtpZihyPT0wKXtsZXQgYT10aGlzLmR0c3RhcnQuY2xvbmUoKTthLnllYXI9dGhpcy5sYXN0LnllYXIsdGhpcy5kYXlzLnB1c2goYS5kYXlPZlllYXIoKSl9ZWxzZSBpZihyPT0xJiYiQllNT05USCJpbiBzKWZvcihsZXQgYSBvZiB0aGlzLmJ5X2RhdGEuQllNT05USCl7bGV0IGw9dGhpcy5kdHN0YXJ0LmNsb25lKCk7bC55ZWFyPWUsbC5tb250aD1hLGwuaXNEYXRlPSEwLHRoaXMuZGF5cy5wdXNoKGwuZGF5T2ZZZWFyKCkpfWVsc2UgaWYocj09MSYmIkJZTU9OVEhEQVkiaW4gcylmb3IobGV0IGEgb2YgdGhpcy5ieV9kYXRhLkJZTU9OVEhEQVkpe2xldCBsPXRoaXMuZHRzdGFydC5jbG9uZSgpO2lmKGE8MCl7bGV0IHU9eC5kYXlzSW5Nb250aChsLm1vbnRoLGUpO2E9YSt1KzF9bC5kYXk9YSxsLnllYXI9ZSxsLmlzRGF0ZT0hMCx0aGlzLmRheXMucHVzaChsLmRheU9mWWVhcigpKX1lbHNlIGlmKHI9PTImJiJCWU1PTlRIREFZImluIHMmJiJCWU1PTlRIImluIHMpZm9yKGxldCBhIG9mIHRoaXMuYnlfZGF0YS5CWU1PTlRIKXtsZXQgbD14LmRheXNJbk1vbnRoKGEsZSk7Zm9yKGxldCB1IG9mIHRoaXMuYnlfZGF0YS5CWU1PTlRIREFZKXU8MCYmKHU9dStsKzEpLHQuZGF5PXUsdC5tb250aD1hLHQueWVhcj1lLHQuaXNEYXRlPSEwLHRoaXMuZGF5cy5wdXNoKHQuZGF5T2ZZZWFyKCkpfWVsc2UgaWYoIShyPT0xJiYiQllXRUVLTk8iaW4gcykpe2lmKCEocj09MiYmIkJZV0VFS05PImluIHMmJiJCWU1PTlRIREFZImluIHMpKWlmKHI9PTEmJiJCWURBWSJpbiBzKXRoaXMuZGF5cz10aGlzLmRheXMuY29uY2F0KHRoaXMuZXhwYW5kX2J5X2RheShlKSk7ZWxzZSBpZihyPT0yJiYiQllEQVkiaW4gcyYmIkJZTU9OVEgiaW4gcyl7Zm9yKGxldCBhIG9mIHRoaXMuYnlfZGF0YS5CWU1PTlRIKXtsZXQgbD14LmRheXNJbk1vbnRoKGEsZSk7dC55ZWFyPWUsdC5tb250aD1hLHQuZGF5PTEsdC5pc0RhdGU9ITA7bGV0IHU9dC5kYXlPZldlZWsoKSxoPXQuZGF5T2ZZZWFyKCktMTt0LmRheT1sO2xldCBjPXQuZGF5T2ZXZWVrKCk7aWYodGhpcy5oYXNfYnlfZGF0YSgiQllTRVRQT1MiKSl7bGV0IG09W107Zm9yKGxldCBmPTE7Zjw9bDtmKyspdC5kYXk9Zix0aGlzLmlzX2RheV9pbl9ieWRheSh0KSYmbS5wdXNoKGYpO2ZvcihsZXQgZj0wO2Y8bS5sZW5ndGg7ZisrKSh0aGlzLmNoZWNrX3NldF9wb3NpdGlvbihmKzEpfHx0aGlzLmNoZWNrX3NldF9wb3NpdGlvbihmLW0ubGVuZ3RoKSkmJnRoaXMuZGF5cy5wdXNoKGgrbVtmXSl9ZWxzZSBmb3IobGV0IG0gb2YgdGhpcy5ieV9kYXRhLkJZREFZKXtsZXQgZj10aGlzLnJ1bGVEYXlPZldlZWsobSksZz1mWzBdLGQ9ZlsxXSx5LHc9KGQrNy11KSU3KzEsYj1sLShjKzctZCklNztpZihnPT0wKWZvcihsZXQgaz13O2s8PWw7ays9Nyl0aGlzLmRheXMucHVzaChoK2spO2Vsc2UgZz4wPyh5PXcrKGctMSkqNyx5PD1sJiZ0aGlzLmRheXMucHVzaChoK3kpKTooeT1iKyhnKzEpKjcseT4wJiZ0aGlzLmRheXMucHVzaChoK3kpKX19dGhpcy5kYXlzLnNvcnQoZnVuY3Rpb24oYSxsKXtyZXR1cm4gYS1sfSl9ZWxzZSBpZihyPT0yJiYiQllEQVkiaW4gcyYmIkJZTU9OVEhEQVkiaW4gcyl7bGV0IGE9dGhpcy5leHBhbmRfYnlfZGF5KGUpO2ZvcihsZXQgbCBvZiBhKXtsZXQgdT14LmZyb21EYXlPZlllYXIobCxlKTt0aGlzLmJ5X2RhdGEuQllNT05USERBWS5pbmRleE9mKHUuZGF5KT49MCYmdGhpcy5kYXlzLnB1c2gobCl9fWVsc2UgaWYocj09MyYmIkJZREFZImluIHMmJiJCWU1PTlRIREFZImluIHMmJiJCWU1PTlRIImluIHMpe2xldCBhPXRoaXMuZXhwYW5kX2J5X2RheShlKTtmb3IobGV0IGwgb2YgYSl7bGV0IHU9eC5mcm9tRGF5T2ZZZWFyKGwsZSk7dGhpcy5ieV9kYXRhLkJZTU9OVEguaW5kZXhPZih1Lm1vbnRoKT49MCYmdGhpcy5ieV9kYXRhLkJZTU9OVEhEQVkuaW5kZXhPZih1LmRheSk+PTAmJnRoaXMuZGF5cy5wdXNoKGwpfX1lbHNlIGlmKHI9PTImJiJCWURBWSJpbiBzJiYiQllXRUVLTk8iaW4gcyl7bGV0IGE9dGhpcy5leHBhbmRfYnlfZGF5KGUpO2ZvcihsZXQgbCBvZiBhKXtsZXQgaD14LmZyb21EYXlPZlllYXIobCxlKS53ZWVrTnVtYmVyKHRoaXMucnVsZS53a3N0KTt0aGlzLmJ5X2RhdGEuQllXRUVLTk8uaW5kZXhPZihoKSYmdGhpcy5kYXlzLnB1c2gobCl9fWVsc2Ugcj09MyYmIkJZREFZImluIHMmJiJCWVdFRUtOTyJpbiBzJiYiQllNT05USERBWSJpbiBzfHwocj09MSYmIkJZWUVBUkRBWSJpbiBzP3RoaXMuZGF5cz10aGlzLmRheXMuY29uY2F0KHRoaXMuYnlfZGF0YS5CWVlFQVJEQVkpOnRoaXMuZGF5cz1bXSl9bGV0IG89eC5pc0xlYXBZZWFyKGUpPzM2NjozNjU7cmV0dXJuIHRoaXMuZGF5cy5zb3J0KChhLGwpPT4oYTwwJiYoYSs9bysxKSxsPDAmJihsKz1vKzEpLGEtbCkpLDB9ZXhwYW5kX2J5X2RheShlKXtsZXQgdD1bXSxzPXRoaXMubGFzdC5jbG9uZSgpO3MueWVhcj1lLHMubW9udGg9MSxzLmRheT0xLHMuaXNEYXRlPSEwO2xldCBpPXMuZGF5T2ZXZWVrKCk7cy5tb250aD0xMixzLmRheT0zMSxzLmlzRGF0ZT0hMDtsZXQgcj1zLmRheU9mV2VlaygpLG89cy5kYXlPZlllYXIoKTtmb3IobGV0IGEgb2YgdGhpcy5ieV9kYXRhLkJZREFZKXtsZXQgbD10aGlzLnJ1bGVEYXlPZldlZWsoYSksdT1sWzBdLGg9bFsxXTtpZih1PT0wKXtsZXQgYz0oaCs3LWkpJTcrMTtmb3IobGV0IG09YzttPD1vO20rPTcpdC5wdXNoKG0pfWVsc2UgaWYodT4wKXtsZXQgYztoPj1pP2M9aC1pKzE6Yz1oLWkrOCx0LnB1c2goYysodS0xKSo3KX1lbHNle2xldCBjO3U9LXUsaDw9cj9jPW8tcitoOmM9by1yK2gtNyx0LnB1c2goYy0odS0xKSo3KX19cmV0dXJuIHR9aXNfZGF5X2luX2J5ZGF5KGUpe2lmKHRoaXMuYnlfZGF0YS5CWURBWSlmb3IobGV0IHQgb2YgdGhpcy5ieV9kYXRhLkJZREFZKXtsZXQgcz10aGlzLnJ1bGVEYXlPZldlZWsodCksaT1zWzBdLHI9c1sxXSxvPWUuZGF5T2ZXZWVrKCk7aWYoaT09MCYmcj09b3x8ZS5udGhXZWVrRGF5KHIsaSk9PWUuZGF5KXJldHVybiAxfXJldHVybiAwfWNoZWNrX3NldF9wb3NpdGlvbihlKXtyZXR1cm4gdGhpcy5oYXNfYnlfZGF0YSgiQllTRVRQT1MiKT90aGlzLmJ5X2RhdGEuQllTRVRQT1MuaW5kZXhPZihlKSE9PS0xOiExfXNvcnRfYnlkYXlfcnVsZXMoZSl7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspZm9yKGxldCBzPTA7czx0O3MrKyl7bGV0IGk9dGhpcy5ydWxlRGF5T2ZXZWVrKGVbc10sdGhpcy5ydWxlLndrc3QpWzFdLHI9dGhpcy5ydWxlRGF5T2ZXZWVrKGVbdF0sdGhpcy5ydWxlLndrc3QpWzFdO2lmKGk+cil7bGV0IG89ZVt0XTtlW3RdPWVbc10sZVtzXT1vfX19Y2hlY2tfY29udHJhY3RfcmVzdHJpY3Rpb24oZSx0KXtsZXQgcz1KZS5faW5kZXhNYXBbZV0saT1KZS5fZXhwYW5kTWFwW3RoaXMucnVsZS5mcmVxXVtzXSxyPSExO2lmKGUgaW4gdGhpcy5ieV9kYXRhJiZpPT1KZS5DT05UUkFDVCl7bGV0IG89dGhpcy5ieV9kYXRhW2VdO2ZvcihsZXQgYSBvZiBvKWlmKGE9PXQpe3I9ITA7YnJlYWt9fWVsc2Ugcj0hMDtyZXR1cm4gcn1jaGVja19jb250cmFjdGluZ19ydWxlcygpe2xldCBlPXRoaXMubGFzdC5kYXlPZldlZWsoKSx0PXRoaXMubGFzdC53ZWVrTnVtYmVyKHRoaXMucnVsZS53a3N0KSxzPXRoaXMubGFzdC5kYXlPZlllYXIoKTtyZXR1cm4gdGhpcy5jaGVja19jb250cmFjdF9yZXN0cmljdGlvbigiQllTRUNPTkQiLHRoaXMubGFzdC5zZWNvbmQpJiZ0aGlzLmNoZWNrX2NvbnRyYWN0X3Jlc3RyaWN0aW9uKCJCWU1JTlVURSIsdGhpcy5sYXN0Lm1pbnV0ZSkmJnRoaXMuY2hlY2tfY29udHJhY3RfcmVzdHJpY3Rpb24oIkJZSE9VUiIsdGhpcy5sYXN0LmhvdXIpJiZ0aGlzLmNoZWNrX2NvbnRyYWN0X3Jlc3RyaWN0aW9uKCJCWURBWSIsemUubnVtZXJpY0RheVRvSWNhbERheShlKSkmJnRoaXMuY2hlY2tfY29udHJhY3RfcmVzdHJpY3Rpb24oIkJZV0VFS05PIix0KSYmdGhpcy5jaGVja19jb250cmFjdF9yZXN0cmljdGlvbigiQllNT05USERBWSIsdGhpcy5sYXN0LmRheSkmJnRoaXMuY2hlY2tfY29udHJhY3RfcmVzdHJpY3Rpb24oIkJZTU9OVEgiLHRoaXMubGFzdC5tb250aCkmJnRoaXMuY2hlY2tfY29udHJhY3RfcmVzdHJpY3Rpb24oIkJZWUVBUkRBWSIscyl9c2V0dXBfZGVmYXVsdHMoZSx0LHMpe2xldCBpPUplLl9pbmRleE1hcFtlXTtyZXR1cm4gSmUuX2V4cGFuZE1hcFt0aGlzLnJ1bGUuZnJlcV1baV0hPUplLkNPTlRSQUNUJiYoZSBpbiB0aGlzLmJ5X2RhdGF8fCh0aGlzLmJ5X2RhdGFbZV09W3NdKSx0aGlzLnJ1bGUuZnJlcSE9dCk/dGhpcy5ieV9kYXRhW2VdWzBdOnN9dG9KU09OKCl7bGV0IGU9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gZS5pbml0aWFsaXplZD10aGlzLmluaXRpYWxpemVkLGUucnVsZT10aGlzLnJ1bGUudG9KU09OKCksZS5kdHN0YXJ0PXRoaXMuZHRzdGFydC50b0pTT04oKSxlLmJ5X2RhdGE9dGhpcy5ieV9kYXRhLGUuZGF5cz10aGlzLmRheXMsZS5sYXN0PXRoaXMubGFzdC50b0pTT04oKSxlLmJ5X2luZGljZXM9dGhpcy5ieV9pbmRpY2VzLGUub2NjdXJyZW5jZV9udW1iZXI9dGhpcy5vY2N1cnJlbmNlX251bWJlcixlfX07VChKZSwiX2luZGV4TWFwIix7QllTRUNPTkQ6MCxCWU1JTlVURToxLEJZSE9VUjoyLEJZREFZOjMsQllNT05USERBWTo0LEJZWUVBUkRBWTo1LEJZV0VFS05POjYsQllNT05USDo3LEJZU0VUUE9TOjh9KSxUKEplLCJfZXhwYW5kTWFwIix7U0VDT05ETFk6WzEsMSwxLDEsMSwxLDEsMV0sTUlOVVRFTFk6WzIsMSwxLDEsMSwxLDEsMV0sSE9VUkxZOlsyLDIsMSwxLDEsMSwxLDFdLERBSUxZOlsyLDIsMiwxLDEsMSwxLDFdLFdFRUtMWTpbMiwyLDIsMiwzLDMsMSwxXSxNT05USExZOlsyLDIsMiwyLDIsMywzLDFdLFlFQVJMWTpbMiwyLDIsMiwyLDIsMiwyXX0pLFQoSmUsIlVOS05PV04iLDApLFQoSmUsIkNPTlRSQUNUIiwxKSxUKEplLCJFWFBBTkQiLDIpLFQoSmUsIklMTEVHQUwiLDMpO2xldCBhaT1KZTtjbGFzcyByaCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoIlJlY3VycmVuY2UgcnVsZSBoYXMgbm8gdmFsaWQgb2NjdXJyZW5jZXMiKX19Y29uc3QgQjA9L14oU1V8TU98VFV8V0V8VEh8RlJ8U0EpJC8sVzA9L14oWystXSk/KDVbMC0zXXxbMS00XVswLTldfFsxLTldKT8oU1V8TU98VFV8V0V8VEh8RlJ8U0EpJC8sb2g9e1NVOnguU1VOREFZLE1POnguTU9OREFZLFRVOnguVFVFU0RBWSxXRTp4LldFRE5FU0RBWSxUSDp4LlRIVVJTREFZLEZSOnguRlJJREFZLFNBOnguU0FUVVJEQVl9LEgwPU9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhvaCkubWFwKG49Pm4ucmV2ZXJzZSgpKSksYWg9WyJTRUNPTkRMWSIsIk1JTlVURUxZIiwiSE9VUkxZIiwiREFJTFkiLCJXRUVLTFkiLCJNT05USExZIiwiWUVBUkxZIl07Y2xhc3MgemV7Y29uc3RydWN0b3IoZSl7VCh0aGlzLCJwYXJ0cyIsbnVsbCk7VCh0aGlzLCJpbnRlcnZhbCIsMSk7VCh0aGlzLCJ3a3N0Iix4Lk1PTkRBWSk7VCh0aGlzLCJ1bnRpbCIsbnVsbCk7VCh0aGlzLCJjb3VudCIsbnVsbCk7VCh0aGlzLCJmcmVxIixudWxsKTtUKHRoaXMsImljYWxjbGFzcyIsImljYWxyZWN1ciIpO1QodGhpcywiaWNhbHR5cGUiLCJyZWN1ciIpO3RoaXMud3JhcHBlZEpTT2JqZWN0PXRoaXMsdGhpcy5wYXJ0cz17fSxlJiZ0eXBlb2YgZT09Im9iamVjdCImJnRoaXMuZnJvbURhdGEoZSl9c3RhdGljIGZyb21TdHJpbmcoZSl7bGV0IHQ9dGhpcy5fc3RyaW5nVG9EYXRhKGUsITEpO3JldHVybiBuZXcgemUodCl9c3RhdGljIGZyb21EYXRhKGUpe3JldHVybiBuZXcgemUoZSl9c3RhdGljIF9zdHJpbmdUb0RhdGEoZSx0KXtsZXQgcz1PYmplY3QuY3JlYXRlKG51bGwpLGk9ZS5zcGxpdCgiOyIpLHI9aS5sZW5ndGg7Zm9yKGxldCBvPTA7bzxyO28rKyl7bGV0IGE9aVtvXS5zcGxpdCgiPSIpLGw9YVswXS50b1VwcGVyQ2FzZSgpLHU9YVswXS50b0xvd2VyQ2FzZSgpLGg9dD91OmwsYz1hWzFdO2lmKGwgaW4gZmEpe2xldCBtPWMuc3BsaXQoIiwiKSxmPW5ldyBTZXQ7Zm9yKGxldCBnIG9mIG0pZi5hZGQoZmFbbF0oZykpO209Wy4uLmZdLHNbaF09bS5sZW5ndGg9PTE/bVswXTptfWVsc2UgbCBpbiBoYT9oYVtsXShjLHMsdCk6c1t1XT1jfXJldHVybiBzfXN0YXRpYyBpY2FsRGF5VG9OdW1lcmljRGF5KGUsdCl7bGV0IHM9dHx8eC5TVU5EQVk7cmV0dXJuKG9oW2VdLXMrNyklNysxfXN0YXRpYyBudW1lcmljRGF5VG9JY2FsRGF5KGUsdCl7bGV0IHM9dHx8eC5TVU5EQVksaT1lK3MteC5TVU5EQVk7cmV0dXJuIGk+NyYmKGktPTcpLEgwW2ldfWl0ZXJhdG9yKGUpe3JldHVybiBuZXcgYWkoe3J1bGU6dGhpcyxkdHN0YXJ0OmV9KX1jbG9uZSgpe3JldHVybiBuZXcgemUodGhpcy50b0pTT04oKSl9aXNGaW5pdGUoKXtyZXR1cm4hISh0aGlzLmNvdW50fHx0aGlzLnVudGlsKX1pc0J5Q291bnQoKXtyZXR1cm4hISh0aGlzLmNvdW50JiYhdGhpcy51bnRpbCl9YWRkQ29tcG9uZW50KGUsdCl7bGV0IHM9ZS50b1VwcGVyQ2FzZSgpO3MgaW4gdGhpcy5wYXJ0cz90aGlzLnBhcnRzW3NdLnB1c2godCk6dGhpcy5wYXJ0c1tzXT1bdF19c2V0Q29tcG9uZW50KGUsdCl7dGhpcy5wYXJ0c1tlLnRvVXBwZXJDYXNlKCldPXQuc2xpY2UoKX1nZXRDb21wb25lbnQoZSl7bGV0IHQ9ZS50b1VwcGVyQ2FzZSgpO3JldHVybiB0IGluIHRoaXMucGFydHM/dGhpcy5wYXJ0c1t0XS5zbGljZSgpOltdfWdldE5leHRPY2N1cnJlbmNlKGUsdCl7bGV0IHM9dGhpcy5pdGVyYXRvcihlKSxpO2RvIGk9cy5uZXh0KCk7d2hpbGUoaSYmaS5jb21wYXJlKHQpPD0wKTtyZXR1cm4gaSYmdC56b25lJiYoaS56b25lPXQuem9uZSksaX1mcm9tRGF0YShlKXtmb3IobGV0IHQgaW4gZSl7bGV0IHM9dC50b1VwcGVyQ2FzZSgpO3MgaW4gZmE/QXJyYXkuaXNBcnJheShlW3RdKT90aGlzLnBhcnRzW3NdPWVbdF06dGhpcy5wYXJ0c1tzXT1bZVt0XV06dGhpc1t0XT1lW3RdfXRoaXMuaW50ZXJ2YWwmJnR5cGVvZiB0aGlzLmludGVydmFsIT0ibnVtYmVyIiYmaGEuSU5URVJWQUwodGhpcy5pbnRlcnZhbCx0aGlzKSx0aGlzLndrc3QmJnR5cGVvZiB0aGlzLndrc3QhPSJudW1iZXIiJiYodGhpcy53a3N0PXplLmljYWxEYXlUb051bWVyaWNEYXkodGhpcy53a3N0KSksdGhpcy51bnRpbCYmISh0aGlzLnVudGlsIGluc3RhbmNlb2YgeCkmJih0aGlzLnVudGlsPXguZnJvbVN0cmluZyh0aGlzLnVudGlsKSl9dG9KU09OKCl7bGV0IGU9T2JqZWN0LmNyZWF0ZShudWxsKTtlLmZyZXE9dGhpcy5mcmVxLHRoaXMuY291bnQmJihlLmNvdW50PXRoaXMuY291bnQpLHRoaXMuaW50ZXJ2YWw+MSYmKGUuaW50ZXJ2YWw9dGhpcy5pbnRlcnZhbCk7Zm9yKGxldFt0LHNdb2YgT2JqZWN0LmVudHJpZXModGhpcy5wYXJ0cykpQXJyYXkuaXNBcnJheShzKSYmcy5sZW5ndGg9PTE/ZVt0LnRvTG93ZXJDYXNlKCldPXNbMF06ZVt0LnRvTG93ZXJDYXNlKCldPXhzKHMpO3JldHVybiB0aGlzLnVudGlsJiYoZS51bnRpbD10aGlzLnVudGlsLnRvU3RyaW5nKCkpLCJ3a3N0ImluIHRoaXMmJnRoaXMud2tzdCE9PXguREVGQVVMVF9XRUVLX1NUQVJUJiYoZS53a3N0PXplLm51bWVyaWNEYXlUb0ljYWxEYXkodGhpcy53a3N0KSksZX10b1N0cmluZygpe2xldCBlPSJGUkVRPSIrdGhpcy5mcmVxO3RoaXMuY291bnQmJihlKz0iO0NPVU5UPSIrdGhpcy5jb3VudCksdGhpcy5pbnRlcnZhbD4xJiYoZSs9IjtJTlRFUlZBTD0iK3RoaXMuaW50ZXJ2YWwpO2ZvcihsZXRbdCxzXW9mIE9iamVjdC5lbnRyaWVzKHRoaXMucGFydHMpKWUrPSI7Iit0KyI9IitzO3JldHVybiB0aGlzLnVudGlsJiYoZSs9IjtVTlRJTD0iK3RoaXMudW50aWwudG9JQ0FMU3RyaW5nKCkpLCJ3a3N0ImluIHRoaXMmJnRoaXMud2tzdCE9PXguREVGQVVMVF9XRUVLX1NUQVJUJiYoZSs9IjtXS1NUPSIremUubnVtZXJpY0RheVRvSWNhbERheSh0aGlzLndrc3QpKSxlfX1mdW5jdGlvbiBmcyhuLGUsdCxzKXtsZXQgaT1zO2lmKHNbMF09PT0iKyImJihpPXMuc2xpY2UoMSkpLGk9RmUoaSksZSE9PXZvaWQgMCYmczxlKXRocm93IG5ldyBFcnJvcihuKyc6IGludmFsaWQgdmFsdWUgIicrcysnIiBtdXN0IGJlID4gJytlKTtpZih0IT09dm9pZCAwJiZzPnQpdGhyb3cgbmV3IEVycm9yKG4rJzogaW52YWxpZCB2YWx1ZSAiJytzKyciIG11c3QgYmUgPCAnK2UpO3JldHVybiBpfWNvbnN0IGhhPXtGUkVROmZ1bmN0aW9uKG4sZSx0KXtpZihhaC5pbmRleE9mKG4pIT09LTEpZS5mcmVxPW47ZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZnJlcXVlbmN5ICInK24rJyIgZXhwZWN0ZWQ6ICInK2FoLmpvaW4oIiwgIikrJyInKX0sQ09VTlQ6ZnVuY3Rpb24obixlLHQpe2UuY291bnQ9RmUobil9LElOVEVSVkFMOmZ1bmN0aW9uKG4sZSx0KXtlLmludGVydmFsPUZlKG4pLGUuaW50ZXJ2YWw8MSYmKGUuaW50ZXJ2YWw9MSl9LFVOVElMOmZ1bmN0aW9uKG4sZSx0KXtuLmxlbmd0aD4xMD9lLnVudGlsPU1lLmljYWxlbmRhci52YWx1ZVsiZGF0ZS10aW1lIl0uZnJvbUlDQUwobik6ZS51bnRpbD1NZS5pY2FsZW5kYXIudmFsdWUuZGF0ZS5mcm9tSUNBTChuKSx0fHwoZS51bnRpbD14LmZyb21TdHJpbmcoZS51bnRpbCkpfSxXS1NUOmZ1bmN0aW9uKG4sZSx0KXtpZihCMC50ZXN0KG4pKWUud2tzdD16ZS5pY2FsRGF5VG9OdW1lcmljRGF5KG4pO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIFdLU1QgdmFsdWUgIicrbisnIicpfX0sZmE9e0JZU0VDT05EOmZzLmJpbmQodm9pZCAwLCJCWVNFQ09ORCIsMCw2MCksQllNSU5VVEU6ZnMuYmluZCh2b2lkIDAsIkJZTUlOVVRFIiwwLDU5KSxCWUhPVVI6ZnMuYmluZCh2b2lkIDAsIkJZSE9VUiIsMCwyMyksQllEQVk6ZnVuY3Rpb24obil7aWYoVzAudGVzdChuKSlyZXR1cm4gbjt0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgQllEQVkgdmFsdWUgIicrbisnIicpfSxCWU1PTlRIREFZOmZzLmJpbmQodm9pZCAwLCJCWU1PTlRIREFZIiwtMzEsMzEpLEJZWUVBUkRBWTpmcy5iaW5kKHZvaWQgMCwiQllZRUFSREFZIiwtMzY2LDM2NiksQllXRUVLTk86ZnMuYmluZCh2b2lkIDAsIkJZV0VFS05PIiwtNTMsNTMpLEJZTU9OVEg6ZnMuYmluZCh2b2lkIDAsIkJZTU9OVEgiLDEsMTIpLEJZU0VUUE9TOmZzLmJpbmQodm9pZCAwLCJCWVNFVFBPUyIsLTM2NiwzNjYpfTtjbGFzcyBkc3tjb25zdHJ1Y3RvcihlKXtUKHRoaXMsInN0YXJ0IixudWxsKTtUKHRoaXMsImVuZCIsbnVsbCk7VCh0aGlzLCJkdXJhdGlvbiIsbnVsbCk7VCh0aGlzLCJpY2FsY2xhc3MiLCJpY2FscGVyaW9kIik7VCh0aGlzLCJpY2FsdHlwZSIsInBlcmlvZCIpO2lmKHRoaXMud3JhcHBlZEpTT2JqZWN0PXRoaXMsZSYmInN0YXJ0ImluIGUpe2lmKGUuc3RhcnQmJiEoZS5zdGFydCBpbnN0YW5jZW9mIHgpKXRocm93IG5ldyBUeXBlRXJyb3IoIi5zdGFydCBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIElDQUwuVGltZSIpO3RoaXMuc3RhcnQ9ZS5zdGFydH1pZihlJiZlLmVuZCYmZS5kdXJhdGlvbil0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCBhY2NlcHQgYm90aCBlbmQgYW5kIGR1cmF0aW9uIik7aWYoZSYmImVuZCJpbiBlKXtpZihlLmVuZCYmIShlLmVuZCBpbnN0YW5jZW9mIHgpKXRocm93IG5ldyBUeXBlRXJyb3IoIi5lbmQgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBJQ0FMLlRpbWUiKTt0aGlzLmVuZD1lLmVuZH1pZihlJiYiZHVyYXRpb24iaW4gZSl7aWYoZS5kdXJhdGlvbiYmIShlLmR1cmF0aW9uIGluc3RhbmNlb2YgVWUpKXRocm93IG5ldyBUeXBlRXJyb3IoIi5kdXJhdGlvbiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIElDQUwuRHVyYXRpb24iKTt0aGlzLmR1cmF0aW9uPWUuZHVyYXRpb259fXN0YXRpYyBmcm9tU3RyaW5nKGUsdCl7bGV0IHM9ZS5zcGxpdCgiLyIpO2lmKHMubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nIHZhbHVlOiAiJytlKyciIG11c3QgY29udGFpbiBhICIvIiBjaGFyLicpO2xldCBpPXtzdGFydDp4LmZyb21EYXRlVGltZVN0cmluZyhzWzBdLHQpfSxyPXNbMV07cmV0dXJuIFVlLmlzVmFsdWVTdHJpbmcocik/aS5kdXJhdGlvbj1VZS5mcm9tU3RyaW5nKHIpOmkuZW5kPXguZnJvbURhdGVUaW1lU3RyaW5nKHIsdCksbmV3IGRzKGkpfXN0YXRpYyBmcm9tRGF0YShlKXtyZXR1cm4gbmV3IGRzKGUpfXN0YXRpYyBmcm9tSlNPTihlLHQscyl7ZnVuY3Rpb24gaShyLG8pe3JldHVybiBzP3guZnJvbVN0cmluZyhyLG8pOnguZnJvbURhdGVUaW1lU3RyaW5nKHIsbyl9cmV0dXJuIFVlLmlzVmFsdWVTdHJpbmcoZVsxXSk/ZHMuZnJvbURhdGEoe3N0YXJ0OmkoZVswXSx0KSxkdXJhdGlvbjpVZS5mcm9tU3RyaW5nKGVbMV0pfSk6ZHMuZnJvbURhdGEoe3N0YXJ0OmkoZVswXSx0KSxlbmQ6aShlWzFdLHQpfSl9Y2xvbmUoKXtyZXR1cm4gZHMuZnJvbURhdGEoe3N0YXJ0OnRoaXMuc3RhcnQ/dGhpcy5zdGFydC5jbG9uZSgpOm51bGwsZW5kOnRoaXMuZW5kP3RoaXMuZW5kLmNsb25lKCk6bnVsbCxkdXJhdGlvbjp0aGlzLmR1cmF0aW9uP3RoaXMuZHVyYXRpb24uY2xvbmUoKTpudWxsfSl9Z2V0RHVyYXRpb24oKXtyZXR1cm4gdGhpcy5kdXJhdGlvbj90aGlzLmR1cmF0aW9uOnRoaXMuZW5kLnN1YnRyYWN0RGF0ZSh0aGlzLnN0YXJ0KX1nZXRFbmQoKXtpZih0aGlzLmVuZClyZXR1cm4gdGhpcy5lbmQ7e2xldCBlPXRoaXMuc3RhcnQuY2xvbmUoKTtyZXR1cm4gZS5hZGREdXJhdGlvbih0aGlzLmR1cmF0aW9uKSxlfX10b1N0cmluZygpe3JldHVybiB0aGlzLnN0YXJ0KyIvIisodGhpcy5lbmR8fHRoaXMuZHVyYXRpb24pfXRvSlNPTigpe3JldHVyblt0aGlzLnN0YXJ0LnRvU3RyaW5nKCksKHRoaXMuZW5kfHx0aGlzLmR1cmF0aW9uKS50b1N0cmluZygpXX10b0lDQUxTdHJpbmcoKXtyZXR1cm4gdGhpcy5zdGFydC50b0lDQUxTdHJpbmcoKSsiLyIrKHRoaXMuZW5kfHx0aGlzLmR1cmF0aW9uKS50b0lDQUxTdHJpbmcoKX19Y29uc3QgVjA9L1xcXFx8XFw7fFxcLHxcXFtObl0vZyxqMD0vXFx8O3wsfFxuL2csbGg9L1xcXFx8XFwsfFxcW05uXS9nLHVoPS9cXHwsfFxuL2c7ZnVuY3Rpb24gZGEobixlKXtyZXR1cm57bWF0Y2hlczovLiovLGZyb21JQ0FMOmZ1bmN0aW9uKHMsaSl7cmV0dXJuIEswKHMsbixpKX0sdG9JQ0FMOmZ1bmN0aW9uKHMsaSl7bGV0IHI9ZTtyZXR1cm4gaSYmKHI9bmV3IFJlZ0V4cChyLnNvdXJjZSsifCIraSxyLmZsYWdzKSkscy5yZXBsYWNlKHIsZnVuY3Rpb24obyl7c3dpdGNoKG8pe2Nhc2UiXFwiOnJldHVybiJcXFxcIjtjYXNlIjsiOnJldHVybiJcXDsiO2Nhc2UiLCI6cmV0dXJuIlxcLCI7Y2FzZWAKYDpyZXR1cm4iXFxuIjtkZWZhdWx0OnJldHVybiBvfX0pfX19Y29uc3QgcT17ZGVmYXVsdFR5cGU6InRleHQifSxsaT17ZGVmYXVsdFR5cGU6InRleHQiLG11bHRpVmFsdWU6IiwifSx3cj17ZGVmYXVsdFR5cGU6InRleHQiLHN0cnVjdHVyZWRWYWx1ZToiOyJ9LGJyPXtkZWZhdWx0VHlwZToiaW50ZWdlciJ9LFRyPXtkZWZhdWx0VHlwZToiZGF0ZS10aW1lIixhbGxvd2VkVHlwZXM6WyJkYXRlLXRpbWUiLCJkYXRlIl19LGtyPXtkZWZhdWx0VHlwZToiZGF0ZS10aW1lIn0sR2U9e2RlZmF1bHRUeXBlOiJ1cmkifSxjaD17ZGVmYXVsdFR5cGU6InV0Yy1vZmZzZXQifSxoaD17ZGVmYXVsdFR5cGU6InJlY3VyIn0sZmg9e2RlZmF1bHRUeXBlOiJkYXRlLWFuZC1vci10aW1lIixhbGxvd2VkVHlwZXM6WyJkYXRlLXRpbWUiLCJkYXRlIiwidGV4dCJdfTtmdW5jdGlvbiBxMChuKXtzd2l0Y2gobil7Y2FzZSJcXFxcIjpyZXR1cm4iXFwiO2Nhc2UiXFw7IjpyZXR1cm4iOyI7Y2FzZSJcXCwiOnJldHVybiIsIjtjYXNlIlxcbiI6Y2FzZSJcXE4iOnJldHVybmAKYDtkZWZhdWx0OnJldHVybiBufX1mdW5jdGlvbiBLMChuLGUsdCl7cmV0dXJuIG4uaW5kZXhPZigiXFwiKT09PS0xP246KHQmJihlPW5ldyBSZWdFeHAoZS5zb3VyY2UrInxcXFxcIit0LGUuZmxhZ3MpKSxuLnJlcGxhY2UoZSxxMCkpfWxldCBtYT17Y2F0ZWdvcmllczpsaSx1cmw6R2UsdmVyc2lvbjpxLHVpZDpxfSx5YT17Ym9vbGVhbjp7dmFsdWVzOlsiVFJVRSIsIkZBTFNFIl0sZnJvbUlDQUw6ZnVuY3Rpb24obil7c3dpdGNoKG4pe2Nhc2UiVFJVRSI6cmV0dXJuITA7Y2FzZSJGQUxTRSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4hMX19LHRvSUNBTDpmdW5jdGlvbihuKXtyZXR1cm4gbj8iVFJVRSI6IkZBTFNFIn19LGZsb2F0OnttYXRjaGVzOi9eWystXT9cZCtcLlxkKyQvLGZyb21JQ0FMOmZ1bmN0aW9uKG4pe2xldCBlPXBhcnNlRmxvYXQobik7cmV0dXJuIG9pKGUpPzA6ZX0sdG9JQ0FMOmZ1bmN0aW9uKG4pe3JldHVybiBTdHJpbmcobil9fSxpbnRlZ2VyOntmcm9tSUNBTDpmdW5jdGlvbihuKXtsZXQgZT1wYXJzZUludChuKTtyZXR1cm4gb2koZSk/MDplfSx0b0lDQUw6ZnVuY3Rpb24obil7cmV0dXJuIFN0cmluZyhuKX19LCJ1dGMtb2Zmc2V0Ijp7dG9JQ0FMOmZ1bmN0aW9uKG4pe3JldHVybiBuLmxlbmd0aDw3P24uc2xpY2UoMCwzKStuLnNsaWNlKDQsNik6bi5zbGljZSgwLDMpK24uc2xpY2UoNCw2KStuLnNsaWNlKDcsOSl9LGZyb21JQ0FMOmZ1bmN0aW9uKG4pe3JldHVybiBuLmxlbmd0aDw2P24uc2xpY2UoMCwzKSsiOiIrbi5zbGljZSgzLDUpOm4uc2xpY2UoMCwzKSsiOiIrbi5zbGljZSgzLDUpKyI6IituLnNsaWNlKDUsNyl9LGRlY29yYXRlOmZ1bmN0aW9uKG4pe3JldHVybiBrdC5mcm9tU3RyaW5nKG4pfSx1bmRlY29yYXRlOmZ1bmN0aW9uKG4pe3JldHVybiBuLnRvU3RyaW5nKCl9fX0sWjA9e2N1dHlwZTp7dmFsdWVzOlsiSU5ESVZJRFVBTCIsIkdST1VQIiwiUkVTT1VSQ0UiLCJST09NIiwiVU5LTk9XTiJdLGFsbG93WE5hbWU6ITAsYWxsb3dJYW5hVG9rZW46ITB9LCJkZWxlZ2F0ZWQtZnJvbSI6e3ZhbHVlVHlwZToiY2FsLWFkZHJlc3MiLG11bHRpVmFsdWU6IiwiLG11bHRpVmFsdWVTZXBhcmF0ZURRdW90ZTohMH0sImRlbGVnYXRlZC10byI6e3ZhbHVlVHlwZToiY2FsLWFkZHJlc3MiLG11bHRpVmFsdWU6IiwiLG11bHRpVmFsdWVTZXBhcmF0ZURRdW90ZTohMH0sZW5jb2Rpbmc6e3ZhbHVlczpbIjhCSVQiLCJCQVNFNjQiXX0sZmJ0eXBlOnt2YWx1ZXM6WyJGUkVFIiwiQlVTWSIsIkJVU1ktVU5BVkFJTEFCTEUiLCJCVVNZLVRFTlRBVElWRSJdLGFsbG93WE5hbWU6ITAsYWxsb3dJYW5hVG9rZW46ITB9LG1lbWJlcjp7dmFsdWVUeXBlOiJjYWwtYWRkcmVzcyIsbXVsdGlWYWx1ZToiLCIsbXVsdGlWYWx1ZVNlcGFyYXRlRFF1b3RlOiEwfSxwYXJ0c3RhdDp7dmFsdWVzOlsiTkVFRFMtQUNUSU9OIiwiQUNDRVBURUQiLCJERUNMSU5FRCIsIlRFTlRBVElWRSIsIkRFTEVHQVRFRCIsIkNPTVBMRVRFRCIsIklOLVBST0NFU1MiXSxhbGxvd1hOYW1lOiEwLGFsbG93SWFuYVRva2VuOiEwfSxyYW5nZTp7dmFsdWVzOlsiVEhJU0FOREZVVFVSRSJdfSxyZWxhdGVkOnt2YWx1ZXM6WyJTVEFSVCIsIkVORCJdfSxyZWx0eXBlOnt2YWx1ZXM6WyJQQVJFTlQiLCJDSElMRCIsIlNJQkxJTkciXSxhbGxvd1hOYW1lOiEwLGFsbG93SWFuYVRva2VuOiEwfSxyb2xlOnt2YWx1ZXM6WyJSRVEtUEFSVElDSVBBTlQiLCJDSEFJUiIsIk9QVC1QQVJUSUNJUEFOVCIsIk5PTi1QQVJUSUNJUEFOVCJdLGFsbG93WE5hbWU6ITAsYWxsb3dJYW5hVG9rZW46ITB9LHJzdnA6e3ZhbHVlczpbIlRSVUUiLCJGQUxTRSJdfSwic2VudC1ieSI6e3ZhbHVlVHlwZToiY2FsLWFkZHJlc3MifSx0emlkOnttYXRjaGVzOi9eXC8vfSx2YWx1ZTp7dmFsdWVzOlsiYmluYXJ5IiwiYm9vbGVhbiIsImNhbC1hZGRyZXNzIiwiZGF0ZSIsImRhdGUtdGltZSIsImR1cmF0aW9uIiwiZmxvYXQiLCJpbnRlZ2VyIiwicGVyaW9kIiwicmVjdXIiLCJ0ZXh0IiwidGltZSIsInVyaSIsInV0Yy1vZmZzZXQiXSxhbGxvd1hOYW1lOiEwLGFsbG93SWFuYVRva2VuOiEwfX07Y29uc3QgdmU9THMoeWEse3RleHQ6ZGEoVjAsajApLHVyaTp7fSxiaW5hcnk6e2RlY29yYXRlOmZ1bmN0aW9uKG4pe3JldHVybiB5ci5mcm9tU3RyaW5nKG4pfSx1bmRlY29yYXRlOmZ1bmN0aW9uKG4pe3JldHVybiBuLnRvU3RyaW5nKCl9fSwiY2FsLWFkZHJlc3MiOnt9LGRhdGU6e2RlY29yYXRlOmZ1bmN0aW9uKG4sZSl7cmV0dXJuIHguZnJvbURhdGVTdHJpbmcobixlKX0sdW5kZWNvcmF0ZTpmdW5jdGlvbihuKXtyZXR1cm4gbi50b1N0cmluZygpfSxmcm9tSUNBTDpmdW5jdGlvbihuKXtyZXR1cm4gbi5zbGljZSgwLDQpKyItIituLnNsaWNlKDQsNikrIi0iK24uc2xpY2UoNiw4KX0sdG9JQ0FMOmZ1bmN0aW9uKG4pe2xldCBlPW4ubGVuZ3RoO3JldHVybiBlPT0xMD9uLnNsaWNlKDAsNCkrbi5zbGljZSg1LDcpK24uc2xpY2UoOCwxMCk6ZT49MTk/dmVbImRhdGUtdGltZSJdLnRvSUNBTChuKTpufX0sImRhdGUtdGltZSI6e2Zyb21JQ0FMOmZ1bmN0aW9uKG4pe3tsZXQgZT1uLnNsaWNlKDAsNCkrIi0iK24uc2xpY2UoNCw2KSsiLSIrbi5zbGljZSg2LDgpKyJUIituLnNsaWNlKDksMTEpKyI6IituLnNsaWNlKDExLDEzKSsiOiIrbi5zbGljZSgxMywxNSk7cmV0dXJuIG5bMTVdJiZuWzE1XT09PSJaIiYmKGUrPSJaIiksZX19LHRvSUNBTDpmdW5jdGlvbihuKXtsZXQgZT1uLmxlbmd0aDtpZihlPT0xMCYmIWtuLnN0cmljdClyZXR1cm4gdmUuZGF0ZS50b0lDQUwobik7aWYoZT49MTkpe2xldCB0PW4uc2xpY2UoMCw0KStuLnNsaWNlKDUsNykrbi5zbGljZSg4LDEzKStuLnNsaWNlKDE0LDE2KStuLnNsaWNlKDE3LDE5KTtyZXR1cm4gblsxOV0mJm5bMTldPT09IloiJiYodCs9IloiKSx0fWVsc2UgcmV0dXJuIG59LGRlY29yYXRlOmZ1bmN0aW9uKG4sZSl7cmV0dXJuIHguZnJvbURhdGVUaW1lU3RyaW5nKG4sZSl9LHVuZGVjb3JhdGU6ZnVuY3Rpb24obil7cmV0dXJuIG4udG9TdHJpbmcoKX19LGR1cmF0aW9uOntkZWNvcmF0ZTpmdW5jdGlvbihuKXtyZXR1cm4gVWUuZnJvbVN0cmluZyhuKX0sdW5kZWNvcmF0ZTpmdW5jdGlvbihuKXtyZXR1cm4gbi50b1N0cmluZygpfX0scGVyaW9kOntmcm9tSUNBTDpmdW5jdGlvbihuKXtsZXQgZT1uLnNwbGl0KCIvIik7cmV0dXJuIGVbMF09dmVbImRhdGUtdGltZSJdLmZyb21JQ0FMKGVbMF0pLFVlLmlzVmFsdWVTdHJpbmcoZVsxXSl8fChlWzFdPXZlWyJkYXRlLXRpbWUiXS5mcm9tSUNBTChlWzFdKSksZX0sdG9JQ0FMOmZ1bmN0aW9uKG4pe3JldHVybiBuPW4uc2xpY2UoKSxuWzBdPXZlWyJkYXRlLXRpbWUiXS50b0lDQUwoblswXSksVWUuaXNWYWx1ZVN0cmluZyhuWzFdKXx8KG5bMV09dmVbImRhdGUtdGltZSJdLnRvSUNBTChuWzFdKSksbi5qb2luKCIvIil9LGRlY29yYXRlOmZ1bmN0aW9uKG4sZSl7cmV0dXJuIGRzLmZyb21KU09OKG4sZSwha24uc3RyaWN0KX0sdW5kZWNvcmF0ZTpmdW5jdGlvbihuKXtyZXR1cm4gbi50b0pTT04oKX19LHJlY3VyOntmcm9tSUNBTDpmdW5jdGlvbihuKXtyZXR1cm4gemUuX3N0cmluZ1RvRGF0YShuLCEwKX0sdG9JQ0FMOmZ1bmN0aW9uKG4pe2xldCBlPSIiO2ZvcihsZXRbdCxzXW9mIE9iamVjdC5lbnRyaWVzKG4pKXQ9PSJ1bnRpbCI/cy5sZW5ndGg+MTA/cz12ZVsiZGF0ZS10aW1lIl0udG9JQ0FMKHMpOnM9dmUuZGF0ZS50b0lDQUwocyk6dD09Indrc3QiP3R5cGVvZiBzPT0ibnVtYmVyIiYmKHM9emUubnVtZXJpY0RheVRvSWNhbERheShzKSk6QXJyYXkuaXNBcnJheShzKSYmKHM9cy5qb2luKCIsIikpLGUrPXQudG9VcHBlckNhc2UoKSsiPSIrcysiOyI7cmV0dXJuIGUuc2xpY2UoMCxNYXRoLm1heCgwLGUubGVuZ3RoLTEpKX0sZGVjb3JhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHplLmZyb21EYXRhKGUpfSx1bmRlY29yYXRlOmZ1bmN0aW9uKG4pe3JldHVybiBuLnRvSlNPTigpfX0sdGltZTp7ZnJvbUlDQUw6ZnVuY3Rpb24obil7aWYobi5sZW5ndGg8NilyZXR1cm4gbjtsZXQgZT1uLnNsaWNlKDAsMikrIjoiK24uc2xpY2UoMiw0KSsiOiIrbi5zbGljZSg0LDYpO3JldHVybiBuWzZdPT09IloiJiYoZSs9IloiKSxlfSx0b0lDQUw6ZnVuY3Rpb24obil7aWYobi5sZW5ndGg8OClyZXR1cm4gbjtsZXQgZT1uLnNsaWNlKDAsMikrbi5zbGljZSgzLDUpK24uc2xpY2UoNiw4KTtyZXR1cm4gbls4XT09PSJaIiYmKGUrPSJaIiksZX19fSk7bGV0IEcwPUxzKG1hLHthY3Rpb246cSxhdHRhY2g6e2RlZmF1bHRUeXBlOiJ1cmkifSxhdHRlbmRlZTp7ZGVmYXVsdFR5cGU6ImNhbC1hZGRyZXNzIn0sY2Fsc2NhbGU6cSxjbGFzczpxLGNvbW1lbnQ6cSxjb21wbGV0ZWQ6a3IsY29udGFjdDpxLGNyZWF0ZWQ6a3IsZGVzY3JpcHRpb246cSxkdGVuZDpUcixkdHN0YW1wOmtyLGR0c3RhcnQ6VHIsZHVlOlRyLGR1cmF0aW9uOntkZWZhdWx0VHlwZToiZHVyYXRpb24ifSxleGRhdGU6e2RlZmF1bHRUeXBlOiJkYXRlLXRpbWUiLGFsbG93ZWRUeXBlczpbImRhdGUtdGltZSIsImRhdGUiXSxtdWx0aVZhbHVlOiIsIn0sZXhydWxlOmhoLGZyZWVidXN5OntkZWZhdWx0VHlwZToicGVyaW9kIixtdWx0aVZhbHVlOiIsIn0sZ2VvOntkZWZhdWx0VHlwZToiZmxvYXQiLHN0cnVjdHVyZWRWYWx1ZToiOyJ9LCJsYXN0LW1vZGlmaWVkIjprcixsb2NhdGlvbjpxLG1ldGhvZDpxLG9yZ2FuaXplcjp7ZGVmYXVsdFR5cGU6ImNhbC1hZGRyZXNzIn0sInBlcmNlbnQtY29tcGxldGUiOmJyLHByaW9yaXR5OmJyLHByb2RpZDpxLCJyZWxhdGVkLXRvIjpxLHJlcGVhdDpicixyZGF0ZTp7ZGVmYXVsdFR5cGU6ImRhdGUtdGltZSIsYWxsb3dlZFR5cGVzOlsiZGF0ZS10aW1lIiwiZGF0ZSIsInBlcmlvZCJdLG11bHRpVmFsdWU6IiwiLGRldGVjdFR5cGU6ZnVuY3Rpb24obil7cmV0dXJuIG4uaW5kZXhPZigiLyIpIT09LTE/InBlcmlvZCI6bi5pbmRleE9mKCJUIik9PT0tMT8iZGF0ZSI6ImRhdGUtdGltZSJ9fSwicmVjdXJyZW5jZS1pZCI6VHIscmVzb3VyY2VzOmxpLCJyZXF1ZXN0LXN0YXR1cyI6d3IscnJ1bGU6aGgsc2VxdWVuY2U6YnIsc3RhdHVzOnEsc3VtbWFyeTpxLHRyYW5zcDpxLHRyaWdnZXI6e2RlZmF1bHRUeXBlOiJkdXJhdGlvbiIsYWxsb3dlZFR5cGVzOlsiZHVyYXRpb24iLCJkYXRlLXRpbWUiXX0sdHpvZmZzZXRmcm9tOmNoLHR6b2Zmc2V0dG86Y2gsdHp1cmw6R2UsdHppZDpxLHR6bmFtZTpxfSk7Y29uc3QgZHQ9THMoeWEse3RleHQ6ZGEobGgsdWgpLHVyaTpkYShsaCx1aCksZGF0ZTp7ZGVjb3JhdGU6ZnVuY3Rpb24obil7cmV0dXJuIGhzLmZyb21EYXRlQW5kT3JUaW1lU3RyaW5nKG4sImRhdGUiKX0sdW5kZWNvcmF0ZTpmdW5jdGlvbihuKXtyZXR1cm4gbi50b1N0cmluZygpfSxmcm9tSUNBTDpmdW5jdGlvbihuKXtyZXR1cm4gbi5sZW5ndGg9PTg/dmUuZGF0ZS5mcm9tSUNBTChuKTpuWzBdPT0iLSImJm4ubGVuZ3RoPT02P24uc2xpY2UoMCw0KSsiLSIrbi5zbGljZSg0KTpufSx0b0lDQUw6ZnVuY3Rpb24obil7cmV0dXJuIG4ubGVuZ3RoPT0xMD92ZS5kYXRlLnRvSUNBTChuKTpuWzBdPT0iLSImJm4ubGVuZ3RoPT03P24uc2xpY2UoMCw0KStuLnNsaWNlKDUpOm59fSx0aW1lOntkZWNvcmF0ZTpmdW5jdGlvbihuKXtyZXR1cm4gaHMuZnJvbURhdGVBbmRPclRpbWVTdHJpbmcoIlQiK24sInRpbWUiKX0sdW5kZWNvcmF0ZTpmdW5jdGlvbihuKXtyZXR1cm4gbi50b1N0cmluZygpfSxmcm9tSUNBTDpmdW5jdGlvbihuKXtsZXQgZT1kdC50aW1lLl9zcGxpdFpvbmUobiwhMCksdD1lWzBdLHM9ZVsxXTtyZXR1cm4gcy5sZW5ndGg9PTY/cz1zLnNsaWNlKDAsMikrIjoiK3Muc2xpY2UoMiw0KSsiOiIrcy5zbGljZSg0LDYpOnMubGVuZ3RoPT00JiZzWzBdIT0iLSI/cz1zLnNsaWNlKDAsMikrIjoiK3Muc2xpY2UoMiw0KTpzLmxlbmd0aD09NSYmKHM9cy5zbGljZSgwLDMpKyI6IitzLnNsaWNlKDMsNSkpLHQubGVuZ3RoPT01JiYodFswXT09Ii0ifHx0WzBdPT0iKyIpJiYodD10LnNsaWNlKDAsMykrIjoiK3Quc2xpY2UoMykpLHMrdH0sdG9JQ0FMOmZ1bmN0aW9uKG4pe2xldCBlPWR0LnRpbWUuX3NwbGl0Wm9uZShuKSx0PWVbMF0scz1lWzFdO3JldHVybiBzLmxlbmd0aD09OD9zPXMuc2xpY2UoMCwyKStzLnNsaWNlKDMsNSkrcy5zbGljZSg2LDgpOnMubGVuZ3RoPT01JiZzWzBdIT0iLSI/cz1zLnNsaWNlKDAsMikrcy5zbGljZSgzLDUpOnMubGVuZ3RoPT02JiYocz1zLnNsaWNlKDAsMykrcy5zbGljZSg0LDYpKSx0Lmxlbmd0aD09NiYmKHRbMF09PSItInx8dFswXT09IisiKSYmKHQ9dC5zbGljZSgwLDMpK3Quc2xpY2UoNCkpLHMrdH0sX3NwbGl0Wm9uZTpmdW5jdGlvbihuLGUpe2xldCB0PW4ubGVuZ3RoLTEscz1uLmxlbmd0aC0oZT81OjYpLGk9bltzXSxyLG87cmV0dXJuIG5bdF09PSJaIj8ocj1uW3RdLG89bi5zbGljZSgwLE1hdGgubWF4KDAsdCkpKTpuLmxlbmd0aD42JiYoaT09Ii0ifHxpPT0iKyIpPyhyPW4uc2xpY2Uocyksbz1uLnNsaWNlKDAsTWF0aC5tYXgoMCxzKSkpOihyPSIiLG89biksW3Isb119fSwiZGF0ZS10aW1lIjp7ZGVjb3JhdGU6ZnVuY3Rpb24obil7cmV0dXJuIGhzLmZyb21EYXRlQW5kT3JUaW1lU3RyaW5nKG4sImRhdGUtdGltZSIpfSx1bmRlY29yYXRlOmZ1bmN0aW9uKG4pe3JldHVybiBuLnRvU3RyaW5nKCl9LGZyb21JQ0FMOmZ1bmN0aW9uKG4pe3JldHVybiBkdFsiZGF0ZS1hbmQtb3ItdGltZSJdLmZyb21JQ0FMKG4pfSx0b0lDQUw6ZnVuY3Rpb24obil7cmV0dXJuIGR0WyJkYXRlLWFuZC1vci10aW1lIl0udG9JQ0FMKG4pfX0sImRhdGUtYW5kLW9yLXRpbWUiOntkZWNvcmF0ZTpmdW5jdGlvbihuKXtyZXR1cm4gaHMuZnJvbURhdGVBbmRPclRpbWVTdHJpbmcobiwiZGF0ZS1hbmQtb3ItdGltZSIpfSx1bmRlY29yYXRlOmZ1bmN0aW9uKG4pe3JldHVybiBuLnRvU3RyaW5nKCl9LGZyb21JQ0FMOmZ1bmN0aW9uKG4pe2xldCBlPW4uc3BsaXQoIlQiKTtyZXR1cm4oZVswXT9kdC5kYXRlLmZyb21JQ0FMKGVbMF0pOiIiKSsoZVsxXT8iVCIrZHQudGltZS5mcm9tSUNBTChlWzFdKToiIil9LHRvSUNBTDpmdW5jdGlvbihuKXtsZXQgZT1uLnNwbGl0KCJUIik7cmV0dXJuIGR0LmRhdGUudG9JQ0FMKGVbMF0pKyhlWzFdPyJUIitkdC50aW1lLnRvSUNBTChlWzFdKToiIil9fSx0aW1lc3RhbXA6dmVbImRhdGUtdGltZSJdLCJsYW5ndWFnZS10YWciOnttYXRjaGVzOi9eW2EtekEtWjAtOS1dKyQvfSwicGhvbmUtbnVtYmVyIjp7ZnJvbUlDQUw6ZnVuY3Rpb24obil7cmV0dXJuIEFycmF5LmZyb20obikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09IlxcIj92b2lkIDA6ZX0pLmpvaW4oIiIpfSx0b0lDQUw6ZnVuY3Rpb24obil7cmV0dXJuIEFycmF5LmZyb20obikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09IiwifHxlPT09IjsiPyJcXCIrZTplfSkuam9pbigiIil9fX0pO2xldCBKMD17dHlwZTp7dmFsdWVUeXBlOiJ0ZXh0IixtdWx0aVZhbHVlOiIsIn0sdmFsdWU6e3ZhbHVlczpbInRleHQiLCJ1cmkiLCJkYXRlIiwidGltZSIsImRhdGUtdGltZSIsImRhdGUtYW5kLW9yLXRpbWUiLCJ0aW1lc3RhbXAiLCJib29sZWFuIiwiaW50ZWdlciIsImZsb2F0IiwidXRjLW9mZnNldCIsImxhbmd1YWdlLXRhZyJdLGFsbG93WE5hbWU6ITAsYWxsb3dJYW5hVG9rZW46ITB9fSxYMD1McyhtYSx7YWRyOntkZWZhdWx0VHlwZToidGV4dCIsc3RydWN0dXJlZFZhbHVlOiI7IixtdWx0aVZhbHVlOiIsIn0sYW5uaXZlcnNhcnk6ZmgsYmRheTpmaCxjYWxhZHJ1cmk6R2UsY2FsdXJpOkdlLGNsaWVudHBpZG1hcDp3cixlbWFpbDpxLGZidXJsOkdlLGZuOnEsZ2VuZGVyOndyLGdlbzpHZSxpbXBwOkdlLGtleTpHZSxraW5kOnEsbGFuZzp7ZGVmYXVsdFR5cGU6Imxhbmd1YWdlLXRhZyJ9LGxvZ286R2UsbWVtYmVyOkdlLG46e2RlZmF1bHRUeXBlOiJ0ZXh0IixzdHJ1Y3R1cmVkVmFsdWU6IjsiLG11bHRpVmFsdWU6IiwifSxuaWNrbmFtZTpsaSxub3RlOnEsb3JnOntkZWZhdWx0VHlwZToidGV4dCIsc3RydWN0dXJlZFZhbHVlOiI7In0scGhvdG86R2UscmVsYXRlZDpHZSxyZXY6e2RlZmF1bHRUeXBlOiJ0aW1lc3RhbXAifSxyb2xlOnEsc291bmQ6R2Usc291cmNlOkdlLHRlbDp7ZGVmYXVsdFR5cGU6InVyaSIsYWxsb3dlZFR5cGVzOlsidXJpIiwidGV4dCJdfSx0aXRsZTpxLHR6OntkZWZhdWx0VHlwZToidGV4dCIsYWxsb3dlZFR5cGVzOlsidGV4dCIsInV0Yy1vZmZzZXQiLCJ1cmkiXX0seG1sOnF9KSxRMD1Mcyh5YSx7YmluYXJ5OnZlLmJpbmFyeSxkYXRlOmR0LmRhdGUsImRhdGUtdGltZSI6ZHRbImRhdGUtdGltZSJdLCJwaG9uZS1udW1iZXIiOmR0WyJwaG9uZS1udW1iZXIiXSx1cmk6dmUudXJpLHRleHQ6dmUudGV4dCx0aW1lOnZlLnRpbWUsdmNhcmQ6dmUudGV4dCwidXRjLW9mZnNldCI6e3RvSUNBTDpmdW5jdGlvbihuKXtyZXR1cm4gbi5zbGljZSgwLDcpfSxmcm9tSUNBTDpmdW5jdGlvbihuKXtyZXR1cm4gbi5zbGljZSgwLDcpfSxkZWNvcmF0ZTpmdW5jdGlvbihuKXtyZXR1cm4ga3QuZnJvbVN0cmluZyhuKX0sdW5kZWNvcmF0ZTpmdW5jdGlvbihuKXtyZXR1cm4gbi50b1N0cmluZygpfX19KSxldz17dHlwZTp7dmFsdWVUeXBlOiJ0ZXh0IixtdWx0aVZhbHVlOiIsIn0sdmFsdWU6e3ZhbHVlczpbInRleHQiLCJ1cmkiLCJkYXRlIiwiZGF0ZS10aW1lIiwicGhvbmUtbnVtYmVyIiwidGltZSIsImJvb2xlYW4iLCJpbnRlZ2VyIiwiZmxvYXQiLCJ1dGMtb2Zmc2V0IiwidmNhcmQiLCJiaW5hcnkiXSxhbGxvd1hOYW1lOiEwLGFsbG93SWFuYVRva2VuOiEwfX0sdHc9THMobWEse2ZuOnEsbjp7ZGVmYXVsdFR5cGU6InRleHQiLHN0cnVjdHVyZWRWYWx1ZToiOyIsbXVsdGlWYWx1ZToiLCJ9LG5pY2tuYW1lOmxpLHBob3RvOntkZWZhdWx0VHlwZToiYmluYXJ5IixhbGxvd2VkVHlwZXM6WyJiaW5hcnkiLCJ1cmkiXX0sYmRheTp7ZGVmYXVsdFR5cGU6ImRhdGUtdGltZSIsYWxsb3dlZFR5cGVzOlsiZGF0ZS10aW1lIiwiZGF0ZSJdLGRldGVjdFR5cGU6ZnVuY3Rpb24obil7cmV0dXJuIG4uaW5kZXhPZigiVCIpPT09LTE/ImRhdGUiOiJkYXRlLXRpbWUifX0sYWRyOntkZWZhdWx0VHlwZToidGV4dCIsc3RydWN0dXJlZFZhbHVlOiI7IixtdWx0aVZhbHVlOiIsIn0sbGFiZWw6cSx0ZWw6e2RlZmF1bHRUeXBlOiJwaG9uZS1udW1iZXIifSxlbWFpbDpxLG1haWxlcjpxLHR6OntkZWZhdWx0VHlwZToidXRjLW9mZnNldCIsYWxsb3dlZFR5cGVzOlsidXRjLW9mZnNldCIsInRleHQiXX0sZ2VvOntkZWZhdWx0VHlwZToiZmxvYXQiLHN0cnVjdHVyZWRWYWx1ZToiOyJ9LHRpdGxlOnEscm9sZTpxLGxvZ286e2RlZmF1bHRUeXBlOiJiaW5hcnkiLGFsbG93ZWRUeXBlczpbImJpbmFyeSIsInVyaSJdfSxhZ2VudDp7ZGVmYXVsdFR5cGU6InZjYXJkIixhbGxvd2VkVHlwZXM6WyJ2Y2FyZCIsInRleHQiLCJ1cmkiXX0sb3JnOndyLG5vdGU6bGkscHJvZGlkOnEscmV2OntkZWZhdWx0VHlwZToiZGF0ZS10aW1lIixhbGxvd2VkVHlwZXM6WyJkYXRlLXRpbWUiLCJkYXRlIl0sZGV0ZWN0VHlwZTpmdW5jdGlvbihuKXtyZXR1cm4gbi5pbmRleE9mKCJUIik9PT0tMT8iZGF0ZSI6ImRhdGUtdGltZSJ9fSwic29ydC1zdHJpbmciOnEsc291bmQ6e2RlZmF1bHRUeXBlOiJiaW5hcnkiLGFsbG93ZWRUeXBlczpbImJpbmFyeSIsInVyaSJdfSxjbGFzczpxLGtleTp7ZGVmYXVsdFR5cGU6ImJpbmFyeSIsYWxsb3dlZFR5cGVzOlsiYmluYXJ5IiwidGV4dCJdfX0pLGp0PXt2YWx1ZTp2ZSxwYXJhbTpaMCxwcm9wZXJ0eTpHMCxwcm9wZXJ0eUdyb3VwczohMX0sZGg9e3ZhbHVlOmR0LHBhcmFtOkowLHByb3BlcnR5OlgwLHByb3BlcnR5R3JvdXBzOiEwfSxtaD17dmFsdWU6UTAscGFyYW06ZXcscHJvcGVydHk6dHcscHJvcGVydHlHcm91cHM6ITB9O2NvbnN0IGtuPXtzdHJpY3Q6ITAsZGVmYXVsdFNldDpqdCxkZWZhdWx0VHlwZToidW5rbm93biIsY29tcG9uZW50czp7dmNhcmQ6ZGgsdmNhcmQzOm1oLHZldmVudDpqdCx2dG9kbzpqdCx2am91cm5hbDpqdCx2YWxhcm06anQsdnRpbWV6b25lOmp0LGRheWxpZ2h0Omp0LHN0YW5kYXJkOmp0fSxpY2FsZW5kYXI6anQsdmNhcmQ6ZGgsdmNhcmQzOm1oLGdldERlc2lnblNldDpmdW5jdGlvbihuKXtyZXR1cm4gbiYmbiBpbiBrbi5jb21wb25lbnRzP2tuLmNvbXBvbmVudHNbbl06a24uZGVmYXVsdFNldH19O3ZhciBNZT1rbjtjb25zdCBFcj1gXHIKYCx5aD0idW5rbm93biIsc3c9eyciJzoiXiciLCJcbiI6Il5uIiwiXiI6Il5eIn07ZnVuY3Rpb24gaGUobil7dHlwZW9mIG5bMF09PSJzdHJpbmciJiYobj1bbl0pO2xldCBlPTAsdD1uLmxlbmd0aCxzPSIiO2Zvcig7ZTx0O2UrKylzKz1oZS5jb21wb25lbnQobltlXSkrRXI7cmV0dXJuIHN9aGUuY29tcG9uZW50PWZ1bmN0aW9uKG4sZSl7bGV0IHQ9blswXS50b1VwcGVyQ2FzZSgpLHM9IkJFR0lOOiIrdCtFcixpPW5bMV0scj0wLG89aS5sZW5ndGgsYT1uWzBdO2ZvcihhPT09InZjYXJkIiYmblsxXS5sZW5ndGg+MCYmIShuWzFdWzBdWzBdPT09InZlcnNpb24iJiZuWzFdWzBdWzNdPT09IjQuMCIpJiYoYT0idmNhcmQzIiksZT1lfHxNZS5nZXREZXNpZ25TZXQoYSk7cjxvO3IrKylzKz1oZS5wcm9wZXJ0eShpW3JdLGUpK0VyO2xldCBsPW5bMl18fFtdLHU9MCxoPWwubGVuZ3RoO2Zvcig7dTxoO3UrKylzKz1oZS5jb21wb25lbnQobFt1XSxlKStFcjtyZXR1cm4gcys9IkVORDoiK3Qsc30saGUucHJvcGVydHk9ZnVuY3Rpb24obixlLHQpe2xldCBzPW5bMF0udG9VcHBlckNhc2UoKSxpPW5bMF0scj1uWzFdO2V8fChlPU1lLmRlZmF1bHRTZXQpO2xldCBvPXIuZ3JvdXAsYTtlLnByb3BlcnR5R3JvdXBzJiZvP2E9by50b1VwcGVyQ2FzZSgpKyIuIitzOmE9cztmb3IobGV0W2YsZ11vZiBPYmplY3QuZW50cmllcyhyKSl7aWYoZS5wcm9wZXJ0eUdyb3VwcyYmZj09Imdyb3VwIiljb250aW51ZTtsZXQgZD1lLnBhcmFtW2ZdLHk9ZCYmZC5tdWx0aVZhbHVlO3kmJkFycmF5LmlzQXJyYXkoZyk/KGc9Zy5tYXAoZnVuY3Rpb24odyl7cmV0dXJuIHc9aGUuX3JmYzY4NjhVbmVzY2FwZSh3KSx3PWhlLnBhcmFtUHJvcGVydHlWYWx1ZSh3LGQubXVsdGlWYWx1ZVNlcGFyYXRlRFF1b3RlKSx3fSksZz1oZS5tdWx0aVZhbHVlKGcseSwidW5rbm93biIsbnVsbCxlKSk6KGc9aGUuX3JmYzY4NjhVbmVzY2FwZShnKSxnPWhlLnBhcmFtUHJvcGVydHlWYWx1ZShnKSksYSs9IjsiK2YudG9VcHBlckNhc2UoKSsiPSIrZ31pZihuLmxlbmd0aD09PTMpcmV0dXJuIGErIjoiO2xldCBsPW5bMl0sdSxoPSExLGM9ITEsbT0hMTtyZXR1cm4gaSBpbiBlLnByb3BlcnR5Pyh1PWUucHJvcGVydHlbaV0sIm11bHRpVmFsdWUiaW4gdSYmKGg9dS5tdWx0aVZhbHVlKSwic3RydWN0dXJlZFZhbHVlImluIHUmJkFycmF5LmlzQXJyYXkoblszXSkmJihjPXUuc3RydWN0dXJlZFZhbHVlKSwiZGVmYXVsdFR5cGUiaW4gdT9sPT09dS5kZWZhdWx0VHlwZSYmKG09ITApOmw9PT15aCYmKG09ITApKTpsPT09eWgmJihtPSEwKSxtfHwoYSs9IjtWQUxVRT0iK2wudG9VcHBlckNhc2UoKSksYSs9IjoiLGgmJmM/YSs9aGUubXVsdGlWYWx1ZShuWzNdLGMsbCxoLGUsYyk6aD9hKz1oZS5tdWx0aVZhbHVlKG4uc2xpY2UoMyksaCxsLG51bGwsZSwhMSk6Yz9hKz1oZS5tdWx0aVZhbHVlKG5bM10sYyxsLG51bGwsZSxjKTphKz1oZS52YWx1ZShuWzNdLGwsZSwhMSksdD9hOmloKGEpfSxoZS5wYXJhbVByb3BlcnR5VmFsdWU9ZnVuY3Rpb24obixlKXtyZXR1cm4hZSYmbi5pbmRleE9mKCIsIik9PT0tMSYmbi5pbmRleE9mKCI6Iik9PT0tMSYmbi5pbmRleE9mKCI7Iik9PT0tMT9uOiciJytuKyciJ30saGUubXVsdGlWYWx1ZT1mdW5jdGlvbihuLGUsdCxzLGkscil7bGV0IG89IiIsYT1uLmxlbmd0aCxsPTA7Zm9yKDtsPGE7bCsrKXMmJkFycmF5LmlzQXJyYXkobltsXSk/bys9aGUubXVsdGlWYWx1ZShuW2xdLHMsdCxudWxsLGkscik6bys9aGUudmFsdWUobltsXSx0LGksciksbCE9PWEtMSYmKG8rPWUpO3JldHVybiBvfSxoZS52YWx1ZT1mdW5jdGlvbihuLGUsdCxzKXtyZXR1cm4gZSBpbiB0LnZhbHVlJiYidG9JQ0FMImluIHQudmFsdWVbZV0/dC52YWx1ZVtlXS50b0lDQUwobixzKTpufSxoZS5fcmZjNjg2OFVuZXNjYXBlPWZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoL1tcbl4iXS9nLGZ1bmN0aW9uKGUpe3JldHVybiBzd1tlXX0pfTtjb25zdCBwaD0wLFNyPTEsT3I9Mixtcz0zO2NsYXNzIFlze3N0YXRpYyBmcm9tU3RyaW5nKGUsdCl7cmV0dXJuIG5ldyBZcyhlZS5wcm9wZXJ0eShlLHQpKX1jb25zdHJ1Y3RvcihlLHQpe3RoaXMuX3BhcmVudD10fHxudWxsLHR5cGVvZiBlPT0ic3RyaW5nIj8odGhpcy5qQ2FsPVtlLHt9LE1lLmRlZmF1bHRUeXBlXSx0aGlzLmpDYWxbT3JdPXRoaXMuZ2V0RGVmYXVsdFR5cGUoKSk6dGhpcy5qQ2FsPWUsdGhpcy5fdXBkYXRlVHlwZSgpfWdldCB0eXBlKCl7cmV0dXJuIHRoaXMuakNhbFtPcl19Z2V0IG5hbWUoKXtyZXR1cm4gdGhpcy5qQ2FsW3BoXX1nZXQgcGFyZW50KCl7cmV0dXJuIHRoaXMuX3BhcmVudH1zZXQgcGFyZW50KGUpe2xldCB0PSF0aGlzLl9wYXJlbnR8fGUmJmUuX2Rlc2lnblNldCE9dGhpcy5fcGFyZW50Ll9kZXNpZ25TZXQ7dGhpcy5fcGFyZW50PWUsdGhpcy50eXBlPT1NZS5kZWZhdWx0VHlwZSYmdCYmKHRoaXMuakNhbFtPcl09dGhpcy5nZXREZWZhdWx0VHlwZSgpLHRoaXMuX3VwZGF0ZVR5cGUoKSl9Z2V0IF9kZXNpZ25TZXQoKXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQuX2Rlc2lnblNldDpNZS5kZWZhdWx0U2V0fV91cGRhdGVUeXBlKCl7bGV0IGU9dGhpcy5fZGVzaWduU2V0O3RoaXMudHlwZSBpbiBlLnZhbHVlJiYoImRlY29yYXRlImluIGUudmFsdWVbdGhpcy50eXBlXT90aGlzLmlzRGVjb3JhdGVkPSEwOnRoaXMuaXNEZWNvcmF0ZWQ9ITEsdGhpcy5uYW1lIGluIGUucHJvcGVydHkmJih0aGlzLmlzTXVsdGlWYWx1ZT0ibXVsdGlWYWx1ZSJpbiBlLnByb3BlcnR5W3RoaXMubmFtZV0sdGhpcy5pc1N0cnVjdHVyZWRWYWx1ZT0ic3RydWN0dXJlZFZhbHVlImluIGUucHJvcGVydHlbdGhpcy5uYW1lXSkpfV9oeWRyYXRlVmFsdWUoZSl7cmV0dXJuIHRoaXMuX3ZhbHVlcyYmdGhpcy5fdmFsdWVzW2VdP3RoaXMuX3ZhbHVlc1tlXTp0aGlzLmpDYWwubGVuZ3RoPD1tcytlP251bGw6dGhpcy5pc0RlY29yYXRlZD8odGhpcy5fdmFsdWVzfHwodGhpcy5fdmFsdWVzPVtdKSx0aGlzLl92YWx1ZXNbZV09dGhpcy5fZGVjb3JhdGUodGhpcy5qQ2FsW21zK2VdKSk6dGhpcy5qQ2FsW21zK2VdfV9kZWNvcmF0ZShlKXtyZXR1cm4gdGhpcy5fZGVzaWduU2V0LnZhbHVlW3RoaXMudHlwZV0uZGVjb3JhdGUoZSx0aGlzKX1fdW5kZWNvcmF0ZShlKXtyZXR1cm4gdGhpcy5fZGVzaWduU2V0LnZhbHVlW3RoaXMudHlwZV0udW5kZWNvcmF0ZShlLHRoaXMpfV9zZXREZWNvcmF0ZWRWYWx1ZShlLHQpe3RoaXMuX3ZhbHVlc3x8KHRoaXMuX3ZhbHVlcz1bXSksdHlwZW9mIGU9PSJvYmplY3QiJiYiaWNhbHR5cGUiaW4gZT8odGhpcy5qQ2FsW21zK3RdPXRoaXMuX3VuZGVjb3JhdGUoZSksdGhpcy5fdmFsdWVzW3RdPWUpOih0aGlzLmpDYWxbbXMrdF09ZSx0aGlzLl92YWx1ZXNbdF09dGhpcy5fZGVjb3JhdGUoZSkpfWdldFBhcmFtZXRlcihlKXtpZihlIGluIHRoaXMuakNhbFtTcl0pcmV0dXJuIHRoaXMuakNhbFtTcl1bZV19Z2V0Rmlyc3RQYXJhbWV0ZXIoZSl7bGV0IHQ9dGhpcy5nZXRQYXJhbWV0ZXIoZSk7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dFswXTp0fXNldFBhcmFtZXRlcihlLHQpe2xldCBzPWUudG9Mb3dlckNhc2UoKTt0eXBlb2YgdD09InN0cmluZyImJnMgaW4gdGhpcy5fZGVzaWduU2V0LnBhcmFtJiYibXVsdGlWYWx1ZSJpbiB0aGlzLl9kZXNpZ25TZXQucGFyYW1bc10mJih0PVt0XSksdGhpcy5qQ2FsW1NyXVtlXT10fXJlbW92ZVBhcmFtZXRlcihlKXtkZWxldGUgdGhpcy5qQ2FsW1NyXVtlXX1nZXREZWZhdWx0VHlwZSgpe2xldCBlPXRoaXMuakNhbFtwaF0sdD10aGlzLl9kZXNpZ25TZXQ7aWYoZSBpbiB0LnByb3BlcnR5KXtsZXQgcz10LnByb3BlcnR5W2VdO2lmKCJkZWZhdWx0VHlwZSJpbiBzKXJldHVybiBzLmRlZmF1bHRUeXBlfXJldHVybiBNZS5kZWZhdWx0VHlwZX1yZXNldFR5cGUoZSl7dGhpcy5yZW1vdmVBbGxWYWx1ZXMoKSx0aGlzLmpDYWxbT3JdPWUsdGhpcy5fdXBkYXRlVHlwZSgpfWdldEZpcnN0VmFsdWUoKXtyZXR1cm4gdGhpcy5faHlkcmF0ZVZhbHVlKDApfWdldFZhbHVlcygpe2xldCBlPXRoaXMuakNhbC5sZW5ndGgtbXM7aWYoZTwxKXJldHVybltdO2xldCB0PTAscz1bXTtmb3IoO3Q8ZTt0Kyspc1t0XT10aGlzLl9oeWRyYXRlVmFsdWUodCk7cmV0dXJuIHN9cmVtb3ZlQWxsVmFsdWVzKCl7dGhpcy5fdmFsdWVzJiYodGhpcy5fdmFsdWVzLmxlbmd0aD0wKSx0aGlzLmpDYWwubGVuZ3RoPTN9c2V0VmFsdWVzKGUpe2lmKCF0aGlzLmlzTXVsdGlWYWx1ZSl0aHJvdyBuZXcgRXJyb3IodGhpcy5uYW1lK2A6IGRvZXMgbm90IG5vdCBzdXBwb3J0IG11bGl0VmFsdWUuCm92ZXJyaWRlIGlzTXVsdGlWYWx1ZWApO2xldCB0PWUubGVuZ3RoLHM9MDtpZih0aGlzLnJlbW92ZUFsbFZhbHVlcygpLHQ+MCYmdHlwZW9mIGVbMF09PSJvYmplY3QiJiYiaWNhbHR5cGUiaW4gZVswXSYmdGhpcy5yZXNldFR5cGUoZVswXS5pY2FsdHlwZSksdGhpcy5pc0RlY29yYXRlZClmb3IoO3M8dDtzKyspdGhpcy5fc2V0RGVjb3JhdGVkVmFsdWUoZVtzXSxzKTtlbHNlIGZvcig7czx0O3MrKyl0aGlzLmpDYWxbbXMrc109ZVtzXX1zZXRWYWx1ZShlKXt0aGlzLnJlbW92ZUFsbFZhbHVlcygpLHR5cGVvZiBlPT0ib2JqZWN0IiYmImljYWx0eXBlImluIGUmJnRoaXMucmVzZXRUeXBlKGUuaWNhbHR5cGUpLHRoaXMuaXNEZWNvcmF0ZWQ/dGhpcy5fc2V0RGVjb3JhdGVkVmFsdWUoZSwwKTp0aGlzLmpDYWxbbXNdPWV9dG9KU09OKCl7cmV0dXJuIHRoaXMuakNhbH10b0lDQUxTdHJpbmcoKXtyZXR1cm4gaGUucHJvcGVydHkodGhpcy5qQ2FsLHRoaXMuX2Rlc2lnblNldCwhMCl9fWNvbnN0IHlzPTAscXQ9MSxwcz0yO2NsYXNzIGV0e2NvbnN0cnVjdG9yKGUsdCl7VCh0aGlzLCJfaHlkcmF0ZWRQcm9wZXJ0eUNvdW50IiwwKTtUKHRoaXMsIl9oeWRyYXRlZENvbXBvbmVudENvdW50IiwwKTtUKHRoaXMsIl90aW1lem9uZUNhY2hlIixudWxsKTtUKHRoaXMsIl9jb21wb25lbnRzIixudWxsKTtUKHRoaXMsIl9wcm9wZXJ0aWVzIixudWxsKTt0eXBlb2YgZT09InN0cmluZyImJihlPVtlLFtdLFtdXSksdGhpcy5qQ2FsPWUsdGhpcy5wYXJlbnQ9dHx8bnVsbCwhdGhpcy5wYXJlbnQmJnRoaXMubmFtZT09PSJ2Y2FsZW5kYXIiJiYodGhpcy5fdGltZXpvbmVDYWNoZT1uZXcgTWFwKX1zdGF0aWMgZnJvbVN0cmluZyhlKXtyZXR1cm4gbmV3IGV0KGVlLmNvbXBvbmVudChlKSl9Z2V0IG5hbWUoKXtyZXR1cm4gdGhpcy5qQ2FsW3lzXX1nZXQgX2Rlc2lnblNldCgpe3JldHVybiB0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuX2Rlc2lnblNldHx8TWUuZ2V0RGVzaWduU2V0KHRoaXMubmFtZSl9X2h5ZHJhdGVDb21wb25lbnQoZSl7aWYodGhpcy5fY29tcG9uZW50c3x8KHRoaXMuX2NvbXBvbmVudHM9W10sdGhpcy5faHlkcmF0ZWRDb21wb25lbnRDb3VudD0wKSx0aGlzLl9jb21wb25lbnRzW2VdKXJldHVybiB0aGlzLl9jb21wb25lbnRzW2VdO2xldCB0PW5ldyBldCh0aGlzLmpDYWxbcHNdW2VdLHRoaXMpO3JldHVybiB0aGlzLl9oeWRyYXRlZENvbXBvbmVudENvdW50KyssdGhpcy5fY29tcG9uZW50c1tlXT10fV9oeWRyYXRlUHJvcGVydHkoZSl7aWYodGhpcy5fcHJvcGVydGllc3x8KHRoaXMuX3Byb3BlcnRpZXM9W10sdGhpcy5faHlkcmF0ZWRQcm9wZXJ0eUNvdW50PTApLHRoaXMuX3Byb3BlcnRpZXNbZV0pcmV0dXJuIHRoaXMuX3Byb3BlcnRpZXNbZV07bGV0IHQ9bmV3IFlzKHRoaXMuakNhbFtxdF1bZV0sdGhpcyk7cmV0dXJuIHRoaXMuX2h5ZHJhdGVkUHJvcGVydHlDb3VudCsrLHRoaXMuX3Byb3BlcnRpZXNbZV09dH1nZXRGaXJzdFN1YmNvbXBvbmVudChlKXtpZihlKXtsZXQgdD0wLHM9dGhpcy5qQ2FsW3BzXSxpPXMubGVuZ3RoO2Zvcig7dDxpO3QrKylpZihzW3RdW3lzXT09PWUpcmV0dXJuIHRoaXMuX2h5ZHJhdGVDb21wb25lbnQodCl9ZWxzZSBpZih0aGlzLmpDYWxbcHNdLmxlbmd0aClyZXR1cm4gdGhpcy5faHlkcmF0ZUNvbXBvbmVudCgwKTtyZXR1cm4gbnVsbH1nZXRBbGxTdWJjb21wb25lbnRzKGUpe2xldCB0PXRoaXMuakNhbFtwc10ubGVuZ3RoLHM9MDtpZihlKXtsZXQgaT10aGlzLmpDYWxbcHNdLHI9W107Zm9yKDtzPHQ7cysrKWU9PT1pW3NdW3lzXSYmci5wdXNoKHRoaXMuX2h5ZHJhdGVDb21wb25lbnQocykpO3JldHVybiByfWVsc2V7aWYoIXRoaXMuX2NvbXBvbmVudHN8fHRoaXMuX2h5ZHJhdGVkQ29tcG9uZW50Q291bnQhPT10KWZvcig7czx0O3MrKyl0aGlzLl9oeWRyYXRlQ29tcG9uZW50KHMpO3JldHVybiB0aGlzLl9jb21wb25lbnRzfHxbXX19aGFzUHJvcGVydHkoZSl7bGV0IHQ9dGhpcy5qQ2FsW3F0XSxzPXQubGVuZ3RoLGk9MDtmb3IoO2k8cztpKyspaWYodFtpXVt5c109PT1lKXJldHVybiEwO3JldHVybiExfWdldEZpcnN0UHJvcGVydHkoZSl7aWYoZSl7bGV0IHQ9MCxzPXRoaXMuakNhbFtxdF0saT1zLmxlbmd0aDtmb3IoO3Q8aTt0KyspaWYoc1t0XVt5c109PT1lKXJldHVybiB0aGlzLl9oeWRyYXRlUHJvcGVydHkodCl9ZWxzZSBpZih0aGlzLmpDYWxbcXRdLmxlbmd0aClyZXR1cm4gdGhpcy5faHlkcmF0ZVByb3BlcnR5KDApO3JldHVybiBudWxsfWdldEZpcnN0UHJvcGVydHlWYWx1ZShlKXtsZXQgdD10aGlzLmdldEZpcnN0UHJvcGVydHkoZSk7cmV0dXJuIHQ/dC5nZXRGaXJzdFZhbHVlKCk6bnVsbH1nZXRBbGxQcm9wZXJ0aWVzKGUpe2xldCB0PXRoaXMuakNhbFtxdF0ubGVuZ3RoLHM9MDtpZihlKXtsZXQgaT10aGlzLmpDYWxbcXRdLHI9W107Zm9yKDtzPHQ7cysrKWU9PT1pW3NdW3lzXSYmci5wdXNoKHRoaXMuX2h5ZHJhdGVQcm9wZXJ0eShzKSk7cmV0dXJuIHJ9ZWxzZXtpZighdGhpcy5fcHJvcGVydGllc3x8dGhpcy5faHlkcmF0ZWRQcm9wZXJ0eUNvdW50IT09dClmb3IoO3M8dDtzKyspdGhpcy5faHlkcmF0ZVByb3BlcnR5KHMpO3JldHVybiB0aGlzLl9wcm9wZXJ0aWVzfHxbXX19X3JlbW92ZU9iamVjdEJ5SW5kZXgoZSx0LHMpe2lmKHQ9dHx8W10sdFtzXSl7bGV0IGk9dFtzXTsicGFyZW50ImluIGkmJihpLnBhcmVudD1udWxsKX10LnNwbGljZShzLDEpLHRoaXMuakNhbFtlXS5zcGxpY2UocywxKX1fcmVtb3ZlT2JqZWN0KGUsdCxzKXtsZXQgaT0wLHI9dGhpcy5qQ2FsW2VdLG89ci5sZW5ndGgsYT10aGlzW3RdO2lmKHR5cGVvZiBzPT0ic3RyaW5nIil7Zm9yKDtpPG87aSsrKWlmKHJbaV1beXNdPT09cylyZXR1cm4gdGhpcy5fcmVtb3ZlT2JqZWN0QnlJbmRleChlLGEsaSksITB9ZWxzZSBpZihhKXtmb3IoO2k8bztpKyspaWYoYVtpXSYmYVtpXT09PXMpcmV0dXJuIHRoaXMuX3JlbW92ZU9iamVjdEJ5SW5kZXgoZSxhLGkpLCEwfXJldHVybiExfV9yZW1vdmVBbGxPYmplY3RzKGUsdCxzKXtsZXQgaT10aGlzW3RdLHI9dGhpcy5qQ2FsW2VdLG89ci5sZW5ndGgtMTtmb3IoO28+PTA7by0tKSghc3x8cltvXVt5c109PT1zKSYmdGhpcy5fcmVtb3ZlT2JqZWN0QnlJbmRleChlLGksbyl9YWRkU3ViY29tcG9uZW50KGUpe3RoaXMuX2NvbXBvbmVudHN8fCh0aGlzLl9jb21wb25lbnRzPVtdLHRoaXMuX2h5ZHJhdGVkQ29tcG9uZW50Q291bnQ9MCksZS5wYXJlbnQmJmUucGFyZW50LnJlbW92ZVN1YmNvbXBvbmVudChlKTtsZXQgdD10aGlzLmpDYWxbcHNdLnB1c2goZS5qQ2FsKTtyZXR1cm4gdGhpcy5fY29tcG9uZW50c1t0LTFdPWUsdGhpcy5faHlkcmF0ZWRDb21wb25lbnRDb3VudCsrLGUucGFyZW50PXRoaXMsZX1yZW1vdmVTdWJjb21wb25lbnQoZSl7bGV0IHQ9dGhpcy5fcmVtb3ZlT2JqZWN0KHBzLCJfY29tcG9uZW50cyIsZSk7cmV0dXJuIHQmJnRoaXMuX2h5ZHJhdGVkQ29tcG9uZW50Q291bnQtLSx0fXJlbW92ZUFsbFN1YmNvbXBvbmVudHMoZSl7bGV0IHQ9dGhpcy5fcmVtb3ZlQWxsT2JqZWN0cyhwcywiX2NvbXBvbmVudHMiLGUpO3JldHVybiB0aGlzLl9oeWRyYXRlZENvbXBvbmVudENvdW50PTAsdH1hZGRQcm9wZXJ0eShlKXtpZighKGUgaW5zdGFuY2VvZiBZcykpdGhyb3cgbmV3IFR5cGVFcnJvcigibXVzdCBiZSBpbnN0YW5jZSBvZiBJQ0FMLlByb3BlcnR5Iik7dGhpcy5fcHJvcGVydGllc3x8KHRoaXMuX3Byb3BlcnRpZXM9W10sdGhpcy5faHlkcmF0ZWRQcm9wZXJ0eUNvdW50PTApLGUucGFyZW50JiZlLnBhcmVudC5yZW1vdmVQcm9wZXJ0eShlKTtsZXQgdD10aGlzLmpDYWxbcXRdLnB1c2goZS5qQ2FsKTtyZXR1cm4gdGhpcy5fcHJvcGVydGllc1t0LTFdPWUsdGhpcy5faHlkcmF0ZWRQcm9wZXJ0eUNvdW50KyssZS5wYXJlbnQ9dGhpcyxlfWFkZFByb3BlcnR5V2l0aFZhbHVlKGUsdCl7bGV0IHM9bmV3IFlzKGUpO3JldHVybiBzLnNldFZhbHVlKHQpLHRoaXMuYWRkUHJvcGVydHkocyksc311cGRhdGVQcm9wZXJ0eVdpdGhWYWx1ZShlLHQpe2xldCBzPXRoaXMuZ2V0Rmlyc3RQcm9wZXJ0eShlKTtyZXR1cm4gcz9zLnNldFZhbHVlKHQpOnM9dGhpcy5hZGRQcm9wZXJ0eVdpdGhWYWx1ZShlLHQpLHN9cmVtb3ZlUHJvcGVydHkoZSl7bGV0IHQ9dGhpcy5fcmVtb3ZlT2JqZWN0KHF0LCJfcHJvcGVydGllcyIsZSk7cmV0dXJuIHQmJnRoaXMuX2h5ZHJhdGVkUHJvcGVydHlDb3VudC0tLHR9cmVtb3ZlQWxsUHJvcGVydGllcyhlKXtsZXQgdD10aGlzLl9yZW1vdmVBbGxPYmplY3RzKHF0LCJfcHJvcGVydGllcyIsZSk7cmV0dXJuIHRoaXMuX2h5ZHJhdGVkUHJvcGVydHlDb3VudD0wLHR9dG9KU09OKCl7cmV0dXJuIHRoaXMuakNhbH10b1N0cmluZygpe3JldHVybiBoZS5jb21wb25lbnQodGhpcy5qQ2FsLHRoaXMuX2Rlc2lnblNldCl9Z2V0VGltZVpvbmVCeUlEKGUpe2lmKHRoaXMucGFyZW50KXJldHVybiB0aGlzLnBhcmVudC5nZXRUaW1lWm9uZUJ5SUQoZSk7aWYoIXRoaXMuX3RpbWV6b25lQ2FjaGUpcmV0dXJuIG51bGw7aWYodGhpcy5fdGltZXpvbmVDYWNoZS5oYXMoZSkpcmV0dXJuIHRoaXMuX3RpbWV6b25lQ2FjaGUuZ2V0KGUpO2NvbnN0IHQ9dGhpcy5nZXRBbGxTdWJjb21wb25lbnRzKCJ2dGltZXpvbmUiKTtmb3IoY29uc3QgcyBvZiB0KWlmKHMuZ2V0Rmlyc3RQcm9wZXJ0eSgidHppZCIpLmdldEZpcnN0VmFsdWUoKT09PWUpe2NvbnN0IGk9bmV3IHNlKHtjb21wb25lbnQ6cyx0emlkOmV9KTtyZXR1cm4gdGhpcy5fdGltZXpvbmVDYWNoZS5zZXQoZSxpKSxpfXJldHVybiBudWxsfX1jbGFzcyBnaHtjb25zdHJ1Y3RvcihlKXtUKHRoaXMsImNvbXBsZXRlIiwhMSk7VCh0aGlzLCJydWxlSXRlcmF0b3JzIixudWxsKTtUKHRoaXMsInJ1bGVEYXRlcyIsbnVsbCk7VCh0aGlzLCJleERhdGVzIixudWxsKTtUKHRoaXMsInJ1bGVEYXRlSW5jIiwwKTtUKHRoaXMsImV4RGF0ZUluYyIsMCk7VCh0aGlzLCJleERhdGUiLG51bGwpO1QodGhpcywicnVsZURhdGUiLG51bGwpO1QodGhpcywiZHRzdGFydCIsbnVsbCk7VCh0aGlzLCJsYXN0IixudWxsKTt0aGlzLnJ1bGVEYXRlcz1bXSx0aGlzLmV4RGF0ZXM9W10sdGhpcy5mcm9tRGF0YShlKX1mcm9tRGF0YShlKXtsZXQgdD1WdChlLmR0c3RhcnQseCk7aWYodCl0aGlzLmR0c3RhcnQ9dDtlbHNlIHRocm93IG5ldyBFcnJvcigiLmR0c3RhcnQgKElDQUwuVGltZSkgbXVzdCBiZSBnaXZlbiIpO2lmKGUuY29tcG9uZW50KXRoaXMuX2luaXQoZS5jb21wb25lbnQpO2Vsc2V7aWYodGhpcy5sYXN0PVZ0KGUubGFzdCx4KXx8dC5jbG9uZSgpLCFlLnJ1bGVJdGVyYXRvcnMpdGhyb3cgbmV3IEVycm9yKCIucnVsZUl0ZXJhdG9ycyBvciAuY29tcG9uZW50IG11c3QgYmUgZ2l2ZW4iKTt0aGlzLnJ1bGVJdGVyYXRvcnM9ZS5ydWxlSXRlcmF0b3JzLm1hcChmdW5jdGlvbihzKXtyZXR1cm4gVnQocyxhaSl9KSx0aGlzLnJ1bGVEYXRlSW5jPWUucnVsZURhdGVJbmMsdGhpcy5leERhdGVJbmM9ZS5leERhdGVJbmMsZS5ydWxlRGF0ZXMmJih0aGlzLnJ1bGVEYXRlcz1lLnJ1bGVEYXRlcy5tYXAocz0+VnQocyx4KSksdGhpcy5ydWxlRGF0ZT10aGlzLnJ1bGVEYXRlc1t0aGlzLnJ1bGVEYXRlSW5jXSksZS5leERhdGVzJiYodGhpcy5leERhdGVzPWUuZXhEYXRlcy5tYXAocz0+VnQocyx4KSksdGhpcy5leERhdGU9dGhpcy5leERhdGVzW3RoaXMuZXhEYXRlSW5jXSksdHlwZW9mIGUuY29tcGxldGU8InUiJiYodGhpcy5jb21wbGV0ZT1lLmNvbXBsZXRlKX19bmV4dCgpe2xldCBlLHQscyxpPTUwMCxyPTA7Zm9yKDs7KXtpZihyKys+aSl0aHJvdyBuZXcgRXJyb3IoIm1heCB0cmllcyBoYXZlIG9jY3VycmVkLCBydWxlIG1heSBiZSBpbXBvc3NpYmxlIHRvIGZ1bGZpbGwuIik7aWYodD10aGlzLnJ1bGVEYXRlLGU9dGhpcy5fbmV4dFJlY3VycmVuY2VJdGVyKHRoaXMubGFzdCksIXQmJiFlKXt0aGlzLmNvbXBsZXRlPSEwO2JyZWFrfWlmKCghdHx8ZSYmdC5jb21wYXJlKGUubGFzdCk+MCkmJih0PWUubGFzdC5jbG9uZSgpLGUubmV4dCgpKSx0aGlzLnJ1bGVEYXRlPT09dCYmdGhpcy5fbmV4dFJ1bGVEYXkoKSx0aGlzLmxhc3Q9dCx0aGlzLmV4RGF0ZSYmKHM9dGhpcy5leERhdGUuY29tcGFyZSh0aGlzLmxhc3QpLHM8MCYmdGhpcy5fbmV4dEV4RGF5KCkscz09PTApKXt0aGlzLl9uZXh0RXhEYXkoKTtjb250aW51ZX1yZXR1cm4gdGhpcy5sYXN0fX10b0pTT04oKXtmdW5jdGlvbiBlKHMpe3JldHVybiBzLnRvSlNPTigpfWxldCB0PU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIHQucnVsZUl0ZXJhdG9ycz10aGlzLnJ1bGVJdGVyYXRvcnMubWFwKGUpLHRoaXMucnVsZURhdGVzJiYodC5ydWxlRGF0ZXM9dGhpcy5ydWxlRGF0ZXMubWFwKGUpKSx0aGlzLmV4RGF0ZXMmJih0LmV4RGF0ZXM9dGhpcy5leERhdGVzLm1hcChlKSksdC5ydWxlRGF0ZUluYz10aGlzLnJ1bGVEYXRlSW5jLHQuZXhEYXRlSW5jPXRoaXMuZXhEYXRlSW5jLHQubGFzdD10aGlzLmxhc3QudG9KU09OKCksdC5kdHN0YXJ0PXRoaXMuZHRzdGFydC50b0pTT04oKSx0LmNvbXBsZXRlPXRoaXMuY29tcGxldGUsdH1fZXh0cmFjdERhdGVzKGUsdCl7bGV0IHM9W10saT1lLmdldEFsbFByb3BlcnRpZXModCk7Zm9yKGxldCByPTAsbz1pLmxlbmd0aDtyPG87cisrKWZvcihsZXQgYSBvZiBpW3JdLmdldFZhbHVlcygpKXtsZXQgbD1DcyhzLGEsKHUsaCk9PnUuY29tcGFyZShoKSk7cy5zcGxpY2UobCwwLGEpfXJldHVybiBzfV9pbml0KGUpe2lmKHRoaXMucnVsZUl0ZXJhdG9ycz1bXSx0aGlzLmxhc3Q9dGhpcy5kdHN0YXJ0LmNsb25lKCksIWUuaGFzUHJvcGVydHkoInJkYXRlIikmJiFlLmhhc1Byb3BlcnR5KCJycnVsZSIpJiYhZS5oYXNQcm9wZXJ0eSgicmVjdXJyZW5jZS1pZCIpKXt0aGlzLnJ1bGVEYXRlPXRoaXMubGFzdC5jbG9uZSgpLHRoaXMuY29tcGxldGU9ITA7cmV0dXJufWlmKGUuaGFzUHJvcGVydHkoInJkYXRlIikmJih0aGlzLnJ1bGVEYXRlcz10aGlzLl9leHRyYWN0RGF0ZXMoZSwicmRhdGUiKSx0aGlzLnJ1bGVEYXRlc1swXSYmdGhpcy5ydWxlRGF0ZXNbMF0uY29tcGFyZSh0aGlzLmR0c3RhcnQpPDA/KHRoaXMucnVsZURhdGVJbmM9MCx0aGlzLmxhc3Q9dGhpcy5ydWxlRGF0ZXNbMF0uY2xvbmUoKSk6dGhpcy5ydWxlRGF0ZUluYz1Dcyh0aGlzLnJ1bGVEYXRlcyx0aGlzLmxhc3QsKHQscyk9PnQuY29tcGFyZShzKSksdGhpcy5ydWxlRGF0ZT10aGlzLnJ1bGVEYXRlc1t0aGlzLnJ1bGVEYXRlSW5jXSksZS5oYXNQcm9wZXJ0eSgicnJ1bGUiKSl7bGV0IHQ9ZS5nZXRBbGxQcm9wZXJ0aWVzKCJycnVsZSIpLHM9MCxpPXQubGVuZ3RoLHIsbztmb3IoO3M8aTtzKyspcj10W3NdLmdldEZpcnN0VmFsdWUoKSxvPXIuaXRlcmF0b3IodGhpcy5kdHN0YXJ0KSx0aGlzLnJ1bGVJdGVyYXRvcnMucHVzaChvKSxvLm5leHQoKX1lLmhhc1Byb3BlcnR5KCJleGRhdGUiKSYmKHRoaXMuZXhEYXRlcz10aGlzLl9leHRyYWN0RGF0ZXMoZSwiZXhkYXRlIiksdGhpcy5leERhdGVJbmM9Q3ModGhpcy5leERhdGVzLHRoaXMubGFzdCwodCxzKT0+dC5jb21wYXJlKHMpKSx0aGlzLmV4RGF0ZT10aGlzLmV4RGF0ZXNbdGhpcy5leERhdGVJbmNdKX1fbmV4dEV4RGF5KCl7dGhpcy5leERhdGU9dGhpcy5leERhdGVzWysrdGhpcy5leERhdGVJbmNdfV9uZXh0UnVsZURheSgpe3RoaXMucnVsZURhdGU9dGhpcy5ydWxlRGF0ZXNbKyt0aGlzLnJ1bGVEYXRlSW5jXX1fbmV4dFJlY3VycmVuY2VJdGVyKCl7bGV0IGU9dGhpcy5ydWxlSXRlcmF0b3JzO2lmKGUubGVuZ3RoPT09MClyZXR1cm4gbnVsbDtsZXQgdD1lLmxlbmd0aCxzLGkscj0wLG87Zm9yKDtyPHQ7cisrKXtpZihzPWVbcl0saT1zLmxhc3Qscy5jb21wbGV0ZWQpe3QtLSxyIT09MCYmci0tLGUuc3BsaWNlKHIsMSk7Y29udGludWV9KCFvfHxvLmxhc3QuY29tcGFyZShpKT4wKSYmKG89cyl9cmV0dXJuIG99fWNvbnN0IHdpPWNsYXNzIHdpe2NvbnN0cnVjdG9yKGUsdCl7VCh0aGlzLCJleGNlcHRpb25zIixudWxsKTtUKHRoaXMsInN0cmljdEV4Y2VwdGlvbnMiLCExKTtlIGluc3RhbmNlb2YgZXR8fCh0PWUsZT1udWxsKSxlP3RoaXMuY29tcG9uZW50PWU6dGhpcy5jb21wb25lbnQ9bmV3IGV0KCJ2ZXZlbnQiKSx0aGlzLl9yYW5nZUV4Y2VwdGlvbkNhY2hlPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5leGNlcHRpb25zPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5yYW5nZUV4Y2VwdGlvbnM9W10sdCYmdC5zdHJpY3RFeGNlcHRpb25zJiYodGhpcy5zdHJpY3RFeGNlcHRpb25zPXQuc3RyaWN0RXhjZXB0aW9ucyksdCYmdC5leGNlcHRpb25zP3QuZXhjZXB0aW9ucy5mb3JFYWNoKHRoaXMucmVsYXRlRXhjZXB0aW9uLHRoaXMpOnRoaXMuY29tcG9uZW50LnBhcmVudCYmIXRoaXMuaXNSZWN1cnJlbmNlRXhjZXB0aW9uKCkmJnRoaXMuY29tcG9uZW50LnBhcmVudC5nZXRBbGxTdWJjb21wb25lbnRzKCJ2ZXZlbnQiKS5mb3JFYWNoKGZ1bmN0aW9uKHMpe3MuaGFzUHJvcGVydHkoInJlY3VycmVuY2UtaWQiKSYmdGhpcy5yZWxhdGVFeGNlcHRpb24ocyl9LHRoaXMpfXJlbGF0ZUV4Y2VwdGlvbihlKXtpZih0aGlzLmlzUmVjdXJyZW5jZUV4Y2VwdGlvbigpKXRocm93IG5ldyBFcnJvcigiY2Fubm90IHJlbGF0ZSBleGNlcHRpb24gdG8gZXhjZXB0aW9ucyIpO2lmKGUgaW5zdGFuY2VvZiBldCYmKGU9bmV3IHdpKGUpKSx0aGlzLnN0cmljdEV4Y2VwdGlvbnMmJmUudWlkIT09dGhpcy51aWQpdGhyb3cgbmV3IEVycm9yKCJhdHRlbXB0ZWQgdG8gcmVsYXRlIHVucmVsYXRlZCBleGNlcHRpb24iKTtsZXQgdD1lLnJlY3VycmVuY2VJZC50b1N0cmluZygpO2lmKHRoaXMuZXhjZXB0aW9uc1t0XT1lLGUubW9kaWZpZXNGdXR1cmUoKSl7bGV0IHM9W2UucmVjdXJyZW5jZUlkLnRvVW5peFRpbWUoKSx0XSxpPUNzKHRoaXMucmFuZ2VFeGNlcHRpb25zLHMsd2gpO3RoaXMucmFuZ2VFeGNlcHRpb25zLnNwbGljZShpLDAscyl9fW1vZGlmaWVzRnV0dXJlKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Lmhhc1Byb3BlcnR5KCJyZWN1cnJlbmNlLWlkIik/dGhpcy5jb21wb25lbnQuZ2V0Rmlyc3RQcm9wZXJ0eSgicmVjdXJyZW5jZS1pZCIpLmdldFBhcmFtZXRlcigicmFuZ2UiKT09PXdpLlRISVNBTkRGVVRVUkU6ITF9ZmluZFJhbmdlRXhjZXB0aW9uKGUpe2lmKCF0aGlzLnJhbmdlRXhjZXB0aW9ucy5sZW5ndGgpcmV0dXJuIG51bGw7bGV0IHQ9ZS50b1VuaXhUaW1lKCkscz1Dcyh0aGlzLnJhbmdlRXhjZXB0aW9ucyxbdF0sd2gpO2lmKHMtPTEsczwwKXJldHVybiBudWxsO2xldCBpPXRoaXMucmFuZ2VFeGNlcHRpb25zW3NdO3JldHVybiB0PGlbMF0/bnVsbDppWzFdfWdldE9jY3VycmVuY2VEZXRhaWxzKGUpe2xldCB0PWUudG9TdHJpbmcoKSxzPWUuY29udmVydFRvWm9uZShzZS51dGNUaW1lem9uZSkudG9TdHJpbmcoKSxpLHI9e3JlY3VycmVuY2VJZDplfTtpZih0IGluIHRoaXMuZXhjZXB0aW9ucylpPXIuaXRlbT10aGlzLmV4Y2VwdGlvbnNbdF0sci5zdGFydERhdGU9aS5zdGFydERhdGUsci5lbmREYXRlPWkuZW5kRGF0ZSxyLml0ZW09aTtlbHNlIGlmKHMgaW4gdGhpcy5leGNlcHRpb25zKWk9dGhpcy5leGNlcHRpb25zW3NdLHIuc3RhcnREYXRlPWkuc3RhcnREYXRlLHIuZW5kRGF0ZT1pLmVuZERhdGUsci5pdGVtPWk7ZWxzZXtsZXQgbz10aGlzLmZpbmRSYW5nZUV4Y2VwdGlvbihlKSxhO2lmKG8pe2xldCBsPXRoaXMuZXhjZXB0aW9uc1tvXTtyLml0ZW09bDtsZXQgdT10aGlzLl9yYW5nZUV4Y2VwdGlvbkNhY2hlW29dO2lmKCF1KXtsZXQgYz1sLnJlY3VycmVuY2VJZC5jbG9uZSgpLG09bC5zdGFydERhdGUuY2xvbmUoKTtjLnpvbmU9bS56b25lLHU9bS5zdWJ0cmFjdERhdGUoYyksdGhpcy5fcmFuZ2VFeGNlcHRpb25DYWNoZVtvXT11fWxldCBoPWUuY2xvbmUoKTtoLnpvbmU9bC5zdGFydERhdGUuem9uZSxoLmFkZER1cmF0aW9uKHUpLGE9aC5jbG9uZSgpLGEuYWRkRHVyYXRpb24obC5kdXJhdGlvbiksci5zdGFydERhdGU9aCxyLmVuZERhdGU9YX1lbHNlIGE9ZS5jbG9uZSgpLGEuYWRkRHVyYXRpb24odGhpcy5kdXJhdGlvbiksci5lbmREYXRlPWEsci5zdGFydERhdGU9ZSxyLml0ZW09dGhpc31yZXR1cm4gcn1pdGVyYXRvcihlKXtyZXR1cm4gbmV3IGdoKHtjb21wb25lbnQ6dGhpcy5jb21wb25lbnQsZHRzdGFydDplfHx0aGlzLnN0YXJ0RGF0ZX0pfWlzUmVjdXJyaW5nKCl7bGV0IGU9dGhpcy5jb21wb25lbnQ7cmV0dXJuIGUuaGFzUHJvcGVydHkoInJydWxlIil8fGUuaGFzUHJvcGVydHkoInJkYXRlIil9aXNSZWN1cnJlbmNlRXhjZXB0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Lmhhc1Byb3BlcnR5KCJyZWN1cnJlbmNlLWlkIil9Z2V0UmVjdXJyZW5jZVR5cGVzKCl7bGV0IGU9dGhpcy5jb21wb25lbnQuZ2V0QWxsUHJvcGVydGllcygicnJ1bGUiKSx0PTAscz1lLmxlbmd0aCxpPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKDt0PHM7dCsrKXtsZXQgcj1lW3RdLmdldEZpcnN0VmFsdWUoKTtpW3IuZnJlcV09ITB9cmV0dXJuIGl9Z2V0IHVpZCgpe3JldHVybiB0aGlzLl9maXJzdFByb3AoInVpZCIpfXNldCB1aWQoZSl7dGhpcy5fc2V0UHJvcCgidWlkIixlKX1nZXQgc3RhcnREYXRlKCl7cmV0dXJuIHRoaXMuX2ZpcnN0UHJvcCgiZHRzdGFydCIpfXNldCBzdGFydERhdGUoZSl7dGhpcy5fc2V0VGltZSgiZHRzdGFydCIsZSl9Z2V0IGVuZERhdGUoKXtsZXQgZT10aGlzLl9maXJzdFByb3AoImR0ZW5kIik7aWYoIWUpe2xldCB0PXRoaXMuX2ZpcnN0UHJvcCgiZHVyYXRpb24iKTtlPXRoaXMuc3RhcnREYXRlLmNsb25lKCksdD9lLmFkZER1cmF0aW9uKHQpOmUuaXNEYXRlJiYoZS5kYXkrPTEpfXJldHVybiBlfXNldCBlbmREYXRlKGUpe3RoaXMuY29tcG9uZW50Lmhhc1Byb3BlcnR5KCJkdXJhdGlvbiIpJiZ0aGlzLmNvbXBvbmVudC5yZW1vdmVQcm9wZXJ0eSgiZHVyYXRpb24iKSx0aGlzLl9zZXRUaW1lKCJkdGVuZCIsZSl9Z2V0IGR1cmF0aW9uKCl7bGV0IGU9dGhpcy5fZmlyc3RQcm9wKCJkdXJhdGlvbiIpO3JldHVybiBlfHx0aGlzLmVuZERhdGUuc3VidHJhY3REYXRlVHoodGhpcy5zdGFydERhdGUpfXNldCBkdXJhdGlvbihlKXt0aGlzLmNvbXBvbmVudC5oYXNQcm9wZXJ0eSgiZHRlbmQiKSYmdGhpcy5jb21wb25lbnQucmVtb3ZlUHJvcGVydHkoImR0ZW5kIiksdGhpcy5fc2V0UHJvcCgiZHVyYXRpb24iLGUpfWdldCBsb2NhdGlvbigpe3JldHVybiB0aGlzLl9maXJzdFByb3AoImxvY2F0aW9uIil9c2V0IGxvY2F0aW9uKGUpe3RoaXMuX3NldFByb3AoImxvY2F0aW9uIixlKX1nZXQgYXR0ZW5kZWVzKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50LmdldEFsbFByb3BlcnRpZXMoImF0dGVuZGVlIil9Z2V0IHN1bW1hcnkoKXtyZXR1cm4gdGhpcy5fZmlyc3RQcm9wKCJzdW1tYXJ5Iil9c2V0IHN1bW1hcnkoZSl7dGhpcy5fc2V0UHJvcCgic3VtbWFyeSIsZSl9Z2V0IGRlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpcnN0UHJvcCgiZGVzY3JpcHRpb24iKX1zZXQgZGVzY3JpcHRpb24oZSl7dGhpcy5fc2V0UHJvcCgiZGVzY3JpcHRpb24iLGUpfWdldCBjb2xvcigpe3JldHVybiB0aGlzLl9maXJzdFByb3AoImNvbG9yIil9c2V0IGNvbG9yKGUpe3RoaXMuX3NldFByb3AoImNvbG9yIixlKX1nZXQgb3JnYW5pemVyKCl7cmV0dXJuIHRoaXMuX2ZpcnN0UHJvcCgib3JnYW5pemVyIil9c2V0IG9yZ2FuaXplcihlKXt0aGlzLl9zZXRQcm9wKCJvcmdhbml6ZXIiLGUpfWdldCBzZXF1ZW5jZSgpe3JldHVybiB0aGlzLl9maXJzdFByb3AoInNlcXVlbmNlIil9c2V0IHNlcXVlbmNlKGUpe3RoaXMuX3NldFByb3AoInNlcXVlbmNlIixlKX1nZXQgcmVjdXJyZW5jZUlkKCl7cmV0dXJuIHRoaXMuX2ZpcnN0UHJvcCgicmVjdXJyZW5jZS1pZCIpfXNldCByZWN1cnJlbmNlSWQoZSl7dGhpcy5fc2V0VGltZSgicmVjdXJyZW5jZS1pZCIsZSl9X3NldFRpbWUoZSx0KXtsZXQgcz10aGlzLmNvbXBvbmVudC5nZXRGaXJzdFByb3BlcnR5KGUpO3N8fChzPW5ldyBZcyhlKSx0aGlzLmNvbXBvbmVudC5hZGRQcm9wZXJ0eShzKSksdC56b25lPT09c2UubG9jYWxUaW1lem9uZXx8dC56b25lPT09c2UudXRjVGltZXpvbmU/cy5yZW1vdmVQYXJhbWV0ZXIoInR6aWQiKTpzLnNldFBhcmFtZXRlcigidHppZCIsdC56b25lLnR6aWQpLHMuc2V0VmFsdWUodCl9X3NldFByb3AoZSx0KXt0aGlzLmNvbXBvbmVudC51cGRhdGVQcm9wZXJ0eVdpdGhWYWx1ZShlLHQpfV9maXJzdFByb3AoZSl7cmV0dXJuIHRoaXMuY29tcG9uZW50LmdldEZpcnN0UHJvcGVydHlWYWx1ZShlKX10b1N0cmluZygpe3JldHVybiB0aGlzLmNvbXBvbmVudC50b1N0cmluZygpfX07VCh3aSwiVEhJU0FOREZVVFVSRSIsIlRISVNBTkRGVVRVUkUiKTtsZXQgSXI9d2k7ZnVuY3Rpb24gd2gobixlKXtyZXR1cm4gblswXT5lWzBdPzE6ZVswXT5uWzBdPy0xOjB9Y2xhc3Mgbnd7Y29uc3RydWN0b3IoZSl7VCh0aGlzLCJwYXJzZUV2ZW50IiwhMCk7VCh0aGlzLCJwYXJzZVRpbWV6b25lIiwhMCk7VCh0aGlzLCJvbmNvbXBsZXRlIixmdW5jdGlvbigpe30pO1QodGhpcywib25lcnJvciIsZnVuY3Rpb24oZSl7fSk7VCh0aGlzLCJvbnRpbWV6b25lIixmdW5jdGlvbihlKXt9KTtUKHRoaXMsIm9uZXZlbnQiLGZ1bmN0aW9uKGUpe30pO3R5cGVvZiBlPiJ1IiYmKGU9e30pO2ZvcihsZXRbdCxzXW9mIE9iamVjdC5lbnRyaWVzKGUpKXRoaXNbdF09c31wcm9jZXNzKGUpe3R5cGVvZiBlPT0ic3RyaW5nIiYmKGU9ZWUoZSkpLGUgaW5zdGFuY2VvZiBldHx8KGU9bmV3IGV0KGUpKTtsZXQgdD1lLmdldEFsbFN1YmNvbXBvbmVudHMoKSxzPTAsaT10Lmxlbmd0aCxyO2Zvcig7czxpO3MrKylzd2l0Y2gocj10W3NdLHIubmFtZSl7Y2FzZSJ2dGltZXpvbmUiOmlmKHRoaXMucGFyc2VUaW1lem9uZSl7bGV0IG89ci5nZXRGaXJzdFByb3BlcnR5VmFsdWUoInR6aWQiKTtvJiZ0aGlzLm9udGltZXpvbmUobmV3IHNlKHt0emlkOm8sY29tcG9uZW50OnJ9KSl9YnJlYWs7Y2FzZSJ2ZXZlbnQiOnRoaXMucGFyc2VFdmVudCYmdGhpcy5vbmV2ZW50KG5ldyBJcihyKSk7YnJlYWs7ZGVmYXVsdDpjb250aW51ZX10aGlzLm9uY29tcGxldGUoKX19dmFyIHBhPXtmb2xkTGVuZ3RoOjc1LGRlYnVnOiExLG5ld0xpbmVDaGFyOmBccgpgLEJpbmFyeTp5cixDb21wb25lbnQ6ZXQsQ29tcG9uZW50UGFyc2VyOm53LER1cmF0aW9uOlVlLEV2ZW50OklyLFBlcmlvZDpkcyxQcm9wZXJ0eTpZcyxSZWN1cjp6ZSxSZWN1ckV4cGFuc2lvbjpnaCxSZWN1ckl0ZXJhdG9yOmFpLFRpbWU6eCxUaW1lem9uZTpzZSxUaW1lem9uZVNlcnZpY2U6Z3IsVXRjT2Zmc2V0Omt0LFZDYXJkVGltZTpocyxwYXJzZTplZSxzdHJpbmdpZnk6aGUsZGVzaWduOk1lLGhlbHBlcnM6JDB9LHllOyhmdW5jdGlvbihuKXtuW24uU0VDT05EPTBdPSJTRUNPTkQiLG5bbi5RVUFSVEVSX01JTlVURT0xXT0iUVVBUlRFUl9NSU5VVEUiLG5bbi5NSU5VVEU9Ml09Ik1JTlVURSIsbltuLlFVQVJURVJfSE9VUj0zXT0iUVVBUlRFUl9IT1VSIixuW24uSE9VUj00XT0iSE9VUiIsbltuLkRBWT01XT0iREFZIixuW24uTU9OVEg9Nl09Ik1PTlRIIixuW24uWUVBUj03XT0iWUVBUiIsbltuLkRFQ0FERT04XT0iREVDQURFIixuW24uQ0VOVD05XT0iQ0VOVCJ9KSh5ZXx8KHllPXt9KSkseWUuQ0VOVCsiIix5ZS5ERUNBREUrIiIseWUuWUVBUisiIix5ZS5NT05USCsiIix5ZS5EQVkrIiIseWUuSE9VUisiIix5ZS5NSU5VVEUrIiIseWUuUVVBUlRFUl9IT1VSKyIiLHllLlFVQVJURVJfTUlOVVRFKyIiLHllLlNFQ09ORCsiIix5ZS5DRU5UKyIiLHllLkRFQ0FERSsiIix5ZS5ZRUFSKyIiLHllLk1PTlRIKyIiLHllLkRBWSsiIix5ZS5IT1VSKyIiLHllLlFVQVJURVJfSE9VUisiIix5ZS5NSU5VVEUrIiIseWUuUVVBUlRFUl9NSU5VVEUrIiIseWUuU0VDT05EKyIiO2Z1bmN0aW9uIGl3KG4sZSx0LHMpe2NvbnN0IGk9bltlXSxyPWkubWF0Y2goRmkpO2lmKHIpe2NvbnN0IG89e2Zyb206dFtlXSx0bzp0W2VdK3JbMF0ubGVuZ3RoLHR5cGU6Vy5TZWN0aW9ufTtzLnJhbmdlcy5wdXNoKG8pO2NvbnN0IGE9bnAoaSxyLG8pLHtwcm9wZXJ0aWVzOmwsaTp1LHByb3BPcmRlcjpofT1zaChuLHQsZSsxLHMpO2EucHJvcGVydGllcz1sLGEucHJvcE9yZGVyPWg7bGV0IGM9bC50aW1lem9uZXx8bC50ejtyZXR1cm4gdHlwZW9mIGMhPSJzdHJpbmciJiZ0eXBlb2YgYyE9Im51bWJlciImJihjPXZvaWQgMCksYyYmKGxzKGMscy5jYWNoZSl8fHMucGFyc2VNZXNzYWdlcy5wdXNoKHt0eXBlOiJlcnJvciIsbWVzc2FnZTpgVW5hYmxlIHRvIHBhcnNlIHRpbWV6b25lICIke2N9ImAscG9zOltvLmZyb20sby50b119KSkscy5wdXNoKGEpLHMuc3RhcnRGb2xkYWJsZVNlY3Rpb24oe3R5cGU6Vy5TZWN0aW9uLHN0YXJ0TGluZTplLHN0YXJ0SW5kZXg6dFtlXSxlbmRJbmRleDp0W2VdK2kubGVuZ3RoLGZvbGRTdGFydEluZGV4OnRbZV0raS5sZW5ndGh9KSx7ZW5kOnV9fXJldHVybiExfWxldCBydz1bXSxvdz1bXTsoKCk9PntsZXQgbj0ibGMsMzQsN24sNyw3YiwxOSwsLCwyLCwyLCwsMjAsYiwxYyxsLGcsLDJ0LDcsMiw2LDIsMiwsNCx6LCx1LHIsMmosYiwxbSw5LDksLG8sNCwsOSwsMywsNSwxNywzLDNiLGYsLHcsMWosLCwsNCw4LDQsLDMsNyxhLDIsdCwsMW0sLCwsMiw0LDgsLDksLGEsMixxLCwyLDIsMWwsLDQsMiw0LDIsMiwzLDMsLHUsMiwzLCxiLDIsMWwsLDQsNSwsMiw0LCxrLDIsbSw2LCwsMW0sLCwyLCw0LDgsLDcsMyxhLDIsdSwsMW4sLCwsYywsOSwsMTQsLDMsLDFsLDMsNSwzLCw0LDcsMixiLDIsdCwsMW0sLDIsLDIsLDMsLDUsMiw3LDIsYiwyLHMsMiwxbCwyLCwsMiw0LDgsLDksLGEsMix0LCwyMCwsNCwsMiwzLCwsOCwsMjksLDIsNyxjLDgsMnEsLDIsOSxiLDYsMjIsMixyLCwsLCwsMWosZSwsNSwsMiw1LGIsLDEwLDksLDJ1LDQsLDYsLDIsMiwyLHAsMiw0LDMsZyw0LGQsLDIsMiw2LCxmLCxqaiwzLHFhLDMsdCwzLHQsMix1LDIsMXMsMiwsNyw4LCwyLGIsOSwsMTksMywzYiwyLHksLDNhLDMsNCwyLDksLDYsMyw2MywyLDIsLDFtLCwsNywsLCwsMiw4LDYsYSwyLCwxYyxoLDFyLDQsMWMsNywsLDUsLDE0LDksYywyLHcsNCwyLDIsLDMsMWssLCwyLDMsLCwzLDFtLDgsMiwyLDQ4LDMsLGQsLDcsNCwsNiwsMywyLDVpLDFtLCw1LGVrLCw1Zix4LDJkYSwzLDN4LCwybyx3LGZlLDYsMngsMixuOXcsNCwsYSx3LDIsMjgsMiw3aywsMywsNCwscCwyLDUsLDQ3LDIscSxpLGQsLDEyLDgscCxiLDFhLDMsMWMsLDIsNCwyLDIsMTMsLDF2LDYsMiwyLDIsMixjLCw4LCwxYiwsMWYsLCwzLDIsMiw1LDIsLCwxNiwyLDgsLDZtLCwyLCw0LCxmbjQsLGtoLGcsZyxnLGE2LDIsZ3QsLDZhLCw0NSw1LDFhZSwzLCwyLDUsNCwxNCwzLDQsLDRsLDIsZngsNCxhciwyLDQ5LGIsNHcsLDFpLGYsMWssMywxZCw0LDIsMiwxeCwzLDEwLDUsLDgsMXEsLGMsMiwxZyw5LGEsNCwyLCwybiwzLDIsLCwyLDYsLDRnLCwzLDgsbCwyLDFsLDIsLCwsLG0sLGUsNywzLDUsNWYsOCwyLDMsLCxuLCwyOSwsMiw2LCwsMiwsLDIsLDIsNmosLDIsNCw2LDIsLDIsciwyLDJkLDgsMiwsLDIsMnksLCwsMiw2LCwsMnQsMywyLDQsLDUsNzcsOSwsMiw2dCwsYSwyLCwsNCwsNDAsNCwyLDIsNCwsdyxhLDE0LDYsMiw0LDgsLDksNiwyLDMsMWEsZCwsMixiYSw3LCw2LCwsMmEsbSwyLDcsLDIsLDIsM2UsNiwzLCwsMiwsNywsLDIwLDIsMywsLCw5biwyLGYwYiw1LDFuLDcsdDQsLDFyLDQsMjksLGY1aywyLDQzcSwsLDMsNCw1LDgsOCwyLDcsdSw0LDQ0LDMsMWl6LDFqLDQsMWUsOCwsZSwsbSw1LCxmLDExcyw3LCxoLDIsNywsMiwsNSw3OSw3LGM1LDQsMTVzLDcsMzEsNywyNDAsNSxneDdrLDJvLDNrLDZvIi5zcGxpdCgiLCIpLm1hcChlPT5lP3BhcnNlSW50KGUsMzYpOjEpO2ZvcihsZXQgZT0wLHQ9MDtlPG4ubGVuZ3RoO2UrKykoZSUyP293OnJ3KS5wdXNoKHQ9dCtuW2VdKX0pKCk7Y2xhc3MgUnN7bGluZUF0KGUpe2lmKGU8MHx8ZT50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihgSW52YWxpZCBwb3NpdGlvbiAke2V9IGluIGRvY3VtZW50IG9mIGxlbmd0aCAke3RoaXMubGVuZ3RofWApO3JldHVybiB0aGlzLmxpbmVJbm5lcihlLCExLDEsMCl9bGluZShlKXtpZihlPDF8fGU+dGhpcy5saW5lcyl0aHJvdyBuZXcgUmFuZ2VFcnJvcihgSW52YWxpZCBsaW5lIG51bWJlciAke2V9IGluICR7dGhpcy5saW5lc30tbGluZSBkb2N1bWVudGApO3JldHVybiB0aGlzLmxpbmVJbm5lcihlLCEwLDEsMCl9cmVwbGFjZShlLHQscyl7W2UsdF09RW4odGhpcyxlLHQpO2xldCBpPVtdO3JldHVybiB0aGlzLmRlY29tcG9zZSgwLGUsaSwyKSxzLmxlbmd0aCYmcy5kZWNvbXBvc2UoMCxzLmxlbmd0aCxpLDMpLHRoaXMuZGVjb21wb3NlKHQsdGhpcy5sZW5ndGgsaSwxKSxVdC5mcm9tKGksdGhpcy5sZW5ndGgtKHQtZSkrcy5sZW5ndGgpfWFwcGVuZChlKXtyZXR1cm4gdGhpcy5yZXBsYWNlKHRoaXMubGVuZ3RoLHRoaXMubGVuZ3RoLGUpfXNsaWNlKGUsdD10aGlzLmxlbmd0aCl7W2UsdF09RW4odGhpcyxlLHQpO2xldCBzPVtdO3JldHVybiB0aGlzLmRlY29tcG9zZShlLHQscywwKSxVdC5mcm9tKHMsdC1lKX1lcShlKXtpZihlPT10aGlzKXJldHVybiEwO2lmKGUubGVuZ3RoIT10aGlzLmxlbmd0aHx8ZS5saW5lcyE9dGhpcy5saW5lcylyZXR1cm4hMTtsZXQgdD10aGlzLnNjYW5JZGVudGljYWwoZSwxKSxzPXRoaXMubGVuZ3RoLXRoaXMuc2NhbklkZW50aWNhbChlLC0xKSxpPW5ldyB1aSh0aGlzKSxyPW5ldyB1aShlKTtmb3IobGV0IG89dCxhPXQ7Oyl7aWYoaS5uZXh0KG8pLHIubmV4dChvKSxvPTAsaS5saW5lQnJlYWshPXIubGluZUJyZWFrfHxpLmRvbmUhPXIuZG9uZXx8aS52YWx1ZSE9ci52YWx1ZSlyZXR1cm4hMTtpZihhKz1pLnZhbHVlLmxlbmd0aCxpLmRvbmV8fGE+PXMpcmV0dXJuITB9fWl0ZXIoZT0xKXtyZXR1cm4gbmV3IHVpKHRoaXMsZSl9aXRlclJhbmdlKGUsdD10aGlzLmxlbmd0aCl7cmV0dXJuIG5ldyBUaCh0aGlzLGUsdCl9aXRlckxpbmVzKGUsdCl7bGV0IHM7aWYoZT09bnVsbClzPXRoaXMuaXRlcigpO2Vsc2V7dD09bnVsbCYmKHQ9dGhpcy5saW5lcysxKTtsZXQgaT10aGlzLmxpbmUoZSkuZnJvbTtzPXRoaXMuaXRlclJhbmdlKGksTWF0aC5tYXgoaSx0PT10aGlzLmxpbmVzKzE/dGhpcy5sZW5ndGg6dDw9MT8wOnRoaXMubGluZSh0LTEpLnRvKSl9cmV0dXJuIG5ldyBraChzKX10b1N0cmluZygpe3JldHVybiB0aGlzLnNsaWNlU3RyaW5nKDApfXRvSlNPTigpe2xldCBlPVtdO3JldHVybiB0aGlzLmZsYXR0ZW4oZSksZX1jb25zdHJ1Y3Rvcigpe31zdGF0aWMgb2YoZSl7aWYoZS5sZW5ndGg9PTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkEgZG9jdW1lbnQgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBsaW5lIik7cmV0dXJuIGUubGVuZ3RoPT0xJiYhZVswXT9Scy5lbXB0eTplLmxlbmd0aDw9MzI/bmV3IGJlKGUpOlV0LmZyb20oYmUuc3BsaXQoZSxbXSkpfX1jbGFzcyBiZSBleHRlbmRzIFJze2NvbnN0cnVjdG9yKGUsdD1hdyhlKSl7c3VwZXIoKSx0aGlzLnRleHQ9ZSx0aGlzLmxlbmd0aD10fWdldCBsaW5lcygpe3JldHVybiB0aGlzLnRleHQubGVuZ3RofWdldCBjaGlsZHJlbigpe3JldHVybiBudWxsfWxpbmVJbm5lcihlLHQscyxpKXtmb3IobGV0IHI9MDs7cisrKXtsZXQgbz10aGlzLnRleHRbcl0sYT1pK28ubGVuZ3RoO2lmKCh0P3M6YSk+PWUpcmV0dXJuIG5ldyBsdyhpLGEscyxvKTtpPWErMSxzKyt9fWRlY29tcG9zZShlLHQscyxpKXtsZXQgcj1lPD0wJiZ0Pj10aGlzLmxlbmd0aD90aGlzOm5ldyBiZShiaCh0aGlzLnRleHQsZSx0KSxNYXRoLm1pbih0LHRoaXMubGVuZ3RoKS1NYXRoLm1heCgwLGUpKTtpZihpJjEpe2xldCBvPXMucG9wKCksYT1EcihyLnRleHQsby50ZXh0LnNsaWNlKCksMCxyLmxlbmd0aCk7aWYoYS5sZW5ndGg8PTMyKXMucHVzaChuZXcgYmUoYSxvLmxlbmd0aCtyLmxlbmd0aCkpO2Vsc2V7bGV0IGw9YS5sZW5ndGg+PjE7cy5wdXNoKG5ldyBiZShhLnNsaWNlKDAsbCkpLG5ldyBiZShhLnNsaWNlKGwpKSl9fWVsc2Ugcy5wdXNoKHIpfXJlcGxhY2UoZSx0LHMpe2lmKCEocyBpbnN0YW5jZW9mIGJlKSlyZXR1cm4gc3VwZXIucmVwbGFjZShlLHQscyk7W2UsdF09RW4odGhpcyxlLHQpO2xldCBpPURyKHRoaXMudGV4dCxEcihzLnRleHQsYmgodGhpcy50ZXh0LDAsZSkpLHQpLHI9dGhpcy5sZW5ndGgrcy5sZW5ndGgtKHQtZSk7cmV0dXJuIGkubGVuZ3RoPD0zMj9uZXcgYmUoaSxyKTpVdC5mcm9tKGJlLnNwbGl0KGksW10pLHIpfXNsaWNlU3RyaW5nKGUsdD10aGlzLmxlbmd0aCxzPWAKYCl7W2UsdF09RW4odGhpcyxlLHQpO2xldCBpPSIiO2ZvcihsZXQgcj0wLG89MDtyPD10JiZvPHRoaXMudGV4dC5sZW5ndGg7bysrKXtsZXQgYT10aGlzLnRleHRbb10sbD1yK2EubGVuZ3RoO3I+ZSYmbyYmKGkrPXMpLGU8bCYmdD5yJiYoaSs9YS5zbGljZShNYXRoLm1heCgwLGUtciksdC1yKSkscj1sKzF9cmV0dXJuIGl9ZmxhdHRlbihlKXtmb3IobGV0IHQgb2YgdGhpcy50ZXh0KWUucHVzaCh0KX1zY2FuSWRlbnRpY2FsKCl7cmV0dXJuIDB9c3RhdGljIHNwbGl0KGUsdCl7bGV0IHM9W10saT0tMTtmb3IobGV0IHIgb2YgZSlzLnB1c2gociksaSs9ci5sZW5ndGgrMSxzLmxlbmd0aD09MzImJih0LnB1c2gobmV3IGJlKHMsaSkpLHM9W10saT0tMSk7cmV0dXJuIGk+LTEmJnQucHVzaChuZXcgYmUocyxpKSksdH19Y2xhc3MgVXQgZXh0ZW5kcyBSc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksdGhpcy5jaGlsZHJlbj1lLHRoaXMubGVuZ3RoPXQsdGhpcy5saW5lcz0wO2ZvcihsZXQgcyBvZiBlKXRoaXMubGluZXMrPXMubGluZXN9bGluZUlubmVyKGUsdCxzLGkpe2ZvcihsZXQgcj0wOztyKyspe2xldCBvPXRoaXMuY2hpbGRyZW5bcl0sYT1pK28ubGVuZ3RoLGw9cytvLmxpbmVzLTE7aWYoKHQ/bDphKT49ZSlyZXR1cm4gby5saW5lSW5uZXIoZSx0LHMsaSk7aT1hKzEscz1sKzF9fWRlY29tcG9zZShlLHQscyxpKXtmb3IobGV0IHI9MCxvPTA7bzw9dCYmcjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtyKyspe2xldCBhPXRoaXMuY2hpbGRyZW5bcl0sbD1vK2EubGVuZ3RoO2lmKGU8PWwmJnQ+PW8pe2xldCB1PWkmKChvPD1lPzE6MCl8KGw+PXQ/MjowKSk7bz49ZSYmbDw9dCYmIXU/cy5wdXNoKGEpOmEuZGVjb21wb3NlKGUtbyx0LW8scyx1KX1vPWwrMX19cmVwbGFjZShlLHQscyl7aWYoW2UsdF09RW4odGhpcyxlLHQpLHMubGluZXM8dGhpcy5saW5lcylmb3IobGV0IGk9MCxyPTA7aTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtpKyspe2xldCBvPXRoaXMuY2hpbGRyZW5baV0sYT1yK28ubGVuZ3RoO2lmKGU+PXImJnQ8PWEpe2xldCBsPW8ucmVwbGFjZShlLXIsdC1yLHMpLHU9dGhpcy5saW5lcy1vLmxpbmVzK2wubGluZXM7aWYobC5saW5lczx1Pj40JiZsLmxpbmVzPnU+PjYpe2xldCBoPXRoaXMuY2hpbGRyZW4uc2xpY2UoKTtyZXR1cm4gaFtpXT1sLG5ldyBVdChoLHRoaXMubGVuZ3RoLSh0LWUpK3MubGVuZ3RoKX1yZXR1cm4gc3VwZXIucmVwbGFjZShyLGEsbCl9cj1hKzF9cmV0dXJuIHN1cGVyLnJlcGxhY2UoZSx0LHMpfXNsaWNlU3RyaW5nKGUsdD10aGlzLmxlbmd0aCxzPWAKYCl7W2UsdF09RW4odGhpcyxlLHQpO2xldCBpPSIiO2ZvcihsZXQgcj0wLG89MDtyPHRoaXMuY2hpbGRyZW4ubGVuZ3RoJiZvPD10O3IrKyl7bGV0IGE9dGhpcy5jaGlsZHJlbltyXSxsPW8rYS5sZW5ndGg7bz5lJiZyJiYoaSs9cyksZTxsJiZ0Pm8mJihpKz1hLnNsaWNlU3RyaW5nKGUtbyx0LW8scykpLG89bCsxfXJldHVybiBpfWZsYXR0ZW4oZSl7Zm9yKGxldCB0IG9mIHRoaXMuY2hpbGRyZW4pdC5mbGF0dGVuKGUpfXNjYW5JZGVudGljYWwoZSx0KXtpZighKGUgaW5zdGFuY2VvZiBVdCkpcmV0dXJuIDA7bGV0IHM9MCxbaSxyLG8sYV09dD4wP1swLDAsdGhpcy5jaGlsZHJlbi5sZW5ndGgsZS5jaGlsZHJlbi5sZW5ndGhdOlt0aGlzLmNoaWxkcmVuLmxlbmd0aC0xLGUuY2hpbGRyZW4ubGVuZ3RoLTEsLTEsLTFdO2Zvcig7O2krPXQscis9dCl7aWYoaT09b3x8cj09YSlyZXR1cm4gcztsZXQgbD10aGlzLmNoaWxkcmVuW2ldLHU9ZS5jaGlsZHJlbltyXTtpZihsIT11KXJldHVybiBzK2wuc2NhbklkZW50aWNhbCh1LHQpO3MrPWwubGVuZ3RoKzF9fXN0YXRpYyBmcm9tKGUsdD1lLnJlZHVjZSgocyxpKT0+cytpLmxlbmd0aCsxLC0xKSl7bGV0IHM9MDtmb3IobGV0IGYgb2YgZSlzKz1mLmxpbmVzO2lmKHM8MzIpe2xldCBmPVtdO2ZvcihsZXQgZyBvZiBlKWcuZmxhdHRlbihmKTtyZXR1cm4gbmV3IGJlKGYsdCl9bGV0IGk9TWF0aC5tYXgoMzIscz4+NSkscj1pPDwxLG89aT4+MSxhPVtdLGw9MCx1PS0xLGg9W107ZnVuY3Rpb24gYyhmKXtsZXQgZztpZihmLmxpbmVzPnImJmYgaW5zdGFuY2VvZiBVdClmb3IobGV0IGQgb2YgZi5jaGlsZHJlbiljKGQpO2Vsc2UgZi5saW5lcz5vJiYobD5vfHwhbCk/KG0oKSxhLnB1c2goZikpOmYgaW5zdGFuY2VvZiBiZSYmbCYmKGc9aFtoLmxlbmd0aC0xXSlpbnN0YW5jZW9mIGJlJiZmLmxpbmVzK2cubGluZXM8PTMyPyhsKz1mLmxpbmVzLHUrPWYubGVuZ3RoKzEsaFtoLmxlbmd0aC0xXT1uZXcgYmUoZy50ZXh0LmNvbmNhdChmLnRleHQpLGcubGVuZ3RoKzErZi5sZW5ndGgpKToobCtmLmxpbmVzPmkmJm0oKSxsKz1mLmxpbmVzLHUrPWYubGVuZ3RoKzEsaC5wdXNoKGYpKX1mdW5jdGlvbiBtKCl7bCE9MCYmKGEucHVzaChoLmxlbmd0aD09MT9oWzBdOlV0LmZyb20oaCx1KSksdT0tMSxsPWgubGVuZ3RoPTApfWZvcihsZXQgZiBvZiBlKWMoZik7cmV0dXJuIG0oKSxhLmxlbmd0aD09MT9hWzBdOm5ldyBVdChhLHQpfX1Scy5lbXB0eT1uZXcgYmUoWyIiXSwwKTtmdW5jdGlvbiBhdyhuKXtsZXQgZT0tMTtmb3IobGV0IHQgb2YgbillKz10Lmxlbmd0aCsxO3JldHVybiBlfWZ1bmN0aW9uIERyKG4sZSx0PTAscz0xZTkpe2ZvcihsZXQgaT0wLHI9MCxvPSEwO3I8bi5sZW5ndGgmJmk8PXM7cisrKXtsZXQgYT1uW3JdLGw9aSthLmxlbmd0aDtsPj10JiYobD5zJiYoYT1hLnNsaWNlKDAscy1pKSksaTx0JiYoYT1hLnNsaWNlKHQtaSkpLG8/KGVbZS5sZW5ndGgtMV0rPWEsbz0hMSk6ZS5wdXNoKGEpKSxpPWwrMX1yZXR1cm4gZX1mdW5jdGlvbiBiaChuLGUsdCl7cmV0dXJuIERyKG4sWyIiXSxlLHQpfWNsYXNzIHVpe2NvbnN0cnVjdG9yKGUsdD0xKXt0aGlzLmRpcj10LHRoaXMuZG9uZT0hMSx0aGlzLmxpbmVCcmVhaz0hMSx0aGlzLnZhbHVlPSIiLHRoaXMubm9kZXM9W2VdLHRoaXMub2Zmc2V0cz1bdD4wPzE6KGUgaW5zdGFuY2VvZiBiZT9lLnRleHQubGVuZ3RoOmUuY2hpbGRyZW4ubGVuZ3RoKTw8MV19bmV4dElubmVyKGUsdCl7Zm9yKHRoaXMuZG9uZT10aGlzLmxpbmVCcmVhaz0hMTs7KXtsZXQgcz10aGlzLm5vZGVzLmxlbmd0aC0xLGk9dGhpcy5ub2Rlc1tzXSxyPXRoaXMub2Zmc2V0c1tzXSxvPXI+PjEsYT1pIGluc3RhbmNlb2YgYmU/aS50ZXh0Lmxlbmd0aDppLmNoaWxkcmVuLmxlbmd0aDtpZihvPT0odD4wP2E6MCkpe2lmKHM9PTApcmV0dXJuIHRoaXMuZG9uZT0hMCx0aGlzLnZhbHVlPSIiLHRoaXM7dD4wJiZ0aGlzLm9mZnNldHNbcy0xXSsrLHRoaXMubm9kZXMucG9wKCksdGhpcy5vZmZzZXRzLnBvcCgpfWVsc2UgaWYoKHImMSk9PSh0PjA/MDoxKSl7aWYodGhpcy5vZmZzZXRzW3NdKz10LGU9PTApcmV0dXJuIHRoaXMubGluZUJyZWFrPSEwLHRoaXMudmFsdWU9YApgLHRoaXM7ZS0tfWVsc2UgaWYoaSBpbnN0YW5jZW9mIGJlKXtsZXQgbD1pLnRleHRbbysodDwwPy0xOjApXTtpZih0aGlzLm9mZnNldHNbc10rPXQsbC5sZW5ndGg+TWF0aC5tYXgoMCxlKSlyZXR1cm4gdGhpcy52YWx1ZT1lPT0wP2w6dD4wP2wuc2xpY2UoZSk6bC5zbGljZSgwLGwubGVuZ3RoLWUpLHRoaXM7ZS09bC5sZW5ndGh9ZWxzZXtsZXQgbD1pLmNoaWxkcmVuW28rKHQ8MD8tMTowKV07ZT5sLmxlbmd0aD8oZS09bC5sZW5ndGgsdGhpcy5vZmZzZXRzW3NdKz10KToodDwwJiZ0aGlzLm9mZnNldHNbc10tLSx0aGlzLm5vZGVzLnB1c2gobCksdGhpcy5vZmZzZXRzLnB1c2godD4wPzE6KGwgaW5zdGFuY2VvZiBiZT9sLnRleHQubGVuZ3RoOmwuY2hpbGRyZW4ubGVuZ3RoKTw8MSkpfX19bmV4dChlPTApe3JldHVybiBlPDAmJih0aGlzLm5leHRJbm5lcigtZSwtdGhpcy5kaXIpLGU9dGhpcy52YWx1ZS5sZW5ndGgpLHRoaXMubmV4dElubmVyKGUsdGhpcy5kaXIpfX1jbGFzcyBUaHtjb25zdHJ1Y3RvcihlLHQscyl7dGhpcy52YWx1ZT0iIix0aGlzLmRvbmU9ITEsdGhpcy5jdXJzb3I9bmV3IHVpKGUsdD5zPy0xOjEpLHRoaXMucG9zPXQ+cz9lLmxlbmd0aDowLHRoaXMuZnJvbT1NYXRoLm1pbih0LHMpLHRoaXMudG89TWF0aC5tYXgodCxzKX1uZXh0SW5uZXIoZSx0KXtpZih0PDA/dGhpcy5wb3M8PXRoaXMuZnJvbTp0aGlzLnBvcz49dGhpcy50bylyZXR1cm4gdGhpcy52YWx1ZT0iIix0aGlzLmRvbmU9ITAsdGhpcztlKz1NYXRoLm1heCgwLHQ8MD90aGlzLnBvcy10aGlzLnRvOnRoaXMuZnJvbS10aGlzLnBvcyk7bGV0IHM9dDwwP3RoaXMucG9zLXRoaXMuZnJvbTp0aGlzLnRvLXRoaXMucG9zO2U+cyYmKGU9cykscy09ZTtsZXR7dmFsdWU6aX09dGhpcy5jdXJzb3IubmV4dChlKTtyZXR1cm4gdGhpcy5wb3MrPShpLmxlbmd0aCtlKSp0LHRoaXMudmFsdWU9aS5sZW5ndGg8PXM/aTp0PDA/aS5zbGljZShpLmxlbmd0aC1zKTppLnNsaWNlKDAscyksdGhpcy5kb25lPSF0aGlzLnZhbHVlLHRoaXN9bmV4dChlPTApe3JldHVybiBlPDA/ZT1NYXRoLm1heChlLHRoaXMuZnJvbS10aGlzLnBvcyk6ZT4wJiYoZT1NYXRoLm1pbihlLHRoaXMudG8tdGhpcy5wb3MpKSx0aGlzLm5leHRJbm5lcihlLHRoaXMuY3Vyc29yLmRpcil9Z2V0IGxpbmVCcmVhaygpe3JldHVybiB0aGlzLmN1cnNvci5saW5lQnJlYWsmJnRoaXMudmFsdWUhPSIifX1jbGFzcyBraHtjb25zdHJ1Y3RvcihlKXt0aGlzLmlubmVyPWUsdGhpcy5hZnRlckJyZWFrPSEwLHRoaXMudmFsdWU9IiIsdGhpcy5kb25lPSExfW5leHQoZT0wKXtsZXR7ZG9uZTp0LGxpbmVCcmVhazpzLHZhbHVlOml9PXRoaXMuaW5uZXIubmV4dChlKTtyZXR1cm4gdCYmdGhpcy5hZnRlckJyZWFrPyh0aGlzLnZhbHVlPSIiLHRoaXMuYWZ0ZXJCcmVhaz0hMSk6dD8odGhpcy5kb25lPSEwLHRoaXMudmFsdWU9IiIpOnM/dGhpcy5hZnRlckJyZWFrP3RoaXMudmFsdWU9IiI6KHRoaXMuYWZ0ZXJCcmVhaz0hMCx0aGlzLm5leHQoKSk6KHRoaXMudmFsdWU9aSx0aGlzLmFmdGVyQnJlYWs9ITEpLHRoaXN9Z2V0IGxpbmVCcmVhaygpe3JldHVybiExfX10eXBlb2YgU3ltYm9sPCJ1IiYmKFJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcigpfSx1aS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1UaC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1raC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSk7Y2xhc3MgbHd7Y29uc3RydWN0b3IoZSx0LHMsaSl7dGhpcy5mcm9tPWUsdGhpcy50bz10LHRoaXMubnVtYmVyPXMsdGhpcy50ZXh0PWl9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLnRvLXRoaXMuZnJvbX19ZnVuY3Rpb24gRW4obixlLHQpe3JldHVybiBlPU1hdGgubWF4KDAsTWF0aC5taW4obi5sZW5ndGgsZSkpLFtlLE1hdGgubWF4KGUsTWF0aC5taW4obi5sZW5ndGgsdCkpXX12YXIgZ2E9ZnVuY3Rpb24obil7cmV0dXJuIG5bbi5TaW1wbGU9MF09IlNpbXBsZSIsbltuLlRyYWNrRGVsPTFdPSJUcmFja0RlbCIsbltuLlRyYWNrQmVmb3JlPTJdPSJUcmFja0JlZm9yZSIsbltuLlRyYWNrQWZ0ZXI9M109IlRyYWNrQWZ0ZXIiLG59KGdhfHwoZ2E9e30pKTtsZXQgdXc7dHJ5e3V3PW5ldyBSZWdFeHAoIltcXHB7QWxwaGFiZXRpY31cXHB7TnVtYmVyfV9dIiwidSIpfWNhdGNoe31nYS5UcmFja0RlbDtjbGFzcyBNcntjb25zdHJ1Y3RvcihlLHQscyl7dGhpcy5mcm9tPWUsdGhpcy50bz10LHRoaXMudmFsdWU9c31zdGF0aWMgY3JlYXRlKGUsdCxzKXtyZXR1cm4gbmV3IE1yKGUsdCxzKX19ZnVuY3Rpb24gd2EobixlKXtyZXR1cm4gbi5mcm9tLWUuZnJvbXx8bi52YWx1ZS5zdGFydFNpZGUtZS52YWx1ZS5zdGFydFNpZGV9Y2xhc3MgYmF7Y29uc3RydWN0b3IoZSx0LHMsaSl7dGhpcy5mcm9tPWUsdGhpcy50bz10LHRoaXMudmFsdWU9cyx0aGlzLm1heFBvaW50PWl9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLnRvW3RoaXMudG8ubGVuZ3RoLTFdfWZpbmRJbmRleChlLHQscyxpPTApe2xldCByPXM/dGhpcy50bzp0aGlzLmZyb207Zm9yKGxldCBvPWksYT1yLmxlbmd0aDs7KXtpZihvPT1hKXJldHVybiBvO2xldCBsPW8rYT4+MSx1PXJbbF0tZXx8KHM/dGhpcy52YWx1ZVtsXS5lbmRTaWRlOnRoaXMudmFsdWVbbF0uc3RhcnRTaWRlKS10O2lmKGw9PW8pcmV0dXJuIHU+PTA/bzphO3U+PTA/YT1sOm89bCsxfX1iZXR3ZWVuKGUsdCxzLGkpe2ZvcihsZXQgcj10aGlzLmZpbmRJbmRleCh0LC0xZTksITApLG89dGhpcy5maW5kSW5kZXgocywxZTksITEscik7cjxvO3IrKylpZihpKHRoaXMuZnJvbVtyXStlLHRoaXMudG9bcl0rZSx0aGlzLnZhbHVlW3JdKT09PSExKXJldHVybiExfW1hcChlLHQpe2xldCBzPVtdLGk9W10scj1bXSxvPS0xLGE9LTE7Zm9yKGxldCBsPTA7bDx0aGlzLnZhbHVlLmxlbmd0aDtsKyspe2xldCB1PXRoaXMudmFsdWVbbF0saD10aGlzLmZyb21bbF0rZSxjPXRoaXMudG9bbF0rZSxtLGY7aWYoaD09Yyl7bGV0IGc9dC5tYXBQb3MoaCx1LnN0YXJ0U2lkZSx1Lm1hcE1vZGUpO2lmKGc9PW51bGx8fChtPWY9Zyx1LnN0YXJ0U2lkZSE9dS5lbmRTaWRlJiYoZj10Lm1hcFBvcyhoLHUuZW5kU2lkZSksZjxtKSkpY29udGludWV9ZWxzZSBpZihtPXQubWFwUG9zKGgsdS5zdGFydFNpZGUpLGY9dC5tYXBQb3MoYyx1LmVuZFNpZGUpLG0+Znx8bT09ZiYmdS5zdGFydFNpZGU+MCYmdS5lbmRTaWRlPD0wKWNvbnRpbnVlOyhmLW18fHUuZW5kU2lkZS11LnN0YXJ0U2lkZSk8MHx8KG88MCYmKG89bSksdS5wb2ludCYmKGE9TWF0aC5tYXgoYSxmLW0pKSxzLnB1c2godSksaS5wdXNoKG0tbyksci5wdXNoKGYtbykpfXJldHVybnttYXBwZWQ6cy5sZW5ndGg/bmV3IGJhKGkscixzLGEpOm51bGwscG9zOm99fX1jbGFzcyBWZXtjb25zdHJ1Y3RvcihlLHQscyxpKXt0aGlzLmNodW5rUG9zPWUsdGhpcy5jaHVuaz10LHRoaXMubmV4dExheWVyPXMsdGhpcy5tYXhQb2ludD1pfXN0YXRpYyBjcmVhdGUoZSx0LHMsaSl7cmV0dXJuIG5ldyBWZShlLHQscyxpKX1nZXQgbGVuZ3RoKCl7bGV0IGU9dGhpcy5jaHVuay5sZW5ndGgtMTtyZXR1cm4gZTwwPzA6TWF0aC5tYXgodGhpcy5jaHVua0VuZChlKSx0aGlzLm5leHRMYXllci5sZW5ndGgpfWdldCBzaXplKCl7aWYodGhpcy5pc0VtcHR5KXJldHVybiAwO2xldCBlPXRoaXMubmV4dExheWVyLnNpemU7Zm9yKGxldCB0IG9mIHRoaXMuY2h1bmspZSs9dC52YWx1ZS5sZW5ndGg7cmV0dXJuIGV9Y2h1bmtFbmQoZSl7cmV0dXJuIHRoaXMuY2h1bmtQb3NbZV0rdGhpcy5jaHVua1tlXS5sZW5ndGh9dXBkYXRlKGUpe2xldHthZGQ6dD1bXSxzb3J0OnM9ITEsZmlsdGVyRnJvbTppPTAsZmlsdGVyVG86cj10aGlzLmxlbmd0aH09ZSxvPWUuZmlsdGVyO2lmKHQubGVuZ3RoPT0wJiYhbylyZXR1cm4gdGhpcztpZihzJiYodD10LnNsaWNlKCkuc29ydCh3YSkpLHRoaXMuaXNFbXB0eSlyZXR1cm4gdC5sZW5ndGg/VmUub2YodCk6dGhpcztsZXQgYT1uZXcgU2godGhpcyxudWxsLC0xKS5nb3RvKDApLGw9MCx1PVtdLGg9bmV3IF9yO2Zvcig7YS52YWx1ZXx8bDx0Lmxlbmd0aDspaWYobDx0Lmxlbmd0aCYmKGEuZnJvbS10W2xdLmZyb218fGEuc3RhcnRTaWRlLXRbbF0udmFsdWUuc3RhcnRTaWRlKT49MCl7bGV0IGM9dFtsKytdO2guYWRkSW5uZXIoYy5mcm9tLGMudG8sYy52YWx1ZSl8fHUucHVzaChjKX1lbHNlIGEucmFuZ2VJbmRleD09MSYmYS5jaHVua0luZGV4PHRoaXMuY2h1bmsubGVuZ3RoJiYobD09dC5sZW5ndGh8fHRoaXMuY2h1bmtFbmQoYS5jaHVua0luZGV4KTx0W2xdLmZyb20pJiYoIW98fGk+dGhpcy5jaHVua0VuZChhLmNodW5rSW5kZXgpfHxyPHRoaXMuY2h1bmtQb3NbYS5jaHVua0luZGV4XSkmJmguYWRkQ2h1bmsodGhpcy5jaHVua1Bvc1thLmNodW5rSW5kZXhdLHRoaXMuY2h1bmtbYS5jaHVua0luZGV4XSk/YS5uZXh0Q2h1bmsoKTooKCFvfHxpPmEudG98fHI8YS5mcm9tfHxvKGEuZnJvbSxhLnRvLGEudmFsdWUpKSYmKGguYWRkSW5uZXIoYS5mcm9tLGEudG8sYS52YWx1ZSl8fHUucHVzaChNci5jcmVhdGUoYS5mcm9tLGEudG8sYS52YWx1ZSkpKSxhLm5leHQoKSk7cmV0dXJuIGguZmluaXNoSW5uZXIodGhpcy5uZXh0TGF5ZXIuaXNFbXB0eSYmIXUubGVuZ3RoP1ZlLmVtcHR5OnRoaXMubmV4dExheWVyLnVwZGF0ZSh7YWRkOnUsZmlsdGVyOm8sZmlsdGVyRnJvbTppLGZpbHRlclRvOnJ9KSl9bWFwKGUpe2lmKGUuZW1wdHl8fHRoaXMuaXNFbXB0eSlyZXR1cm4gdGhpcztsZXQgdD1bXSxzPVtdLGk9LTE7Zm9yKGxldCBvPTA7bzx0aGlzLmNodW5rLmxlbmd0aDtvKyspe2xldCBhPXRoaXMuY2h1bmtQb3Nbb10sbD10aGlzLmNodW5rW29dLHU9ZS50b3VjaGVzUmFuZ2UoYSxhK2wubGVuZ3RoKTtpZih1PT09ITEpaT1NYXRoLm1heChpLGwubWF4UG9pbnQpLHQucHVzaChsKSxzLnB1c2goZS5tYXBQb3MoYSkpO2Vsc2UgaWYodT09PSEwKXtsZXR7bWFwcGVkOmgscG9zOmN9PWwubWFwKGEsZSk7aCYmKGk9TWF0aC5tYXgoaSxoLm1heFBvaW50KSx0LnB1c2goaCkscy5wdXNoKGMpKX19bGV0IHI9dGhpcy5uZXh0TGF5ZXIubWFwKGUpO3JldHVybiB0Lmxlbmd0aD09MD9yOm5ldyBWZShzLHQscnx8VmUuZW1wdHksaSl9YmV0d2VlbihlLHQscyl7aWYoIXRoaXMuaXNFbXB0eSl7Zm9yKGxldCBpPTA7aTx0aGlzLmNodW5rLmxlbmd0aDtpKyspe2xldCByPXRoaXMuY2h1bmtQb3NbaV0sbz10aGlzLmNodW5rW2ldO2lmKHQ+PXImJmU8PXIrby5sZW5ndGgmJm8uYmV0d2VlbihyLGUtcix0LXIscyk9PT0hMSlyZXR1cm59dGhpcy5uZXh0TGF5ZXIuYmV0d2VlbihlLHQscyl9fWl0ZXIoZT0wKXtyZXR1cm4gY2kuZnJvbShbdGhpc10pLmdvdG8oZSl9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gdGhpcy5uZXh0TGF5ZXI9PXRoaXN9c3RhdGljIGl0ZXIoZSx0PTApe3JldHVybiBjaS5mcm9tKGUpLmdvdG8odCl9c3RhdGljIGNvbXBhcmUoZSx0LHMsaSxyPS0xKXtsZXQgbz1lLmZpbHRlcihjPT5jLm1heFBvaW50PjB8fCFjLmlzRW1wdHkmJmMubWF4UG9pbnQ+PXIpLGE9dC5maWx0ZXIoYz0+Yy5tYXhQb2ludD4wfHwhYy5pc0VtcHR5JiZjLm1heFBvaW50Pj1yKSxsPUVoKG8sYSxzKSx1PW5ldyBoaShvLGwsciksaD1uZXcgaGkoYSxsLHIpO3MuaXRlckdhcHMoKGMsbSxmKT0+T2godSxjLGgsbSxmLGkpKSxzLmVtcHR5JiZzLmxlbmd0aD09MCYmT2godSwwLGgsMCwwLGkpfXN0YXRpYyBlcShlLHQscz0wLGkpe2k9PW51bGwmJihpPTk5OTk5OTk5OSk7bGV0IHI9ZS5maWx0ZXIoaD0+IWguaXNFbXB0eSYmdC5pbmRleE9mKGgpPDApLG89dC5maWx0ZXIoaD0+IWguaXNFbXB0eSYmZS5pbmRleE9mKGgpPDApO2lmKHIubGVuZ3RoIT1vLmxlbmd0aClyZXR1cm4hMTtpZighci5sZW5ndGgpcmV0dXJuITA7bGV0IGE9RWgocixvKSxsPW5ldyBoaShyLGEsMCkuZ290byhzKSx1PW5ldyBoaShvLGEsMCkuZ290byhzKTtmb3IoOzspe2lmKGwudG8hPXUudG98fCFrYShsLmFjdGl2ZSx1LmFjdGl2ZSl8fGwucG9pbnQmJighdS5wb2ludHx8IWwucG9pbnQuZXEodS5wb2ludCkpKXJldHVybiExO2lmKGwudG8+aSlyZXR1cm4hMDtsLm5leHQoKSx1Lm5leHQoKX19c3RhdGljIHNwYW5zKGUsdCxzLGkscj0tMSl7bGV0IG89bmV3IGhpKGUsbnVsbCxyKS5nb3RvKHQpLGE9dCxsPW8ub3BlblN0YXJ0O2Zvcig7Oyl7bGV0IHU9TWF0aC5taW4oby50byxzKTtpZihvLnBvaW50KXtsZXQgaD1vLmFjdGl2ZUZvclBvaW50KG8udG8pLGM9by5wb2ludEZyb208dD9oLmxlbmd0aCsxOm8ucG9pbnQuc3RhcnRTaWRlPDA/aC5sZW5ndGg6TWF0aC5taW4oaC5sZW5ndGgsbCk7aS5wb2ludChhLHUsby5wb2ludCxoLGMsby5wb2ludFJhbmspLGw9TWF0aC5taW4oby5vcGVuRW5kKHUpLGgubGVuZ3RoKX1lbHNlIHU+YSYmKGkuc3BhbihhLHUsby5hY3RpdmUsbCksbD1vLm9wZW5FbmQodSkpO2lmKG8udG8+cylyZXR1cm4gbCsoby5wb2ludCYmby50bz5zPzE6MCk7YT1vLnRvLG8ubmV4dCgpfX1zdGF0aWMgb2YoZSx0PSExKXtsZXQgcz1uZXcgX3I7Zm9yKGxldCBpIG9mIGUgaW5zdGFuY2VvZiBNcj9bZV06dD9jdyhlKTplKXMuYWRkKGkuZnJvbSxpLnRvLGkudmFsdWUpO3JldHVybiBzLmZpbmlzaCgpfXN0YXRpYyBqb2luKGUpe2lmKCFlLmxlbmd0aClyZXR1cm4gVmUuZW1wdHk7bGV0IHQ9ZVtlLmxlbmd0aC0xXTtmb3IobGV0IHM9ZS5sZW5ndGgtMjtzPj0wO3MtLSlmb3IobGV0IGk9ZVtzXTtpIT1WZS5lbXB0eTtpPWkubmV4dExheWVyKXQ9bmV3IFZlKGkuY2h1bmtQb3MsaS5jaHVuayx0LE1hdGgubWF4KGkubWF4UG9pbnQsdC5tYXhQb2ludCkpO3JldHVybiB0fX1WZS5lbXB0eT1uZXcgVmUoW10sW10sbnVsbCwtMSk7ZnVuY3Rpb24gY3cobil7aWYobi5sZW5ndGg+MSlmb3IobGV0IGU9blswXSx0PTE7dDxuLmxlbmd0aDt0Kyspe2xldCBzPW5bdF07aWYod2EoZSxzKT4wKXJldHVybiBuLnNsaWNlKCkuc29ydCh3YSk7ZT1zfXJldHVybiBufVZlLmVtcHR5Lm5leHRMYXllcj1WZS5lbXB0eTtjbGFzcyBfcntmaW5pc2hDaHVuayhlKXt0aGlzLmNodW5rcy5wdXNoKG5ldyBiYSh0aGlzLmZyb20sdGhpcy50byx0aGlzLnZhbHVlLHRoaXMubWF4UG9pbnQpKSx0aGlzLmNodW5rUG9zLnB1c2godGhpcy5jaHVua1N0YXJ0KSx0aGlzLmNodW5rU3RhcnQ9LTEsdGhpcy5zZXRNYXhQb2ludD1NYXRoLm1heCh0aGlzLnNldE1heFBvaW50LHRoaXMubWF4UG9pbnQpLHRoaXMubWF4UG9pbnQ9LTEsZSYmKHRoaXMuZnJvbT1bXSx0aGlzLnRvPVtdLHRoaXMudmFsdWU9W10pfWNvbnN0cnVjdG9yKCl7dGhpcy5jaHVua3M9W10sdGhpcy5jaHVua1Bvcz1bXSx0aGlzLmNodW5rU3RhcnQ9LTEsdGhpcy5sYXN0PW51bGwsdGhpcy5sYXN0RnJvbT0tMWU5LHRoaXMubGFzdFRvPS0xZTksdGhpcy5mcm9tPVtdLHRoaXMudG89W10sdGhpcy52YWx1ZT1bXSx0aGlzLm1heFBvaW50PS0xLHRoaXMuc2V0TWF4UG9pbnQ9LTEsdGhpcy5uZXh0TGF5ZXI9bnVsbH1hZGQoZSx0LHMpe3RoaXMuYWRkSW5uZXIoZSx0LHMpfHwodGhpcy5uZXh0TGF5ZXJ8fCh0aGlzLm5leHRMYXllcj1uZXcgX3IpKS5hZGQoZSx0LHMpfWFkZElubmVyKGUsdCxzKXtsZXQgaT1lLXRoaXMubGFzdFRvfHxzLnN0YXJ0U2lkZS10aGlzLmxhc3QuZW5kU2lkZTtpZihpPD0wJiYoZS10aGlzLmxhc3RGcm9tfHxzLnN0YXJ0U2lkZS10aGlzLmxhc3Quc3RhcnRTaWRlKTwwKXRocm93IG5ldyBFcnJvcigiUmFuZ2VzIG11c3QgYmUgYWRkZWQgc29ydGVkIGJ5IGBmcm9tYCBwb3NpdGlvbiBhbmQgYHN0YXJ0U2lkZWAiKTtyZXR1cm4gaTwwPyExOih0aGlzLmZyb20ubGVuZ3RoPT0yNTAmJnRoaXMuZmluaXNoQ2h1bmsoITApLHRoaXMuY2h1bmtTdGFydDwwJiYodGhpcy5jaHVua1N0YXJ0PWUpLHRoaXMuZnJvbS5wdXNoKGUtdGhpcy5jaHVua1N0YXJ0KSx0aGlzLnRvLnB1c2godC10aGlzLmNodW5rU3RhcnQpLHRoaXMubGFzdD1zLHRoaXMubGFzdEZyb209ZSx0aGlzLmxhc3RUbz10LHRoaXMudmFsdWUucHVzaChzKSxzLnBvaW50JiYodGhpcy5tYXhQb2ludD1NYXRoLm1heCh0aGlzLm1heFBvaW50LHQtZSkpLCEwKX1hZGRDaHVuayhlLHQpe2lmKChlLXRoaXMubGFzdFRvfHx0LnZhbHVlWzBdLnN0YXJ0U2lkZS10aGlzLmxhc3QuZW5kU2lkZSk8MClyZXR1cm4hMTt0aGlzLmZyb20ubGVuZ3RoJiZ0aGlzLmZpbmlzaENodW5rKCEwKSx0aGlzLnNldE1heFBvaW50PU1hdGgubWF4KHRoaXMuc2V0TWF4UG9pbnQsdC5tYXhQb2ludCksdGhpcy5jaHVua3MucHVzaCh0KSx0aGlzLmNodW5rUG9zLnB1c2goZSk7bGV0IHM9dC52YWx1ZS5sZW5ndGgtMTtyZXR1cm4gdGhpcy5sYXN0PXQudmFsdWVbc10sdGhpcy5sYXN0RnJvbT10LmZyb21bc10rZSx0aGlzLmxhc3RUbz10LnRvW3NdK2UsITB9ZmluaXNoKCl7cmV0dXJuIHRoaXMuZmluaXNoSW5uZXIoVmUuZW1wdHkpfWZpbmlzaElubmVyKGUpe2lmKHRoaXMuZnJvbS5sZW5ndGgmJnRoaXMuZmluaXNoQ2h1bmsoITEpLHRoaXMuY2h1bmtzLmxlbmd0aD09MClyZXR1cm4gZTtsZXQgdD1WZS5jcmVhdGUodGhpcy5jaHVua1Bvcyx0aGlzLmNodW5rcyx0aGlzLm5leHRMYXllcj90aGlzLm5leHRMYXllci5maW5pc2hJbm5lcihlKTplLHRoaXMuc2V0TWF4UG9pbnQpO3JldHVybiB0aGlzLmZyb209bnVsbCx0fX1mdW5jdGlvbiBFaChuLGUsdCl7bGV0IHM9bmV3IE1hcDtmb3IobGV0IHIgb2Ygbilmb3IobGV0IG89MDtvPHIuY2h1bmsubGVuZ3RoO28rKylyLmNodW5rW29dLm1heFBvaW50PD0wJiZzLnNldChyLmNodW5rW29dLHIuY2h1bmtQb3Nbb10pO2xldCBpPW5ldyBTZXQ7Zm9yKGxldCByIG9mIGUpZm9yKGxldCBvPTA7bzxyLmNodW5rLmxlbmd0aDtvKyspe2xldCBhPXMuZ2V0KHIuY2h1bmtbb10pO2EhPW51bGwmJih0P3QubWFwUG9zKGEpOmEpPT1yLmNodW5rUG9zW29dJiYhKHQhPW51bGwmJnQudG91Y2hlc1JhbmdlKGEsYStyLmNodW5rW29dLmxlbmd0aCkpJiZpLmFkZChyLmNodW5rW29dKX1yZXR1cm4gaX1jbGFzcyBTaHtjb25zdHJ1Y3RvcihlLHQscyxpPTApe3RoaXMubGF5ZXI9ZSx0aGlzLnNraXA9dCx0aGlzLm1pblBvaW50PXMsdGhpcy5yYW5rPWl9Z2V0IHN0YXJ0U2lkZSgpe3JldHVybiB0aGlzLnZhbHVlP3RoaXMudmFsdWUuc3RhcnRTaWRlOjB9Z2V0IGVuZFNpZGUoKXtyZXR1cm4gdGhpcy52YWx1ZT90aGlzLnZhbHVlLmVuZFNpZGU6MH1nb3RvKGUsdD0tMWU5KXtyZXR1cm4gdGhpcy5jaHVua0luZGV4PXRoaXMucmFuZ2VJbmRleD0wLHRoaXMuZ290b0lubmVyKGUsdCwhMSksdGhpc31nb3RvSW5uZXIoZSx0LHMpe2Zvcig7dGhpcy5jaHVua0luZGV4PHRoaXMubGF5ZXIuY2h1bmsubGVuZ3RoOyl7bGV0IGk9dGhpcy5sYXllci5jaHVua1t0aGlzLmNodW5rSW5kZXhdO2lmKCEodGhpcy5za2lwJiZ0aGlzLnNraXAuaGFzKGkpfHx0aGlzLmxheWVyLmNodW5rRW5kKHRoaXMuY2h1bmtJbmRleCk8ZXx8aS5tYXhQb2ludDx0aGlzLm1pblBvaW50KSlicmVhazt0aGlzLmNodW5rSW5kZXgrKyxzPSExfWlmKHRoaXMuY2h1bmtJbmRleDx0aGlzLmxheWVyLmNodW5rLmxlbmd0aCl7bGV0IGk9dGhpcy5sYXllci5jaHVua1t0aGlzLmNodW5rSW5kZXhdLmZpbmRJbmRleChlLXRoaXMubGF5ZXIuY2h1bmtQb3NbdGhpcy5jaHVua0luZGV4XSx0LCEwKTsoIXN8fHRoaXMucmFuZ2VJbmRleDxpKSYmdGhpcy5zZXRSYW5nZUluZGV4KGkpfXRoaXMubmV4dCgpfWZvcndhcmQoZSx0KXsodGhpcy50by1lfHx0aGlzLmVuZFNpZGUtdCk8MCYmdGhpcy5nb3RvSW5uZXIoZSx0LCEwKX1uZXh0KCl7Zm9yKDs7KWlmKHRoaXMuY2h1bmtJbmRleD09dGhpcy5sYXllci5jaHVuay5sZW5ndGgpe3RoaXMuZnJvbT10aGlzLnRvPTFlOSx0aGlzLnZhbHVlPW51bGw7YnJlYWt9ZWxzZXtsZXQgZT10aGlzLmxheWVyLmNodW5rUG9zW3RoaXMuY2h1bmtJbmRleF0sdD10aGlzLmxheWVyLmNodW5rW3RoaXMuY2h1bmtJbmRleF0scz1lK3QuZnJvbVt0aGlzLnJhbmdlSW5kZXhdO2lmKHRoaXMuZnJvbT1zLHRoaXMudG89ZSt0LnRvW3RoaXMucmFuZ2VJbmRleF0sdGhpcy52YWx1ZT10LnZhbHVlW3RoaXMucmFuZ2VJbmRleF0sdGhpcy5zZXRSYW5nZUluZGV4KHRoaXMucmFuZ2VJbmRleCsxKSx0aGlzLm1pblBvaW50PDB8fHRoaXMudmFsdWUucG9pbnQmJnRoaXMudG8tdGhpcy5mcm9tPj10aGlzLm1pblBvaW50KWJyZWFrfX1zZXRSYW5nZUluZGV4KGUpe2lmKGU9PXRoaXMubGF5ZXIuY2h1bmtbdGhpcy5jaHVua0luZGV4XS52YWx1ZS5sZW5ndGgpe2lmKHRoaXMuY2h1bmtJbmRleCsrLHRoaXMuc2tpcClmb3IoO3RoaXMuY2h1bmtJbmRleDx0aGlzLmxheWVyLmNodW5rLmxlbmd0aCYmdGhpcy5za2lwLmhhcyh0aGlzLmxheWVyLmNodW5rW3RoaXMuY2h1bmtJbmRleF0pOyl0aGlzLmNodW5rSW5kZXgrKzt0aGlzLnJhbmdlSW5kZXg9MH1lbHNlIHRoaXMucmFuZ2VJbmRleD1lfW5leHRDaHVuaygpe3RoaXMuY2h1bmtJbmRleCsrLHRoaXMucmFuZ2VJbmRleD0wLHRoaXMubmV4dCgpfWNvbXBhcmUoZSl7cmV0dXJuIHRoaXMuZnJvbS1lLmZyb218fHRoaXMuc3RhcnRTaWRlLWUuc3RhcnRTaWRlfHx0aGlzLnJhbmstZS5yYW5rfHx0aGlzLnRvLWUudG98fHRoaXMuZW5kU2lkZS1lLmVuZFNpZGV9fWNsYXNzIGNpe2NvbnN0cnVjdG9yKGUpe3RoaXMuaGVhcD1lfXN0YXRpYyBmcm9tKGUsdD1udWxsLHM9LTEpe2xldCBpPVtdO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWZvcihsZXQgbz1lW3JdOyFvLmlzRW1wdHk7bz1vLm5leHRMYXllcilvLm1heFBvaW50Pj1zJiZpLnB1c2gobmV3IFNoKG8sdCxzLHIpKTtyZXR1cm4gaS5sZW5ndGg9PTE/aVswXTpuZXcgY2koaSl9Z2V0IHN0YXJ0U2lkZSgpe3JldHVybiB0aGlzLnZhbHVlP3RoaXMudmFsdWUuc3RhcnRTaWRlOjB9Z290byhlLHQ9LTFlOSl7Zm9yKGxldCBzIG9mIHRoaXMuaGVhcClzLmdvdG8oZSx0KTtmb3IobGV0IHM9dGhpcy5oZWFwLmxlbmd0aD4+MTtzPj0wO3MtLSlUYSh0aGlzLmhlYXAscyk7cmV0dXJuIHRoaXMubmV4dCgpLHRoaXN9Zm9yd2FyZChlLHQpe2ZvcihsZXQgcyBvZiB0aGlzLmhlYXApcy5mb3J3YXJkKGUsdCk7Zm9yKGxldCBzPXRoaXMuaGVhcC5sZW5ndGg+PjE7cz49MDtzLS0pVGEodGhpcy5oZWFwLHMpOyh0aGlzLnRvLWV8fHRoaXMudmFsdWUuZW5kU2lkZS10KTwwJiZ0aGlzLm5leHQoKX1uZXh0KCl7aWYodGhpcy5oZWFwLmxlbmd0aD09MCl0aGlzLmZyb209dGhpcy50bz0xZTksdGhpcy52YWx1ZT1udWxsLHRoaXMucmFuaz0tMTtlbHNle2xldCBlPXRoaXMuaGVhcFswXTt0aGlzLmZyb209ZS5mcm9tLHRoaXMudG89ZS50byx0aGlzLnZhbHVlPWUudmFsdWUsdGhpcy5yYW5rPWUucmFuayxlLnZhbHVlJiZlLm5leHQoKSxUYSh0aGlzLmhlYXAsMCl9fX1mdW5jdGlvbiBUYShuLGUpe2ZvcihsZXQgdD1uW2VdOzspe2xldCBzPShlPDwxKSsxO2lmKHM+PW4ubGVuZ3RoKWJyZWFrO2xldCBpPW5bc107aWYocysxPG4ubGVuZ3RoJiZpLmNvbXBhcmUobltzKzFdKT49MCYmKGk9bltzKzFdLHMrKyksdC5jb21wYXJlKGkpPDApYnJlYWs7bltzXT10LG5bZV09aSxlPXN9fWNsYXNzIGhpe2NvbnN0cnVjdG9yKGUsdCxzKXt0aGlzLm1pblBvaW50PXMsdGhpcy5hY3RpdmU9W10sdGhpcy5hY3RpdmVUbz1bXSx0aGlzLmFjdGl2ZVJhbms9W10sdGhpcy5taW5BY3RpdmU9LTEsdGhpcy5wb2ludD1udWxsLHRoaXMucG9pbnRGcm9tPTAsdGhpcy5wb2ludFJhbms9MCx0aGlzLnRvPS0xZTksdGhpcy5lbmRTaWRlPTAsdGhpcy5vcGVuU3RhcnQ9LTEsdGhpcy5jdXJzb3I9Y2kuZnJvbShlLHQscyl9Z290byhlLHQ9LTFlOSl7cmV0dXJuIHRoaXMuY3Vyc29yLmdvdG8oZSx0KSx0aGlzLmFjdGl2ZS5sZW5ndGg9dGhpcy5hY3RpdmVUby5sZW5ndGg9dGhpcy5hY3RpdmVSYW5rLmxlbmd0aD0wLHRoaXMubWluQWN0aXZlPS0xLHRoaXMudG89ZSx0aGlzLmVuZFNpZGU9dCx0aGlzLm9wZW5TdGFydD0tMSx0aGlzLm5leHQoKSx0aGlzfWZvcndhcmQoZSx0KXtmb3IoO3RoaXMubWluQWN0aXZlPi0xJiYodGhpcy5hY3RpdmVUb1t0aGlzLm1pbkFjdGl2ZV0tZXx8dGhpcy5hY3RpdmVbdGhpcy5taW5BY3RpdmVdLmVuZFNpZGUtdCk8MDspdGhpcy5yZW1vdmVBY3RpdmUodGhpcy5taW5BY3RpdmUpO3RoaXMuY3Vyc29yLmZvcndhcmQoZSx0KX1yZW1vdmVBY3RpdmUoZSl7TnIodGhpcy5hY3RpdmUsZSksTnIodGhpcy5hY3RpdmVUbyxlKSxOcih0aGlzLmFjdGl2ZVJhbmssZSksdGhpcy5taW5BY3RpdmU9SWgodGhpcy5hY3RpdmUsdGhpcy5hY3RpdmVUbyl9YWRkQWN0aXZlKGUpe2xldCB0PTAse3ZhbHVlOnMsdG86aSxyYW5rOnJ9PXRoaXMuY3Vyc29yO2Zvcig7dDx0aGlzLmFjdGl2ZVJhbmsubGVuZ3RoJiYoci10aGlzLmFjdGl2ZVJhbmtbdF18fGktdGhpcy5hY3RpdmVUb1t0XSk+MDspdCsrO3ZyKHRoaXMuYWN0aXZlLHQscyksdnIodGhpcy5hY3RpdmVUbyx0LGkpLHZyKHRoaXMuYWN0aXZlUmFuayx0LHIpLGUmJnZyKGUsdCx0aGlzLmN1cnNvci5mcm9tKSx0aGlzLm1pbkFjdGl2ZT1JaCh0aGlzLmFjdGl2ZSx0aGlzLmFjdGl2ZVRvKX1uZXh0KCl7bGV0IGU9dGhpcy50byx0PXRoaXMucG9pbnQ7dGhpcy5wb2ludD1udWxsO2xldCBzPXRoaXMub3BlblN0YXJ0PDA/W106bnVsbDtmb3IoOzspe2xldCBpPXRoaXMubWluQWN0aXZlO2lmKGk+LTEmJih0aGlzLmFjdGl2ZVRvW2ldLXRoaXMuY3Vyc29yLmZyb218fHRoaXMuYWN0aXZlW2ldLmVuZFNpZGUtdGhpcy5jdXJzb3Iuc3RhcnRTaWRlKTwwKXtpZih0aGlzLmFjdGl2ZVRvW2ldPmUpe3RoaXMudG89dGhpcy5hY3RpdmVUb1tpXSx0aGlzLmVuZFNpZGU9dGhpcy5hY3RpdmVbaV0uZW5kU2lkZTticmVha310aGlzLnJlbW92ZUFjdGl2ZShpKSxzJiZOcihzLGkpfWVsc2UgaWYodGhpcy5jdXJzb3IudmFsdWUpaWYodGhpcy5jdXJzb3IuZnJvbT5lKXt0aGlzLnRvPXRoaXMuY3Vyc29yLmZyb20sdGhpcy5lbmRTaWRlPXRoaXMuY3Vyc29yLnN0YXJ0U2lkZTticmVha31lbHNle2xldCByPXRoaXMuY3Vyc29yLnZhbHVlO2lmKCFyLnBvaW50KXRoaXMuYWRkQWN0aXZlKHMpLHRoaXMuY3Vyc29yLm5leHQoKTtlbHNlIGlmKHQmJnRoaXMuY3Vyc29yLnRvPT10aGlzLnRvJiZ0aGlzLmN1cnNvci5mcm9tPHRoaXMuY3Vyc29yLnRvKXRoaXMuY3Vyc29yLm5leHQoKTtlbHNle3RoaXMucG9pbnQ9cix0aGlzLnBvaW50RnJvbT10aGlzLmN1cnNvci5mcm9tLHRoaXMucG9pbnRSYW5rPXRoaXMuY3Vyc29yLnJhbmssdGhpcy50bz10aGlzLmN1cnNvci50byx0aGlzLmVuZFNpZGU9ci5lbmRTaWRlLHRoaXMuY3Vyc29yLm5leHQoKSx0aGlzLmZvcndhcmQodGhpcy50byx0aGlzLmVuZFNpZGUpO2JyZWFrfX1lbHNle3RoaXMudG89dGhpcy5lbmRTaWRlPTFlOTticmVha319aWYocyl7dGhpcy5vcGVuU3RhcnQ9MDtmb3IobGV0IGk9cy5sZW5ndGgtMTtpPj0wJiZzW2ldPGU7aS0tKXRoaXMub3BlblN0YXJ0Kyt9fWFjdGl2ZUZvclBvaW50KGUpe2lmKCF0aGlzLmFjdGl2ZS5sZW5ndGgpcmV0dXJuIHRoaXMuYWN0aXZlO2xldCB0PVtdO2ZvcihsZXQgcz10aGlzLmFjdGl2ZS5sZW5ndGgtMTtzPj0wJiYhKHRoaXMuYWN0aXZlUmFua1tzXTx0aGlzLnBvaW50UmFuayk7cy0tKSh0aGlzLmFjdGl2ZVRvW3NdPmV8fHRoaXMuYWN0aXZlVG9bc109PWUmJnRoaXMuYWN0aXZlW3NdLmVuZFNpZGU+PXRoaXMucG9pbnQuZW5kU2lkZSkmJnQucHVzaCh0aGlzLmFjdGl2ZVtzXSk7cmV0dXJuIHQucmV2ZXJzZSgpfW9wZW5FbmQoZSl7bGV0IHQ9MDtmb3IobGV0IHM9dGhpcy5hY3RpdmVUby5sZW5ndGgtMTtzPj0wJiZ0aGlzLmFjdGl2ZVRvW3NdPmU7cy0tKXQrKztyZXR1cm4gdH19ZnVuY3Rpb24gT2gobixlLHQscyxpLHIpe24uZ290byhlKSx0LmdvdG8ocyk7bGV0IG89cytpLGE9cyxsPXMtZTtmb3IoOzspe2xldCB1PW4udG8rbC10LnRvLGg9dXx8bi5lbmRTaWRlLXQuZW5kU2lkZSxjPWg8MD9uLnRvK2w6dC50byxtPU1hdGgubWluKGMsbyk7aWYobi5wb2ludHx8dC5wb2ludD9uLnBvaW50JiZ0LnBvaW50JiYobi5wb2ludD09dC5wb2ludHx8bi5wb2ludC5lcSh0LnBvaW50KSkmJmthKG4uYWN0aXZlRm9yUG9pbnQobi50byksdC5hY3RpdmVGb3JQb2ludCh0LnRvKSl8fHIuY29tcGFyZVBvaW50KGEsbSxuLnBvaW50LHQucG9pbnQpOm0+YSYmIWthKG4uYWN0aXZlLHQuYWN0aXZlKSYmci5jb21wYXJlUmFuZ2UoYSxtLG4uYWN0aXZlLHQuYWN0aXZlKSxjPm8pYnJlYWs7KHV8fG4ub3BlbkVuZCE9dC5vcGVuRW5kKSYmci5ib3VuZENoYW5nZSYmci5ib3VuZENoYW5nZShjKSxhPWMsaDw9MCYmbi5uZXh0KCksaD49MCYmdC5uZXh0KCl9fWZ1bmN0aW9uIGthKG4sZSl7aWYobi5sZW5ndGghPWUubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKG5bdF0hPWVbdF0mJiFuW3RdLmVxKGVbdF0pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIE5yKG4sZSl7Zm9yKGxldCB0PWUscz1uLmxlbmd0aC0xO3Q8czt0Kyspblt0XT1uW3QrMV07bi5wb3AoKX1mdW5jdGlvbiB2cihuLGUsdCl7Zm9yKGxldCBzPW4ubGVuZ3RoLTE7cz49ZTtzLS0pbltzKzFdPW5bc107bltlXT10fWZ1bmN0aW9uIEloKG4sZSl7bGV0IHQ9LTEscz0xZTk7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspKGVbaV0tc3x8bltpXS5lbmRTaWRlLW5bdF0uZW5kU2lkZSk8MCYmKHQ9aSxzPWVbaV0pO3JldHVybiB0fWNvbnN0IGh3PSIwLjE1LjAiLGZ3PW49Pntjb25zdCBlPW4gaW5zdGFuY2VvZiBScz9uLnRvSlNPTigpOkFycmF5LmlzQXJyYXkobik/bjpuLnNwbGl0KGAKYCk7bGV0IHQ9W107Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspcz09PTAmJnQucHVzaCgwKSx0LnB1c2goKHM9PT1lLmxlbmd0aC0xPzA6MSkrZVtzXS5sZW5ndGgrdFt0Lmxlbmd0aC0xXXx8MCk7cmV0dXJue2xpbmVzOmUsbGVuZ3RoQXRJbmRleDp0fX07ZnVuY3Rpb24gZHcobixlLHQpe2U9PT0hMCYmKGU9bmV3IHNjKTtjb25zdCBzPXt2ZXJzaW9uOmh3fTtpZighbilyZXR1cm57Li4uWHkoKSxjYWNoZTplLHBhcnNlcjpzLHBhcnNlTWVzc2FnZXM6W119O2NvbnN0e2xpbmVzOmksbGVuZ3RoQXRJbmRleDpyfT1mdyhuKTtyZXR1cm57Li4ueXcoaSxyLGUsdCksY2FjaGU6ZSxwYXJzZXI6c319ZnVuY3Rpb24gbXcobixlLHQscyxpKXtsZXQgcj1uO2NvbnN0IG89aXx8dC5sZW5ndGg7Zm9yKDtyPHQubGVuZ3RoJiZyPG87KXtjb25zdCBhPXRbcl07aWYodjAoYSxyLHMsZSkpe3IrKztjb250aW51ZX1jb25zdCBsPWl3KHQscixzLGUpO2lmKGwpe3I9bC5lbmQ7Y29udGludWV9cj1EMChhLHQscixzLGUpKzF9aWYoaT09PXZvaWQgMCl7Y29uc3QgYT1yLTE7Zm9yKDtlLmN1cnJlbnRQYXRoLmxlbmd0aD4xOyllLmVuZEN1cnJlbnRHcm91cChzW2FdK3RbYV0ubGVuZ3RoLHtsaW5lOmEsaW5kZXg6dFthXS5sZW5ndGh9KX1yZXR1cm4gZX1mdW5jdGlvbiB5dyhuLGUsdCxzKXtjb25zdCBpPW5ldyBNMChzLHQpLHI9UzAobixlLGkpO3JldHVybiBtdyhyLGksbixlKSxpLnRvVGltZWxpbmUoKX1jb25zdCBwdz1uZXcgc2M7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbj0+e3RyeXtwb3N0TWVzc2FnZShkdyhuLmRhdGEucmF3VGltZWxpbmVTdHJpbmcscHcpKX1jYXRjaChlKXtwb3N0TWVzc2FnZSh7ZXJyb3I6ZX0pfX0pfSkoKTsK",gg=i=>Uint8Array.from(atob(i),e=>e.charCodeAt(0)),Ql=typeof window<"u"&&window.Blob&&new Blob([gg(wd)],{type:"text/javascript;charset=utf-8"});function vg(i){let e;try{if(e=Ql&&(window.URL||window.webkitURL).createObjectURL(Ql),!e)throw"";const t=new Worker(e,{name:i==null?void 0:i.name});return t.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(e)}),t}catch{return new Worker("data:text/javascript;base64,"+wd,{name:i==null?void 0:i.name})}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}const Zg=i=>{let e=!1,t="",n="";const s=new vg;return s.onmessage=r=>{const{timelines:o,error:a}=r.data;a?console.log(a):i(o),n!==t?(t=n,s.postMessage({rawTimelineString:n})):e=!1},r=>{n=r,e?console.info("Would post but running"):(e=!0,t=r,s.postMessage({rawTimelineString:r}))}},Gd=Eo.StateEffect.define();class Sg{constructor(e){this.markwhen=hu(),this.worker=Zg(t=>{this.markwhen=t,this.view.dispatch({effects:Gd.of(t)})}),this.view=e,this.worker(e.state.doc.sliceString(0))}update(e){e.docChanged&&this.worker(e.state.sliceDoc())}}const wg='<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Calendar</title>\n    <script type="module" crossorigin>\n(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll(\'link[rel="modulepreload"]\'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _m(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dm={exports:{}},Nl={},Am={exports:{}},U={};/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var ws=Symbol.for("react.element"),GE=Symbol.for("react.portal"),qE=Symbol.for("react.fragment"),QE=Symbol.for("react.strict_mode"),ZE=Symbol.for("react.profiler"),KE=Symbol.for("react.provider"),XE=Symbol.for("react.context"),JE=Symbol.for("react.forward_ref"),eS=Symbol.for("react.suspense"),tS=Symbol.for("react.memo"),nS=Symbol.for("react.lazy"),kf=Symbol.iterator;function rS(t){return t===null||typeof t!="object"?null:(t=kf&&t[kf]||t["@@iterator"],typeof t=="function"?t:null)}var Cm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bm=Object.assign,km={};function ai(t,e,n){this.props=t,this.context=e,this.refs=km,this.updater=n||Cm}ai.prototype.isReactComponent={};ai.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ai.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Om(){}Om.prototype=ai.prototype;function Rc(t,e,n){this.props=t,this.context=e,this.refs=km,this.updater=n||Cm}var Nc=Rc.prototype=new Om;Nc.constructor=Rc;bm(Nc,ai.prototype);Nc.isPureReactComponent=!0;var Of=Array.isArray,Rm=Object.prototype.hasOwnProperty,Mc={current:null},Nm={key:!0,ref:!0,__self:!0,__source:!0};function Mm(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Rm.call(e,r)&&!Nm.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ws,type:t,key:s,ref:o,props:i,_owner:Mc.current}}function iS(t,e){return{$$typeof:ws,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ic(t){return typeof t=="object"&&t!==null&&t.$$typeof===ws}function sS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rf=/\\/+/g;function fa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sS(""+t.key):e.toString(36)}function go(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ws:case GE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fa(o,0):r,Of(i)?(n="",t!=null&&(n=t.replace(Rf,"$&/")+"/"),go(i,e,n,"",function(u){return u})):i!=null&&(Ic(i)&&(i=iS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Rf,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Of(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+fa(s,l);o+=go(s,e,n,a,i)}else if(a=rS(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+fa(s,l++),o+=go(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ls(t,e,n){if(t==null)return t;var r=[],i=0;return go(t,r,"","",function(s){return e.call(n,s,i++)}),r}function oS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ve={current:null},vo={transition:null},lS={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:vo,ReactCurrentOwner:Mc};U.Children={map:Ls,forEach:function(t,e,n){Ls(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ls(t,function(){e++}),e},toArray:function(t){return Ls(t,function(e){return e})||[]},only:function(t){if(!Ic(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=ai;U.Fragment=qE;U.Profiler=ZE;U.PureComponent=Rc;U.StrictMode=QE;U.Suspense=eS;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lS;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bm({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Mc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Rm.call(e,a)&&!Nm.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ws,type:t.type,key:i,ref:s,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:XE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KE,_context:t},t.Consumer=t};U.createElement=Mm;U.createFactory=function(t){var e=Mm.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:JE,render:t}};U.isValidElement=Ic;U.lazy=function(t){return{$$typeof:nS,_payload:{_status:-1,_result:t},_init:oS}};U.memo=function(t,e){return{$$typeof:tS,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=vo.transition;vo.transition={};try{t()}finally{vo.transition=e}};U.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};U.useCallback=function(t,e){return Ve.current.useCallback(t,e)};U.useContext=function(t){return Ve.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Ve.current.useDeferredValue(t)};U.useEffect=function(t,e){return Ve.current.useEffect(t,e)};U.useId=function(){return Ve.current.useId()};U.useImperativeHandle=function(t,e,n){return Ve.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return Ve.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Ve.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Ve.current.useMemo(t,e)};U.useReducer=function(t,e,n){return Ve.current.useReducer(t,e,n)};U.useRef=function(t){return Ve.current.useRef(t)};U.useState=function(t){return Ve.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return Ve.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return Ve.current.useTransition()};U.version="18.2.0";Am.exports=U;var Mt=Am.exports;const Ho=_m(Mt);/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var aS=Mt,uS=Symbol.for("react.element"),cS=Symbol.for("react.fragment"),dS=Object.prototype.hasOwnProperty,fS=aS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hS={key:!0,ref:!0,__self:!0,__source:!0};function Im(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dS.call(e,r)&&!hS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uS,type:t,key:s,ref:o,props:i,_owner:fS.current}}Nl.Fragment=cS;Nl.jsx=Im;Nl.jsxs=Im;Dm.exports=Nl;var Li=Dm.exports,cu={},xm={exports:{}},lt={},Pm={exports:{}},Lm={};/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */(function(t){function e(S,k){var R=S.length;S.push(k);e:for(;0<R;){var N=R-1>>>1,Y=S[N];if(0<i(Y,k))S[N]=k,S[R]=Y,R=N;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var k=S[0],R=S.pop();if(R!==k){S[0]=R;e:for(var N=0,Y=S.length,Re=Y>>>1;N<Re;){var Ae=2*(N+1)-1,Ue=S[Ae],Ne=Ae+1,St=S[Ne];if(0>i(Ue,R))Ne<Y&&0>i(St,Ue)?(S[N]=St,S[Ne]=R,N=Ne):(S[N]=Ue,S[Ae]=R,N=Ae);else if(Ne<Y&&0>i(St,R))S[N]=St,S[Ne]=R,N=Ne;else break e}}return k}function i(S,k){var R=S.sortIndex-k.sortIndex;return R!==0?R:S.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,f=null,h=3,d=!1,p=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(S){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=S)r(u),k.sortIndex=k.expirationTime,e(a,k);else break;k=n(u)}}function w(S){if(v=!1,E(S),!p)if(n(a)!==null)p=!0,ct(D);else{var k=n(u);k!==null&&ye(w,k.startTime-S)}}function D(S,k){p=!1,v&&(v=!1,m(A),A=-1),d=!0;var R=h;try{for(E(k),f=n(a);f!==null&&(!(f.expirationTime>k)||S&&!W());){var N=f.callback;if(typeof N=="function"){f.callback=null,h=f.priorityLevel;var Y=N(f.expirationTime<=k);k=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(a)&&r(a),E(k)}else r(a);f=n(a)}if(f!==null)var Re=!0;else{var Ae=n(u);Ae!==null&&ye(w,Ae.startTime-k),Re=!1}return Re}finally{f=null,h=R,d=!1}}var _=!1,b=null,A=-1,x=5,P=-1;function W(){return!(t.unstable_now()-P<x)}function $(){if(b!==null){var S=t.unstable_now();P=S;var k=!0;try{k=b(!0,S)}finally{k?Te():(_=!1,b=null)}}else _=!1}var Te;if(typeof g=="function")Te=function(){g($)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ne=se.port2;se.port1.onmessage=$,Te=function(){ne.postMessage(null)}}else Te=function(){y($,0)};function ct(S){b=S,_||(_=!0,Te())}function ye(S,k){A=y(function(){S(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,ct(D))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(S){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var R=h;h=k;try{return S()}finally{h=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,k){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var R=h;h=S;try{return k()}finally{h=R}},t.unstable_scheduleCallback=function(S,k,R){var N=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?N+R:N):R=N,S){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=R+Y,S={id:c++,callback:k,priorityLevel:S,startTime:R,expirationTime:Y,sortIndex:-1},R>N?(S.sortIndex=R,e(u,S),n(a)===null&&S===n(u)&&(v?(m(A),A=-1):v=!0,ye(w,R-N))):(S.sortIndex=Y,e(a,S),p||d||(p=!0,ct(D))),S},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(S){var k=h;return function(){var R=h;h=k;try{return S.apply(this,arguments)}finally{h=R}}}})(Lm);Pm.exports=Lm;var pS=Pm.exports;/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var zm=Mt,ot=pS;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hm=new Set,Ji={};function pr(t,e){Zr(t,e),Zr(t+"Capture",e)}function Zr(t,e){for(Ji[t]=e,t=0;t<e.length;t++)Hm.add(e[t])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),du=Object.prototype.hasOwnProperty,mS=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,Nf={},Mf={};function gS(t){return du.call(Mf,t)?!0:du.call(Nf,t)?!1:mS.test(t)?Mf[t]=!0:(Nf[t]=!0,!1)}function vS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yS(t,e,n,r){if(e===null||typeof e>"u"||vS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function We(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ke[t]=new We(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ke[e]=new We(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ke[t]=new We(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ke[t]=new We(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ke[t]=new We(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ke[t]=new We(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ke[t]=new We(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ke[t]=new We(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ke[t]=new We(t,5,!1,t.toLowerCase(),null,!1,!1)});var xc=/[\\-:]([a-z])/g;function Pc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xc,Pc);ke[e]=new We(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xc,Pc);ke[e]=new We(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xc,Pc);ke[e]=new We(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ke[t]=new We(t,1,!1,t.toLowerCase(),null,!1,!1)});ke.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ke[t]=new We(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lc(t,e,n,r){var i=ke.hasOwnProperty(e)?ke[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yS(e,n,i,r)&&(n=null),r||i===null?gS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ln=zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zs=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),zc=Symbol.for("react.strict_mode"),fu=Symbol.for("react.profiler"),Um=Symbol.for("react.provider"),Bm=Symbol.for("react.context"),Hc=Symbol.for("react.forward_ref"),hu=Symbol.for("react.suspense"),pu=Symbol.for("react.suspense_list"),Uc=Symbol.for("react.memo"),hn=Symbol.for("react.lazy"),Fm=Symbol.for("react.offscreen"),If=Symbol.iterator;function vi(t){return t===null||typeof t!="object"?null:(t=If&&t[If]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,ha;function Oi(t){if(ha===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\\n( *(at )?)/);ha=e&&e[1]||""}return`\n`+ha+t}var pa=!1;function ma(t,e){if(!t||pa)return"";pa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`\n`),s=r.stack.split(`\n`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`\n`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{pa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oi(t):""}function ES(t){switch(t.tag){case 5:return Oi(t.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 2:case 15:return t=ma(t.type,!1),t;case 11:return t=ma(t.type.render,!1),t;case 1:return t=ma(t.type,!0),t;default:return""}}function mu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cr:return"Fragment";case Ar:return"Portal";case fu:return"Profiler";case zc:return"StrictMode";case hu:return"Suspense";case pu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bm:return(t.displayName||"Context")+".Consumer";case Um:return(t._context.displayName||"Context")+".Provider";case Hc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uc:return e=t.displayName||null,e!==null?e:mu(t.type)||"Memo";case hn:e=t._payload,t=t._init;try{return mu(t(e))}catch{}}return null}function SS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mu(e);case 8:return e===zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function In(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ym(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wS(t){var e=Ym(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hs(t){t._valueTracker||(t._valueTracker=wS(t))}function jm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ym(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Uo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gu(t,e){var n=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=In(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vm(t,e){e=e.checked,e!=null&&Lc(t,"checked",e,!1)}function vu(t,e){Vm(t,e);var n=In(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yu(t,e.type,n):e.hasOwnProperty("defaultValue")&&yu(t,e.type,In(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Pf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yu(t,e,n){(e!=="number"||Uo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ri=Array.isArray;function Br(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+In(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Eu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Ri(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:In(n)}}function Wm(t,e){var n=In(e.value),r=In(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $m(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Su(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$m(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Us,Gm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Us=Us||document.createElement("div"),Us.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Us.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function es(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TS=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(t){TS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zi[e]=zi[t]})});function qm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zi.hasOwnProperty(t)&&zi[t]?(""+e).trim():e+"px"}function Qm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _S=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wu(t,e){if(e){if(_S[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Tu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=null;function Bc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Du=null,Fr=null,Yr=null;function Hf(t){if(t=Ds(t)){if(typeof Du!="function")throw Error(O(280));var e=t.stateNode;e&&(e=Ll(e),Du(t.stateNode,t.type,e))}}function Zm(t){Fr?Yr?Yr.push(t):Yr=[t]:Fr=t}function Km(){if(Fr){var t=Fr,e=Yr;if(Yr=Fr=null,Hf(t),e)for(t=0;t<e.length;t++)Hf(e[t])}}function Xm(t,e){return t(e)}function Jm(){}var ga=!1;function eg(t,e,n){if(ga)return t(e,n);ga=!0;try{return Xm(t,e,n)}finally{ga=!1,(Fr!==null||Yr!==null)&&(Jm(),Km())}}function ts(t,e){var n=t.stateNode;if(n===null)return null;var r=Ll(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Au=!1;if(Jt)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){Au=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{Au=!1}function DS(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Hi=!1,Bo=null,Fo=!1,Cu=null,AS={onError:function(t){Hi=!0,Bo=t}};function CS(t,e,n,r,i,s,o,l,a){Hi=!1,Bo=null,DS.apply(AS,arguments)}function bS(t,e,n,r,i,s,o,l,a){if(CS.apply(this,arguments),Hi){if(Hi){var u=Bo;Hi=!1,Bo=null}else throw Error(O(198));Fo||(Fo=!0,Cu=u)}}function mr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uf(t){if(mr(t)!==t)throw Error(O(188))}function kS(t){var e=t.alternate;if(!e){if(e=mr(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Uf(i),t;if(s===r)return Uf(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function ng(t){return t=kS(t),t!==null?rg(t):null}function rg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rg(t);if(e!==null)return e;t=t.sibling}return null}var ig=ot.unstable_scheduleCallback,Bf=ot.unstable_cancelCallback,OS=ot.unstable_shouldYield,RS=ot.unstable_requestPaint,he=ot.unstable_now,NS=ot.unstable_getCurrentPriorityLevel,Fc=ot.unstable_ImmediatePriority,sg=ot.unstable_UserBlockingPriority,Yo=ot.unstable_NormalPriority,MS=ot.unstable_LowPriority,og=ot.unstable_IdlePriority,Ml=null,Ut=null;function IS(t){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Ml,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:LS,xS=Math.log,PS=Math.LN2;function LS(t){return t>>>=0,t===0?32:31-(xS(t)/PS|0)|0}var Bs=64,Fs=4194304;function Ni(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ni(l):(s&=o,s!==0&&(r=Ni(s)))}else o=n&~i,o!==0?r=Ni(o):s!==0&&(r=Ni(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ot(e),i=1<<n,r|=t[n],e&=~i;return r}function zS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ot(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=zS(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function bu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lg(){var t=Bs;return Bs<<=1,!(Bs&4194240)&&(Bs=64),t}function va(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ts(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ot(e),t[e]=n}function US(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ot(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Yc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ot(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Q=0;function ag(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ug,jc,cg,dg,fg,ku=!1,Ys=[],Dn=null,An=null,Cn=null,ns=new Map,rs=new Map,gn=[],BS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ff(t,e){switch(t){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":ns.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(e.pointerId)}}function Ei(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ds(e),e!==null&&jc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function FS(t,e,n,r,i){switch(e){case"focusin":return Dn=Ei(Dn,t,e,n,r,i),!0;case"dragenter":return An=Ei(An,t,e,n,r,i),!0;case"mouseover":return Cn=Ei(Cn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ns.set(s,Ei(ns.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rs.set(s,Ei(rs.get(s)||null,t,e,n,r,i)),!0}return!1}function hg(t){var e=Qn(t.target);if(e!==null){var n=mr(e);if(n!==null){if(e=n.tag,e===13){if(e=tg(n),e!==null){t.blockedOn=e,fg(t.priority,function(){cg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ou(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_u=r,n.target.dispatchEvent(r),_u=null}else return e=Ds(n),e!==null&&jc(e),t.blockedOn=n,!1;e.shift()}return!0}function Yf(t,e,n){yo(t)&&n.delete(e)}function YS(){ku=!1,Dn!==null&&yo(Dn)&&(Dn=null),An!==null&&yo(An)&&(An=null),Cn!==null&&yo(Cn)&&(Cn=null),ns.forEach(Yf),rs.forEach(Yf)}function Si(t,e){t.blockedOn===e&&(t.blockedOn=null,ku||(ku=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,YS)))}function is(t){function e(i){return Si(i,t)}if(0<Ys.length){Si(Ys[0],t);for(var n=1;n<Ys.length;n++){var r=Ys[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dn!==null&&Si(Dn,t),An!==null&&Si(An,t),Cn!==null&&Si(Cn,t),ns.forEach(e),rs.forEach(e),n=0;n<gn.length;n++)r=gn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)hg(n),n.blockedOn===null&&gn.shift()}var jr=ln.ReactCurrentBatchConfig,Vo=!0;function jS(t,e,n,r){var i=Q,s=jr.transition;jr.transition=null;try{Q=1,Vc(t,e,n,r)}finally{Q=i,jr.transition=s}}function VS(t,e,n,r){var i=Q,s=jr.transition;jr.transition=null;try{Q=4,Vc(t,e,n,r)}finally{Q=i,jr.transition=s}}function Vc(t,e,n,r){if(Vo){var i=Ou(t,e,n,r);if(i===null)ba(t,e,r,Wo,n),Ff(t,r);else if(FS(i,t,e,n,r))r.stopPropagation();else if(Ff(t,r),e&4&&-1<BS.indexOf(t)){for(;i!==null;){var s=Ds(i);if(s!==null&&ug(s),s=Ou(t,e,n,r),s===null&&ba(t,e,r,Wo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ba(t,e,r,null,n)}}var Wo=null;function Ou(t,e,n,r){if(Wo=null,t=Bc(r),t=Qn(t),t!==null)if(e=mr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wo=t,null}function pg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NS()){case Fc:return 1;case sg:return 4;case Yo:case MS:return 16;case og:return 536870912;default:return 16}default:return 16}}var En=null,Wc=null,Eo=null;function mg(){if(Eo)return Eo;var t,e=Wc,n=e.length,r,i="value"in En?En.value:En.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Eo=i.slice(t,1<r?1-r:void 0)}function So(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function js(){return!0}function jf(){return!1}function at(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?js:jf,this.isPropagationStopped=jf,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),e}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=at(ui),_s=ue({},ui,{view:0,detail:0}),WS=at(_s),ya,Ea,wi,Il=ue({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(ya=t.screenX-wi.screenX,Ea=t.screenY-wi.screenY):Ea=ya=0,wi=t),ya)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Vf=at(Il),$S=ue({},Il,{dataTransfer:0}),GS=at($S),qS=ue({},_s,{relatedTarget:0}),Sa=at(qS),QS=ue({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),ZS=at(QS),KS=ue({},ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XS=at(KS),JS=ue({},ui,{data:0}),Wf=at(JS),ew={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nw[t])?!!e[t]:!1}function Gc(){return rw}var iw=ue({},_s,{key:function(t){if(t.key){var e=ew[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=So(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(t){return t.type==="keypress"?So(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?So(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sw=at(iw),ow=ue({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$f=at(ow),lw=ue({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),aw=at(lw),uw=ue({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),cw=at(uw),dw=ue({},Il,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fw=at(dw),hw=[9,13,27,32],qc=Jt&&"CompositionEvent"in window,Ui=null;Jt&&"documentMode"in document&&(Ui=document.documentMode);var pw=Jt&&"TextEvent"in window&&!Ui,gg=Jt&&(!qc||Ui&&8<Ui&&11>=Ui),Gf=String.fromCharCode(32),qf=!1;function vg(t,e){switch(t){case"keyup":return hw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var br=!1;function mw(t,e){switch(t){case"compositionend":return yg(e);case"keypress":return e.which!==32?null:(qf=!0,Gf);case"textInput":return t=e.data,t===Gf&&qf?null:t;default:return null}}function gw(t,e){if(br)return t==="compositionend"||!qc&&vg(t,e)?(t=mg(),Eo=Wc=En=null,br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gg&&e.locale!=="ko"?null:e.data;default:return null}}var vw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vw[t.type]:e==="textarea"}function Eg(t,e,n,r){Zm(r),e=$o(e,"onChange"),0<e.length&&(n=new $c("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bi=null,ss=null;function yw(t){Rg(t,0)}function xl(t){var e=Rr(t);if(jm(e))return t}function Ew(t,e){if(t==="change")return e}var Sg=!1;if(Jt){var wa;if(Jt){var Ta="oninput"in document;if(!Ta){var Zf=document.createElement("div");Zf.setAttribute("oninput","return;"),Ta=typeof Zf.oninput=="function"}wa=Ta}else wa=!1;Sg=wa&&(!document.documentMode||9<document.documentMode)}function Kf(){Bi&&(Bi.detachEvent("onpropertychange",wg),ss=Bi=null)}function wg(t){if(t.propertyName==="value"&&xl(ss)){var e=[];Eg(e,ss,t,Bc(t)),eg(yw,e)}}function Sw(t,e,n){t==="focusin"?(Kf(),Bi=e,ss=n,Bi.attachEvent("onpropertychange",wg)):t==="focusout"&&Kf()}function ww(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xl(ss)}function Tw(t,e){if(t==="click")return xl(e)}function _w(t,e){if(t==="input"||t==="change")return xl(e)}function Dw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var It=typeof Object.is=="function"?Object.is:Dw;function os(t,e){if(It(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!du.call(e,i)||!It(t[i],e[i]))return!1}return!0}function Xf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jf(t,e){var n=Xf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xf(n)}}function Tg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Tg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _g(){for(var t=window,e=Uo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uo(t.document)}return e}function Qc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Aw(t){var e=_g(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Tg(n.ownerDocument.documentElement,n)){if(r!==null&&Qc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Jf(n,s);var o=Jf(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cw=Jt&&"documentMode"in document&&11>=document.documentMode,kr=null,Ru=null,Fi=null,Nu=!1;function eh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nu||kr==null||kr!==Uo(r)||(r=kr,"selectionStart"in r&&Qc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fi&&os(Fi,r)||(Fi=r,r=$o(Ru,"onSelect"),0<r.length&&(e=new $c("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=kr)))}function Vs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Or={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionend:Vs("Transition","TransitionEnd")},_a={},Dg={};Jt&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Pl(t){if(_a[t])return _a[t];if(!Or[t])return t;var e=Or[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Dg)return _a[t]=e[n];return t}var Ag=Pl("animationend"),Cg=Pl("animationiteration"),bg=Pl("animationstart"),kg=Pl("transitionend"),Og=new Map,th="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(t,e){Og.set(t,e),pr(e,[t])}for(var Da=0;Da<th.length;Da++){var Aa=th[Da],bw=Aa.toLowerCase(),kw=Aa[0].toUpperCase()+Aa.slice(1);zn(bw,"on"+kw)}zn(Ag,"onAnimationEnd");zn(Cg,"onAnimationIteration");zn(bg,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(kg,"onTransitionEnd");Zr("onMouseEnter",["mouseout","mouseover"]);Zr("onMouseLeave",["mouseout","mouseover"]);Zr("onPointerEnter",["pointerout","pointerover"]);Zr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ow=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function nh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bS(r,e,void 0,t),t.currentTarget=null}function Rg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;nh(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;nh(i,l,u),s=a}}}if(Fo)throw t=Cu,Fo=!1,Cu=null,t}function X(t,e){var n=e[Lu];n===void 0&&(n=e[Lu]=new Set);var r=t+"__bubble";n.has(r)||(Ng(e,t,2,!1),n.add(r))}function Ca(t,e,n){var r=0;e&&(r|=4),Ng(n,t,r,e)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function ls(t){if(!t[Ws]){t[Ws]=!0,Hm.forEach(function(n){n!=="selectionchange"&&(Ow.has(n)||Ca(n,!1,t),Ca(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ws]||(e[Ws]=!0,Ca("selectionchange",!1,e))}}function Ng(t,e,n,r){switch(pg(e)){case 1:var i=jS;break;case 4:i=VS;break;default:i=Vc}n=i.bind(null,e,n,t),i=void 0,!Au||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ba(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Qn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}eg(function(){var u=s,c=Bc(n),f=[];e:{var h=Og.get(t);if(h!==void 0){var d=$c,p=t;switch(t){case"keypress":if(So(n)===0)break e;case"keydown":case"keyup":d=sw;break;case"focusin":p="focus",d=Sa;break;case"focusout":p="blur",d=Sa;break;case"beforeblur":case"afterblur":d=Sa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=GS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=aw;break;case Ag:case Cg:case bg:d=ZS;break;case kg:d=cw;break;case"scroll":d=WS;break;case"wheel":d=fw;break;case"copy":case"cut":case"paste":d=XS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=$f}var v=(e&4)!==0,y=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,E;g!==null;){E=g;var w=E.stateNode;if(E.tag===5&&w!==null&&(E=w,m!==null&&(w=ts(g,m),w!=null&&v.push(as(g,w,E)))),y)break;g=g.return}0<v.length&&(h=new d(h,p,null,n,c),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&n!==_u&&(p=n.relatedTarget||n.fromElement)&&(Qn(p)||p[en]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=u,p=p?Qn(p):null,p!==null&&(y=mr(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(v=Vf,w="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=$f,w="onPointerLeave",m="onPointerEnter",g="pointer"),y=d==null?h:Rr(d),E=p==null?h:Rr(p),h=new v(w,g+"leave",d,n,c),h.target=y,h.relatedTarget=E,w=null,Qn(c)===u&&(v=new v(m,g+"enter",p,n,c),v.target=E,v.relatedTarget=y,w=v),y=w,d&&p)t:{for(v=d,m=p,g=0,E=v;E;E=Sr(E))g++;for(E=0,w=m;w;w=Sr(w))E++;for(;0<g-E;)v=Sr(v),g--;for(;0<E-g;)m=Sr(m),E--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=Sr(v),m=Sr(m)}v=null}else v=null;d!==null&&rh(f,h,d,v,!1),p!==null&&y!==null&&rh(f,y,p,v,!0)}}e:{if(h=u?Rr(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var D=Ew;else if(Qf(h))if(Sg)D=_w;else{D=ww;var _=Sw}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=Tw);if(D&&(D=D(t,u))){Eg(f,D,n,c);break e}_&&_(t,h,u),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&yu(h,"number",h.value)}switch(_=u?Rr(u):window,t){case"focusin":(Qf(_)||_.contentEditable==="true")&&(kr=_,Ru=u,Fi=null);break;case"focusout":Fi=Ru=kr=null;break;case"mousedown":Nu=!0;break;case"contextmenu":case"mouseup":case"dragend":Nu=!1,eh(f,n,c);break;case"selectionchange":if(Cw)break;case"keydown":case"keyup":eh(f,n,c)}var b;if(qc)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else br?vg(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(gg&&n.locale!=="ko"&&(br||A!=="onCompositionStart"?A==="onCompositionEnd"&&br&&(b=mg()):(En=c,Wc="value"in En?En.value:En.textContent,br=!0)),_=$o(u,A),0<_.length&&(A=new Wf(A,t,null,n,c),f.push({event:A,listeners:_}),b?A.data=b:(b=yg(n),b!==null&&(A.data=b)))),(b=pw?mw(t,n):gw(t,n))&&(u=$o(u,"onBeforeInput"),0<u.length&&(c=new Wf("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=b))}Rg(f,e)})}function as(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $o(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ts(t,n),s!=null&&r.unshift(as(t,s,i)),s=ts(t,e),s!=null&&r.push(as(t,s,i))),t=t.return}return r}function Sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rh(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=ts(n,s),a!=null&&o.unshift(as(n,a,l))):i||(a=ts(n,s),a!=null&&o.push(as(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Rw=/\\r\\n?/g,Nw=/\\u0000|\\uFFFD/g;function ih(t){return(typeof t=="string"?t:""+t).replace(Rw,`\n`).replace(Nw,"")}function $s(t,e,n){if(e=ih(e),ih(t)!==e&&n)throw Error(O(425))}function Go(){}var Mu=null,Iu=null;function xu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pu=typeof setTimeout=="function"?setTimeout:void 0,Mw=typeof clearTimeout=="function"?clearTimeout:void 0,sh=typeof Promise=="function"?Promise:void 0,Iw=typeof queueMicrotask=="function"?queueMicrotask:typeof sh<"u"?function(t){return sh.resolve(null).then(t).catch(xw)}:Pu;function xw(t){setTimeout(function(){throw t})}function ka(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),is(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);is(e)}function bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function oh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ci=Math.random().toString(36).slice(2),Ht="__reactFiber$"+ci,us="__reactProps$"+ci,en="__reactContainer$"+ci,Lu="__reactEvents$"+ci,Pw="__reactListeners$"+ci,Lw="__reactHandles$"+ci;function Qn(t){var e=t[Ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[en]||n[Ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=oh(t);t!==null;){if(n=t[Ht])return n;t=oh(t)}return e}t=n,n=t.parentNode}return null}function Ds(t){return t=t[Ht]||t[en],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function Ll(t){return t[us]||null}var zu=[],Nr=-1;function Hn(t){return{current:t}}function te(t){0>Nr||(t.current=zu[Nr],zu[Nr]=null,Nr--)}function Z(t,e){Nr++,zu[Nr]=t.current,t.current=e}var xn={},He=Hn(xn),Qe=Hn(!1),or=xn;function Kr(t,e){var n=t.type.contextTypes;if(!n)return xn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(t){return t=t.childContextTypes,t!=null}function qo(){te(Qe),te(He)}function lh(t,e,n){if(He.current!==xn)throw Error(O(168));Z(He,e),Z(Qe,n)}function Mg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,SS(t)||"Unknown",i));return ue({},n,r)}function Qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xn,or=He.current,Z(He,t),Z(Qe,Qe.current),!0}function ah(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=Mg(t,e,or),r.__reactInternalMemoizedMergedChildContext=t,te(Qe),te(He),Z(He,t)):te(Qe),Z(Qe,n)}var Wt=null,zl=!1,Oa=!1;function Ig(t){Wt===null?Wt=[t]:Wt.push(t)}function zw(t){zl=!0,Ig(t)}function Un(){if(!Oa&&Wt!==null){Oa=!0;var t=0,e=Q;try{var n=Wt;for(Q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wt=null,zl=!1}catch(i){throw Wt!==null&&(Wt=Wt.slice(t+1)),ig(Fc,Un),i}finally{Q=e,Oa=!1}}return null}var Mr=[],Ir=0,Zo=null,Ko=0,ft=[],ht=0,lr=null,$t=1,Gt="";function Yn(t,e){Mr[Ir++]=Ko,Mr[Ir++]=Zo,Zo=t,Ko=e}function xg(t,e,n){ft[ht++]=$t,ft[ht++]=Gt,ft[ht++]=lr,lr=t;var r=$t;t=Gt;var i=32-Ot(r)-1;r&=~(1<<i),n+=1;var s=32-Ot(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$t=1<<32-Ot(e)+i|n<<i|r,Gt=s+t}else $t=1<<s|n<<i|r,Gt=t}function Zc(t){t.return!==null&&(Yn(t,1),xg(t,1,0))}function Kc(t){for(;t===Zo;)Zo=Mr[--Ir],Mr[Ir]=null,Ko=Mr[--Ir],Mr[Ir]=null;for(;t===lr;)lr=ft[--ht],ft[ht]=null,Gt=ft[--ht],ft[ht]=null,$t=ft[--ht],ft[ht]=null}var nt=null,tt=null,re=!1,Ct=null;function Pg(t,e){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nt=t,tt=bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nt=t,tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lr!==null?{id:$t,overflow:Gt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nt=t,tt=null,!0):!1;default:return!1}}function Hu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uu(t){if(re){var e=tt;if(e){var n=e;if(!uh(t,e)){if(Hu(t))throw Error(O(418));e=bn(n.nextSibling);var r=nt;e&&uh(t,e)?Pg(r,n):(t.flags=t.flags&-4097|2,re=!1,nt=t)}}else{if(Hu(t))throw Error(O(418));t.flags=t.flags&-4097|2,re=!1,nt=t}}}function ch(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nt=t}function Gs(t){if(t!==nt)return!1;if(!re)return ch(t),re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xu(t.type,t.memoizedProps)),e&&(e=tt)){if(Hu(t))throw Lg(),Error(O(418));for(;e;)Pg(t,e),e=bn(e.nextSibling)}if(ch(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tt=bn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tt=null}}else tt=nt?bn(t.stateNode.nextSibling):null;return!0}function Lg(){for(var t=tt;t;)t=bn(t.nextSibling)}function Xr(){tt=nt=null,re=!1}function Xc(t){Ct===null?Ct=[t]:Ct.push(t)}var Hw=ln.ReactCurrentBatchConfig;function Dt(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Xo=Hn(null),Jo=null,xr=null,Jc=null;function ed(){Jc=xr=Jo=null}function td(t){var e=Xo.current;te(Xo),t._currentValue=e}function Bu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vr(t,e){Jo=t,Jc=xr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ge=!0),t.firstContext=null)}function yt(t){var e=t._currentValue;if(Jc!==t)if(t={context:t,memoizedValue:e,next:null},xr===null){if(Jo===null)throw Error(O(308));xr=t,Jo.dependencies={lanes:0,firstContext:t}}else xr=xr.next=t;return e}var Zn=null;function nd(t){Zn===null?Zn=[t]:Zn.push(t)}function zg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,nd(e)):(n.next=i.next,i.next=n),e.interleaved=n,tn(t,r)}function tn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pn=!1;function rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,tn(t,n)}return i=r.interleaved,i===null?(e.next=e,nd(r)):(e.next=i.next,i.next=e),r.interleaved=e,tn(t,n)}function wo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yc(t,n)}}function dh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function el(t,e,n,r){var i=t.updateQueue;pn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var f=i.baseState;o=0,c=u=a=null,l=s;do{var h=l.lane,d=l.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,v=l;switch(h=e,d=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(d,f,h):p,h==null)break e;f=ue({},f,h);break e;case 2:pn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else d={eventTime:d,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=d,a=f):c=c.next=d,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ur|=o,t.lanes=o,t.memoizedState=f}}function fh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var Ug=new zm.Component().refs;function Fu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hl={isMounted:function(t){return(t=t._reactInternals)?mr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ye(),i=Rn(t),s=Zt(r,i);s.payload=e,n!=null&&(s.callback=n),e=kn(t,s,i),e!==null&&(Rt(e,t,i,r),wo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ye(),i=Rn(t),s=Zt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=kn(t,s,i),e!==null&&(Rt(e,t,i,r),wo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ye(),r=Rn(t),i=Zt(n,r);i.tag=2,e!=null&&(i.callback=e),e=kn(t,i,r),e!==null&&(Rt(e,t,r,n),wo(e,t,r))}};function hh(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!os(n,r)||!os(i,s):!0}function Bg(t,e,n){var r=!1,i=xn,s=e.contextType;return typeof s=="object"&&s!==null?s=yt(s):(i=Ze(e)?or:He.current,r=e.contextTypes,s=(r=r!=null)?Kr(t,i):xn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ph(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hl.enqueueReplaceState(e,e.state,null)}function Yu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Ug,rd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yt(s):(s=Ze(e)?or:He.current,i.context=Kr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Fu(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hl.enqueueReplaceState(i,i.state,null),el(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ti(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===Ug&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function qs(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mh(t){var e=t._init;return e(t._payload)}function Fg(t){function e(m,g){if(t){var E=m.deletions;E===null?(m.deletions=[g],m.flags|=16):E.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Nn(m,g),m.index=0,m.sibling=null,m}function s(m,g,E){return m.index=E,t?(E=m.alternate,E!==null?(E=E.index,E<g?(m.flags|=2,g):E):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,g,E,w){return g===null||g.tag!==6?(g=La(E,m.mode,w),g.return=m,g):(g=i(g,E),g.return=m,g)}function a(m,g,E,w){var D=E.type;return D===Cr?c(m,g,E.props.children,w,E.key):g!==null&&(g.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===hn&&mh(D)===g.type)?(w=i(g,E.props),w.ref=Ti(m,g,E),w.return=m,w):(w=bo(E.type,E.key,E.props,null,m.mode,w),w.ref=Ti(m,g,E),w.return=m,w)}function u(m,g,E,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==E.containerInfo||g.stateNode.implementation!==E.implementation?(g=za(E,m.mode,w),g.return=m,g):(g=i(g,E.children||[]),g.return=m,g)}function c(m,g,E,w,D){return g===null||g.tag!==7?(g=tr(E,m.mode,w,D),g.return=m,g):(g=i(g,E),g.return=m,g)}function f(m,g,E){if(typeof g=="string"&&g!==""||typeof g=="number")return g=La(""+g,m.mode,E),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case zs:return E=bo(g.type,g.key,g.props,null,m.mode,E),E.ref=Ti(m,null,g),E.return=m,E;case Ar:return g=za(g,m.mode,E),g.return=m,g;case hn:var w=g._init;return f(m,w(g._payload),E)}if(Ri(g)||vi(g))return g=tr(g,m.mode,E,null),g.return=m,g;qs(m,g)}return null}function h(m,g,E,w){var D=g!==null?g.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:l(m,g,""+E,w);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case zs:return E.key===D?a(m,g,E,w):null;case Ar:return E.key===D?u(m,g,E,w):null;case hn:return D=E._init,h(m,g,D(E._payload),w)}if(Ri(E)||vi(E))return D!==null?null:c(m,g,E,w,null);qs(m,E)}return null}function d(m,g,E,w,D){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(E)||null,l(g,m,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zs:return m=m.get(w.key===null?E:w.key)||null,a(g,m,w,D);case Ar:return m=m.get(w.key===null?E:w.key)||null,u(g,m,w,D);case hn:var _=w._init;return d(m,g,E,_(w._payload),D)}if(Ri(w)||vi(w))return m=m.get(E)||null,c(g,m,w,D,null);qs(g,w)}return null}function p(m,g,E,w){for(var D=null,_=null,b=g,A=g=0,x=null;b!==null&&A<E.length;A++){b.index>A?(x=b,b=null):x=b.sibling;var P=h(m,b,E[A],w);if(P===null){b===null&&(b=x);break}t&&b&&P.alternate===null&&e(m,b),g=s(P,g,A),_===null?D=P:_.sibling=P,_=P,b=x}if(A===E.length)return n(m,b),re&&Yn(m,A),D;if(b===null){for(;A<E.length;A++)b=f(m,E[A],w),b!==null&&(g=s(b,g,A),_===null?D=b:_.sibling=b,_=b);return re&&Yn(m,A),D}for(b=r(m,b);A<E.length;A++)x=d(b,m,A,E[A],w),x!==null&&(t&&x.alternate!==null&&b.delete(x.key===null?A:x.key),g=s(x,g,A),_===null?D=x:_.sibling=x,_=x);return t&&b.forEach(function(W){return e(m,W)}),re&&Yn(m,A),D}function v(m,g,E,w){var D=vi(E);if(typeof D!="function")throw Error(O(150));if(E=D.call(E),E==null)throw Error(O(151));for(var _=D=null,b=g,A=g=0,x=null,P=E.next();b!==null&&!P.done;A++,P=E.next()){b.index>A?(x=b,b=null):x=b.sibling;var W=h(m,b,P.value,w);if(W===null){b===null&&(b=x);break}t&&b&&W.alternate===null&&e(m,b),g=s(W,g,A),_===null?D=W:_.sibling=W,_=W,b=x}if(P.done)return n(m,b),re&&Yn(m,A),D;if(b===null){for(;!P.done;A++,P=E.next())P=f(m,P.value,w),P!==null&&(g=s(P,g,A),_===null?D=P:_.sibling=P,_=P);return re&&Yn(m,A),D}for(b=r(m,b);!P.done;A++,P=E.next())P=d(b,m,A,P.value,w),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?A:P.key),g=s(P,g,A),_===null?D=P:_.sibling=P,_=P);return t&&b.forEach(function($){return e(m,$)}),re&&Yn(m,A),D}function y(m,g,E,w){if(typeof E=="object"&&E!==null&&E.type===Cr&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case zs:e:{for(var D=E.key,_=g;_!==null;){if(_.key===D){if(D=E.type,D===Cr){if(_.tag===7){n(m,_.sibling),g=i(_,E.props.children),g.return=m,m=g;break e}}else if(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===hn&&mh(D)===_.type){n(m,_.sibling),g=i(_,E.props),g.ref=Ti(m,_,E),g.return=m,m=g;break e}n(m,_);break}else e(m,_);_=_.sibling}E.type===Cr?(g=tr(E.props.children,m.mode,w,E.key),g.return=m,m=g):(w=bo(E.type,E.key,E.props,null,m.mode,w),w.ref=Ti(m,g,E),w.return=m,m=w)}return o(m);case Ar:e:{for(_=E.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===E.containerInfo&&g.stateNode.implementation===E.implementation){n(m,g.sibling),g=i(g,E.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=za(E,m.mode,w),g.return=m,m=g}return o(m);case hn:return _=E._init,y(m,g,_(E._payload),w)}if(Ri(E))return p(m,g,E,w);if(vi(E))return v(m,g,E,w);qs(m,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,E),g.return=m,m=g):(n(m,g),g=La(E,m.mode,w),g.return=m,m=g),o(m)):n(m,g)}return y}var Jr=Fg(!0),Yg=Fg(!1),As={},Bt=Hn(As),cs=Hn(As),ds=Hn(As);function Kn(t){if(t===As)throw Error(O(174));return t}function id(t,e){switch(Z(ds,e),Z(cs,t),Z(Bt,As),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Su(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Su(e,t)}te(Bt),Z(Bt,e)}function ei(){te(Bt),te(cs),te(ds)}function jg(t){Kn(ds.current);var e=Kn(Bt.current),n=Su(e,t.type);e!==n&&(Z(cs,t),Z(Bt,n))}function sd(t){cs.current===t&&(te(Bt),te(cs))}var oe=Hn(0);function tl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ra=[];function od(){for(var t=0;t<Ra.length;t++)Ra[t]._workInProgressVersionPrimary=null;Ra.length=0}var To=ln.ReactCurrentDispatcher,Na=ln.ReactCurrentBatchConfig,ar=0,ae=null,Ee=null,_e=null,nl=!1,Yi=!1,fs=0,Uw=0;function Me(){throw Error(O(321))}function ld(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!It(t[n],e[n]))return!1;return!0}function ad(t,e,n,r,i,s){if(ar=s,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,To.current=t===null||t.memoizedState===null?jw:Vw,t=n(r,i),Yi){s=0;do{if(Yi=!1,fs=0,25<=s)throw Error(O(301));s+=1,_e=Ee=null,e.updateQueue=null,To.current=Ww,t=n(r,i)}while(Yi)}if(To.current=rl,e=Ee!==null&&Ee.next!==null,ar=0,_e=Ee=ae=null,nl=!1,e)throw Error(O(300));return t}function ud(){var t=fs!==0;return fs=0,t}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ae.memoizedState=_e=t:_e=_e.next=t,_e}function Et(){if(Ee===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=_e===null?ae.memoizedState:_e.next;if(e!==null)_e=e,Ee=t;else{if(t===null)throw Error(O(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},_e===null?ae.memoizedState=_e=t:_e=_e.next=t}return _e}function hs(t,e){return typeof e=="function"?e(t):e}function Ma(t){var e=Et(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=Ee,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((ar&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,ae.lanes|=c,ur|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,It(r,e.memoizedState)||(Ge=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ae.lanes|=s,ur|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ia(t){var e=Et(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);It(s,e.memoizedState)||(Ge=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Vg(){}function Wg(t,e){var n=ae,r=Et(),i=e(),s=!It(r.memoizedState,i);if(s&&(r.memoizedState=i,Ge=!0),r=r.queue,cd(qg.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,ps(9,Gg.bind(null,n,r,i,e),void 0,null),De===null)throw Error(O(349));ar&30||$g(n,e,i)}return i}function $g(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Gg(t,e,n,r){e.value=n,e.getSnapshot=r,Qg(e)&&Zg(t)}function qg(t,e,n){return n(function(){Qg(e)&&Zg(t)})}function Qg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!It(t,n)}catch{return!0}}function Zg(t){var e=tn(t,1);e!==null&&Rt(e,t,1,-1)}function gh(t){var e=Lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:t},e.queue=t,t=t.dispatch=Yw.bind(null,ae,t),[e.memoizedState,t]}function ps(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Kg(){return Et().memoizedState}function _o(t,e,n,r){var i=Lt();ae.flags|=t,i.memoizedState=ps(1|e,n,void 0,r===void 0?null:r)}function Ul(t,e,n,r){var i=Et();r=r===void 0?null:r;var s=void 0;if(Ee!==null){var o=Ee.memoizedState;if(s=o.destroy,r!==null&&ld(r,o.deps)){i.memoizedState=ps(e,n,s,r);return}}ae.flags|=t,i.memoizedState=ps(1|e,n,s,r)}function vh(t,e){return _o(8390656,8,t,e)}function cd(t,e){return Ul(2048,8,t,e)}function Xg(t,e){return Ul(4,2,t,e)}function Jg(t,e){return Ul(4,4,t,e)}function ev(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tv(t,e,n){return n=n!=null?n.concat([t]):null,Ul(4,4,ev.bind(null,e,t),n)}function dd(){}function nv(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ld(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rv(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ld(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iv(t,e,n){return ar&21?(It(n,e)||(n=lg(),ae.lanes|=n,ur|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ge=!0),t.memoizedState=n)}function Bw(t,e){var n=Q;Q=n!==0&&4>n?n:4,t(!0);var r=Na.transition;Na.transition={};try{t(!1),e()}finally{Q=n,Na.transition=r}}function sv(){return Et().memoizedState}function Fw(t,e,n){var r=Rn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ov(t))lv(e,n);else if(n=zg(t,e,n,r),n!==null){var i=Ye();Rt(n,t,r,i),av(n,e,r)}}function Yw(t,e,n){var r=Rn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ov(t))lv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,It(l,o)){var a=e.interleaved;a===null?(i.next=i,nd(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=zg(t,e,i,r),n!==null&&(i=Ye(),Rt(n,t,r,i),av(n,e,r))}}function ov(t){var e=t.alternate;return t===ae||e!==null&&e===ae}function lv(t,e){Yi=nl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function av(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yc(t,n)}}var rl={readContext:yt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},jw={readContext:yt,useCallback:function(t,e){return Lt().memoizedState=[t,e===void 0?null:e],t},useContext:yt,useEffect:vh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_o(4194308,4,ev.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _o(4194308,4,t,e)},useInsertionEffect:function(t,e){return _o(4,2,t,e)},useMemo:function(t,e){var n=Lt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Fw.bind(null,ae,t),[r.memoizedState,t]},useRef:function(t){var e=Lt();return t={current:t},e.memoizedState=t},useState:gh,useDebugValue:dd,useDeferredValue:function(t){return Lt().memoizedState=t},useTransition:function(){var t=gh(!1),e=t[0];return t=Bw.bind(null,t[1]),Lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ae,i=Lt();if(re){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),De===null)throw Error(O(349));ar&30||$g(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,vh(qg.bind(null,r,s,t),[t]),r.flags|=2048,ps(9,Gg.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Lt(),e=De.identifierPrefix;if(re){var n=Gt,r=$t;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Uw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Vw={readContext:yt,useCallback:nv,useContext:yt,useEffect:cd,useImperativeHandle:tv,useInsertionEffect:Xg,useLayoutEffect:Jg,useMemo:rv,useReducer:Ma,useRef:Kg,useState:function(){return Ma(hs)},useDebugValue:dd,useDeferredValue:function(t){var e=Et();return iv(e,Ee.memoizedState,t)},useTransition:function(){var t=Ma(hs)[0],e=Et().memoizedState;return[t,e]},useMutableSource:Vg,useSyncExternalStore:Wg,useId:sv,unstable_isNewReconciler:!1},Ww={readContext:yt,useCallback:nv,useContext:yt,useEffect:cd,useImperativeHandle:tv,useInsertionEffect:Xg,useLayoutEffect:Jg,useMemo:rv,useReducer:Ia,useRef:Kg,useState:function(){return Ia(hs)},useDebugValue:dd,useDeferredValue:function(t){var e=Et();return Ee===null?e.memoizedState=t:iv(e,Ee.memoizedState,t)},useTransition:function(){var t=Ia(hs)[0],e=Et().memoizedState;return[t,e]},useMutableSource:Vg,useSyncExternalStore:Wg,useId:sv,unstable_isNewReconciler:!1};function ti(t,e){try{var n="",r=e;do n+=ES(r),r=r.return;while(r);var i=n}catch(s){i=`\nError generating stack: `+s.message+`\n`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xa(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ju(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $w=typeof WeakMap=="function"?WeakMap:Map;function uv(t,e,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sl||(sl=!0,Ju=r),ju(t,e)},n}function cv(t,e,n){n=Zt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ju(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ju(t,e),typeof r!="function"&&(On===null?On=new Set([this]):On.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function yh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $w;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oT.bind(null,t,e,n),e.then(t,t))}function Eh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sh(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zt(-1,1),e.tag=2,kn(n,e,1))),n.lanes|=1),t)}var Gw=ln.ReactCurrentOwner,Ge=!1;function Be(t,e,n,r){e.child=t===null?Yg(e,null,n,r):Jr(e,t.child,n,r)}function wh(t,e,n,r,i){n=n.render;var s=e.ref;return Vr(e,i),r=ad(t,e,n,r,s,i),n=ud(),t!==null&&!Ge?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nn(t,e,i)):(re&&n&&Zc(e),e.flags|=1,Be(t,e,r,i),e.child)}function Th(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ed(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,dv(t,e,s,r,i)):(t=bo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:os,n(o,r)&&t.ref===e.ref)return nn(t,e,i)}return e.flags|=1,t=Nn(s,r),t.ref=e.ref,t.return=e,e.child=t}function dv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(os(s,r)&&t.ref===e.ref)if(Ge=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ge=!0);else return e.lanes=t.lanes,nn(t,e,i)}return Vu(t,e,n,r,i)}function fv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Lr,Je),Je|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(Lr,Je),Je|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Z(Lr,Je),Je|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Z(Lr,Je),Je|=r;return Be(t,e,i,n),e.child}function hv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vu(t,e,n,r,i){var s=Ze(n)?or:He.current;return s=Kr(e,s),Vr(e,i),n=ad(t,e,n,r,s,i),r=ud(),t!==null&&!Ge?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nn(t,e,i)):(re&&r&&Zc(e),e.flags|=1,Be(t,e,n,i),e.child)}function _h(t,e,n,r,i){if(Ze(n)){var s=!0;Qo(e)}else s=!1;if(Vr(e,i),e.stateNode===null)Do(t,e),Bg(e,n,r),Yu(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=Ze(n)?or:He.current,u=Kr(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ph(e,o,r,u),pn=!1;var h=e.memoizedState;o.state=h,el(e,r,o,i),a=e.memoizedState,l!==r||h!==a||Qe.current||pn?(typeof c=="function"&&(Fu(e,n,c,r),a=e.memoizedState),(l=pn||hh(e,n,l,r,h,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Hg(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Dt(e.type,l),o.props=u,f=e.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=yt(a):(a=Ze(n)?or:He.current,a=Kr(e,a));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==a)&&ph(e,o,r,a),pn=!1,h=e.memoizedState,o.state=h,el(e,r,o,i);var p=e.memoizedState;l!==f||h!==p||Qe.current||pn?(typeof d=="function"&&(Fu(e,n,d,r),p=e.memoizedState),(u=pn||hh(e,n,u,r,h,p,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Wu(t,e,n,r,s,i)}function Wu(t,e,n,r,i,s){hv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ah(e,n,!1),nn(t,e,s);r=e.stateNode,Gw.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Jr(e,t.child,null,s),e.child=Jr(e,null,l,s)):Be(t,e,l,s),e.memoizedState=r.state,i&&ah(e,n,!0),e.child}function pv(t){var e=t.stateNode;e.pendingContext?lh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lh(t,e.context,!1),id(t,e.containerInfo)}function Dh(t,e,n,r,i){return Xr(),Xc(i),e.flags|=256,Be(t,e,n,r),e.child}var $u={dehydrated:null,treeContext:null,retryLane:0};function Gu(t){return{baseLanes:t,cachePool:null,transitions:null}}function mv(t,e,n){var r=e.pendingProps,i=oe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Z(oe,i&1),t===null)return Uu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yl(o,r,0,null),t=tr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Gu(n),e.memoizedState=$u,t):fd(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return qw(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Nn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Nn(l,s):(s=tr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Gu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=$u,r}return s=t.child,t=s.sibling,r=Nn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fd(t,e){return e=Yl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qs(t,e,n,r){return r!==null&&Xc(r),Jr(e,t.child,null,n),t=fd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qw(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=xa(Error(O(422))),Qs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Yl({mode:"visible",children:r.children},i,0,null),s=tr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Jr(e,t.child,null,o),e.child.memoizedState=Gu(o),e.memoizedState=$u,s);if(!(e.mode&1))return Qs(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(O(419)),r=xa(s,r,void 0),Qs(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ge||l){if(r=De,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,tn(t,i),Rt(r,t,i,-1))}return yd(),r=xa(Error(O(421))),Qs(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,tt=bn(i.nextSibling),nt=e,re=!0,Ct=null,t!==null&&(ft[ht++]=$t,ft[ht++]=Gt,ft[ht++]=lr,$t=t.id,Gt=t.overflow,lr=e),e=fd(e,r.children),e.flags|=4096,e)}function Ah(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bu(t.return,e,n)}function Pa(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Be(t,e,r.children,n),r=oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ah(t,n,e);else if(t.tag===19)Ah(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Z(oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&tl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pa(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pa(e,!0,n,null,s);break;case"together":Pa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Do(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ur|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qw(t,e,n){switch(e.tag){case 3:pv(e),Xr();break;case 5:jg(e);break;case 1:Ze(e.type)&&Qo(e);break;case 4:id(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Z(Xo,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Z(oe,oe.current&1),e.flags|=128,null):n&e.child.childLanes?mv(t,e,n):(Z(oe,oe.current&1),t=nn(t,e,n),t!==null?t.sibling:null);Z(oe,oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Z(oe,oe.current),r)break;return null;case 22:case 23:return e.lanes=0,fv(t,e,n)}return nn(t,e,n)}var vv,qu,yv,Ev;vv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qu=function(){};yv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Kn(Bt.current);var s=null;switch(n){case"input":i=gu(t,i),r=gu(t,r),s=[];break;case"select":i=ue({},i,{value:void 0}),r=ue({},r,{value:void 0}),s=[];break;case"textarea":i=Eu(t,i),r=Eu(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Go)}wu(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ji.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ji.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&X("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Ev=function(t,e,n,r){n!==r&&(e.flags|=4)};function _i(t,e){if(!re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ie(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Zw(t,e,n){var r=e.pendingProps;switch(Kc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(e),null;case 1:return Ze(e.type)&&qo(),Ie(e),null;case 3:return r=e.stateNode,ei(),te(Qe),te(He),od(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ct!==null&&(nc(Ct),Ct=null))),qu(t,e),Ie(e),null;case 5:sd(e);var i=Kn(ds.current);if(n=e.type,t!==null&&e.stateNode!=null)yv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Ie(e),null}if(t=Kn(Bt.current),Gs(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ht]=e,r[us]=s,t=(e.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(i=0;i<Mi.length;i++)X(Mi[i],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":xf(r,s),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},X("invalid",r);break;case"textarea":Lf(r,s),X("invalid",r)}wu(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&$s(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&$s(r.textContent,l,t),i=["children",""+l]):Ji.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&X("scroll",r)}switch(n){case"input":Hs(r),Pf(r,s,!0);break;case"textarea":Hs(r),zf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Go)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$m(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ht]=e,t[us]=r,vv(t,e,!1,!1),e.stateNode=t;e:{switch(o=Tu(n,r),n){case"dialog":X("cancel",t),X("close",t),i=r;break;case"iframe":case"object":case"embed":X("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mi.length;i++)X(Mi[i],t);i=r;break;case"source":X("error",t),i=r;break;case"img":case"image":case"link":X("error",t),X("load",t),i=r;break;case"details":X("toggle",t),i=r;break;case"input":xf(t,r),i=gu(t,r),X("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ue({},r,{value:void 0}),X("invalid",t);break;case"textarea":Lf(t,r),i=Eu(t,r),X("invalid",t);break;default:i=r}wu(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Qm(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Gm(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&es(t,a):typeof a=="number"&&es(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ji.hasOwnProperty(s)?a!=null&&s==="onScroll"&&X("scroll",t):a!=null&&Lc(t,s,a,o))}switch(n){case"input":Hs(t),Pf(t,r,!1);break;case"textarea":Hs(t),zf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+In(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Br(t,!!r.multiple,s,!1):r.defaultValue!=null&&Br(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Go)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ie(e),null;case 6:if(t&&e.stateNode!=null)Ev(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=Kn(ds.current),Kn(Bt.current),Gs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ht]=e,(s=r.nodeValue!==n)&&(t=nt,t!==null))switch(t.tag){case 3:$s(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$s(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=e,e.stateNode=r}return Ie(e),null;case 13:if(te(oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(re&&tt!==null&&e.mode&1&&!(e.flags&128))Lg(),Xr(),e.flags|=98560,s=!1;else if(s=Gs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[Ht]=e}else Xr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ie(e),s=!1}else Ct!==null&&(nc(Ct),Ct=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?Se===0&&(Se=3):yd())),e.updateQueue!==null&&(e.flags|=4),Ie(e),null);case 4:return ei(),qu(t,e),t===null&&ls(e.stateNode.containerInfo),Ie(e),null;case 10:return td(e.type._context),Ie(e),null;case 17:return Ze(e.type)&&qo(),Ie(e),null;case 19:if(te(oe),s=e.memoizedState,s===null)return Ie(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)_i(s,!1);else{if(Se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=tl(t),o!==null){for(e.flags|=128,_i(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Z(oe,oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&he()>ni&&(e.flags|=128,r=!0,_i(s,!1),e.lanes=4194304)}else{if(!r)if(t=tl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_i(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!re)return Ie(e),null}else 2*he()-s.renderingStartTime>ni&&n!==1073741824&&(e.flags|=128,r=!0,_i(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=he(),e.sibling=null,n=oe.current,Z(oe,r?n&1|2:n&1),e):(Ie(e),null);case 22:case 23:return vd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Je&1073741824&&(Ie(e),e.subtreeFlags&6&&(e.flags|=8192)):Ie(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function Kw(t,e){switch(Kc(e),e.tag){case 1:return Ze(e.type)&&qo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ei(),te(Qe),te(He),od(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sd(e),null;case 13:if(te(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Xr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(oe),null;case 4:return ei(),null;case 10:return td(e.type._context),null;case 22:case 23:return vd(),null;case 24:return null;default:return null}}var Zs=!1,xe=!1,Xw=typeof WeakSet=="function"?WeakSet:Set,I=null;function Pr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(t,e,r)}else n.current=null}function Qu(t,e,n){try{n()}catch(r){fe(t,e,r)}}var Ch=!1;function Jw(t,e){if(Mu=Vo,t=_g(),Qc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===t)break t;if(h===n&&++u===i&&(l=o),h===s&&++c===r&&(a=o),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iu={focusedElem:t,selectionRange:n},Vo=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,y=p.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Dt(e.type,v),y);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(w){fe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return p=Ch,Ch=!1,p}function ji(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qu(e,n,s)}i=i.next}while(i!==r)}}function Bl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sv(t){var e=t.alternate;e!==null&&(t.alternate=null,Sv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ht],delete e[us],delete e[Lu],delete e[Pw],delete e[Lw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wv(t){return t.tag===5||t.tag===3||t.tag===4}function bh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ku(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Go));else if(r!==4&&(t=t.child,t!==null))for(Ku(t,e,n),t=t.sibling;t!==null;)Ku(t,e,n),t=t.sibling}function Xu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xu(t,e,n),t=t.sibling;t!==null;)Xu(t,e,n),t=t.sibling}var Ce=null,At=!1;function cn(t,e,n){for(n=n.child;n!==null;)Tv(t,e,n),n=n.sibling}function Tv(t,e,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 5:xe||Pr(n,e);case 6:var r=Ce,i=At;Ce=null,cn(t,e,n),Ce=r,At=i,Ce!==null&&(At?(t=Ce,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(At?(t=Ce,n=n.stateNode,t.nodeType===8?ka(t.parentNode,n):t.nodeType===1&&ka(t,n),is(t)):ka(Ce,n.stateNode));break;case 4:r=Ce,i=At,Ce=n.stateNode.containerInfo,At=!0,cn(t,e,n),Ce=r,At=i;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qu(n,e,o),i=i.next}while(i!==r)}cn(t,e,n);break;case 1:if(!xe&&(Pr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){fe(n,e,l)}cn(t,e,n);break;case 21:cn(t,e,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,cn(t,e,n),xe=r):cn(t,e,n);break;default:cn(t,e,n)}}function kh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Xw),e.forEach(function(r){var i=aT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ce=l.stateNode,At=!1;break e;case 3:Ce=l.stateNode.containerInfo,At=!0;break e;case 4:Ce=l.stateNode.containerInfo,At=!0;break e}l=l.return}if(Ce===null)throw Error(O(160));Tv(s,o,i),Ce=null,At=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){fe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_v(e,t),e=e.sibling}function _v(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(e,t),Pt(t),r&4){try{ji(3,t,t.return),Bl(3,t)}catch(v){fe(t,t.return,v)}try{ji(5,t,t.return)}catch(v){fe(t,t.return,v)}}break;case 1:wt(e,t),Pt(t),r&512&&n!==null&&Pr(n,n.return);break;case 5:if(wt(e,t),Pt(t),r&512&&n!==null&&Pr(n,n.return),t.flags&32){var i=t.stateNode;try{es(i,"")}catch(v){fe(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Vm(i,s),Tu(l,o);var u=Tu(l,s);for(o=0;o<a.length;o+=2){var c=a[o],f=a[o+1];c==="style"?Qm(i,f):c==="dangerouslySetInnerHTML"?Gm(i,f):c==="children"?es(i,f):Lc(i,c,f,u)}switch(l){case"input":vu(i,s);break;case"textarea":Wm(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Br(i,!!s.multiple,d,!1):h!==!!s.multiple&&(s.defaultValue!=null?Br(i,!!s.multiple,s.defaultValue,!0):Br(i,!!s.multiple,s.multiple?[]:"",!1))}i[us]=s}catch(v){fe(t,t.return,v)}}break;case 6:if(wt(e,t),Pt(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){fe(t,t.return,v)}}break;case 3:if(wt(e,t),Pt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{is(e.containerInfo)}catch(v){fe(t,t.return,v)}break;case 4:wt(e,t),Pt(t);break;case 13:wt(e,t),Pt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(md=he())),r&4&&kh(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(xe=(u=xe)||c,wt(e,t),xe=u):wt(e,t),Pt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(I=t,c=t.child;c!==null;){for(f=I=c;I!==null;){switch(h=I,d=h.child,h.tag){case 0:case 11:case 14:case 15:ji(4,h,h.return);break;case 1:Pr(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){fe(r,n,v)}}break;case 5:Pr(h,h.return);break;case 22:if(h.memoizedState!==null){Rh(f);continue}}d!==null?(d.return=h,I=d):Rh(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=qm("display",o))}catch(v){fe(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){fe(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wt(e,t),Pt(t),r&4&&kh(t);break;case 21:break;default:wt(e,t),Pt(t)}}function Pt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wv(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(es(i,""),r.flags&=-33);var s=bh(t);Xu(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=bh(t);Ku(t,l,o);break;default:throw Error(O(161))}}catch(a){fe(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eT(t,e,n){I=t,Dv(t)}function Dv(t,e,n){for(var r=(t.mode&1)!==0;I!==null;){var i=I,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zs;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||xe;l=Zs;var u=xe;if(Zs=o,(xe=a)&&!u)for(I=i;I!==null;)o=I,a=o.child,o.tag===22&&o.memoizedState!==null?Nh(i):a!==null?(a.return=o,I=a):Nh(i);for(;s!==null;)I=s,Dv(s),s=s.sibling;I=i,Zs=l,xe=u}Oh(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,I=s):Oh(t)}}function Oh(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xe||Bl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Dt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fh(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fh(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&is(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}xe||e.flags&512&&Zu(e)}catch(h){fe(e,e.return,h)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function Rh(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function Nh(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bl(4,e)}catch(a){fe(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){fe(e,i,a)}}var s=e.return;try{Zu(e)}catch(a){fe(e,s,a)}break;case 5:var o=e.return;try{Zu(e)}catch(a){fe(e,o,a)}}}catch(a){fe(e,e.return,a)}if(e===t){I=null;break}var l=e.sibling;if(l!==null){l.return=e.return,I=l;break}I=e.return}}var tT=Math.ceil,il=ln.ReactCurrentDispatcher,hd=ln.ReactCurrentOwner,vt=ln.ReactCurrentBatchConfig,V=0,De=null,ve=null,be=0,Je=0,Lr=Hn(0),Se=0,ms=null,ur=0,Fl=0,pd=0,Vi=null,$e=null,md=0,ni=1/0,Vt=null,sl=!1,Ju=null,On=null,Ks=!1,Sn=null,ol=0,Wi=0,ec=null,Ao=-1,Co=0;function Ye(){return V&6?he():Ao!==-1?Ao:Ao=he()}function Rn(t){return t.mode&1?V&2&&be!==0?be&-be:Hw.transition!==null?(Co===0&&(Co=lg()),Co):(t=Q,t!==0||(t=window.event,t=t===void 0?16:pg(t.type)),t):1}function Rt(t,e,n,r){if(50<Wi)throw Wi=0,ec=null,Error(O(185));Ts(t,n,r),(!(V&2)||t!==De)&&(t===De&&(!(V&2)&&(Fl|=n),Se===4&&vn(t,be)),Ke(t,r),n===1&&V===0&&!(e.mode&1)&&(ni=he()+500,zl&&Un()))}function Ke(t,e){var n=t.callbackNode;HS(t,e);var r=jo(t,t===De?be:0);if(r===0)n!==null&&Bf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bf(n),e===1)t.tag===0?zw(Mh.bind(null,t)):Ig(Mh.bind(null,t)),Iw(function(){!(V&6)&&Un()}),n=null;else{switch(ag(r)){case 1:n=Fc;break;case 4:n=sg;break;case 16:n=Yo;break;case 536870912:n=og;break;default:n=Yo}n=Mv(n,Av.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Av(t,e){if(Ao=-1,Co=0,V&6)throw Error(O(327));var n=t.callbackNode;if(Wr()&&t.callbackNode!==n)return null;var r=jo(t,t===De?be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ll(t,r);else{e=r;var i=V;V|=2;var s=bv();(De!==t||be!==e)&&(Vt=null,ni=he()+500,er(t,e));do try{iT();break}catch(l){Cv(t,l)}while(1);ed(),il.current=s,V=i,ve!==null?e=0:(De=null,be=0,e=Se)}if(e!==0){if(e===2&&(i=bu(t),i!==0&&(r=i,e=tc(t,i))),e===1)throw n=ms,er(t,0),vn(t,r),Ke(t,he()),n;if(e===6)vn(t,r);else{if(i=t.current.alternate,!(r&30)&&!nT(i)&&(e=ll(t,r),e===2&&(s=bu(t),s!==0&&(r=s,e=tc(t,s))),e===1))throw n=ms,er(t,0),vn(t,r),Ke(t,he()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:jn(t,$e,Vt);break;case 3:if(vn(t,r),(r&130023424)===r&&(e=md+500-he(),10<e)){if(jo(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ye(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Pu(jn.bind(null,t,$e,Vt),e);break}jn(t,$e,Vt);break;case 4:if(vn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ot(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tT(r/1960))-r,10<r){t.timeoutHandle=Pu(jn.bind(null,t,$e,Vt),r);break}jn(t,$e,Vt);break;case 5:jn(t,$e,Vt);break;default:throw Error(O(329))}}}return Ke(t,he()),t.callbackNode===n?Av.bind(null,t):null}function tc(t,e){var n=Vi;return t.current.memoizedState.isDehydrated&&(er(t,e).flags|=256),t=ll(t,e),t!==2&&(e=$e,$e=n,e!==null&&nc(e)),t}function nc(t){$e===null?$e=t:$e.push.apply($e,t)}function nT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!It(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vn(t,e){for(e&=~pd,e&=~Fl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ot(e),r=1<<n;t[n]=-1,e&=~r}}function Mh(t){if(V&6)throw Error(O(327));Wr();var e=jo(t,0);if(!(e&1))return Ke(t,he()),null;var n=ll(t,e);if(t.tag!==0&&n===2){var r=bu(t);r!==0&&(e=r,n=tc(t,r))}if(n===1)throw n=ms,er(t,0),vn(t,e),Ke(t,he()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jn(t,$e,Vt),Ke(t,he()),null}function gd(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&(ni=he()+500,zl&&Un())}}function cr(t){Sn!==null&&Sn.tag===0&&!(V&6)&&Wr();var e=V;V|=1;var n=vt.transition,r=Q;try{if(vt.transition=null,Q=1,t)return t()}finally{Q=r,vt.transition=n,V=e,!(V&6)&&Un()}}function vd(){Je=Lr.current,te(Lr)}function er(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Mw(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Kc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qo();break;case 3:ei(),te(Qe),te(He),od();break;case 5:sd(r);break;case 4:ei();break;case 13:te(oe);break;case 19:te(oe);break;case 10:td(r.type._context);break;case 22:case 23:vd()}n=n.return}if(De=t,ve=t=Nn(t.current,null),be=Je=e,Se=0,ms=null,pd=Fl=ur=0,$e=Vi=null,Zn!==null){for(e=0;e<Zn.length;e++)if(n=Zn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zn=null}return t}function Cv(t,e){do{var n=ve;try{if(ed(),To.current=rl,nl){for(var r=ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nl=!1}if(ar=0,_e=Ee=ae=null,Yi=!1,fs=0,hd.current=null,n===null||n.return===null){Se=1,ms=e,ve=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=be,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Eh(o);if(d!==null){d.flags&=-257,Sh(d,o,l,s,e),d.mode&1&&yh(s,u,e),e=d,a=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(a),e.updateQueue=v}else p.add(a);break e}else{if(!(e&1)){yh(s,u,e),yd();break e}a=Error(O(426))}}else if(re&&l.mode&1){var y=Eh(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Sh(y,o,l,s,e),Xc(ti(a,l));break e}}s=a=ti(a,l),Se!==4&&(Se=2),Vi===null?Vi=[s]:Vi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=uv(s,a,e);dh(s,m);break e;case 1:l=a;var g=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(On===null||!On.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=cv(s,l,e);dh(s,w);break e}}s=s.return}while(s!==null)}Ov(n)}catch(D){e=D,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(1)}function bv(){var t=il.current;return il.current=rl,t===null?rl:t}function yd(){(Se===0||Se===3||Se===2)&&(Se=4),De===null||!(ur&268435455)&&!(Fl&268435455)||vn(De,be)}function ll(t,e){var n=V;V|=2;var r=bv();(De!==t||be!==e)&&(Vt=null,er(t,e));do try{rT();break}catch(i){Cv(t,i)}while(1);if(ed(),V=n,il.current=r,ve!==null)throw Error(O(261));return De=null,be=0,Se}function rT(){for(;ve!==null;)kv(ve)}function iT(){for(;ve!==null&&!OS();)kv(ve)}function kv(t){var e=Nv(t.alternate,t,Je);t.memoizedProps=t.pendingProps,e===null?Ov(t):ve=e,hd.current=null}function Ov(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Kw(n,e),n!==null){n.flags&=32767,ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,ve=null;return}}else if(n=Zw(n,e,Je),n!==null){ve=n;return}if(e=e.sibling,e!==null){ve=e;return}ve=e=t}while(e!==null);Se===0&&(Se=5)}function jn(t,e,n){var r=Q,i=vt.transition;try{vt.transition=null,Q=1,sT(t,e,n,r)}finally{vt.transition=i,Q=r}return null}function sT(t,e,n,r){do Wr();while(Sn!==null);if(V&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(US(t,s),t===De&&(ve=De=null,be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ks||(Ks=!0,Mv(Yo,function(){return Wr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vt.transition,vt.transition=null;var o=Q;Q=1;var l=V;V|=4,hd.current=null,Jw(t,n),_v(n,t),Aw(Iu),Vo=!!Mu,Iu=Mu=null,t.current=n,eT(n),RS(),V=l,Q=o,vt.transition=s}else t.current=n;if(Ks&&(Ks=!1,Sn=t,ol=i),s=t.pendingLanes,s===0&&(On=null),IS(n.stateNode),Ke(t,he()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sl)throw sl=!1,t=Ju,Ju=null,t;return ol&1&&t.tag!==0&&Wr(),s=t.pendingLanes,s&1?t===ec?Wi++:(Wi=0,ec=t):Wi=0,Un(),null}function Wr(){if(Sn!==null){var t=ag(ol),e=vt.transition,n=Q;try{if(vt.transition=null,Q=16>t?16:t,Sn===null)var r=!1;else{if(t=Sn,Sn=null,ol=0,V&6)throw Error(O(331));var i=V;for(V|=4,I=t.current;I!==null;){var s=I,o=s.child;if(I.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(I=u;I!==null;){var c=I;switch(c.tag){case 0:case 11:case 15:ji(8,c,s)}var f=c.child;if(f!==null)f.return=c,I=f;else for(;I!==null;){c=I;var h=c.sibling,d=c.return;if(Sv(c),c===u){I=null;break}if(h!==null){h.return=d,I=h;break}I=d}}}var p=s.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}I=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,I=o;else e:for(;I!==null;){if(s=I,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ji(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,I=m;break e}I=s.return}}var g=t.current;for(I=g;I!==null;){o=I;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,I=E;else e:for(o=g;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bl(9,l)}}catch(D){fe(l,l.return,D)}if(l===o){I=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,I=w;break e}I=l.return}}if(V=i,Un(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Ml,t)}catch{}r=!0}return r}finally{Q=n,vt.transition=e}}return!1}function Ih(t,e,n){e=ti(n,e),e=uv(t,e,1),t=kn(t,e,1),e=Ye(),t!==null&&(Ts(t,1,e),Ke(t,e))}function fe(t,e,n){if(t.tag===3)Ih(t,t,n);else for(;e!==null;){if(e.tag===3){Ih(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(On===null||!On.has(r))){t=ti(n,t),t=cv(e,t,1),e=kn(e,t,1),t=Ye(),e!==null&&(Ts(e,1,t),Ke(e,t));break}}e=e.return}}function oT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ye(),t.pingedLanes|=t.suspendedLanes&n,De===t&&(be&n)===n&&(Se===4||Se===3&&(be&130023424)===be&&500>he()-md?er(t,0):pd|=n),Ke(t,e)}function Rv(t,e){e===0&&(t.mode&1?(e=Fs,Fs<<=1,!(Fs&130023424)&&(Fs=4194304)):e=1);var n=Ye();t=tn(t,e),t!==null&&(Ts(t,e,n),Ke(t,n))}function lT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Rv(t,n)}function aT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),Rv(t,n)}var Nv;Nv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qe.current)Ge=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ge=!1,Qw(t,e,n);Ge=!!(t.flags&131072)}else Ge=!1,re&&e.flags&1048576&&xg(e,Ko,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Do(t,e),t=e.pendingProps;var i=Kr(e,He.current);Vr(e,n),i=ad(null,e,r,t,i,n);var s=ud();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ze(r)?(s=!0,Qo(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rd(e),i.updater=Hl,e.stateNode=i,i._reactInternals=e,Yu(e,r,t,n),e=Wu(null,e,r,!0,s,n)):(e.tag=0,re&&s&&Zc(e),Be(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Do(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cT(r),t=Dt(r,t),i){case 0:e=Vu(null,e,r,t,n);break e;case 1:e=_h(null,e,r,t,n);break e;case 11:e=wh(null,e,r,t,n);break e;case 14:e=Th(null,e,r,Dt(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dt(r,i),Vu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dt(r,i),_h(t,e,r,i,n);case 3:e:{if(pv(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Hg(t,e),el(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ti(Error(O(423)),e),e=Dh(t,e,r,n,i);break e}else if(r!==i){i=ti(Error(O(424)),e),e=Dh(t,e,r,n,i);break e}else for(tt=bn(e.stateNode.containerInfo.firstChild),nt=e,re=!0,Ct=null,n=Yg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xr(),r===i){e=nn(t,e,n);break e}Be(t,e,r,n)}e=e.child}return e;case 5:return jg(e),t===null&&Uu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,xu(r,i)?o=null:s!==null&&xu(r,s)&&(e.flags|=32),hv(t,e),Be(t,e,o,n),e.child;case 6:return t===null&&Uu(e),null;case 13:return mv(t,e,n);case 4:return id(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Jr(e,null,r,n):Be(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dt(r,i),wh(t,e,r,i,n);case 7:return Be(t,e,e.pendingProps,n),e.child;case 8:return Be(t,e,e.pendingProps.children,n),e.child;case 12:return Be(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Z(Xo,r._currentValue),r._currentValue=o,s!==null)if(It(s.value,o)){if(s.children===i.children&&!Qe.current){e=nn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Zt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Bu(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Bu(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Be(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vr(e,n),i=yt(i),r=r(i),e.flags|=1,Be(t,e,r,n),e.child;case 14:return r=e.type,i=Dt(r,e.pendingProps),i=Dt(r.type,i),Th(t,e,r,i,n);case 15:return dv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dt(r,i),Do(t,e),e.tag=1,Ze(r)?(t=!0,Qo(e)):t=!1,Vr(e,n),Bg(e,r,i),Yu(e,r,i,n),Wu(null,e,r,!0,t,n);case 19:return gv(t,e,n);case 22:return fv(t,e,n)}throw Error(O(156,e.tag))};function Mv(t,e){return ig(t,e)}function uT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(t,e,n,r){return new uT(t,e,n,r)}function Ed(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cT(t){if(typeof t=="function")return Ed(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hc)return 11;if(t===Uc)return 14}return 2}function Nn(t,e){var n=t.alternate;return n===null?(n=mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bo(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ed(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cr:return tr(n.children,i,s,e);case zc:o=8,i|=8;break;case fu:return t=mt(12,n,e,i|2),t.elementType=fu,t.lanes=s,t;case hu:return t=mt(13,n,e,i),t.elementType=hu,t.lanes=s,t;case pu:return t=mt(19,n,e,i),t.elementType=pu,t.lanes=s,t;case Fm:return Yl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Um:o=10;break e;case Bm:o=9;break e;case Hc:o=11;break e;case Uc:o=14;break e;case hn:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=mt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function tr(t,e,n,r){return t=mt(7,t,r,e),t.lanes=n,t}function Yl(t,e,n,r){return t=mt(22,t,r,e),t.elementType=Fm,t.lanes=n,t.stateNode={isHidden:!1},t}function La(t,e,n){return t=mt(6,t,null,e),t.lanes=n,t}function za(t,e,n){return e=mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sd(t,e,n,r,i,s,o,l,a){return t=new dT(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rd(s),t}function fT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Iv(t){if(!t)return xn;t=t._reactInternals;e:{if(mr(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(Ze(n))return Mg(t,n,e)}return e}function xv(t,e,n,r,i,s,o,l,a){return t=Sd(n,r,!0,t,i,s,o,l,a),t.context=Iv(null),n=t.current,r=Ye(),i=Rn(n),s=Zt(r,i),s.callback=e??null,kn(n,s,i),t.current.lanes=i,Ts(t,i,r),Ke(t,r),t}function jl(t,e,n,r){var i=e.current,s=Ye(),o=Rn(i);return n=Iv(n),e.context===null?e.context=n:e.pendingContext=n,e=Zt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=kn(i,e,o),t!==null&&(Rt(t,i,o,s),wo(t,i,o)),o}function al(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wd(t,e){xh(t,e),(t=t.alternate)&&xh(t,e)}function hT(){return null}var Pv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Td(t){this._internalRoot=t}Vl.prototype.render=Td.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));jl(t,e,null,null)};Vl.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cr(function(){jl(null,t,null,null)}),e[en]=null}};function Vl(t){this._internalRoot=t}Vl.prototype.unstable_scheduleHydration=function(t){if(t){var e=dg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gn.length&&e!==0&&e<gn[n].priority;n++);gn.splice(n,0,t),n===0&&hg(t)}};function _d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ph(){}function pT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=al(o);s.call(u)}}var o=xv(e,r,t,0,null,!1,!1,"",Ph);return t._reactRootContainer=o,t[en]=o.current,ls(t.nodeType===8?t.parentNode:t),cr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=al(a);l.call(u)}}var a=Sd(t,0,!1,null,null,!1,!1,"",Ph);return t._reactRootContainer=a,t[en]=a.current,ls(t.nodeType===8?t.parentNode:t),cr(function(){jl(e,a,n,r)}),a}function $l(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=al(o);l.call(a)}}jl(e,o,t,i)}else o=pT(n,e,t,i,r);return al(o)}ug=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ni(e.pendingLanes);n!==0&&(Yc(e,n|1),Ke(e,he()),!(V&6)&&(ni=he()+500,Un()))}break;case 13:cr(function(){var r=tn(t,1);if(r!==null){var i=Ye();Rt(r,t,1,i)}}),wd(t,1)}};jc=function(t){if(t.tag===13){var e=tn(t,134217728);if(e!==null){var n=Ye();Rt(e,t,134217728,n)}wd(t,134217728)}};cg=function(t){if(t.tag===13){var e=Rn(t),n=tn(t,e);if(n!==null){var r=Ye();Rt(n,t,e,r)}wd(t,e)}};dg=function(){return Q};fg=function(t,e){var n=Q;try{return Q=t,e()}finally{Q=n}};Du=function(t,e,n){switch(e){case"input":if(vu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+\'][type="radio"]\'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ll(r);if(!i)throw Error(O(90));jm(r),vu(r,i)}}}break;case"textarea":Wm(t,n);break;case"select":e=n.value,e!=null&&Br(t,!!n.multiple,e,!1)}};Xm=gd;Jm=cr;var mT={usingClientEntryPoint:!1,Events:[Ds,Rr,Ll,Zm,Km,gd]},Di={findFiberByHostInstance:Qn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gT={bundleType:Di.bundleType,version:Di.version,rendererPackageName:Di.rendererPackageName,rendererConfig:Di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ng(t),t===null?null:t.stateNode},findFiberByHostInstance:Di.findFiberByHostInstance||hT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xs.isDisabled&&Xs.supportsFiber)try{Ml=Xs.inject(gT),Ut=Xs}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mT;lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_d(e))throw Error(O(200));return fT(t,e,null,n)};lt.createRoot=function(t,e){if(!_d(t))throw Error(O(299));var n=!1,r="",i=Pv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sd(t,1,!1,null,null,n,!1,r,i),t[en]=e.current,ls(t.nodeType===8?t.parentNode:t),new Td(e)};lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=ng(e),t=t===null?null:t.stateNode,t};lt.flushSync=function(t){return cr(t)};lt.hydrate=function(t,e,n){if(!Wl(e))throw Error(O(200));return $l(null,t,e,!0,n)};lt.hydrateRoot=function(t,e,n){if(!_d(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Pv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xv(e,null,t,1,n??null,i,!1,s,o),t[en]=e.current,ls(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vl(e)};lt.render=function(t,e,n){if(!Wl(e))throw Error(O(200));return $l(null,t,e,!1,n)};lt.unmountComponentAtNode=function(t){if(!Wl(t))throw Error(O(40));return t._reactRootContainer?(cr(function(){$l(null,null,t,!1,function(){t._reactRootContainer=null,t[en]=null})}),!0):!1};lt.unstable_batchedUpdates=gd;lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wl(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return $l(t,e,n,!1,r)};lt.version="18.2.0-next-9e3b772b8-20220608";function Lv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lv)}catch(t){console.error(t)}}Lv(),xm.exports=lt;var Dd=xm.exports,Lh=Dd;cu.createRoot=Lh.createRoot,cu.hydrateRoot=Lh.hydrateRoot;const zh=t=>{let e;const n=new Set,r=(a,u)=>{const c=typeof a=="function"?a(e):a;if(!Object.is(c,e)){const f=e;e=u??typeof c!="object"?c:Object.assign({},e,c),n.forEach(h=>h(e,f))}},i=()=>e,l={setState:r,getState:i,subscribe:a=>(n.add(a),()=>n.delete(a)),destroy:()=>{n.clear()}};return e=t(r,i,l),l},vT=t=>t?zh(t):zh;var zv={exports:{}},Hv={},Uv={exports:{}},Bv={};/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var ri=Mt;function yT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ET=typeof Object.is=="function"?Object.is:yT,ST=ri.useState,wT=ri.useEffect,TT=ri.useLayoutEffect,_T=ri.useDebugValue;function DT(t,e){var n=e(),r=ST({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return TT(function(){i.value=n,i.getSnapshot=e,Ha(i)&&s({inst:i})},[t,n,e]),wT(function(){return Ha(i)&&s({inst:i}),t(function(){Ha(i)&&s({inst:i})})},[t]),_T(n),n}function Ha(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ET(t,n)}catch{return!0}}function AT(t,e){return e()}var CT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AT:DT;Bv.useSyncExternalStore=ri.useSyncExternalStore!==void 0?ri.useSyncExternalStore:CT;Uv.exports=Bv;var bT=Uv.exports;/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var Gl=Mt,kT=bT;function OT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var RT=typeof Object.is=="function"?Object.is:OT,NT=kT.useSyncExternalStore,MT=Gl.useRef,IT=Gl.useEffect,xT=Gl.useMemo,PT=Gl.useDebugValue;Hv.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=MT(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=xT(function(){function a(d){if(!u){if(u=!0,c=d,d=r(d),i!==void 0&&o.hasValue){var p=o.value;if(i(p,d))return f=p}return f=d}if(p=f,RT(c,d))return p;var v=r(d);return i!==void 0&&i(p,v)?p:(c=d,f=v)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return a(e())},h===null?void 0:function(){return a(h())}]},[e,n,r,i]);var l=NT(t,s[0],s[1]);return IT(function(){o.hasValue=!0,o.value=l},[l]),PT(l),l};zv.exports=Hv;var LT=zv.exports;const zT=_m(LT),{useSyncExternalStoreWithSelector:HT}=zT;function UT(t,e=t.getState,n){const r=HT(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return Mt.useDebugValue(r),r}const Hh=t=>{const e=typeof t=="function"?vT(t):t,n=(r,i)=>UT(e,r,i);return Object.assign(n,e),n},BT=t=>t?Hh(t):Hh,FT=()=>{let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},YT=t=>{const e=new Map,n=typeof window<"u"&&window.__markwhen_wss_url;let r,i=!1;n&&(r=new WebSocket(n),r.onopen=()=>{i=!0,a("appState"),a("markwhenState")});let s;const o=()=>s||(s=acquireVsCodeApi(),s),l=d=>{var p;r&&i?r.send(JSON.stringify(d)):typeof acquireVsCodeApi<"u"?(p=o())==null||p.postMessage(d):typeof window<"u"&&typeof window.parent<"u"?window.parent.postMessage(d,"*"):console.error("Nothing to post to")},a=(d,p)=>{const v=`markwhen_${FT()}`;return new Promise((y,m)=>{e.set(v,{resolve:y,reject:m}),l({type:d,request:!0,id:v,params:p})})},u=(d,p,v)=>l({type:p,response:!0,id:d,params:v}),c=d=>{var v,y;if(!d.data.id||!d.data.id.startsWith("markwhen")||d.source===window)return;const p=d.data;if(p.response)(v=e.get(p.id))==null||v.resolve(p),e.delete(p.id);else if(p.request){const m=(y=t==null?void 0:t[p.type])==null?void 0:y.call(t,p.params);Promise.resolve(m).then(g=>{u(p.id,p.type,g)})}else console.error("Not a request or response",p)};r?r.onmessage=d=>{const p=new MessageEvent("message",{data:JSON.parse(d.data)});c(p)}:typeof window<"u"&&(window==null||window.addEventListener("message",c));const f=typeof window<"u"&&window.__markwhen_initial_state;return f&&t&&t.markwhenState&&t.markwhenState(f),{postRequest:a,close:()=>{r&&r.close(),window&&window.removeEventListener("message",c)}}},Uh=(t,e)=>{if(!t||!e)return!1;const n=t,r=e;return n.join(",")===r.join(",")};class gr extends Error{}class jT extends gr{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class VT extends gr{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class WT extends gr{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Ii extends gr{}class Fv extends gr{constructor(e){super(`Invalid unit ${e}`)}}class pt extends gr{}class dn extends gr{constructor(){super("Zone is an abstract class")}}const M="numeric",xt="short",rt="long",ul={year:M,month:M,day:M},Yv={year:M,month:xt,day:M},$T={year:M,month:xt,day:M,weekday:xt},jv={year:M,month:rt,day:M},Vv={year:M,month:rt,day:M,weekday:rt},Wv={hour:M,minute:M},$v={hour:M,minute:M,second:M},Gv={hour:M,minute:M,second:M,timeZoneName:xt},qv={hour:M,minute:M,second:M,timeZoneName:rt},Qv={hour:M,minute:M,hourCycle:"h23"},Zv={hour:M,minute:M,second:M,hourCycle:"h23"},Kv={hour:M,minute:M,second:M,hourCycle:"h23",timeZoneName:xt},Xv={hour:M,minute:M,second:M,hourCycle:"h23",timeZoneName:rt},Jv={year:M,month:M,day:M,hour:M,minute:M},ey={year:M,month:M,day:M,hour:M,minute:M,second:M},ty={year:M,month:xt,day:M,hour:M,minute:M},ny={year:M,month:xt,day:M,hour:M,minute:M,second:M},GT={year:M,month:xt,day:M,weekday:xt,hour:M,minute:M},ry={year:M,month:rt,day:M,hour:M,minute:M,timeZoneName:xt},iy={year:M,month:rt,day:M,hour:M,minute:M,second:M,timeZoneName:xt},sy={year:M,month:rt,day:M,weekday:rt,hour:M,minute:M,timeZoneName:rt},oy={year:M,month:rt,day:M,weekday:rt,hour:M,minute:M,second:M,timeZoneName:rt};class Cs{get type(){throw new dn}get name(){throw new dn}get ianaName(){return this.name}get isUniversal(){throw new dn}offsetName(e,n){throw new dn}formatOffset(e,n){throw new dn}offset(e){throw new dn}equals(e){throw new dn}get isValid(){throw new dn}}let Ua=null;class ql extends Cs{static get instance(){return Ua===null&&(Ua=new ql),Ua}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return ay(e,n,r)}formatOffset(e,n){return Gi(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let ko={};function qT(t){return ko[t]||(ko[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ko[t]}const QT={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function ZT(t,e){const n=t.format(e).replace(/\\u200E/g,""),r=/(\\d+)\\/(\\d+)\\/(\\d+) (AD|BC),? (\\d+):(\\d+):(\\d+)/.exec(n),[,i,s,o,l,a,u,c]=r;return[o,i,s,l,a,u,c]}function KT(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:o}=n[i],l=QT[s];s==="era"?r[l]=o:F(l)||(r[l]=parseInt(o,10))}return r}let Js={};class rn extends Cs{static create(e){return Js[e]||(Js[e]=new rn(e)),Js[e]}static resetCache(){Js={},ko={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=rn.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return ay(e,n,r,this.name)}formatOffset(e,n){return Gi(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=qT(this.name);let[i,s,o,l,a,u,c]=r.formatToParts?KT(r,n):ZT(r,n);l==="BC"&&(i=-Math.abs(i)+1);const h=bd({year:i,month:s,day:o,hour:a===24?0:a,minute:u,second:c,millisecond:0});let d=+n;const p=d%1e3;return d-=p>=0?p:1e3+p,(h-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Bh={};function XT(t,e={}){const n=JSON.stringify([t,e]);let r=Bh[n];return r||(r=new Intl.ListFormat(t,e),Bh[n]=r),r}let rc={};function ic(t,e={}){const n=JSON.stringify([t,e]);let r=rc[n];return r||(r=new Intl.DateTimeFormat(t,e),rc[n]=r),r}let sc={};function JT(t,e={}){const n=JSON.stringify([t,e]);let r=sc[n];return r||(r=new Intl.NumberFormat(t,e),sc[n]=r),r}let oc={};function e_(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=oc[i];return s||(s=new Intl.RelativeTimeFormat(t,e),oc[i]=s),s}let xi=null;function t_(){return xi||(xi=new Intl.DateTimeFormat().resolvedOptions().locale,xi)}function n_(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=ic(t).resolvedOptions(),i=t}catch{const a=t.substring(0,n);r=ic(a).resolvedOptions(),i=a}const{numberingSystem:s,calendar:o}=r;return[i,s,o]}}function r_(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function i_(t){const e=[];for(let n=1;n<=12;n++){const r=H.utc(2016,n,1);e.push(t(r))}return e}function s_(t){const e=[];for(let n=1;n<=7;n++){const r=H.utc(2016,11,13+n);e.push(t(r))}return e}function eo(t,e,n,r,i){const s=t.listingMode(n);return s==="error"?null:s==="en"?r(e):i(e)}function o_(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class l_{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...o}=r;if(!n||Object.keys(o).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=JT(e,l)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):Cd(e,3);return me(n,this.padTo)}}}class a_{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&rn.create(l).valid?(i=l,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=ic(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class u_{constructor(e,n,r){this.opts={style:"long",...r},!n&&ly()&&(this.rtf=e_(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):C_(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}class J{static fromOpts(e){return J.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,n,r,i=!1){const s=e||pe.defaultLocale,o=s||(i?"en-US":t_()),l=n||pe.defaultNumberingSystem,a=r||pe.defaultOutputCalendar;return new J(o,l,a,s)}static resetCache(){xi=null,rc={},sc={},oc={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r}={}){return J.create(e,n,r)}constructor(e,n,r,i){const[s,o,l]=n_(e);this.locale=s,this.numberingSystem=n||o||null,this.outputCalendar=r||l||null,this.intl=r_(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=o_(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:J.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1,r=!0){return eo(this,e,r,dy,()=>{const i=n?{month:e,day:"numeric"}:{month:e},s=n?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=i_(o=>this.extract(o,i,"month"))),this.monthsCache[s][e]})}weekdays(e,n=!1,r=!0){return eo(this,e,r,py,()=>{const i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=n?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=s_(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[s][e]})}meridiems(e=!0){return eo(this,void 0,e,()=>my,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[H.utc(2016,11,13,9),H.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(e,n=!0){return eo(this,e,n,gy,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[H.utc(-40,1,1),H.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),o=s.find(l=>l.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new l_(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new a_(e,this.intl,n)}relFormatter(e={}){return new u_(this.intl,this.isEnglish(),e)}listFormatter(e={}){return XT(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Ba=null;class Fe extends Cs{static get utcInstance(){return Ba===null&&(Ba=new Fe(0)),Ba}static instance(e){return e===0?Fe.utcInstance:new Fe(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\\d{1,2})(?::(\\d{2}))?)?$/i);if(n)return new Fe(Zl(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Gi(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Gi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Gi(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class c_ extends Cs{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function yn(t,e){if(F(t)||t===null)return e;if(t instanceof Cs)return t;if(d_(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?ql.instance:n==="utc"||n==="gmt"?Fe.utcInstance:Fe.parseSpecifier(n)||rn.create(t)}else return nr(t)?Fe.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new c_(t)}let Fh=()=>Date.now(),Yh="system",jh=null,Vh=null,Wh=null,$h=60,Gh;class pe{static get now(){return Fh}static set now(e){Fh=e}static set defaultZone(e){Yh=e}static get defaultZone(){return yn(Yh,ql.instance)}static get defaultLocale(){return jh}static set defaultLocale(e){jh=e}static get defaultNumberingSystem(){return Vh}static set defaultNumberingSystem(e){Vh=e}static get defaultOutputCalendar(){return Wh}static set defaultOutputCalendar(e){Wh=e}static get twoDigitCutoffYear(){return $h}static set twoDigitCutoffYear(e){$h=e%100}static get throwOnInvalid(){return Gh}static set throwOnInvalid(e){Gh=e}static resetCaches(){J.resetCache(),rn.resetCache()}}function F(t){return typeof t>"u"}function nr(t){return typeof t=="number"}function Ql(t){return typeof t=="number"&&t%1===0}function d_(t){return typeof t=="string"}function f_(t){return Object.prototype.toString.call(t)==="[object Date]"}function ly(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function h_(t){return Array.isArray(t)?t:[t]}function qh(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function p_(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function ii(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function qt(t,e,n){return Ql(t)&&t>=e&&t<=n}function m_(t,e){return t-e*Math.floor(t/e)}function me(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function mn(t){if(!(F(t)||t===null||t===""))return parseInt(t,10)}function Fn(t){if(!(F(t)||t===null||t===""))return parseFloat(t)}function Ad(t){if(!(F(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Cd(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function bs(t){return t%4===0&&(t%100!==0||t%400===0)}function $i(t){return bs(t)?366:365}function cl(t,e){const n=m_(e-1,12)+1,r=t+(e-n)/12;return n===2?bs(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function bd(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function dl(t){const e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,n=t-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return e===4||r===3?53:52}function lc(t){return t>99?t:t>pe.twoDigitCutoffYear?1900+t:2e3+t}function ay(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:e,...s},l=new Intl.DateTimeFormat(n,o).formatToParts(i).find(a=>a.type.toLowerCase()==="timezonename");return l?l.value:null}function Zl(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function uy(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new pt(`Invalid unit value ${t}`);return e}function fl(t,e){const n={};for(const r in t)if(ii(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=uy(i)}return n}function Gi(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${me(n,2)}:${me(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${me(n,2)}${me(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Kl(t){return p_(t,["hour","minute","second","millisecond"])}const g_=["January","February","March","April","May","June","July","August","September","October","November","December"],cy=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],v_=["J","F","M","A","M","J","J","A","S","O","N","D"];function dy(t){switch(t){case"narrow":return[...v_];case"short":return[...cy];case"long":return[...g_];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const fy=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],hy=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],y_=["M","T","W","T","F","S","S"];function py(t){switch(t){case"narrow":return[...y_];case"short":return[...hy];case"long":return[...fy];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const my=["AM","PM"],E_=["Before Christ","Anno Domini"],S_=["BC","AD"],w_=["B","A"];function gy(t){switch(t){case"narrow":return[...w_];case"short":return[...S_];case"long":return[...E_];default:return null}}function T_(t){return my[t.hour<12?0:1]}function __(t,e){return py(e)[t.weekday-1]}function D_(t,e){return dy(e)[t.month-1]}function A_(t,e){return gy(e)[t.year<0?0:1]}function C_(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const f=t==="days";switch(e){case 1:return f?"tomorrow":`next ${i[t][0]}`;case-1:return f?"yesterday":`last ${i[t][0]}`;case 0:return f?"today":`this ${i[t][0]}`}}const o=Object.is(e,-0)||e<0,l=Math.abs(e),a=l===1,u=i[t],c=r?a?u[1]:u[2]||u[1]:a?i[t][0]:t;return o?`${l} ${c} ago`:`in ${l} ${c}`}function Qh(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const b_={D:ul,DD:Yv,DDD:jv,DDDD:Vv,t:Wv,tt:$v,ttt:Gv,tttt:qv,T:Qv,TT:Zv,TTT:Kv,TTTT:Xv,f:Jv,ff:ty,fff:ry,ffff:sy,F:ey,FF:ny,FFF:iy,FFFF:oy};class Pe{static create(e,n={}){return new Pe(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let o=0;o<e.length;o++){const l=e.charAt(o);l==="\'"?(r.length>0&&s.push({literal:i||/^\\s+$/.test(r),val:r}),n=null,r="",i=!i):i||l===n?r+=l:(r.length>0&&s.push({literal:/^\\s+$/.test(r),val:r}),r=l,n=l)}return r.length>0&&s.push({literal:i||/^\\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return b_[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTime(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTimeParts(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).formatToParts()}formatInterval(e,n={}){return this.loc.dtFormatter(e.start,{...this.opts,...n}).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return me(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(d,p)=>this.loc.extract(e,d,p),o=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",l=()=>r?T_(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(d,p)=>r?D_(e,d):s(p?{month:d}:{month:d,day:"numeric"},"month"),u=(d,p)=>r?__(e,d):s(p?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),c=d=>{const p=Pe.macroTokenToFormatOpts(d);return p?this.formatWithSystemDefault(e,p):d},f=d=>r?A_(e,d):s({era:d},"era"),h=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(d)}};return Qh(Pe.parseFormat(n),h)}formatDurationFromString(e,n){const r=a=>{switch(a[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=a=>u=>{const c=r(u);return c?this.num(a.get(c),u.length):u},s=Pe.parseFormat(n),o=s.reduce((a,{literal:u,val:c})=>u?a:a.concat(c),[]),l=e.shiftTo(...o.map(r).filter(a=>a));return Qh(s,i(l))}}class bt{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const vy=/[A-Za-z_+-]{1,256}(?::?\\/[A-Za-z0-9_+-]{1,256}(?:\\/[A-Za-z0-9_+-]{1,256})?)?/;function di(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function fi(...t){return e=>t.reduce(([n,r,i],s)=>{const[o,l,a]=s(e,i);return[{...n,...o},l||r,a]},[{},null,1]).slice(0,2)}function hi(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function yy(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=mn(e[n+i]);return[r,null,n+i]}}const Ey=/(?:(Z)|([+-]\\d\\d)(?::?(\\d\\d))?)/,k_=`(?:${Ey.source}?(?:\\\\[(${vy.source})\\\\])?)?`,kd=/(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:[.,](\\d{1,30}))?)?)?/,Sy=RegExp(`${kd.source}${k_}`),Od=RegExp(`(?:T${Sy.source})?`),O_=/([+-]\\d{6}|\\d{4})(?:-?(\\d\\d)(?:-?(\\d\\d))?)?/,R_=/(\\d{4})-?W(\\d\\d)(?:-?(\\d))?/,N_=/(\\d{4})-?(\\d{3})/,M_=yy("weekYear","weekNumber","weekDay"),I_=yy("year","ordinal"),x_=/(\\d{4})-(\\d\\d)-(\\d\\d)/,wy=RegExp(`${kd.source} ?(?:${Ey.source}|(${vy.source}))?`),P_=RegExp(`(?: ${wy.source})?`);function $r(t,e,n){const r=t[e];return F(r)?n:mn(r)}function L_(t,e){return[{year:$r(t,e),month:$r(t,e+1,1),day:$r(t,e+2,1)},null,e+3]}function pi(t,e){return[{hours:$r(t,e,0),minutes:$r(t,e+1,0),seconds:$r(t,e+2,0),milliseconds:Ad(t[e+3])},null,e+4]}function ks(t,e){const n=!t[e]&&!t[e+1],r=Zl(t[e+1],t[e+2]),i=n?null:Fe.instance(r);return[{},i,e+3]}function Os(t,e){const n=t[e]?rn.create(t[e]):null;return[{},n,e+1]}const z_=RegExp(`^T?${kd.source}$`),H_=/^-?P(?:(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)Y)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)W)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)D)?(?:T(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)H)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20})(?:[.,](-?\\d{1,20}))?S)?)?)$/;function U_(t){const[e,n,r,i,s,o,l,a,u]=t,c=e[0]==="-",f=a&&a[0]==="-",h=(d,p=!1)=>d!==void 0&&(p||d&&c)?-d:d;return[{years:h(Fn(n)),months:h(Fn(r)),weeks:h(Fn(i)),days:h(Fn(s)),hours:h(Fn(o)),minutes:h(Fn(l)),seconds:h(Fn(a),a==="-0"),milliseconds:h(Ad(u),f)}]}const B_={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Rd(t,e,n,r,i,s,o){const l={year:e.length===2?lc(mn(e)):mn(e),month:cy.indexOf(n)+1,day:mn(r),hour:mn(i),minute:mn(s)};return o&&(l.second=mn(o)),t&&(l.weekday=t.length>3?fy.indexOf(t)+1:hy.indexOf(t)+1),l}const F_=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\\d\\d)(\\d\\d)))$/;function Y_(t){const[,e,n,r,i,s,o,l,a,u,c,f]=t,h=Rd(e,i,r,n,s,o,l);let d;return a?d=B_[a]:u?d=0:d=Zl(c,f),[h,new Fe(d)]}function j_(t){return t.replace(/\\([^()]*\\)|[\\n\\t]/g," ").replace(/(\\s\\s+)/g," ").trim()}const V_=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d\\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,W_=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\\d\\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,$_=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \\d|\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) (\\d{4})$/;function Zh(t){const[,e,n,r,i,s,o,l]=t;return[Rd(e,i,r,n,s,o,l),Fe.utcInstance]}function G_(t){const[,e,n,r,i,s,o,l]=t;return[Rd(e,l,n,r,i,s,o),Fe.utcInstance]}const q_=di(O_,Od),Q_=di(R_,Od),Z_=di(N_,Od),K_=di(Sy),Ty=fi(L_,pi,ks,Os),X_=fi(M_,pi,ks,Os),J_=fi(I_,pi,ks,Os),eD=fi(pi,ks,Os);function tD(t){return hi(t,[q_,Ty],[Q_,X_],[Z_,J_],[K_,eD])}function nD(t){return hi(j_(t),[F_,Y_])}function rD(t){return hi(t,[V_,Zh],[W_,Zh],[$_,G_])}function iD(t){return hi(t,[H_,U_])}const sD=fi(pi);function oD(t){return hi(t,[z_,sD])}const lD=di(x_,P_),aD=di(wy),uD=fi(pi,ks,Os);function cD(t){return hi(t,[lD,Ty],[aD,uD])}const dD="Invalid Duration",_y={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},fD={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},..._y},dt=146097/400,wr=146097/4800,hD={years:{quarters:4,months:12,weeks:dt/7,days:dt,hours:dt*24,minutes:dt*24*60,seconds:dt*24*60*60,milliseconds:dt*24*60*60*1e3},quarters:{months:3,weeks:dt/28,days:dt/4,hours:dt*24/4,minutes:dt*24*60/4,seconds:dt*24*60*60/4,milliseconds:dt*24*60*60*1e3/4},months:{weeks:wr/7,days:wr,hours:wr*24,minutes:wr*24*60,seconds:wr*24*60*60,milliseconds:wr*24*60*60*1e3},..._y},Vn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],pD=Vn.slice(0).reverse();function fn(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new j(r)}function mD(t){return t<0?Math.floor(t):Math.ceil(t)}function Dy(t,e,n,r,i){const s=t[i][n],o=e[n]/s,l=Math.sign(o)===Math.sign(r[i]),a=!l&&r[i]!==0&&Math.abs(o)<=1?mD(o):Math.trunc(o);r[i]+=a,e[n]-=a*s}function gD(t,e){pD.reduce((n,r)=>F(e[r])?n:(n&&Dy(t,e,n,e,r),r),null)}function vD(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class j{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?hD:fD;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||J.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return j.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new pt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new j({values:fl(e,j.normalizeUnit),loc:J.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(nr(e))return j.fromMillis(e);if(j.isDuration(e))return e;if(typeof e=="object")return j.fromObject(e);throw new pt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=iD(e);return r?j.fromObject(r,n):j.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=oD(e);return r?j.fromObject(r,n):j.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new pt("need to specify a reason the Duration is invalid");const r=e instanceof bt?e:new bt(e,n);if(pe.throwOnInvalid)throw new WT(r);return new j({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Fv(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Pe.create(this.loc,r).formatDurationFromString(this,e):dD}toHuman(e={}){const n=Vn.map(r=>{const i=this.values[r];return F(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Cd(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||r.milliseconds!==0)&&(i+=".SSS"));let s=r.toFormat(i);return e.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=j.fromDurationLike(e),r={};for(const i of Vn)(ii(n.values,i)||ii(this.values,i))&&(r[i]=n.get(i)+this.get(i));return fn(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=j.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=uy(e(this.values[r],r));return fn(this,{values:n},!0)}get(e){return this[j.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...fl(e,j.normalizeUnit)};return fn(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return fn(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return gD(this.matrix,e),fn(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=vD(this.normalize().shiftToAll().toObject());return fn(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>j.normalizeUnit(o));const n={},r={},i=this.toObject();let s;for(const o of Vn)if(e.indexOf(o)>=0){s=o;let l=0;for(const u in r)l+=this.matrix[u][o]*r[u],r[u]=0;nr(i[o])&&(l+=i[o]);const a=Math.trunc(l);n[o]=a,r[o]=(l*1e3-a*1e3)/1e3;for(const u in i)Vn.indexOf(u)>Vn.indexOf(o)&&Dy(this.matrix,i,u,n,o)}else nr(i[o])&&(r[o]=i[o]);for(const o in r)r[o]!==0&&(n[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return fn(this,{values:n},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return fn(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Vn)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Tr="Invalid Interval";function yD(t,e){return!t||!t.isValid?ce.invalid("missing or invalid start"):!e||!e.isValid?ce.invalid("missing or invalid end"):e<t?ce.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class ce{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new pt("need to specify a reason the Interval is invalid");const r=e instanceof bt?e:new bt(e,n);if(pe.throwOnInvalid)throw new VT(r);return new ce({invalid:r})}static fromDateTimes(e,n){const r=bi(e),i=bi(n),s=yD(r,i);return s??new ce({start:r,end:i})}static after(e,n){const r=j.fromDurationLike(n),i=bi(e);return ce.fromDateTimes(i,i.plus(r))}static before(e,n){const r=j.fromDurationLike(n),i=bi(e);return ce.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,o;try{s=H.fromISO(r,n),o=s.isValid}catch{o=!1}let l,a;try{l=H.fromISO(i,n),a=l.isValid}catch{a=!1}if(o&&a)return ce.fromDateTimes(s,l);if(o){const u=j.fromISO(i,n);if(u.isValid)return ce.after(s,u)}else if(a){const u=j.fromISO(r,n);if(u.isValid)return ce.before(l,u)}}return ce.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(n,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?ce.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(bi).filter(o=>this.contains(o)).sort(),r=[];let{s:i}=this,s=0;for(;i<this.e;){const o=n[s]||this.e,l=+o>+this.e?this.e:o;r.push(ce.fromDateTimes(i,l)),i=l,s+=1}return r}splitBy(e){const n=j.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const o=[];for(;r<this.e;){const l=this.start.plus(n.mapUnits(a=>a*i));s=+l>+this.e?this.e:l,o.push(ce.fromDateTimes(r,s)),r=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:ce.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return ce.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(a=>[{time:a.s,type:"s"},{time:a.e,type:"e"}]),o=Array.prototype.concat(...s),l=o.sort((a,u)=>a.time-u.time);for(const a of l)r+=a.type==="s"?1:-1,r===1?n=a.time:(n&&+n!=+a.time&&i.push(ce.fromDateTimes(n,a.time)),n=null);return ce.merge(i)}difference(...e){return ce.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Tr}toLocaleString(e=ul,n={}){return this.isValid?Pe.create(this.s.loc.clone(n),e).formatInterval(this):Tr}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Tr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Tr}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Tr}toFormat(e,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Tr}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):j.invalid(this.invalidReason)}mapEndpoints(e){return ce.fromDateTimes(e(this.s),e(this.e))}}class to{static hasDST(e=pe.defaultZone){const n=H.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return rn.isValidZone(e)}static normalizeZone(e){return yn(e,pe.defaultZone)}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||J.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||J.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||J.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||J.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return J.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return J.create(n,null,"gregory").eras(e)}static features(){return{relative:ly()}}}function Kh(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(j.fromMillis(r).as("days"))}function ED(t,e,n){const r=[["years",(a,u)=>u.year-a.year],["quarters",(a,u)=>u.quarter-a.quarter+(u.year-a.year)*4],["months",(a,u)=>u.month-a.month+(u.year-a.year)*12],["weeks",(a,u)=>{const c=Kh(a,u);return(c-c%7)/7}],["days",Kh]],i={},s=t;let o,l;for(const[a,u]of r)n.indexOf(a)>=0&&(o=a,i[a]=u(t,e),l=s.plus(i),l>e?(i[a]--,t=s.plus(i)):t=l);return[t,i,l,o]}function SD(t,e,n,r){let[i,s,o,l]=ED(t,e,n);const a=e-i,u=n.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);u.length===0&&(o<e&&(o=i.plus({[l]:1})),o!==i&&(s[l]=(s[l]||0)+a/(o-i)));const c=j.fromObject(s,r);return u.length>0?j.fromMillis(a,r).shiftTo(...u).plus(c):c}const Nd={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\\\d"},Xh={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},wD=Nd.hanidec.replace(/[\\[|\\]]/g,"").split("");function TD(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(Nd.hanidec)!==-1)e+=wD.indexOf(t[n]);else for(const i in Xh){const[s,o]=Xh[i];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}function Tt({numberingSystem:t},e=""){return new RegExp(`${Nd[t||"latn"]}${e}`)}const _D="missing Intl.DateTimeFormat.formatToParts support";function G(t,e=n=>n){return{regex:t,deser:([n])=>e(TD(n))}}const DD=String.fromCharCode(160),Ay=`[ ${DD}]`,Cy=new RegExp(Ay,"g");function AD(t){return t.replace(/\\./g,"\\\\.?").replace(Cy,Ay)}function Jh(t){return t.replace(/\\./g,"").replace(Cy," ").toLowerCase()}function _t(t,e){return t===null?null:{regex:RegExp(t.map(AD).join("|")),deser:([n])=>t.findIndex(r=>Jh(n)===Jh(r))+e}}function ep(t,e){return{regex:t,deser:([,n,r])=>Zl(n,r),groups:e}}function no(t){return{regex:t,deser:([e])=>e}}function CD(t){return t.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,"\\\\$&")}function bD(t,e){const n=Tt(e),r=Tt(e,"{2}"),i=Tt(e,"{3}"),s=Tt(e,"{4}"),o=Tt(e,"{6}"),l=Tt(e,"{1,2}"),a=Tt(e,"{1,3}"),u=Tt(e,"{1,6}"),c=Tt(e,"{1,9}"),f=Tt(e,"{2,4}"),h=Tt(e,"{4,6}"),d=y=>({regex:RegExp(CD(y.val)),deser:([m])=>m,literal:!0}),v=(y=>{if(t.literal)return d(y);switch(y.val){case"G":return _t(e.eras("short",!1),0);case"GG":return _t(e.eras("long",!1),0);case"y":return G(u);case"yy":return G(f,lc);case"yyyy":return G(s);case"yyyyy":return G(h);case"yyyyyy":return G(o);case"M":return G(l);case"MM":return G(r);case"MMM":return _t(e.months("short",!0,!1),1);case"MMMM":return _t(e.months("long",!0,!1),1);case"L":return G(l);case"LL":return G(r);case"LLL":return _t(e.months("short",!1,!1),1);case"LLLL":return _t(e.months("long",!1,!1),1);case"d":return G(l);case"dd":return G(r);case"o":return G(a);case"ooo":return G(i);case"HH":return G(r);case"H":return G(l);case"hh":return G(r);case"h":return G(l);case"mm":return G(r);case"m":return G(l);case"q":return G(l);case"qq":return G(r);case"s":return G(l);case"ss":return G(r);case"S":return G(a);case"SSS":return G(i);case"u":return no(c);case"uu":return no(l);case"uuu":return G(n);case"a":return _t(e.meridiems(),0);case"kkkk":return G(s);case"kk":return G(f,lc);case"W":return G(l);case"WW":return G(r);case"E":case"c":return G(n);case"EEE":return _t(e.weekdays("short",!1,!1),1);case"EEEE":return _t(e.weekdays("long",!1,!1),1);case"ccc":return _t(e.weekdays("short",!0,!1),1);case"cccc":return _t(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return ep(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return ep(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return no(/[a-z_+-/]{1,256}?/i);case" ":return no(/[^\\S\\n\\r]/);default:return d(y)}})(t)||{invalidReason:_D};return v.token=t,v}const kD={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function OD(t,e){const{type:n,value:r}=t;if(n==="literal"){const o=/^\\s+$/.test(r);return{literal:!o,val:o?" ":r}}const i=e[n];let s=kD[n];if(typeof s=="object"&&(s=s[i]),s)return{literal:!1,val:s}}function RD(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function ND(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const o in n)if(ii(n,o)){const l=n[o],a=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(r.slice(s,s+a))),s+=a}return[r,i]}else return[r,{}]}function MD(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return F(t.z)||(n=rn.create(t.z)),F(t.Z)||(n||(n=new Fe(t.Z)),r=t.Z),F(t.q)||(t.M=(t.q-1)*3+1),F(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),F(t.u)||(t.S=Ad(t.u)),[Object.keys(t).reduce((s,o)=>{const l=e(o);return l&&(s[l]=t[o]),s},{}),n,r]}let Fa=null;function ID(){return Fa||(Fa=H.fromMillis(1555555555555)),Fa}function xD(t,e){if(t.literal)return t;const n=Pe.macroTokenToFormatOpts(t.val),r=Oy(n,e);return r==null||r.includes(void 0)?t:r}function by(t,e){return Array.prototype.concat(...t.map(n=>xD(n,e)))}function ky(t,e,n){const r=by(Pe.parseFormat(n),t),i=r.map(o=>bD(o,t)),s=i.find(o=>o.invalidReason);if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};{const[o,l]=RD(i),a=RegExp(o,"i"),[u,c]=ND(e,a,l),[f,h,d]=c?MD(c):[null,null,void 0];if(ii(c,"a")&&ii(c,"H"))throw new Ii("Can\'t include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:a,rawMatches:u,matches:c,result:f,zone:h,specificOffset:d}}}function PD(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:o}=ky(t,e,n);return[r,i,s,o]}function Oy(t,e){return t?Pe.create(e,t).formatDateTimeParts(ID()).map(i=>OD(i,t)):null}const Ry=[0,31,59,90,120,151,181,212,243,273,304,334],Ny=[0,31,60,91,121,152,182,213,244,274,305,335];function gt(t,e){return new bt("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function My(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function Iy(t,e,n){return n+(bs(t)?Ny:Ry)[e-1]}function xy(t,e){const n=bs(t)?Ny:Ry,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function ac(t){const{year:e,month:n,day:r}=t,i=Iy(e,n,r),s=My(e,n,r);let o=Math.floor((i-s+10)/7),l;return o<1?(l=e-1,o=dl(l)):o>dl(e)?(l=e+1,o=1):l=e,{weekYear:l,weekNumber:o,weekday:s,...Kl(t)}}function tp(t){const{weekYear:e,weekNumber:n,weekday:r}=t,i=My(e,1,4),s=$i(e);let o=n*7+r-i-3,l;o<1?(l=e-1,o+=$i(l)):o>s?(l=e+1,o-=$i(e)):l=e;const{month:a,day:u}=xy(l,o);return{year:l,month:a,day:u,...Kl(t)}}function Ya(t){const{year:e,month:n,day:r}=t,i=Iy(e,n,r);return{year:e,ordinal:i,...Kl(t)}}function np(t){const{year:e,ordinal:n}=t,{month:r,day:i}=xy(e,n);return{year:e,month:r,day:i,...Kl(t)}}function LD(t){const e=Ql(t.weekYear),n=qt(t.weekNumber,1,dl(t.weekYear)),r=qt(t.weekday,1,7);return e?n?r?!1:gt("weekday",t.weekday):gt("week",t.week):gt("weekYear",t.weekYear)}function zD(t){const e=Ql(t.year),n=qt(t.ordinal,1,$i(t.year));return e?n?!1:gt("ordinal",t.ordinal):gt("year",t.year)}function Py(t){const e=Ql(t.year),n=qt(t.month,1,12),r=qt(t.day,1,cl(t.year,t.month));return e?n?r?!1:gt("day",t.day):gt("month",t.month):gt("year",t.year)}function Ly(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=qt(e,0,23)||e===24&&n===0&&r===0&&i===0,o=qt(n,0,59),l=qt(r,0,59),a=qt(i,0,999);return s?o?l?a?!1:gt("millisecond",i):gt("second",r):gt("minute",n):gt("hour",e)}const ja="Invalid DateTime",rp=864e13;function ro(t){return new bt("unsupported zone",`the zone "${t.name}" is not supported`)}function Va(t){return t.weekData===null&&(t.weekData=ac(t.c)),t.weekData}function Ai(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new H({...n,...e,old:n})}function zy(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function ip(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Oo(t,e,n){return zy(bd(t),e,n)}function sp(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,cl(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=j.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=bd(s);let[a,u]=zy(l,n,t.zone);return o!==0&&(a+=o,u=t.zone.offset(a)),{ts:a,o:u}}function Ci(t,e,n,r,i,s){const{setZone:o,zone:l}=n;if(t&&Object.keys(t).length!==0||e){const a=e||l,u=H.fromObject(t,{...n,zone:a,specificOffset:s});return o?u:u.setZone(l)}else return H.invalid(new bt("unparsable",`the input "${i}" can\'t be parsed as ${r}`))}function io(t,e,n=!0){return t.isValid?Pe.create(J.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Wa(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=me(t.c.year,n?6:4),e?(r+="-",r+=me(t.c.month),r+="-",r+=me(t.c.day)):(r+=me(t.c.month),r+=me(t.c.day)),r}function op(t,e,n,r,i,s){let o=me(t.c.hour);return e?(o+=":",o+=me(t.c.minute),(t.c.second!==0||!n)&&(o+=":")):o+=me(t.c.minute),(t.c.second!==0||!n)&&(o+=me(t.c.second),(t.c.millisecond!==0||!r)&&(o+=".",o+=me(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=me(Math.trunc(-t.o/60)),o+=":",o+=me(Math.trunc(-t.o%60))):(o+="+",o+=me(Math.trunc(t.o/60)),o+=":",o+=me(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}const Hy={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},HD={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},UD={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Uy=["year","month","day","hour","minute","second","millisecond"],BD=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],FD=["year","ordinal","hour","minute","second","millisecond"];function lp(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Fv(t);return e}function ap(t,e){const n=yn(e.zone,pe.defaultZone),r=J.fromObject(e),i=pe.now();let s,o;if(F(t.year))s=i;else{for(const u of Uy)F(t[u])&&(t[u]=Hy[u]);const l=Py(t)||Ly(t);if(l)return H.invalid(l);const a=n.offset(i);[s,o]=Oo(t,a,n)}return new H({ts:s,zone:n,loc:r,o})}function up(t,e,n){const r=F(n.round)?!0:n.round,i=(o,l)=>(o=Cd(o,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,l)),s=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return i(s(n.unit),n.unit);for(const o of n.units){const l=s(o);if(Math.abs(l)>=1)return i(l,o)}return i(t>e?-0:0,n.units[n.units.length-1])}function cp(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class H{constructor(e){const n=e.zone||pe.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new bt("invalid input"):null)||(n.isValid?null:ro(n));this.ts=F(e.ts)?pe.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const l=n.offset(this.ts);i=ip(this.ts,l),r=Number.isNaN(i.year)?new bt("invalid input"):null,i=r?null:i,s=r?null:l}this._zone=n,this.loc=e.loc||J.create(),this.invalid=r,this.weekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new H({})}static local(){const[e,n]=cp(arguments),[r,i,s,o,l,a,u]=n;return ap({year:r,month:i,day:s,hour:o,minute:l,second:a,millisecond:u},e)}static utc(){const[e,n]=cp(arguments),[r,i,s,o,l,a,u]=n;return e.zone=Fe.utcInstance,ap({year:r,month:i,day:s,hour:o,minute:l,second:a,millisecond:u},e)}static fromJSDate(e,n={}){const r=f_(e)?e.valueOf():NaN;if(Number.isNaN(r))return H.invalid("invalid input");const i=yn(n.zone,pe.defaultZone);return i.isValid?new H({ts:r,zone:i,loc:J.fromObject(n)}):H.invalid(ro(i))}static fromMillis(e,n={}){if(nr(e))return e<-rp||e>rp?H.invalid("Timestamp out of range"):new H({ts:e,zone:yn(n.zone,pe.defaultZone),loc:J.fromObject(n)});throw new pt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(nr(e))return new H({ts:e*1e3,zone:yn(n.zone,pe.defaultZone),loc:J.fromObject(n)});throw new pt("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=yn(n.zone,pe.defaultZone);if(!r.isValid)return H.invalid(ro(r));const i=pe.now(),s=F(n.specificOffset)?r.offset(i):n.specificOffset,o=fl(e,lp),l=!F(o.ordinal),a=!F(o.year),u=!F(o.month)||!F(o.day),c=a||u,f=o.weekYear||o.weekNumber,h=J.fromObject(n);if((c||l)&&f)throw new Ii("Can\'t mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&l)throw new Ii("Can\'t mix ordinal dates with month/day");const d=f||o.weekday&&!c;let p,v,y=ip(i,s);d?(p=BD,v=HD,y=ac(y)):l?(p=FD,v=UD,y=Ya(y)):(p=Uy,v=Hy);let m=!1;for(const A of p){const x=o[A];F(x)?m?o[A]=v[A]:o[A]=y[A]:m=!0}const g=d?LD(o):l?zD(o):Py(o),E=g||Ly(o);if(E)return H.invalid(E);const w=d?tp(o):l?np(o):o,[D,_]=Oo(w,s,r),b=new H({ts:D,zone:r,o:_,loc:h});return o.weekday&&c&&e.weekday!==b.weekday?H.invalid("mismatched weekday",`you can\'t specify both a weekday of ${o.weekday} and a date of ${b.toISO()}`):b}static fromISO(e,n={}){const[r,i]=tD(e);return Ci(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=nD(e);return Ci(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=rD(e);return Ci(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(F(e)||F(n))throw new pt("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,o=J.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[l,a,u,c]=PD(o,e,n);return c?H.invalid(c):Ci(l,a,r,`format ${n}`,e,u)}static fromString(e,n,r={}){return H.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=cD(e);return Ci(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new pt("need to specify a reason the DateTime is invalid");const r=e instanceof bt?e:new bt(e,n);if(pe.throwOnInvalid)throw new jT(r);return new H({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=Oy(e,J.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return by(Pe.parseFormat(e),J.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Va(this).weekYear:NaN}get weekNumber(){return this.isValid?Va(this).weekNumber:NaN}get weekday(){return this.isValid?Va(this).weekday:NaN}get ordinal(){return this.isValid?Ya(this.c).ordinal:NaN}get monthShort(){return this.isValid?to.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?to.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?to.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?to.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return bs(this.year)}get daysInMonth(){return cl(this.year,this.month)}get daysInYear(){return this.isValid?$i(this.year):NaN}get weeksInWeekYear(){return this.isValid?dl(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=Pe.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Fe.instance(e),n)}toLocal(){return this.setZone(pe.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=yn(e,pe.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),o=this.toObject();[i]=Oo(o,s,e)}return Ai(this,{ts:i,zone:e})}else return H.invalid(ro(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Ai(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=fl(e,lp),r=!F(n.weekYear)||!F(n.weekNumber)||!F(n.weekday),i=!F(n.ordinal),s=!F(n.year),o=!F(n.month)||!F(n.day),l=s||o,a=n.weekYear||n.weekNumber;if((l||i)&&a)throw new Ii("Can\'t mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&i)throw new Ii("Can\'t mix ordinal dates with month/day");let u;r?u=tp({...ac(this.c),...n}):F(n.ordinal)?(u={...this.toObject(),...n},F(n.day)&&(u.day=Math.min(cl(u.year,u.month),u.day))):u=np({...Ya(this.c),...n});const[c,f]=Oo(u,this.o,this.zone);return Ai(this,{ts:c,o:f})}plus(e){if(!this.isValid)return this;const n=j.fromDurationLike(e);return Ai(this,sp(this,n))}minus(e){if(!this.isValid)return this;const n=j.fromDurationLike(e).negate();return Ai(this,sp(this,n))}startOf(e){if(!this.isValid)return this;const n={},r=j.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,n={}){return this.isValid?Pe.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):ja}toLocaleString(e=ul,n={}){return this.isValid?Pe.create(this.loc.clone(n),e).formatDateTime(this):ja}toLocaleParts(e={}){return this.isValid?Pe.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let l=Wa(this,o);return l+="T",l+=op(this,o,n,r,i,s),l}toISODate({format:e="extended"}={}){return this.isValid?Wa(this,e==="extended"):null}toISOWeekDate(){return io(this,"kkkk-\'W\'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+op(this,o==="extended",n,e,r,s):null}toRFC2822(){return io(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return io(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss \'GMT\'")}toSQLDate(){return this.isValid?Wa(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),io(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():ja}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return j.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=h_(n).map(j.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,a=o?e:this,u=SD(l,a,s,i);return o?u.negate():u}diffNow(e="milliseconds",n={}){return this.diff(H.now(),e,n)}until(e){return this.isValid?ce.fromDateTimes(this,e):this}hasSame(e,n){if(!this.isValid)return!1;const r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(n)<=r&&r<=i.endOf(n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||H.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),up(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?up(e.base||H.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(H.isDateTime))throw new pt("min requires all arguments be DateTimes");return qh(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(H.isDateTime))throw new pt("max requires all arguments be DateTimes");return qh(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,o=J.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return ky(o,e,n)}static fromStringExplain(e,n,r={}){return H.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return ul}static get DATE_MED(){return Yv}static get DATE_MED_WITH_WEEKDAY(){return $T}static get DATE_FULL(){return jv}static get DATE_HUGE(){return Vv}static get TIME_SIMPLE(){return Wv}static get TIME_WITH_SECONDS(){return $v}static get TIME_WITH_SHORT_OFFSET(){return Gv}static get TIME_WITH_LONG_OFFSET(){return qv}static get TIME_24_SIMPLE(){return Qv}static get TIME_24_WITH_SECONDS(){return Zv}static get TIME_24_WITH_SHORT_OFFSET(){return Kv}static get TIME_24_WITH_LONG_OFFSET(){return Xv}static get DATETIME_SHORT(){return Jv}static get DATETIME_SHORT_WITH_SECONDS(){return ey}static get DATETIME_MED(){return ty}static get DATETIME_MED_WITH_SECONDS(){return ny}static get DATETIME_MED_WITH_WEEKDAY(){return GT}static get DATETIME_FULL(){return ry}static get DATETIME_FULL_WITH_SECONDS(){return iy}static get DATETIME_HUGE(){return sy}static get DATETIME_HUGE_WITH_SECONDS(){return oy}}function bi(t){if(H.isDateTime(t))return t;if(t&&t.valueOf&&nr(t.valueOf()))return H.fromJSDate(t);if(t&&typeof t=="object")return H.fromObject(t);throw new pt(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const Md=/(milliseconds|ms)/i,Id=/(seconds|second|secs|sec|s)/i,xd=/(minutes|minute|mins|min)/i,Pd=/(hours|hour|h)/i,Ld=/(?:(week\\s*|work\\s*|business\\s*)?(days|day|d))/i,zd=/(weeks|week|w)/i,Hd=/(months|month)/i,Ud=/(years|year|y)/i,YD=new RegExp(`(\\\\d+\\\\W*)(${Md.source}|${Id.source}|${xd.source}|${Pd.source}|${Ld.source}|${zd.source}|${Hd.source}|${Ud.source})(?:\\\\s*,\\\\s*|\\\\s*)`,"g"),jD=/(?:\\W|^)(!\\w+)/,uc=new RegExp(`(by|before|after)?(\\\\s*${jD.source}\\\\s*)?(?:plus|\\\\+)?\\\\s*(${YD.source})*`),VD=/january|february|march|april|may|june|july|august|september|october|november|december/,WD=/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/,Bd=new RegExp(`(?:(${VD.source})|(${WD.source}))`),$D=new RegExp(`(([0-3]?[0-9])\\\\s+${Bd.source})`),GD=new RegExp(`(${Bd.source}\\\\s+([0-3]?[0-9](?!\\\\d)))`),Xl=/((1|2|3|4|5|6|7|8|9|10|11|12)(:\\d{2})?([ap]m)|([012]?[0-9])(:\\d{2})?)/,qD=new RegExp(`(?:(?:${$D.source}|${GD.source}),?(?:\\\\s+(\\\\d{4}),?)?(?:\\\\s+${Xl.source})?)|(${Bd.source}(?:\\\\s+(\\\\d{1,4}))?)`),QD=/\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2,}(?:\\.\\d*)?Z/,cc=/now/,ZD=new RegExp(`(\\\\d{1,5}(\\\\/\\\\d{1,5}(\\\\/\\\\d{1,5}(?:(?:,|\\\\s)+${Xl.source})?)?)?)`),dp=new RegExp(`(${QD.source})|(${cc.source})|${Xl.source}|(${ZD.source})|(${uc.source})|${qD.source}`),KD=new RegExp(`(?:(\\\\d+|other)?\\\\s*)(${Md.source}|${Id.source}|${xd.source}|${Pd.source}|${Ld.source}|${zd.source}|${Hd.source}|${Ud.source})`,"g"),XD=new RegExp(`((\\\\s+for\\\\s+(\\\\d+\\\\W*)(${Md.source}|${Id.source}|${xd.source}|${Pd.source}|${Ld.source}|${zd.source}|${Hd.source}|${Ud.source}|(times)))|(\\\\s+x\\\\s*(\\\\d+)))?`),By=new RegExp(`\\\\s*every\\\\s+${KD.source}${XD.source}`),JD=new RegExp(`((${dp.source})(?:\\\\s*(?:-|to)\\\\s*(${dp.source}))?)(${By.source})?\\\\s*:`);new RegExp(`^(\\\\s*)${JD.source}(.*)`,"i");const fp=new RegExp(`(\\\\d{4}(-\\\\d{2}(-\\\\d{2}(?:\\\\s+${Xl.source})?)?)?)`),e1=new RegExp(`((?:${fp.source}|(${uc.source})|(${cc.source}))(\\\\s*/\\\\s*(?:${fp.source}|(${uc.source})|(${cc.source})))?)(${By.source})?\\\\s*:`);new RegExp(`^(\\\\s*)${e1.source}(.*)`,"i");var hp;(function(t){t.TEXT="text",t.LIST_ITEM="listItem",t.CHECKBOX="checkbox",t.IMAGE="image"})(hp||(hp={}));var pp;(function(t){t.Comment="comment",t.CheckboxItemIndicator="checkboxItemIndicator",t.listItemIndicator="listItemIndicator",t.ListItemContents="listItemContents",t.Tag="tag",t.tagDefinition="tagDefinition",t.Title="title",t.View="view",t.Viewer="viewer",t.Description="description",t.Section="section",t.DateRange="dateRange",t.DateRangeColon="dateRangeColon",t.Event="event",t.Edit="edit",t.Editor="editor",t.Recurrence="recurrence",t.FrontmatterDelimiter="frontMatterDelimiter",t.HeaderKey="headerKey",t.HeaderKeyColon="headerKeyColon",t.HeaderValue="headerValue"})(pp||(pp={}));const mp=t=>({[Symbol.iterator](){let e=[t],n=[],r=[];return{next(){const i=[...r],s=e.shift();if(Array.isArray(s==null?void 0:s.value))e=s.value.concat(e),n.push(s.value.length),r.push(0);else for(n[n.length-1]-=1,r[r.length-1]+=1;n[n.length-1]<=0;)n.pop(),n[n.length-1]-=1,r.pop(),r[r.length-1]+=1;return{done:!s,value:{path:i,node:s}}}}}}),so=t=>!Array.isArray(t.value),Fd=Symbol.for("yaml.alias"),t1=Symbol.for("yaml.document"),rr=Symbol.for("yaml.map"),Fy=Symbol.for("yaml.pair"),Yd=Symbol.for("yaml.scalar"),Rs=Symbol.for("yaml.seq"),Yt=Symbol.for("yaml.node.type"),mi=t=>!!t&&typeof t=="object"&&t[Yt]===Fd,Jl=t=>!!t&&typeof t=="object"&&t[Yt]===t1,Yy=t=>!!t&&typeof t=="object"&&t[Yt]===rr,Oe=t=>!!t&&typeof t=="object"&&t[Yt]===Fy,we=t=>!!t&&typeof t=="object"&&t[Yt]===Yd,jd=t=>!!t&&typeof t=="object"&&t[Yt]===Rs;function et(t){if(t&&typeof t=="object")switch(t[Yt]){case rr:case Rs:return!0}return!1}function Xe(t){if(t&&typeof t=="object")switch(t[Yt]){case Fd:case rr:case Yd:case Rs:return!0}return!1}const n1=t=>(we(t)||et(t))&&!!t.anchor,Wn=Symbol("break visit"),r1=Symbol("skip children"),qi=Symbol("remove node");function gs(t,e){const n=i1(e);Jl(t)?zr(null,t.contents,n,Object.freeze([t]))===qi&&(t.contents=null):zr(null,t,n,Object.freeze([]))}gs.BREAK=Wn;gs.SKIP=r1;gs.REMOVE=qi;function zr(t,e,n,r){const i=s1(t,e,n,r);if(Xe(i)||Oe(i))return o1(t,r,i),zr(t,i,n,r);if(typeof i!="symbol"){if(et(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){const o=zr(s,e.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===Wn)return Wn;o===qi&&(e.items.splice(s,1),s-=1)}}}else if(Oe(e)){r=Object.freeze(r.concat(e));const s=zr("key",e.key,n,r);if(s===Wn)return Wn;s===qi&&(e.key=null);const o=zr("value",e.value,n,r);if(o===Wn)return Wn;o===qi&&(e.value=null)}}return i}function i1(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function s1(t,e,n,r){var i,s,o,l,a;if(typeof n=="function")return n(t,e,r);if(Yy(e))return(i=n.Map)==null?void 0:i.call(n,t,e,r);if(jd(e))return(s=n.Seq)==null?void 0:s.call(n,t,e,r);if(Oe(e))return(o=n.Pair)==null?void 0:o.call(n,t,e,r);if(we(e))return(l=n.Scalar)==null?void 0:l.call(n,t,e,r);if(mi(e))return(a=n.Alias)==null?void 0:a.call(n,t,e,r)}function o1(t,e,n){const r=e[e.length-1];if(et(r))r.items[t]=n;else if(Oe(r))t==="key"?r.key=n:r.value=n;else if(Jl(r))r.contents=n;else{const i=mi(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}function jy(t){if(/[\\x00-\\x19\\s,[\\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function Pi(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,s=r.length;i<s;++i){const o=r[i],l=Pi(t,r,String(i),o);l===void 0?delete r[i]:l!==o&&(r[i]=l)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const s=r.get(i),o=Pi(t,r,i,s);o===void 0?r.delete(i):o!==s&&r.set(i,o)}else if(r instanceof Set)for(const i of Array.from(r)){const s=Pi(t,r,i,i);s===void 0?r.delete(i):s!==i&&(r.delete(i),r.add(s))}else for(const[i,s]of Object.entries(r)){const o=Pi(t,r,i,s);o===void 0?delete r[i]:o!==s&&(r[i]=o)}return t.call(e,n,r)}function Nt(t,e,n){if(Array.isArray(t))return t.map((r,i)=>Nt(r,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!n1(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=s=>{r.res=s,delete n.onCreate};const i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class Vd{constructor(e){Object.defineProperty(this,Yt,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:s}={}){if(!Jl(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=Nt(this,"",o);if(typeof i=="function")for(const{count:a,res:u}of o.anchors.values())i(u,a);return typeof s=="function"?Pi(s,{"":l},"",l):l}}class l1 extends Vd{constructor(e){super(Fd),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return gs(e,{Node:(r,i)=>{if(i===this)return gs.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:s}=n,o=this.resolve(i);if(!o){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(a)}let l=r.get(o);if(l||(Nt(o,null,n),l=r.get(o)),!l||l.res===void 0){const a="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(a)}if(s>=0&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=Ro(i,o,r)),l.count*l.aliasCount>s)){const a="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(a)}return l.res}toString(e,n,r){const i=`*${this.source}`;if(e){if(jy(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${i} `}return i}}function Ro(t,e,n){if(mi(e)){const r=e.resolve(t),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(et(e)){let r=0;for(const i of e.items){const s=Ro(t,i,n);s>r&&(r=s)}return r}else if(Oe(e)){const r=Ro(t,e.key,n),i=Ro(t,e.value,n);return Math.max(r,i)}return 1}const Vy=t=>!t||typeof t!="function"&&typeof t!="object";class ge extends Vd{constructor(e){super(Yd),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:Nt(this.value,e,n)}toString(){return String(this.value)}}ge.BLOCK_FOLDED="BLOCK_FOLDED";ge.BLOCK_LITERAL="BLOCK_LITERAL";ge.PLAIN="PLAIN";ge.QUOTE_DOUBLE="QUOTE_DOUBLE";ge.QUOTE_SINGLE="QUOTE_SINGLE";const a1="tag:yaml.org,2002:";function u1(t,e,n){if(e){const r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)??r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,t))&&!r.format})}function hl(t,e,n){var f,h,d;if(Jl(t)&&(t=t.contents),Xe(t))return t;if(Oe(t)){const p=(h=(f=n.schema[rr]).createNode)==null?void 0:h.call(f,n.schema,null,n);return p.items.push(t),p}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:o,sourceObjects:l}=n;let a;if(r&&t&&typeof t=="object"){if(a=l.get(t),a)return a.anchor||(a.anchor=i(t)),new l1(a.anchor);a={anchor:null,node:null},l.set(t,a)}e!=null&&e.startsWith("!!")&&(e=a1+e.slice(2));let u=u1(t,e,o.tags);if(!u){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const p=new ge(t);return a&&(a.node=p),p}u=t instanceof Map?o[rr]:Symbol.iterator in Object(t)?o[Rs]:o[rr]}s&&(s(u),delete n.onTagObj);const c=u!=null&&u.createNode?u.createNode(n.schema,t,n):typeof((d=u==null?void 0:u.nodeClass)==null?void 0:d.from)=="function"?u.nodeClass.from(n.schema,t,n):new ge(t);return e?c.tag=e:u.default||(c.tag=u.tag),a&&(a.node=c),c}function gp(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){const s=e[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const o=[];o[s]=r,r=o}else r=new Map([[s,r]])}return hl(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const c1=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class ea extends Vd{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>Xe(r)||Oe(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(c1(e))this.add(n);else{const[r,...i]=e,s=this.get(r,!0);if(et(s))s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,gp(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(et(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...i]=e,s=this.get(r,!0);return i.length===0?!n&&we(s)?s.value:s:et(s)?s.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Oe(n))return!1;const r=n.value;return r==null||e&&we(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const i=this.get(n,!0);return et(i)?i.hasIn(r):!1}setIn(e,n){const[r,...i]=e;if(i.length===0)this.set(r,n);else{const s=this.get(r,!0);if(et(s))s.setIn(i,n);else if(s===void 0&&this.schema)this.set(r,gp(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}ea.maxFlowStringSingleLineLength=60;const d1=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function vs(t,e){return/^\\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Xn=(t,e,n)=>t.endsWith(`\n`)?vs(n,e):n.includes(`\n`)?`\n`+vs(n,e):(t.endsWith(" ")?"":" ")+n,Wy="flow",dc="block",No="quoted";function ta(t,e,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:l}={}){if(!i||i<0)return t;const a=Math.max(1+s,1+i-e.length);if(t.length<=a)return t;const u=[],c={};let f=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):f=i-r);let h,d,p=!1,v=-1,y=-1,m=-1;n===dc&&(v=vp(t,v),v!==-1&&(f=v+a));for(let E;E=t[v+=1];){if(n===No&&E==="\\\\"){switch(y=v,t[v+1]){case"x":v+=3;break;case"u":v+=5;break;case"U":v+=9;break;default:v+=1}m=v}if(E===`\n`)n===dc&&(v=vp(t,v)),f=v+a,h=void 0;else{if(E===" "&&d&&d!==" "&&d!==`\n`&&d!=="	"){const w=t[v+1];w&&w!==" "&&w!==`\n`&&w!=="	"&&(h=v)}if(v>=f)if(h)u.push(h),f=h+a,h=void 0;else if(n===No){for(;d===" "||d==="	";)d=E,E=t[v+=1],p=!0;const w=v>m+1?v-2:y-1;if(c[w])return t;u.push(w),c[w]=!0,f=w+a,h=void 0}else p=!0}d=E}if(p&&l&&l(),u.length===0)return t;o&&o();let g=t.slice(0,u[0]);for(let E=0;E<u.length;++E){const w=u[E],D=u[E+1]||t.length;w===0?g=`\n${e}${t.slice(0,D)}`:(n===No&&c[w]&&(g+=`${t[w]}\\\\`),g+=`\n${e}${t.slice(w+1,D)}`)}return g}function vp(t,e){let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`\n`);n=t[e+1]}return e}const na=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),ra=t=>/^(%|---|\\.\\.\\.)/m.test(t);function f1(t,e,n){if(!e||e<0)return!1;const r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(t[s]===`\n`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1}return!0}function Qi(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,i=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(ra(t)?"  ":"");let o="",l=0;for(let a=0,u=n[a];u;u=n[++a])if(u===" "&&n[a+1]==="\\\\"&&n[a+2]==="n"&&(o+=n.slice(l,a)+"\\\\ ",a+=1,l=a,u="\\\\"),u==="\\\\")switch(n[a+1]){case"u":{o+=n.slice(l,a);const c=n.substr(a+2,4);switch(c){case"0000":o+="\\\\0";break;case"0007":o+="\\\\a";break;case"000b":o+="\\\\v";break;case"001b":o+="\\\\e";break;case"0085":o+="\\\\N";break;case"00a0":o+="\\\\_";break;case"2028":o+="\\\\L";break;case"2029":o+="\\\\P";break;default:c.substr(0,2)==="00"?o+="\\\\x"+c.substr(2):o+=n.substr(a,6)}a+=5,l=a+1}break;case"n":if(r||n[a+2]===\'"\'||n.length<i)a+=1;else{for(o+=n.slice(l,a)+`\n\n`;n[a+2]==="\\\\"&&n[a+3]==="n"&&n[a+4]!==\'"\';)o+=`\n`,a+=2;o+=s,n[a+2]===" "&&(o+="\\\\"),a+=1,l=a+1}break;default:a+=1}return o=l?o+n.slice(l):n,r?o:ta(o,s,No,na(e,!1))}function fc(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`\n`)||/[ \\t]\\n|\\n[ \\t]/.test(t))return Qi(t,e);const n=e.indent||(ra(t)?"  ":""),r="\'"+t.replace(/\'/g,"\'\'").replace(/\\n+/g,`$&\n${n}`)+"\'";return e.implicitKey?r:ta(r,n,Wy,na(e,!1))}function Hr(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=Qi;else{const i=t.includes(\'"\'),s=t.includes("\'");i&&!s?r=fc:s&&!i?r=Qi:r=n?fc:Qi}return r(t,e)}let hc;try{hc=new RegExp(`(^|(?<!\n))\n+(?!\n|$)`,"g")}catch{hc=/\\n+(?!\\n|$)/g}function Mo({comment:t,type:e,value:n},r,i,s){const{blockQuote:o,commentString:l,lineWidth:a}=r.options;if(!o||/\\n[\\t ]+$/.test(n)||/^\\s*$/.test(n))return Hr(n,r);const u=r.indent||(r.forceBlockIndent||ra(n)?"  ":""),c=o==="literal"?!0:o==="folded"||e===ge.BLOCK_FOLDED?!1:e===ge.BLOCK_LITERAL?!0:!f1(n,a,u.length);if(!n)return c?`|\n`:`>\n`;let f,h;for(h=n.length;h>0;--h){const _=n[h-1];if(_!==`\n`&&_!=="	"&&_!==" ")break}let d=n.substring(h);const p=d.indexOf(`\n`);p===-1?f="-":n===d||p!==d.length-1?(f="+",s&&s()):f="",d&&(n=n.slice(0,-d.length),d[d.length-1]===`\n`&&(d=d.slice(0,-1)),d=d.replace(hc,`$&${u}`));let v=!1,y,m=-1;for(y=0;y<n.length;++y){const _=n[y];if(_===" ")v=!0;else if(_===`\n`)m=y;else break}let g=n.substring(0,m<y?m+1:y);g&&(n=n.substring(g.length),g=g.replace(/\\n+/g,`$&${u}`));let w=(c?"|":">")+(v?u?"2":"1":"")+f;if(t&&(w+=" "+l(t.replace(/ ?[\\r\\n]+/g," ")),i&&i()),c)return n=n.replace(/\\n+/g,`$&${u}`),`${w}\n${u}${g}${n}${d}`;n=n.replace(/\\n+/g,`\n$&`).replace(/(?:^|\\n)([\\t ].*)(?:([\\n\\t ]*)\\n(?![\\n\\t ]))?/g,"$1$2").replace(/\\n+/g,`$&${u}`);const D=ta(`${g}${n}${d}`,u,dc,na(r,!0));return`${w}\n${u}${D}`}function h1(t,e,n,r){const{type:i,value:s}=t,{actualString:o,implicitKey:l,indent:a,indentStep:u,inFlow:c}=e;if(l&&/[\\n[\\]{},]/.test(s)||c&&/[[\\]{},]/.test(s))return Hr(s,e);if(!s||/^[\\n\\t ,[\\]{}#&*!|>\'"%@`]|^[?-]$|^[?-][ \\t]|[\\n:][ \\t]|[ \\t]\\n|[\\n\\t ]#|[\\n\\t :]$/.test(s))return l||c||!s.includes(`\n`)?Hr(s,e):Mo(t,e,n,r);if(!l&&!c&&i!==ge.PLAIN&&s.includes(`\n`))return Mo(t,e,n,r);if(ra(s)){if(a==="")return e.forceBlockIndent=!0,Mo(t,e,n,r);if(l&&a===u)return Hr(s,e)}const f=s.replace(/\\n+/g,`$&\n${a}`);if(o){const h=v=>{var y;return v.default&&v.tag!=="tag:yaml.org,2002:str"&&((y=v.test)==null?void 0:y.test(f))},{compat:d,tags:p}=e.doc.schema;if(p.some(h)||d!=null&&d.some(h))return Hr(s,e)}return l?f:ta(f,a,Wy,na(e,!1))}function p1(t,e,n,r){const{implicitKey:i,inFlow:s}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:l}=t;l!==ge.QUOTE_DOUBLE&&/[\\x00-\\x08\\x0b-\\x1f\\x7f-\\x9f\\u{D800}-\\u{DFFF}]/u.test(o.value)&&(l=ge.QUOTE_DOUBLE);const a=c=>{switch(c){case ge.BLOCK_FOLDED:case ge.BLOCK_LITERAL:return i||s?Hr(o.value,e):Mo(o,e,n,r);case ge.QUOTE_DOUBLE:return Qi(o.value,e);case ge.QUOTE_SINGLE:return fc(o.value,e);case ge.PLAIN:return h1(o,e,n,r);default:return null}};let u=a(l);if(u===null){const{defaultKeyType:c,defaultStringType:f}=e.options,h=i&&c||f;if(u=a(h),u===null)throw new Error(`Unsupported default string type ${h}`)}return u}function m1(t,e){const n=Object.assign({blockQuote:!0,commentString:d1,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function g1(t,e){var i;if(e.tag){const s=t.filter(o=>o.tag===e.tag);if(s.length>0)return s.find(o=>o.format===e.format)??s[0]}let n,r;if(we(e)){r=e.value;const s=t.filter(o=>{var l;return(l=o.identify)==null?void 0:l.call(o,r)});n=s.find(o=>o.format===e.format)??s.find(o=>!o.format)}else r=e,n=t.find(s=>s.nodeClass&&r instanceof s.nodeClass);if(!n){const s=((i=r==null?void 0:r.constructor)==null?void 0:i.name)??typeof r;throw new Error(`Tag not resolved for ${s} value`)}return n}function v1(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],s=(we(t)||et(t))&&t.anchor;s&&jy(s)&&(n.add(s),i.push(`&${s}`));const o=t.tag?t.tag:e.default?null:e.tag;return o&&i.push(r.directives.tagString(o)),i.join(" ")}function pl(t,e,n,r){var a;if(Oe(t))return t.toString(e,n,r);if(mi(t)){if(e.doc.directives)return t.toString(e);if((a=e.resolvedAliases)!=null&&a.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i;const s=Xe(t)?t:e.doc.createNode(t,{onTagObj:u=>i=u});i||(i=g1(e.doc.schema.tags,s));const o=v1(s,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const l=typeof i.stringify=="function"?i.stringify(s,e,n,r):we(s)?p1(s,e,n,r):s.toString(e,n,r);return o?we(s)||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}\n${e.indent}${l}`:l}function y1({key:t,value:e},n,r,i){const{allNullValues:s,doc:o,indent:l,indentStep:a,options:{commentString:u,indentSeq:c,simpleKeys:f}}=n;let h=Xe(t)&&t.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(et(t)){const b="With simple keys, collection cannot be used as a key value";throw new Error(b)}}let d=!f&&(!t||h&&e==null&&!n.inFlow||et(t)||(we(t)?t.type===ge.BLOCK_FOLDED||t.type===ge.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!d&&(f||!s),indent:l+a});let p=!1,v=!1,y=pl(t,n,()=>p=!0,()=>v=!0);if(!d&&!n.inFlow&&y.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(n.inFlow){if(s||e==null)return p&&r&&r(),y===""?"?":d?`? ${y}`:y}else if(s&&!f||e==null&&d)return y=`? ${y}`,h&&!p?y+=Xn(y,n.indent,u(h)):v&&i&&i(),y;p&&(h=null),d?(h&&(y+=Xn(y,n.indent,u(h))),y=`? ${y}\n${l}:`):(y=`${y}:`,h&&(y+=Xn(y,n.indent,u(h))));let m,g,E;Xe(e)?(m=!!e.spaceBefore,g=e.commentBefore,E=e.comment):(m=!1,g=null,E=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!d&&!h&&we(e)&&(n.indentAtStart=y.length+1),v=!1,!c&&a.length>=2&&!n.inFlow&&!d&&jd(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let w=!1;const D=pl(e,n,()=>w=!0,()=>v=!0);let _=" ";if(h||m||g){if(_=m?`\n`:"",g){const b=u(g);_+=`\n${vs(b,n.indent)}`}D===""&&!n.inFlow?_===`\n`&&(_=`\n\n`):_+=`\n${n.indent}`}else if(!d&&et(e)){const b=D[0],A=D.indexOf(`\n`),x=A!==-1,P=n.inFlow??e.flow??e.items.length===0;if(x||!P){let W=!1;if(x&&(b==="&"||b==="!")){let $=D.indexOf(" ");b==="&"&&$!==-1&&$<A&&D[$+1]==="!"&&($=D.indexOf(" ",$+1)),($===-1||A<$)&&(W=!0)}W||(_=`\n${n.indent}`)}}else(D===""||D[0]===`\n`)&&(_="");return y+=_+D,n.inFlow?w&&r&&r():E&&!w?y+=Xn(y,n.indent,u(E)):v&&i&&i(),y}function E1(t,e){(t==="debug"||t==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const yp="<<";function $y(t,e,{key:n,value:r}){if(t!=null&&t.doc.schema.merge&&S1(n))if(r=mi(r)?r.resolve(t.doc):r,jd(r))for(const i of r.items)$a(t,e,i);else if(Array.isArray(r))for(const i of r)$a(t,e,i);else $a(t,e,r);else{const i=Nt(n,"",t);if(e instanceof Map)e.set(i,Nt(r,i,t));else if(e instanceof Set)e.add(i);else{const s=w1(n,i,t),o=Nt(r,s,t);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o}}return e}const S1=t=>t===yp||we(t)&&t.value===yp&&(!t.type||t.type===ge.PLAIN);function $a(t,e,n){const r=t&&mi(n)?n.resolve(t.doc):n;if(!Yy(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,t,Map);for(const[s,o]of i)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function w1(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(Xe(t)&&n&&n.doc){const r=m1(n.doc,{});r.anchors=new Set;for(const s of n.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=t.toString(r);if(!n.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+\'..."\'),E1(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}function Wd(t,e,n){const r=hl(t,void 0,n),i=hl(e,void 0,n);return new Kt(r,i)}class Kt{constructor(e,n=null){Object.defineProperty(this,Yt,{value:Fy}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return Xe(n)&&(n=n.clone(e)),Xe(r)&&(r=r.clone(e)),new Kt(n,r)}toJSON(e,n){const r=n!=null&&n.mapAsMap?new Map:{};return $y(n,r,this)}toString(e,n,r){return e!=null&&e.doc?y1(this,e,n,r):JSON.stringify(this)}}function Gy(t,e,n){return(e.inFlow??t.flow?_1:T1)(t,e,n)}function T1({comment:t,items:e},n,{blockItemPrefix:r,flowChars:i,itemIndent:s,onChompKeep:o,onComment:l}){const{indent:a,options:{commentString:u}}=n,c=Object.assign({},n,{indent:s,type:null});let f=!1;const h=[];for(let p=0;p<e.length;++p){const v=e[p];let y=null;if(Xe(v))!f&&v.spaceBefore&&h.push(""),ml(n,h,v.commentBefore,f),v.comment&&(y=v.comment);else if(Oe(v)){const g=Xe(v.key)?v.key:null;g&&(!f&&g.spaceBefore&&h.push(""),ml(n,h,g.commentBefore,f))}f=!1;let m=pl(v,c,()=>y=null,()=>f=!0);y&&(m+=Xn(m,s,u(y))),f&&y&&(f=!1),h.push(r+m)}let d;if(h.length===0)d=i.start+i.end;else{d=h[0];for(let p=1;p<h.length;++p){const v=h[p];d+=v?`\n${a}${v}`:`\n`}}return t?(d+=`\n`+vs(u(t),a),l&&l()):f&&o&&o(),d}function _1({comment:t,items:e},n,{flowChars:r,itemIndent:i,onComment:s}){const{indent:o,indentStep:l,flowCollectionPadding:a,options:{commentString:u}}=n;i+=l;const c=Object.assign({},n,{indent:i,inFlow:!0,type:null});let f=!1,h=0;const d=[];for(let m=0;m<e.length;++m){const g=e[m];let E=null;if(Xe(g))g.spaceBefore&&d.push(""),ml(n,d,g.commentBefore,!1),g.comment&&(E=g.comment);else if(Oe(g)){const D=Xe(g.key)?g.key:null;D&&(D.spaceBefore&&d.push(""),ml(n,d,D.commentBefore,!1),D.comment&&(f=!0));const _=Xe(g.value)?g.value:null;_?(_.comment&&(E=_.comment),_.commentBefore&&(f=!0)):g.value==null&&D&&D.comment&&(E=D.comment)}E&&(f=!0);let w=pl(g,c,()=>E=null);m<e.length-1&&(w+=","),E&&(w+=Xn(w,i,u(E))),!f&&(d.length>h||w.includes(`\n`))&&(f=!0),d.push(w),h=d.length}let p;const{start:v,end:y}=r;if(d.length===0)p=v+y;else if(f||(f=d.reduce((g,E)=>g+E.length+2,2)>ea.maxFlowStringSingleLineLength),f){p=v;for(const m of d)p+=m?`\n${l}${o}${m}`:`\n`;p+=`\n${o}${y}`}else p=`${v}${a}${d.join(" ")}${a}${y}`;return t&&(p+=Xn(p,o,u(t)),s&&s()),p}function ml({indent:t,options:{commentString:e}},n,r,i){if(r&&i&&(r=r.replace(/^\\n+/,"")),r){const s=vs(e(r),t);n.push(s.trimStart())}}function Jn(t,e){const n=we(e)?e.value:e;for(const r of t)if(Oe(r)&&(r.key===e||r.key===n||we(r.key)&&r.key.value===n))return r}class _r extends ea{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(rr,e),this.items=[]}static from(e,n,r){const{keepUndefined:i,replacer:s}=r,o=new this(e),l=(a,u)=>{if(typeof s=="function")u=s.call(n,a,u);else if(Array.isArray(s)&&!s.includes(a))return;(u!==void 0||i)&&o.items.push(Wd(a,u,r))};if(n instanceof Map)for(const[a,u]of n)l(a,u);else if(n&&typeof n=="object")for(const a of Object.keys(n))l(a,n[a]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){var o;let r;Oe(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new Kt(e,e==null?void 0:e.value):r=new Kt(e.key,e.value);const i=Jn(this.items,r.key),s=(o=this.schema)==null?void 0:o.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);we(i.value)&&Vy(r.value)?i.value.value=r.value:i.value=r.value}else if(s){const l=this.items.findIndex(a=>s(r,a)<0);l===-1?this.items.push(r):this.items.splice(l,0,r)}else this.items.push(r)}delete(e){const n=Jn(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const r=Jn(this.items,e),i=r==null?void 0:r.value;return(!n&&we(i)?i.value:i)??void 0}has(e){return!!Jn(this.items,e)}set(e,n){this.add(new Kt(e,n),!0)}toJSON(e,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const s of this.items)$y(n,i,s);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(const i of this.items)if(!Oe(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Gy(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}class qy extends ea{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Rs,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=oo(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=oo(e);if(typeof r!="number")return;const i=this.items[r];return!n&&we(i)?i.value:i}has(e){const n=oo(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=oo(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[r];we(i)&&Vy(n)?i.value=n:this.items[r]=n}toJSON(e,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const s of this.items)r.push(Nt(s,String(i++),n));return r}toString(e,n,r){return e?Gy(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:i}=r,s=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let l of n){if(typeof i=="function"){const a=n instanceof Set?l:String(o++);l=i.call(n,a,l)}s.items.push(hl(l,void 0,r))}}return s}}function oo(t){let e=we(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function D1(t,e,n){const{replacer:r}=n,i=new qy(t);i.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof r=="function"&&(o=r.call(e,String(s++),o));let l,a;if(Array.isArray(o))if(o.length===2)l=o[0],a=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)l=u[0],a=o[l];else throw new TypeError(`Expected { key: value } tuple: ${o}`)}else l=o;i.items.push(Wd(l,a,n))}return i}class $d extends qy{constructor(){super(),this.add=_r.prototype.add.bind(this),this.delete=_r.prototype.delete.bind(this),this.get=_r.prototype.get.bind(this),this.has=_r.prototype.has.bind(this),this.set=_r.prototype.set.bind(this),this.tag=$d.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let s,o;if(Oe(i)?(s=Nt(i.key,"",n),o=Nt(i.value,s,n)):s=Nt(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}static from(e,n,r){const i=D1(e,n,r),s=new this;return s.items=i.items,s}}$d.tag="tag:yaml.org,2002:omap";class Gd extends _r{constructor(e){super(e),this.tag=Gd.tag}add(e){let n;Oe(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Kt(e.key,null):n=new Kt(e,null),Jn(this.items,n.key)||this.items.push(n)}get(e,n){const r=Jn(this.items,e);return!n&&Oe(r)?we(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Jn(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Kt(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:i}=r,s=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof i=="function"&&(o=i.call(n,o,o)),s.items.push(Wd(o,null,r));return s}}Gd.tag="tag:yaml.org,2002:set";var A1={exports:{}};(function(t){var e;(function(){e=t.exports})(),e.foldLength=75,e.newLineChar=`\\r\n`,e.helpers={updateTimezones:function(n){var r,i,s,o,l,a;if(!n||n.name!=="vcalendar")return n;for(r=n.getAllSubcomponents(),i=[],s={},l=0;l<r.length;l++)r[l].name==="vtimezone"?(a=r[l].getFirstProperty("tzid").getFirstValue(),s[a]=r[l]):i=i.concat(r[l].getAllProperties());for(o={},l=0;l<i.length;l++)(a=i[l].getParameter("tzid"))&&(o[a]=!0);for(l in s)s.hasOwnProperty(l)&&!o[l]&&n.removeSubcomponent(s[l]);for(l in o)o.hasOwnProperty(l)&&!s[l]&&e.TimezoneService.has(l)&&n.addSubcomponent(e.TimezoneService.get(l).component);return n},isStrictlyNaN:function(n){return typeof n=="number"&&isNaN(n)},strictParseInt:function(n){var r=parseInt(n,10);if(e.helpers.isStrictlyNaN(r))throw new Error(\'Could not extract integer from "\'+n+\'"\');return r},formatClassType:function(r,i){if(!(typeof r>"u"))return r instanceof i?r:new i(r)},unescapedIndexOf:function(n,r,i){for(;(i=n.indexOf(r,i))!==-1;)if(i>0&&n[i-1]==="\\\\")i+=1;else return i;return-1},binsearchInsert:function(n,r,i){if(!n.length)return 0;for(var s=0,o=n.length-1,l,a;s<=o;)if(l=s+Math.floor((o-s)/2),a=i(r,n[l]),a<0)o=l-1;else if(a>0)s=l+1;else break;return a<0?l:a>0?l+1:l},dumpn:function(){e.debug&&(typeof console<"u"&&"log"in console?e.helpers.dumpn=function(r){console.log(r)}:e.helpers.dumpn=function(r){dump(r+`\n`)},e.helpers.dumpn(arguments[0]))},clone:function(n,r){if(!n||typeof n!="object")return n;if(n instanceof Date)return new Date(n.getTime());if("clone"in n)return n.clone();if(Array.isArray(n)){for(var i=[],s=0;s<n.length;s++)i.push(r?e.helpers.clone(n[s],!0):n[s]);return i}else{var o={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(r?o[l]=e.helpers.clone(n[l],!0):o[l]=n[l]);return o}},foldline:function(r){for(var i="",s=r||"",o=0,l=0;s.length;){var a=s.codePointAt(o);a<128?++l:a<2048?l+=2:a<65536?l+=3:l+=4,l<e.foldLength+1?o+=a>65535?2:1:(i+=e.newLineChar+" "+s.substring(0,o),s=s.substring(o),o=l=0)}return i.substr(e.newLineChar.length+1)},pad2:function(r){typeof r!="string"&&(typeof r=="number"&&(r=parseInt(r)),r=String(r));var i=r.length;switch(i){case 0:return"00";case 1:return"0"+r;default:return r}},trunc:function(r){return r<0?Math.ceil(r):Math.floor(r)},inherits:function(n,r,i){function s(){}s.prototype=n.prototype,r.prototype=new s,i&&e.helpers.extend(i,r.prototype)},extend:function(n,r){for(var i in n){var s=Object.getOwnPropertyDescriptor(n,i);s&&!Object.getOwnPropertyDescriptor(r,i)&&Object.defineProperty(r,i,s)}return r}},e.design=function(){var n=/\\\\\\\\|\\\\;|\\\\,|\\\\[Nn]/g,r=/\\\\|;|,|\\n/g,i=/\\\\\\\\|\\\\,|\\\\[Nn]/g,s=/\\\\|,|\\n/g;function o(S,k){var R={matches:/.*/,fromICAL:function(N,Y){return g(N,S,Y)},toICAL:function(N,Y){var Re=k;return Y&&(Re=new RegExp(Re.source+"|"+Y)),N.replace(Re,function(Ae){switch(Ae){case"\\\\":return"\\\\\\\\";case";":return"\\\\;";case",":return"\\\\,";case`\n`:return"\\\\n";default:return Ae}})}};return R}var l={defaultType:"text"},a={defaultType:"text",multiValue:","},u={defaultType:"text",structuredValue:";"},c={defaultType:"integer"},f={defaultType:"date-time",allowedTypes:["date-time","date"]},h={defaultType:"date-time"},d={defaultType:"uri"},p={defaultType:"utc-offset"},v={defaultType:"recur"},y={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]};function m(S){switch(S){case"\\\\\\\\":return"\\\\";case"\\\\;":return";";case"\\\\,":return",";case"\\\\n":case"\\\\N":return`\n`;default:return S}}function g(S,k,R){return S.indexOf("\\\\")===-1?S:(R&&(k=new RegExp(k.source+"|\\\\\\\\"+R)),S.replace(k,m))}var E={categories:a,url:d,version:l,uid:l},w={boolean:{values:["TRUE","FALSE"],fromICAL:function(S){switch(S){case"TRUE":return!0;case"FALSE":return!1;default:return!1}},toICAL:function(S){return S?"TRUE":"FALSE"}},float:{matches:/^[+-]?\\d+\\.\\d+$/,fromICAL:function(S){var k=parseFloat(S);return e.helpers.isStrictlyNaN(k)?0:k},toICAL:function(S){return String(S)}},integer:{fromICAL:function(S){var k=parseInt(S);return e.helpers.isStrictlyNaN(k)?0:k},toICAL:function(S){return String(S)}},"utc-offset":{toICAL:function(S){return S.length<7?S.substr(0,3)+S.substr(4,2):S.substr(0,3)+S.substr(4,2)+S.substr(7,2)},fromICAL:function(S){return S.length<6?S.substr(0,3)+":"+S.substr(3,2):S.substr(0,3)+":"+S.substr(3,2)+":"+S.substr(5,2)},decorate:function(S){return e.UtcOffset.fromString(S)},undecorate:function(S){return S.toString()}}},D={cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE","BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:["NEEDS-ACTION","ACCEPTED","DECLINED","TENTATIVE","DELEGATED","COMPLETED","IN-PROCESS"],allowXName:!0,allowIanaToken:!0},range:{values:["THISANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\\//},value:{values:["binary","boolean","cal-address","date","date-time","duration","float","integer","period","recur","text","time","uri","utc-offset"],allowXName:!0,allowIanaToken:!0}},_=e.helpers.extend(w,{text:o(n,r),uri:{},binary:{decorate:function(S){return e.Binary.fromString(S)},undecorate:function(S){return S.toString()}},"cal-address":{},date:{decorate:function(S,k){return ye.strict?e.Time.fromDateString(S,k):e.Time.fromString(S,k)},undecorate:function(S){return S.toString()},fromICAL:function(S){return!ye.strict&&S.length>=15?_["date-time"].fromICAL(S):S.substr(0,4)+"-"+S.substr(4,2)+"-"+S.substr(6,2)},toICAL:function(S){var k=S.length;return k==10?S.substr(0,4)+S.substr(5,2)+S.substr(8,2):k>=19?_["date-time"].toICAL(S):S}},"date-time":{fromICAL:function(S){if(!ye.strict&&S.length==8)return _.date.fromICAL(S);var k=S.substr(0,4)+"-"+S.substr(4,2)+"-"+S.substr(6,2)+"T"+S.substr(9,2)+":"+S.substr(11,2)+":"+S.substr(13,2);return S[15]&&S[15]==="Z"&&(k+="Z"),k},toICAL:function(S){var k=S.length;if(k==10&&!ye.strict)return _.date.toICAL(S);if(k>=19){var R=S.substr(0,4)+S.substr(5,2)+S.substr(8,5)+S.substr(14,2)+S.substr(17,2);return S[19]&&S[19]==="Z"&&(R+="Z"),R}else return S},decorate:function(S,k){return ye.strict?e.Time.fromDateTimeString(S,k):e.Time.fromString(S,k)},undecorate:function(S){return S.toString()}},duration:{decorate:function(S){return e.Duration.fromString(S)},undecorate:function(S){return S.toString()}},period:{fromICAL:function(S){var k=S.split("/");return k[0]=_["date-time"].fromICAL(k[0]),e.Duration.isValueString(k[1])||(k[1]=_["date-time"].fromICAL(k[1])),k},toICAL:function(S){return!ye.strict&&S[0].length==10?S[0]=_.date.toICAL(S[0]):S[0]=_["date-time"].toICAL(S[0]),e.Duration.isValueString(S[1])||(!ye.strict&&S[1].length==10?S[1]=_.date.toICAL(S[1]):S[1]=_["date-time"].toICAL(S[1])),S.join("/")},decorate:function(S,k){return e.Period.fromJSON(S,k,!ye.strict)},undecorate:function(S){return S.toJSON()}},recur:{fromICAL:function(S){return e.Recur._stringToData(S,!0)},toICAL:function(S){var k="";for(var R in S)if(Object.prototype.hasOwnProperty.call(S,R)){var N=S[R];R=="until"?N.length>10?N=_["date-time"].toICAL(N):N=_.date.toICAL(N):R=="wkst"?typeof N=="number"&&(N=e.Recur.numericDayToIcalDay(N)):Array.isArray(N)&&(N=N.join(",")),k+=R.toUpperCase()+"="+N+";"}return k.substr(0,k.length-1)},decorate:function(k){return e.Recur.fromData(k)},undecorate:function(S){return S.toJSON()}},time:{fromICAL:function(S){if(S.length<6)return S;var k=S.substr(0,2)+":"+S.substr(2,2)+":"+S.substr(4,2);return S[6]==="Z"&&(k+="Z"),k},toICAL:function(S){if(S.length<8)return S;var k=S.substr(0,2)+S.substr(3,2)+S.substr(6,2);return S[8]==="Z"&&(k+="Z"),k}}}),b=e.helpers.extend(E,{action:l,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:l,class:l,comment:l,completed:h,contact:l,created:h,description:l,dtend:f,dtstamp:h,dtstart:f,due:f,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:v,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":h,location:l,method:l,organizer:{defaultType:"cal-address"},"percent-complete":c,priority:c,prodid:l,"related-to":l,repeat:c,rdate:{defaultType:"date-time",allowedTypes:["date-time","date","period"],multiValue:",",detectType:function(S){return S.indexOf("/")!==-1?"period":S.indexOf("T")===-1?"date":"date-time"}},"recurrence-id":f,resources:a,"request-status":u,rrule:v,sequence:c,status:l,summary:l,transp:l,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:p,tzoffsetto:p,tzurl:d,tzid:l,tzname:l}),A=e.helpers.extend(w,{text:o(i,s),uri:o(i,s),date:{decorate:function(S){return e.VCardTime.fromDateAndOrTimeString(S,"date")},undecorate:function(S){return S.toString()},fromICAL:function(S){return S.length==8?_.date.fromICAL(S):S[0]=="-"&&S.length==6?S.substr(0,4)+"-"+S.substr(4):S},toICAL:function(S){return S.length==10?_.date.toICAL(S):S[0]=="-"&&S.length==7?S.substr(0,4)+S.substr(5):S}},time:{decorate:function(S){return e.VCardTime.fromDateAndOrTimeString("T"+S,"time")},undecorate:function(S){return S.toString()},fromICAL:function(S){var k=A.time._splitZone(S,!0),R=k[0],N=k[1];return N.length==6?N=N.substr(0,2)+":"+N.substr(2,2)+":"+N.substr(4,2):N.length==4&&N[0]!="-"?N=N.substr(0,2)+":"+N.substr(2,2):N.length==5&&(N=N.substr(0,3)+":"+N.substr(3,2)),R.length==5&&(R[0]=="-"||R[0]=="+")&&(R=R.substr(0,3)+":"+R.substr(3)),N+R},toICAL:function(S){var k=A.time._splitZone(S),R=k[0],N=k[1];return N.length==8?N=N.substr(0,2)+N.substr(3,2)+N.substr(6,2):N.length==5&&N[0]!="-"?N=N.substr(0,2)+N.substr(3,2):N.length==6&&(N=N.substr(0,3)+N.substr(4,2)),R.length==6&&(R[0]=="-"||R[0]=="+")&&(R=R.substr(0,3)+R.substr(4)),N+R},_splitZone:function(S,k){var R=S.length-1,N=S.length-(k?5:6),Y=S[N],Re,Ae;return S[R]=="Z"?(Re=S[R],Ae=S.substr(0,R)):S.length>6&&(Y=="-"||Y=="+")?(Re=S.substr(N),Ae=S.substr(0,N)):(Re="",Ae=S),[Re,Ae]}},"date-time":{decorate:function(S){return e.VCardTime.fromDateAndOrTimeString(S,"date-time")},undecorate:function(S){return S.toString()},fromICAL:function(S){return A["date-and-or-time"].fromICAL(S)},toICAL:function(S){return A["date-and-or-time"].toICAL(S)}},"date-and-or-time":{decorate:function(S){return e.VCardTime.fromDateAndOrTimeString(S,"date-and-or-time")},undecorate:function(S){return S.toString()},fromICAL:function(S){var k=S.split("T");return(k[0]?A.date.fromICAL(k[0]):"")+(k[1]?"T"+A.time.fromICAL(k[1]):"")},toICAL:function(S){var k=S.split("T");return A.date.toICAL(k[0])+(k[1]?"T"+A.time.toICAL(k[1]):"")}},timestamp:_["date-time"],"language-tag":{matches:/^[a-zA-Z0-9-]+$/}}),x={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","time","date-time","date-and-or-time","timestamp","boolean","integer","float","utc-offset","language-tag"],allowXName:!0,allowIanaToken:!0}},P=e.helpers.extend(E,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:y,bday:y,caladruri:d,caluri:d,clientpidmap:u,email:l,fburl:d,fn:l,gender:u,geo:d,impp:d,key:d,kind:l,lang:{defaultType:"language-tag"},logo:d,member:d,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:a,note:l,org:{defaultType:"text",structuredValue:";"},photo:d,related:d,rev:{defaultType:"timestamp"},role:l,sound:d,source:d,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:l,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:l}),W=e.helpers.extend(w,{binary:_.binary,date:A.date,"date-time":A["date-time"],"phone-number":{},uri:_.uri,text:_.text,time:_.time,vcard:_.text,"utc-offset":{toICAL:function(S){return S.substr(0,7)},fromICAL:function(S){return S.substr(0,7)},decorate:function(S){return e.UtcOffset.fromString(S)},undecorate:function(S){return S.toString()}}}),$={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","date-time","phone-number","time","boolean","integer","float","utc-offset","vcard","binary"],allowXName:!0,allowIanaToken:!0}},Te=e.helpers.extend(E,{fn:l,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:a,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(S){return S.indexOf("T")===-1?"date":"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:l,tel:{defaultType:"phone-number"},email:l,mailer:l,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:l,role:l,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:u,note:a,prodid:l,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(S){return S.indexOf("T")===-1?"date":"date-time"}},"sort-string":l,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:l,key:{defaultType:"binary",allowedTypes:["binary","text"]}}),se={value:_,param:D,property:b},ne={value:A,param:x,property:P},ct={value:W,param:$,property:Te},ye={strict:!0,defaultSet:se,defaultType:"unknown",components:{vcard:ne,vcard3:ct,vevent:se,vtodo:se,vjournal:se,valarm:se,vtimezone:se,daylight:se,standard:se},icalendar:se,vcard:ne,vcard3:ct,getDesignSet:function(S){var k=S&&S in ye.components;return k?ye.components[S]:ye.defaultSet}};return ye}(),e.stringify=function(){var n=`\\r\n`,r="unknown",i=e.design,s=e.helpers;function o(a){typeof a[0]=="string"&&(a=[a]);for(var u=0,c=a.length,f="";u<c;u++)f+=o.component(a[u])+n;return f}o.component=function(a,u){var c=a[0].toUpperCase(),f="BEGIN:"+c+n,h=a[1],d=0,p=h.length,v=a[0];for(v==="vcard"&&a[1].length>0&&!(a[1][0][0]==="version"&&a[1][0][3]==="4.0")&&(v="vcard3"),u=u||i.getDesignSet(v);d<p;d++)f+=o.property(h[d],u)+n;for(var y=a[2]||[],m=0,g=y.length;m<g;m++)f+=o.component(y[m],u)+n;return f+="END:"+c,f},o.property=function(a,u,c){var f=a[0].toUpperCase(),h=a[0],d=a[1],p=f,v;for(v in d){var y=d[v];if(d.hasOwnProperty(v)){var E=v in u.param&&u.param[v].multiValue;E&&Array.isArray(y)?(u.param[v].multiValueSeparateDQuote&&(E=\'"\'+E+\'"\'),y=y.map(o._rfc6868Unescape),y=o.multiValue(y,E,"unknown",null,u)):y=o._rfc6868Unescape(y),p+=";"+v.toUpperCase(),p+="="+o.propertyValue(y)}}if(a.length===3)return p+":";var m=a[2];u||(u=i.defaultSet);var g,E=!1,w=!1,D=!1;return h in u.property?(g=u.property[h],"multiValue"in g&&(E=g.multiValue),"structuredValue"in g&&Array.isArray(a[3])&&(w=g.structuredValue),"defaultType"in g?m===g.defaultType&&(D=!0):m===r&&(D=!0)):m===r&&(D=!0),D||(p+=";VALUE="+m.toUpperCase()),p+=":",E&&w?p+=o.multiValue(a[3],w,m,E,u,w):E?p+=o.multiValue(a.slice(3),E,m,null,u,!1):w?p+=o.multiValue(a[3],w,m,null,u,w):p+=o.value(a[3],m,u,!1),c?p:e.helpers.foldline(p)},o.propertyValue=function(a){return s.unescapedIndexOf(a,",")===-1&&s.unescapedIndexOf(a,":")===-1&&s.unescapedIndexOf(a,";")===-1?a:\'"\'+a+\'"\'},o.multiValue=function(a,u,c,f,h,d){for(var p="",v=a.length,y=0;y<v;y++)f&&Array.isArray(a[y])?p+=o.multiValue(a[y],f,c,null,h,d):p+=o.value(a[y],c,h,d),y!==v-1&&(p+=u);return p},o.value=function(a,u,c,f){return u in c.value&&"toICAL"in c.value[u]?c.value[u].toICAL(a,f):a},o._rfc6868Unescape=function(a){return a.replace(/[\\n^"]/g,function(u){return l[u]})};var l={\'"\':"^\'","\\n":"^n","^":"^^"};return o}(),e.parse=function(){var n=/[^ \\t]/,r=":",i=";",s="=",o="unknown",l="text",a=e.design,u=e.helpers;function c(d){this.message=d,this.name="ParserError";try{throw new Error}catch(v){if(v.stack){var p=v.stack.split(`\n`);p.shift(),this.stack=p.join(`\n`)}}}c.prototype=Error.prototype;function f(d){var p={},v=p.component=[];if(p.stack=[v],f._eachLine(d,function(y,m){f._handleContentLine(m,p)}),p.stack.length>1)throw new c("invalid ical body. component began but did not end");return p=null,v.length==1?v[0]:v}f.property=function(d,p){var v={component:[[],[]],designSet:p||a.defaultSet};return f._handleContentLine(d,v),v.component[1][0]},f.component=function(d){return f(d)},f.ParserError=c,f._handleContentLine=function(d,p){var v=d.indexOf(r),y=d.indexOf(i),m,g,E,w,D={};y!==-1&&v!==-1&&y>v&&(y=-1);var _;if(y!==-1){if(E=d.substring(0,y).toLowerCase(),_=f._parseParameters(d.substring(y),0,p.designSet),_[2]==-1)throw new c("Invalid parameters in \'"+d+"\'");if(D=_[0],m=_[1].length+_[2]+y,(g=d.substring(m).indexOf(r))!==-1)w=d.substring(m+g+1);else throw new c("Missing parameter value in \'"+d+"\'")}else if(v!==-1){if(E=d.substring(0,v).toLowerCase(),w=d.substring(v+1),E==="begin"){var b=[w.toLowerCase(),[],[]];p.stack.length===1?p.component.push(b):p.component[2].push(b),p.stack.push(p.component),p.component=b,p.designSet||(p.designSet=a.getDesignSet(p.component[0]));return}else if(E==="end"){p.component=p.stack.pop();return}}else throw new c(\'invalid line (no token ";" or ":") "\'+d+\'"\');var A,x=!1,P=!1,W;E in p.designSet.property&&(W=p.designSet.property[E],"multiValue"in W&&(x=W.multiValue),"structuredValue"in W&&(P=W.structuredValue),w&&"detectType"in W&&(A=W.detectType(w))),A||("value"in D?A=D.value.toLowerCase():W?A=W.defaultType:A=o),delete D.value;var $;x&&P?(w=f._parseMultiValue(w,P,A,[],x,p.designSet,P),$=[E,D,A,w]):x?($=[E,D,A],f._parseMultiValue(w,x,A,$,null,p.designSet,!1)):P?(w=f._parseMultiValue(w,P,A,[],null,p.designSet,P),$=[E,D,A,w]):(w=f._parseValue(w,A,p.designSet,!1),$=[E,D,A,w]),p.component[0]==="vcard"&&p.component[1].length===0&&!(E==="version"&&w==="4.0")&&(p.designSet=a.getDesignSet("vcard3")),p.component[1].push($)},f._parseValue=function(d,p,v,y){return p in v.value&&"fromICAL"in v.value[p]?v.value[p].fromICAL(d,y):d},f._parseParameters=function(d,p,v){for(var y=p,m=0,g=s,E={},w,D,_,b=-1,A,x,P;m!==!1&&(m=u.unescapedIndexOf(d,g,m+1))!==-1;){if(w=d.substr(y+1,m-y-1),w.length==0)throw new c("Empty parameter name in \'"+d+"\'");D=w.toLowerCase(),P=!1,x=!1,D in v.param&&v.param[D].valueType?A=v.param[D].valueType:A=l,D in v.param&&(x=v.param[D].multiValue,v.param[D].multiValueSeparateDQuote&&(P=f._rfc6868Escape(\'"\'+x+\'"\')));var W=d[m+1];if(W===\'"\'){if(b=m+2,m=u.unescapedIndexOf(d,\'"\',b),x&&m!=-1)for(var $=!0;$;)d[m+1]==x&&d[m+2]==\'"\'?m=u.unescapedIndexOf(d,\'"\',m+3):$=!1;if(m===-1)throw new c(\'invalid line (no matching double quote) "\'+d+\'"\');_=d.substr(b,m-b),y=u.unescapedIndexOf(d,i,m),y===-1&&(m=!1)}else{b=m+1;var Te=u.unescapedIndexOf(d,i,b),se=u.unescapedIndexOf(d,r,b);se!==-1&&Te>se?(Te=se,m=!1):Te===-1?(se===-1?Te=d.length:Te=se,m=!1):(y=Te,m=Te),_=d.substr(b,Te-b)}if(_=f._rfc6868Escape(_),x){var ne=P||x;_=f._parseMultiValue(_,ne,A,[],null,v)}else _=f._parseValue(_,A,v);x&&D in E?Array.isArray(E[D])?E[D].push(_):E[D]=[E[D],_]:E[D]=_}return[E,_,b]},f._rfc6868Escape=function(d){return d.replace(/\\^[\'n^]/g,function(p){return h[p]})};var h={"^\'":\'"\',"^n":`\n`,"^^":"^"};return f._parseMultiValue=function(d,p,v,y,m,g,E){var w=0,D=0,_;if(p.length===0)return d;for(;(w=u.unescapedIndexOf(d,p,D))!==-1;)_=d.substr(D,w-D),m?_=f._parseMultiValue(_,m,v,[],null,g,E):_=f._parseValue(_,v,g,E),y.push(_),D=w+p.length;return _=d.substr(D),m?_=f._parseMultiValue(_,m,v,[],null,g,E):_=f._parseValue(_,v,g,E),y.push(_),y.length==1?y[0]:y},f._eachLine=function(d,p){var v=d.length,y=d.search(n),m=y,g,E,w;do m=d.indexOf(`\n`,y)+1,m>1&&d[m-2]==="\\r"?w=2:w=1,m===0&&(m=v,w=0),E=d[y],E===" "||E==="	"?g+=d.substr(y+1,m-y-(w+1)):(g&&p(null,g),g=d.substr(y,m-y-w)),y=m;while(m!==v);g=g.trim(),g.length&&p(null,g)},f}(),e.Component=function(){var n=1,r=2,i=0;function s(o,l){typeof o=="string"&&(o=[o,[],[]]),this.jCal=o,this.parent=l||null}return s.prototype={_hydratedPropertyCount:0,_hydratedComponentCount:0,get name(){return this.jCal[i]},get _designSet(){var o=this.parent&&this.parent._designSet;return o||e.design.getDesignSet(this.name)},_hydrateComponent:function(o){if(this._components||(this._components=[],this._hydratedComponentCount=0),this._components[o])return this._components[o];var l=new s(this.jCal[r][o],this);return this._hydratedComponentCount++,this._components[o]=l},_hydrateProperty:function(o){if(this._properties||(this._properties=[],this._hydratedPropertyCount=0),this._properties[o])return this._properties[o];var l=new e.Property(this.jCal[n][o],this);return this._hydratedPropertyCount++,this._properties[o]=l},getFirstSubcomponent:function(o){if(o){for(var l=0,a=this.jCal[r],u=a.length;l<u;l++)if(a[l][i]===o){var c=this._hydrateComponent(l);return c}}else if(this.jCal[r].length)return this._hydrateComponent(0);return null},getAllSubcomponents:function(o){var l=this.jCal[r].length,a=0;if(o){for(var u=this.jCal[r],c=[];a<l;a++)o===u[a][i]&&c.push(this._hydrateComponent(a));return c}else{if(!this._components||this._hydratedComponentCount!==l)for(;a<l;a++)this._hydrateComponent(a);return this._components||[]}},hasProperty:function(o){for(var l=this.jCal[n],a=l.length,u=0;u<a;u++)if(l[u][i]===o)return!0;return!1},getFirstProperty:function(o){if(o){for(var l=0,a=this.jCal[n],u=a.length;l<u;l++)if(a[l][i]===o){var c=this._hydrateProperty(l);return c}}else if(this.jCal[n].length)return this._hydrateProperty(0);return null},getFirstPropertyValue:function(o){var l=this.getFirstProperty(o);return l?l.getFirstValue():null},getAllProperties:function(o){var l=this.jCal[n].length,a=0;if(o){for(var u=this.jCal[n],c=[];a<l;a++)o===u[a][i]&&c.push(this._hydrateProperty(a));return c}else{if(!this._properties||this._hydratedPropertyCount!==l)for(;a<l;a++)this._hydrateProperty(a);return this._properties||[]}},_removeObjectByIndex:function(o,l,a){if(l=l||[],l[a]){var u=l[a];"parent"in u&&(u.parent=null)}l.splice(a,1),this.jCal[o].splice(a,1)},_removeObject:function(o,l,a){var u=0,c=this.jCal[o],f=c.length,h=this[l];if(typeof a=="string"){for(;u<f;u++)if(c[u][i]===a)return this._removeObjectByIndex(o,h,u),!0}else if(h){for(;u<f;u++)if(h[u]&&h[u]===a)return this._removeObjectByIndex(o,h,u),!0}return!1},_removeAllObjects:function(o,l,a){for(var u=this[l],c=this.jCal[o],f=c.length-1;f>=0;f--)(!a||c[f][i]===a)&&this._removeObjectByIndex(o,u,f)},addSubcomponent:function(o){this._components||(this._components=[],this._hydratedComponentCount=0),o.parent&&o.parent.removeSubcomponent(o);var l=this.jCal[r].push(o.jCal);return this._components[l-1]=o,this._hydratedComponentCount++,o.parent=this,o},removeSubcomponent:function(o){var l=this._removeObject(r,"_components",o);return l&&this._hydratedComponentCount--,l},removeAllSubcomponents:function(o){var l=this._removeAllObjects(r,"_components",o);return this._hydratedComponentCount=0,l},addProperty:function(o){if(!(o instanceof e.Property))throw new TypeError("must instance of ICAL.Property");this._properties||(this._properties=[],this._hydratedPropertyCount=0),o.parent&&o.parent.removeProperty(o);var l=this.jCal[n].push(o.jCal);return this._properties[l-1]=o,this._hydratedPropertyCount++,o.parent=this,o},addPropertyWithValue:function(o,l){var a=new e.Property(o);return a.setValue(l),this.addProperty(a),a},updatePropertyWithValue:function(o,l){var a=this.getFirstProperty(o);return a?a.setValue(l):a=this.addPropertyWithValue(o,l),a},removeProperty:function(o){var l=this._removeObject(n,"_properties",o);return l&&this._hydratedPropertyCount--,l},removeAllProperties:function(o){var l=this._removeAllObjects(n,"_properties",o);return this._hydratedPropertyCount=0,l},toJSON:function(){return this.jCal},toString:function(){return e.stringify.component(this.jCal,this._designSet)}},s.fromString=function(o){return new s(e.parse.component(o))},s}(),e.Property=function(){var n=0,r=1,i=2,s=3,o=e.design;function l(a,u){this._parent=u||null,typeof a=="string"?(this.jCal=[a,{},o.defaultType],this.jCal[i]=this.getDefaultType()):this.jCal=a,this._updateType()}return l.prototype={get type(){return this.jCal[i]},get name(){return this.jCal[n]},get parent(){return this._parent},set parent(a){var u=!this._parent||a&&a._designSet!=this._parent._designSet;return this._parent=a,this.type==o.defaultType&&u&&(this.jCal[i]=this.getDefaultType(),this._updateType()),a},get _designSet(){return this.parent?this.parent._designSet:o.defaultSet},_updateType:function(){var a=this._designSet;this.type in a.value&&(a.value[this.type],"decorate"in a.value[this.type]?this.isDecorated=!0:this.isDecorated=!1,this.name in a.property&&(this.isMultiValue="multiValue"in a.property[this.name],this.isStructuredValue="structuredValue"in a.property[this.name]))},_hydrateValue:function(a){return this._values&&this._values[a]?this._values[a]:this.jCal.length<=s+a?null:this.isDecorated?(this._values||(this._values=[]),this._values[a]=this._decorate(this.jCal[s+a])):this.jCal[s+a]},_decorate:function(a){return this._designSet.value[this.type].decorate(a,this)},_undecorate:function(a){return this._designSet.value[this.type].undecorate(a,this)},_setDecoratedValue:function(a,u){this._values||(this._values=[]),typeof a=="object"&&"icaltype"in a?(this.jCal[s+u]=this._undecorate(a),this._values[u]=a):(this.jCal[s+u]=a,this._values[u]=this._decorate(a))},getParameter:function(a){if(a in this.jCal[r])return this.jCal[r][a]},getFirstParameter:function(a){var u=this.getParameter(a);return Array.isArray(u)?u[0]:u},setParameter:function(a,u){var c=a.toLowerCase();typeof u=="string"&&c in this._designSet.param&&"multiValue"in this._designSet.param[c]&&(u=[u]),this.jCal[r][a]=u},removeParameter:function(a){delete this.jCal[r][a]},getDefaultType:function(){var a=this.jCal[n],u=this._designSet;if(a in u.property){var c=u.property[a];if("defaultType"in c)return c.defaultType}return o.defaultType},resetType:function(a){this.removeAllValues(),this.jCal[i]=a,this._updateType()},getFirstValue:function(){return this._hydrateValue(0)},getValues:function(){var a=this.jCal.length-s;if(a<1)return[];for(var u=0,c=[];u<a;u++)c[u]=this._hydrateValue(u);return c},removeAllValues:function(){this._values&&(this._values.length=0),this.jCal.length=3},setValues:function(a){if(!this.isMultiValue)throw new Error(this.name+`: does not not support mulitValue.\noverride isMultiValue`);var u=a.length,c=0;if(this.removeAllValues(),u>0&&typeof a[0]=="object"&&"icaltype"in a[0]&&this.resetType(a[0].icaltype),this.isDecorated)for(;c<u;c++)this._setDecoratedValue(a[c],c);else for(;c<u;c++)this.jCal[s+c]=a[c]},setValue:function(a){this.removeAllValues(),typeof a=="object"&&"icaltype"in a&&this.resetType(a.icaltype),this.isDecorated?this._setDecoratedValue(a,0):this.jCal[s]=a},toJSON:function(){return this.jCal},toICALString:function(){return e.stringify.property(this.jCal,this._designSet,!0)}},l.fromString=function(a,u){return new l(e.parse.property(a,u))},l}(),e.UtcOffset=function(){function n(r){this.fromData(r)}return n.prototype={hours:0,minutes:0,factor:1,icaltype:"utc-offset",clone:function(){return e.UtcOffset.fromSeconds(this.toSeconds())},fromData:function(r){if(r)for(var i in r)r.hasOwnProperty(i)&&(this[i]=r[i]);this._normalize()},fromSeconds:function(r){var i=Math.abs(r);return this.factor=r<0?-1:1,this.hours=e.helpers.trunc(i/3600),i-=this.hours*3600,this.minutes=e.helpers.trunc(i/60),this},toSeconds:function(){return this.factor*(60*this.minutes+3600*this.hours)},compare:function(i){var s=this.toSeconds(),o=i.toSeconds();return(s>o)-(o>s)},_normalize:function(){for(var r=this.toSeconds(),i=this.factor;r<-43200;)r+=97200;for(;r>50400;)r-=97200;this.fromSeconds(r),r==0&&(this.factor=i)},toICALString:function(){return e.design.icalendar.value["utc-offset"].toICAL(this.toString())},toString:function(){return(this.factor==1?"+":"-")+e.helpers.pad2(this.hours)+":"+e.helpers.pad2(this.minutes)}},n.fromString=function(r){var i={};return i.factor=r[0]==="+"?1:-1,i.hours=e.helpers.strictParseInt(r.substr(1,2)),i.minutes=e.helpers.strictParseInt(r.substr(4,2)),new e.UtcOffset(i)},n.fromSeconds=function(r){var i=new n;return i.fromSeconds(r),i},n}(),e.Binary=function(){function n(r){this.value=r}return n.prototype={icaltype:"binary",decodeValue:function(){return this._b64_decode(this.value)},setEncodedValue:function(i){this.value=this._b64_encode(i)},_b64_encode:function(i){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o,l,a,u,c,f,h,d,p=0,v=0,y="",m=[];if(!i)return i;do o=i.charCodeAt(p++),l=i.charCodeAt(p++),a=i.charCodeAt(p++),d=o<<16|l<<8|a,u=d>>18&63,c=d>>12&63,f=d>>6&63,h=d&63,m[v++]=s.charAt(u)+s.charAt(c)+s.charAt(f)+s.charAt(h);while(p<i.length);y=m.join("");var g=i.length%3;return(g?y.slice(0,g-3):y)+"===".slice(g||3)},_b64_decode:function(i){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o,l,a,u,c,f,h,d,p=0,v=0,y="",m=[];if(!i)return i;i+="";do u=s.indexOf(i.charAt(p++)),c=s.indexOf(i.charAt(p++)),f=s.indexOf(i.charAt(p++)),h=s.indexOf(i.charAt(p++)),d=u<<18|c<<12|f<<6|h,o=d>>16&255,l=d>>8&255,a=d&255,f==64?m[v++]=String.fromCharCode(o):h==64?m[v++]=String.fromCharCode(o,l):m[v++]=String.fromCharCode(o,l,a);while(p<i.length);return y=m.join(""),y},toString:function(){return this.value}},n.fromString=function(r){return new n(r)},n}(),function(){e.Period=function(r){if(this.wrappedJSObject=this,r&&"start"in r){if(r.start&&!(r.start instanceof e.Time))throw new TypeError(".start must be an instance of ICAL.Time");this.start=r.start}if(r&&r.end&&r.duration)throw new Error("cannot accept both end and duration");if(r&&"end"in r){if(r.end&&!(r.end instanceof e.Time))throw new TypeError(".end must be an instance of ICAL.Time");this.end=r.end}if(r&&"duration"in r){if(r.duration&&!(r.duration instanceof e.Duration))throw new TypeError(".duration must be an instance of ICAL.Duration");this.duration=r.duration}},e.Period.prototype={start:null,end:null,duration:null,icalclass:"icalperiod",icaltype:"period",clone:function(){return e.Period.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})},getDuration:function(){return this.duration?this.duration:this.end.subtractDate(this.start)},getEnd:function(){if(this.end)return this.end;var n=this.start.clone();return n.addDuration(this.duration),n},toString:function(){return this.start+"/"+(this.end||this.duration)},toJSON:function(){return[this.start.toString(),(this.end||this.duration).toString()]},toICALString:function(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}},e.Period.fromString=function(r,i){var s=r.split("/");if(s.length!==2)throw new Error(\'Invalid string value: "\'+r+\'" must contain a "/" char.\');var o={start:e.Time.fromDateTimeString(s[0],i)},l=s[1];return e.Duration.isValueString(l)?o.duration=e.Duration.fromString(l):o.end=e.Time.fromDateTimeString(l,i),new e.Period(o)},e.Period.fromData=function(r){return new e.Period(r)},e.Period.fromJSON=function(n,r,i){function s(o,l){return i?e.Time.fromString(o,l):e.Time.fromDateTimeString(o,l)}return e.Duration.isValueString(n[1])?e.Period.fromData({start:s(n[0],r),duration:e.Duration.fromString(n[1])}):e.Period.fromData({start:s(n[0],r),end:s(n[1],r)})}}(),function(){var n=/([PDWHMTS]{1,1})/;e.Duration=function(s){this.wrappedJSObject=this,this.fromData(s)},e.Duration.prototype={weeks:0,days:0,hours:0,minutes:0,seconds:0,isNegative:!1,icalclass:"icalduration",icaltype:"duration",clone:function(){return e.Duration.fromData(this)},toSeconds:function(){var s=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-s:s},fromSeconds:function(s){var o=Math.abs(s);return this.isNegative=s<0,this.days=e.helpers.trunc(o/86400),this.days%7==0?(this.weeks=this.days/7,this.days=0):this.weeks=0,o-=(this.days+7*this.weeks)*86400,this.hours=e.helpers.trunc(o/3600),o-=this.hours*3600,this.minutes=e.helpers.trunc(o/60),o-=this.minutes*60,this.seconds=o,this},fromData:function(s){var o=["weeks","days","hours","minutes","seconds","isNegative"];for(var l in o)if(o.hasOwnProperty(l)){var a=o[l];s&&a in s?this[a]=s[a]:this[a]=0}},reset:function(){this.isNegative=!1,this.weeks=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0},compare:function(s){var o=this.toSeconds(),l=s.toSeconds();return(o>l)-(o<l)},normalize:function(){this.fromSeconds(this.toSeconds())},toString:function(){if(this.toSeconds()==0)return"PT0S";var s="";return this.isNegative&&(s+="-"),s+="P",this.weeks&&(s+=this.weeks+"W"),this.days&&(s+=this.days+"D"),(this.hours||this.minutes||this.seconds)&&(s+="T",this.hours&&(s+=this.hours+"H"),this.minutes&&(s+=this.minutes+"M"),this.seconds&&(s+=this.seconds+"S")),s},toICALString:function(){return this.toString()}},e.Duration.fromSeconds=function(s){return new e.Duration().fromSeconds(s)};function r(i,s,o){var l;switch(i){case"P":s&&s==="-"?o.isNegative=!0:o.isNegative=!1;break;case"D":l="days";break;case"W":l="weeks";break;case"H":l="hours";break;case"M":l="minutes";break;case"S":l="seconds";break;default:return 0}if(l){if(!s&&s!==0)throw new Error(\'invalid duration value: Missing number before "\'+i+\'"\');var a=parseInt(s,10);if(e.helpers.isStrictlyNaN(a))throw new Error(\'invalid duration value: Invalid number "\'+s+\'" before "\'+i+\'"\');o[l]=a}return 1}e.Duration.isValueString=function(i){return i[0]==="P"||i[1]==="P"},e.Duration.fromString=function(s){for(var o=0,l=Object.create(null),a=0;(o=s.search(n))!==-1;){var u=s[o],c=s.substr(0,o);s=s.substr(o+1),a+=r(u,c,l)}if(a<2)throw new Error(\'invalid duration value: Not enough duration components in "\'+s+\'"\');return new e.Duration(l)},e.Duration.fromData=function(s){return new e.Duration(s)}}(),function(){var n=["tzid","location","tznames","latitude","longitude"];e.Timezone=function(i){this.wrappedJSObject=this,this.fromData(i)},e.Timezone.prototype={tzid:"",location:"",tznames:"",latitude:0,longitude:0,component:null,expandedUntilYear:0,icalclass:"icaltimezone",fromData:function(i){if(this.expandedUntilYear=0,this.changes=[],i instanceof e.Component)this.component=i;else{if(i&&"component"in i)if(typeof i.component=="string"){var s=e.parse(i.component);this.component=new e.Component(s)}else i.component instanceof e.Component?this.component=i.component:this.component=null;for(var o in n)if(n.hasOwnProperty(o)){var l=n[o];i&&l in i&&(this[l]=i[l])}}return this.component instanceof e.Component&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid")),this},utcOffset:function(i){if(this==e.Timezone.utcTimezone||this==e.Timezone.localTimezone||(this._ensureCoverage(i.year),!this.changes.length))return 0;for(var s={year:i.year,month:i.month,day:i.day,hour:i.hour,minute:i.minute,second:i.second},o=this._findNearbyChange(s),l=-1,a=1;;){var u=e.helpers.clone(this.changes[o],!0);u.utcOffset<u.prevUtcOffset?e.Timezone.adjust_change(u,0,0,0,u.utcOffset):e.Timezone.adjust_change(u,0,0,0,u.prevUtcOffset);var c=e.Timezone._compare_change_fn(s,u);if(c>=0?l=o:a=-1,a==-1&&l!=-1)break;if(o+=a,o<0)return 0;if(o>=this.changes.length)break}var f=this.changes[l],h=f.utcOffset-f.prevUtcOffset;if(h<0&&l>0){var d=e.helpers.clone(f,!0);if(e.Timezone.adjust_change(d,0,0,0,d.prevUtcOffset),e.Timezone._compare_change_fn(s,d)<0){var p=this.changes[l-1],v=!1;f.is_daylight!=v&&p.is_daylight==v&&(f=p)}}return f.utcOffset},_findNearbyChange:function(i){var s=e.helpers.binsearchInsert(this.changes,i,e.Timezone._compare_change_fn);return s>=this.changes.length?this.changes.length-1:s},_ensureCoverage:function(r){if(e.Timezone._minimumExpansionYear==-1){var i=e.Time.now();e.Timezone._minimumExpansionYear=i.year}var s=r;if(s<e.Timezone._minimumExpansionYear&&(s=e.Timezone._minimumExpansionYear),s+=e.Timezone.EXTRA_COVERAGE,s>e.Timezone.MAX_YEAR&&(s=e.Timezone.MAX_YEAR),!this.changes.length||this.expandedUntilYear<r){for(var o=this.component.getAllSubcomponents(),l=o.length,a=0;a<l;a++)this._expandComponent(o[a],s,this.changes);this.changes.sort(e.Timezone._compare_change_fn),this.expandedUntilYear=s}},_expandComponent:function(r,i,s){if(!r.hasProperty("dtstart")||!r.hasProperty("tzoffsetto")||!r.hasProperty("tzoffsetfrom"))return null;var o=r.getFirstProperty("dtstart").getFirstValue(),l;function a(m){return m.factor*(m.hours*3600+m.minutes*60)}function u(){var m={};return m.is_daylight=r.name=="daylight",m.utcOffset=a(r.getFirstProperty("tzoffsetto").getFirstValue()),m.prevUtcOffset=a(r.getFirstProperty("tzoffsetfrom").getFirstValue()),m}if(!r.hasProperty("rrule")&&!r.hasProperty("rdate"))l=u(),l.year=o.year,l.month=o.month,l.day=o.day,l.hour=o.hour,l.minute=o.minute,l.second=o.second,e.Timezone.adjust_change(l,0,0,0,-l.prevUtcOffset),s.push(l);else{var c=r.getAllProperties("rdate");for(var f in c)if(c.hasOwnProperty(f)){var h=c[f],d=h.getFirstValue();l=u(),l.year=d.year,l.month=d.month,l.day=d.day,d.isDate?(l.hour=o.hour,l.minute=o.minute,l.second=o.second,o.zone!=e.Timezone.utcTimezone&&e.Timezone.adjust_change(l,0,0,0,-l.prevUtcOffset)):(l.hour=d.hour,l.minute=d.minute,l.second=d.second,d.zone!=e.Timezone.utcTimezone&&e.Timezone.adjust_change(l,0,0,0,-l.prevUtcOffset)),s.push(l)}var p=r.getFirstProperty("rrule");if(p){p=p.getFirstValue(),l=u(),p.until&&p.until.zone==e.Timezone.utcTimezone&&(p.until.adjust(0,0,0,l.prevUtcOffset),p.until.zone=e.Timezone.localTimezone);for(var v=p.iterator(o),y;(y=v.next())&&(l=u(),!(y.year>i||!y));)l.year=y.year,l.month=y.month,l.day=y.day,l.hour=y.hour,l.minute=y.minute,l.second=y.second,l.isDate=y.isDate,e.Timezone.adjust_change(l,0,0,0,-l.prevUtcOffset),s.push(l)}}return s},toString:function(){return this.tznames?this.tznames:this.tzid}},e.Timezone._compare_change_fn=function(i,s){return i.year<s.year?-1:i.year>s.year?1:i.month<s.month?-1:i.month>s.month?1:i.day<s.day?-1:i.day>s.day?1:i.hour<s.hour?-1:i.hour>s.hour?1:i.minute<s.minute?-1:i.minute>s.minute?1:i.second<s.second?-1:i.second>s.second?1:0},e.Timezone.convert_time=function(i,s,o){if(i.isDate||s.tzid==o.tzid||s==e.Timezone.localTimezone||o==e.Timezone.localTimezone)return i.zone=o,i;var l=s.utcOffset(i);return i.adjust(0,0,0,-l),l=o.utcOffset(i),i.adjust(0,0,0,l),null},e.Timezone.fromData=function(i){var s=new e.Timezone;return s.fromData(i)},e.Timezone.utcTimezone=e.Timezone.fromData({tzid:"UTC"}),e.Timezone.localTimezone=e.Timezone.fromData({tzid:"floating"}),e.Timezone.adjust_change=function(i,s,o,l,a){return e.Time.prototype.adjust.call(i,s,o,l,a,i)},e.Timezone._minimumExpansionYear=-1,e.Timezone.MAX_YEAR=2035,e.Timezone.EXTRA_COVERAGE=5}(),e.TimezoneService=function(){var n,r={get count(){return Object.keys(n).length},reset:function(){n=Object.create(null);var i=e.Timezone.utcTimezone;n.Z=i,n.UTC=i,n.GMT=i},has:function(i){return!!n[i]},get:function(i){return n[i]},register:function(i,s){if(i instanceof e.Component&&i.name==="vtimezone"&&(s=new e.Timezone(i),i=s.tzid),s instanceof e.Timezone)n[i]=s;else throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component")},remove:function(i){return delete n[i]}};return r.reset(),r}(),function(){e.Time=function(r,i){this.wrappedJSObject=this;var s=this._time=Object.create(null);s.year=0,s.month=1,s.day=1,s.hour=0,s.minute=0,s.second=0,s.isDate=!1,this.fromData(r,i)},e.Time._dowCache={},e.Time._wnCache={},e.Time.prototype={icalclass:"icaltime",_cachedUnixTime:null,get icaltype(){return this.isDate?"date":"date-time"},zone:null,_pendingNormalization:!1,clone:function(){return new e.Time(this._time,this.zone)},reset:function(){this.fromData(e.Time.epochTime),this.zone=e.Timezone.utcTimezone},resetTo:function(r,i,s,o,l,a,u){this.fromData({year:r,month:i,day:s,hour:o,minute:l,second:a,zone:u})},fromJSDate:function(r,i){return r?i?(this.zone=e.Timezone.utcTimezone,this.year=r.getUTCFullYear(),this.month=r.getUTCMonth()+1,this.day=r.getUTCDate(),this.hour=r.getUTCHours(),this.minute=r.getUTCMinutes(),this.second=r.getUTCSeconds()):(this.zone=e.Timezone.localTimezone,this.year=r.getFullYear(),this.month=r.getMonth()+1,this.day=r.getDate(),this.hour=r.getHours(),this.minute=r.getMinutes(),this.second=r.getSeconds()):this.reset(),this._cachedUnixTime=null,this},fromData:function(r,i){if(r){for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(s==="icaltype")continue;this[s]=r[s]}}if(i&&(this.zone=i),r&&!("isDate"in r)?this.isDate=!("hour"in r):r&&"isDate"in r&&(this.isDate=r.isDate),r&&"timezone"in r){var o=e.TimezoneService.get(r.timezone);this.zone=o||e.Timezone.localTimezone}return r&&"zone"in r&&(this.zone=r.zone),this.zone||(this.zone=e.Timezone.localTimezone),this._cachedUnixTime=null,this},dayOfWeek:function(r){var i=r||e.Time.SUNDAY,s=(this.year<<12)+(this.month<<8)+(this.day<<3)+i;if(s in e.Time._dowCache)return e.Time._dowCache[s];var o=this.day,l=this.month+(this.month<3?12:0),a=this.year-(this.month<3?1:0),u=o+a+e.helpers.trunc((l+1)*26/10)+e.helpers.trunc(a/4);return u+=e.helpers.trunc(a/100)*6+e.helpers.trunc(a/400),u=(u+7-i)%7+1,e.Time._dowCache[s]=u,u},dayOfYear:function(){var r=e.Time.isLeapYear(this.year)?1:0,i=e.Time.daysInYearPassedMonth;return i[r][this.month-1]+this.day},startOfWeek:function(r){var i=r||e.Time.SUNDAY,s=this.clone();return s.day-=(this.dayOfWeek()+7-i)%7,s.isDate=!0,s.hour=0,s.minute=0,s.second=0,s},endOfWeek:function(r){var i=r||e.Time.SUNDAY,s=this.clone();return s.day+=(7-this.dayOfWeek()+i-e.Time.SUNDAY)%7,s.isDate=!0,s.hour=0,s.minute=0,s.second=0,s},startOfMonth:function(){var r=this.clone();return r.day=1,r.isDate=!0,r.hour=0,r.minute=0,r.second=0,r},endOfMonth:function(){var r=this.clone();return r.day=e.Time.daysInMonth(r.month,r.year),r.isDate=!0,r.hour=0,r.minute=0,r.second=0,r},startOfYear:function(){var r=this.clone();return r.day=1,r.month=1,r.isDate=!0,r.hour=0,r.minute=0,r.second=0,r},endOfYear:function(){var r=this.clone();return r.day=31,r.month=12,r.isDate=!0,r.hour=0,r.minute=0,r.second=0,r},startDoyWeek:function(r){var i=r||e.Time.SUNDAY,s=this.dayOfWeek()-i;return s<0&&(s+=7),this.dayOfYear()-s},getDominicalLetter:function(){return e.Time.getDominicalLetter(this.year)},nthWeekDay:function(r,i){var s=e.Time.daysInMonth(this.month,this.year),o,l=i,a=0,u=this.clone();if(l>=0){u.day=1,l!=0&&l--,a=u.day;var c=u.dayOfWeek(),f=r-c;f<0&&(f+=7),a+=f,a-=r,o=r}else{u.day=s;var h=u.dayOfWeek();l++,o=h-r,o<0&&(o+=7),o=s-o}return o+=l*7,a+o},isNthWeekDay:function(n,r){var i=this.dayOfWeek();if(r===0&&i===n)return!0;var s=this.nthWeekDay(n,r);return s===this.day},weekNumber:function(r){var i=(this.year<<12)+(this.month<<8)+(this.day<<3)+r;if(i in e.Time._wnCache)return e.Time._wnCache[i];var s,o=this.clone();o.isDate=!0;var l=this.year;o.month==12&&o.day>25?(s=e.Time.weekOneStarts(l+1,r),o.compare(s)<0?s=e.Time.weekOneStarts(l,r):l++):(s=e.Time.weekOneStarts(l,r),o.compare(s)<0&&(s=e.Time.weekOneStarts(--l,r)));var a=o.subtractDate(s).toSeconds()/86400,u=e.helpers.trunc(a/7)+1;return e.Time._wnCache[i]=u,u},addDuration:function(r){var i=r.isNegative?-1:1,s=this.second,o=this.minute,l=this.hour,a=this.day;s+=i*r.seconds,o+=i*r.minutes,l+=i*r.hours,a+=i*r.days,a+=i*7*r.weeks,this.second=s,this.minute=o,this.hour=l,this.day=a,this._cachedUnixTime=null},subtractDate:function(r){var i=this.toUnixTime()+this.utcOffset(),s=r.toUnixTime()+r.utcOffset();return e.Duration.fromSeconds(i-s)},subtractDateTz:function(r){var i=this.toUnixTime(),s=r.toUnixTime();return e.Duration.fromSeconds(i-s)},compare:function(r){var i=this.toUnixTime(),s=r.toUnixTime();return i>s?1:s>i?-1:0},compareDateOnlyTz:function(r,i){function s(u){return e.Time._cmp_attr(o,l,u)}var o=this.convertToZone(i),l=r.convertToZone(i),a=0;return(a=s("year"))!=0||(a=s("month"))!=0||(a=s("day"))!=0,a},convertToZone:function(r){var i=this.clone(),s=this.zone.tzid==r.tzid;return!this.isDate&&!s&&e.Timezone.convert_time(i,this.zone,r),i.zone=r,i},utcOffset:function(){return this.zone==e.Timezone.localTimezone||this.zone==e.Timezone.utcTimezone?0:this.zone.utcOffset(this)},toICALString:function(){var n=this.toString();return n.length>10?e.design.icalendar.value["date-time"].toICAL(n):e.design.icalendar.value.date.toICAL(n)},toString:function(){var r=this.year+"-"+e.helpers.pad2(this.month)+"-"+e.helpers.pad2(this.day);return this.isDate||(r+="T"+e.helpers.pad2(this.hour)+":"+e.helpers.pad2(this.minute)+":"+e.helpers.pad2(this.second),this.zone===e.Timezone.utcTimezone&&(r+="Z")),r},toJSDate:function(){return this.zone==e.Timezone.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(this.toUnixTime()*1e3)},_normalize:function(){return this._time.isDate,this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=0),this.adjust(0,0,0,0),this},adjust:function(r,i,s,o,l){var a,u,c=0,f=0,h,d,p,v,y,m=l||this._time;if(m.isDate||(h=m.second+o,m.second=h%60,a=e.helpers.trunc(h/60),m.second<0&&(m.second+=60,a--),d=m.minute+s+a,m.minute=d%60,u=e.helpers.trunc(d/60),m.minute<0&&(m.minute+=60,u--),p=m.hour+i+u,m.hour=p%24,c=e.helpers.trunc(p/24),m.hour<0&&(m.hour+=24,c--)),m.month>12?f=e.helpers.trunc((m.month-1)/12):m.month<1&&(f=e.helpers.trunc(m.month/12)-1),m.year+=f,m.month-=12*f,v=m.day+r+c,v>0)for(;y=e.Time.daysInMonth(m.month,m.year),!(v<=y);)m.month++,m.month>12&&(m.year++,m.month=1),v-=y;else for(;v<=0;)m.month==1?(m.year--,m.month=12):m.month--,v+=e.Time.daysInMonth(m.month,m.year);return m.day=v,this._cachedUnixTime=null,this},fromUnixTime:function(r){this.zone=e.Timezone.utcTimezone;var i=e.Time.epochTime.clone();i.adjust(0,0,0,r),this.year=i.year,this.month=i.month,this.day=i.day,this.hour=i.hour,this.minute=i.minute,this.second=Math.floor(i.second),this._cachedUnixTime=null},toUnixTime:function(){if(this._cachedUnixTime!==null)return this._cachedUnixTime;var r=this.utcOffset(),i=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-r);return this._cachedUnixTime=i/1e3,this._cachedUnixTime},toJSON:function(){for(var n=["year","month","day","hour","minute","second","isDate"],r=Object.create(null),i=0,s=n.length,o;i<s;i++)o=n[i],r[o]=this[o];return this.zone&&(r.timezone=this.zone.tzid),r}},function(){function r(i){Object.defineProperty(e.Time.prototype,i,{get:function(){return this._pendingNormalization&&(this._normalize(),this._pendingNormalization=!1),this._time[i]},set:function(o){return i==="isDate"&&o&&!this._time.isDate&&this.adjust(0,0,0,0),this._cachedUnixTime=null,this._pendingNormalization=!0,this._time[i]=o,o}})}"defineProperty"in Object&&(r("year"),r("month"),r("day"),r("hour"),r("minute"),r("second"),r("isDate"))}(),e.Time.daysInMonth=function(r,i){var s=[0,31,28,31,30,31,30,31,31,30,31,30,31],o=30;return r<1||r>12||(o=s[r],r==2&&(o+=e.Time.isLeapYear(i))),o},e.Time.isLeapYear=function(r){return r<=1752?r%4==0:r%4==0&&r%100!=0||r%400==0},e.Time.fromDayOfYear=function(r,i){var s=i,o=r,l=new e.Time;l.auto_normalize=!1;var a=e.Time.isLeapYear(s)?1:0;if(o<1)return s--,a=e.Time.isLeapYear(s)?1:0,o+=e.Time.daysInYearPassedMonth[a][12],e.Time.fromDayOfYear(o,s);if(o>e.Time.daysInYearPassedMonth[a][12])return a=e.Time.isLeapYear(s)?1:0,o-=e.Time.daysInYearPassedMonth[a][12],s++,e.Time.fromDayOfYear(o,s);l.year=s,l.isDate=!0;for(var u=11;u>=0;u--)if(o>e.Time.daysInYearPassedMonth[a][u]){l.month=u+1,l.day=o-e.Time.daysInYearPassedMonth[a][u];break}return l.auto_normalize=!0,l},e.Time.fromStringv2=function(r){return new e.Time({year:parseInt(r.substr(0,4),10),month:parseInt(r.substr(5,2),10),day:parseInt(r.substr(8,2),10),isDate:!0})},e.Time.fromDateString=function(n){return new e.Time({year:e.helpers.strictParseInt(n.substr(0,4)),month:e.helpers.strictParseInt(n.substr(5,2)),day:e.helpers.strictParseInt(n.substr(8,2)),isDate:!0})},e.Time.fromDateTimeString=function(n,r){if(n.length<19)throw new Error(\'invalid date-time value: "\'+n+\'"\');var i;n[19]&&n[19]==="Z"?i="Z":r&&(i=r.getParameter("tzid"));var s=new e.Time({year:e.helpers.strictParseInt(n.substr(0,4)),month:e.helpers.strictParseInt(n.substr(5,2)),day:e.helpers.strictParseInt(n.substr(8,2)),hour:e.helpers.strictParseInt(n.substr(11,2)),minute:e.helpers.strictParseInt(n.substr(14,2)),second:e.helpers.strictParseInt(n.substr(17,2)),timezone:i});return s},e.Time.fromString=function(r,i){return r.length>10?e.Time.fromDateTimeString(r,i):e.Time.fromDateString(r)},e.Time.fromJSDate=function(r,i){var s=new e.Time;return s.fromJSDate(r,i)},e.Time.fromData=function(r,i){var s=new e.Time;return s.fromData(r,i)},e.Time.now=function(){return e.Time.fromJSDate(new Date,!1)},e.Time.weekOneStarts=function(r,i){var s=e.Time.fromData({year:r,month:1,day:1,isDate:!0}),o=s.dayOfWeek(),l=i||e.Time.DEFAULT_WEEK_START;return o>e.Time.THURSDAY&&(s.day+=7),l>e.Time.THURSDAY&&(s.day-=7),s.day-=o-l,s},e.Time.getDominicalLetter=function(n){var r="GFEDCBA",i=(n+(n/4|0)+(n/400|0)-(n/100|0)-1)%7,s=e.Time.isLeapYear(n);return s?r[(i+6)%7]+r[i]:r[i]},e.Time.epochTime=e.Time.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"}),e.Time._cmp_attr=function(r,i,s){return r[s]>i[s]?1:r[s]<i[s]?-1:0},e.Time.daysInYearPassedMonth=[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]],e.Time.SUNDAY=1,e.Time.MONDAY=2,e.Time.TUESDAY=3,e.Time.WEDNESDAY=4,e.Time.THURSDAY=5,e.Time.FRIDAY=6,e.Time.SATURDAY=7,e.Time.DEFAULT_WEEK_START=e.Time.MONDAY}(),function(){e.VCardTime=function(n,r,i){this.wrappedJSObject=this;var s=this._time=Object.create(null);s.year=null,s.month=null,s.day=null,s.hour=null,s.minute=null,s.second=null,this.icaltype=i||"date-and-or-time",this.fromData(n,r)},e.helpers.inherits(e.Time,e.VCardTime,{icalclass:"vcardtime",icaltype:"date-and-or-time",zone:null,clone:function(){return new e.VCardTime(this._time,this.zone,this.icaltype)},_normalize:function(){return this},utcOffset:function(){return this.zone instanceof e.UtcOffset?this.zone.toSeconds():e.Time.prototype.utcOffset.apply(this,arguments)},toICALString:function(){return e.design.vcard.value[this.icaltype].toICAL(this.toString())},toString:function(){var r=e.helpers.pad2,i=this.year,s=this.month,o=this.day,l=this.hour,a=this.minute,u=this.second,c=i!==null,f=s!==null,h=o!==null,d=l!==null,p=a!==null,v=u!==null,y=(c?r(i)+(f||h?"-":""):f||h?"--":"")+(f?r(s):"")+(h?"-"+r(o):""),m=(d?r(l):"-")+(d&&p?":":"")+(p?r(a):"")+(!d&&!p?"-":"")+(p&&v?":":"")+(v?r(u):""),g;if(this.zone===e.Timezone.utcTimezone)g="Z";else if(this.zone instanceof e.UtcOffset)g=this.zone.toString();else if(this.zone===e.Timezone.localTimezone)g="";else if(this.zone instanceof e.Timezone){var E=e.UtcOffset.fromSeconds(this.zone.utcOffset(this));g=E.toString()}else g="";switch(this.icaltype){case"time":return m+g;case"date-and-or-time":case"date-time":return y+(m=="--"?"":"T"+m+g);case"date":return y}return null}}),e.VCardTime.fromDateAndOrTimeString=function(n,r){function i(y,m,g){return y?e.helpers.strictParseInt(y.substr(m,g)):null}var s=n.split("T"),o=s[0],l=s[1],a=l?e.design.vcard.value.time._splitZone(l):[],u=a[0],c=a[1];e.helpers.strictParseInt;var f=o?o.length:0,h=c?c.length:0,d=o&&o[0]=="-"&&o[1]=="-",p=c&&c[0]=="-",v={year:d?null:i(o,0,4),month:d&&(f==4||f==7)?i(o,2,2):f==7||f==10?i(o,5,2):null,day:f==5?i(o,3,2):f==7&&d?i(o,5,2):f==10?i(o,8,2):null,hour:p?null:i(c,0,2),minute:p&&h==3?i(c,1,2):h>4?p?i(c,1,2):i(c,3,2):null,second:h==4?i(c,2,2):h==6?i(c,4,2):h==8?i(c,6,2):null};return u=="Z"?u=e.Timezone.utcTimezone:u&&u[3]==":"?u=e.UtcOffset.fromString(u):u=null,new e.VCardTime(v,u,r)}}(),function(){var n={SU:e.Time.SUNDAY,MO:e.Time.MONDAY,TU:e.Time.TUESDAY,WE:e.Time.WEDNESDAY,TH:e.Time.THURSDAY,FR:e.Time.FRIDAY,SA:e.Time.SATURDAY},r={};for(var i in n)n.hasOwnProperty(i)&&(r[n[i]]=i);e.Recur=function(h){this.wrappedJSObject=this,this.parts={},h&&typeof h=="object"&&this.fromData(h)},e.Recur.prototype={parts:null,interval:1,wkst:e.Time.MONDAY,until:null,count:null,freq:null,icalclass:"icalrecur",icaltype:"recur",iterator:function(f){return new e.RecurIterator({rule:this,dtstart:f})},clone:function(){return new e.Recur(this.toJSON())},isFinite:function(){return!!(this.count||this.until)},isByCount:function(){return!!(this.count&&!this.until)},addComponent:function(h,d){var p=h.toUpperCase();p in this.parts?this.parts[p].push(d):this.parts[p]=[d]},setComponent:function(h,d){this.parts[h.toUpperCase()]=d.slice()},getComponent:function(h){var d=h.toUpperCase();return d in this.parts?this.parts[d].slice():[]},getNextOccurrence:function(h,d){var p=this.iterator(h),v;do v=p.next();while(v&&v.compare(d)<=0);return v&&d.zone&&(v.zone=d.zone),v},fromData:function(f){for(var h in f){var d=h.toUpperCase();d in c?Array.isArray(f[h])?this.parts[d]=f[h]:this.parts[d]=[f[h]]:this[h]=f[h]}this.interval&&typeof this.interval!="number"&&u.INTERVAL(this.interval,this),this.wkst&&typeof this.wkst!="number"&&(this.wkst=e.Recur.icalDayToNumericDay(this.wkst)),this.until&&!(this.until instanceof e.Time)&&(this.until=e.Time.fromString(this.until))},toJSON:function(){var f=Object.create(null);f.freq=this.freq,this.count&&(f.count=this.count),this.interval>1&&(f.interval=this.interval);for(var h in this.parts)if(this.parts.hasOwnProperty(h)){var d=this.parts[h];Array.isArray(d)&&d.length==1?f[h.toLowerCase()]=d[0]:f[h.toLowerCase()]=e.helpers.clone(this.parts[h])}return this.until&&(f.until=this.until.toString()),"wkst"in this&&this.wkst!==e.Time.DEFAULT_WEEK_START&&(f.wkst=e.Recur.numericDayToIcalDay(this.wkst)),f},toString:function(){var h="FREQ="+this.freq;this.count&&(h+=";COUNT="+this.count),this.interval>1&&(h+=";INTERVAL="+this.interval);for(var d in this.parts)this.parts.hasOwnProperty(d)&&(h+=";"+d+"="+this.parts[d]);return this.until&&(h+=";UNTIL="+this.until.toICALString()),"wkst"in this&&this.wkst!==e.Time.DEFAULT_WEEK_START&&(h+=";WKST="+e.Recur.numericDayToIcalDay(this.wkst)),h}};function s(f,h,d,p){var v=p;if(p[0]==="+"&&(v=p.substr(1)),v=e.helpers.strictParseInt(v),h!==void 0&&p<h)throw new Error(f+\': invalid value "\'+p+\'" must be > \'+h);if(d!==void 0&&p>d)throw new Error(f+\': invalid value "\'+p+\'" must be < \'+h);return v}e.Recur.icalDayToNumericDay=function(h,d){var p=d||e.Time.SUNDAY;return(n[h]-p+7)%7+1},e.Recur.numericDayToIcalDay=function(h,d){var p=d||e.Time.SUNDAY,v=h+p-e.Time.SUNDAY;return v>7&&(v-=7),r[v]};var o=/^(SU|MO|TU|WE|TH|FR|SA)$/,l=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,a=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"],u={FREQ:function(f,h,d){if(a.indexOf(f)!==-1)h.freq=f;else throw new Error(\'invalid frequency "\'+f+\'" expected: "\'+a.join(", ")+\'"\')},COUNT:function(f,h,d){h.count=e.helpers.strictParseInt(f)},INTERVAL:function(f,h,d){h.interval=e.helpers.strictParseInt(f),h.interval<1&&(h.interval=1)},UNTIL:function(f,h,d){f.length>10?h.until=e.design.icalendar.value["date-time"].fromICAL(f):h.until=e.design.icalendar.value.date.fromICAL(f),d||(h.until=e.Time.fromString(h.until))},WKST:function(f,h,d){if(o.test(f))h.wkst=e.Recur.icalDayToNumericDay(f);else throw new Error(\'invalid WKST value "\'+f+\'"\')}},c={BYSECOND:s.bind(this,"BYSECOND",0,60),BYMINUTE:s.bind(this,"BYMINUTE",0,59),BYHOUR:s.bind(this,"BYHOUR",0,23),BYDAY:function(f){if(l.test(f))return f;throw new Error(\'invalid BYDAY value "\'+f+\'"\')},BYMONTHDAY:s.bind(this,"BYMONTHDAY",-31,31),BYYEARDAY:s.bind(this,"BYYEARDAY",-366,366),BYWEEKNO:s.bind(this,"BYWEEKNO",-53,53),BYMONTH:s.bind(this,"BYMONTH",1,12),BYSETPOS:s.bind(this,"BYSETPOS",-366,366)};e.Recur.fromString=function(f){var h=e.Recur._stringToData(f,!1);return new e.Recur(h)},e.Recur.fromData=function(f){return new e.Recur(f)},e.Recur._stringToData=function(f,h){for(var d=Object.create(null),p=f.split(";"),v=p.length,y=0;y<v;y++){var m=p[y].split("="),g=m[0].toUpperCase(),E=m[0].toLowerCase(),w=h?E:g,D=m[1];if(g in c){for(var _=D.split(","),b=0,A=_.length;b<A;b++)_[b]=c[g](_[b]);d[w]=_.length==1?_[0]:_}else g in u?u[g](D,d,h):d[E]=D}return d}}(),e.RecurIterator=function(){function n(r){this.fromData(r)}return n.prototype={completed:!1,rule:null,dtstart:null,last:null,occurrence_number:0,by_indices:null,initialized:!1,by_data:null,days:null,days_index:0,fromData:function(r){if(this.rule=e.helpers.formatClassType(r.rule,e.Recur),!this.rule)throw new Error("iterator requires a (ICAL.Recur) rule");if(this.dtstart=e.helpers.formatClassType(r.dtstart,e.Time),!this.dtstart)throw new Error("iterator requires a (ICAL.Time) dtstart");r.by_data?this.by_data=r.by_data:this.by_data=e.helpers.clone(this.rule.parts,!0),r.occurrence_number&&(this.occurrence_number=r.occurrence_number),this.days=r.days||[],r.last&&(this.last=e.helpers.formatClassType(r.last,e.Time)),this.by_indices=r.by_indices,this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0}),this.initialized=r.initialized||!1,this.initialized||this.init()},init:function(){this.initialized=!0,this.last=this.dtstart.clone();var i=this.by_data;if("BYDAY"in i&&this.sort_byday_rules(i.BYDAY),"BYYEARDAY"in i&&("BYMONTH"in i||"BYWEEKNO"in i||"BYMONTHDAY"in i||"BYDAY"in i))throw new Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in i&&"BYMONTHDAY"in i)throw new Error("BYWEEKNO does not fit to BYMONTHDAY");if(this.rule.freq=="MONTHLY"&&("BYYEARDAY"in i||"BYWEEKNO"in i))throw new Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if(this.rule.freq=="WEEKLY"&&("BYYEARDAY"in i||"BYMONTHDAY"in i))throw new Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");if(this.rule.freq!="YEARLY"&&"BYYEARDAY"in i)throw new Error("BYYEARDAY may only appear in YEARLY rules");if(this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second),this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute),this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour),this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day),this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month),this.rule.freq=="WEEKLY")if("BYDAY"in i){var s=this.ruleDayOfWeek(i.BYDAY[0],this.rule.wkst),o=s[0],l=s[1],a=l-this.last.dayOfWeek(this.rule.wkst);(this.last.dayOfWeek(this.rule.wkst)<l&&a>=0||a<0)&&(this.last.day+=a)}else{var u=e.Recur.numericDayToIcalDay(this.dtstart.dayOfWeek());i.BYDAY=[u]}if(this.rule.freq=="YEARLY"){for(;this.expand_year_days(this.last.year),!(this.days.length>0);)this.increment_year(this.rule.interval);this._nextByYearDay()}if(this.rule.freq=="MONTHLY"&&this.has_by_data("BYDAY")){var c=null,f=this.last.clone(),h=e.Time.daysInMonth(this.last.month,this.last.year);for(var d in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(d)){this.last=f.clone();var s=this.ruleDayOfWeek(this.by_data.BYDAY[d]),o=s[0],l=s[1],p=this.last.nthWeekDay(l,o);if(o>=6||o<=-6)throw new Error("Malformed values in BYDAY part");if(p>h||p<=0){if(c&&c.month==f.month)continue;for(;p>h||p<=0;)this.increment_month(),h=e.Time.daysInMonth(this.last.month,this.last.year),p=this.last.nthWeekDay(l,o)}this.last.day=p,(!c||this.last.compare(c)<0)&&(c=this.last.clone())}if(this.last=c.clone(),this.has_by_data("BYMONTHDAY")&&this._byDayAndMonthDay(!0),this.last.day>h||this.last.day==0)throw new Error("Malformed values in BYDAY part")}else if(this.has_by_data("BYMONTHDAY")&&this.last.day<0){var h=e.Time.daysInMonth(this.last.month,this.last.year);this.last.day=h+this.last.day+1}},next:function(){var i=this.last?this.last.clone():null;if(this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&this.last.compare(this.rule.until)>0)return this.completed=!0,null;if(this.occurrence_number==0&&this.last.compare(this.dtstart)>=0)return this.occurrence_number++,this.last;var s;do switch(s=1,this.rule.freq){case"SECONDLY":this.next_second();break;case"MINUTELY":this.next_minute();break;case"HOURLY":this.next_hour();break;case"DAILY":this.next_day();break;case"WEEKLY":this.next_week();break;case"MONTHLY":s=this.next_month();break;case"YEARLY":this.next_year();break;default:return null}while(!this.check_contracting_rules()||this.last.compare(this.dtstart)<0||!s);if(this.last.compare(i)==0)throw new Error("Same occurrence found twice, protecting you from death by recursion");return this.rule.until&&this.last.compare(this.rule.until)>0?(this.completed=!0,null):(this.occurrence_number++,this.last)},next_second:function(){return this.next_generic("BYSECOND","SECONDLY","second","minute")},increment_second:function(i){return this.increment_generic(i,"second",60,"minute")},next_minute:function(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")},increment_minute:function(i){return this.increment_generic(i,"minute",60,"hour")},next_hour:function(){return this.next_generic("BYHOUR","HOURLY","hour","monthday","next_minute")},increment_hour:function(i){this.increment_generic(i,"hour",24,"monthday")},next_day:function(){"BYDAY"in this.by_data;var i=this.rule.freq=="DAILY";return this.next_hour()==0||(i?this.increment_monthday(this.rule.interval):this.increment_monthday(1)),0},next_week:function(){var i=0;if(this.next_weekday_by_week()==0)return i;if(this.has_by_data("BYWEEKNO")){++this.by_indices.BYWEEKNO,this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,i=1),this.last.month=1,this.last.day=1;var s=this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO];this.last.day+=7*s,i&&this.increment_year(1)}else this.increment_monthday(7*this.rule.interval);return i},normalizeByMonthDayRules:function(r,i,s){for(var o=e.Time.daysInMonth(i,r),l=[],a=0,u=s.length,c;a<u;a++)if(c=s[a],!(Math.abs(c)>o)){if(c<0)c=o+(c+1);else if(c===0)continue;l.indexOf(c)===-1&&l.push(c)}return l.sort(function(f,h){return f-h})},_byDayAndMonthDay:function(r){var i,s=this.by_data.BYDAY,o,l=0,a,u=s.length,c=0,f,h=this,d=this.last.day;function p(){for(f=e.Time.daysInMonth(h.last.month,h.last.year),i=h.normalizeByMonthDayRules(h.last.year,h.last.month,h.by_data.BYMONTHDAY),a=i.length;i[l]<=d&&!(r&&i[l]==d)&&l<a-1;)l++}function v(){d=0,h.increment_month(),l=0,p()}p(),r&&(d-=1);for(var y=48;!c&&y;){if(y--,o=d+1,o>f){v();continue}var m=i[l++];if(m>=o)d=m;else{v();continue}for(var g=0;g<u;g++){var E=this.ruleDayOfWeek(s[g]),w=E[0],D=E[1];if(this.last.day=d,this.last.isNthWeekDay(D,w)){c=1;break}}if(!c&&l===a){v();continue}}if(y<=0)throw new Error("Malformed values in BYDAY combined with BYMONTHDAY parts");return c},next_month:function(){this.rule.freq=="MONTHLY";var i=1;if(this.next_hour()==0)return i;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))i=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){var s=e.Time.daysInMonth(this.last.month,this.last.year),o=0,l=0;if(this.has_by_data("BYSETPOS")){for(var a=this.last.day,u=1;u<=s;u++)this.last.day=u,this.is_day_in_byday(this.last)&&(l++,u<=a&&o++);this.last.day=a}i=0;for(var u=this.last.day+1;u<=s;u++)if(this.last.day=u,this.is_day_in_byday(this.last)&&(!this.has_by_data("BYSETPOS")||this.check_set_position(++o)||this.check_set_position(o-l-1))){i=1;break}u>s&&(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)?(!this.has_by_data("BYSETPOS")||this.check_set_position(1))&&(i=1):i=0)}else if(this.has_by_data("BYMONTHDAY")){this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month());var s=e.Time.daysInMonth(this.last.month,this.last.year),u=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY];u<0&&(u=s+u+1),u>s?(this.last.day=1,i=this.is_day_in_byday(this.last)):this.last.day=u}else{this.increment_month();var s=e.Time.daysInMonth(this.last.month,this.last.year);this.by_data.BYMONTHDAY[0]>s?i=0:this.last.day=this.by_data.BYMONTHDAY[0]}return i},next_weekday_by_week:function(){var i=0;if(this.next_hour()==0)return i;if(!this.has_by_data("BYDAY"))return 1;for(;;){var s=new e.Time;this.by_indices.BYDAY++,this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=0,i=1);var o=this.by_data.BYDAY[this.by_indices.BYDAY],l=this.ruleDayOfWeek(o),a=l[1];a-=this.rule.wkst,a<0&&(a+=7),s.year=this.last.year,s.month=this.last.month,s.day=this.last.day;var u=s.startDoyWeek(this.rule.wkst);if(!(a+u<1&&!i)){var c=e.Time.fromDayOfYear(u+a,this.last.year);return this.last.year=c.year,this.last.month=c.month,this.last.day=c.day,i}}},next_year:function(){if(this.next_hour()==0)return 0;if(++this.days_index==this.days.length){this.days_index=0;do this.increment_year(this.rule.interval),this.expand_year_days(this.last.year);while(this.days.length==0)}return this._nextByYearDay(),1},_nextByYearDay:function(){var i=this.days[this.days_index],s=this.last.year;i<1&&(i+=1,s+=1);var o=e.Time.fromDayOfYear(i,s);this.last.day=o.day,this.last.month=o.month},ruleDayOfWeek:function(i,s){var o=i.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/);if(o){var l=parseInt(o[1]||0,10);return i=e.Recur.icalDayToNumericDay(o[2],s),[l,i]}else return[0,0]},next_generic:function(i,s,o,l,a){var u=i in this.by_data,c=this.rule.freq==s,f=0;if(a&&this[a]()==0)return f;if(u){this.by_indices[i]++,this.by_indices[i];var h=this.by_data[i];this.by_indices[i]==h.length&&(this.by_indices[i]=0,f=1),this.last[o]=h[this.by_indices[i]]}else c&&this["increment_"+o](this.rule.interval);return u&&f&&c&&this["increment_"+l](1),f},increment_monthday:function(i){for(var s=0;s<i;s++){var o=e.Time.daysInMonth(this.last.month,this.last.year);this.last.day++,this.last.day>o&&(this.last.day-=o,this.increment_month())}},increment_month:function(){if(this.last.day=1,this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{this.rule.freq=="MONTHLY"?this.last.month+=this.rule.interval:this.last.month++,this.last.month--;var i=e.helpers.trunc(this.last.month/12);this.last.month%=12,this.last.month++,i!=0&&this.increment_year(i)}},increment_year:function(i){this.last.year+=i},increment_generic:function(i,s,o,l){this.last[s]+=i;var a=e.helpers.trunc(this.last[s]/o);this.last[s]%=o,a!=0&&this["increment_"+l](a)},has_by_data:function(i){return i in this.rule.parts},expand_year_days:function(i){var s=new e.Time;this.days=[];var o={},l=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(var a in l)if(l.hasOwnProperty(a)){var u=l[a];u in this.rule.parts&&(o[u]=this.rule.parts[u])}if("BYMONTH"in o&&"BYWEEKNO"in o){var c=1,f={};s.year=i,s.isDate=!0;for(var h=0;h<this.by_data.BYMONTH.length;h++){var d=this.by_data.BYMONTH[h];s.month=d,s.day=1;var p=s.weekNumber(this.rule.wkst);s.day=e.Time.daysInMonth(d,i);var v=s.weekNumber(this.rule.wkst);for(h=p;h<v;h++)f[h]=1}for(var y=0;y<this.by_data.BYWEEKNO.length&&c;y++){var m=this.by_data.BYWEEKNO[y];m<52?c&=f[y]:c=0}c?delete o.BYMONTH:delete o.BYWEEKNO}var g=Object.keys(o).length;if(g==0){var E=this.dtstart.clone();E.year=this.last.year,this.days.push(E.dayOfYear())}else if(g==1&&"BYMONTH"in o){for(var w in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(w)){var D=this.dtstart.clone();D.year=i,D.month=this.by_data.BYMONTH[w],D.isDate=!0,this.days.push(D.dayOfYear())}}else if(g==1&&"BYMONTHDAY"in o){for(var _ in this.by_data.BYMONTHDAY)if(this.by_data.BYMONTHDAY.hasOwnProperty(_)){var b=this.dtstart.clone(),A=this.by_data.BYMONTHDAY[_];if(A<0){var x=e.Time.daysInMonth(b.month,i);A=A+x+1}b.day=A,b.year=i,b.isDate=!0,this.days.push(b.dayOfYear())}}else if(g==2&&"BYMONTHDAY"in o&&"BYMONTH"in o){for(var w in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(w)){var P=this.by_data.BYMONTH[w],x=e.Time.daysInMonth(P,i);for(var _ in this.by_data.BYMONTHDAY)if(this.by_data.BYMONTHDAY.hasOwnProperty(_)){var A=this.by_data.BYMONTHDAY[_];A<0&&(A=A+x+1),s.day=A,s.month=P,s.year=i,s.isDate=!0,this.days.push(s.dayOfYear())}}}else if(!(g==1&&"BYWEEKNO"in o)){if(!(g==2&&"BYWEEKNO"in o&&"BYMONTHDAY"in o))if(g==1&&"BYDAY"in o)this.days=this.days.concat(this.expand_by_day(i));else if(g==2&&"BYDAY"in o&&"BYMONTH"in o){for(var w in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(w)){var d=this.by_data.BYMONTH[w],x=e.Time.daysInMonth(d,i);s.year=i,s.month=this.by_data.BYMONTH[w],s.day=1,s.isDate=!0;var W=s.dayOfWeek(),$=s.dayOfYear()-1;s.day=x;var Te=s.dayOfWeek();if(this.has_by_data("BYSETPOS")){for(var se=[],ne=1;ne<=x;ne++)s.day=ne,this.is_day_in_byday(s)&&se.push(ne);for(var ct=0;ct<se.length;ct++)(this.check_set_position(ct+1)||this.check_set_position(ct-se.length))&&this.days.push($+se[ct])}else for(var ye in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(ye)){var S=this.by_data.BYDAY[ye],k=this.ruleDayOfWeek(S),R=k[0],N=k[1],Y,Re=(N+7-W)%7+1,Ae=x-(Te+7-N)%7;if(R==0)for(var ne=Re;ne<=x;ne+=7)this.days.push($+ne);else R>0?(Y=Re+(R-1)*7,Y<=x&&this.days.push($+Y)):(Y=Ae+(R+1)*7,Y>0&&this.days.push($+Y))}}this.days.sort(function(WE,$E){return WE-$E})}else if(g==2&&"BYDAY"in o&&"BYMONTHDAY"in o){var Ue=this.expand_by_day(i);for(var Ne in Ue)if(Ue.hasOwnProperty(Ne)){var ne=Ue[Ne],St=e.Time.fromDayOfYear(ne,i);this.by_data.BYMONTHDAY.indexOf(St.day)>=0&&this.days.push(ne)}}else if(g==3&&"BYDAY"in o&&"BYMONTHDAY"in o&&"BYMONTH"in o){var Ue=this.expand_by_day(i);for(var Ne in Ue)if(Ue.hasOwnProperty(Ne)){var ne=Ue[Ne],St=e.Time.fromDayOfYear(ne,i);this.by_data.BYMONTH.indexOf(St.month)>=0&&this.by_data.BYMONTHDAY.indexOf(St.day)>=0&&this.days.push(ne)}}else if(g==2&&"BYDAY"in o&&"BYWEEKNO"in o){var Ue=this.expand_by_day(i);for(var Ne in Ue)if(Ue.hasOwnProperty(Ne)){var ne=Ue[Ne],St=e.Time.fromDayOfYear(ne,i),m=St.weekNumber(this.rule.wkst);this.by_data.BYWEEKNO.indexOf(m)&&this.days.push(ne)}}else g==3&&"BYDAY"in o&&"BYWEEKNO"in o&&"BYMONTHDAY"in o||(g==1&&"BYYEARDAY"in o?this.days=this.days.concat(this.by_data.BYYEARDAY):this.days=[])}return 0},expand_by_day:function(i){var s=[],o=this.last.clone();o.year=i,o.month=1,o.day=1,o.isDate=!0;var l=o.dayOfWeek();o.month=12,o.day=31,o.isDate=!0;var a=o.dayOfWeek(),u=o.dayOfYear();for(var c in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(c)){var f=this.by_data.BYDAY[c],h=this.ruleDayOfWeek(f),d=h[0],p=h[1];if(d==0)for(var v=(p+7-l)%7+1,y=v;y<=u;y+=7)s.push(y);else if(d>0){var m;p>=l?m=p-l+1:m=p-l+8,s.push(m+(d-1)*7)}else{var g;d=-d,p<=a?g=u-a+p:g=u-a+p-7,s.push(g-(d-1)*7)}}return s},is_day_in_byday:function(i){for(var s in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(s)){var o=this.by_data.BYDAY[s],l=this.ruleDayOfWeek(o),a=l[0],u=l[1],c=i.dayOfWeek();if(a==0&&u==c||i.nthWeekDay(u,a)==i.day)return 1}return 0},check_set_position:function(i){if(this.has_by_data("BYSETPOS")){var s=this.by_data.BYSETPOS.indexOf(i);return s!==-1}return!1},sort_byday_rules:function(i){for(var s=0;s<i.length;s++)for(var o=0;o<s;o++){var l=this.ruleDayOfWeek(i[o],this.rule.wkst)[1],a=this.ruleDayOfWeek(i[s],this.rule.wkst)[1];if(l>a){var u=i[s];i[s]=i[o],i[o]=u}}},check_contract_restriction:function(i,s){var o=n._indexMap[i],l=n._expandMap[this.rule.freq][o],a=!1;if(i in this.by_data&&l==n.CONTRACT){var u=this.by_data[i];for(var c in u)if(u.hasOwnProperty(c)&&u[c]==s){a=!0;break}}else a=!0;return a},check_contracting_rules:function(){var i=this.last.dayOfWeek(),s=this.last.weekNumber(this.rule.wkst),o=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",e.Recur.numericDayToIcalDay(i))&&this.check_contract_restriction("BYWEEKNO",s)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",o)},setup_defaults:function(i,s,o){var l=n._indexMap[i],a=n._expandMap[this.rule.freq][l];return a!=n.CONTRACT&&(i in this.by_data||(this.by_data[i]=[o]),this.rule.freq!=s)?this.by_data[i][0]:o},toJSON:function(){var r=Object.create(null);return r.initialized=this.initialized,r.rule=this.rule.toJSON(),r.dtstart=this.dtstart.toJSON(),r.by_data=this.by_data,r.days=this.days,r.last=this.last.toJSON(),r.by_indices=this.by_indices,r.occurrence_number=this.occurrence_number,r}},n._indexMap={BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8},n._expandMap={SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]},n.UNKNOWN=0,n.CONTRACT=1,n.EXPAND=2,n.ILLEGAL=3,n}(),e.RecurExpansion=function(){function n(o){return e.helpers.formatClassType(o,e.Time)}function r(o,l){return o.compare(l)}function i(o){return o.hasProperty("rdate")||o.hasProperty("rrule")||o.hasProperty("recurrence-id")}function s(o){this.ruleDates=[],this.exDates=[],this.fromData(o)}return s.prototype={complete:!1,ruleIterators:null,ruleDates:null,exDates:null,ruleDateInc:0,exDateInc:0,exDate:null,ruleDate:null,dtstart:null,last:null,fromData:function(o){var l=e.helpers.formatClassType(o.dtstart,e.Time);if(l)this.dtstart=l;else throw new Error(".dtstart (ICAL.Time) must be given");if(o.component)this._init(o.component);else{if(this.last=n(o.last)||l.clone(),!o.ruleIterators)throw new Error(".ruleIterators or .component must be given");this.ruleIterators=o.ruleIterators.map(function(a){return e.helpers.formatClassType(a,e.RecurIterator)}),this.ruleDateInc=o.ruleDateInc,this.exDateInc=o.exDateInc,o.ruleDates&&(this.ruleDates=o.ruleDates.map(n),this.ruleDate=this.ruleDates[this.ruleDateInc]),o.exDates&&(this.exDates=o.exDates.map(n),this.exDate=this.exDates[this.exDateInc]),typeof o.complete<"u"&&(this.complete=o.complete)}},next:function(){for(var o,l,a,u=500,c=0;;){if(c++>u)throw new Error("max tries have occured, rule may be impossible to forfill.");if(l=this.ruleDate,o=this._nextRecurrenceIter(this.last),!l&&!o){this.complete=!0;break}if((!l||o&&l.compare(o.last)>0)&&(l=o.last.clone(),o.next()),this.ruleDate===l&&this._nextRuleDay(),this.last=l,this.exDate&&(a=this.exDate.compare(this.last),a<0&&this._nextExDay(),a===0)){this._nextExDay();continue}return this.last}},toJSON:function(){function o(a){return a.toJSON()}var l=Object.create(null);return l.ruleIterators=this.ruleIterators.map(o),this.ruleDates&&(l.ruleDates=this.ruleDates.map(o)),this.exDates&&(l.exDates=this.exDates.map(o)),l.ruleDateInc=this.ruleDateInc,l.exDateInc=this.exDateInc,l.last=this.last.toJSON(),l.dtstart=this.dtstart.toJSON(),l.complete=this.complete,l},_extractDates:function(o,l){function a(p){d=e.helpers.binsearchInsert(u,p,r),u.splice(d,0,p)}for(var u=[],c=o.getAllProperties(l),f=c.length,h=0,d;h<f;h++)c[h].getValues().forEach(a);return u},_init:function(o){if(this.ruleIterators=[],this.last=this.dtstart.clone(),!i(o)){this.ruleDate=this.last.clone(),this.complete=!0;return}if(o.hasProperty("rdate")&&(this.ruleDates=this._extractDates(o,"rdate"),this.ruleDates[0]&&this.ruleDates[0].compare(this.dtstart)<0?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=e.helpers.binsearchInsert(this.ruleDates,this.last,r),this.ruleDate=this.ruleDates[this.ruleDateInc]),o.hasProperty("rrule"))for(var l=o.getAllProperties("rrule"),a=0,u=l.length,c,f;a<u;a++)c=l[a].getFirstValue(),f=c.iterator(this.dtstart),this.ruleIterators.push(f),f.next();o.hasProperty("exdate")&&(this.exDates=this._extractDates(o,"exdate"),this.exDateInc=e.helpers.binsearchInsert(this.exDates,this.last,r),this.exDate=this.exDates[this.exDateInc])},_nextExDay:function(){this.exDate=this.exDates[++this.exDateInc]},_nextRuleDay:function(){this.ruleDate=this.ruleDates[++this.ruleDateInc]},_nextRecurrenceIter:function(){var o=this.ruleIterators;if(o.length===0)return null;for(var l=o.length,a,u,c=0,f;c<l;c++){if(a=o[c],u=a.last,a.completed){l--,c!==0&&c--,o.splice(c,1);continue}(!f||f.last.compare(u)>0)&&(f=a)}return f}},s}(),e.Event=function(){function n(i,s){i instanceof e.Component||(s=i,i=null),i?this.component=i:this.component=new e.Component("vevent"),this._rangeExceptionCache=Object.create(null),this.exceptions=Object.create(null),this.rangeExceptions=[],s&&s.strictExceptions&&(this.strictExceptions=s.strictExceptions),s&&s.exceptions?s.exceptions.forEach(this.relateException,this):this.component.parent&&!this.isRecurrenceException()&&this.component.parent.getAllSubcomponents("vevent").forEach(function(o){o.hasProperty("recurrence-id")&&this.relateException(o)},this)}n.prototype={THISANDFUTURE:"THISANDFUTURE",exceptions:null,strictExceptions:!1,relateException:function(i){if(this.isRecurrenceException())throw new Error("cannot relate exception to exceptions");if(i instanceof e.Component&&(i=new e.Event(i)),this.strictExceptions&&i.uid!==this.uid)throw new Error("attempted to relate unrelated exception");var s=i.recurrenceId.toString();if(this.exceptions[s]=i,i.modifiesFuture()){var o=[i.recurrenceId.toUnixTime(),s],l=e.helpers.binsearchInsert(this.rangeExceptions,o,r);this.rangeExceptions.splice(l,0,o)}},modifiesFuture:function(){if(!this.component.hasProperty("recurrence-id"))return!1;var i=this.component.getFirstProperty("recurrence-id").getParameter("range");return i===this.THISANDFUTURE},findRangeException:function(i){if(!this.rangeExceptions.length)return null;var s=i.toUnixTime(),o=e.helpers.binsearchInsert(this.rangeExceptions,[s],r);if(o-=1,o<0)return null;var l=this.rangeExceptions[o];return s<l[0]?null:l[1]},getOccurrenceDetails:function(i){var s=i.toString(),o=i.convertToZone(e.Timezone.utcTimezone).toString(),l,a={recurrenceId:i};if(s in this.exceptions)l=a.item=this.exceptions[s],a.startDate=l.startDate,a.endDate=l.endDate,a.item=l;else if(o in this.exceptions)l=this.exceptions[o],a.startDate=l.startDate,a.endDate=l.endDate,a.item=l;else{var u=this.findRangeException(i),c;if(u){var f=this.exceptions[u];a.item=f;var h=this._rangeExceptionCache[u];if(!h){var d=f.recurrenceId.clone(),p=f.startDate.clone();d.zone=p.zone,h=p.subtractDate(d),this._rangeExceptionCache[u]=h}var v=i.clone();v.zone=f.startDate.zone,v.addDuration(h),c=v.clone(),c.addDuration(f.duration),a.startDate=v,a.endDate=c}else c=i.clone(),c.addDuration(this.duration),a.endDate=c,a.startDate=i,a.item=this}return a},iterator:function(i){return new e.RecurExpansion({component:this.component,dtstart:i||this.startDate})},isRecurring:function(){var i=this.component;return i.hasProperty("rrule")||i.hasProperty("rdate")},isRecurrenceException:function(){return this.component.hasProperty("recurrence-id")},getRecurrenceTypes:function(){for(var i=this.component.getAllProperties("rrule"),s=0,o=i.length,l=Object.create(null);s<o;s++){var a=i[s].getFirstValue();l[a.freq]=!0}return l},get uid(){return this._firstProp("uid")},set uid(i){this._setProp("uid",i)},get startDate(){return this._firstProp("dtstart")},set startDate(i){this._setTime("dtstart",i)},get endDate(){var i=this._firstProp("dtend");if(!i){var s=this._firstProp("duration");i=this.startDate.clone(),s?i.addDuration(s):i.isDate&&(i.day+=1)}return i},set endDate(i){this.component.hasProperty("duration")&&this.component.removeProperty("duration"),this._setTime("dtend",i)},get duration(){var i=this._firstProp("duration");return i||this.endDate.subtractDateTz(this.startDate)},set duration(i){this.component.hasProperty("dtend")&&this.component.removeProperty("dtend"),this._setProp("duration",i)},get location(){return this._firstProp("location")},set location(i){return this._setProp("location",i)},get attendees(){return this.component.getAllProperties("attendee")},get summary(){return this._firstProp("summary")},set summary(i){this._setProp("summary",i)},get description(){return this._firstProp("description")},set description(i){this._setProp("description",i)},get color(){return this._firstProp("color")},set color(i){this._setProp("color",i)},get organizer(){return this._firstProp("organizer")},set organizer(i){this._setProp("organizer",i)},get sequence(){return this._firstProp("sequence")},set sequence(i){this._setProp("sequence",i)},get recurrenceId(){return this._firstProp("recurrence-id")},set recurrenceId(i){this._setTime("recurrence-id",i)},_setTime:function(i,s){var o=this.component.getFirstProperty(i);o||(o=new e.Property(i),this.component.addProperty(o)),s.zone===e.Timezone.localTimezone||s.zone===e.Timezone.utcTimezone?o.removeParameter("tzid"):o.setParameter("tzid",s.zone.tzid),o.setValue(s)},_setProp:function(i,s){this.component.updatePropertyWithValue(i,s)},_firstProp:function(i){return this.component.getFirstPropertyValue(i)},toString:function(){return this.component.toString()}};function r(i,s){return i[0]>s[0]?1:s[0]>i[0]?-1:0}return n}(),e.ComponentParser=function(){function n(r){typeof r>"u"&&(r={});var i;for(i in r)r.hasOwnProperty(i)&&(this[i]=r[i])}return n.prototype={parseEvent:!0,parseTimezone:!0,oncomplete:function(){},onerror:function(r){},ontimezone:function(r){},onevent:function(r){},process:function(r){typeof r=="string"&&(r=e.parse(r)),r instanceof e.Component||(r=new e.Component(r));for(var i=r.getAllSubcomponents(),s=0,o=i.length,l;s<o;s++)switch(l=i[s],l.name){case"vtimezone":if(this.parseTimezone){var a=l.getFirstPropertyValue("tzid");a&&this.ontimezone(new e.Timezone({tzid:a,component:l}))}break;case"vevent":this.parseEvent&&this.onevent(new e.Event(l));break;default:continue}this.oncomplete()}},n}()})(A1);var de;(function(t){t[t.SECOND=0]="SECOND",t[t.QUARTER_MINUTE=1]="QUARTER_MINUTE",t[t.MINUTE=2]="MINUTE",t[t.QUARTER_HOUR=3]="QUARTER_HOUR",t[t.HOUR=4]="HOUR",t[t.DAY=5]="DAY",t[t.MONTH=6]="MONTH",t[t.YEAR=7]="YEAR",t[t.DECADE=8]="DECADE",t[t.CENT=9]="CENT"})(de||(de={}));de.CENT+"",de.DECADE+"",de.YEAR+"",de.MONTH+"",de.DAY+"",de.HOUR+"",de.MINUTE+"",de.QUARTER_HOUR+"",de.QUARTER_MINUTE+"",de.SECOND+"";de.CENT+"",de.DECADE+"",de.YEAR+"",de.MONTH+"",de.DAY+"",de.HOUR+"",de.QUARTER_HOUR+"",de.MINUTE+"",de.QUARTER_MINUTE+"",de.SECOND+"";const Ga=BT(t=>{let e={isDark:!1,colorMap:{default:{}}},n={parsed:[],transformed:void 0},r=[];const{postRequest:i}=YT({appState(c){t(f=>{var v,y,m;const h=g=>{var w;const E=so(g)?g.value.eventDescription.tags:g.tags;return E?(w=c==null?void 0:c.colorMap)==null?void 0:w[g.source||"default"][E[0]]:void 0};let d=[];const p=(v=f==null?void 0:f.markwhenState)==null?void 0:v.transformed;if(p){for(const{node:g,path:E}of mp(p))if(so(g)){const w=h(g)||"31, 32, 35",D=((y=c==null?void 0:c.hoveringPath)==null?void 0:y.join(","))===E.join(","),_=((m=c==null?void 0:c.detailPath)==null?void 0:m.join(","))===E.join(","),b=c==null?void 0:c.isDark,A=H.fromISO(g.value.dateRangeIso.fromDateTimeIso),P=H.fromISO(g.value.dateRangeIso.toDateTimeIso).diff(A).as("day")>1;d.push({id:E.join(","),start:g.value.dateRangeIso.fromDateTimeIso,end:g.value.dateRangeIso.toDateTimeIso,title:`${g.value.eventDescription.eventDescription}`,backgroundColor:`rgba(${w}, ${D||_?.95:.8})`,allDay:P,borderColor:D||_?b?"white":"black":void 0,dateText:g.value.dateText})}}return{appState:c,...p?{events:d}:{}}})},markwhenState:c=>{t(f=>{var v,y,m;const h=g=>{var w,D;const E=so(g)?g.value.eventDescription.tags:g.tags;return E?(D=(w=f.appState)==null?void 0:w.colorMap)==null?void 0:D[E[0]]:void 0};let d=[];const p=c==null?void 0:c.transformed;if(p){for(const{node:g,path:E}of mp(p))if(so(g)){const w=h(g)||"31, 32, 35",D=Uh((v=f.appState)==null?void 0:v.hoveringPath,E),_=Uh((y=f.appState)==null?void 0:y.detailPath,E),b=(m=f.appState)==null?void 0:m.isDark;d.push({id:E.join(","),start:g.value.dateRangeIso.fromDateTimeIso,end:g.value.dateRangeIso.toDateTimeIso,title:`${g.value.eventDescription.eventDescription}`,backgroundColor:`rgba(${w}, ${D||_?.95:.8})`,borderColor:D||_?b?"white":"black":`rgb(${w})`,dateText:g.value.dateText})}}return{events:d,markwhenState:c}})}});return{requestStateUpdate:()=>{i("appState"),i("markwhenState")},setHoveringPath:c=>i("setHoveringPath",c),setDetailPath:c=>i("setDetailPath",c),showInEditor:c=>i("showInEditor",c),newEvent:(c,f,h)=>i("newEvent",{dateRangeIso:c,granularity:h,immediate:f}),appState:e,markwhenState:n,events:r}});var ia,L,Qy,Zy,si,qn,Ep,Ky,Xy,gl={},Jy=[],C1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function wn(t,e){for(var n in e)t[n]=e[n];return t}function e0(t){var e=t.parentNode;e&&e.removeChild(t)}function T(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?ia.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Io(t,o,r,i,null)}function Io(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Qy};return i==null&&L.vnode!=null&&L.vnode(s),s}function je(){return{current:null}}function ee(t){return t.children}function b1(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||vl(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||vl(t,s,e[s],n[s],r)}function Sp(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||C1.test(e)?n:n+"px"}function vl(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Sp(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Sp(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?Tp:wp,s):t.removeEventListener(e,s?Tp:wp,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function wp(t){si=!0;try{return this.l[t.type+!1](L.event?L.event(t):t)}finally{si=!1}}function Tp(t){si=!0;try{return this.l[t.type+!0](L.event?L.event(t):t)}finally{si=!1}}function it(t,e){this.props=t,this.context=e}function ys(t,e){if(e==null)return t.__?ys(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?ys(t):null}function t0(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return t0(t)}}function k1(t){si?setTimeout(t):Ky(t)}function pc(t){(!t.__d&&(t.__d=!0)&&qn.push(t)&&!yl.__r++||Ep!==L.debounceRendering)&&((Ep=L.debounceRendering)||k1)(yl)}function yl(){var t,e,n,r,i,s,o,l;for(qn.sort(function(a,u){return a.__v.__b-u.__v.__b});t=qn.shift();)t.__d&&(e=qn.length,r=void 0,i=void 0,o=(s=(n=t).__v).__e,(l=n.__P)&&(r=[],(i=wn({},s)).__v=s.__v+1,qd(l,s,i,n.__n,l.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??ys(s),s.__h),o0(r,s),s.__e!=o&&t0(s)),qn.length>e&&qn.sort(function(a,u){return a.__v.__b-u.__v.__b}));yl.__r=0}function n0(t,e,n,r,i,s,o,l,a,u){var c,f,h,d,p,v,y,m=r&&r.__k||Jy,g=m.length;for(n.__k=[],c=0;c<e.length;c++)if((d=n.__k[c]=(d=e[c])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?Io(null,d,null,null,d):Array.isArray(d)?Io(ee,{children:d},null,null,null):d.__b>0?Io(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=n,d.__b=n.__b+1,(h=m[c])===null||h&&d.key==h.key&&d.type===h.type)m[c]=void 0;else for(f=0;f<g;f++){if((h=m[f])&&d.key==h.key&&d.type===h.type){m[f]=void 0;break}h=null}qd(t,d,h=h||gl,i,s,o,l,a,u),p=d.__e,(f=d.ref)&&h.ref!=f&&(y||(y=[]),h.ref&&y.push(h.ref,null,d),y.push(f,d.__c||p,d)),p!=null?(v==null&&(v=p),typeof d.type=="function"&&d.__k===h.__k?d.__d=a=r0(d,a,t):a=i0(t,d,h,m,p,a),typeof n.type=="function"&&(n.__d=a)):a&&h.__e==a&&a.parentNode!=t&&(a=ys(h))}for(n.__e=v,c=g;c--;)m[c]!=null&&(typeof n.type=="function"&&m[c].__e!=null&&m[c].__e==n.__d&&(n.__d=s0(r).nextSibling),a0(m[c],m[c]));if(y)for(c=0;c<y.length;c++)l0(y[c],y[++c],y[++c])}function r0(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?r0(r,e,n):i0(n,r,r,i,r.__e,e));return e}function El(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){El(n,e)}):e.push(t)),e}function i0(t,e,n,r,i,s){var o,l,a;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(l=s,a=0;(l=l.nextSibling)&&a<r.length;a+=1)if(l==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function s0(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=s0(n)))return r}return null}function qd(t,e,n,r,i,s,o,l,a){var u,c,f,h,d,p,v,y,m,g,E,w,D,_,b,A=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(a=n.__h,l=e.__e=n.__e,e.__h=null,s=[l]),(u=L.__b)&&u(e);try{e:if(typeof A=="function"){if(y=e.props,m=(u=A.contextType)&&r[u.__c],g=u?m?m.props.value:u.__:r,n.__c?v=(c=e.__c=n.__c).__=c.__E:("prototype"in A&&A.prototype.render?e.__c=c=new A(y,g):(e.__c=c=new it(y,g),c.constructor=A,c.render=R1),m&&m.sub(c),c.props=y,c.state||(c.state={}),c.context=g,c.__n=r,f=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),A.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=wn({},c.__s)),wn(c.__s,A.getDerivedStateFromProps(y,c.__s))),h=c.props,d=c.state,c.__v=e,f)A.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(A.getDerivedStateFromProps==null&&y!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(y,g),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(y,c.__s,g)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(c.props=y,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(x){x&&(x.__=e)}),E=0;E<c._sb.length;E++)c.__h.push(c._sb[E]);c._sb=[],c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(y,c.__s,g),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,d,p)})}if(c.context=g,c.props=y,c.__P=t,w=L.__r,D=0,"prototype"in A&&A.prototype.render){for(c.state=c.__s,c.__d=!1,w&&w(e),u=c.render(c.props,c.state,c.context),_=0;_<c._sb.length;_++)c.__h.push(c._sb[_]);c._sb=[]}else do c.__d=!1,w&&w(e),u=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++D<25);c.state=c.__s,c.getChildContext!=null&&(r=wn(wn({},r),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(p=c.getSnapshotBeforeUpdate(h,d)),b=u!=null&&u.type===ee&&u.key==null?u.props.children:u,n0(t,Array.isArray(b)?b:[b],e,n,r,i,s,o,l,a),c.base=e.__e,e.__h=null,c.__h.length&&o.push(c),v&&(c.__E=c.__=null),c.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=O1(n.__e,e,n,r,i,s,o,a);(u=L.diffed)&&u(e)}catch(x){e.__v=null,(a||s!=null)&&(e.__e=l,e.__h=!!a,s[s.indexOf(l)]=null),L.__e(x,e,n)}}function o0(t,e){L.__c&&L.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){L.__e(r,n.__v)}})}function O1(t,e,n,r,i,s,o,l){var a,u,c,f=n.props,h=e.props,d=e.type,p=0;if(d==="svg"&&(i=!0),s!=null){for(;p<s.length;p++)if((a=s[p])&&"setAttribute"in a==!!d&&(d?a.localName===d:a.nodeType===3)){t=a,s[p]=null;break}}if(t==null){if(d===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,h.is&&h),s=null,l=!1}if(d===null)f===h||l&&t.data===h||(t.data=h);else{if(s=s&&ia.call(t.childNodes),u=(f=n.props||gl).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!l){if(s!=null)for(f={},p=0;p<t.attributes.length;p++)f[t.attributes[p].name]=t.attributes[p].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(b1(t,h,f,i,l),c)e.__k=[];else if(p=e.props.children,n0(t,Array.isArray(p)?p:[p],e,n,r,i&&d!=="foreignObject",s,o,s?s[0]:n.__k&&ys(n,0),l),s!=null)for(p=s.length;p--;)s[p]!=null&&e0(s[p]);l||("value"in h&&(p=h.value)!==void 0&&(p!==t.value||d==="progress"&&!p||d==="option"&&p!==f.value)&&vl(t,"value",p,f.value,!1),"checked"in h&&(p=h.checked)!==void 0&&p!==t.checked&&vl(t,"checked",p,f.checked,!1))}return t}function l0(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){L.__e(r,n)}}function a0(t,e,n){var r,i;if(L.unmount&&L.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||l0(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){L.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&a0(r[i],e,n||typeof t.type!="function");n||t.__e==null||e0(t.__e),t.__=t.__e=t.__d=void 0}function R1(t,e,n){return this.constructor(t,n)}function Es(t,e,n){var r,i,s;L.__&&L.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],qd(e,t=(!r&&n||e).__k=T(ee,null,[t]),i||gl,gl,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?ia.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r),o0(s,t)}function N1(t,e){var n={__c:e="__cC"+Xy++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(l){l.__e=!0,pc(l)})},this.sub=function(o){i.push(o);var l=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),l&&l.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}ia=Jy.slice,L={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(l){t=l}throw t}},Qy=0,Zy=function(t){return t!=null&&t.constructor===void 0},si=!1,it.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=wn({},this.state),typeof t=="function"&&(t=t(wn({},n),this.props)),t&&wn(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),pc(this))},it.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),pc(this))},it.prototype.render=ee,qn=[],Ky=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,yl.__r=0,Xy=0;var zt,qa,_p,u0=[],Qa=[],Dp=L.__b,Ap=L.__r,Cp=L.diffed,bp=L.__c,kp=L.unmount;function M1(){for(var t;t=u0.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(xo),t.__H.__h.forEach(mc),t.__H.__h=[]}catch(e){t.__H.__h=[],L.__e(e,t.__v)}}L.__b=function(t){zt=null,Dp&&Dp(t)},L.__r=function(t){Ap&&Ap(t);var e=(zt=t.__c).__H;e&&(qa===zt?(e.__h=[],zt.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Qa,n.__N=n.i=void 0})):(e.__h.forEach(xo),e.__h.forEach(mc),e.__h=[])),qa=zt},L.diffed=function(t){Cp&&Cp(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(u0.push(e)!==1&&_p===L.requestAnimationFrame||((_p=L.requestAnimationFrame)||I1)(M1)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Qa&&(n.__=n.__V),n.i=void 0,n.__V=Qa})),qa=zt=null},L.__c=function(t,e){e.some(function(n){try{n.__h.forEach(xo),n.__h=n.__h.filter(function(r){return!r.__||mc(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],L.__e(r,n.__v)}}),bp&&bp(t,e)},L.unmount=function(t){kp&&kp(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{xo(r)}catch(i){e=i}}),n.__H=void 0,e&&L.__e(e,n.__v))};var Op=typeof requestAnimationFrame=="function";function I1(t){var e,n=function(){clearTimeout(r),Op&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Op&&(e=requestAnimationFrame(n))}function xo(t){var e=zt,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),zt=e}function mc(t){var e=zt;t.__c=t.__(),zt=e}function x1(t,e){for(var n in e)t[n]=e[n];return t}function Rp(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Np(t){this.props=t}(Np.prototype=new it).isPureReactComponent=!0,Np.prototype.shouldComponentUpdate=function(t,e){return Rp(this.props,t)||Rp(this.state,e)};var Mp=L.__b;L.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Mp&&Mp(t)};var P1=L.__e;L.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}P1(t,e,n,r)};var Ip=L.unmount;function c0(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=x1({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return c0(r,e,n)})),t}function d0(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return d0(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function Za(){this.__u=0,this.t=null,this.__b=null}function f0(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function lo(){this.u=null,this.o=null}L.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Ip&&Ip(t)},(Za.prototype=new it).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=f0(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(l):l())};n.__R=o;var l=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=d0(u,u.__c.__P,u.__c.__O)}var c;for(r.setState({__a:r.__b=null});c=r.t.pop();)c.forceUpdate()}},a=e.__h===!0;r.__u++||a||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},Za.prototype.componentWillUnmount=function(){this.t=[]},Za.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=c0(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&T(ee,null,t.fallback);return i&&(i.__h=null),[T(ee,null,e.__a?null:t.children),i]};var xp=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function L1(t){return this.getChildContext=function(){return t.context},t.children}function z1(t){var e=this,n=t.i;e.componentWillUnmount=function(){Es(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Es(T(L1,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function H1(t,e){var n=T(z1,{__v:t,i:e});return n.containerInfo=e,n}(lo.prototype=new it).__a=function(t){var e=this,n=f0(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),xp(e,t,r)):i()};n?n(s):s()}},lo.prototype.render=function(t){this.u=null,this.o=new Map;var e=El(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},lo.prototype.componentDidUpdate=lo.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){xp(t,n,e)})};var U1=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,B1=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,F1=typeof document<"u",Y1=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};it.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(it.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Pp=L.event;function j1(){}function V1(){return this.cancelBubble}function W1(){return this.defaultPrevented}L.event=function(t){return Pp&&(t=Pp(t)),t.persist=j1,t.isPropagationStopped=V1,t.isDefaultPrevented=W1,t.nativeEvent=t};var Lp={configurable:!0,get:function(){return this.class}},zp=L.vnode;L.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var o=n[s];F1&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!Y1(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&B1.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=El(n.children).forEach(function(l){l.props.selected=r.value.indexOf(l.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=El(n.children).forEach(function(l){l.props.selected=r.multiple?r.defaultValue.indexOf(l.props.value)!=-1:r.defaultValue==l.props.value})),t.props=r,n.class!=n.className&&(Lp.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",Lp))}t.$$typeof=U1,zp&&zp(t)};var Hp=L.__r;L.__r=function(t){Hp&&Hp(t),t.__c};const h0=[],gc=new Map;function Qd(t){h0.push(t),gc.forEach(e=>{m0(e,t)})}function $1(t){t.isConnected&&p0(t.getRootNode())}function p0(t){let e=gc.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=q1();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}gc.set(t,e),G1(e)}}function G1(t){for(const e of h0)m0(t,e)}function m0(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&n.insertRule(i+"}",r+s)})}let Ka;function q1(){return Ka===void 0&&(Ka=Q1()),Ka}function Q1(){const t=document.querySelector(\'meta[name="csp-nonce"]\');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&p0(document);var Z1=\':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\\\e900"}.fc-icon-chevron-right:before{content:"\\\\e901"}.fc-icon-chevrons-left:before{content:"\\\\e902"}.fc-icon-chevrons-right:before{content:"\\\\e903"}.fc-icon-minus-square:before{content:"\\\\e904"}.fc-icon-plus-square:before{content:"\\\\e905"}.fc-icon-x:before{content:"\\\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}\';Qd(Z1);class Zd{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Kd(t){t.parentNode&&t.parentNode.removeChild(t)}function Le(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(K1(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function K1(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function X1(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let s=n[i].querySelectorAll(e);for(let o=0;o<s.length;o+=1)r.push(s[o])}return r}const J1=/(top|left|right|bottom|width|height)$/i;function Zi(t,e){for(let n in e)g0(t,n,e[n])}function g0(t,e,n){n==null?t.style[e]="":typeof n=="number"&&J1.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function v0(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let Up=0;function sa(){return Up+=1,"fc-dom-"+Up}function oa(t){t.preventDefault()}function eA(t,e){return n=>{let r=Le(n.target,t);r&&e.call(r,n,r)}}function y0(t,e,n,r){let i=eA(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function tA(t,e,n,r){let i;return y0(t,"mouseover",e,(s,o)=>{if(o!==i){i=o,n(s,o);let l=a=>{i=null,r(a,o),o.removeEventListener("mouseleave",l)};o.addEventListener("mouseleave",l)}})}const Bp=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function nA(t,e){let n=r=>{e(r),Bp.forEach(i=>{t.removeEventListener(i,n)})};Bp.forEach(r=>{t.addEventListener(r,n)})}function E0(t){return Object.assign({onClick:t},S0(t))}function S0(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let Fp=0;function vr(){return Fp+=1,String(Fp)}function Xd(){document.body.classList.add("fc-not-allowed")}function Jd(){document.body.classList.remove("fc-not-allowed")}function rA(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",oa)}function iA(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",oa)}function sA(t){t.addEventListener("contextmenu",oa)}function oA(t){t.removeEventListener("contextmenu",oa)}function lA(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\\s*,\\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function aA(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=uA(t,e,n[r]),i)return i;return 0}function uA(t,e,n){return n.func?n.func(t,e):cA(t[n.field],e[n.field])*(n.order||1)}function cA(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Gr(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Ki(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),t):n}function dA(t,e){return t-e}function Po(t){return t%1===0}function fA(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const Yp=["years","months","days","milliseconds"],hA=/^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;function B(t,e){return typeof t=="string"?pA(t):typeof t=="object"&&t?jp(t):typeof t=="number"?jp({[e||"milliseconds"]:t}):null}function pA(t){let e=hA.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function jp(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function mA(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function vc(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function gA(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function vA(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function yA(t){return qr(t)/365}function EA(t){return qr(t)/30}function qr(t){return kt(t)/864e5}function kt(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function ef(t,e){let n=null;for(let r=0;r<Yp.length;r+=1){let i=Yp[r];if(e[i]){let s=t[i]/e[i];if(!Po(s)||n!==null&&n!==s)return null;n=s}else if(t[i])return null}return n}function yc(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Pn(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const SA=["sun","mon","tue","wed","thu","fri","sat"];function Vp(t,e){let n=Tn(t);return n[2]+=e*7,qe(n)}function ze(t,e){let n=Tn(t);return n[2]+=e,qe(n)}function Ln(t,e){let n=Tn(t);return n[6]+=e,qe(n)}function wA(t,e){return yr(t,e)/7}function yr(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function TA(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function _A(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function DA(t,e){return(e.valueOf()-t.valueOf())/1e3}function AA(t,e){let n=K(t),r=K(e);return{years:0,months:0,days:Math.round(yr(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function CA(t,e){let n=Sl(t,e);return n!==null&&n%7===0?n/7:null}function Sl(t,e){return _n(t)===_n(e)?Math.round(yr(t,e)):null}function K(t){return qe([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function bA(t){return qe([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function kA(t){return qe([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function OA(t){return qe([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function RA(t,e,n){let r=t.getUTCFullYear(),i=Xa(t,r,e,n);if(i<1)return Xa(t,r-1,e,n);let s=Xa(t,r+1,e,n);return s>=1?Math.min(i,s):i}function Xa(t,e,n,r){let i=qe([e,0,1+NA(e,n,r)]),s=K(t),o=Math.round(yr(i,s));return Math.floor(o/7)+1}function NA(t,e,n){let r=7+e-n;return-((7+qe([t,0,r]).getUTCDay()-e)%7)+r-1}function Wp(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function $p(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Tn(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function qe(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function w0(t){return!isNaN(t.valueOf())}function _n(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function T0(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",nf(e,!0)))),r}function tf(t){return t.toISOString().replace(/T.*$/,"")}function MA(t){return t.toISOString().match(/^\\d{4}-\\d{2}/)[0]}function IA(t){return Gr(t.getUTCHours(),2)+":"+Gr(t.getUTCMinutes(),2)+":"+Gr(t.getUTCSeconds(),2)}function nf(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?`${n+Gr(i,2)}:${Gr(s,2)}`:`GMT${n}${i}${s?`:${Gr(s,2)}`:""}`}function z(t,e,n){let r,i;return function(...s){if(!r)i=t.apply(this,s);else if(!Pn(r,s)){n&&n(i);let o=t.apply(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}function Lo(t,e,n){let r,i;return s=>{if(!r)i=t.call(this,s);else if(!Ft(r,s)){n&&n(i);let o=t.call(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}const Gp={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},wl={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},ao=/\\s*([ap])\\.?m\\.?/i,xA=/,/g,PA=/\\s+/g,LA=/\\u200e/g,zA=/UTC|GMT/;class HA{constructor(e){let n={},r={},i=0;for(let s in e)s in Gp?(r[s]=e[s],i=Math.max(Gp[s],i)):(n[s]=e[s],s in wl&&(i=Math.max(wl[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=z(qp)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:s,extendedSettings:o}=this,l=VA(e.marker,n.marker,r.calendarSystem);if(!l)return this.format(e,r);let a=l;a>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(a=1);let u=this.format(e,r),c=this.format(n,r);if(u===c)return u;let f=WA(s,a),h=qp(f,o,r),d=h(e),p=h(n),v=$A(u,d,c,p),y=o.separator||i||r.defaultSeparator||"";return v?v.before+d+y+p+v.after:u+y+c}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function qp(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>nf(i.timeZoneOffset):r===0&&e.week?i=>jA(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):UA(t,e,n)}function UA(t,e,n){t=Object.assign({},t),e=Object.assign({},e),BA(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:o}=s,l;i&&!o.getUTCMinutes()?l=i:l=r;let a=l.format(o);return FA(a,s,t,e,n)}}function BA(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function FA(t,e,n,r,i){return t=t.replace(LA,""),n.timeZoneName==="short"&&(t=YA(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":nf(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(xA,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(ao,"").trim():r.meridiem==="narrow"?t=t.replace(ao,(s,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(ao,(s,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(ao,s=>s.toLocaleLowerCase())),t=t.replace(PA," "),t=t.trim(),t}function YA(t,e){let n=!1;return t=t.replace(zA,()=>(n=!0,e)),n||(t+=` ${e}`),t}function jA(t,e,n,r,i){let s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function VA(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:_n(t)!==_n(e)?1:0}function WA(t,e){let n={};for(let r in t)(!(r in wl)||wl[r]<=e)&&(n[r]=t[r]);return n}function $A(t,e,n,r){let i=0;for(;i<t.length;){let s=t.indexOf(e,i);if(s===-1)break;let o=t.substr(0,s);i=s+e.length;let l=t.substr(i),a=0;for(;a<n.length;){let u=n.indexOf(r,a);if(u===-1)break;let c=n.substr(0,u);a=u+r.length;let f=n.substr(a);if(o===c&&l===f)return{before:o,after:l}}}return null}function Qp(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Tl(t,e,n,r){let i=Qp(t,n.calendarSystem),s=e?Qp(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class GA{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,Tl(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,Tl(e,n,r,i))}}class qA{constructor(e){this.func=e}format(e,n,r){return this.func(Tl(e,null,n,r))}formatRange(e,n,r,i){return this.func(Tl(e,n,r,i))}}function le(t){return typeof t=="object"&&t?new HA(t):typeof t=="string"?new GA(t):typeof t=="function"?new qA(t):null}const Zp={navLinkDayClick:C,navLinkWeekClick:C,duration:B,bootstrapFontAwesome:C,buttonIcons:C,customButtons:C,defaultAllDayEventDuration:B,defaultTimedEventDuration:B,nextDayThreshold:B,scrollTime:B,scrollTimeReset:Boolean,slotMinTime:B,slotMaxTime:B,dayPopoverFormat:le,slotDuration:B,snapDuration:B,headerToolbar:C,footerToolbar:C,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:le,dayHeaderClassNames:C,dayHeaderContent:C,dayHeaderDidMount:C,dayHeaderWillUnmount:C,dayCellClassNames:C,dayCellContent:C,dayCellDidMount:C,dayCellWillUnmount:C,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:C,weekNumbers:Boolean,weekNumberClassNames:C,weekNumberContent:C,weekNumberDidMount:C,weekNumberWillUnmount:C,editable:Boolean,viewClassNames:C,viewDidMount:C,viewWillUnmount:C,nowIndicator:Boolean,nowIndicatorClassNames:C,nowIndicatorContent:C,nowIndicatorDidMount:C,nowIndicatorWillUnmount:C,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:C,locale:C,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:C,eventOrder:lA,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:C,contentHeight:C,direction:String,weekNumberFormat:le,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:C,initialDate:C,now:C,eventDataTransform:C,stickyHeaderDates:C,stickyFooterScrollbar:C,viewHeight:C,defaultAllDay:Boolean,eventSourceFailure:C,eventSourceSuccess:C,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:C,eventConstraint:C,eventAllow:C,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:C,eventContent:C,eventDidMount:C,eventWillUnmount:C,selectConstraint:C,selectOverlap:C,selectAllow:C,droppable:Boolean,unselectCancel:String,slotLabelFormat:C,slotLaneClassNames:C,slotLaneContent:C,slotLaneDidMount:C,slotLaneWillUnmount:C,slotLabelClassNames:C,slotLabelContent:C,slotLabelDidMount:C,slotLabelWillUnmount:C,dayMaxEvents:C,dayMaxEventRows:C,dayMinWidth:Number,slotLabelInterval:B,allDayText:String,allDayClassNames:C,allDayContent:C,allDayDidMount:C,allDayWillUnmount:C,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:le,rerenderDelay:Number,moreLinkText:C,moreLinkHint:C,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:C,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:B,hiddenDays:C,fixedWeekCount:Boolean,validRange:C,visibleRange:C,titleFormat:C,eventInteractive:Boolean,noEventsText:String,viewHint:C,navLinkHint:C,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:C,moreLinkClassNames:C,moreLinkContent:C,moreLinkDidMount:C,moreLinkWillUnmount:C,monthStartFormat:le,handleCustomRendering:C,customRenderingMetaMap:C},Xi={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},Kp={datesSet:C,eventsSet:C,eventAdd:C,eventChange:C,eventRemove:C,windowResize:C,eventClick:C,eventMouseEnter:C,eventMouseLeave:C,select:C,unselect:C,loading:C,_unmount:C,_beforeprint:C,_afterprint:C,_noEventDrop:C,_noEventResize:C,_resize:C,_scrollRequest:C},Xp={buttonText:C,buttonHints:C,views:C,plugins:C,initialEvents:C,events:C,eventSources:C},$n={headerToolbar:Gn,footerToolbar:Gn,buttonText:Gn,buttonHints:Gn,buttonIcons:Gn,dateIncrement:Gn,plugins:uo,events:uo,eventSources:uo,resources:uo};function Gn(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Ft(t,e):t===e}function uo(t,e){return Array.isArray(t)&&Array.isArray(e)?Pn(t,e):t===e}const QA={type:String,component:C,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:C,usesMinMaxTime:Boolean,classNames:C,content:C,didMount:C,willUnmount:C};function Ja(t){return sf(t,$n)}function rf(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function C(t){return t}const{hasOwnProperty:_l}=Object.prototype;function sf(t,e){let n={};if(e){for(let r in e)if(e[r]===Gn){let i=[];for(let s=t.length-1;s>=0;s-=1){let o=t[s][r];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[r]=o;break}}i.length&&(n[r]=sf(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let s in i)s in n||(n[s]=i[s])}return n}function dr(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function sn(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function _0(t){let e={};for(let n of t)e[n]=!0;return e}function of(t){let e=[];for(let n in t)e.push(t[n]);return e}function Ft(t,e){if(t===e)return!0;for(let n in t)if(_l.call(t,n)&&!(n in e))return!1;for(let n in e)if(_l.call(e,n)&&t[n]!==e[n])return!1;return!0}const ZA=/^on[A-Z]/;function KA(t,e){const n=Ec(t,e);for(let r of n)if(!ZA.test(r))return!1;return!0}function Ec(t,e){let n=[];for(let r in t)_l.call(t,r)&&(r in e||n.push(r));for(let r in e)_l.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function eu(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&XA(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function XA(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function JA(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=r){let o=t[s];o!==void 0&&i.push(o)}return i}let D0={};function eC(t,e){D0[t]=e}function tC(t){return new D0[t]}class nC{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return qe(e)}markerToArray(e){return Tn(e)}}eC("gregory",nC);const rC=/^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;function iC(t){let e=rC.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(w0(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class sC{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=tC(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):qe(Wp(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=qe(e)),n===null||!w0(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=iC(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return _n(e)===_n(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return _n(e)===_n(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=CA(e,n),r!==null?{unit:"week",value:r}:(r=Sl(e,n),r!==null?{unit:"day",value:r}:(r=TA(e,n),Po(r)?{unit:"hour",value:r}:(r=_A(e,n),Po(r)?{unit:"minute",value:r}:(r=DA(e,n),Po(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/yA(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/EA(r):r.days&&(i=Sl(e,n),i!==null)?i/qr(r):(n.valueOf()-e.valueOf())/kt(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?K(e):n==="hour"?bA(e):n==="minute"?kA(e):n==="second"?OA(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):RA(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=Ln(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),T0(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?qe(Wp(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):qe(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-$p(Tn(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Tn(e)):null}toDate(e,n){return this.timeZone==="local"?$p(Tn(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Tn(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Ns{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Ns.prototype.classes={};Ns.prototype.iconClasses={};Ns.prototype.baseIconClass="";Ns.prototype.iconOverridePrefix="";function Jp(t){t();let e=L.debounceRendering,n=[];function r(i){n.push(i)}for(L.debounceRendering=r,Es(T(oC,{}),document.createElement("div"));n.length;)n.shift()();L.debounceRendering=e}class oC extends it{render(){return T("div",{})}componentDidMount(){this.setState({})}}function A0(t){let e=N1(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(l=>{l.context=o.value,l.forceUpdate()})},this.sub=o=>{s.push(o);let l=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),l&&l.call(o)}}}return i},e}class lC{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const an=A0({});function aC(t,e,n,r,i,s,o,l,a,u,c,f,h){return{dateEnv:i,options:n,pluginHooks:o,emitter:u,dispatch:l,getCurrentData:a,calendarApi:c,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:n.direction==="rtl",addResizeHandler(d){u.on("_resize",d)},removeResizeHandler(d){u.off("_resize",d)},createScrollResponder(d){return new lC(d,u,B(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:f,unregisterInteractiveComponent:h}}class Er extends it{shouldComponentUpdate(e,n){return this.debug&&console.log(Ec(e,this.props),Ec(n,this.state)),!eu(this.props,e,this.propEquality)||!eu(this.state,n,this.stateEquality)}safeSetState(e){eu(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Er.addPropsEquality=uC;Er.addStateEquality=cC;Er.contextType=an;Er.prototype.propEquality={};Er.prototype.stateEquality={};class q extends Er{}q.contextType=an;function uC(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function cC(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function on(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class lf extends q{constructor(){super(...arguments),this.id=vr(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{Sc(this.props.generatorName,this.context.options)||this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&on(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:s,renderProps:o}=e,l=C0(e,[],this.handleEl);let a=!1,u,c=[],f;if(i!=null){const h=typeof i=="function"?i(o,T):i;if(h===!0)a=!0;else{const d=h&&typeof h=="object";d&&"html"in h?l.dangerouslySetInnerHTML={__html:h.html}:d&&"domNodes"in h?c=Array.prototype.slice.call(h.domNodes):(d?Zy(h):typeof h!="function")?u=h:f=h}}else a=!Sc(e.generatorName,r);return a&&s&&(u=s(o)),this.queuedDomNodes=c,this.currentGeneratorMeta=f,T(e.elTag,l,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=i.options;if(s){const l=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[r.generatorName];l&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},r),{elClasses:(r.elClasses||[]).filter(dC)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!Pn(e,n)){n.forEach(Kd);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}lf.addPropsEquality({elClasses:Pn,elStyle:Ft,elAttrs:KA,renderProps:Ft});function Sc(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function C0(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function dC(t){return!!t}const b0=A0(0);class ut extends it{constructor(){super(...arguments),this.InnerContent=fC.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&on(this.props.elRef,e)}}render(){const{props:e}=this,n=hC(e.classNameGenerator,e.renderProps);if(e.children){const r=C0(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?T(e.elTag,r,i):i}else return T(lf,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}ut.contextType=b0;function fC(t,e){const n=t.props;return T(lf,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function hC(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class Dl extends q{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return T(ut,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...k0(e.viewSpec),...e.elClasses||[]],renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}}function k0(t){return[`fc-${t.type}-view`,"fc-view"]}function pC(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function em(t,e){let n=[],{start:r}=e,i,s;for(t.sort(mC),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function mC(t,e){return t.start.valueOf()-e.start.valueOf()}function fr(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function gC(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function af(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function la(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Xt(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function vC(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function O0(t){let e=Math.floor(yr(t.start,t.end))||1,n=K(t.start),r=ze(n,e);return{start:n,end:r}}function R0(t,e=B(0)){let n=null,r=null;if(t.end){r=K(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=kt(e)&&(r=ze(r,1))}return t.start&&(n=K(t.start),r&&r<=n&&(r=ze(n,1))),{start:n,end:r}}function Ur(t,e,n,r){return r==="year"?B(n.diffWholeYears(t,e),"year"):r==="month"?B(n.diffWholeMonths(t,e),"month"):AA(t,e)}function yC(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function EC(t,e){let n=t.initialDate;return n!=null?e.createMarker(n):Ms(t.now,e)}function Ms(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}class N0{constructor(e){this.props=e,this.nowDate=Ms(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,n,r=!0){let{props:i}=this,s,o,l,a,u,c;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=vC(e,s)),o=this.buildCurrentRangeInfo(e,n),l=/^(year|month|week|day)$/.test(o.unit),a=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,l),a=this.trimHiddenDays(a),u=a,i.showNonCurrentDates||(u=fr(u,o.range)),u=this.adjustActiveRange(u),u=fr(u,s),c=af(o.range,s),Xt(a,e)||(e=a.start),{currentDate:e,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:l,activeRange:u,renderRange:a,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:c,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,s=null,o=null,l;return r.duration?(i=r.duration,s=r.durationUnit,o=this.buildRangeFromDuration(e,n,i,s)):(l=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,n,l)):(o=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),s=yc(i).unit,o=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:o}}getFallbackDuration(){return B({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:o,end:l}=e;return r&&(qr(i)<0&&(o=K(o),o=n.add(o,i)),qr(s)>1&&(l=K(l),l=ze(l,-1),l=n.add(l,s))),{start:o,end:l}}buildRangeFromDuration(e,n,r,i){let{dateEnv:s,dateAlignment:o}=this.props,l,a,u;if(!o){let{dateIncrement:f}=this.props;f&&kt(f)<kt(r)?o=yc(f).unit:o=i}qr(r)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,n),l=K(l));function c(){l=s.startOf(e,o),a=s.add(l,r),u={start:l,end:a}}return c(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,n),c()),u}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:s}=this.props,o=0,l=e,a;s&&(l=i.startOf(l,s)),l=K(l),l=this.skipHiddenDays(l,n),a=l;do a=ze(a,1),this.isHiddenDay(a)||(o+=1);while(o<r);return{start:l,end:a}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?B(1,r):e||B({days:1}))}refineRange(e){if(e){let n=pC(e,this.props.dateEnv);return n&&(n=R0(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=ze(e,n);return e}}function uf(t,e,n,r){return{instanceId:vr(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function SC(t,e,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(t,n);if(s){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function hr(t,e,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:o,instances:l}=t;l=dr(l,a=>!o[a.defId].recurringDef);for(let a in o){let u=o[a];if(u.recurringDef){let{duration:c}=u.recurringDef;c||(c=u.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let f=wC(u,c,e,r,i.recurringTypes);for(let h of f){let d=uf(a,{start:h,end:r.add(h,c)});l[d.instanceId]=d}}}return{defs:o,instances:l}}function wC(t,e,n,r,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(K)),o}const zo={id:String,groupId:String,title:String,url:String,interactive:Boolean},M0={start:C,end:C,date:C,allDay:Boolean},TC=Object.assign(Object.assign(Object.assign({},zo),M0),{extendedProps:C});function I0(t,e,n,r,i=cf(n),s,o){let{refined:l,extra:a}=x0(t,n,i),u=DC(e,n),c=SC(l,u,n.dateEnv,n.pluginHooks.recurringTypes);if(c){let h=wc(l,a,e?e.sourceId:"",c.allDay,!!c.duration,n,s);return h.recurringDef={typeId:c.typeId,typeData:c.typeData,duration:c.duration},{def:h,instance:null}}let f=_C(l,u,n,r);if(f){let h=wc(l,a,e?e.sourceId:"",f.allDay,f.hasEnd,n,s),d=uf(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return o&&h.publicId&&o[h.publicId]&&(d.instanceId=o[h.publicId]),{def:h,instance:d}}return null}function x0(t,e,n=cf(e)){return rf(t,n)}function cf(t){return Object.assign(Object.assign(Object.assign({},Al),TC),t.pluginHooks.eventRefiners)}function wc(t,e,n,r,i,s,o){let l={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||vr(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:Cl(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let a of s.pluginHooks.eventDefMemberAdders)Object.assign(l,a(t));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function _C(t,e,n,r){let{allDay:i}=t,s,o=null,l=!1,a,u=null,c=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(c),s)o=s.marker;else if(!r)return null;return t.end!=null&&(a=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!a||a.isTimeUnspecified)),i&&o&&(o=K(o)),a&&(u=a.marker,i&&(u=K(u)),o&&u<=o&&(u=null)),u?l=!0:r||(l=n.options.forceEventDuration||!1,u=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:l,range:{start:o,end:u},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:a?a.forcedTzo:null}}function DC(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Ss(t,e,n,r,i,s){let o=st(),l=cf(n);for(let a of t){let u=I0(a,e,n,r,l,i,s);u&&Tc(u,o)}return o}function Tc(t,e=st()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function df(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=aa(t,s=>AC(r,s));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return st()}function AC(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function st(){return{defs:{},instances:{}}}function ff(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function aa(t,e){let n=dr(t.defs,e),r=dr(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function CC(t,e){let{defs:n,instances:r}=t,i={},s={};for(let o in n)e.defs[o]||(i[o]=n[o]);for(let o in r)!e.instances[o]&&i[r[o].defId]&&(s[o]=r[o]);return{defs:i,instances:s}}function bC(t,e){return Array.isArray(t)?Ss(t,null,e,!0):typeof t=="object"&&t?Ss([t],null,e,!0):t!=null?String(t):null}function tm(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\\s+/):[]}const Al={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:C,overlap:C,allow:C,className:tm,classNames:tm,color:String,backgroundColor:String,borderColor:String,textColor:String},kC={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Cl(t,e){let n=bC(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function P0(t){return t.reduce(OC,kC)}function OC(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const RC={id:String,defaultAllDay:Boolean,url:String,format:String,events:C,eventDataTransform:C,success:C,failure:C};function L0(t,e,n=z0(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:s}=rf(r,n),o=NC(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:vr(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Cl(i,e),extendedProps:s}}return null}function z0(t){return Object.assign(Object.assign(Object.assign({},Al),RC),t.pluginHooks.eventSourceRefiners)}function NC(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let s=n[r].parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function MC(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return IC(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return xC(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return PC(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return ff(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?hr(t,r.activeRange,i):t;case"REMOVE_EVENTS":return CC(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return U0(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return aa(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return st();default:return t}}function IC(t,e,n,r,i,s){if(e&&n===e.latestFetchId){let o=Ss(H0(i,e,s),e,s);return r&&(o=hr(o,r,s)),ff(U0(t,e.sourceId),o)}return t}function xC(t,e,n,r,i){const{defIdMap:s,instanceIdMap:o}=zC(t);let l=Ss(H0(n,e,i),e,i,!1,s,o);return hr(l,r,i)}function H0(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=nm(t,i)),r&&(t=nm(t,r)),t}function nm(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function PC(t,e,n,r){return n&&(e=hr(e,n,r)),ff(t,e)}function rm(t,e,n){let{defs:r}=t,i=sn(t.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function U0(t,e){return aa(t,n=>n.sourceId!==e)}function LC(t,e){return{defs:t.defs,instances:dr(t.instances,n=>!e[n.instanceId])}}function zC(t){const{defs:e,instances:n}=t,r={},i={};for(let s in e){const o=e[s],{publicId:l}=o;l&&(r[l]=s)}for(let s in n){const o=n[s],l=e[o.defId],{publicId:a}=l;a&&(i[a]=s)}return{defIdMap:r,instanceIdMap:i}}class ua{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){HC(this.handlers,e,n)}off(e,n){UC(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let o of s)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function HC(t,e,n){(t[e]||(t[e]=[])).push(n)}function UC(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const BC={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function FC(t,e){return Ss(YC(t),null,e)}function YC(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},BC),n)),e}function B0(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},hf(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function jC(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function hf(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,rb(t,e.dateEnv)),n}function im(t,e,n){let{dateEnv:r,options:i}=n,s=e;return t?(s=K(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function pf(t,e,n,r){let i=bl(t.defs,e),s=st();for(let o in t.defs){let l=t.defs[o];s.defs[o]=VC(l,i[o],n,r)}for(let o in t.instances){let l=t.instances[o],a=s.defs[l.defId];s.instances[o]=WC(l,a,i[l.defId],n,r)}return s}function VC(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function WC(t,e,n,r,i){let{dateEnv:s}=i,o=r.standardProps&&r.standardProps.allDay===!0,l=r.standardProps&&r.standardProps.hasEnd===!1,a=Object.assign({},t);return o&&(a.range=O0(a.range)),r.datesDelta&&n.startEditable&&(a.range={start:s.add(a.range.start,r.datesDelta),end:s.add(a.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(a.range={start:s.add(a.range.start,r.startDelta),end:a.range.end}),r.endDelta&&n.durationEditable&&(a.range={start:a.range.start,end:s.add(a.range.end,r.endDelta)}),l&&(a.range={start:a.range.start,end:im(e.allDay,a.range.start,i)}),e.allDay&&(a.range={start:K(a.range.start),end:K(a.range.end)}),a.range.end<a.range.start&&(a.range.end=im(e.allDay,a.range.start,i)),a}class Dr{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ie{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in M0)console.warn("Could not set date-related prop \'name\'. Use one of the date-related methods instead.");else if(e==="id")n=zo[e](n),this.mutate({standardProps:{publicId:n}});else if(e in zo)n=zo[e](n),this.mutate({standardProps:{[e]:n}});else if(e in Al){let r=Al[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop \'${e}\'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,o=Ur(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=Ur(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},o=i.createMarker(e),l;if(o&&!(n!=null&&(l=i.createMarker(n),!l))&&this._instance){let a=this._instance.range;r.allDay===!0&&(a=O0(a));let u=Ur(a.start,o,i,r.granularity);if(l){let c=Ur(a.end,l,i,r.granularity);mA(u,c)?this.mutate({datesDelta:u,standardProps:s}):this.mutate({startDelta:u,endDelta:c,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:u,standardProps:s})}}moveStart(e){let n=B(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=B(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=B(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=le(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),o=df(s,n.instanceId);o=pf(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let a=new ie(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:a,event:this,relatedEvents:ir(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=F0(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Dr(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:s}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),s&&(o.end=s),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function F0(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function ir(t,e,n){let{defs:r,instances:i}=t,s=[],o=n?n.instanceId:"";for(let l in i){let a=i[l],u=r[a.defId];a.instanceId!==o&&s.push(new ie(e,u,a))}return s}function sm(t,e,n,r){let i={},s={},o={},l=[],a=[],u=bl(t.defs,e);for(let c in t.defs){let f=t.defs[c];u[f.defId].display==="inverse-background"&&(f.groupId?(i[f.groupId]=[],o[f.groupId]||(o[f.groupId]=f)):s[c]=[])}for(let c in t.instances){let f=t.instances[c],h=t.defs[f.defId],d=u[h.defId],p=f.range,v=!h.allDay&&r?R0(p,r):p,y=fr(v,n);y&&(d.display==="inverse-background"?h.groupId?i[h.groupId].push(y):s[f.defId].push(y):d.display!=="none"&&(d.display==="background"?l:a).push({def:h,ui:d,instance:f,range:y,isStart:v.start&&v.start.valueOf()===y.start.valueOf(),isEnd:v.end&&v.end.valueOf()===y.end.valueOf()}))}for(let c in i){let f=i[c],h=em(f,n);for(let d of h){let p=o[c],v=u[p.defId];l.push({def:p,ui:v,instance:null,range:d,isStart:!1,isEnd:!1})}}for(let c in s){let f=s[c],h=em(f,n);for(let d of h)l.push({def:t.defs[c],ui:u[c],instance:null,range:d,isStart:!1,isEnd:!1})}return{bg:l,fg:a}}function $C(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function om(t,e){t.fcSeg=e}function oi(t){return t.fcSeg||t.parentNode.fcSeg||null}function bl(t,e){return sn(t,n=>Y0(n,e))}function Y0(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),P0(n)}function j0(t,e){let n=t.map(GC);return n.sort((r,i)=>aA(r,i,e)),n.map(r=>r._seg)}function GC(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function qC(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:s}=t.eventRange,o=s.startEditable;for(let l of r)o=l(o,i,s,e);return o}function QC(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function ZC(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function V0(t,e,n,r,i,s,o){let{dateEnv:l,options:a}=n,{displayEventTime:u,displayEventEnd:c}=a,f=t.eventRange.def,h=t.eventRange.instance;u==null&&(u=r!==!1),c==null&&(c=i!==!1);let d=h.range.start,p=h.range.end,v=s||t.start||t.eventRange.range.start,y=o||t.end||t.eventRange.range.end,m=K(d).valueOf()===K(v).valueOf(),g=K(Ln(p,-1)).valueOf()===K(Ln(y,-1)).valueOf();return u&&!f.allDay&&(m||g)?(v=m?d:v,y=g?p:y,c&&f.hasEnd?l.formatRange(v,y,e,{forcedStartTzo:s?null:h.forcedStartTzo,forcedEndTzo:o?null:h.forcedEndTzo}):l.format(v,e,{forcedTzo:s?null:h.forcedStartTzo})):""}function Mn(t,e,n){let r=t.eventRange.range;return{isPast:r.end<(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&Xt(e,r.start)}}function KC(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function W0(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function $0(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:o}=e,{eventInteractive:l}=o;return l==null&&(l=n.interactive,l==null&&(l=!!s.hasHandlers("eventClick"))),l?S0(a=>{s.trigger("eventClick",{el:a.target,event:new ie(e,n,r),jsEvent:a,view:e.viewApi})}):{}}const XC={start:C,end:C,allDay:Boolean};function JC(t,e,n){let r=eb(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function eb(t,e){let{refined:n,extra:r}=rf(t,XC),i=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:o},r)}function tb(t,e){return gC(t.range,e.range)&&t.allDay===e.allDay&&nb(t,e)}function nb(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function rb(t,e){return Object.assign(Object.assign({},q0(t.range,e,t.allDay)),{allDay:t.allDay})}function G0(t,e,n){return Object.assign(Object.assign({},q0(t,e,n)),{timeZone:e.timeZone})}function q0(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function ib(t,e,n){let r=x0({editable:!1},n),i=wc(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:Y0(i,e),instance:uf(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function sb(t,e,n){let r=!1,i=function(l){r||(r=!0,e(l))},s=function(l){r||(r=!0,n(l))},o=t(i,s);o&&typeof o.then=="function"&&o.then(i,s)}class lm extends Error{constructor(e,n){super(e),this.response=n}}function ob(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new lm("Failure parsing JSON",i)});throw new lm("Request failed",i)})}let tu;function Q0(){return tu==null&&(tu=lb()),tu}function lb(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class ab extends q{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",s=!i&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return Q0()||o.push("fc-liquid-hack"),e.children(o,s,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class gi{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function ub(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function mf(t){return{[t.component.uid]:t}}const _c={};class cb{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name \'${e}\'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,o;for(let l in n)i.push(l);for(s=0;s<i.length;s+=1)if(o=n[i[s]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Ms(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=B(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),le(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),le(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),s=JC(r,i.dateEnv,B({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),B0(s,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),jC(e,n))}addEvent(e,n){if(e instanceof ie){let o=e._def,l=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Tc({def:o,instance:l})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof Dr)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=of(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let s=I0(e,i,r,!1);if(s){let o=new ie(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Tc(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:F0(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let s in r){let o=r[s];if(o.publicId===e){if(o.recurringDef)return new ie(n,o,null);for(let l in i){let a=i[l];if(a.defId===o.defId)return new ie(n,o,a)}}}return null}getEvents(){let e=this.getCurrentData();return ir(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new Dr(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new Dr(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Dr)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=L0(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Dr(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=B(e);n&&this.trigger("_scrollRequest",{time:n})}}function db(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function Z0(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function fb(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function hb(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function pb(t,e){return{left:t.left-e.left,top:t.top-e.top}}const nu=st();class mb{constructor(){this.getKeysForEventDefs=z(this._getKeysForEventDefs),this.splitDateSelection=z(this._splitDateSpan),this.splitEventStore=z(this._splitEventStore),this.splitIndividualUi=z(this._splitIndividualUi),this.splitEventDrag=z(this._splitInteraction),this.splitEventResize=z(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,r),o=this.splitEventStore(e.eventStore,r),l=this.splitEventDrag(e.eventDrag),a=this.splitEventResize(e.eventResize),u={};this.eventUiBuilders=sn(n,(c,f)=>this.eventUiBuilders[f]||z(gb));for(let c in n){let f=n[c],h=o[c]||nu,d=this.eventUiBuilders[c];u[c]={businessHours:f.businessHours||e.businessHours,dateSelection:i[c]||null,eventStore:h,eventUiBases:d(e.eventUiBases[""],f.ui,s[c]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:l[c]||null,eventResize:a[c]||null}}return u}_splitDateSpan(e){let n={};if(e){let r=this.getKeysForDateSpan(e);for(let i of r)n[i]=e}return n}_getKeysForEventDefs(e){return sn(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:r,instances:i}=e,s={};for(let o in r)for(let l of n[o])s[l]||(s[l]=st()),s[l].defs[o]=r[o];for(let o in i){let l=i[o];for(let a of n[l.defId])s[a]&&(s[a].instances[o]=l)}return s}_splitIndividualUi(e,n){let r={};for(let i in e)if(i)for(let s of n[i])r[s]||(r[s]={}),r[s][i]=e[i];return r}_splitInteraction(e){let n={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,i),o=l=>{n[l]||(n[l]={affectedEvents:r[l]||nu,mutatedEvents:s[l]||nu,isEvent:e.isEvent})};for(let l in r)o(l);for(let l in s)o(l)}return n}}function gb(t,e,n){let r=[];t&&r.push(t),e&&r.push(e);let i={"":P0(r)};return n&&Object.assign(i,n),i}function K0(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&!Xt(r.activeRange,t)),isOther:!!(r&&!Xt(r.currentRange,t)),isToday:!!(e&&Xt(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function gf(t,e){let n=["fc-day",`fc-day-${SA[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const vb=le({year:"numeric",month:"long",day:"numeric"}),yb=le({week:"long"});function kl(t,e,n="day",r=!0){const{dateEnv:i,options:s,calendarApi:o}=t;let l=i.format(e,n==="week"?yb:vb);if(s.navLinks){let a=i.toDate(e);const u=c=>{let f=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof f=="function"?f.call(o,i.toDate(e),c):(typeof f=="string"&&(n=f),o.zoomTo(e,n))};return Object.assign({title:Ki(s.navLinkHint,[l,a],l),"data-navlink":""},r?E0(u):{onClick:u})}return{"aria-label":l}}let ru=null;function Eb(){return ru===null&&(ru=Sb()),ru}function Sb(){let t=document.createElement("div");Zi(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return Kd(t),n}let iu;function wb(){return iu||(iu=Tb()),iu}function Tb(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=X0(t);return document.body.removeChild(t),e}function X0(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function _b(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,l=X0(t),a=l.y-r-i,u=l.x-s-o,c={borderLeft:r,borderRight:i,borderTop:s,borderBottom:o,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return Eb()&&n.direction==="rtl"?c.scrollbarLeft=a:c.scrollbarRight=a,e&&(c.paddingLeft=parseInt(n.paddingLeft,10)||0,c.paddingRight=parseInt(n.paddingRight,10)||0,c.paddingTop=parseInt(n.paddingTop,10)||0,c.paddingBottom=parseInt(n.paddingBottom,10)||0),c}function Db(t,e=!1,n){let r=n?t.getBoundingClientRect():vf(t),i=_b(t,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function vf(t){let e=t.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset}}function Ab(t){let e=J0(t),n=t.getBoundingClientRect();for(let r of e){let i=Z0(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function J0(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class li{constructor(e,n,r,i){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.left-e),r.push(s.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.top-e),r.push(s.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return co(this.tops||[],e.tops||[])&&co(this.bottoms||[],e.bottoms||[])&&co(this.lefts||[],e.lefts||[])&&co(this.rights||[],e.rights||[])}}function co(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class yf{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Cb extends yf{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class bb extends yf{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(e){window.scroll(window.pageXOffset,e)}setScrollLeft(e){window.scroll(e,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class jt extends q{constructor(){super(...arguments),this.uid=vr()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Le(e,".fc-event-mirror")}isValidDateDownEl(e){return!Le(e,".fc-event:not(.fc-bg-event)")&&!Le(e,".fc-more-link")&&!Le(e,"a[data-navlink]")&&!Le(e,".fc-popover")}}class eE{constructor(e=n=>n.thickness){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);return this.isInsertionValid(r,e)?(this.insertEntryAt(e,r),1):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){return this.allowReslicing&&e.touchingEntry?this.splitEntry(n,e.touchingEntry,r):(r.push(n),0)}splitEntry(e,n,r){let i=0,s=[],o=e.span,l=n.span;return o.start<l.start&&(i+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.start,end:l.start}},s)),o.end>l.end&&(i+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:l.end,end:o.end}},s)),i?(r.push({index:e.index,thickness:e.thickness,span:Ef(l,o)},...s),i):(r.push(e),0)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(su(i,n.level,n.levelCoord),su(r,n.level,[e])):su(r[n.level],n.lateral,e),this.stackCnts[sr(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:s}=this,o=n.length,l=0,a=-1,u=-1,c=null,f=0;for(let p=0;p<o;p+=1){let v=n[p];if(!i&&v>=l+this.getEntryThickness(e))break;let y=r[p],m,g=Ac(y,e.span.start,Dc),E=g[0]+g[1];for(;(m=y[E])&&m.span.start<e.span.end;){let w=v+this.getEntryThickness(m);w>l&&(l=w,c=m,a=p,u=E),w===l&&(f=Math.max(f,s[sr(m)]+1)),E+=1}}let h=0;if(c)for(h=a+1;h<o&&n[h]<l;)h+=1;let d=-1;return h<o&&n[h]===l&&(d=Ac(r[h],e.span.end,Dc)[0]),{touchingLevel:a,touchingLateral:u,touchingEntry:c,stackCnt:f,levelCoord:l,level:h,lateral:d}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let s=0;s<r;s+=1){let o=e[s],l=n[s];for(let a of o)i.push(Object.assign(Object.assign({},a),{thickness:this.getEntryThickness(a),levelCoord:l}))}return i}}function Dc(t){return t.span.end}function sr(t){return t.index+":"+t.span.start}function kb(t){let e=[];for(let n of t){let r=[],i={span:n.span,entries:[n]};for(let s of e)Ef(s.span,i.span)?i={entries:s.entries.concat(i.entries),span:Ob(s.span,i.span)}:r.push(s);r.push(i),e=r}return e}function Ob(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function Ef(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function su(t,e,n){t.splice(e,0,n)}function Ac(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),o=n(t[s]);if(e<o)i=s;else if(e>o)r=s+1;else return[s,1]}return[r,0]}class Rb{constructor(e,n){this.emitter=new ua}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Sf={};function Nb(t,e){return!t||e>10?le({weekday:"short"}):e>1?le({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):le({weekday:"long"})}const tE="fc-col-header-cell";function nE(t){return t.text}class Mb extends q{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:s}=this,{date:o,dateProfile:l}=s,a=K0(o,s.todayRange,null,l),u=[tE].concat(gf(a,r)),c=e.format(o,s.dayHeaderFormat),f=!a.isDisabled&&s.colCnt>1?kl(this.context,o):{},h=Object.assign(Object.assign(Object.assign({date:e.toDate(o),view:i},s.extraRenderProps),{text:c}),a);return T(ut,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":a.isDisabled?void 0:tf(o)},s.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:nE,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},d=>T("div",{className:"fc-scrollgrid-sync-inner"},!a.isDisabled&&T(d,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const Ib=le({weekday:"long"});class xb extends q{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:s}=this.context,o=ze(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},a=n.format(o,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:o},l),{view:i}),e.extraRenderProps),{text:a});return T(ut,{elTag:"th",elClasses:[tE,...gf(l,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:nE,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},c=>T("div",{className:"fc-scrollgrid-sync-inner"},T(c,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,Ib)}})))}}class Is extends it{constructor(e,n){super(e,n),this.initialNowDate=Ms(n.options.now,n.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:n}=this,r=Ln(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),i=n.dateEnv.startOf(r,e.unit),s=n.dateEnv.add(i,B(1,e.unit)),o=s.valueOf()-r.valueOf();return o=Math.min(1e3*60*60*24,o),{currentState:{nowDate:i,todayRange:am(i)},nextState:{nowDate:s,todayRange:am(s)},waitMs:o}}setTimeout(){let{nextState:e,waitMs:n}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},n)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Is.contextType=an;function am(t){let e=K(t),n=ze(e,1);return{start:e,end:n}}class rE extends q{constructor(){super(...arguments),this.createDayHeaderFormatter=z(Pb)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return T(Is,{unit:"day"},(l,a)=>T("tr",{role:"row"},s&&s("day"),n.map(u=>i?T(Mb,{key:u.toISOString(),date:u,dateProfile:r,todayRange:a,colCnt:n.length,dayHeaderFormat:o}):T(xb,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:o}))))}}function Pb(t,e,n){return t||Nb(e,n)}class iE{constructor(e,n){let r=e.start,{end:i}=e,s=[],o=[],l=-1;for(;r<i;)n.isHiddenDay(r)?s.push(l+.5):(l+=1,s.push(l),o.push(r)),r=ze(r,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(ze(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(yr(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class sE{constructor(e,n){let{dates:r}=e,i,s,o;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);o=Math.ceil(r.length/i)}else o=1,i=r.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:s,lastIndex:o}=r,l=s;for(;l<=o;){let a=Math.floor(l/n),u=Math.min((a+1)*n,o+1);i.push({row:a,firstCol:l%n,lastCol:(u-1)%n,isStart:r.isStart&&l===s,isEnd:r.isEnd&&u-1===o}),l=u}}return i}}class oE{constructor(){this.sliceBusinessHours=z(this._sliceBusinessHours),this.sliceDateSelection=z(this._sliceDateSpan),this.sliceEventStore=z(this._sliceEventStore),this.sliceEventDrag=z(this._sliceInteraction),this.sliceEventResize=z(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...s){let{eventUiBases:o}=e,l=this.sliceEventStore(e.eventStore,o,n,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...s),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...s),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...s){return this._sliceDateSpan({range:{start:e,end:Ln(e,1)},allDay:!1},n,r,{},i,...s)}_sliceBusinessHours(e,n,r,i,...s){return e?this._sliceEventStore(hr(e,fo(n,!!r),i),{},n,r,...s).bg:[]}_sliceEventStore(e,n,r,i,...s){if(e){let o=sm(e,n,fo(r,!!i),i);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...s){if(!e)return null;let o=sm(e.mutatedEvents,n,fo(r,!!i),i);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,s,...o){if(!e)return[];let l=fo(n,!!r),a=fr(e.range,l);if(a){e=Object.assign(Object.assign({},e),{range:a});let u=ib(e,i,s),c=this.sliceRange(e.range,...o);for(let f of c)f.eventRange=u;return c}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:ze(r.start,1)});let i=this.sliceRange(r,...n);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}}function fo(t,e){let n=t.activeRange;return e?n:{start:Ln(n.start,t.slotMinTime.milliseconds),end:Ln(n.end,t.slotMaxTime.milliseconds-864e5)}}function lE(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!la(e.validRange,r[i].range))return!1;return aE({eventDrag:t},n)}function Lb(t,e,n){return la(e.validRange,t.range)?aE({dateSelection:t},n):!1}function aE(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||zb)(r,e)}function zb(t,e,n={},r){return!(t.eventDrag&&!Hb(t,e,n,r)||t.dateSelection&&!Ub(t,e,n,r))}function Hb(t,e,n,r){let i=e.getCurrentData(),s=t.eventDrag,o=s.mutatedEvents,l=o.defs,a=o.instances,u=bl(l,s.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(u=sn(u,r));let c=LC(t.eventStore,s.affectedEvents.instances),f=c.defs,h=c.instances,d=bl(f,t.eventUiBases);for(let p in a){let v=a[p],y=v.range,m=u[v.defId],g=l[v.defId];if(!uE(m.constraints,y,c,t.businessHours,e))return!1;let{eventOverlap:E}=e.options,w=typeof E=="function"?E:null;for(let _ in h){let b=h[_];if(af(y,b.range)&&(d[b.defId].overlap===!1&&s.isEvent||m.overlap===!1||w&&!w(new ie(e,f[b.defId],b),new ie(e,g,v))))return!1}let D=i.eventStore;for(let _ of m.allows){let b=Object.assign(Object.assign({},n),{range:v.range,allDay:g.allDay}),A=D.defs[g.defId],x=D.instances[p],P;if(A?P=new ie(e,A,x):P=new ie(e,g),!_(hf(b,e),P))return!1}}return!0}function Ub(t,e,n,r){let i=t.eventStore,s=i.defs,o=i.instances,l=t.dateSelection,a=l.range,{selectionConfig:u}=e.getCurrentData();if(r&&(u=r(u)),!uE(u.constraints,a,i,t.businessHours,e))return!1;let{selectOverlap:c}=e.options,f=typeof c=="function"?c:null;for(let h in o){let d=o[h];if(af(a,d.range)&&(u.overlap===!1||f&&!f(new ie(e,s[d.defId],d),null)))return!1}for(let h of u.allows){let d=Object.assign(Object.assign({},n),l);if(!h(hf(d,e),null))return!1}return!0}function uE(t,e,n,r,i){for(let s of t)if(!Fb(Bb(s,e,n,r,i),e))return!1;return!0}function Bb(t,e,n,r,i){return t==="businessHours"?ou(hr(r,e,i)):typeof t=="string"?ou(aa(n,s=>s.groupId===t)):typeof t=="object"&&t?ou(hr(t,e,i)):[]}function ou(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function Fb(t,e){for(let n of t)if(la(n,e))return!0;return!1}const ho=/^(visible|hidden)$/;class Yb extends q{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,on(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,s=["fc-scroller"];return n&&(r?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),T("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(ho.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(ho.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return ho.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return ho.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Qt{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:s}=this,o=!1,l=!1;n!==null?(o=r in s,s[r]=n,i[r]=(i[r]||0)+1,l=!0):(i[r]-=1,i[r]||(delete s[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),l&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return JA(this.currentMap,e,n,r)}getAll(){return of(this.currentMap)}}function jb(t){let e=X1(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,fA(r));return Math.ceil(n)}function cE(t,e){return t.liquid&&e.liquid}function Vb(t,e){return e.maxHeight!=null||cE(t,e)}function Wb(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):T("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,T(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function $b(t,e){return Pn(t,e,Ft)}function Gb(t,e){let n=[];for(let r of t){let i=r.span||1;for(let s=0;s<i;s+=1)n.push(T("col",{style:{width:r.width==="shrink"?qb(e):r.width||"",minWidth:r.minWidth||""}}))}return T("colgroup",{},...n)}function qb(t){return t??4}function Qb(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function Zb(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function Kb(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Cc(t){return T("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Ol(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function dE(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class wf extends q{constructor(){super(...arguments),this.processCols=z(e=>e,$b),this.renderMicroColGroup=z(Gb),this.scrollerRefs=new Qt,this.scrollerElRefs=new Qt(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],s=this.processCols(e.cols),o=this.renderMicroColGroup(s,n.shrinkWidth),l=Zb(e.liquid,r);e.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let a=i.length,u=0,c,f=[],h=[],d=[];for(;u<a&&(c=i[u]).type==="header";)f.push(this.renderSection(c,o,!0)),u+=1;for(;u<a&&(c=i[u]).type==="body";)h.push(this.renderSection(c,o,!1)),u+=1;for(;u<a&&(c=i[u]).type==="footer";)d.push(this.renderSection(c,o,!0)),u+=1;let p=!Q0();const v={role:"rowgroup"};return T("table",{role:"grid",className:l.join(" "),style:{height:e.height}},!!(!p&&f.length)&&T("thead",v,...f),!!(!p&&h.length)&&T("tbody",v,...h),!!(!p&&d.length)&&T("tfoot",v,...d),p&&T("tbody",v,...f,...h,...d))}renderSection(e,n,r){return"outerContent"in e?T(ee,{key:e.key},e.outerContent):T("tr",{key:e.key,role:"presentation",className:Kb(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:l,scrollerClientHeights:a}=this.state,u=Vb(s,e),c=cE(s,e),f=s.liquid?o?"scroll":u?"auto":"hidden":"visible",h=e.key,d=Wb(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&l[h]!==void 0?l[h]:null,clientHeight:a[h]!==void 0?a[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return T(i?"th":"td",{ref:r.elRef,role:"presentation"},T("div",{className:`fc-scroller-harness${c?" fc-scroller-harness-liquid":""}`},T(Yb,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},d)))}_handleScrollerEl(e,n){let r=Xb(this.props.sections,n);r&&on(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Qb(this.props.cols)?jb(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=wb(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,s={},o={};for(let l in n.currentMap){let a=n.currentMap[l];if(a&&a.needsYScrolling()){i=!0;break}}for(let l of this.props.sections){let a=l.key,u=r.currentMap[a];if(u){let c=u.parentNode;s[a]=Math.floor(c.getBoundingClientRect().width-(i?e.y:0)),o[a]=Math.floor(c.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:o}}}wf.addStateEquality({scrollerClientWidths:Ft,scrollerClientHeights:Ft});function Xb(t,e){for(let n of t)if(n.key===e)return n;return null}class Tf extends q{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&om(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:s}=i,{ui:o}=s,l={event:new ie(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&qC(i,n),isStartResizable:!e.disableResizing&&QC(i,n),isEndResizable:!e.disableResizing&&ZC(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return T(ut,Object.assign({},e,{elRef:this.handleEl,elClasses:[...KC(l),...i.eventRange.ui.classNames,...e.elClasses||[]],renderProps:l,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&om(this.el,this.props.seg)}}class fE extends q{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:s}=i.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,l=V0(i,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return T(Tf,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:$0(i,n),defaultGenerator:Jb,timeText:l}),(a,u)=>T(ee,null,T(a,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&T("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&T("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function Jb(t){return T("div",{className:"fc-event-main-frame"},t.timeText&&T("div",{className:"fc-event-time"},t.timeText),T("div",{className:"fc-event-title-container"},T("div",{className:"fc-event-title fc-sticky"},t.event.title||T(ee,null," "))))}const _f=t=>T(an.Consumer,null,e=>{let{options:n}=e,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return T(ut,Object.assign({},t,{elTag:t.elTag||"div",renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount}))}),ek=le({day:"numeric"});class Df extends q{constructor(){super(...arguments),this.refineRenderProps=Lo(tk)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return T(ut,Object.assign({},e,{elClasses:[...gf(i,n.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":tf(e.date)}),renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}}function Af(t){return!!(t.dayCellContent||Sc("dayCellContent",t))}function tk(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,s=K0(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,i?t.monthStartFormat:ek):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}class hE extends q{render(){let{props:e}=this,{seg:n}=e;return T(Tf,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:nk,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function nk(t){let{title:e}=t.event;return e&&T("div",{className:"fc-event-title"},t.event.title)}function pE(t){return T("div",{className:`fc-${t}`})}const mE=t=>T(an.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,s=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),l=n.format(i,s);return T(ut,Object.assign({},t,{renderProps:{num:o,text:l,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:rk,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function rk(t){return t.text}const lu=10;class ik extends q{constructor(){super(...arguments),this.state={titleId:sa()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&on(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=v0(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return H1(T("div",Object.assign({},r.extraAttrs,{id:r.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),T("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},T("span",{className:"fc-popover-title",id:i.titleId},r.title),T("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),T("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,s=Ab(n);if(s){let o=i.getBoundingClientRect(),l=r?Le(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,a=e?s.right-o.width:s.left;l=Math.max(l,lu),a=Math.min(a,document.documentElement.clientWidth-lu-o.width),a=Math.max(a,lu);let u=i.offsetParent.getBoundingClientRect();Zi(i,{top:l-u.top,left:a-u.left})}}}class sk extends jt{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:o}=r,l=n.format(i,e.dayPopoverFormat);return T(Df,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:s},(a,u,c)=>T(ik,{elRef:c.ref,id:r.id,title:l,extraClassNames:["fc-more-popover"].concat(c.className||[]),extraAttrs:c,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},Af(e)&&T(a,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:s,props:o}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class gE extends q{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:sa()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&on(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,s=um(n).start;function o(l){let{def:a,instance:u,range:c}=l.eventRange;return{event:new ie(r,a,u),start:r.dateEnv.toDate(c.start),end:r.dateEnv.toDate(c.end),isStart:l.isStart,isEnd:l.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return T(an.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:o}=r,{moreLinkText:l}=s,{moreCnt:a}=e,u=um(e),c=typeof l=="function"?l.call(o,a):`+${a} ${l}`,f=Ki(s.moreLinkHint,[a],c),h={num:a,shortText:`+${a}`,text:c,view:i};return T(ee,null,!!e.moreCnt&&T(ut,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),E0(this.handleClick)),{title:f,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||ok,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&T(sk,{id:n.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Le(this.linkEl,".fc-view-harness"))}}function ok(t){return t.text}function um(t){if(t.allDayDate)return{start:t.allDayDate,end:ze(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:vE(e),end:ak(e)}}function vE(t){return t.reduce(lk).eventRange.range.start}function lk(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function ak(t){return t.reduce(uk).eventRange.range.end}function uk(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class ck{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class dk extends ck{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const fk=[],yE={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},EE=Object.assign(Object.assign({},yE),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function hk(t){let e=t.length>0?t[0].code:"en",n=fk.concat(t),r={en:EE};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function SE(t,e){return typeof t=="object"&&!Array.isArray(t)?wE(t.code,[t.code],t):pk(t,e)}function pk(t,e){let n=[].concat(t||[]),r=mk(n,e)||EE;return wE(t,n,r)}function mk(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function wE(t,e,n){let r=sf([yE,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function un(t){return{id:vr(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function gk(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let o of s){const l=o.name,a=n[l];a===void 0?(n[l]=o.id,i(o.deps),r=yk(r,o)):a!==o.id&&console.warn(`Duplicate plugin \'${l}\'`)}}return t&&i(t),i(e),r}function vk(){let t=[],e=[],n;return(r,i)=>((!n||!Pn(r,t)||!Pn(i,e))&&(n=gk(r,i)),t=r,e=i,n)}function yk(t,e){return{premiumReleaseDate:Ek(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function Ek(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Bn extends Ns{}Bn.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Bn.prototype.baseIconClass="fc-icon";Bn.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Bn.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Bn.prototype.iconOverrideOption="buttonIcons";Bn.prototype.iconOverrideCustomButtonOption="icon";Bn.prototype.iconOverridePrefix="fc-icon-";function Sk(t,e){let n={},r;for(r in t)bc(r,n,t,e);for(r in e)bc(r,n,t,e);return n}function bc(t,e,n,r){if(e[t])return e[t];let i=wk(t,e,n,r);return i&&(e[t]=i),i}function wk(t,e,n,r){let i=n[t],s=r[t],o=c=>i&&i[c]!==null?i[c]:s&&s[c]!==null?s[c]:null,l=o("component"),a=o("superType"),u=null;if(a){if(a===t)throw new Error("Can\'t have a custom view type that references itself");u=bc(a,e,n,r)}return!l&&u&&(l=u.component),l?{type:t,component:l,defaults:Object.assign(Object.assign({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),s?s.rawOptions:{})}:null}function cm(t){return sn(t,Tk)}function Tk(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=dm(e):n&&!(n.prototype instanceof q)&&(n=dm(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function dm(t){return e=>T(an.Consumer,null,n=>T(ut,{elTag:"div",elClasses:k0(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function _k(t,e,n,r){let i=cm(t),s=cm(e.views),o=Sk(i,s);return sn(o,l=>Dk(l,s,e,n,r))}function Dk(t,e,n,r,i){let s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,l="",a="",u={};if(s&&(o=Ak(s),o)){let h=yc(o);l=h.unit,h.value===1&&(a=l,u=e[l]?e[l].rawOptions:{})}let c=h=>{let d=h.buttonText||{},p=t.defaults.buttonTextKey;return p!=null&&d[p]!=null?d[p]:d[t.type]!=null?d[t.type]:d[a]!=null?d[a]:null},f=h=>{let d=h.buttonHints||{},p=t.defaults.buttonTextKey;return p!=null&&d[p]!=null?d[p]:d[t.type]!=null?d[t.type]:d[a]!=null?d[a]:null};return{type:t.type,component:t.component,duration:o,durationUnit:l,singleUnit:a,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:c(r)||c(n)||t.overrides.buttonText,buttonTextDefault:c(i)||t.defaults.buttonText||c(Xi)||t.type,buttonTitleOverride:f(r)||f(n)||t.overrides.buttonHint,buttonTitleDefault:f(i)||t.defaults.buttonHint||f(Xi)}}let fm={};function Ak(t){let e=JSON.stringify(t),n=fm[e];return n===void 0&&(n=B(t),fm[e]=n),n}function Ck(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function bk(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function kk(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function Ok(t,e,n){let r=e?e.activeRange:null;return _E({},Lk(t,n),r,n)}function Rk(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return _E(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return Mk(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?DE(t,i,r):t;case"FETCH_EVENT_SOURCES":return Cf(t,e.sourceIds?_0(e.sourceIds):AE(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Pk(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function Nk(t,e,n){let r=e?e.activeRange:null;return Cf(t,AE(t,n),r,!0,n)}function TE(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function _E(t,e,n,r){let i={};for(let s of e)i[s.sourceId]=s;return n&&(i=DE(i,n,r)),Object.assign(Object.assign({},t),i)}function Mk(t,e){return dr(t,n=>n.sourceId!==e)}function DE(t,e,n){return Cf(t,dr(t,r=>Ik(r,e,n)),e,!1,n)}function Ik(t,e,n){return CE(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Cf(t,e,n,r,i){let s={};for(let o in t){let l=t[o];e[o]?s[o]=xk(l,n,r,i):s[o]=l}return s}function xk(t,e,n,r){let{options:i,calendarApi:s}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],l=vr();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},a=>{let{rawEvents:u}=a;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(s,u,a.response)||u),t.success&&(u=t.success.call(s,u,a.response)||u),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:u})},a=>{let u=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,a),u=!0),t.failure&&(t.failure(a),u=!0),u||console.warn(a.message,a),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:a})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:l})}function Pk(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function AE(t,e){return dr(t,n=>CE(n,e))}function Lk(t,e){let n=z0(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let s of r){let o=L0(s,e,n);o&&i.push(o)}return i}function CE(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function zk(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function Hk(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function Uk(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Bk(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Fk(t,e,n,r,i){let s=t.headerToolbar?hm(t.headerToolbar,t,e,n,r,i):null,o=t.footerToolbar?hm(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:o}}function hm(t,e,n,r,i,s){let o={},l=[],a=!1;for(let u in t){let c=t[u],f=Yk(c,e,n,r,i,s);o[u]=f.widgets,l.push(...f.viewsWithButtons),a=a||f.hasTitle}return{sectionWidgets:o,viewsWithButtons:l,hasTitle:a}}function Yk(t,e,n,r,i,s){let o=e.direction==="rtl",l=e.customButtons||{},a=n.buttonText||{},u=e.buttonText||{},c=n.buttonHints||{},f=e.buttonHints||{},h=t?t.split(" "):[],d=[],p=!1;return{widgets:h.map(y=>y.split(",").map(m=>{if(m==="title")return p=!0,{buttonName:m};let g,E,w,D,_,b;if(g=l[m])w=A=>{g.click&&g.click.call(A.target,A,A.target)},(D=r.getCustomButtonIconClass(g))||(D=r.getIconClass(m,o))||(_=g.text),b=g.hint||g.text;else if(E=i[m]){d.push(m),w=()=>{s.changeView(m)},(_=E.buttonTextOverride)||(D=r.getIconClass(m,o))||(_=E.buttonTextDefault);let A=E.buttonTextOverride||E.buttonTextDefault;b=Ki(E.buttonTitleOverride||E.buttonTitleDefault||e.viewHint,[A,m],A)}else if(s[m])if(w=()=>{s[m]()},(_=a[m])||(D=r.getIconClass(m,o))||(_=u[m]),m==="prevYear"||m==="nextYear"){let A=m==="prevYear"?"prev":"next";b=Ki(c[A]||f[A],[u.year||"year","year"],u[m])}else b=A=>Ki(c[m]||f[m],[u[A]||A,A],u[m]);return{buttonName:m,buttonClick:w,buttonIcon:D,buttonText:_,buttonHint:b}})),viewsWithButtons:d,hasTitle:p}}class jk{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let Vk={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const Wk=un({name:"array-event-source",eventSourceDefs:[Vk]});let $k={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;sb(i.bind(null,G0(t.range,r)),s=>e({rawEvents:s}),n)}};const Gk=un({name:"func-event-source",eventSourceDefs:[$k]}),qk={method:String,extraParams:C,startParam:String,endParam:String,timeZoneParam:String};let Qk={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=Kk(r,t.range,t.context);ob(r.method,r.url,i).then(([s,o])=>{e({rawEvents:s,response:o})},n)}};const Zk=un({name:"json-event-source",eventSourceRefiners:qk,eventSourceDefs:[Qk]});function Kk(t,e,n){let{dateEnv:r,options:i}=n,s,o,l,a,u={};return s=t.startParam,s==null&&(s=i.startParam),o=t.endParam,o==null&&(o=i.endParam),l=t.timeZoneParam,l==null&&(l=i.timeZoneParam),typeof t.extraParams=="function"?a=t.extraParams():a=t.extraParams||{},Object.assign(u,a),u[s]=r.formatIso(e.start),u[o]=r.formatIso(e.end),r.timeZone!=="local"&&(u[l]=r.timeZone),u}const Xk={daysOfWeek:C,startTime:B,endTime:B,duration:B,startRecur:C,endRecur:C};let Jk={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=gA(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=fr(e,{start:t.startRecur,end:t.endRecur});return r?tO(t.daysOfWeek,t.startTime,r,n):[]}};const eO=un({name:"simple-recurring-event",recurringTypes:[Jk],eventRefiners:Xk});function tO(t,e,n,r){let i=t?_0(t):null,s=K(n.start),o=n.end,l=[];for(;s<o;){let a;(!i||i[s.getUTCDay()])&&(e?a=r.add(s,e):a=s,l.push(a)),s=ze(s,1)}return l}const nO=un({name:"change-handler",optionChangeHandlers:{events(t,e){pm([t],e)},eventSources:pm}});function pm(t,e){let n=of(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let s=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),s=!0;break}s||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function rO(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},G0(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function iO(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",ir(t,e))}const sO=[Wk,Gk,Zk,eO,nO,un({name:"misc",isLoadingFuncs:[t=>TE(t.eventSources)],propSetHandlers:{dateProfile:rO,eventStore:iO}})];class oO{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new Zd(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function lO(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,le(e.titleFormat||aO(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function aO(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Sl(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class uO{constructor(e){this.computeCurrentViewData=z(this._computeCurrentViewData),this.organizeRawLocales=z(hk),this.buildLocale=z(SE),this.buildPluginHooks=vk(),this.buildDateEnv=z(cO),this.buildTheme=z(dO),this.parseToolbars=z(Fk),this.buildViewSpecs=z(_k),this.buildDateProfileGenerator=Lo(fO),this.buildViewApi=z(hO),this.buildViewUiProps=Lo(gO),this.buildEventUiBySource=z(pO,Ft),this.buildEventUiBases=z(mO),this.parseContextBusinessHours=Lo(vO),this.buildTitle=z(lO),this.emitter=new ua,this.actionRunner=new oO(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause();let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o=EC(r.calendarOptions,r.dateEnv),l=s.dateProfileGenerator.build(o);Xt(l.activeRange,o)||(o=l.currentRange.start);let a={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let h of r.pluginHooks.contextInit)h(a);let u=Ok(r.calendarOptions,l,a),c={dynamicOptionOverrides:n,currentViewType:i,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(a),eventSources:u,eventUiBases:{},eventStore:st(),renderableEventStore:st(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},f=Object.assign(Object.assign({},a),c);for(let h of r.pluginHooks.reducers)Object.assign(c,h(null,null,f));au(c,a)&&this.emitter.trigger("loading",!0),this.state=c,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,s=bk(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),l=Ck(r.currentViewType,e),a=this.computeCurrentViewData(l,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(a.options);let u={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:c,dateProfile:f}=r;this.data&&this.data.dateProfileGenerator!==a.dateProfileGenerator&&(f=a.dateProfileGenerator.build(c)),c=yC(c,e),f=kk(f,e,c,a.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Xt(f.currentRange,c))&&(c=f.currentRange.start);let h=Rk(r.eventSources,e,f,u),d=MC(r.eventStore,e,h,f,u),v=TE(h)&&!a.options.progressiveEventRendering&&r.renderableEventStore||d,{eventUiSingleBase:y,selectionConfig:m}=this.buildViewUiProps(u),g=this.buildEventUiBySource(h),E=this.buildEventUiBases(v.defs,y,g),w={dynamicOptionOverrides:s,currentViewType:l,currentDate:c,dateProfile:f,eventSources:h,eventStore:d,renderableEventStore:v,selectionConfig:m,eventUiBases:E,businessHours:this.parseContextBusinessHours(u),dateSelection:zk(r.dateSelection,e),eventSelection:Hk(r.eventSelection,e),eventDrag:Uk(r.eventDrag,e),eventResize:Bk(r.eventResize,e)},D=Object.assign(Object.assign({},u),w);for(let A of o.pluginHooks.reducers)Object.assign(w,A(r,e,D));let _=au(r,u),b=au(w,u);!_&&b?i.trigger("loading",!0):_&&!b&&i.trigger("loading",!1),this.state=w,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(n.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),n),l=i.pluginHooks.optionChangeHandlers,a=r&&r.calendarOptions,u=i.calendarOptions;if(a&&a!==u){a.timeZone!==u.timeZone&&(n.eventSources=o.eventSources=Nk(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=rm(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=rm(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let c in l)(this.optionsForHandling.indexOf(c)!==-1||a[c]!==u[c])&&l[c](u[c],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:o,availableLocaleData:l,extra:a}=this.processRawCalendarOptions(e,n);mm(a);let u=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,l,i.defaultRangeSeparator),c=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),f=this.buildTheme(i,s),h=this.parseToolbars(i,this.stableOptionOverrides,f,c,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:u,viewSpecs:c,theme:f,toolbarConfig:h,localeDefaults:o,availableRawLocales:l.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=Ja([Xi,e,n]),s=this.organizeRawLocales(r),o=s.map,l=this.buildLocale(i||s.defaultCode,o).options,a=this.buildPluginHooks(e.plugins||[],sO),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Zp),Kp),Xp),a.listenerRefiners),a.optionRefiners),c={},f=Ja([Xi,l,e,n]),h={},d=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,v=!1;for(let y in f)this.optionsForRefining.indexOf(y)===-1&&(f[y]===d[y]||$n[y]&&y in d&&$n[y](d[y],f[y]))?h[y]=p[y]:u[y]?(h[y]=u[y](f[y]),v=!0):c[y]=d[y];return v&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:a,availableLocaleData:s,localeDefaults:l,extra:c}}_computeCurrentViewData(e,n,r,i){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you\'ve loaded all neccessary plugins`);let{refinedOptions:o,extra:l}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i);mm(l);let a=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,nowInput:o.now,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:a,viewApi:u}}processRawViewOptions(e,n,r,i,s){let o=Ja([Xi,e.optionDefaults,r,i,e.optionOverrides,s]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Zp),Kp),Xp),QA),n.listenerRefiners),n.optionRefiners),a={},u=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,f=!1,h={};for(let d in o)o[d]===u[d]||$n[d]&&$n[d](o[d],u[d])?a[d]=c[d]:(o[d]===this.currentCalendarOptionsInput[d]||$n[d]&&$n[d](o[d],this.currentCalendarOptionsInput[d])?d in this.currentCalendarOptionsRefined&&(a[d]=this.currentCalendarOptionsRefined[d]):l[d]?a[d]=l[d](o[d]):h[d]=o[d],f=!0);return f&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=a),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function cO(t,e,n,r,i,s,o,l){let a=SE(e||o.defaultCode,o.map);return new sC({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:a,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:l})}function dO(t,e){let n=e.themeClasses[t.themeSystem]||Bn;return new n(t)}function fO(t){let e=t.dateProfileGeneratorClass||N0;return new e(t)}function hO(t,e,n){return new jk(t,e,n)}function pO(t){return sn(t,e=>e.ui)}function mO(t,e,n){let r={"":e};for(let i in t){let s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function gO(t){let{options:e}=t;return{eventUiSingleBase:Cl({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Cl({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function au(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function vO(t){return FC(t.options.businessHours,t)}function mm(t,e){for(let n in t)console.warn(`Unknown option \'${n}\'`+(e?` for view \'${e}\'`:""))}class yO extends q{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return T("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],s=!0;for(let o of e){let{buttonName:l,buttonClick:a,buttonText:u,buttonIcon:c,buttonHint:f}=o;if(l==="title")s=!1,i.push(T("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let h=l===n.activeButton,d=!n.isTodayEnabled&&l==="today"||!n.isPrevEnabled&&l==="prev"||!n.isNextEnabled&&l==="next",p=[`fc-${l}-button`,r.getClass("button")];h&&p.push(r.getClass("buttonActive")),i.push(T("button",{type:"button",title:typeof f=="function"?f(n.navUnit):f,disabled:d,"aria-pressed":h,className:p.join(" "),onClick:a},u||(c?T("span",{className:c}):"")))}}if(i.length>1){let o=s&&r.getClass("buttonGroup")||"";return T("div",{className:o},...i)}return i[0]}}class gm extends q{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,s,o=e.sectionWidgets,l=o.center;return o.left?(r=!0,i=o.left):i=o.start,o.right?(r=!0,s=o.right):s=o.end,T("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",l||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:r}=this;return T(yO,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class EO extends q{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,on(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return r?n.availableWidth!==null?s=n.availableWidth/r:o=`${1/r*100}%`:s=e.height||"",T("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class SO extends gi{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:s}=i,o=oi(r);if(o&&i.isValidSegDownEl(n.target)){let l=Le(n.target,".fc-event-forced-url"),a=l?l.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:r,event:new ie(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi}),a&&!n.defaultPrevented&&(window.location.href=a)}},this.destroy=y0(e.el,"click",".fc-event",this.handleSegClick)}}class wO extends gi{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{oi(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=tA(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:s}=i,o=oi(r);(!n||i.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:r,event:new ie(s,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi})}}class TO extends Er{constructor(){super(...arguments),this.buildViewContext=z(aC),this.buildViewPropTransformers=z(DO),this.buildToolbarProps=z(_O),this.headerRef=je(),this.footerRef=je(),this.interactionsStore={},this.state={viewLabelId:sa()},this.registerInteractiveComponent=(e,n)=>{let r=ub(e,n),o=[SO,wO].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(r));this.interactionsStore[e.uid]=o,_c[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete _c[e.uid]},this.resizeRunner=new Zd(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Ms(e.options.now,e.dateEnv),e.viewTitle),s=!1,o="",l;e.isHeightAuto||e.forPrint?o="":r.height!=null?s=!0:r.contentHeight!=null?o=r.contentHeight:l=Math.max(r.aspectRatio,.5);let a=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:"";return T(an.Provider,{value:a},n.header&&T(gm,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},i)),T(EO,{liquid:s,height:o,aspectRatio:l,labeledById:u},this.renderView(e),this.buildAppendContent()),n.footer&&T(gm,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},i)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return T(ee,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let l of s)Object.assign(i,l.transform(i,e));let o=r.component;return T(o,Object.assign({},i))}}function _O(t,e,n,r,i,s){let o=n.build(i,void 0,!1),l=n.buildPrev(e,r,!1),a=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!Xt(e.currentRange,i),isPrevEnabled:l.isValid,isNextEnabled:a.isValid}}function DO(t){return t.map(e=>new e)}class AO extends cb{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Jp(()=>{Es(T(ab,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,o,l)=>(this.setClassNames(i),this.setHeight(s),T(b0.Provider,{value:this.customContentRenderId},T(TO,Object.assign({isHeightAuto:o,forPrint:l},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Es(null,this.el),this.setClassNames([]),this.setHeight(""))},$1(e),this.el=e,this.renderRunner=new Zd(this.handleRenderRequest),new uO({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Jp(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Pn(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){g0(this.el,"height",e)}}const CO=parseInt(String(Ho.version).split(".")[0]),bO=CO<18;class bE extends Mt.Component{constructor(){super(...arguments),this.elRef=Mt.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(Ho.createElement(kO,{key:n.id,customRendering:n}));return Ho.createElement("div",{ref:this.elRef},e)}componentDidMount(){const e=new dk;this.handleCustomRendering=e.handle.bind(e),this.calendar=new AO(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render();let n;e.subscribe(r=>{const i=Date.now(),s=!n;(bO||s||this.isUpdating||this.isUnmounting||i-n<100?kE:Dd.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}bE.act=kE;class kO extends Mt.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return Dd.createPortal(r,e.containerEl)}}function kE(t){t()}var OO=\':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}\';Qd(OO);function po(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function mo(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function vm(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const OE=le({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function RE(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class NE extends q{render(){let{props:e}=this;return T(fE,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:OE,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class ME extends q{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,s=r.eventTimeFormat||OE,o=V0(i,s,n,!0,e.defaultDisplayEventEnd);return T(Tf,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:$0(e.seg,n),defaultGenerator:RO,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function RO(t){return T(ee,null,T("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&T("div",{className:"fc-event-time"},t.timeText),T("div",{className:"fc-event-title"},t.event.title||T(ee,null," ")))}class NO extends q{constructor(){super(...arguments),this.compileSegs=z(MO)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return T(gE,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return T(ee,null,n.map(s=>{let o=s.eventRange.instance.instanceId;return T("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},RE(s)?T(ME,Object.assign({seg:s,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Mn(s,e.todayRange))):T(NE,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Mn(s,e.todayRange))))}))}})}}function MO(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const IO=le({week:"narrow"});class xO extends jt{constructor(){super(...arguments),this.rootElRef=je(),this.state={dayNumberId:sa()},this.handleRootEl=e=>{on(this.rootElRef,e),on(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:s,dateEnv:o}=e,{date:l,dateProfile:a}=n;const u=n.showDayNumber&&LO(l,a.currentRange,o);return T(Df,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:PO,date:l,dateProfile:a,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:u,extraRenderProps:n.extraRenderProps},(c,f)=>T("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&T(mE,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:kl(e,l,"week"),date:l,defaultFormat:IO}),!f.isDisabled&&(n.showDayNumber||Af(s)||n.forceDayTop)?T("div",{className:"fc-daygrid-day-top"},T(c,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},kl(e,l)),{id:r.dayNumberId})})):n.showDayNumber?T("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},T("a",{className:"fc-daygrid-day-number"}," ")):void 0,T("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,T("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},T(NO,{allDayDate:l,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),T("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function PO(t){return t.dayNumberText||T(ee,null," ")}function LO(t,e,n){const{start:r,end:i}=e,s=Ln(i,-1),o=n.getYear(r),l=n.getMonth(r),a=n.getYear(s),u=n.getMonth(s);return!(o===a&&l===u)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function IE(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function xE(t){return IE(t)+":"+t.lastCol}function zO(t,e,n,r,i,s,o){let l=new BO(m=>{let g=t[m.index].eventRange.instance.instanceId+":"+m.span.start+":"+(m.span.end-1);return i[g]});l.allowReslicing=!0,l.strictOrder=r,e===!0||n===!0?(l.maxCoord=s,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);let a=[],u=[];for(let m=0;m<t.length;m+=1){let g=t[m],E=xE(g);i[E]!=null?a.push({index:m,span:{start:g.firstCol,end:g.lastCol+1}}):u.push(g)}let c=l.addSegs(a),f=l.toRects(),{singleColPlacements:h,multiColPlacements:d,leftoverMargins:p}=HO(f,t,o),v=[],y=[];for(let m of u){d[m.firstCol].push({seg:m,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let g=m.firstCol;g<=m.lastCol;g+=1)h[g].push({seg:Qr(m,g,g+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let m=0;m<o.length;m+=1)v.push(0);for(let m of c){let g=t[m.index],E=m.span;d[E.start].push({seg:Qr(g,E.start,E.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let w=E.start;w<E.end;w+=1)v[w]+=1,h[w].push({seg:Qr(g,w,w+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let m=0;m<o.length;m+=1)y.push(p[m]);return{singleColPlacements:h,multiColPlacements:d,moreCnts:v,moreMarginTops:y}}function HO(t,e,n){let r=UO(t,n.length),i=[],s=[],o=[];for(let l=0;l<n.length;l+=1){let a=r[l],u=[],c=0,f=0;for(let d of a){let p=e[d.index];u.push({seg:Qr(p,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:d.levelCoord,marginTop:d.levelCoord-c}),c=d.levelCoord+d.thickness}let h=[];c=0,f=0;for(let d of a){let p=e[d.index],v=d.span.end-d.span.start>1,y=d.span.start===l;f+=d.levelCoord-c,c=d.levelCoord+d.thickness,v?(f+=d.thickness,y&&h.push({seg:Qr(p,d.span.start,d.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:d.levelCoord,marginTop:0})):y&&(h.push({seg:Qr(p,d.span.start,d.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:d.levelCoord,marginTop:f}),f=0)}i.push(u),s.push(h),o.push(f)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:o}}function UO(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function Qr(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,s=i.range,o=fr(s,{start:r[e].date,end:ze(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===s.end.valueOf()})}class BO extends eE{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=s=>!this.forceHidden[sr(s)];for(let s=0;s<r.length;s+=1)r[s]=r[s].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:o,touchingLevel:l,touchingLateral:a}=e;if(this.hiddenConsumes&&o){const u=sr(o);if(!s[u])if(this.allowReslicing){const c=Object.assign(Object.assign({},o),{span:Ef(o.span,n.span)}),f=sr(c);s[f]=!0,i[l][a]=c,this.splitEntry(o,n,r)}else s[u]=!0,r.push(o)}return super.handleInvalidInsertion(e,n,r)}}class PE extends jt{constructor(){super(...arguments),this.cellElRefs=new Qt,this.frameElRefs=new Qt,this.fgElRefs=new Qt,this.segHarnessRefs=new Qt,this.rootElRef=je(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,s=e.cells.length,o=mo(e.businessHourSegs,s),l=mo(e.bgEventSegs,s),a=mo(this.getHighlightSegs(),s),u=mo(this.getMirrorSegs(),s),{singleColPlacements:c,multiColPlacements:f,moreCnts:h,moreMarginTops:d}=zO(j0(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return T("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((v,y)=>{let m=this.renderFgSegs(y,e.forPrint?c[y]:f[y],e.todayRange,p),g=this.renderFgSegs(y,FO(u[y],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return T(xO,{key:v.key,elRef:this.cellElRefs.createRef(v.key),innerElRef:this.frameElRefs.createRef(v.key),dateProfile:e.dateProfile,date:v.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&y===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:v.extraRenderProps,extraDataAttrs:v.extraDataAttrs,extraClassNames:v.extraClassNames,extraDateSpan:v.extraDateSpan,moreCnt:h[y],moreMarginTop:d[y],singlePlacements:c[y],fgContentElRef:this.fgElRefs.createRef(v.key),fgContent:T(ee,null,T(ee,null,m),T(ee,null,g)),bgContent:T(ee,null,this.renderFillSegs(a[y],"highlight"),this.renderFillSegs(o[y],"non-business"),this.renderFillSegs(l[y],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!Ft(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,s,o,l){let{context:a}=this,{eventSelection:u}=this.props,{framePositions:c}=this.state,f=this.props.cells.length===1,h=s||o||l,d=[];if(c)for(let p of n){let{seg:v}=p,{instanceId:y}=v.eventRange.instance,m=p.isVisible&&!i[y],g=p.isAbsolute,E="",w="";g&&(a.isRtl?(w=0,E=c.lefts[v.lastCol]-c.lefts[v.firstCol]):(E=0,w=c.rights[v.firstCol]-c.rights[v.lastCol])),d.push(T("div",{className:"fc-daygrid-event-harness"+(g?" fc-daygrid-event-harness-abs":""),key:IE(v),ref:h?null:this.segHarnessRefs.createRef(xE(v)),style:{visibility:m?"":"hidden",marginTop:g?"":p.marginTop,top:g?p.absoluteTop:"",left:E,right:w}},RE(v)?T(ME,Object.assign({seg:v,isDragging:s,isSelected:y===u,defaultDisplayEventEnd:f},Mn(v,r))):T(NE,Object.assign({seg:v,isDragging:s,isResizing:o,isDateSelecting:l,isSelected:y===u,defaultDisplayEventEnd:f},Mn(v,r)))))}return d}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let l of e){let a=r?{right:0,left:s.lefts[l.lastCol]-s.lefts[l.firstCol]}:{left:0,right:s.rights[l.firstCol]-s.rights[l.lastCol]};o.push(T("div",{key:W0(l.eventRange),className:"fc-daygrid-bg-harness",style:a},n==="bg-event"?T(hE,Object.assign({seg:l},Mn(l,i))):pE(n)))}return T(ee,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let a=n.cells.map(u=>i.currentMap[u.key]);if(a.length){let u=this.rootElRef.current,c=new li(u,a,!0,!1);(!r.framePositions||!r.framePositions.similarTo(c))&&this.setState({framePositions:new li(u,a,!0,!1)})}}const s=this.state.segHeights,o=this.querySegHeights(),l=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}PE.addStateEquality({segHeights:Ft});function FO(t,e){if(!t.length)return[];let n=YO(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function YO(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class jO extends jt{constructor(){super(...arguments),this.splitBusinessHourSegs=z(po),this.splitBgEventSegs=z(po),this.splitFgEventSegs=z(po),this.splitDateSelectionSegs=z(po),this.splitEventDrag=z(vm),this.splitEventResize=z(vm),this.rowRefs=new Qt}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),l=this.splitDateSelectionSegs(e.dateSelectionSegs,r),a=this.splitEventDrag(e.eventDrag,r),u=this.splitEventResize(e.eventResize,r),c=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return T(Is,{unit:"day"},(f,h)=>T(ee,null,e.cells.map((d,p)=>T(PE,{ref:this.rowRefs.createRef(p),key:d.length?d[0].date.toISOString():p,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:d,renderIntro:e.renderRowIntro,businessHourSegs:i[p],eventSelection:e.eventSelection,bgEventSegs:s[p].filter(VO),fgEventSegs:o[p],dateSelectionSegs:l[p],eventDrag:a[p],eventResize:u[p],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:c,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new li(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new li(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,s=r.leftToIndex(e),o=i.topToIndex(n);if(o!=null&&s!=null){let l=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:r.lefts[s],right:r.rights[s],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=ze(r,1);return{start:r,end:i}}}function VO(t){return t.eventRange.def.allDay}class WO extends jt{constructor(){super(...arguments),this.elRef=je(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,s=r===!0||n===!0;s&&!i&&(s=!1,n=null,r=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return T("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},T("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,T("tbody",{role:"presentation"},T(jO,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=$O(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function $O(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${MA(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${tf(e.currentDate)}"]`)),n}class GO extends oE{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class LE extends jt{constructor(){super(...arguments),this.slicer=new GO,this.tableRef=je()}render(){let{props:e,context:n}=this;return T(WO,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class qO extends N0{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:s}=this;return QO({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function QO(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,s;if(t.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=Vp(s,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(ze(n.end,-1))),l=Math.ceil(wA(o,i));i=Vp(i,6-l)}return{start:r,end:i}}class ZO extends jt{constructor(){super(...arguments),this.headerElRef=je()}renderSimpleLayout(e,n){let{props:r,context:i}=this,s=[],o=Ol(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),T(Dl,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},T(wf,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,r,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:l}=this,a=!o.forPrint&&Ol(l.options),u=!o.forPrint&&dE(l.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:a,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),u&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Cc}]}),T(Dl,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},T(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:c}))}}class KO extends ZO{constructor(){super(...arguments),this.buildDayTableModel=z(XO),this.headerRef=je(),this.tableRef=je()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),s=e.dayHeaders&&T(rE,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=l=>T(LE,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,o)}}function XO(t,e){let n=new iE(t.renderRange,e);return new sE(n,/year|month|week/.test(t.currentRangeUnit))}var JO=un({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:KO,dateProfileGeneratorClass:qO},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});Sf.touchMouseIgnoreWait=500;let kc=0,Rl=0,Oc=!1;class zE{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&eR(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,tR()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.pageXOffset-this.prevScrollX+this.prevPageX,i=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new ua,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),nR()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),rR()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||Le(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Oc=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Le(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return kc||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Oc=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,s,o=0,l=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),n?(this.origPageX=i,this.origPageY=s):(o=i-this.origPageX,l=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:o,deltaY:l}}}function eR(t){return t.button===0&&!t.ctrlKey}function tR(){kc+=1,setTimeout(()=>{kc-=1},Sf.touchMouseIgnoreWait)}function nR(){Rl+=1,Rl===1&&window.addEventListener("touchmove",HE,{passive:!1})}function rR(){Rl-=1,Rl||window.removeEventListener("touchmove",HE,{passive:!1})}function HE(t){Oc&&t.preventDefault()}class iR{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=n-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Zi(r,{left:i.left,top:i.top}),nA(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(Kd(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Zi(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.classList.add("fc-event-dragging"),Zi(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class UE extends yf{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class BE extends UE{constructor(e,n){super(new Cb(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Db(this.scrollController.el)}}class sR extends UE{constructor(e){super(new bb,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const ym=typeof performance=="function"?performance.now:Date.now;class oR{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(e){let n=ym();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.pageXOffset,i=n-window.pageYOffset,s=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(ym()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,o=s*s/(i*i)*this.maxVelocity*n,l=1;switch(e.name){case"left":l=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*l);break;case"top":l=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*l);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let o of s){let l=o.clientRect,a=e-l.left,u=l.right-e,c=n-l.top,f=l.bottom-n;a>=0&&u>=0&&c>=0&&f>=0&&(c<=r&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"top",distance:c}),f<=r&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>f)&&(i={scrollCache:o,name:"bottom",distance:f}),a<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>a)&&(i={scrollCache:o,name:"left",distance:a}),u<=r&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>u)&&(i={scrollCache:o,name:"right",distance:u}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new sR(!1):new BE(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class xs extends Rb{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,rA(document.body),sA(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:l,deltaY:a}=i;o=l*l+a*a,o>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,iA(document.body),oA(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new zE(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new iR,this.autoScroller=new oR}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class lR{constructor(e){this.origRect=vf(e),this.scrollCaches=J0(e).map(n=>new BE(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!aR(i.getEventTarget())&&!db(r,i.clientRect))return!1;return!0}}function aR(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class ca{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new ua}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,s;i instanceof HTMLElement&&(s=vf(i),r=fb(r,s));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&s){let l=Z0(s,o.rect);l&&(r=hb(l))}this.coordAdjust=pb(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!da(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=sn(this.droppableStore,e=>(e.component.prepareHits(),new lR(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let o in r){let l=r[o].component,a=i[o];if(a&&a.isWithinClipping(e,n)){let u=a.computeLeft(),c=a.computeTop(),f=e-u,h=n-c,{origRect:d}=a,p=d.right-d.left,v=d.bottom-d.top;if(f>=0&&f<p&&h>=0&&h<v){let y=l.queryHit(f,h,p,v);y&&la(y.dateProfile.activeRange,y.dateSpan.range)&&(!s||y.layer>s.layer)&&(y.componentId=o,y.context=l.context,y.rect.left+=u,y.rect.right+=u,y.rect.top+=c,y.rect.bottom+=c,s=y)}}}return s}}function da(t,e){return!t&&!e?!0:!!t!=!!e?!1:tb(t.dateSpan,e.dateSpan)}function FE(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,uR(t,e.dateEnv)),n}function uR(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class cR extends gi{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:l}=this.hitDragging;if(o&&l&&da(o,l)){let{context:a}=i,u=Object.assign(Object.assign({},FE(o.dateSpan,a)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:a.viewApi||a.calendarApi.view});a.emitter.trigger("dateClick",u)}}},this.dragging=new xs(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new ca(this.dragging,mf(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class dR extends gi{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:l,dragging:a}=this,{options:u}=l.context,c=u.selectable&&l.isValidDateDownEl(o.origEvent.target);a.setIgnoreMove(!c),a.delay=o.isTouch?fR(l):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,l)=>{let{context:a}=this.component,u=null,c=!1;if(o){let f=this.hitDragging.initialHit;o.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,o)||(u=hR(f,o,a.pluginHooks.dateSelectionTransformers)),(!u||!Lb(u,o.dateProfile,a))&&(c=!0,u=null)}u?a.dispatch({type:"SELECT_DATES",selection:u}):l||a.dispatch({type:"UNSELECT_DATES"}),c?Xd():Jd(),l||(this.dragSelection=u)},this.handlePointerUp=o=>{this.dragSelection&&(B0(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new xs(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new ca(this.dragging,mf(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function fR(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function hR(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(dA);let o={};for(let l of n){let a=l(t,e);if(a===!1)return null;a&&Object.assign(o,a)}return o.range={start:s[0],end:s[3]},o.allDay=r.allDay,o}class Ps extends gi{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let l=o.origEvent.target,{component:a,dragging:u}=this,{mirror:c}=u,{options:f}=a.context,h=a.context;this.subjectEl=o.subjectEl;let d=this.subjectSeg=oi(o.subjectEl),v=(this.eventRange=d.eventRange).instance.instanceId;this.relevantEvents=df(h.getCurrentData().eventStore,v),u.minDistance=o.isTouch?0:f.eventDragMinDistance,u.delay=o.isTouch&&v!==a.props.eventSelection?mR(a):null,f.fixedMirrorParent?c.parentNode=f.fixedMirrorParent:c.parentNode=Le(l,".fc"),c.revertDuration=f.dragRevertDuration;let y=a.isValidSegDownEl(l)&&!Le(l,".fc-event-resizer");u.setIgnoreMove(!y),this.isDragging=y&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let l=this.component.context,a=this.eventRange,u=a.instance.instanceId;o.isTouch?u!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(o),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ie(l,a.def,a.instance),jsEvent:o.origEvent,view:l.viewApi}))},this.handleHitUpdate=(o,l)=>{if(!this.isDragging)return;let a=this.relevantEvents,u=this.hitDragging.initialHit,c=this.component.context,f=null,h=null,d=null,p=!1,v={affectedEvents:a,mutatedEvents:st(),isEvent:!0};if(o){f=o.context;let y=f.options;c===f||y.editable&&y.droppable?(h=pR(u,o,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(d=pf(a,f.getCurrentData().eventUiBases,h,f),v.mutatedEvents=d,lE(v,o.dateProfile,f)||(p=!0,h=null,d=null,v.mutatedEvents=st()))):f=null}this.displayDrag(f,v),p?Xd():Jd(),l||(c===f&&da(u,o)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=d)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let l=this.component.context,a=l.viewApi,{receivingContext:u,validMutation:c}=this,f=this.eventRange.def,h=this.eventRange.instance,d=new ie(l,f,h),p=this.relevantEvents,v=this.mutatedRelevantEvents,{finalHit:y}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:d,jsEvent:o.origEvent,view:a}),c){if(u===l){let m=new ie(l,v.defs[f.defId],h?v.instances[h.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:v});let g={oldEvent:d,event:m,relatedEvents:ir(v,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:p})}},E={};for(let w of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(E,w(c,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},g),E),{el:o.subjectEl,delta:c.datesDelta,jsEvent:o.origEvent,view:a})),l.emitter.trigger("eventChange",g)}else if(u){let m={event:d,relatedEvents:ir(p,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:p})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},m),{draggedEl:o.subjectEl,view:a})),l.dispatch({type:"REMOVE_EVENTS",eventStore:p}),l.emitter.trigger("eventRemove",m);let g=v.defs[f.defId],E=v.instances[h.instanceId],w=new ie(u,g,E);u.dispatch({type:"MERGE_EVENTS",eventStore:v});let D={event:w,relatedEvents:ir(v,u,E),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:v})}};u.emitter.trigger("eventAdd",D),o.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},FE(y.dateSpan,u)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:y.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},D),{draggedEl:o.subjectEl,view:y.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new xs(e.el);i.pointer.selector=Ps.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new ca(this.dragging,_c);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:st(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Ps.SELECTOR=".fc-event-draggable, .fc-event-resizable";function pR(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=r.range.start,o=i.range.start,l={};r.allDay!==i.allDay&&(l.allDay=i.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,i.allDay&&(s=K(s)));let a=Ur(s,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);a.milliseconds&&(l.allDay=!1);let u={datesDelta:a,standardProps:l};for(let c of n)c(u,t,e);return u}function mR(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class gR extends gi{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,l=this.querySegEl(s),a=oi(l),u=this.eventRange=a.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,l=this.eventRange;this.relevantEvents=df(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let a=this.querySegEl(s);this.draggingSegEl=a,this.draggingSeg=oi(a),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:a,event:new ie(o,l.def,l.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,l)=>{let{context:a}=this.component,u=this.relevantEvents,c=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,d=null,p=!1,v={affectedEvents:u,mutatedEvents:st(),isEvent:!0};s&&(s.componentId===c.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(c,s)||(h=vR(c,s,l.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(d=pf(u,a.getCurrentData().eventUiBases,h,a),v.mutatedEvents=d,lE(v,s.dateProfile,a)||(p=!0,h=null,d=null,v.mutatedEvents=null)),d?a.dispatch({type:"SET_EVENT_RESIZE",state:v}):a.dispatch({type:"UNSET_EVENT_RESIZE"}),p?Xd():Jd(),o||(h&&da(c,s)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=d)},this.handleDragEnd=s=>{let{context:o}=this.component,l=this.eventRange.def,a=this.eventRange.instance,u=new ie(o,l,a),c=this.relevantEvents,f=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let h=new ie(o,f.defs[l.defId],a?f.instances[a.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:f});let d={oldEvent:u,event:h,relatedEvents:ir(f,o,a),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:c})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},d),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||B(0),endDelta:this.validMutation.endDelta||B(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",d)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new xs(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new ca(this.dragging,mf(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Le(e.subjectEl,".fc-event")}}function vR(t,e,n,r){let i=t.context.dateEnv,s=t.dateSpan.range.start,o=e.dateSpan.range.start,l=Ur(s,o,i,t.largeUnit);if(n){if(i.add(r.start,l)<r.end)return{startDelta:l}}else if(i.add(r.end,l)>r.start)return{endDelta:l};return null}class yR{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=v0(r.origEvent);this.matchesCancel=!!Le(s,i),this.matchesEvent=!!Le(s,Ps.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,o=i.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let l=i.options.unselectAuto;l&&(!l||!this.matchesCancel)&&i.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new zE(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const ER={fixedMirrorParent:C},SR={dateClick:C,eventDragStart:C,eventDragStop:C,eventDrop:C,eventResizeStart:C,eventResizeStop:C,eventResize:C,drop:C,eventReceive:C,eventLeave:C};Sf.dataAttrPrefix="";var wR=un({name:"@fullcalendar/interaction",componentInteractions:[cR,dR,Ps,gR],calendarInteractions:[yR],elementDraggingImpl:xs,optionRefiners:ER,listenerRefiners:SR}),TR=\'.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\\\00a0-\\\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}\';Qd(TR);class _R extends mb{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?$C(e)?["timed","allDay"]:["allDay"]:["timed"]}}const DR=le({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function YE(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return T(an.Consumer,null,n=>{if(!t.isLabeled)return T("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:r,options:i,viewApi:s}=n,o=i.slotLabelFormat==null?DR:Array.isArray(i.slotLabelFormat)?le(i.slotLabelFormat[0]):le(i.slotLabelFormat),l={level:0,time:t.time,date:r.toDate(t.date),view:s,text:r.format(t.date,o)};return T(ut,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:AR,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},a=>T("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},T(a,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function AR(t){return t.text}class CR extends q{render(){return this.props.slatMetas.map(e=>T("tr",{key:e.key},T(YE,Object.assign({},e))))}}const bR=le({week:"short"}),kR=5;class OR extends jt{constructor(){super(...arguments),this.allDaySplitter=new _R,this.headerElRef=je(),this.rootElRef=je(),this.scrollerElRef=je(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:r}=this.context,{dateProfile:i}=this.props,s=i.renderRange,l=yr(s.start,s.end)===1?kl(this.context,s.start,"week"):{};return r.weekNumbers&&e==="day"?T(mE,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:bR},a=>T("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},T(a,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):T("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},T("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:r}=this.context,i={text:n.allDayText,view:r};return T(ut,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:RR,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>T("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},T(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,r){let{context:i,props:s}=this,o=[],l=Ol(i.options);return e&&o.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:T("tr",{role:"presentation",className:"fc-scrollgrid-section"},T("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),T(Dl,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},T(wf,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,n,r,i,s,o,l){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{context:u,props:c}=this,f=!c.forPrint&&Ol(u.options),h=!c.forPrint&&dE(u.options),d=[];e&&d.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:v=>T("tr",{role:"presentation"},this.renderHeadAxis("day",v.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(d.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:v=>T("tr",{role:"presentation"},this.renderTableRowAxis(v.rowSyncHeights[0]))},{key:"cols",content:n}]}),d.push({key:"all-day-divider",type:"body",outerContent:T("tr",{role:"presentation",className:"fc-scrollgrid-section"},T("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let p=u.options.nowIndicator;return d.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:v=>T("div",{className:"fc-timegrid-axis-chunk"},T("table",{"aria-hidden":!0,style:{height:v.expandRows?v.clientHeight:""}},v.tableColGroupNode,T("tbody",null,T(CR,{slatMetas:o}))),T("div",{className:"fc-timegrid-now-indicator-container"},T(Is,{unit:p?"minute":"day"},y=>{let m=p&&l&&l.safeComputeTop(y);return typeof m=="number"?T(_f,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:m},isAxis:!0,date:y}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),h&&d.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Cc},{key:"cols",content:Cc}]}),T(Dl,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},T(a,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:s}]}],sections:d}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=kR),{dayMaxEvents:e,dayMaxEventRows:n}}}function RR(t){return t.text}class NR{constructor(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}safeComputeTop(e){let{dateProfile:n}=this;if(Xt(n.currentRange,e)){let r=K(e),i=e.valueOf()-r.valueOf();if(i>=kt(n.slotMinTime)&&i<kt(n.slotMaxTime))return this.computeTimeTop(B(i))}return null}computeDateTop(e,n){return n||(n=K(e)),this.computeTimeTop(B(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:r}=this,i=n.els.length,s=(e.milliseconds-kt(r.slotMinTime))/kt(this.slotDuration),o,l;return s=Math.max(0,s),s=Math.min(i,s),o=Math.floor(s),o=Math.min(o,i-1),l=s-o,n.tops[o]+n.getHeight(o)*l}}class MR extends q{render(){let{props:e,context:n}=this,{options:r}=n,{slatElRefs:i}=e;return T("tbody",null,e.slatMetas.map((s,o)=>{let l={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return T("tr",{key:s.key,ref:i.createRef(s.key)},e.axis&&T(YE,Object.assign({},s)),T(ut,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class IR extends q{constructor(){super(...arguments),this.rootElRef=je(),this.slatElRefs=new Qt}render(){let{props:e,context:n}=this;return T("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},T("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,T(MR,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new NR(new li(this.rootElRef.current,xR(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function xR(t,e){return e.map(n=>t[n.key])}function ki(t,e){let n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function Em(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}class PR extends q{render(){let{props:e}=this;return T(gE,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>VE(e.hiddenSegs,e),defaultGenerator:LR,forceTimed:!0},n=>T(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function LR(t){return t.shortText}function zR(t,e,n){let r=new eE;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);let i=r.addSegs(t),s=kb(i),o=HR(r);return o=YR(o,1),{segRects:jR(o),hiddenGroups:s}}function HR(t){const{entriesByLevel:e}=t,n=bf((r,i)=>r+":"+i,(r,i)=>{let s=FR(t,r,i),o=Sm(s,n),l=e[r][i];return[Object.assign(Object.assign({},l),{nextLevelNodes:o[0]}),l.thickness+o[1]]});return Sm(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function Sm(t,e){if(!t)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=t,s=r,o=[];for(;s<i;)o.push(e(n,s)),s+=1;return o.sort(UR),[o.map(BR),o[0][1]]}function UR(t,e){return e[1]-t[1]}function BR(t){return t[0]}function FR(t,e,n){let{levelCoords:r,entriesByLevel:i}=t,s=i[e][n],o=r[e]+s.thickness,l=r.length,a=e;for(;a<l&&r[a]<o;a+=1);for(;a<l;a+=1){let u=i[a],c,f=Ac(u,s.span.start,Dc),h=f[0]+f[1],d=h;for(;(c=u[d])&&c.span.start<s.span.end;)d+=1;if(h<d)return{level:a,lateralStart:h,lateralEnd:d}}return null}function YR(t,e){const n=bf((r,i,s)=>sr(r),(r,i,s)=>{let{nextLevelNodes:o,thickness:l}=r,a=l+s,u=l/a,c,f=[];if(!o.length)c=e;else for(let d of o)if(c===void 0){let p=n(d,i,a);c=p[0],f.push(p[1])}else{let p=n(d,c,0);f.push(p[1])}let h=(c-i)*u;return[c-h,Object.assign(Object.assign({},r),{thickness:h,nextLevelNodes:f})]});return t.map(r=>n(r,0,0)[1])}function jR(t){let e=[];const n=bf((i,s,o)=>sr(i),(i,s,o)=>{let l=Object.assign(Object.assign({},i),{levelCoord:s,stackDepth:o,stackForward:0});return e.push(l),l.stackForward=r(i.nextLevelNodes,s+i.thickness,o+1)+1});function r(i,s,o){let l=0;for(let a of i)l=Math.max(n(a,s,o),l);return l}return r(t,0,0),e}function bf(t,e){const n={};return(...r)=>{let i=t(...r);return i in n?n[i]:n[i]=e(...r)}}function wm(t,e,n=null,r=0){let i=[];if(n)for(let s=0;s<t.length;s+=1){let o=t[s],l=n.computeDateTop(o.start,e),a=Math.max(l+(r||0),n.computeDateTop(o.end,e));i.push({start:Math.round(l),end:Math.round(a)})}return i}function VR(t,e,n,r){let i=[],s=[];for(let u=0;u<t.length;u+=1){let c=e[u];c?i.push({index:u,thickness:1,span:c}):s.push(t[u])}let{segRects:o,hiddenGroups:l}=zR(i,n,r),a=[];for(let u of o)a.push({seg:t[u.index],rect:u});for(let u of s)a.push({seg:u,rect:null});return{segPlacements:a,hiddenGroups:l}}const WR=le({hour:"numeric",minute:"2-digit",meridiem:!1});class jE extends q{render(){return T(fE,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:WR}))}}class $R extends q{constructor(){super(...arguments),this.sortEventSegs=z(j0)}render(){let{props:e,context:n}=this,{options:r}=n,i=r.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return T(Df,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},a=>T("div",{className:"fc-timegrid-col-frame"},T("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),T("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,o,!1,!1,!1)),T("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),T("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Af(r)&&T(a,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,r,i,s,o){let{props:l}=this;return l.forPrint?VE(e,l):this.renderPositionedFgSegs(e,n,r,i,s,o)}renderPositionedFgSegs(e,n,r,i,s,o){let{eventMaxStack:l,eventShortHeight:a,eventOrderStrict:u,eventMinHeight:c}=this.context.options,{date:f,slatCoords:h,eventSelection:d,todayRange:p,nowDate:v}=this.props,y=r||i||s,m=wm(e,f,h,c),{segPlacements:g,hiddenGroups:E}=VR(e,m,u,l);return T(ee,null,this.renderHiddenGroups(E,e),g.map(w=>{let{seg:D,rect:_}=w,b=D.eventRange.instance.instanceId,A=y||!!(!n[b]&&_),x=uu(_&&_.span),P=!y&&_?this.computeSegHStyle(_):{left:0,right:0},W=!!_&&_.stackForward>0,$=!!_&&_.span.end-_.span.start<a;return T("div",{className:"fc-timegrid-event-harness"+(W?" fc-timegrid-event-harness-inset":""),key:o||b,style:Object.assign(Object.assign({visibility:A?"":"hidden"},x),P)},T(jE,Object.assign({seg:D,isDragging:r,isResizing:i,isDateSelecting:s,isSelected:b===d,isShort:$},Mn(D,p,v))))}))}renderHiddenGroups(e,n){let{extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:o,eventSelection:l,eventDrag:a,eventResize:u}=this.props;return T(ee,null,e.map(c=>{let f=uu(c.span),h=GR(c.entries,n);return T(PR,{key:T0(vE(h)),hiddenSegs:h,top:f.top,bottom:f.bottom,extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:o,eventSelection:l,eventDrag:a,eventResize:u})}))}renderFillSegs(e,n){let{props:r,context:i}=this,o=wm(e,r.date,r.slatCoords,i.options.eventMinHeight).map((l,a)=>{let u=e[a];return T("div",{key:W0(u.eventRange),className:"fc-timegrid-bg-harness",style:uu(l)},n==="bg-event"?T(hE,Object.assign({seg:u},Mn(u,r.todayRange,r.nowDate))):pE(n))});return T(ee,null,o)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((i,s)=>T(_f,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:n,options:r}=this.context,i=r.slotEventOverlap,s=e.levelCoord,o=e.levelCoord+e.thickness,l,a;i&&(o=Math.min(1,s+(o-s)*2)),n?(l=1-o,a=s):(l=s,a=1-o);let u={zIndex:e.stackDepth+1,left:l*100+"%",right:a*100+"%"};return i&&!e.stackForward&&(u[n?"marginLeft":"marginRight"]=10*2),u}}function VE(t,{todayRange:e,nowDate:n,eventSelection:r,eventDrag:i,eventResize:s}){let o=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return T(ee,null,t.map(l=>{let a=l.eventRange.instance.instanceId;return T("div",{key:a,style:{visibility:o[a]?"hidden":""}},T(jE,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===r,isShort:!1},Mn(l,e,n))))}))}function uu(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function GR(t,e){return t.map(n=>e[n.index])}class qR extends q{constructor(){super(...arguments),this.splitFgEventSegs=z(ki),this.splitBgEventSegs=z(ki),this.splitBusinessHourSegs=z(ki),this.splitNowIndicatorSegs=z(ki),this.splitDateSelectionSegs=z(ki),this.splitEventDrag=z(Em),this.splitEventResize=z(Em),this.rootElRef=je(),this.cellElRefs=new Qt}render(){let{props:e,context:n}=this,r=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,i),o=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitBusinessHourSegs(e.businessHourSegs,i),a=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),u=this.splitDateSelectionSegs(e.dateSelectionSegs,i),c=this.splitEventDrag(e.eventDrag,i),f=this.splitEventResize(e.eventResize,i);return T("div",{className:"fc-timegrid-cols",ref:this.rootElRef},T("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,T("tbody",{role:"presentation"},T("tr",{role:"row"},e.axis&&T("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},T("div",{className:"fc-timegrid-col-frame"},T("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&T(_f,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((h,d)=>T($R,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:s[d],bgEventSegs:o[d],businessHourSegs:l[d],nowIndicatorSegs:a[d],dateSelectionSegs:u[d],eventDrag:c[d],eventResize:f[d],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new li(this.rootElRef.current,QR(this.cellElRefs.currentMap,e.cells),!0,!1))}}function QR(t,e){return e.map(n=>t[n.key])}class ZR extends jt{constructor(){super(...arguments),this.processSlotOptions=z(KR),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(e.time){let i=r.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return T("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},T(IR,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),T(qR,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:r,options:i}=this.context,{colCoords:s}=this,{dateProfile:o}=this.props,{slatCoords:l}=this.state,{snapDuration:a,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),c=s.leftToIndex(e),f=l.positions.topToIndex(n);if(c!=null&&f!=null){let h=this.props.cells[c],d=l.positions.tops[f],p=l.positions.getHeight(f),v=(n-d)/p,y=Math.floor(v*u),m=f*u+y,g=this.props.cells[c].date,E=vc(o.slotMinTime,vA(a,m)),w=r.add(g,E),D=r.add(w,a);return{dateProfile:o,dateSpan:Object.assign({range:{start:w,end:D},allDay:!1},h.extraDateSpan),dayEl:s.els[c],rect:{left:s.lefts[c],right:s.rights[c],top:d,bottom:d+p},layer:0}}return null}}function KR(t,e){let n=e||t,r=ef(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}class XR extends oE{sliceRange(e,n){let r=[];for(let i=0;i<n.length;i+=1){let s=fr(e,n[i]);s&&r.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:i})}return r}}class JR extends jt{constructor(){super(...arguments),this.buildDayRanges=z(eN),this.slicer=new XR,this.timeColsRef=je()}render(){let{props:e,context:n}=this,{dateProfile:r,dayTableModel:i}=e,{nowIndicator:s,nextDayThreshold:o}=n.options,l=this.buildDayRanges(i,r,n.dateEnv);return T(Is,{unit:s?"minute":"day"},(a,u)=>T(ZR,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,n,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:a,nowIndicatorSegs:s&&this.slicer.sliceNowDate(a,r,o,n,l),todayRange:u,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function eN(t,e,n){let r=[];for(let i of t.headerDates)r.push({start:n.add(i,e.slotMinTime),end:n.add(i,e.slotMaxTime)});return r}const Tm=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function tN(t,e,n,r,i){let s=new Date(0),o=t,l=B(0),a=n||nN(r),u=[];for(;kt(o)<kt(e);){let c=i.add(s,o),f=ef(l,a)!==null;u.push({date:c,time:o,key:c.toISOString(),isoTimeStr:IA(c),isLabeled:f}),o=vc(o,r),l=vc(l,r)}return u}function nN(t){let e,n,r;for(e=Tm.length-1;e>=0;e-=1)if(n=B(Tm[e]),r=ef(n,t),r!==null&&r>1)return n;return t}class rN extends OR{constructor(){super(...arguments),this.buildTimeColsModel=z(iN),this.buildSlatMetas=z(tN)}render(){let{options:e,dateEnv:n,dateProfileGenerator:r}=this.context,{props:i}=this,{dateProfile:s}=i,o=this.buildTimeColsModel(s,r),l=this.allDaySplitter.splitProps(i),a=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:u}=e,c=!u,f=u,h=e.dayHeaders&&T(rE,{dates:o.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:c?this.renderHeadAxis:null}),d=e.allDaySlot!==!1&&(v=>T(LE,Object.assign({},l.allDay,{dateProfile:s,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:v.tableMinWidth,colGroupNode:v.tableColGroupNode,renderRowIntro:c?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:v.clientWidth,clientHeight:v.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),p=v=>T(JR,Object.assign({},l.timed,{dayTableModel:o,dateProfile:s,axis:c,slotDuration:e.slotDuration,slatMetas:a,forPrint:i.forPrint,tableColGroupNode:v.tableColGroupNode,tableMinWidth:v.tableMinWidth,clientWidth:v.clientWidth,clientHeight:v.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:v.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(h,d,p,o.colCnt,u,a,this.state.slatCoords):this.renderSimpleLayout(h,d,p)}}function iN(t,e){let n=new iE(t.renderRange,e);return new sE(n,!1)}const sN={allDaySlot:Boolean};var oN=un({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:sN,views:{timeGrid:{component:rN,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});function lN(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}function aN(){const[t,e,n,r,i]=Ga(d=>[d.requestStateUpdate,d.setHoveringPath,d.setDetailPath,d.showInEditor,d.newEvent],(d,p)=>!0),s=Ga(d=>{var p;return(p=d.appState)==null?void 0:p.isDark}),o=Ga(d=>d.events,lN);Mt.useEffect(()=>{t()},[]);const l=d=>e(d.event.id.split(",").map(p=>parseInt(p))),a=()=>{e()},u=d=>{const p=d.event.id.split(",").map(v=>parseInt(v));n(p),r(p)},c=d=>{i({fromDateTimeIso:d.startStr,toDateTimeIso:d.endStr},!1),h.current.getApi().unselect()},f=d=>{const p=[],v=H.fromJSDate(d.date);return v.day<8&&(v.day===1&&p.push("firstDayOfMonth"),p.push("firstWeekOfMonth")),p},h=Mt.createRef();return Li.jsx("div",{className:`h-full w-full ${s?"dark":""}`,children:Li.jsx("div",{className:"h-full w-full dark:bg-slate-800 dark:text-slate-100 text-slate-900 bg-white calendar-container",children:Li.jsx(bE,{ref:h,plugins:[JO,wR,oN],editable:!0,initialView:"dayGridYear",height:"100%",windowResizeDelay:0,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridYear,timeGridWeek,timeGridDay"},buttonText:{year:"Month"},events:o,eventMouseEnter:l,eventMouseLeave:a,eventClick:u,eventClassNames:["cursor-pointer"],dayCellClassNames:f,selectable:!0,select:c})})})}cu.createRoot(document.getElementById("root")).render(Li.jsx(Ho.StrictMode,{children:Li.jsx(aN,{})}));\n\n<\/script>\n    <style>\n*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.h-full{height:100%}.w-full{width:100%}.cursor-pointer{cursor:pointer}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.text-slate-900{--tw-text-opacity: 1;color:rgb(15 23 42 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}:root,body,#root{width:100%;height:100%;padding:0;margin:0}:root{--fc-border-color: rgba(155, 155, 155, .1) !important;--fc-today-bg-color: rgb(255 255 255 / 0%) !important}.calendar-container{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.fc .fc-header-toolbar.fc-toolbar{margin:0;padding:.5rem;font-size:.75rem;line-height:1rem}.firstDayOfMonth{border-left-width:2px!important;--tw-border-opacity: 1 !important;border-left-color:rgb(148 163 184 / var(--tw-border-opacity))!important}.firstWeekOfMonth{border-top-width:2px!important;--tw-border-opacity: 1 !important;border-top-color:rgb(148 163 184 / var(--tw-border-opacity))!important}.fc-button{text-transform:capitalize!important}.fc-today-button{--tw-bg-opacity: 1 !important;background-color:rgb(67 56 202 / var(--tw-bg-opacity))!important}.fc-day-sat,.fc-day-sun{--tw-bg-opacity: 1 !important;background-color:rgb(241 245 249 / var(--tw-bg-opacity))!important}:is(.dark .fc-day-sat),:is(.dark .fc-day-sun){--tw-bg-opacity: 1 !important;background-color:rgb(51 65 85 / var(--tw-bg-opacity))!important}.fc-day-today .fc-daygrid-day-top,.fc-col-header-cell.fc-day-today{--tw-bg-opacity: 1 !important;background-color:rgb(99 102 241 / var(--tw-bg-opacity))!important;--tw-text-opacity: 1 !important;color:rgb(241 245 249 / var(--tw-text-opacity))!important}:is(.dark .dark\\:bg-slate-800){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:text-slate-100){--tw-text-opacity: 1;color:rgb(241 245 249 / var(--tw-text-opacity))}\n\n</style>\n  </head>\n  <body>\n    <div id="root"></div>\n    <!-- <script src="http://localhost:8097"><\/script> -->\n    \n  </body>\n</html>\n',Gg='<html>\n  <head>\n    <meta charset="utf-8" />\n    <title>Calendar</title>\n    <style></style>\n    <script type="module" crossorigin>\nvar ns=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports);var Ml=ns((bl,st)=>{(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll(\'link[rel="modulepreload"]\'))h(u);new MutationObserver(u=>{for(const v of u)if(v.type==="childList")for(const T of v.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&h(T)}).observe(document,{childList:!0,subtree:!0});function n(u){const v={};return u.integrity&&(v.integrity=u.integrity),u.referrerPolicy&&(v.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?v.credentials="include":u.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function h(u){if(u.ep)return;u.ep=!0;const v=n(u);fetch(u.href,v)}})();//! moment.js\n//! version : 2.29.4\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\nvar za;function D(){return za.apply(null,arguments)}function ls(e){za=e}function ne(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function He(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function L(e,i){return Object.prototype.hasOwnProperty.call(e,i)}function jt(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var i;for(i in e)if(L(e,i))return!1;return!0}function ee(e){return e===void 0}function De(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function qe(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Ia(e,i){var n=[],h,u=e.length;for(h=0;h<u;++h)n.push(i(e[h],h));return n}function Se(e,i){for(var n in i)L(i,n)&&(e[n]=i[n]);return L(i,"toString")&&(e.toString=i.toString),L(i,"valueOf")&&(e.valueOf=i.valueOf),e}function ue(e,i,n,h){return sr(e,i,n,h,!0).utc()}function ds(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function H(e){return e._pf==null&&(e._pf=ds()),e._pf}var kt;Array.prototype.some?kt=Array.prototype.some:kt=function(e){var i=Object(this),n=i.length>>>0,h;for(h=0;h<n;h++)if(h in i&&e.call(this,i[h],h,i))return!0;return!1};function Nt(e){if(e._isValid==null){var i=H(e),n=kt.call(i.parsedDateParts,function(u){return u!=null}),h=!isNaN(e._d.getTime())&&i.overflow<0&&!i.empty&&!i.invalidEra&&!i.invalidMonth&&!i.invalidWeekday&&!i.weekdayMismatch&&!i.nullInput&&!i.invalidFormat&&!i.userInvalidated&&(!i.meridiem||i.meridiem&&n);if(e._strict&&(h=h&&i.charsLeftOver===0&&i.unusedTokens.length===0&&i.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=h;else return h}return e._isValid}function ct(e){var i=ue(NaN);return e!=null?Se(H(i),e):H(i).userInvalidated=!0,i}var Sa=D.momentProperties=[],xt=!1;function Yt(e,i){var n,h,u,v=Sa.length;if(ee(i._isAMomentObject)||(e._isAMomentObject=i._isAMomentObject),ee(i._i)||(e._i=i._i),ee(i._f)||(e._f=i._f),ee(i._l)||(e._l=i._l),ee(i._strict)||(e._strict=i._strict),ee(i._tzm)||(e._tzm=i._tzm),ee(i._isUTC)||(e._isUTC=i._isUTC),ee(i._offset)||(e._offset=i._offset),ee(i._pf)||(e._pf=H(i)),ee(i._locale)||(e._locale=i._locale),v>0)for(n=0;n<v;n++)h=Sa[n],u=i[h],ee(u)||(e[h]=u);return e}function $e(e){Yt(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),xt===!1&&(xt=!0,D.updateOffset(this),xt=!1)}function le(e){return e instanceof $e||e!=null&&e._isAMomentObject!=null}function Wa(e){D.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function se(e,i){var n=!0;return Se(function(){if(D.deprecationHandler!=null&&D.deprecationHandler(null,e),n){var h=[],u,v,T,C=arguments.length;for(v=0;v<C;v++){if(u="",typeof arguments[v]=="object"){u+=`\n[`+v+"] ";for(T in arguments[0])L(arguments[0],T)&&(u+=T+": "+arguments[0][T]+", ");u=u.slice(0,-2)}else u=arguments[v];h.push(u)}Wa(e+`\nArguments: `+Array.prototype.slice.call(h).join("")+`\n`+new Error().stack),n=!1}return i.apply(this,arguments)},i)}var Fa={};function _a(e,i){D.deprecationHandler!=null&&D.deprecationHandler(e,i),Fa[e]||(Wa(i),Fa[e]=!0)}D.suppressDeprecationWarnings=!1;D.deprecationHandler=null;function ge(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function hs(e){var i,n;for(n in e)L(e,n)&&(i=e[n],ge(i)?this[n]=i:this["_"+n]=i);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\\d{1,2}/.source)}function At(e,i){var n=Se({},e),h;for(h in i)L(i,h)&&(He(e[h])&&He(i[h])?(n[h]={},Se(n[h],e[h]),Se(n[h],i[h])):i[h]!=null?n[h]=i[h]:delete n[h]);for(h in e)L(e,h)&&!L(i,h)&&He(e[h])&&(n[h]=Se({},n[h]));return n}function wt(e){e!=null&&this.set(e)}var Bt;Object.keys?Bt=Object.keys:Bt=function(e){var i,n=[];for(i in e)L(e,i)&&n.push(i);return n};var cs={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function us(e,i,n){var h=this._calendar[e]||this._calendar.sameElse;return ge(h)?h.call(i,n):h}function ce(e,i,n){var h=""+Math.abs(e),u=i-h.length,v=e>=0;return(v?n?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+h}var Ut=/(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Oe=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Mt={},Ie={};function F(e,i,n,h){var u=h;typeof h=="string"&&(u=function(){return this[h]()}),e&&(Ie[e]=u),i&&(Ie[i[0]]=function(){return ce(u.apply(this,arguments),i[1],i[2])}),n&&(Ie[n]=function(){return this.localeData().ordinal(u.apply(this,arguments),e)})}function gs(e){return e.match(/\\[[\\s\\S]/)?e.replace(/^\\[|\\]$/g,""):e.replace(/\\\\/g,"")}function ms(e){var i=e.match(Ut),n,h;for(n=0,h=i.length;n<h;n++)Ie[i[n]]?i[n]=Ie[i[n]]:i[n]=gs(i[n]);return function(u){var v="",T;for(T=0;T<h;T++)v+=ge(i[T])?i[T].call(u,e):i[T];return v}}function tt(e,i){return e.isValid()?(i=La(i,e.localeData()),Mt[i]=Mt[i]||ms(i),Mt[i](e)):e.localeData().invalidDate()}function La(e,i){var n=5;function h(u){return i.longDateFormat(u)||u}for(Oe.lastIndex=0;n>=0&&Oe.test(e);)e=e.replace(Oe,h),Oe.lastIndex=0,n-=1;return e}var ps={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function vs(e){var i=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return i||!n?i:(this._longDateFormat[e]=n.match(Ut).map(function(h){return h==="MMMM"||h==="MM"||h==="DD"||h==="dddd"?h.slice(1):h}).join(""),this._longDateFormat[e])}var fs="Invalid date";function Ts(){return this._invalidDate}var Ds="%d",ys=/\\d{1,2}/;function Es(e){return this._ordinal.replace("%d",e)}var Cs={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ss(e,i,n,h){var u=this._relativeTime[n];return ge(u)?u(e,i,n,h):u.replace(/%d/i,e)}function Fs(e,i){var n=this._relativeTime[e>0?"future":"past"];return ge(n)?n(i):n.replace(/%s/i,i)}var Ye={};function O(e,i){var n=e.toLowerCase();Ye[n]=Ye[n+"s"]=Ye[i]=e}function ie(e){return typeof e=="string"?Ye[e]||Ye[e.toLowerCase()]:void 0}function Gt(e){var i={},n,h;for(h in e)L(e,h)&&(n=ie(h),n&&(i[n]=e[h]));return i}var Ra={};function V(e,i){Ra[e]=i}function xs(e){var i=[],n;for(n in e)L(e,n)&&i.push({unit:n,priority:Ra[n]});return i.sort(function(h,u){return h.priority-u.priority}),i}function ut(e){return e%4===0&&e%100!==0||e%400===0}function re(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function A(e){var i=+e,n=0;return i!==0&&isFinite(i)&&(n=re(i)),n}function Le(e,i){return function(n){return n!=null?(Za(this,e,n),D.updateOffset(this,i),this):it(this,e)}}function it(e,i){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+i]():NaN}function Za(e,i,n){e.isValid()&&!isNaN(n)&&(i==="FullYear"&&ut(e.year())&&e.month()===1&&e.date()===29?(n=A(n),e._d["set"+(e._isUTC?"UTC":"")+i](n,e.month(),Tt(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+i](n))}function Ms(e){return e=ie(e),ge(this[e])?this[e]():this}function Ps(e,i){if(typeof e=="object"){e=Gt(e);var n=xs(e),h,u=n.length;for(h=0;h<u;h++)this[n[h].unit](e[n[h].unit])}else if(e=ie(e),ge(this[e]))return this[e](i);return this}var ja=/\\d/,ae=/\\d\\d/,Na=/\\d{3}/,Xt=/\\d{4}/,gt=/[+-]?\\d{6}/,Y=/\\d\\d?/,Ya=/\\d\\d\\d\\d?/,wa=/\\d\\d\\d\\d\\d\\d?/,mt=/\\d{1,3}/,qt=/\\d{1,4}/,pt=/[+-]?\\d{1,6}/,Re=/\\d+/,vt=/[+-]?\\d+/,bs=/Z|[+-]\\d\\d:?\\d\\d/gi,ft=/Z|[+-]\\d\\d(?::?\\d\\d)?/gi,Hs=/[+-]?\\d+(\\.\\d{1,3})?/,Ke=/[0-9]{0,256}[\'a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i,ot;ot={};function E(e,i,n){ot[e]=ge(i)?i:function(h,u){return h&&n?n:i}}function ks(e,i){return L(ot,e)?ot[e](i._strict,i._locale):new RegExp(As(e))}function As(e){return te(e.replace("\\\\","").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(i,n,h,u,v){return n||h||u||v}))}function te(e){return e.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,"\\\\$&")}var zt={};function Z(e,i){var n,h=i,u;for(typeof e=="string"&&(e=[e]),De(i)&&(h=function(v,T){T[i]=A(v)}),u=e.length,n=0;n<u;n++)zt[e[n]]=h}function Je(e,i){Z(e,function(n,h,u,v){u._w=u._w||{},i(n,u._w,u,v)})}function Bs(e,i,n){i!=null&&L(zt,e)&&zt[e](i,n._a,n,e)}var Q=0,ve=1,he=2,K=3,oe=4,fe=5,be=6,zs=7,Is=8;function Ws(e,i){return(e%i+i)%i}var G;Array.prototype.indexOf?G=Array.prototype.indexOf:G=function(e){var i;for(i=0;i<this.length;++i)if(this[i]===e)return i;return-1};function Tt(e,i){if(isNaN(e)||isNaN(i))return NaN;var n=Ws(i,12);return e+=(i-n)/12,n===1?ut(e)?29:28:31-n%7%2}F("M",["MM",2],"Mo",function(){return this.month()+1});F("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});F("MMMM",0,0,function(e){return this.localeData().months(this,e)});O("month","M");V("month",8);E("M",Y);E("MM",Y,ae);E("MMM",function(e,i){return i.monthsShortRegex(e)});E("MMMM",function(e,i){return i.monthsRegex(e)});Z(["M","MM"],function(e,i){i[ve]=A(e)-1});Z(["MMM","MMMM"],function(e,i,n,h){var u=n._locale.monthsParse(e,h,n._strict);u!=null?i[ve]=u:H(n).invalidMonth=e});var _s="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ua="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ga=/D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,Ls=Ke,Rs=Ke;function Zs(e,i){return e?ne(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ga).test(i)?"format":"standalone"][e.month()]:ne(this._months)?this._months:this._months.standalone}function js(e,i){return e?ne(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ga.test(i)?"format":"standalone"][e.month()]:ne(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ns(e,i,n){var h,u,v,T=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],h=0;h<12;++h)v=ue([2e3,h]),this._shortMonthsParse[h]=this.monthsShort(v,"").toLocaleLowerCase(),this._longMonthsParse[h]=this.months(v,"").toLocaleLowerCase();return n?i==="MMM"?(u=G.call(this._shortMonthsParse,T),u!==-1?u:null):(u=G.call(this._longMonthsParse,T),u!==-1?u:null):i==="MMM"?(u=G.call(this._shortMonthsParse,T),u!==-1?u:(u=G.call(this._longMonthsParse,T),u!==-1?u:null)):(u=G.call(this._longMonthsParse,T),u!==-1?u:(u=G.call(this._shortMonthsParse,T),u!==-1?u:null))}function Ys(e,i,n){var h,u,v;if(this._monthsParseExact)return Ns.call(this,e,i,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),h=0;h<12;h++){if(u=ue([2e3,h]),n&&!this._longMonthsParse[h]&&(this._longMonthsParse[h]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[h]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),!n&&!this._monthsParse[h]&&(v="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[h]=new RegExp(v.replace(".",""),"i")),n&&i==="MMMM"&&this._longMonthsParse[h].test(e))return h;if(n&&i==="MMM"&&this._shortMonthsParse[h].test(e))return h;if(!n&&this._monthsParse[h].test(e))return h}}function Xa(e,i){var n;if(!e.isValid())return e;if(typeof i=="string"){if(/^\\d+$/.test(i))i=A(i);else if(i=e.localeData().monthsParse(i),!De(i))return e}return n=Math.min(e.date(),Tt(e.year(),i)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](i,n),e}function qa(e){return e!=null?(Xa(this,e),D.updateOffset(this,!0),this):it(this,"Month")}function ws(){return Tt(this.year(),this.month())}function Us(e){return this._monthsParseExact?(L(this,"_monthsRegex")||$a.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(L(this,"_monthsShortRegex")||(this._monthsShortRegex=Ls),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Gs(e){return this._monthsParseExact?(L(this,"_monthsRegex")||$a.call(this),e?this._monthsStrictRegex:this._monthsRegex):(L(this,"_monthsRegex")||(this._monthsRegex=Rs),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function $a(){function e(T,C){return C.length-T.length}var i=[],n=[],h=[],u,v;for(u=0;u<12;u++)v=ue([2e3,u]),i.push(this.monthsShort(v,"")),n.push(this.months(v,"")),h.push(this.months(v,"")),h.push(this.monthsShort(v,""));for(i.sort(e),n.sort(e),h.sort(e),u=0;u<12;u++)i[u]=te(i[u]),n[u]=te(n[u]);for(u=0;u<24;u++)h[u]=te(h[u]);this._monthsRegex=new RegExp("^("+h.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}F("Y",0,0,function(){var e=this.year();return e<=9999?ce(e,4):"+"+e});F(0,["YY",2],0,function(){return this.year()%100});F(0,["YYYY",4],0,"year");F(0,["YYYYY",5],0,"year");F(0,["YYYYYY",6,!0],0,"year");O("year","y");V("year",1);E("Y",vt);E("YY",Y,ae);E("YYYY",qt,Xt);E("YYYYY",pt,gt);E("YYYYYY",pt,gt);Z(["YYYYY","YYYYYY"],Q);Z("YYYY",function(e,i){i[Q]=e.length===2?D.parseTwoDigitYear(e):A(e)});Z("YY",function(e,i){i[Q]=D.parseTwoDigitYear(e)});Z("Y",function(e,i){i[Q]=parseInt(e,10)});function we(e){return ut(e)?366:365}D.parseTwoDigitYear=function(e){return A(e)+(A(e)>68?1900:2e3)};var Ka=Le("FullYear",!0);function Xs(){return ut(this.year())}function qs(e,i,n,h,u,v,T){var C;return e<100&&e>=0?(C=new Date(e+400,i,n,h,u,v,T),isFinite(C.getFullYear())&&C.setFullYear(e)):C=new Date(e,i,n,h,u,v,T),C}function Ue(e){var i,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,i=new Date(Date.UTC.apply(null,n)),isFinite(i.getUTCFullYear())&&i.setUTCFullYear(e)):i=new Date(Date.UTC.apply(null,arguments)),i}function nt(e,i,n){var h=7+i-n,u=(7+Ue(e,0,h).getUTCDay()-i)%7;return-u+h-1}function Ja(e,i,n,h,u){var v=(7+n-h)%7,T=nt(e,h,u),C=1+7*(i-1)+v+T,P,b;return C<=0?(P=e-1,b=we(P)+C):C>we(e)?(P=e+1,b=C-we(e)):(P=e,b=C),{year:P,dayOfYear:b}}function Ge(e,i,n){var h=nt(e.year(),i,n),u=Math.floor((e.dayOfYear()-h-1)/7)+1,v,T;return u<1?(T=e.year()-1,v=u+Te(T,i,n)):u>Te(e.year(),i,n)?(v=u-Te(e.year(),i,n),T=e.year()+1):(T=e.year(),v=u),{week:v,year:T}}function Te(e,i,n){var h=nt(e,i,n),u=nt(e+1,i,n);return(we(e)-h+u)/7}F("w",["ww",2],"wo","week");F("W",["WW",2],"Wo","isoWeek");O("week","w");O("isoWeek","W");V("week",5);V("isoWeek",5);E("w",Y);E("ww",Y,ae);E("W",Y);E("WW",Y,ae);Je(["w","ww","W","WW"],function(e,i,n,h){i[h.substr(0,1)]=A(e)});function $s(e){return Ge(e,this._week.dow,this._week.doy).week}var Ks={dow:0,doy:6};function Js(){return this._week.dow}function Qs(){return this._week.doy}function Os(e){var i=this.localeData().week(this);return e==null?i:this.add((e-i)*7,"d")}function Vs(e){var i=Ge(this,1,4).week;return e==null?i:this.add((e-i)*7,"d")}F("d",0,"do","day");F("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});F("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});F("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});F("e",0,0,"weekday");F("E",0,0,"isoWeekday");O("day","d");O("weekday","e");O("isoWeekday","E");V("day",11);V("weekday",11);V("isoWeekday",11);E("d",Y);E("e",Y);E("E",Y);E("dd",function(e,i){return i.weekdaysMinRegex(e)});E("ddd",function(e,i){return i.weekdaysShortRegex(e)});E("dddd",function(e,i){return i.weekdaysRegex(e)});Je(["dd","ddd","dddd"],function(e,i,n,h){var u=n._locale.weekdaysParse(e,h,n._strict);u!=null?i.d=u:H(n).invalidWeekday=e});Je(["d","e","E"],function(e,i,n,h){i[h]=A(e)});function ei(e,i){return typeof e!="string"?e:isNaN(e)?(e=i.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function ti(e,i){return typeof e=="string"?i.weekdaysParse(e)%7||7:isNaN(e)?null:e}function $t(e,i){return e.slice(i,7).concat(e.slice(0,i))}var ai="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Qa="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ri="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),si=Ke,ii=Ke,oi=Ke;function ni(e,i){var n=ne(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(i)?"format":"standalone"];return e===!0?$t(n,this._week.dow):e?n[e.day()]:n}function li(e){return e===!0?$t(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function di(e){return e===!0?$t(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function hi(e,i,n){var h,u,v,T=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],h=0;h<7;++h)v=ue([2e3,1]).day(h),this._minWeekdaysParse[h]=this.weekdaysMin(v,"").toLocaleLowerCase(),this._shortWeekdaysParse[h]=this.weekdaysShort(v,"").toLocaleLowerCase(),this._weekdaysParse[h]=this.weekdays(v,"").toLocaleLowerCase();return n?i==="dddd"?(u=G.call(this._weekdaysParse,T),u!==-1?u:null):i==="ddd"?(u=G.call(this._shortWeekdaysParse,T),u!==-1?u:null):(u=G.call(this._minWeekdaysParse,T),u!==-1?u:null):i==="dddd"?(u=G.call(this._weekdaysParse,T),u!==-1||(u=G.call(this._shortWeekdaysParse,T),u!==-1)?u:(u=G.call(this._minWeekdaysParse,T),u!==-1?u:null)):i==="ddd"?(u=G.call(this._shortWeekdaysParse,T),u!==-1||(u=G.call(this._weekdaysParse,T),u!==-1)?u:(u=G.call(this._minWeekdaysParse,T),u!==-1?u:null)):(u=G.call(this._minWeekdaysParse,T),u!==-1||(u=G.call(this._weekdaysParse,T),u!==-1)?u:(u=G.call(this._shortWeekdaysParse,T),u!==-1?u:null))}function ci(e,i,n){var h,u,v;if(this._weekdaysParseExact)return hi.call(this,e,i,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),h=0;h<7;h++){if(u=ue([2e3,1]).day(h),n&&!this._fullWeekdaysParse[h]&&(this._fullWeekdaysParse[h]=new RegExp("^"+this.weekdays(u,"").replace(".","\\\\.?")+"$","i"),this._shortWeekdaysParse[h]=new RegExp("^"+this.weekdaysShort(u,"").replace(".","\\\\.?")+"$","i"),this._minWeekdaysParse[h]=new RegExp("^"+this.weekdaysMin(u,"").replace(".","\\\\.?")+"$","i")),this._weekdaysParse[h]||(v="^"+this.weekdays(u,"")+"|^"+this.weekdaysShort(u,"")+"|^"+this.weekdaysMin(u,""),this._weekdaysParse[h]=new RegExp(v.replace(".",""),"i")),n&&i==="dddd"&&this._fullWeekdaysParse[h].test(e))return h;if(n&&i==="ddd"&&this._shortWeekdaysParse[h].test(e))return h;if(n&&i==="dd"&&this._minWeekdaysParse[h].test(e))return h;if(!n&&this._weekdaysParse[h].test(e))return h}}function ui(e){if(!this.isValid())return e!=null?this:NaN;var i=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=ei(e,this.localeData()),this.add(e-i,"d")):i}function gi(e){if(!this.isValid())return e!=null?this:NaN;var i=(this.day()+7-this.localeData()._week.dow)%7;return e==null?i:this.add(e-i,"d")}function mi(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var i=ti(e,this.localeData());return this.day(this.day()%7?i:i-7)}else return this.day()||7}function pi(e){return this._weekdaysParseExact?(L(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(L(this,"_weekdaysRegex")||(this._weekdaysRegex=si),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function vi(e){return this._weekdaysParseExact?(L(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(L(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ii),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function fi(e){return this._weekdaysParseExact?(L(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(L(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=oi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Kt(){function e(k,I){return I.length-k.length}var i=[],n=[],h=[],u=[],v,T,C,P,b;for(v=0;v<7;v++)T=ue([2e3,1]).day(v),C=te(this.weekdaysMin(T,"")),P=te(this.weekdaysShort(T,"")),b=te(this.weekdays(T,"")),i.push(C),n.push(P),h.push(b),u.push(C),u.push(P),u.push(b);i.sort(e),n.sort(e),h.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Ti(){return this.hours()||24}F("H",["HH",2],0,"hour");F("h",["hh",2],0,Jt);F("k",["kk",2],0,Ti);F("hmm",0,0,function(){return""+Jt.apply(this)+ce(this.minutes(),2)});F("hmmss",0,0,function(){return""+Jt.apply(this)+ce(this.minutes(),2)+ce(this.seconds(),2)});F("Hmm",0,0,function(){return""+this.hours()+ce(this.minutes(),2)});F("Hmmss",0,0,function(){return""+this.hours()+ce(this.minutes(),2)+ce(this.seconds(),2)});function Oa(e,i){F(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),i)})}Oa("a",!0);Oa("A",!1);O("hour","h");V("hour",13);function Va(e,i){return i._meridiemParse}E("a",Va);E("A",Va);E("H",Y);E("h",Y);E("k",Y);E("HH",Y,ae);E("hh",Y,ae);E("kk",Y,ae);E("hmm",Ya);E("hmmss",wa);E("Hmm",Ya);E("Hmmss",wa);Z(["H","HH"],K);Z(["k","kk"],function(e,i,n){var h=A(e);i[K]=h===24?0:h});Z(["a","A"],function(e,i,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Z(["h","hh"],function(e,i,n){i[K]=A(e),H(n).bigHour=!0});Z("hmm",function(e,i,n){var h=e.length-2;i[K]=A(e.substr(0,h)),i[oe]=A(e.substr(h)),H(n).bigHour=!0});Z("hmmss",function(e,i,n){var h=e.length-4,u=e.length-2;i[K]=A(e.substr(0,h)),i[oe]=A(e.substr(h,2)),i[fe]=A(e.substr(u)),H(n).bigHour=!0});Z("Hmm",function(e,i,n){var h=e.length-2;i[K]=A(e.substr(0,h)),i[oe]=A(e.substr(h))});Z("Hmmss",function(e,i,n){var h=e.length-4,u=e.length-2;i[K]=A(e.substr(0,h)),i[oe]=A(e.substr(h,2)),i[fe]=A(e.substr(u))});function Di(e){return(e+"").toLowerCase().charAt(0)==="p"}var yi=/[ap]\\.?m?\\.?/i,Ei=Le("Hours",!0);function Ci(e,i,n){return e>11?n?"pm":"PM":n?"am":"AM"}var er={calendar:cs,longDateFormat:ps,invalidDate:fs,ordinal:Ds,dayOfMonthOrdinalParse:ys,relativeTime:Cs,months:_s,monthsShort:Ua,week:Ks,weekdays:ai,weekdaysMin:ri,weekdaysShort:Qa,meridiemParse:yi},w={},je={},Xe;function Si(e,i){var n,h=Math.min(e.length,i.length);for(n=0;n<h;n+=1)if(e[n]!==i[n])return n;return h}function xa(e){return e&&e.toLowerCase().replace("_","-")}function Fi(e){for(var i=0,n,h,u,v;i<e.length;){for(v=xa(e[i]).split("-"),n=v.length,h=xa(e[i+1]),h=h?h.split("-"):null;n>0;){if(u=Dt(v.slice(0,n).join("-")),u)return u;if(h&&h.length>=n&&Si(v,h)>=n-1)break;n--}i++}return Xe}function xi(e){return e.match("^[^/\\\\\\\\]*$")!=null}function Dt(e){var i=null,n;if(w[e]===void 0&&typeof st<"u"&&st&&st.exports&&xi(e))try{i=Xe._abbr,n=require,n("./locale/"+e),xe(i)}catch{w[e]=null}return w[e]}function xe(e,i){var n;return e&&(ee(i)?n=ye(e):n=Qt(e,i),n?Xe=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Xe._abbr}function Qt(e,i){if(i!==null){var n,h=er;if(i.abbr=e,w[e]!=null)_a("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),h=w[e]._config;else if(i.parentLocale!=null)if(w[i.parentLocale]!=null)h=w[i.parentLocale]._config;else if(n=Dt(i.parentLocale),n!=null)h=n._config;else return je[i.parentLocale]||(je[i.parentLocale]=[]),je[i.parentLocale].push({name:e,config:i}),null;return w[e]=new wt(At(h,i)),je[e]&&je[e].forEach(function(u){Qt(u.name,u.config)}),xe(e),w[e]}else return delete w[e],null}function Mi(e,i){if(i!=null){var n,h,u=er;w[e]!=null&&w[e].parentLocale!=null?w[e].set(At(w[e]._config,i)):(h=Dt(e),h!=null&&(u=h._config),i=At(u,i),h==null&&(i.abbr=e),n=new wt(i),n.parentLocale=w[e],w[e]=n),xe(e)}else w[e]!=null&&(w[e].parentLocale!=null?(w[e]=w[e].parentLocale,e===xe()&&xe(e)):w[e]!=null&&delete w[e]);return w[e]}function ye(e){var i;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Xe;if(!ne(e)){if(i=Dt(e),i)return i;e=[e]}return Fi(e)}function Pi(){return Bt(w)}function Ot(e){var i,n=e._a;return n&&H(e).overflow===-2&&(i=n[ve]<0||n[ve]>11?ve:n[he]<1||n[he]>Tt(n[Q],n[ve])?he:n[K]<0||n[K]>24||n[K]===24&&(n[oe]!==0||n[fe]!==0||n[be]!==0)?K:n[oe]<0||n[oe]>59?oe:n[fe]<0||n[fe]>59?fe:n[be]<0||n[be]>999?be:-1,H(e)._overflowDayOfYear&&(i<Q||i>he)&&(i=he),H(e)._overflowWeeks&&i===-1&&(i=zs),H(e)._overflowWeekday&&i===-1&&(i=Is),H(e).overflow=i),e}var bi=/^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,Hi=/^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d|))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,ki=/Z|[+-]\\d\\d(?::?\\d\\d)?/,Ve=[["YYYYYY-MM-DD",/[+-]\\d{6}-\\d\\d-\\d\\d/],["YYYY-MM-DD",/\\d{4}-\\d\\d-\\d\\d/],["GGGG-[W]WW-E",/\\d{4}-W\\d\\d-\\d/],["GGGG-[W]WW",/\\d{4}-W\\d\\d/,!1],["YYYY-DDD",/\\d{4}-\\d{3}/],["YYYY-MM",/\\d{4}-\\d\\d/,!1],["YYYYYYMMDD",/[+-]\\d{10}/],["YYYYMMDD",/\\d{8}/],["GGGG[W]WWE",/\\d{4}W\\d{3}/],["GGGG[W]WW",/\\d{4}W\\d{2}/,!1],["YYYYDDD",/\\d{7}/],["YYYYMM",/\\d{6}/,!1],["YYYY",/\\d{4}/,!1]],Pt=[["HH:mm:ss.SSSS",/\\d\\d:\\d\\d:\\d\\d\\.\\d+/],["HH:mm:ss,SSSS",/\\d\\d:\\d\\d:\\d\\d,\\d+/],["HH:mm:ss",/\\d\\d:\\d\\d:\\d\\d/],["HH:mm",/\\d\\d:\\d\\d/],["HHmmss.SSSS",/\\d\\d\\d\\d\\d\\d\\.\\d+/],["HHmmss,SSSS",/\\d\\d\\d\\d\\d\\d,\\d+/],["HHmmss",/\\d\\d\\d\\d\\d\\d/],["HHmm",/\\d\\d\\d\\d/],["HH",/\\d\\d/]],Ai=/^\\/?Date\\((-?\\d+)/i,Bi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,zi={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function tr(e){var i,n,h=e._i,u=bi.exec(h)||Hi.exec(h),v,T,C,P,b=Ve.length,k=Pt.length;if(u){for(H(e).iso=!0,i=0,n=b;i<n;i++)if(Ve[i][1].exec(u[1])){T=Ve[i][0],v=Ve[i][2]!==!1;break}if(T==null){e._isValid=!1;return}if(u[3]){for(i=0,n=k;i<n;i++)if(Pt[i][1].exec(u[3])){C=(u[2]||" ")+Pt[i][0];break}if(C==null){e._isValid=!1;return}}if(!v&&C!=null){e._isValid=!1;return}if(u[4])if(ki.exec(u[4]))P="Z";else{e._isValid=!1;return}e._f=T+(C||"")+(P||""),ea(e)}else e._isValid=!1}function Ii(e,i,n,h,u,v){var T=[Wi(e),Ua.indexOf(i),parseInt(n,10),parseInt(h,10),parseInt(u,10)];return v&&T.push(parseInt(v,10)),T}function Wi(e){var i=parseInt(e,10);return i<=49?2e3+i:i<=999?1900+i:i}function _i(e){return e.replace(/\\([^()]*\\)|[\\n\\t]/g," ").replace(/(\\s\\s+)/g," ").replace(/^\\s\\s*/,"").replace(/\\s\\s*$/,"")}function Li(e,i,n){if(e){var h=Qa.indexOf(e),u=new Date(i[0],i[1],i[2]).getDay();if(h!==u)return H(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Ri(e,i,n){if(e)return zi[e];if(i)return 0;var h=parseInt(n,10),u=h%100,v=(h-u)/100;return v*60+u}function ar(e){var i=Bi.exec(_i(e._i)),n;if(i){if(n=Ii(i[4],i[3],i[2],i[5],i[6],i[7]),!Li(i[1],n,e))return;e._a=n,e._tzm=Ri(i[8],i[9],i[10]),e._d=Ue.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),H(e).rfc2822=!0}else e._isValid=!1}function Zi(e){var i=Ai.exec(e._i);if(i!==null){e._d=new Date(+i[1]);return}if(tr(e),e._isValid===!1)delete e._isValid;else return;if(ar(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:D.createFromInputFallback(e)}D.createFromInputFallback=se("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Be(e,i,n){return e??i??n}function ji(e){var i=new Date(D.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function Vt(e){var i,n,h=[],u,v,T;if(!e._d){for(u=ji(e),e._w&&e._a[he]==null&&e._a[ve]==null&&Ni(e),e._dayOfYear!=null&&(T=Be(e._a[Q],u[Q]),(e._dayOfYear>we(T)||e._dayOfYear===0)&&(H(e)._overflowDayOfYear=!0),n=Ue(T,0,e._dayOfYear),e._a[ve]=n.getUTCMonth(),e._a[he]=n.getUTCDate()),i=0;i<3&&e._a[i]==null;++i)e._a[i]=h[i]=u[i];for(;i<7;i++)e._a[i]=h[i]=e._a[i]==null?i===2?1:0:e._a[i];e._a[K]===24&&e._a[oe]===0&&e._a[fe]===0&&e._a[be]===0&&(e._nextDay=!0,e._a[K]=0),e._d=(e._useUTC?Ue:qs).apply(null,h),v=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[K]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==v&&(H(e).weekdayMismatch=!0)}}function Ni(e){var i,n,h,u,v,T,C,P,b;i=e._w,i.GG!=null||i.W!=null||i.E!=null?(v=1,T=4,n=Be(i.GG,e._a[Q],Ge(N(),1,4).year),h=Be(i.W,1),u=Be(i.E,1),(u<1||u>7)&&(P=!0)):(v=e._locale._week.dow,T=e._locale._week.doy,b=Ge(N(),v,T),n=Be(i.gg,e._a[Q],b.year),h=Be(i.w,b.week),i.d!=null?(u=i.d,(u<0||u>6)&&(P=!0)):i.e!=null?(u=i.e+v,(i.e<0||i.e>6)&&(P=!0)):u=v),h<1||h>Te(n,v,T)?H(e)._overflowWeeks=!0:P!=null?H(e)._overflowWeekday=!0:(C=Ja(n,h,u,v,T),e._a[Q]=C.year,e._dayOfYear=C.dayOfYear)}D.ISO_8601=function(){};D.RFC_2822=function(){};function ea(e){if(e._f===D.ISO_8601){tr(e);return}if(e._f===D.RFC_2822){ar(e);return}e._a=[],H(e).empty=!0;var i=""+e._i,n,h,u,v,T,C=i.length,P=0,b,k;for(u=La(e._f,e._locale).match(Ut)||[],k=u.length,n=0;n<k;n++)v=u[n],h=(i.match(ks(v,e))||[])[0],h&&(T=i.substr(0,i.indexOf(h)),T.length>0&&H(e).unusedInput.push(T),i=i.slice(i.indexOf(h)+h.length),P+=h.length),Ie[v]?(h?H(e).empty=!1:H(e).unusedTokens.push(v),Bs(v,h,e)):e._strict&&!h&&H(e).unusedTokens.push(v);H(e).charsLeftOver=C-P,i.length>0&&H(e).unusedInput.push(i),e._a[K]<=12&&H(e).bigHour===!0&&e._a[K]>0&&(H(e).bigHour=void 0),H(e).parsedDateParts=e._a.slice(0),H(e).meridiem=e._meridiem,e._a[K]=Yi(e._locale,e._a[K],e._meridiem),b=H(e).era,b!==null&&(e._a[Q]=e._locale.erasConvertYear(b,e._a[Q])),Vt(e),Ot(e)}function Yi(e,i,n){var h;return n==null?i:e.meridiemHour!=null?e.meridiemHour(i,n):(e.isPM!=null&&(h=e.isPM(n),h&&i<12&&(i+=12),!h&&i===12&&(i=0)),i)}function wi(e){var i,n,h,u,v,T,C=!1,P=e._f.length;if(P===0){H(e).invalidFormat=!0,e._d=new Date(NaN);return}for(u=0;u<P;u++)v=0,T=!1,i=Yt({},e),e._useUTC!=null&&(i._useUTC=e._useUTC),i._f=e._f[u],ea(i),Nt(i)&&(T=!0),v+=H(i).charsLeftOver,v+=H(i).unusedTokens.length*10,H(i).score=v,C?v<h&&(h=v,n=i):(h==null||v<h||T)&&(h=v,n=i,T&&(C=!0));Se(e,n||i)}function Ui(e){if(!e._d){var i=Gt(e._i),n=i.day===void 0?i.date:i.day;e._a=Ia([i.year,i.month,n,i.hour,i.minute,i.second,i.millisecond],function(h){return h&&parseInt(h,10)}),Vt(e)}}function Gi(e){var i=new $e(Ot(rr(e)));return i._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function rr(e){var i=e._i,n=e._f;return e._locale=e._locale||ye(e._l),i===null||n===void 0&&i===""?ct({nullInput:!0}):(typeof i=="string"&&(e._i=i=e._locale.preparse(i)),le(i)?new $e(Ot(i)):(qe(i)?e._d=i:ne(n)?wi(e):n?ea(e):Xi(e),Nt(e)||(e._d=null),e))}function Xi(e){var i=e._i;ee(i)?e._d=new Date(D.now()):qe(i)?e._d=new Date(i.valueOf()):typeof i=="string"?Zi(e):ne(i)?(e._a=Ia(i.slice(0),function(n){return parseInt(n,10)}),Vt(e)):He(i)?Ui(e):De(i)?e._d=new Date(i):D.createFromInputFallback(e)}function sr(e,i,n,h,u){var v={};return(i===!0||i===!1)&&(h=i,i=void 0),(n===!0||n===!1)&&(h=n,n=void 0),(He(e)&&jt(e)||ne(e)&&e.length===0)&&(e=void 0),v._isAMomentObject=!0,v._useUTC=v._isUTC=u,v._l=n,v._i=e,v._f=i,v._strict=h,Gi(v)}function N(e,i,n,h){return sr(e,i,n,h,!1)}var qi=se("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=N.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:ct()}),$i=se("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=N.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:ct()});function ir(e,i){var n,h;if(i.length===1&&ne(i[0])&&(i=i[0]),!i.length)return N();for(n=i[0],h=1;h<i.length;++h)(!i[h].isValid()||i[h][e](n))&&(n=i[h]);return n}function Ki(){var e=[].slice.call(arguments,0);return ir("isBefore",e)}function Ji(){var e=[].slice.call(arguments,0);return ir("isAfter",e)}var Qi=function(){return Date.now?Date.now():+new Date},Ne=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Oi(e){var i,n=!1,h,u=Ne.length;for(i in e)if(L(e,i)&&!(G.call(Ne,i)!==-1&&(e[i]==null||!isNaN(e[i]))))return!1;for(h=0;h<u;++h)if(e[Ne[h]]){if(n)return!1;parseFloat(e[Ne[h]])!==A(e[Ne[h]])&&(n=!0)}return!0}function Vi(){return this._isValid}function eo(){return de(NaN)}function yt(e){var i=Gt(e),n=i.year||0,h=i.quarter||0,u=i.month||0,v=i.week||i.isoWeek||0,T=i.day||0,C=i.hour||0,P=i.minute||0,b=i.second||0,k=i.millisecond||0;this._isValid=Oi(i),this._milliseconds=+k+b*1e3+P*6e4+C*1e3*60*60,this._days=+T+v*7,this._months=+u+h*3+n*12,this._data={},this._locale=ye(),this._bubble()}function at(e){return e instanceof yt}function It(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function to(e,i,n){var h=Math.min(e.length,i.length),u=Math.abs(e.length-i.length),v=0,T;for(T=0;T<h;T++)(n&&e[T]!==i[T]||!n&&A(e[T])!==A(i[T]))&&v++;return v+u}function or(e,i){F(e,0,0,function(){var n=this.utcOffset(),h="+";return n<0&&(n=-n,h="-"),h+ce(~~(n/60),2)+i+ce(~~n%60,2)})}or("Z",":");or("ZZ","");E("Z",ft);E("ZZ",ft);Z(["Z","ZZ"],function(e,i,n){n._useUTC=!0,n._tzm=ta(ft,e)});var ao=/([\\+\\-]|\\d\\d)/gi;function ta(e,i){var n=(i||"").match(e),h,u,v;return n===null?null:(h=n[n.length-1]||[],u=(h+"").match(ao)||["-",0,0],v=+(u[1]*60)+A(u[2]),v===0?0:u[0]==="+"?v:-v)}function aa(e,i){var n,h;return i._isUTC?(n=i.clone(),h=(le(e)||qe(e)?e.valueOf():N(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+h),D.updateOffset(n,!1),n):N(e).local()}function Wt(e){return-Math.round(e._d.getTimezoneOffset())}D.updateOffset=function(){};function ro(e,i,n){var h=this._offset||0,u;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=ta(ft,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&i&&(u=Wt(this)),this._offset=e,this._isUTC=!0,u!=null&&this.add(u,"m"),h!==e&&(!i||this._changeInProgress?dr(this,de(e-h,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,D.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?h:Wt(this)}function so(e,i){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,i),this):-this.utcOffset()}function io(e){return this.utcOffset(0,e)}function oo(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Wt(this),"m")),this}function no(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=ta(bs,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function lo(e){return this.isValid()?(e=e?N(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function ho(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function co(){if(!ee(this._isDSTShifted))return this._isDSTShifted;var e={},i;return Yt(e,this),e=rr(e),e._a?(i=e._isUTC?ue(e._a):N(e._a),this._isDSTShifted=this.isValid()&&to(e._a,i.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function uo(){return this.isValid()?!this._isUTC:!1}function go(){return this.isValid()?this._isUTC:!1}function nr(){return this.isValid()?this._isUTC&&this._offset===0:!1}var mo=/^(-|\\+)?(?:(\\d*)[. ])?(\\d+):(\\d+)(?::(\\d+)(\\.\\d*)?)?$/,po=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function de(e,i){var n=e,h=null,u,v,T;return at(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:De(e)||!isNaN(+e)?(n={},i?n[i]=+e:n.milliseconds=+e):(h=mo.exec(e))?(u=h[1]==="-"?-1:1,n={y:0,d:A(h[he])*u,h:A(h[K])*u,m:A(h[oe])*u,s:A(h[fe])*u,ms:A(It(h[be]*1e3))*u}):(h=po.exec(e))?(u=h[1]==="-"?-1:1,n={y:Pe(h[2],u),M:Pe(h[3],u),w:Pe(h[4],u),d:Pe(h[5],u),h:Pe(h[6],u),m:Pe(h[7],u),s:Pe(h[8],u)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(T=vo(N(n.from),N(n.to)),n={},n.ms=T.milliseconds,n.M=T.months),v=new yt(n),at(e)&&L(e,"_locale")&&(v._locale=e._locale),at(e)&&L(e,"_isValid")&&(v._isValid=e._isValid),v}de.fn=yt.prototype;de.invalid=eo;function Pe(e,i){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*i}function Ma(e,i){var n={};return n.months=i.month()-e.month()+(i.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(i)&&--n.months,n.milliseconds=+i-+e.clone().add(n.months,"M"),n}function vo(e,i){var n;return e.isValid()&&i.isValid()?(i=aa(i,e),e.isBefore(i)?n=Ma(e,i):(n=Ma(i,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function lr(e,i){return function(n,h){var u,v;return h!==null&&!isNaN(+h)&&(_a(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),v=n,n=h,h=v),u=de(n,h),dr(this,u,e),this}}function dr(e,i,n,h){var u=i._milliseconds,v=It(i._days),T=It(i._months);e.isValid()&&(h=h??!0,T&&Xa(e,it(e,"Month")+T*n),v&&Za(e,"Date",it(e,"Date")+v*n),u&&e._d.setTime(e._d.valueOf()+u*n),h&&D.updateOffset(e,v||T))}var fo=lr(1,"add"),To=lr(-1,"subtract");function hr(e){return typeof e=="string"||e instanceof String}function Do(e){return le(e)||qe(e)||hr(e)||De(e)||Eo(e)||yo(e)||e===null||e===void 0}function yo(e){var i=He(e)&&!jt(e),n=!1,h=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u,v,T=h.length;for(u=0;u<T;u+=1)v=h[u],n=n||L(e,v);return i&&n}function Eo(e){var i=ne(e),n=!1;return i&&(n=e.filter(function(h){return!De(h)&&hr(e)}).length===0),i&&n}function Co(e){var i=He(e)&&!jt(e),n=!1,h=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],u,v;for(u=0;u<h.length;u+=1)v=h[u],n=n||L(e,v);return i&&n}function So(e,i){var n=e.diff(i,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Fo(e,i){arguments.length===1&&(arguments[0]?Do(arguments[0])?(e=arguments[0],i=void 0):Co(arguments[0])&&(i=arguments[0],e=void 0):(e=void 0,i=void 0));var n=e||N(),h=aa(n,this).startOf("day"),u=D.calendarFormat(this,h)||"sameElse",v=i&&(ge(i[u])?i[u].call(this,n):i[u]);return this.format(v||this.localeData().calendar(u,this,N(n)))}function xo(){return new $e(this)}function Mo(e,i){var n=le(e)?e:N(e);return this.isValid()&&n.isValid()?(i=ie(i)||"millisecond",i==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(i).valueOf()):!1}function Po(e,i){var n=le(e)?e:N(e);return this.isValid()&&n.isValid()?(i=ie(i)||"millisecond",i==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(i).valueOf()<n.valueOf()):!1}function bo(e,i,n,h){var u=le(e)?e:N(e),v=le(i)?i:N(i);return this.isValid()&&u.isValid()&&v.isValid()?(h=h||"()",(h[0]==="("?this.isAfter(u,n):!this.isBefore(u,n))&&(h[1]===")"?this.isBefore(v,n):!this.isAfter(v,n))):!1}function Ho(e,i){var n=le(e)?e:N(e),h;return this.isValid()&&n.isValid()?(i=ie(i)||"millisecond",i==="millisecond"?this.valueOf()===n.valueOf():(h=n.valueOf(),this.clone().startOf(i).valueOf()<=h&&h<=this.clone().endOf(i).valueOf())):!1}function ko(e,i){return this.isSame(e,i)||this.isAfter(e,i)}function Ao(e,i){return this.isSame(e,i)||this.isBefore(e,i)}function Bo(e,i,n){var h,u,v;if(!this.isValid())return NaN;if(h=aa(e,this),!h.isValid())return NaN;switch(u=(h.utcOffset()-this.utcOffset())*6e4,i=ie(i),i){case"year":v=rt(this,h)/12;break;case"month":v=rt(this,h);break;case"quarter":v=rt(this,h)/3;break;case"second":v=(this-h)/1e3;break;case"minute":v=(this-h)/6e4;break;case"hour":v=(this-h)/36e5;break;case"day":v=(this-h-u)/864e5;break;case"week":v=(this-h-u)/6048e5;break;default:v=this-h}return n?v:re(v)}function rt(e,i){if(e.date()<i.date())return-rt(i,e);var n=(i.year()-e.year())*12+(i.month()-e.month()),h=e.clone().add(n,"months"),u,v;return i-h<0?(u=e.clone().add(n-1,"months"),v=(i-h)/(h-u)):(u=e.clone().add(n+1,"months"),v=(i-h)/(u-h)),-(n+v)||0}D.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";D.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function zo(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Io(e){if(!this.isValid())return null;var i=e!==!0,n=i?this.clone().utc():this;return n.year()<0||n.year()>9999?tt(n,i?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ge(Date.prototype.toISOString)?i?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",tt(n,"Z")):tt(n,i?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Wo(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",i="",n,h,u,v;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",i="Z"),n="["+e+\'("]\',h=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",u="-MM-DD[T]HH:mm:ss.SSS",v=i+\'[")]\',this.format(n+h+u+v)}function _o(e){e||(e=this.isUtc()?D.defaultFormatUtc:D.defaultFormat);var i=tt(this,e);return this.localeData().postformat(i)}function Lo(e,i){return this.isValid()&&(le(e)&&e.isValid()||N(e).isValid())?de({to:this,from:e}).locale(this.locale()).humanize(!i):this.localeData().invalidDate()}function Ro(e){return this.from(N(),e)}function Zo(e,i){return this.isValid()&&(le(e)&&e.isValid()||N(e).isValid())?de({from:this,to:e}).locale(this.locale()).humanize(!i):this.localeData().invalidDate()}function jo(e){return this.to(N(),e)}function cr(e){var i;return e===void 0?this._locale._abbr:(i=ye(e),i!=null&&(this._locale=i),this)}var ur=se("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function gr(){return this._locale}var lt=1e3,We=60*lt,dt=60*We,mr=(365*400+97)*24*dt;function _e(e,i){return(e%i+i)%i}function pr(e,i,n){return e<100&&e>=0?new Date(e+400,i,n)-mr:new Date(e,i,n).valueOf()}function vr(e,i,n){return e<100&&e>=0?Date.UTC(e+400,i,n)-mr:Date.UTC(e,i,n)}function No(e){var i,n;if(e=ie(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?vr:pr,e){case"year":i=n(this.year(),0,1);break;case"quarter":i=n(this.year(),this.month()-this.month()%3,1);break;case"month":i=n(this.year(),this.month(),1);break;case"week":i=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":i=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":i=n(this.year(),this.month(),this.date());break;case"hour":i=this._d.valueOf(),i-=_e(i+(this._isUTC?0:this.utcOffset()*We),dt);break;case"minute":i=this._d.valueOf(),i-=_e(i,We);break;case"second":i=this._d.valueOf(),i-=_e(i,lt);break}return this._d.setTime(i),D.updateOffset(this,!0),this}function Yo(e){var i,n;if(e=ie(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?vr:pr,e){case"year":i=n(this.year()+1,0,1)-1;break;case"quarter":i=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":i=n(this.year(),this.month()+1,1)-1;break;case"week":i=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":i=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":i=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":i=this._d.valueOf(),i+=dt-_e(i+(this._isUTC?0:this.utcOffset()*We),dt)-1;break;case"minute":i=this._d.valueOf(),i+=We-_e(i,We)-1;break;case"second":i=this._d.valueOf(),i+=lt-_e(i,lt)-1;break}return this._d.setTime(i),D.updateOffset(this,!0),this}function wo(){return this._d.valueOf()-(this._offset||0)*6e4}function Uo(){return Math.floor(this.valueOf()/1e3)}function Go(){return new Date(this.valueOf())}function Xo(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function qo(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function $o(){return this.isValid()?this.toISOString():null}function Ko(){return Nt(this)}function Jo(){return Se({},H(this))}function Qo(){return H(this).overflow}function Oo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}F("N",0,0,"eraAbbr");F("NN",0,0,"eraAbbr");F("NNN",0,0,"eraAbbr");F("NNNN",0,0,"eraName");F("NNNNN",0,0,"eraNarrow");F("y",["y",1],"yo","eraYear");F("y",["yy",2],0,"eraYear");F("y",["yyy",3],0,"eraYear");F("y",["yyyy",4],0,"eraYear");E("N",ra);E("NN",ra);E("NNN",ra);E("NNNN",hn);E("NNNNN",cn);Z(["N","NN","NNN","NNNN","NNNNN"],function(e,i,n,h){var u=n._locale.erasParse(e,h,n._strict);u?H(n).era=u:H(n).invalidEra=e});E("y",Re);E("yy",Re);E("yyy",Re);E("yyyy",Re);E("yo",un);Z(["y","yy","yyy","yyyy"],Q);Z(["yo"],function(e,i,n,h){var u;n._locale._eraYearOrdinalRegex&&(u=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?i[Q]=n._locale.eraYearOrdinalParse(e,u):i[Q]=parseInt(e,10)});function Vo(e,i){var n,h,u,v=this._eras||ye("en")._eras;for(n=0,h=v.length;n<h;++n){switch(typeof v[n].since){case"string":u=D(v[n].since).startOf("day"),v[n].since=u.valueOf();break}switch(typeof v[n].until){case"undefined":v[n].until=1/0;break;case"string":u=D(v[n].until).startOf("day").valueOf(),v[n].until=u.valueOf();break}}return v}function en(e,i,n){var h,u,v=this.eras(),T,C,P;for(e=e.toUpperCase(),h=0,u=v.length;h<u;++h)if(T=v[h].name.toUpperCase(),C=v[h].abbr.toUpperCase(),P=v[h].narrow.toUpperCase(),n)switch(i){case"N":case"NN":case"NNN":if(C===e)return v[h];break;case"NNNN":if(T===e)return v[h];break;case"NNNNN":if(P===e)return v[h];break}else if([T,C,P].indexOf(e)>=0)return v[h]}function tn(e,i){var n=e.since<=e.until?1:-1;return i===void 0?D(e.since).year():D(e.since).year()+(i-e.offset)*n}function an(){var e,i,n,h=this.localeData().eras();for(e=0,i=h.length;e<i;++e)if(n=this.clone().startOf("day").valueOf(),h[e].since<=n&&n<=h[e].until||h[e].until<=n&&n<=h[e].since)return h[e].name;return""}function rn(){var e,i,n,h=this.localeData().eras();for(e=0,i=h.length;e<i;++e)if(n=this.clone().startOf("day").valueOf(),h[e].since<=n&&n<=h[e].until||h[e].until<=n&&n<=h[e].since)return h[e].narrow;return""}function sn(){var e,i,n,h=this.localeData().eras();for(e=0,i=h.length;e<i;++e)if(n=this.clone().startOf("day").valueOf(),h[e].since<=n&&n<=h[e].until||h[e].until<=n&&n<=h[e].since)return h[e].abbr;return""}function on(){var e,i,n,h,u=this.localeData().eras();for(e=0,i=u.length;e<i;++e)if(n=u[e].since<=u[e].until?1:-1,h=this.clone().startOf("day").valueOf(),u[e].since<=h&&h<=u[e].until||u[e].until<=h&&h<=u[e].since)return(this.year()-D(u[e].since).year())*n+u[e].offset;return this.year()}function nn(e){return L(this,"_erasNameRegex")||sa.call(this),e?this._erasNameRegex:this._erasRegex}function ln(e){return L(this,"_erasAbbrRegex")||sa.call(this),e?this._erasAbbrRegex:this._erasRegex}function dn(e){return L(this,"_erasNarrowRegex")||sa.call(this),e?this._erasNarrowRegex:this._erasRegex}function ra(e,i){return i.erasAbbrRegex(e)}function hn(e,i){return i.erasNameRegex(e)}function cn(e,i){return i.erasNarrowRegex(e)}function un(e,i){return i._eraYearOrdinalRegex||Re}function sa(){var e=[],i=[],n=[],h=[],u,v,T=this.eras();for(u=0,v=T.length;u<v;++u)i.push(te(T[u].name)),e.push(te(T[u].abbr)),n.push(te(T[u].narrow)),h.push(te(T[u].name)),h.push(te(T[u].abbr)),h.push(te(T[u].narrow));this._erasRegex=new RegExp("^("+h.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}F(0,["gg",2],0,function(){return this.weekYear()%100});F(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Et(e,i){F(0,[e,e.length],0,i)}Et("gggg","weekYear");Et("ggggg","weekYear");Et("GGGG","isoWeekYear");Et("GGGGG","isoWeekYear");O("weekYear","gg");O("isoWeekYear","GG");V("weekYear",1);V("isoWeekYear",1);E("G",vt);E("g",vt);E("GG",Y,ae);E("gg",Y,ae);E("GGGG",qt,Xt);E("gggg",qt,Xt);E("GGGGG",pt,gt);E("ggggg",pt,gt);Je(["gggg","ggggg","GGGG","GGGGG"],function(e,i,n,h){i[h.substr(0,2)]=A(e)});Je(["gg","GG"],function(e,i,n,h){i[h]=D.parseTwoDigitYear(e)});function gn(e){return fr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function mn(e){return fr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function pn(){return Te(this.year(),1,4)}function vn(){return Te(this.isoWeekYear(),1,4)}function fn(){var e=this.localeData()._week;return Te(this.year(),e.dow,e.doy)}function Tn(){var e=this.localeData()._week;return Te(this.weekYear(),e.dow,e.doy)}function fr(e,i,n,h,u){var v;return e==null?Ge(this,h,u).year:(v=Te(e,h,u),i>v&&(i=v),Dn.call(this,e,i,n,h,u))}function Dn(e,i,n,h,u){var v=Ja(e,i,n,h,u),T=Ue(v.year,0,v.dayOfYear);return this.year(T.getUTCFullYear()),this.month(T.getUTCMonth()),this.date(T.getUTCDate()),this}F("Q",0,"Qo","quarter");O("quarter","Q");V("quarter",7);E("Q",ja);Z("Q",function(e,i){i[ve]=(A(e)-1)*3});function yn(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}F("D",["DD",2],"Do","date");O("date","D");V("date",9);E("D",Y);E("DD",Y,ae);E("Do",function(e,i){return e?i._dayOfMonthOrdinalParse||i._ordinalParse:i._dayOfMonthOrdinalParseLenient});Z(["D","DD"],he);Z("Do",function(e,i){i[he]=A(e.match(Y)[0])});var Tr=Le("Date",!0);F("DDD",["DDDD",3],"DDDo","dayOfYear");O("dayOfYear","DDD");V("dayOfYear",4);E("DDD",mt);E("DDDD",Na);Z(["DDD","DDDD"],function(e,i,n){n._dayOfYear=A(e)});function En(e){var i=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?i:this.add(e-i,"d")}F("m",["mm",2],0,"minute");O("minute","m");V("minute",14);E("m",Y);E("mm",Y,ae);Z(["m","mm"],oe);var Cn=Le("Minutes",!1);F("s",["ss",2],0,"second");O("second","s");V("second",15);E("s",Y);E("ss",Y,ae);Z(["s","ss"],fe);var Sn=Le("Seconds",!1);F("S",0,0,function(){return~~(this.millisecond()/100)});F(0,["SS",2],0,function(){return~~(this.millisecond()/10)});F(0,["SSS",3],0,"millisecond");F(0,["SSSS",4],0,function(){return this.millisecond()*10});F(0,["SSSSS",5],0,function(){return this.millisecond()*100});F(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});F(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});F(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});F(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});O("millisecond","ms");V("millisecond",16);E("S",mt,ja);E("SS",mt,ae);E("SSS",mt,Na);var Fe,Dr;for(Fe="SSSS";Fe.length<=9;Fe+="S")E(Fe,Re);function Fn(e,i){i[be]=A(("0."+e)*1e3)}for(Fe="S";Fe.length<=9;Fe+="S")Z(Fe,Fn);Dr=Le("Milliseconds",!1);F("z",0,0,"zoneAbbr");F("zz",0,0,"zoneName");function xn(){return this._isUTC?"UTC":""}function Mn(){return this._isUTC?"Coordinated Universal Time":""}var y=$e.prototype;y.add=fo;y.calendar=Fo;y.clone=xo;y.diff=Bo;y.endOf=Yo;y.format=_o;y.from=Lo;y.fromNow=Ro;y.to=Zo;y.toNow=jo;y.get=Ms;y.invalidAt=Qo;y.isAfter=Mo;y.isBefore=Po;y.isBetween=bo;y.isSame=Ho;y.isSameOrAfter=ko;y.isSameOrBefore=Ao;y.isValid=Ko;y.lang=ur;y.locale=cr;y.localeData=gr;y.max=$i;y.min=qi;y.parsingFlags=Jo;y.set=Ps;y.startOf=No;y.subtract=To;y.toArray=Xo;y.toObject=qo;y.toDate=Go;y.toISOString=Io;y.inspect=Wo;typeof Symbol<"u"&&Symbol.for!=null&&(y[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});y.toJSON=$o;y.toString=zo;y.unix=Uo;y.valueOf=wo;y.creationData=Oo;y.eraName=an;y.eraNarrow=rn;y.eraAbbr=sn;y.eraYear=on;y.year=Ka;y.isLeapYear=Xs;y.weekYear=gn;y.isoWeekYear=mn;y.quarter=y.quarters=yn;y.month=qa;y.daysInMonth=ws;y.week=y.weeks=Os;y.isoWeek=y.isoWeeks=Vs;y.weeksInYear=fn;y.weeksInWeekYear=Tn;y.isoWeeksInYear=pn;y.isoWeeksInISOWeekYear=vn;y.date=Tr;y.day=y.days=ui;y.weekday=gi;y.isoWeekday=mi;y.dayOfYear=En;y.hour=y.hours=Ei;y.minute=y.minutes=Cn;y.second=y.seconds=Sn;y.millisecond=y.milliseconds=Dr;y.utcOffset=ro;y.utc=io;y.local=oo;y.parseZone=no;y.hasAlignedHourOffset=lo;y.isDST=ho;y.isLocal=uo;y.isUtcOffset=go;y.isUtc=nr;y.isUTC=nr;y.zoneAbbr=xn;y.zoneName=Mn;y.dates=se("dates accessor is deprecated. Use date instead.",Tr);y.months=se("months accessor is deprecated. Use month instead",qa);y.years=se("years accessor is deprecated. Use year instead",Ka);y.zone=se("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",so);y.isDSTShifted=se("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",co);function Pn(e){return N(e*1e3)}function bn(){return N.apply(null,arguments).parseZone()}function yr(e){return e}var R=wt.prototype;R.calendar=us;R.longDateFormat=vs;R.invalidDate=Ts;R.ordinal=Es;R.preparse=yr;R.postformat=yr;R.relativeTime=Ss;R.pastFuture=Fs;R.set=hs;R.eras=Vo;R.erasParse=en;R.erasConvertYear=tn;R.erasAbbrRegex=ln;R.erasNameRegex=nn;R.erasNarrowRegex=dn;R.months=Zs;R.monthsShort=js;R.monthsParse=Ys;R.monthsRegex=Gs;R.monthsShortRegex=Us;R.week=$s;R.firstDayOfYear=Qs;R.firstDayOfWeek=Js;R.weekdays=ni;R.weekdaysMin=di;R.weekdaysShort=li;R.weekdaysParse=ci;R.weekdaysRegex=pi;R.weekdaysShortRegex=vi;R.weekdaysMinRegex=fi;R.isPM=Di;R.meridiem=Ci;function ht(e,i,n,h){var u=ye(),v=ue().set(h,i);return u[n](v,e)}function Er(e,i,n){if(De(e)&&(i=e,e=void 0),e=e||"",i!=null)return ht(e,i,n,"month");var h,u=[];for(h=0;h<12;h++)u[h]=ht(e,h,n,"month");return u}function ia(e,i,n,h){typeof e=="boolean"?(De(i)&&(n=i,i=void 0),i=i||""):(i=e,n=i,e=!1,De(i)&&(n=i,i=void 0),i=i||"");var u=ye(),v=e?u._week.dow:0,T,C=[];if(n!=null)return ht(i,(n+v)%7,h,"day");for(T=0;T<7;T++)C[T]=ht(i,(T+v)%7,h,"day");return C}function Hn(e,i){return Er(e,i,"months")}function kn(e,i){return Er(e,i,"monthsShort")}function An(e,i,n){return ia(e,i,n,"weekdays")}function Bn(e,i,n){return ia(e,i,n,"weekdaysShort")}function zn(e,i,n){return ia(e,i,n,"weekdaysMin")}xe("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var i=e%10,n=A(e%100/10)===1?"th":i===1?"st":i===2?"nd":i===3?"rd":"th";return e+n}});D.lang=se("moment.lang is deprecated. Use moment.locale instead.",xe);D.langData=se("moment.langData is deprecated. Use moment.localeData instead.",ye);var me=Math.abs;function In(){var e=this._data;return this._milliseconds=me(this._milliseconds),this._days=me(this._days),this._months=me(this._months),e.milliseconds=me(e.milliseconds),e.seconds=me(e.seconds),e.minutes=me(e.minutes),e.hours=me(e.hours),e.months=me(e.months),e.years=me(e.years),this}function Cr(e,i,n,h){var u=de(i,n);return e._milliseconds+=h*u._milliseconds,e._days+=h*u._days,e._months+=h*u._months,e._bubble()}function Wn(e,i){return Cr(this,e,i,1)}function _n(e,i){return Cr(this,e,i,-1)}function Pa(e){return e<0?Math.floor(e):Math.ceil(e)}function Ln(){var e=this._milliseconds,i=this._days,n=this._months,h=this._data,u,v,T,C,P;return e>=0&&i>=0&&n>=0||e<=0&&i<=0&&n<=0||(e+=Pa(_t(n)+i)*864e5,i=0,n=0),h.milliseconds=e%1e3,u=re(e/1e3),h.seconds=u%60,v=re(u/60),h.minutes=v%60,T=re(v/60),h.hours=T%24,i+=re(T/24),P=re(Sr(i)),n+=P,i-=Pa(_t(P)),C=re(n/12),n%=12,h.days=i,h.months=n,h.years=C,this}function Sr(e){return e*4800/146097}function _t(e){return e*146097/4800}function Rn(e){if(!this.isValid())return NaN;var i,n,h=this._milliseconds;if(e=ie(e),e==="month"||e==="quarter"||e==="year")switch(i=this._days+h/864e5,n=this._months+Sr(i),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(i=this._days+Math.round(_t(this._months)),e){case"week":return i/7+h/6048e5;case"day":return i+h/864e5;case"hour":return i*24+h/36e5;case"minute":return i*1440+h/6e4;case"second":return i*86400+h/1e3;case"millisecond":return Math.floor(i*864e5)+h;default:throw new Error("Unknown unit "+e)}}function Zn(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+A(this._months/12)*31536e6:NaN}function Ee(e){return function(){return this.as(e)}}var jn=Ee("ms"),Nn=Ee("s"),Yn=Ee("m"),wn=Ee("h"),Un=Ee("d"),Gn=Ee("w"),Xn=Ee("M"),qn=Ee("Q"),$n=Ee("y");function Kn(){return de(this)}function Jn(e){return e=ie(e),this.isValid()?this[e+"s"]():NaN}function ke(e){return function(){return this.isValid()?this._data[e]:NaN}}var Qn=ke("milliseconds"),On=ke("seconds"),Vn=ke("minutes"),el=ke("hours"),tl=ke("days"),al=ke("months"),rl=ke("years");function sl(){return re(this.days()/7)}var pe=Math.round,ze={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function il(e,i,n,h,u){return u.relativeTime(i||1,!!n,e,h)}function ol(e,i,n,h){var u=de(e).abs(),v=pe(u.as("s")),T=pe(u.as("m")),C=pe(u.as("h")),P=pe(u.as("d")),b=pe(u.as("M")),k=pe(u.as("w")),I=pe(u.as("y")),W=v<=n.ss&&["s",v]||v<n.s&&["ss",v]||T<=1&&["m"]||T<n.m&&["mm",T]||C<=1&&["h"]||C<n.h&&["hh",C]||P<=1&&["d"]||P<n.d&&["dd",P];return n.w!=null&&(W=W||k<=1&&["w"]||k<n.w&&["ww",k]),W=W||b<=1&&["M"]||b<n.M&&["MM",b]||I<=1&&["y"]||["yy",I],W[2]=i,W[3]=+e>0,W[4]=h,il.apply(null,W)}function nl(e){return e===void 0?pe:typeof e=="function"?(pe=e,!0):!1}function ll(e,i){return ze[e]===void 0?!1:i===void 0?ze[e]:(ze[e]=i,e==="s"&&(ze.ss=i-1),!0)}function dl(e,i){if(!this.isValid())return this.localeData().invalidDate();var n=!1,h=ze,u,v;return typeof e=="object"&&(i=e,e=!1),typeof e=="boolean"&&(n=e),typeof i=="object"&&(h=Object.assign({},ze,i),i.s!=null&&i.ss==null&&(h.ss=i.s-1)),u=this.localeData(),v=ol(this,!n,h,u),n&&(v=u.pastFuture(+this,v)),u.postformat(v)}var bt=Math.abs;function Ae(e){return(e>0)-(e<0)||+e}function Ct(){if(!this.isValid())return this.localeData().invalidDate();var e=bt(this._milliseconds)/1e3,i=bt(this._days),n=bt(this._months),h,u,v,T,C=this.asSeconds(),P,b,k,I;return C?(h=re(e/60),u=re(h/60),e%=60,h%=60,v=re(n/12),n%=12,T=e?e.toFixed(3).replace(/\\.?0+$/,""):"",P=C<0?"-":"",b=Ae(this._months)!==Ae(C)?"-":"",k=Ae(this._days)!==Ae(C)?"-":"",I=Ae(this._milliseconds)!==Ae(C)?"-":"",P+"P"+(v?b+v+"Y":"")+(n?b+n+"M":"")+(i?k+i+"D":"")+(u||h||e?"T":"")+(u?I+u+"H":"")+(h?I+h+"M":"")+(e?I+T+"S":"")):"P0D"}var z=yt.prototype;z.isValid=Vi;z.abs=In;z.add=Wn;z.subtract=_n;z.as=Rn;z.asMilliseconds=jn;z.asSeconds=Nn;z.asMinutes=Yn;z.asHours=wn;z.asDays=Un;z.asWeeks=Gn;z.asMonths=Xn;z.asQuarters=qn;z.asYears=$n;z.valueOf=Zn;z._bubble=Ln;z.clone=Kn;z.get=Jn;z.milliseconds=Qn;z.seconds=On;z.minutes=Vn;z.hours=el;z.days=tl;z.weeks=sl;z.months=al;z.years=rl;z.humanize=dl;z.toISOString=Ct;z.toString=Ct;z.toJSON=Ct;z.locale=cr;z.localeData=gr;z.toIsoString=se("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ct);z.lang=ur;F("X",0,0,"unix");F("x",0,0,"valueOf");E("x",vt);E("X",Hs);Z("X",function(e,i,n){n._d=new Date(parseFloat(e)*1e3)});Z("x",function(e,i,n){n._d=new Date(A(e))});//! moment.js\nD.version="2.29.4";ls(N);D.fn=y;D.min=Ki;D.max=Ji;D.now=Qi;D.utc=ue;D.unix=Pn;D.months=Hn;D.isDate=qe;D.locale=xe;D.invalid=ct;D.duration=de;D.isMoment=le;D.weekdays=An;D.parseZone=bn;D.localeData=ye;D.isDuration=at;D.monthsShort=kn;D.weekdaysMin=zn;D.defineLocale=Qt;D.updateLocale=Mi;D.locales=Pi;D.weekdaysShort=Bn;D.normalizeUnits=ie;D.relativeTimeRounding=nl;D.relativeTimeThreshold=ll;D.calendarFormat=So;D.prototype=y;D.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var ba=["English","German","Russian","Hungarian","Swedish","Chinese","Italian","Japanese","Korean","Spanish","French","Arabic","Portuguese","Norwegian","Romanian"],et=["en","de","ru","hu","sv","zh-cn","it","ja","ko","es","fr","ar","pt-br","nb","ro"],Ht=[["4 months","4 Monate","4 месяца","4 hónap","4 månader","4个月","4 mesi","4ヶ月","4개월","4 meses","Quatre mois","4 أشهر","4 meses","4 måneder","4 luni"],["4 Years","4 Jahre","4 года","4 év","4 år","4年","4 anni","4年","4년","4 años","Quatre ans","4 سنوات","4 anos","4 År","4 Ani"],["About","Über","О приложении","Magunkról","Om","关于","Info su","製品について","정보","Acerca de","À propos","حول","Sobre","Om","Despre noi"],["All","Alles","Все","Mind","Alla","所有","Tutto","すべての","전부","Todos","Tout","جميع","Tudo","Alle","Toate"],["Auto","Automatische Zeitzone","Автоматически","Auto","Auto","自动","Fuso orario automatico","オート","자동","Automático","Auto","تلقائي","Automático","Auto","Auto"],["Back","Zurück","Назад","Vissza","Tillbaka","返回","Indietro","戻る","뒤로","Volver","Retour","العودة","Voltar","Tilbake","Înapoi"],["Calendar","Kalender","Календарь","Naptár","Kalender","日历","Calendario","カレンダー","캘린더","Calendario","Agenda","التقويم","Calendário","Kalender","Calendar"],["Calendars","Kalender","Календари","Naptárak","Kalendrar","日历","Calendari","カレンダー","캘린더","Calendarios","Agendas","التقويمات","Calendários","Kalendere","Calendare"],["Cancel","Abbrechen","Отмена","Mégsem","Avbryt","取消","Annulla","キャンセル","취소","Cancelar","Annuler","إلغاء","Cancelar","Avbryt","Anulare"],["Color picker?","Farbwähler?","Выбор цвета?","Színválasztó?","Färgväljare?","选色器？","Color Picker?","カラーピッカー？","색상 선택기?","¿Selector de color?","Pipette à couleurs?","إنتقاء اللون؟","seletor de cores?","Fargevelger?","Selector de culoare?"],["Connect Google calendar","Mit Google Calendar verbinden","Подключить Google Календарь","Google Naptár csatlakoztatása","Logga in med Google","连接Google日历","Connetti a Google Calendar","Googleカレンダーを接続","구글 캘린더 연결하기","Connectar Google Calendar","Connecter Google Agenda","الاتصال بتقويم جوجل","Conectar calendário com o Google","Kople til Google kalender","Conectează cu Google Calendar"],["Connection failed","Verbindung fehlgeschlagen","Соединение не удалось","Sikertelen kapcsolódás","Anslutningen misslyckades","连接失败","Connessione fallita","接続に失敗しました","연결 실패","La conexión ha fallado","La connexion a échoué","فشل الاتصال","Falha na conexão","Forbindelse feilet","Conexiune eșuată"],["Data amount (startup speed)","Datenmenge (Startgeschwindigkeit)","Объём данных (скорость запуска)","Adatmennyiség (betöltési idõ)","Datamängd (starthastighet)","数据量（启动速度）","Sincronizza dati (velocità startup)","データ量 (スタートアップ速度)","데어터 량 (시작 속도)","Cantidad de datos (velocidad de inicio)","Quantité de données (vitesse de démarrage)","كمية البيانات (سرعة بدء التشغيل)","Quantidade de dados (velocidade de inicialização)","Datamengde (oppstartshastighet)","Cantitatea de date (viteza de pornire)"],["Day","Tag","День","Nap","Dag","日","Giorno","日","일","Día","Jour","يوم","Dia","Dag","Zi"],["Delete the whole series","Komplette Eventserie löschen","Удалить всю серию событий","Az összes esemény törlése","Radera hela serien","删除整个系列","Eliminare l\'intera serie","シリーズすべてを削除する","전체 시리즈 삭제","Eliminar toda la serie","Supprimer toute la série","حذف السلسلة بأكملها","Excluir toda a série","Slett hele serien","Șterge întreaga serie"],["Delete this and future events","Diesen und zukünftige Events löschen","Удалить это и будущие события","Jelen és az összes jövõbeli esemény törlése","Radera detta och framtida händelser","删除这个事件和未来事件","Eliminare questo e gli eventi futuri","これと将来のイベントを削除する","이 이벤트 및 향후 이벤트 삭제","Eliminar este y eventos futuros","Supprimer cet événement et les événements futurs","حذف هذا الحدث والأحداث المستقبلية","Excluir este e futuros eventos","Slett denne og fremtidige hendelser","Șterge acest eveniment și pe cele viitoare"],["Delete?","Löschen?","Удалить?","Törlés?","Radera?","删除？","Eliminare?","削除しますか?","삭제하시겠습니까?","¿Eliminar","Effacer ?","هل تريد الحذف؟","Excluir?","Slette?","Șterge?"],["Details","Details","Детали","Részletek","Detaljer","详情","Dettagli","詳細","세부 정보","Detalles","Détails","التفاصيل","Detalhes","Detaljer","Detalii"],["Disconnect from Google","Verbindung zu Google aufheben","Отключиться от Google","Google kapcsolat megszûntetése","Logga ur Google","取消与Google的连接","Disconnetti da Google","Googleから切断","구글 연결 끊기","Desconectar de Google","Se déconnecter de Google","قطع الاتصال عن جوجل","Desconectar do Google","Kople fra Google","Deconectează de la Google"],["Drag me","Lass los ","Бремя ","Húzz oda","Dra","拖动 ","Lasciami","견인 ","","Arrastrar ","Traînée ","سحب ","Arrastar","Dra meg ","Trage-ma "],["Edit the whole series","Komplette Eventserie bearbeiten","Редактировать всю серию событий","Az összes esemény módosítása","Redigera hela serien","编辑整个系列","Madificare l\'intera serie","シリーズすべてを編集","전체 시리즈 편집","Editar toda la serie","Modifier toute la série","تعديل السلسلة بأكملها","Editar toda a série","Rediger hele serien","Editează întreaga serie"],["Edit this and future events","Diesen und zukünftige Events bearbeiten","Редактировать это и будущие события","Jelen és az összes jövõbeli esemény módosítása","Redigera detta och framtida händelser","编辑这个事件和未来事件","Modifica questo e gli eventi futuri","これと将来のイベントを編集する","이 이벤트 및 향후 이벤트 편집","Editar este y eventos futuros","Modifier cet événement et les événements futurs","تعديل هذا الحدث والأحداث المستقبلية","Editar este e futuros eventos","Rediger denne og fremtidige hendelser","Editează acest eveniment și pe cele viitoare"],["Edit","Bearbeiten","Редактировать","Módosítás","Redigera","编辑","Modifica","編集","편집","Editar","Modifier","تعديل","Editar","Rediger","Editează"],["End before a date","Beenden vor einem bestimmten Datum","Окончание до указанной даты","Meghatározott dátumig","Avsluta före ett visst datum","在某个日期前结束","Fine prima di una data","以前に終わり","해당 날짜 전에 종료","Terminar antes de una fecha","Se termine avant une date","الانتهاء قبل موعد","Finalizar antes de uma data","Slutt før en dato","Încheie înainte de o dată"],["End before","Beenden vor","Окончание до","Ismétlõdés vége","Avsluta före","在...之前结束","Finire prima","以前に終わり","전에 종료","Terminar antes de","Se termine avant","الانتهاء قبل","Finalizar antes de","Slutt før","Încheie înainte de"],["End","Ende","Окончание","Végzõdés","Slut","结束","Fine","終わり","종료","Terminar","Fin","انتهاء","Finalizar","Slutt","Încheie"],["Error","Fehler","Ошибка","Hiba","Fel","错误","Errore","エラー","에러","Error","Erreur","خطأ","Erro","Feil","Eroare"],["Every X day(s)","Jeden X Tag(e)","Каждые X дней","Minden X-edik napon","Varje X dag(ar)","每隔X天","Ogni X giorno(i)","X日ごと","X일마다","Cada X día(s)","Tous les X jour(s)","كل X يوم (أيام)","A cada X dia(s)","Hver X dag(er)","La fiecare X zile"],["Every X month(s)","Jeden X Monat(e)","Каждые X месяцев","Minden X-edik hónapban","Varje X månad(er)","每隔X月","Ogni X mese(i)","Xヶ月ごと","X개월마다","Cada X mes(es)","Tous les X mois","كل X شهر (شهور)","A cada X mês(es)","Hver X måned(er)","La fiecare X luni"],["Every X week(s)","Jede X Woche(n)","Каждые X недель","Minden X-edik héten","Varje X vecka/veckor","每隔X周","Ogni X settimana(e)","X週間ごと","X주마다","Cada X semana(s)","Toutes les X semaine(s)","كل X أسبوع (أسابيع)","A cada X semana(s)","Hver X uke(r)","La fiecare X săptămâni"],["Every X year(s)","Jede(s) X Jahr(e)","Каждые X лет","Minden X-edik évben","Varje X år","每隔X年","Ogni X anno(i)","X年ごと","X년마다","Cada X año(s)","Tous les X an(s)","كل X سنة (سنين)","A cada X ano(s)","Hver X År","La fiecare X ani"],["First day of week","Erster Tag in der Woche","Первый день недели","A hét elsõ napja","Första dagen i veckan","每周第一天","Primo giorno della settimana","週の最初の日","일주일의 첫 날","Primer día de la semana","Premier jour de la semaine","اليوم الأول من الأسبوع","Primeiro dia da semana","Første ukedag","În prima zi a săptămânii"],["Forever","Für immer","Бесконечно","Örökké","För alltid","永远","Per sempre","永遠","영원히","Para siempre","Pour toujours","مدى الحياة","Para sempre","For alltid","Pentru totdeauna"],["Frequency","Wiederholung","Частота повторений","Ismétlõdés","Frekvens","频率","Frequenza","頻度","횟수","Frecuencia","Fréquence","تردد","Frequência","Frekvens","Frecvență"],["Gray days","Graue Tage","Дни серого цвета","Szürke napok","Gråa dagar","阴天","Giorni grigi","グレーの日","회색 일자","Días grises","Jours gris","الأيام الرمادية","Dias cinzas","Lørdager","Zile marcate cu gri"],["Hold CTRL/CMD while clicking on the reminders you want.","Halte CTRL/CMD während du auf einen Event clickst.","Удерживая CTRL/CMD, щёлкните по требуемым напоминаниям","Nyomd le a CTRL/CMD gombot az emlékeztetõk kiválasztásához.","Håll ner CTRL/CMD och klicka på önskade påminnelser.","按住CTRL/CMD键，同时点击你要选择的提醒。","Tieni premuto CTRL/CMD mentre clicchi sui promemoria che desideri","ご希望のリマインダーをクリックしながら、CTRL/CMDを長押ししてください。","원하는 알림을 클릭하면서 CTRL/CMD를 누르세요.","Mantén presionado CTRL/CMD al hacer clic en los recordatorios que deseas.","Maintenez CTRL / CMD en cliquant sur les rappels que vous voulez.","اضغط باستمرار على CTRL / CMD أثناء النقر على التذكيرات التي تريدها.","Aperte CTRL/CMD enquanto clica nos lembretes que deseja.","Hold CTRL/CMD nede mens du klikker på påminnelsen du ønsker.","Ține apăsat CTRL/CMD în timp ce apeși pe mementourile dorite"],["Invited","Eingeladen","Участники","Meghívottak","Inbjuden","已邀请","Invitato","招待された","초대됨","Invitado","Invité","تم دعوته","Convidado","Invitert","Invitat"],["Language","Sprache","Язык","Nyelv","Språk:","语言","Lingua","言語","언어","Idioma","Langue","اللغة","Idioma","Språk","Limbă"],["Mixed English","Mixed Englisch","Английский","Angol (vegyes)","Blandad engelska:","混合式英语","Inglese mischiato","ミックスされた英語","혼합 영어","Mixto Inglés","Anglais mixte","الإنجليزية المختلطة","Inglês misto","Blandet Engelsk","Engleză mixtă"],["Month","Monat","Месяц","Hónap","Månad","月","Mese","月","개월","Mes","Mois","شهر","Mês","Måned","Lună"],["More themes?","Mehr Themen?","Другие темы?","További témák?","Fler teman?","更多主题？","Altri temi?","その他のテーマ？","더 많은 테마?","Más temas?","Plus de thèmes?","مزيد من الموضوعات؟","Mais temas?","Flere temaer?","Mai multe teme?"],["Move","Verschieben","Переместить","Mozgatás","Flytta","移动","Sposta","移動させる","이동","Mover","Déplacer","انتقال","Mover","Flytt","Mută"],["NO (Press to add)","Keine (tippen um hinzuzufügen) ","Никто ","Egyik sem ","Nej (Tryck för att lägga till)","没有","Nessuna (premi per aggiungere)","なし ","없음 ","Ninguna ","Aucun ","لا شيء ","Nenhum ","None","Nici unul "],["Not repeated","Ohne Wiederholung","Не повторяется","Nem ismétlõdõ","Upprepas ej","不重复","Senza ripetizione","繰り返されない","반복 없음","No repetido","Non répété","لا تتكرر","Não repetido","Ikke gjentatt","Nu e repetat"],["Ok","OK","OK","Ok","Ok","好","OK","分かりました","Ok","Aceptar","D\'accord","موافق","Ok","Ok","Ok"],["On %1, week %2 of each month","Am %1, die %2 Woche im Monat","Каждый %1 %2-й недели месяца","%1, minden hónap %2. hetében","På %1, vecka %2 i varje månad","在每月的第%2周第%1天","Ogni %1 della %2 settimana del mese","毎月%2週の%1に","매달 %2주 %1에","En día %1, semana %2 de cada mes","Le %1, semaine %2 de chaque mois","على%1 ،%2 أسبوع من كل شهر","Em %1, semana %2 de cada mês","På %1, uke %2 i hver måned","La 1%, săptămânal 2% în fiecare lună"],["On day %1 of each month","Am %1 Tag im Monat","%1 число каждого месяца","Minden hónap %1. napján","På dag %1 i varje månad","在每月的第%1天","Ogni %1 giorno della settimana","毎月%1日に","매달 %1일에","En el día %1 de cada mes","Le %1 de chaque mois","في يوم %1 من كل شهر","No dia %1 de cada mês","På dag %1 i hver måned","Pe zi 1% din fiecare lună"],["Only delete this event","Lösche nur diesen Event","Удалить только это событие","Csak a jelen esemény törlése","Radera endast denna händelse","只删除这个事件","Elimina solo questo evento","このイベントだけを削除する","이 이벤트만 삭제","Solo eliminar este evento","Supprimer cet événement uniquement","حذف هذا الحدث فقط","Excluir apenas este evento","Slett bare denne hendelsen","Doar șterge acest eveniment"],["Only edit this event","Bearbeite nur diesen Event","Редактировать только это событие","Csak a jelen esemény szerkesztése","Redigera endast denna händelse","只编辑这个事件","Modifica solo questo evento","このイベントだけを編集する","이 이벤트만 편집","Solo editar este evento","Modifier cet événement uniquement","تعديل هذا الحدث فقط","Editar apenas este evento","Rediger bare denne hendelsen","Doar editează acest eveniment"],["Recurrence","Wiederholung","Повторяющееся событие","Ismétlõdés","Upprepning","循环","Ricorrenza","繰り返し","반복","Recurrencia","Récurrence","تكرار","Recorrência","Gjentakelse","Repetare"],["Refresh","Auffrischen","Обновить","Frissítés","Uppdatera","刷新","Aggiorna","更新","새로 고침","Recargar","Rafraîchir","إعادة تحميل","Atualizar","Oppfrisk","Actualizăează"],["Reminders","Errinerung","Напоминания","Emlékeztetõk","Påminnelser","提醒","Promemoria","リマインダー","알림","Recordatorios","Rappels","التذكيرات","Lembretes","Påminnelser","Mementouri"],["Repeat X times","Wiederhole X mal","Повторить X раз","Ismétlõdés X alkalommal","Upprepa X gånger","重复X次","Ripeti X volte","X回くりかえす","X번 반복","Repetir X veces","Répéter X fois","تكرار عدد X من المرات","Repetir X vezes","Gjenta X ganger","Repetă de X ori"],["Settings","Einstellungen","Настройки","Beállítások","Inställningar","设置","Impostazioni","設定","설정","Ajustes","Paramètres","إعدادات","Configurações","Innstillinger","Setări"],["Shop","Geschäft","Магазин","Üzlet","Affär","店","Negozio","ショップ","가게","Tienda","Boutique","متجر","Loja","Butikk","Magazin"],["Show demo calendar","Zeige Demo Kalender","Показать демонстрационный календарь","Demo naptár mutatása","Visa demo-kalender","显示日历示例","Mostra calendario demo","デモカレンダーを表示する","데모 캘린더 보기","Mostrar calendario de demostración","Afficher l’agenda de démonstration","عرض التقويم التجريبي","Mostrar calendário demo","Vis demo kalender","Arată calendarul demo"],["Show week numbers","Zeige Wochennummern","Показывать номера недель","Hetek sorszámának megjelenítése","Visa veckonummer","显示周数","Mostra numeri di settimana","週の番号を表示する","주 번호 보기","Mostrar números de semana","Afficher les numéros de semaine","عرض أعداد الأسابيع","Mostrar números da semana","Vis ukenummer","Arată numărul săptămânilor"],["Sorry, this event can\'t be edited","Event kann nicht bearbeitet werden","К сожалению, это событие не редактируемо","Sajnálom, ez az esemény nem szerkeszthetõ","Tyvärr, denna händelse kan ej redigeras","对不起，无法编辑这个事件","Non puoi modificare questo evento","申し訳ございません。このイベントは編集できません","죄송합니다. 이 이벤트는 편집할 수 없습니다","Lo sentimos, este evento no se puede editar","Désolé, cet événement ne peut pas être modifié","عذراً، لا يمكن تعديل هذا الحدث","Desculpe, este evento não pode ser editado","Beklager, denne hendelsen kan ikke redigeres","Scuze, acest eveniment nu poate fi editat"],["Start","Anfang","Начало","Kezdés","Start","开始","Inizio","開始","시작하기","Inicio","Démarrer","بداية","Começar","Start","Start"],["Theme","Thema","тема","Téma","Tema","主题","Tema","テーマ","테마","Tema","Thème","موضوع","Tema","Tema","Temă"],["Time zone","Zeitzone","Часовой пояс","Idõzóna","Tidszon","时区","Fuso orario","タイムゾーン","시간대","Zona horaria","Fuseau horaire","منطقة زمنية","Fuso horário","Tidssone","Fus Orar"],["Title","Titel","Название","Cím","Titel","标题","Titolo","タイトル","제목","Título","Titre","عنوان","Título","Tittel","Titlu"],["Type","Typ","Тип","Típus","Typ","类型","Tipo","タイプ","유형","Tipo","Type","نوع","Tipo","Type","Tip"],["Use 24-hour format","24 Stunden Format","Использовать 24-часовой формат","24 órás formátum használata","Använd 24-timmarssystem","使用24小时格式","Usa formato 24h","24時間フォーマットを使用する","24시간 형식","Usar formato de 24 horas","Utiliser le format 24 heures","استخدام تنسيق 24 ساعة","Usar formato de 24 horas","Bruk 24-timers format","Folosește format de 24 de ore"],["Week days","WOchentage","Дни недели","Ismétlõdés ezen a napon","Veckodagar","周间","Giorni in settimana","曜日","1주일","Entre semana","Jours de la semaine","أيام الأسبوع","Dias da semana","Ukedager","Zilele săptămânii"],["Week","Woche","Неделя","Hét","Vecka","周","Settimana","週","주","Semana","Semaine","أسبوع","Semana","Uke","Săptămână"],["When","Wann","Время","Mikor","När","何时","Quando","いつ","일시","Cuándo","Quand","متى","Quando","Når","Când"],["Where","Wo","Место","Hol","Var","何地","Dove","どこで","장소","Dónde","Où","أين","Onde","Hvor","Unde"],["Year","Jahr","Год","Év","År","年","Anno","年","년","Año","Année","سنة","Ano","År","An"],["Not possible","Nicht möglich","Невозможно","Nem lehetséges","Inte möjligt","不可能","Non possibile","ありえない","수 없음","Imposible","Pas possible","غير ممكن","Não é possivel","Umulig ","nu este posibil "]],q;(e=>{class i{constructor(t=[]){this.calendarEvents=t}dateTimeReviver(t,r){return typeof r=="string"&&t.length>4&&(t.substr(t.length-4)==="Date"||t.substr(t.length-4)==="Time")?new Date(r):r}localStorageSetItem(t,r){try{localStorage.setItem(t,r)}catch{}}}e.LocalStorage=i;class n extends i{constructor(){super(),this.cachedTimeZoneDiffInMinutes=void 0,this.cachedGrayDays=void 0,this.cachedSavedCalendarColors=void 0,this.cachedFirstDayOfWeek=void 0,this.defaultUseWeek=!1,this.defaultUse24hFormat=!1,this.theme="0"}get calendarIdLastAddedTo(){try{var t=localStorage.getItem("oneview_settings_lastCalendarId");if(t!=null)return JSON.parse(t)}catch{}}set calendarIdLastAddedTo(t){this.localStorageSetItem("oneview_settings_lastCalendarId",JSON.stringify(t))}get hasShownRemindersInfo(){return this.getBoolean("oneview_settings_hasShownRemindersInfo",!1)}set hasShownRemindersInfo(t){this.localStorageSetItem("oneview_settings_hasShownRemindersInfo",JSON.stringify(t))}getDefaultUse24hFormat(){return this.defaultUse24hFormat!==void 0&&this.defaultUse24hFormat!==null?this.defaultUse24hFormat:this.defaultUse24hFormat=!(0<D().format("LT").indexOf(D().format("A"))&&0<D().format("A").length)}getDefaultUseWeek(){if(this.defaultUseWeek!==void 0&&this.defaultUseWeek!==null)return this.defaultUseWeek;var t="AT AX BE CH CZ DE DK EE ES EU FI FO FR GB GL GR IE IM IS IT LI LU LV NL NO PL PT SE SJ".split(" ");this.defaultUseWeek=!1;for(var r=0;r<t.length;r++)-1<navigator.language.toUpperCase().indexOf(t[r])&&(this.defaultUseWeek=!0);return this.defaultUseWeek}get showWeekNumbers(){return this.getBoolean("oneview_settings_showWeekNumbers",this.getDefaultUseWeek())}set showWeekNumbers(t){this.localStorageSetItem("oneview_settings_showWeekNumbers",JSON.stringify(t))}get use24hFormat(){return this.getBoolean("oneview_settings_use24hFormat",this.getDefaultUse24hFormat())}set use24hFormat(t){this.localStorageSetItem("oneview_settings_use24hFormat",JSON.stringify(t))}get timeZoneForSettingsPage(){return this.getString("oneview_settings_timeZone","-")}set timeZoneForSettingsPage(t){this.cachedTimeZoneDiffInMinutes=void 0,this.localStorageSetItem("oneview_settings_timeZone",JSON.stringify(t))}get dataAmountToLoad(){return this.getNumber("oneview_settings_dataAmountToLoad",48,!1)}set dataAmountToLoad(t){this.localStorageSetItem("oneview_settings_dataAmountToLoad",JSON.stringify(t))}get language(){var t;return t=D.locale(),e.Translate.languageExists(t)||(t="-"),this.getString("oneview_settings_language",t)}set language(t){this.localStorageSetItem("oneview_settings_language",JSON.stringify(t)),this.updateAppWithLang()}updateAppWithLang(){var t=this.language;(t===""||t=="-")&&(t=navigator.language),D.locale(t),e.core.translate=new e.Translate(t),e.core.helper.monthesShort=new e.Hashtable,e.core.helper.monthesLong=new e.Hashtable,e.core.helper.weekdayShort=new e.Hashtable,e.core.helper.weekdayLong=new e.Hashtable}get licenseDarkTheme(){return this.getBoolean("oneview_settings_licenceDarkTheme",!1)}set licenseDarkTheme(t){this.localStorageSetItem("oneview_settings_licenceDarkTheme",JSON.stringify(t))}get licenseCandyTheme(){return this.getBoolean("oneview_settings_licenceCandyTheme",!1)}set licenseCandyTheme(t){this.localStorageSetItem("oneview_settings_licenceCandyTheme",JSON.stringify(t))}get licenseColorPicker(){return this.getBoolean("oneview_settings_licenceColorPicker",!1)}set licenseColorPicker(t){this.localStorageSetItem("oneview_settings_licenceColorPicker",JSON.stringify(t))}get firstDayOfWeek(){if(this.cachedFirstDayOfWeek==null){var t=D().startOf("week").isoWeekday();this.cachedFirstDayOfWeek=this.correctWeekDayNumber(Number(this.getString("oneview_settings_firstDayOfWeek",""+t)))}return this.cachedFirstDayOfWeek}set firstDayOfWeek(t){this.cachedFirstDayOfWeek=void 0,this.localStorageSetItem("oneview_settings_firstDayOfWeek",JSON.stringify(this.correctWeekDayNumber(t)))}get savedCalendarColors(){if(this.cachedSavedCalendarColors==null){var t=JSON.stringify(new e.Dictionary);this.cachedSavedCalendarColors=new e.Dictionary,t=JSON.parse(this.getObjectData("oneview_saved_calendar_colors",""+t)),this.cachedSavedCalendarColors.setup(t._keys,t._values)}return this.cachedSavedCalendarColors}set savedCalendarColors(t){this.cachedSavedCalendarColors=void 0,e.syncArrays(),this.localStorageSetItem("oneview_saved_calendar_colors",JSON.stringify(t))}get grayDays(){return this.cachedGrayDays==null&&(this.cachedGrayDays=(this.getString("oneview_settings_grayDays","67")+"").replace("0","7")),this.cachedGrayDays}set grayDays(t){this.cachedGrayDays=void 0,this.localStorageSetItem("oneview_settings_grayDays",JSON.stringify(t.replace("0","7")))}getCachedTimeZoneDiffInMinutes(){if(this.cachedTimeZoneDiffInMinutes==null){var t=this.timeZoneForSettingsPage;return t==null||t=="-"?0:60*Number(t)+new Date().getTimezoneOffset()}return this.cachedTimeZoneDiffInMinutes}getBoolean(t,r){try{var s=localStorage.getItem(t);return s!=null?JSON.parse(s):r}catch{return r}}getObjectData(t,r){try{var s=localStorage.getItem(t);return s??r}catch{return r}}getString(t,r){try{var s=localStorage.getItem(t);return s!=null?JSON.parse(s):r}catch{return r}}getNumber(t,r,s){try{return t=localStorage.getItem(t),t!=null&&(t=JSON.parse(t)),t!=null&&(s||t!=0)?t:r}catch{return r}}correctWeekDayNumber(t){for(;1>t;)t+=7;for(;7<t;)t-=7;return t}}e.CommonUserSettings=n;class h{constructor(){this.previousFont="",this.canvasCache=new e.SpeedCache}debugText(t){e.core.zopDrawArea.canvasContext.fillStyle="#FF0000",this.setFont(20),e.core.zopDrawArea.canvasContext.fillText(t,5,30)}drawIcon(t,r,s,o,l){}loadIcon(t,r,s,o,l,c){this.drawPicture(r,s,o,l,c),this.loadingIconNames.splice(this.loadingIconNames.indexOf(t),1),this.loadedIconNames||(this.loadedIconNames=[]),this.loadedIcons||(this.loadedIcons=[]),this.loadedIconNames.push(t),this.loadedIcons.push(r)}drawLoader(t){var r=Math.min(e.core.zopDrawArea.zopAreaWidth,e.core.zopDrawArea.zopAreaHeight)/32,s=e.core.zopDrawArea.zopAreaWidth/2,o=e.core.zopDrawArea.zopAreaHeight/2;e.core.zopDrawArea.canvasContext.strokeStyle=e.core.settings.theme.colorDark,e.core.zopDrawArea.canvasContext.lineWidth=Math.max(r/2,r/6+12),e.core.zopDrawArea.canvasContext.lineCap="butt",e.core.zopDrawArea.canvasContext.beginPath(),e.core.zopDrawArea.canvasContext.arc(s,o,r,t,t+2.5),e.core.zopDrawArea.canvasContext.stroke()}drawPicture(t,r,s,o,l){r=Math.floor(r),s=Math.floor(s),o=Math.floor(o),l=Math.floor(l),e.core.zopDrawArea.canvasContext.drawImage(t,r,s,o,l)}drawPictureWithOffset(t,r,s,o,l,c,p){r=Math.floor(r),s=Math.floor(s),o=Math.floor(o),l=Math.floor(l),e.core.zopDrawArea.canvasContext.drawImage(t,c,p,o,l,r,s,o,l)}drawFilledRectangle({x:t,y:r,width:s,height:o,fillStyle:l,hasShadow:c,rounded:p,strokeStyle:f}){e.core.zopDrawArea.setShadow(c);const g=e.core.zopDrawArea.canvasContext;g.fillStyle=l,p?(g.beginPath(),g.roundRect(Math.floor(t),Math.floor(r),Math.floor(s),Math.floor(o),15),g.fill()):(g.fillRect(Math.floor(t),Math.floor(r),Math.floor(s),Math.floor(o)),f&&(g.strokeStyle=f,g.strokeRect(Math.floor(t),Math.floor(r),Math.floor(s),Math.floor(o)))),e.core.zopDrawArea.removeShadow(c)}setFont(t,r,s,o){r===void 0&&(r=!1),s===void 0&&(s=!1),o===void 0&&(o=!1),r?(r=t+"px "+e.core.settings.theme.titleBarFont,o&&(r=t+"px "+e.core.settings.theme.titleBarFontBold),s&&(r=t+"px "+e.core.settings.theme.textFont)):r=o?t+"px "+e.core.settings.theme.textFontBold:s?t+"px "+e.core.settings.theme.textFontThin:t+"px "+e.core.settings.theme.textFont,e.core.zopDrawArea.canvasContext.font!==r&&(e.core.zopDrawArea.canvasContext.font=r)}drawTriangle(t,r,s,o,l,c,p,f){e.core.zopDrawArea.setShadow(f),o=r+o,c=r+c,e.core.zopDrawArea.canvasContext.fillStyle=p,e.core.zopDrawArea.canvasContext.beginPath(),e.core.zopDrawArea.canvasContext.moveTo(t,r),e.core.zopDrawArea.canvasContext.lineTo(t+s,o),e.core.zopDrawArea.canvasContext.lineTo(t+l,c),e.core.zopDrawArea.canvasContext.closePath(),e.core.zopDrawArea.canvasContext.fill(),e.core.zopDrawArea.removeShadow(f)}drawLine2(t,r,s,o,l,c,p){this.drawLine(t,r,s-t,o-r,l,c,p)}startLines(t,r,s,o){e.core.zopDrawArea.canvasContext.beginPath(),e.core.zopDrawArea.canvasContext.lineWidth=s,e.core.zopDrawArea.canvasContext.moveTo(t,r),e.core.zopDrawArea.canvasContext.strokeStyle=o,e.core.zopDrawArea.canvasContext.lineCap="round",e.core.zopDrawArea.canvasContext.lineJoin="round"}continueLines(t,r){e.core.zopDrawArea.canvasContext.lineTo(t,r)}endLines(){e.core.zopDrawArea.canvasContext.stroke()}drawLine(t,r,s,o,l,c,p){e.core.zopDrawArea.setShadow(p),o=r+o,e.core.zopDrawArea.canvasContext.beginPath(),e.core.zopDrawArea.canvasContext.lineCap="square",e.core.zopDrawArea.canvasContext.lineWidth=l,e.core.zopDrawArea.canvasContext.moveTo(t,r),e.core.zopDrawArea.canvasContext.lineTo(t+s,o),e.core.zopDrawArea.canvasContext.strokeStyle=c,e.core.zopDrawArea.canvasContext.stroke(),e.core.zopDrawArea.removeShadow(p)}drawHorizontalLineNotZOP(t,r,s,o,l,c){e.core.zopDrawArea.setShadow(c),r=Math.floor(r),e.core.zopDrawArea.canvasContext.beginPath(),e.core.zopDrawArea.canvasContext.lineWidth=l,e.core.zopDrawArea.canvasContext.lineCap="square",e.core.zopDrawArea.canvasContext.moveTo(t,r),e.core.zopDrawArea.canvasContext.lineTo(t+s,r),e.core.zopDrawArea.canvasContext.strokeStyle=o,e.core.zopDrawArea.canvasContext.stroke(),e.core.zopDrawArea.removeShadow(c)}drawVerticalLineNotZOP(t,r,s,o,l){t=Math.floor(t)+.5,e.core.zopDrawArea.canvasContext.beginPath(),e.core.zopDrawArea.canvasContext.lineWidth=l,e.core.zopDrawArea.canvasContext.lineCap="square",e.core.zopDrawArea.canvasContext.moveTo(t,r),e.core.zopDrawArea.canvasContext.lineTo(t,s),e.core.zopDrawArea.canvasContext.strokeStyle=o,e.core.zopDrawArea.canvasContext.stroke()}drawCenteredText(t,r,s,o,l,c,p,f,g){for(g===void 0&&(g=!1),p=Math.max(0,(o-e.core.zopDrawArea.measureTextWidth(t,l,f,!1))/2);e.core.zopDrawArea.measureTextWidth(t,l,f,!1)>o;)t=t.substring(0,t.length-1);e.core.drawArea.drawText(t,r+p,s,l,c,!1,f,g,!1)}startNewRound(){this.canvasCache.startNewRound()}drawText(t,r,s,o,l,c,p,f,g){f===void 0&&(f=!1),g===void 0&&(g=!1),this.setFont(o,p,f,g),e.core.zopDrawArea.canvasContext.fillStyle=l,e.core.zopDrawArea.canvasContext.fillText(t,Math.floor(r)+.45,Math.floor(s+o)+.45)}}e.DrawArea=h;class u{constructor(){this.preparingScrollCounter=0,this.previousScrollSpeed=0,this.scrollSpeed=0,this.speedSlowDown=.013,this.azTopZOPSpeed=0,this.azBottomZOPSpeed=0,this.azTopZOPSpeed_Linear=0,this.azBottomZOPSpeed_Linear=0,this.azLastZoomTime=0,this.azRunning=!1,this.azCallBack=()=>{}}startAutoZoom(t,r,s,o){this.azGoalTopZOP=t,this.azGoalBottomZOP=r,this.speedModifier=(this.megaSlowZoom=s)?4e6:6e3,this.azTopZOPSpeed=this.getAzTopZopSpeed(),this.azBottomZOPSpeed=this.getAzBottomZopSpeed(),this.azTopZOPSpeed_Linear=this.azGoalTopZOP>e.core.zopHandler.topZOP?this.azTopZOPSpeed/2e3:this.azTopZOPSpeed/20,this.azBottomZOPSpeed_Linear=this.azGoalBottomZOP<e.core.zopHandler.bottomZOP?this.azBottomZOPSpeed/3e3:this.azBottomZOPSpeed/20,this.azLastZoomTime=e.core.getTimeStamp(),this.azRunning=!0,this.azCallBack=o,e.core.redraw(!1)}runAutoZoom(){if(!this.azRunning)return!1;var t=e.core.getTimeStamp()-this.azLastZoomTime;if(t===0)return!1;var r=e.core.zopHandler.topZOP+this.azTopZOPSpeed*t;return(0<=this.azTopZOPSpeed&&r>this.azGoalTopZOP||0>this.azTopZOPSpeed&&r<this.azGoalTopZOP)&&(r=this.azGoalTopZOP,this.azTopZOPSpeed=0),t=e.core.zopHandler.bottomZOP+this.azBottomZOPSpeed*t,(0<=this.azBottomZOPSpeed&&t>this.azGoalBottomZOP||0>this.azBottomZOPSpeed&&t<this.azGoalBottomZOP)&&(t=this.azGoalBottomZOP,this.azBottomZOPSpeed=0),e.core.zopHandler.setZoom(r,t,e.core.zopHandler.topPixel,e.core.zopHandler.bottomPixel),this.azTopZOPSpeed==0&&this.azBottomZOPSpeed==0?(this.stopAutoZoom(),!1):(this.megaSlowZoom?(this.azTopZOPSpeed=this.getAzTopZopSpeed()/2,this.azBottomZOPSpeed=this.getAzBottomZopSpeed()/2):(this.azTopZOPSpeed=(this.getAzTopZopSpeed()+this.azTopZOPSpeed_Linear)/2,this.azBottomZOPSpeed=(this.getAzBottomZopSpeed()+this.azBottomZOPSpeed_Linear)/2),!0)}getAzTopZopSpeed(){return(this.azGoalTopZOP-e.core.zopHandler.topZOP)/this.speedModifier}getAzBottomZopSpeed(){return(this.azGoalBottomZOP-e.core.zopHandler.bottomZOP)/this.speedModifier}runEffects(){return this.runAutoScroll()||this.runAutoZoom()}prepareAutoScroll(t,r){r===void 0&&(r=0);var s=e.core.getTimeStamp(),o=s-this.lastScrollTime;o<=r||(this.previousScrollSpeed=this.scrollSpeed,1<this.preparingScrollCounter?(this.scrollSpeed=(t-this.lastScrollYPixel)/o,this.scrollSpeed>e.core.zopHandler.maxScrollSpeed&&(this.scrollSpeed=e.core.zopHandler.maxScrollSpeed),this.scrollSpeed<-e.core.zopHandler.maxScrollSpeed&&(this.scrollSpeed=-e.core.zopHandler.maxScrollSpeed)):this.scrollSpeed=0,this.preparingScrollCounter++,this.lastScrollTime=s,this.lastScrollYPixel=t)}startAutoScroll(t){e.core.zopHandler.startScroll(t),this.previousScrollSpeed!=0&&this.scrollSpeed!=0&&(this.scrollSpeed=(this.scrollSpeed+this.previousScrollSpeed)/2*1.2),this.preparingScrollCounter=this.previousScrollSpeed=0}runAutoScroll(){if(this.scrollSpeed!=0&&this.preparingScrollCounter===0){var t=e.core.getTimeStamp(),r=t-this.lastScrollTime;if(r===0)return!1;var s=this.lastScrollYPixel+this.scrollSpeed*r;return this.lastScrollYPixel=s,this.lastScrollTime=t,e.core.zopHandler.continueScroll(s),e.core.zopHandler.endScroll(),e.core.zopHandler.startScroll(s),this.speedSlowDown=r*e.core.zopHandler.maxScrollSpeed/2200,this.scrollSpeed=this.scrollSpeed>2*this.speedSlowDown?this.scrollSpeed-this.speedSlowDown:this.scrollSpeed<2*-this.speedSlowDown?this.scrollSpeed+this.speedSlowDown:0,this.scrollSpeed===0&&e.core.zopHandler.endScroll(),!0}return!1}isScrollingOrZooming(){return 1<this.scrollSpeed||this.azRunning===!0}stopAllEffects(){this.previousScrollSpeed=this.scrollSpeed=0,e.core.zopHandler.endScroll(),this.stopAutoZoom(),e.core.redraw(!1)}stopAutoZoom(){this.azRunning=!1,this.azBottomZOPSpeed=this.azTopZOPSpeed=0,this.azCallBack&&(this.azCallBack(),this.azCallBack=void 0),e.core.redraw(!1)}}e.DrawAreaEffects=u;class v{constructor(){this.pageHtml=\'<div id="noColorPickerWindow" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div class="base menuItem" style="text-align:center">{#Color picker?#}</div>    <div>        <button id="gotoShopCancel" class="topBarButton" style="width:50%"><img src="images/cross.svg" class="topBarImage"/><span>{#Cancel#}</span></button>        <button id="gotoShopOk" class="topBarButton" style="width:50%"><img src="images/shop.svg" class="topBarImage"/><span>{#Shop#}</span></button>    </div></div></div></div><div id="calendarsTopBar" class="topBar">    <button id="calendarsBack" class="topBarButton" style="width:50%"><img src="images/arrow-left.svg" class="topBarImage"/></span><span>{#Back#}</span></button>    <button id="emptyButton" class="topBarButton" style="width:50%"></button>    <div id="calendarsTitle" class="topBarTitle" style="width:100%">{#Calendars#}</div></div><div id="calendarsArea" class="pageContent">    <ul class="calendarsPopupList" id="calendarsPopupList"></ul></div>\',this.visibilitySettings=[]}show(){e.core.domHandler.hideCanvas(),this.timestamp=e.core.getTimeStamp(),e.core.calendarDataProxy.analyticsPage("Calendars page"),this.calendarsPage=e.core.domHandler.pageHtmlFormatHelper("calendarsPage",this.pageHtml),this.calendarsPage.style.display="block",e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements=e.core.domHandler.resizeDomElements.bind(e.core.domHandler),window.setTimeout(e.core.domHandler.resizeDomElements,0),window.setTimeout(e.core.domHandler.resizeDomElements,100);var t=(e.core.settings.titleWidth/e.core.ratio-24)/2;for(document.getElementById("calendarsBack").style.padding=t+"px",document.getElementById("emptyButton").style.padding=e.core.settings.titleWidth/e.core.ratio/2+1+"px",document.getElementById("calendarsArea").style.top="54px",e.core.showBackButtons()?(e.core.domHandler.addClickEvent("calendarsBack",this.calendarsBack,this),document.getElementById("calendarsTitle").style.display="none"):(document.getElementById("calendarsBack").style.display="none",document.getElementById("emptyButton").style.display="none"),this.visibilitySettings=[],t=0;t<e.core.calendars.length;t++)this.visibilitySettings.push(new d(e.core.calendars[t].id,e.core.calendars[t].visibility));for(var r=document.getElementById("calendarsPopupList");r.firstChild;)r.removeChild(r.firstChild);for(this.liElements=[],this.checkBoxElements=[],this.spanElements=[],this.colorBoxElements=[],t=0;t<e.core.calendars.length;t++){var s=document.createElement("li"),o=document.createTextNode(e.core.calendars[t].name),l=document.createElement("span");this.liElements.push(s);var c=document.createElement("img");c.id="checkbox"+t,c.style.height="24px",c.style.paddingTop="6px",c.style.paddingRight="12px",c.style.paddingBottom="6px",c.style.verticalAlign="top",s.appendChild(c),this.checkBoxElements.push(c);var p=document.createElement("span");if(p.id="span"+t,p.className="textInList",p.style.maxWidth=e.core.domHandler.screenWidthForDOM-130+"px",p.appendChild(o),s.appendChild(p),this.spanElements.push(p),this.colorBoxElements.push(l),l.className="colorBox",l.id="colorBox"+t,l.style.cssFloat="right",s.appendChild(l),this.styleBasedOnVisibility(s,c,l,e.core.calendars[t],null),e.core.commonUserSettings.licenceColorPicker){o=document.createElement("div"),o.id="colorPicker"+t,s.appendChild(o),c=new Piklor,c.init(o,e.core.settings.theme.eventColors,{open:l,closeOnBlur:!1},""+t);var f=this;c.colorChosen(function(g,m){var S=+m,M=e.core.settings.theme.eventColors.indexOf(g);document.getElementById("colorBox"+S);var _=e.core.commonUserSettings.savedCalendarColors;e.core.commonUserSettings.savedCalendarColors.containsKey(e.core.calendars[S].id)?_[e.core.calendars[S].id]=M:_.add(e.core.calendars[S].id,M),e.core.commonUserSettings.savedCalendarColors=_,e.core.calendars[S].colorId=M,e.core.calendars[S].visibility=e.VisibilityType.Visible,e.core.calendarDataProxy.saveSettings(),f.styleBasedOnVisibility(f.liElements[S],f.checkBoxElements[S],f.colorBoxElements[S],e.core.calendars[S],null)})}else this.showNoColorPickerWindow=this.showNoColorPickerWindow.bind(this),l.addEventListener("click",this.showNoColorPickerWindow,!1);s.id="calendarsPopupList"+t,r.appendChild(s),e.core.domHandler.addClickEvent(s.id,this.calendarClicked,this)}}showNoColorPickerWindow(){document.getElementById("noColorPickerWindow").style.display="table",e.core.domHandler.addClickEvent("gotoShopOk",this.gotoShop,this),e.core.domHandler.addClickEvent("gotoShopCancel",this.hideNoColorPickerWindow,this)}hideNoColorPickerWindow(){document.getElementById("noColorPickerWindow").style.display="none"}gotoShop(){e.core.appStateHandler.viewShop()}hide(){e.core.appStateHandler.calendarsControlIsShowing=!1;for(var t=0;t<e.core.calendars.length;t++)this.visibilitySettings[t].newVisibility=e.core.calendars[t].visibility;e.core.calendarDataProxy.persistCalendarsVisibilitySettings(this.visibilitySettings),e.core.domHandler.showCanvas(),e.core.domHandler.removeElement(this.calendarsPage.id)}reshow(){this.show()}styleBasedOnVisibility(t,r,s,o,l){t.style.backgroundColor=e.core.settings.theme.colorBackground,l=e.core.helper.getEventColor(l,o),s.style.backgroundColor=l,s.style.borderColor=l,o.visibility==e.VisibilityType.Visible?(r.src="images/checkbox-checked.svg",t.style.color=e.core.settings.theme.colorHorizontalTitle):(r.src="images/checkbox-unchecked.svg",t.style.color=e.core.helper.colorToRGBA(e.core.settings.theme.colorHorizontalTitle,.5))}getEventTarget(t){return t=t||window.event,t.target||t.srcElement}calendarClicked(t){t.preventDefault();var r=e.core.getTimeStamp();this.lastClickTime&&this.lastClickTime+250>r||(this.lastClickTime=r,t=this.getEventTarget(t),r=this.liElements.indexOf(t),0>r&&(r=this.checkBoxElements.indexOf(t)),0<=r&&(e.core.calendars[r].visibility=e.core.calendars[r].visibility==e.VisibilityType.Visible?e.VisibilityType.Hidden:e.VisibilityType.Visible,this.styleBasedOnVisibility(this.liElements[r],this.checkBoxElements[r],this.colorBoxElements[r],e.core.calendars[r],null)))}calendarsBack(t){300>e.core.getTimeStamp()-this.timestamp||e.core.appStateHandler.back()}}e.CalendarsControl=v;class T{constructor(t,r){this.id=t,this.oldVisibility=r}}e.CalendarVisibilitySetting=T;class C{constructor(){this.pageHtml=\'<div id="noThemesWindow" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div class="base menuItem" style="text-align:center">{#More themes?#}</div>    <div>        <button id="gotoShopCancel" class="topBarButton" style="width:50%"><img src="images/cross.svg" class="topBarImage"/><span>{#Cancel#}</span></button>        <button id="gotoShopOk" class="topBarButton" style="width:50%"><img src="images/shop.svg" class="topBarImage"/><span>{#Shop#}</span></button>    </div></div></div></div><div id="settingsTopBar" class="topBar">    <button id="settingsBack" class="topBarButton" style="width:50%"><img src="images/arrow-left.svg" class="topBarImage"/></span><span>{#Back#}</span></button>    <button id="emptyButton" class="topBarButton" style="width:50%"></button>    <div id="settingsTitle" class="topBarTitle" style="width:100%">{#Settings#}</div></div><div id="settingsArea" class="pageContent pageTopPadding" style="float:left; background-color: #E9E9E9;">    <div class="miniTitle sizedTitle" id="themeTitle">{#Theme#}</div>        <div style="position: relative"><div class="inputBox"><select id="settingsTheme" class="base inputBase" ></select></div>    </div>        <div class="miniTitle sizedTitle" id="timezoneTitle">{#Time zone#}</div>            <div style="position: relative"><div class="inputBox"><select id="settingsTimeZone" class="base inputBase" >                <option class="inputOption" value="-">{#Auto#}</option>                <option class="inputOption" value="-12">-12</option>                <option class="inputOption" value="-11">-11</option>                <option class="inputOption" value="-10">-10</option>                <option class="inputOption" value="-9.5">-9:30</option>                <option class="inputOption" value="-9">-9</option>                <option class="inputOption" value="-8">-8</option>                <option class="inputOption" value="-7">-7</option>                <option class="inputOption" value="-6">-6</option>                <option class="inputOption" value="-5">-5</option>                <option class="inputOption" value="-4">-4</option>                <option class="inputOption" value="-3.5">-3:30</option>                <option class="inputOption" value="-3">-3</option>                <option class="inputOption" value="-2">-2</option>                <option class="inputOption" value="-1">-1</option>                <option class="inputOption" value="0" >0</option>                <option class="inputOption" value="+1">+1</option>                <option class="inputOption" value="+2">+2</option>                <option class="inputOption" value="+3">+3</option>                <option class="inputOption" value="+3.5">+3:30</option>                <option class="inputOption" value="+4">+4</option>                <option class="inputOption" value="+4.5">+4:30</option>                <option class="inputOption" value="+5">+5</option>                <option class="inputOption" value="+5.5">+5:30</option>                <option class="inputOption" value="+5.75">+5:45</option>                <option class="inputOption" value="+6">+6</option>                <option class="inputOption" value="+6.5">+6:30</option>                <option class="inputOption" value="+7">+7</option>                <option class="inputOption" value="+8">+8</option>                <option class="inputOption" value="+8.5">+8:30</option>                <option class="inputOption" value="+8.75">+8:45</option>                <option class="inputOption" value="+9">+9</option>                <option class="inputOption" value="+9.5">+9:30</option>                <option class="inputOption" value="+10">+10</option>                <option class="inputOption" value="+10.5">+10:30</option>                <option class="inputOption" value="+11">+11</option>                <option class="inputOption" value="+12">+12</option>                <option class="inputOption" value="+12.75">+12:45</option>                <option class="inputOption" value="+13">+13</option>                <option class="inputOption" value="+14">+14</option>            </select></div></div>        <div class="miniTitle sizedTitle" id="firstDayTitle">{#First day of week#}</div>            <div style="position: relative"><div class="inputBox"><select id="settingsFirstDay" class="base inputBase" >            </select></div></div>    <div class="miniTitle sizedTitle">{#Show week numbers#}</div>    <div style="position: relative"><div class="inputBox transparent"><input id="checkBoxShowWeeks" type="checkbox" class="base inputBase inputCheckBox"></input></div></div>    <div class="miniTitle sizedTitle">{#Use 24-hour format#}</div>    <div style="position: relative"><div class="inputBox transparent"><input id="checkBox24h" type="checkbox" class="base inputBase inputCheckBox"></input></div></div>    <div class="miniTitle sizedTitle" id="grayDaysTitle">{#Gray days#}</div>        <div style="position: relative"><div class="inputBox"><select id="settingsGrayDays" class="base inputBase maybeBig" multiple="multiple"></select></div>    </div>    <div class="miniTitle sizedTitle" id="languageTitle">{#Language#}</div>        <div style="position: relative"><div class="inputBox"><select id="settingsLanguage" class="base inputBase" ></select></div>    </div>    <div class="miniTitle sizedTitle" id="daatAmountTitle">{#Data amount (startup speed)#}</div>        <div style="position: relative"><div class="inputBox"><select id="settingsDataAmount" class="base inputBase" >            <option class="inputOption" value="4800">{#All#}</option>            <option class="inputOption" value="48">{#4 Years#}</option>            <option class="inputOption" value="4">{#4 months#}</option>        </select></div>     </div></div>\',this.visibilitySettings=[]}show(){e.core.domHandler.hideCanvas(),e.core.calendarDataProxy.analyticsPage("Settings page"),this.timestamp=e.core.getTimeStamp(),this.settingsPage=e.core.domHandler.pageHtmlFormatHelper("settingsPage",this.pageHtml),this.settingsPage.style.display="block",e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements=e.core.domHandler.resizeDomElements.bind(e.core.domHandler),window.setTimeout(e.core.domHandler.resizeDomElements,0),window.setTimeout(e.core.domHandler.resizeDomElements,100);var t=(e.core.settings.titleWidth/e.core.ratio-24)/2;document.getElementById("settingsBack").style.padding=t+"px",document.getElementById("emptyButton").style.padding=e.core.settings.titleWidth/e.core.ratio/2+1+"px",document.getElementById("settingsArea").style.top="54px",e.core.showBackButtons()?(e.core.domHandler.addClickEvent("settingsBack",this.settingsBack,this),document.getElementById("settingsTitle").style.display="none"):(document.getElementById("settingsBack").style.display="none",document.getElementById("emptyButton").style.display="none"),this.firstDaySelectElement=document.getElementById("settingsFirstDay"),this.grayDaysSelectElement=document.getElementById("settingsGrayDays"),this.timeZoneSelectElement=document.getElementById("settingsTimeZone"),this.languageSelectElement=document.getElementById("settingsLanguage"),this.themeSelectElement=document.getElementById("settingsTheme"),this.dataAmountSelectElement=document.getElementById("settingsDataAmount"),this.showWeekCheckBox=document.getElementById("checkBoxShowWeeks"),this.use24hCheckBox=document.getElementById("checkBox24h"),e.core.domHandler.addWeekDaysToSelectNode(this.firstDaySelectElement),e.core.domHandler.addWeekDaysToSelectNode(this.grayDaysSelectElement),this.showWeekCheckBox.checked=e.core.commonUserSettings.showWeekNumbers,this.use24hCheckBox.checked=e.core.commonUserSettings.use24hFormat,this.timeZoneSelectElement.value=e.core.commonUserSettings.timeZoneForSettingsPage,e.Translate.languageExists(D.locale())||(t=new Option("-",e.core.translate.get("Auto(partially English)"),!1,!1),t.className="inputOption",this.languageSelectElement.appendChild(t));for(var r=0;r<e.core.translate.languages.keys().length;r++)t=new Option(e.core.translate.languages.values()[r],e.core.translate.languages.keys()[r],!1,!1),t.className="inputOption",this.languageSelectElement.appendChild(t);for(this.languageSelectElement.value=e.core.commonUserSettings.language.toString(),r=0;r<e.core.settings.themes.keys().length;r++)t=new Option(e.core.translate.get(e.core.settings.themes.values()[r].themeName),e.core.settings.themes.keys()[r],!1,!1),t.className="inputOption",this.themeSelectElement.appendChild(t);this.themeSelectElement.value=e.core.commonUserSettings.theme.toString(),e.core.settings.themes.keys().length==1&&(this.preventOptions=this.preventOptions.bind(this),this.themeSelectElement.addEventListener("mousedown",this.preventOptions),this.themeSelectElement.addEventListener("touchstart",this.preventOptions)),this.dataAmountSelectElement.value=e.core.commonUserSettings.dataAmountToLoad.toString(),e.core.domHandler.selectWeekDays(this.firstDaySelectElement,""+e.core.commonUserSettings.firstDayOfWeek),e.core.domHandler.selectWeekDays(this.grayDaysSelectElement,""+e.core.commonUserSettings.grayDays)}preventOptions(t){t.preventDefault(),this.themeSelectElement.blur(),window.focus(),this.showNoThemesWindow()}showNoThemesWindow(){document.getElementById("noThemesWindow").style.display="table",e.core.domHandler.addClickEvent("gotoShopOk",this.gotoShop,this),e.core.domHandler.addClickEvent("gotoShopCancel",this.hideNoThemesWindow,this)}hideNoThemesWindow(){document.getElementById("noThemesWindow").style.display="none"}gotoShop(){e.core.appStateHandler.viewShop()}hide(){var t=!1;e.core.appStateHandler.settingsControlIsShowing=!1,e.core.commonUserSettings.showWeekNumbers=this.showWeekCheckBox.checked,e.core.commonUserSettings.use24hFormat!=this.use24hCheckBox.checked&&(e.core.commonUserSettings.use24hFormat=this.use24hCheckBox.checked,e.core.calendarDataProxy.analyticsValue("Value","Settings","Use 24h",e.core.commonUserSettings.use24hFormat==1?1:0),t=!0),e.core.commonUserSettings.timeZoneForSettingsPage!=this.timeZoneSelectElement.value&&(e.core.commonUserSettings.timeZoneForSettingsPage=this.timeZoneSelectElement.value,e.core.calendarDataProxy.analyticsValue("Value","Settings","Time zone",e.core.helper.getNumberFromString(e.core.commonUserSettings.timeZoneForSettingsPage,1e3)),t=!0),e.core.commonUserSettings.dataAmountToLoad.toString()!=this.dataAmountSelectElement.value&&(e.core.commonUserSettings.dataAmountToLoad=Number(this.dataAmountSelectElement.value),e.core.calendarDataProxy.analyticsValue("Value","Settings","Data amount to load",e.core.commonUserSettings.dataAmountToLoad),t=!0),e.core.commonUserSettings.firstDayOfWeek+""!=e.core.domHandler.getSelectOptions(this.firstDaySelectElement)&&(e.core.commonUserSettings.firstDayOfWeek=Number(e.core.domHandler.getSelectOptions(this.firstDaySelectElement)),e.core.calendarDataProxy.analyticsValue("Value","Settings","First Day Of Week",e.core.commonUserSettings.firstDayOfWeek),e.core.calendarDateHandler.clearWeekInfo()),e.core.commonUserSettings.grayDays+""!=e.core.domHandler.getSelectOptions(this.grayDaysSelectElement)&&(e.core.commonUserSettings.grayDays=e.core.domHandler.getSelectOptions(this.grayDaysSelectElement),e.core.calendarDataProxy.analyticsValue("Value","Settings","Gray days",e.core.helper.getNumberFromString(e.core.commonUserSettings.grayDays,1e3)),e.core.calendarDateHandler.clearWeekInfo()),e.core.commonUserSettings.language.toString()!==this.languageSelectElement.value&&(e.core.commonUserSettings.language=this.languageSelectElement.value,e.core.calendarDataProxy.analyticsValue("Value","Settings","Language "+this.languageSelectElement.value,1),e.core.reopenApp(),t=!0),e.core.commonUserSettings.theme.toString()!==this.themeSelectElement.value&&(e.core.commonUserSettings.theme=this.themeSelectElement.value,e.core.calendarDataProxy.analyticsValue("Value","Settings","Theme "+this.themeSelectElement.value,1),e.core.settings.reloadTheme(),e.core.reopenApp(),t=!0),e.core.domHandler.showCanvas(),e.core.domHandler.removeElement(this.settingsPage.id),t&&e.core.reloadAllCalendarData()}reshow(){this.show()}getEventTarget(t){return t=t||window.event,t.target||t.srcElement}settingsBack(t){300>e.core.getTimeStamp()-this.timestamp||e.core.appStateHandler.back()}}e.SettingsControl=C;class P{constructor(){this.nudgeBecauseMenuBeingDragged=0,this.menuItems=[],this.transparency=-1,this.animationDuration=600,this.lastDragDirection=0,this.currentMaxRight=0,this.movingMenuWidth=0,this.movingMenuWidth=e.core.settings.titleWidth}resetDrawAreaSize(t,r){this.movingMenuWidth=e.core.settings.titleWidth}reshow(){this.safeBack()}show(){this.menuItemLogin=new d(e.core.translate.get("Connect Google calendar"),e.core.charCodeLogin),this.menuItemFake=new d(e.core.translate.get("Show demo calendar"),e.core.charCodeFake),this.menuItemLogout=new d(e.core.translate.get("Disconnect from Google"),e.core.charCodeLogout),this.menuItemCalendars=new d(e.core.translate.get("Calendars"),e.core.charCodeCalendars),this.menuItemShop=new d(e.core.translate.get("Shop"),e.core.charCodeShop),this.menuItemReload=new d(e.core.translate.get("Refresh"),e.core.charCodeReload),this.menuItemSettings=new d(e.core.translate.get("Settings"),e.core.charCodeSettings),this.menuItemAbout=new d(e.core.translate.get("About"),e.core.charCodeAbout),this.menuItemRate=new d(e.core.translate.get("Rate"),e.core.charCodeHeart),this.menuItemFeedback=new d(e.core.translate.get("Send feedback"),e.core.charCodeSend),this.showTime=e.core.getTimeStamp(),this.menuItems=[],e.core.enableGoogle&&e.core.calendarDataProxy&&(e.core.calendarDataProxy.calendarDataProxyType!==e.CalendarDataProxyType.Google||e.core.calendarDataProxy.enableGoogleLogin)&&this.menuItems.push(this.menuItemLogin),e.core.calendarDataProxy&&e.core.calendarDataProxy.enableMultipleCalendars&&this.menuItems.push(this.menuItemCalendars),e.core.calendarDataProxy&&e.core.calendarDataProxy.enableShop&&this.menuItems.push(this.menuItemShop),e.core.calendarDataProxy&&e.core.calendarDataProxy.enableReload&&this.menuItems.push(this.menuItemReload),this.menuItems.push(this.menuItemSettings),e.core.helper.isAndroid()&&(this.menuItems.push(this.menuItemRate),this.menuItems.push(this.menuItemFeedback)),e.core.calendarDataProxy&&e.core.calendarDataProxy.enableGoogleLogout&&this.menuItems.push(this.menuItemLogout),this.redraw()}safeBack(){e.core.appStateHandler.safeBack(this)||this.startCloseAnimation()}click(t,r){500>e.core.getTimeStamp()-this.showTime?this.showTime=e.core.getTimeStamp():(this.showTime=e.core.getTimeStamp(),this.isFullyExpanded()&&(this.safeBack(),this.hitTest(this.menuItemLogin,t,r)?this.menuItemLogin_Click():this.hitTest(this.menuItemReload,t,r)?this.menuItemReload_Click():this.hitTest(this.menuItemLogout,t,r)?this.menuItemLogout_Click():this.hitTest(this.menuItemFake,t,r)?this.menuItemFake_Click():this.hitTest(this.menuItemCalendars,t,r)?this.menuItemCalendars_Click():this.hitTest(this.menuItemShop,t,r)?this.menuItemShop_Click():this.hitTest(this.menuItemSettings,t,r)?this.menuItemSettings_Click():this.hitTest(this.menuItemAbout,t,r)?this.menuItemAbout_Click():this.hitTest(this.menuItemRate,t,r)?this.menuItemRate_Click():this.hitTest(this.menuItemFeedback,t,r)&&this.menuItemFeedback_Click()))}hide(){this.startCloseAnimation()}setSizes(){this.menuLeft=this.menuTop=1;var t=0;this.textSize=e.core.settings.menuTextHeight,this.logoTextSize=Math.floor(2.2*this.textSize),this.logoSize=Math.floor(3*e.core.settings.menuIconHeight),this.logoTextSubSize=Math.floor(1.4*this.textSize);for(var r=e.core.zopDrawArea.measureTextWidth("OneView",this.logoTextSize,!0,!1),s=0;s<this.menuItems.length;s++)this.menuItems[s].top=t,t+=e.core.settings.menuItemHeight,this.menuItems[s].bottom=t,r=Math.max(r,e.core.zopDrawArea.measureTextWidth(this.menuItems[s].text,this.textSize,!0,!1));this.expandedMenuWidth=Math.floor(Math.min(r+e.core.settings.menuItemHeight+e.core.settings.menuIconHeight,Math.min(e.core.domHandler.screenWidth,e.core.domHandler.screenHeight))),this.movingMenuWidth=Math.floor(Math.max(e.core.settings.titleWidth,Math.min(this.currentMaxRight,this.expandedMenuWidth))),this.menuHeight=e.core.domHandler.screenHeight,this.nudgeBecauseMenuBeingDragged=Math.floor(Math.max(0,e.core.mainMenuControl.movingMenuWidth-e.core.settings.titleWidth)),this.transparency=Math.max(-1,Math.min(1,(2*Math.min(this.currentMaxRight,this.movingMenuWidth)-this.expandedMenuWidth-e.core.settings.titleWidth)/(this.expandedMenuWidth-e.core.settings.titleWidth))),this.logoSizeGrowing=Math.floor(.85*this.logoSize+.15*this.logoSize*Math.max(0,this.transparency)),this.textColor=e.core.settings.theme.colorTitleText}drawAreaResized(){e.core.appStateHandler.isMainMenuShowing&&this.redraw()}redrawMenuIcon(){}hitMenuButton(t,r){return 0<t&&t<e.core.settings.titleWidth&&0<r&&r<e.core.settings.titleWidth}redraw(){if(this.setSizes(),.1<this.movingMenuWidth/this.expandedMenuWidth&&0<this.transparency){e.core.zopDrawArea.canvasContext.save(),e.core.zopDrawArea.canvasContext.rect(this.menuLeft-1,this.menuTop,this.movingMenuWidth,this.menuHeight+2),e.core.zopDrawArea.canvasContext.clip();var t=this.expandedMenuWidth/20;for(this.menuTop=t,e.core.drawArea.drawIcon(e.core.charCodeLogo,this.menuLeft+(this.expandedMenuWidth-this.logoSizeGrowing)/2,this.menuTop+(this.logoSize-this.logoSizeGrowing)/2,this.logoSizeGrowing,this.logoSizeGrowing),this.menuTop+=this.logoSize,this.menuTop+=this.logoTextSize,e.core.drawArea.drawCenteredText("Calendar",this.menuLeft,this.menuTop,this.expandedMenuWidth,this.logoTextSubSize,this.textColor,!1,!0,!0),this.menuTop+=this.logoTextSubSize+2*t,t=0;t<this.menuItems.length;t++)this.paintMenuItem(this.menuItems[t]);e.core.zopDrawArea.canvasContext.globalAlpha=Math.min(1,Math.max(0,1-this.transparency)),e.core.drawArea.drawFilledRectangle({x:e.core.zopHandler.leftPixel,y:0,width:e.core.settings.titleWidth+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged+2*e.core.ratio,height:e.core.zopDrawArea.zopAreaHeight,fillStyle:e.core.settings.theme.colorTitleBackground,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.zopDrawArea.canvasContext.globalAlpha=1,e.core.zopDrawArea.canvasContext.restore()}}paintMenuItem(t){var r=e.core.settings.menuItemHeight-1;e.core.drawArea.drawHorizontalLineNotZOP(this.menuLeft,this.menuTop+t.top,this.expandedMenuWidth-4,this.textColor,1,!1),e.core.drawArea.drawHorizontalLineNotZOP(this.menuLeft,this.menuTop+t.top+1+e.core.settings.menuItemHeight-1,this.expandedMenuWidth-4,this.textColor,1,!1),e.core.drawArea.drawText(t.text,this.menuLeft+r,this.menuTop+t.top+(e.core.settings.menuItemHeight-this.textSize)/2.5,this.textSize,this.textColor,!1,!0,!1,!1),e.core.drawArea.drawIcon(t.charCode,this.menuLeft+r/2-e.core.settings.menuIconHeight/2,this.menuTop+t.top+r/2-e.core.settings.menuIconHeight/2,e.core.settings.menuIconHeight,e.core.settings.menuIconHeight)}hitTest(t,r,s){return-1<this.menuItems.indexOf(t)&&r>this.menuLeft&&r<this.menuLeft+this.expandedMenuWidth&&s>this.menuTop+t.top&&s<this.menuTop+t.bottom}menuItemLogin_Click(){e.core.calendarDataProxy.analyticsEvent("Event","Login Clicked"),e.core.calendarDataProxy?(e.core.calendarDataProxy=new e.GoogleCalendarDataProxy,e.core.calendarDataProxy.login()):e.core.loadDataProxy()}menuItemReload_Click(){e.core.calendarDataProxy.analyticsEvent("Event","Reload Clicked"),e.core.reloadAllCalendarData()}menuItemLogout_Click(){e.core.calendarDataProxy.logout(),e.core.calendarDataProxy.analyticsEvent("Event","Logout Clicked"),e.core.calendarDataProxy=new e.DemoCalendarDataProxy,e.core.calendarDataProxy.populateCalendarEvents(function(){e.core.dataLoadReady()})}menuItemFake_Click(){e.core.calendarDataProxy=new e.DemoCalendarDataProxy,e.core.calendarDataProxy.populateCalendarEvents(function(){e.core.dataLoadReady()})}menuItemCalendars_Click(){e.core.appStateHandler.viewCalendars()}menuItemShop_Click(){e.core.appStateHandler.viewShop()}menuItemSettings_Click(){e.core.appStateHandler.viewSettings()}menuItemAbout_Click(){e.core.appStateHandler.viewAbout()}menuItemRate_Click(){e.core.helper.isAndroid()?window.open("market://details?id=com.oneviewcalendar.app"):window.open("https://web.archive.org/web/20190808203716/https://play.google.com/store/apps/details?id=com.oneviewcalendar.app")}menuItemFeedback_Click(){window.open("mailto:support@oneviewcalendar.com?body=%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A-------------------%0D%0ASent from OneView Calendar version: 1.1.8")}getAnimationProgress(){var t=e.core.getTimeStamp(),t=Math.min(this.animationDuration,Math.max(10,t-this.animationStartTime))/this.animationDuration;return 1-(1-t)*(1-t)*(1-t)*(1-t)}startOpenAnimation(){this.animationAborted=!1,e.core.appStateHandler.isMainMenuBeingDragged=!1,this.animationStartTime=e.core.getTimeStamp()-20,this.animationStartPos=this.currentMaxRight,this.animationGoalDistance=this.expandedMenuWidth-this.animationStartPos,this.doOpenAnimation()}doOpenAnimation(){var t=this;this.animationAborted||(this.currentMaxRight=this.animationStartPos+this.animationGoalDistance*this.getAnimationProgress(),this.isFullyExpanded()||window.setTimeout(function(){t.doOpenAnimation()},30),e.core.redraw(!0))}isFullyExpanded(){return this.movingMenuWidth>=this.expandedMenuWidth-5}startCloseAnimation(){this.animationAborted=!1,e.core.appStateHandler.isMainMenuBeingDragged=!1,this.animationStartTime=e.core.getTimeStamp()-20,this.animationStartPos=this.currentMaxRight,this.animationGoalDistance=-this.animationStartPos,this.doCloseAnimation()}doCloseAnimation(){var t=this;this.animationAborted||(this.currentMaxRight=this.animationStartPos+this.animationGoalDistance*this.getAnimationProgress(),0<this.currentMaxRight?window.setTimeout(function(){t.doCloseAnimation()},30):(this.currentMaxRight=0,e.core.appStateHandler.isMainMenuBeingDragged=!1,this.movingMenuWidth=e.core.settings.titleWidth,e.core.appStateHandler.isMainMenuShowing=!1,this.redraw())),e.core.redraw(!0)}startDragging(t,r){return e.core.appStateHandler.isMainMenuBeingDragged=!1,t>=e.core.zopDrawArea.zopAreaLeft&&t<=e.core.zopDrawArea.zopAreaLeft+Math.max(e.core.settings.titleWidth,this.currentMaxRight)||e.core.appStateHandler.isMainMenuShowing&&this.isFullyExpanded()?this.animationAborted=!0:!1}continueDragging(t,r){this.animationAborted=e.core.appStateHandler.isMainMenuBeingDragged=!0,t=Math.max(t,e.core.settings.titleWidth),this.lastDragDirection=t-this.currentMaxRight,this.currentMaxRight=t,e.core.appStateHandler.isMainMenuShowing||(e.core.appStateHandler.showMainMenu(!1),this.currentMaxRight=t)}endDragging(){e.core.appStateHandler.isMainMenuBeingDragged=!1,0<this.lastDragDirection?(e.core.appStateHandler.addVisibleControl(e.core.mainMenuControl),this.startOpenAnimation()):this.safeBack()}}e.MainMenuControl=P;class b{constructor(){this.animationLength=2e3,this.precision=4,this.animationActive=!1}drawAreaResized(){e.core.appStateHandler.isAddButtonBeingDragged&&this.redraw(),this.width=Math.floor(e.core.settings.titleWidth*e.core.settings.theme.addButtonWidthFactor),this.halfWidth=Math.floor(this.width/2),this.radius=Math.floor(this.width/2),this.defaultCenterY=e.core.zopDrawArea.zopAreaTop+e.core.zopDrawArea.zopAreaHeight-2*e.core.settings.margin-this.radius,this.currentCenterX=this.defaultCenterX=e.core.zopDrawArea.zopAreaLeft+e.core.zopDrawArea.zopAreaWidth-2*e.core.settings.margin-this.radius,this.currentCenterY=this.defaultCenterY,this.leftForDetailedSelection=(e.core.zopHandler.rightPixel-e.core.settings.titleWidth)/2+e.core.settings.titleWidth}redrawAddButton(){e.core.appStateHandler.isAddButtonBeingDragged||this.isAnimationActive()?(this.passedMinDistance()&&this.selectedStartTime&&e.core.zopDrawArea.drawFilledRectangle(e.core.settings.titleWidth+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,e.core.zopHandler.dateToZOP(this.selectedStartTime),e.core.zopDrawArea.zopAreaWidth-e.core.settings.titleWidth-e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,e.core.zopHandler.dateToZOP(this.selectedEndTime),e.core.settings.theme.colorFadeOut,5),this.passedMinDistance()&&e.core.drawArea.drawVerticalLineNotZOP(this.leftForDetailedSelection,0,e.core.zopDrawArea.zopAreaHeight,e.core.settings.theme.colorMarker,3),e.core.zopDrawArea.drawFilledCircle2(this.defaultCenterX+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,this.defaultCenterY,this.radius+1,e.core.settings.theme.colorDarkSoft,!1),e.core.zopDrawArea.drawFilledCircle2(this.defaultCenterX+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,this.defaultCenterY,this.radius-1,e.core.settings.theme.colorLightSoft,!1)):(this.currentCenterX=this.defaultCenterX,this.currentCenterY=this.defaultCenterY),e.core.zopDrawArea.drawFilledCircle2(this.currentCenterX+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,this.currentCenterY,this.radius,e.core.settings.theme.colorAddButton,!1);var t=e.core.settings.lineThickness,r=0;t===1&&(r=.5),this.isAnimationActive()?(t=this.radius/2.2,e.core.drawArea.drawCenteredText("Drag me",this.currentCenterX-this.radius+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,this.currentCenterY-t/1.5,2*this.radius,t,e.core.settings.theme.colorTagText,!1,!1,!1)):(e.core.drawArea.drawLine2(this.currentCenterX+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-r,Math.floor(this.currentCenterY-this.width/7)-r,this.currentCenterX+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-r,Math.floor(this.currentCenterY+this.width/7)-r,t,e.core.settings.theme.colorTitleText,!1),e.core.drawArea.drawLine2(Math.floor(this.currentCenterX-this.width/7+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged)-r,this.currentCenterY-r,Math.floor(this.currentCenterX+this.width/7+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged)-r,this.currentCenterY-r,t,e.core.settings.theme.colorTitleText,!1))}startDragging(t,r){return this.passefMinDistanceEver=!1,t>this.currentCenterX+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-1.5*this.radius&&t<this.currentCenterX+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged+1.5*this.radius&&r>this.currentCenterY+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-1.5*this.radius&&r<this.currentCenterY+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged+1.5*this.radius?e.core.appStateHandler.isAddButtonBeingDragged=!0:e.core.appStateHandler.isAddButtonBeingDragged=!1}getTitleExtraData(){if(e.core.appStateHandler.isAddButtonBeingDragged&&this.detailedTimeInfo)return this.detailedTimeInfo}continueDragging(t,r){if(this.currentCenterX=t,this.currentCenterY=r,this.passedMinDistance()){this.passefMinDistanceEver=!0;var s;if(t>=this.leftForDetailedSelection&&(s=e.core.calendarDateHandler.getClosestFakeDetailAt(r,this.precision,!1)),!s){this.detailedTimeInfo=void 0,s=e.core.calendarDateHandler.selectCalendarDateObjectAt(t,r,!0);for(var o=10;s&&s.calendarDateObjectType===e.CalendarDateObjectType.Title;)s=e.core.calendarDateHandler.selectCalendarDateObjectAt(t+o,r,!0),o+=10}s&&s.calendarDateObjectType===e.CalendarDateObjectType.Week&&(this.detailedTimeInfo=s.longText),s&&(s.calendarDateObjectType<e.CalendarDateObjectType.Hour&&(s=new e.CalendarDateObject(e.CalendarDateObjectType.Hour,s.startDateTime)),this.selectedStartTime!==s.startDateTime&&(this.previousSelectedStartTime=this.selectedStartTime,this.previousSelectedEndTime=this.selectedEndTime,this.selectedTimeStamp=e.core.getTimeStamp()),this.selectedStartTime=s.startDateTime,this.selectedEndTime=s.endDateTime),s&&(this.detailedTimeInfo=s.longText,s.calendarDateObjectType<=e.CalendarDateObjectType.Hour&&(this.detailedTimeInfo=D(s.startDateTime).format("dddd ")+s.longText))}else this.detailedTimeInfo=this.selectedEndTime=this.selectedStartTime=void 0}endDragging(){e.core.appStateHandler.isAddButtonBeingDragged=!1,this.selectedTimeStamp+200>e.core.getTimeStamp()&&this.previousSelectedEndTime!==void 0&&(this.selectedStartTime=this.previousSelectedStartTime,this.selectedEndTime=this.previousSelectedEndTime),this.passedMinDistance()?this.selectedStartTime&&(e.core.zopDrawArea.drawFilledRectangle(e.core.settings.titleWidth,e.core.zopHandler.dateToZOP(this.selectedStartTime),e.core.zopDrawArea.zopAreaWidth-e.core.settings.titleWidth,e.core.zopHandler.dateToZOP(this.selectedEndTime),e.core.settings.theme.colorFadeOut,5),this.currentCenterX=this.defaultCenterX,this.currentCenterY=this.defaultCenterY,e.core.appStateHandler.startAddCalendarEventObject(this.selectedStartTime,this.selectedEndTime)):this.passefMinDistanceEver?(this.currentCenterX=this.defaultCenterX,this.currentCenterY=this.defaultCenterY):(this.animationStartTime=e.core.getTimeStamp(),this.animationActive=!0),this.detailedTimeInfo=this.selectedEndTime=this.selectedStartTime=void 0}isAnimationActive(){return e.core.appStateHandler.isAddButtonBeingDragged&&(this.animationActive=!1),this.animationActive}passedMinDistance(){return Math.abs(this.currentCenterX-this.defaultCenterX)+Math.abs(this.currentCenterY-this.defaultCenterY)>=this.width}doAnimation(){var t=e.core.getTimeStamp()-this.animationStartTime;if(t>this.animationLength&&(this.currentCenterX=this.defaultCenterX,this.currentCenterY=this.defaultCenterY),t>2*this.animationLength)this.currentCenterX=this.defaultCenterX,this.currentCenterY=this.defaultCenterY,this.animationActive=!1;else{var r=e.core.zopDrawArea.zopAreaHeight/8,s=Math.PI/2-(t/this.animationLength*Math.PI+2*Math.PI/8),t=t/this.animationLength*Math.PI/2;this.currentCenterX=this.defaultCenterX+Math.sin(s)*r-.706*r,this.currentCenterY=this.defaultCenterY+Math.cos(s)*r-.708*r,this.currentCenterX-=Math.sin(t)*r*1,this.currentCenterY-=Math.sin(t)*r*1.5,this.continueDragging(this.currentCenterX,this.currentCenterY),e.core.redraw(!1)}}doAnimation2(){var t=e.core.getTimeStamp()-this.animationStartTime;if(t>this.animationLength&&(this.currentCenterX=this.defaultCenterX,this.currentCenterY=this.defaultCenterY),t>2*this.animationLength)this.currentCenterX=this.defaultCenterX,this.currentCenterY=this.defaultCenterY,this.animationActive=!1;else{var r=e.core.zopDrawArea.zopAreaHeight/8,s=this.defaultCenterY-1*r,o=this.defaultCenterX-1*r,l=this.defaultCenterY-8*r,c=this.defaultCenterX-8*r,p=this.defaultCenterY-5*r,f=Math.min(1,2*t/this.animationLength);this.currentCenterX=this.newPosHelper(this.defaultCenterX-2*r,this.currentCenterX,f),this.currentCenterY=this.newPosHelper(s,this.currentCenterY,f),f=Math.max(0,Math.min(1,t*t/600/this.animationLength)),this.currentCenterX=this.newPosHelper(o,this.currentCenterX,f),this.currentCenterY=this.newPosHelper(l,this.currentCenterY,f),t>this.animationLength/2&&(f=Math.min(1,(t-this.animationLength/2)/(this.animationLength-this.animationLength/2)),this.currentCenterX=this.newPosHelper(c,this.currentCenterX,f),this.currentCenterY=this.newPosHelper(p,this.currentCenterY,f)),f=Math.min(1,t/this.animationLength),this.continueDragging(this.newPosHelper(this.defaultCenterX,this.currentCenterX,f),this.newPosHelper(this.defaultCenterY,this.currentCenterY,f)),e.core.redraw(!1)}}newPosHelper(t,r,s){return t*s+r*(1-s)}redraw(){}}e.AddButtonControl=b;class k{constructor(){this.menuItems=[],this.menuItems=a}resetDrawAreaSize(t,r){}showMenuFor(t,r){this.x=t,this.y=r,this.tryShiftPixels=r-e.core.domHandler.screenHeight/2,this.redraw()}click(t,r){for(var s=0;s<this.menuItems.length;s++)if(this.hitTest(this.menuItems[s],t,r)){this.menuItems[s].onMenuItemClicked();return}history.back()}drawAreaResized(){this.redraw()}redraw(){for(var t=0,r=0,s=0;s<this.menuItems.length;s++)this.menuItems[s].isVisible&&(this.menuItems[s].top=t,t+=e.core.settings.menuItemHeight,this.menuItems[s].bottom=t,r=Math.max(r,e.core.zopDrawArea.measureTextWidth(this.menuItems[s].text,e.core.settings.menuTextHeight,!0,!1)));for(this.menuWidth=Math.min(r+e.core.settings.menuItemHeight+e.core.settings.menuIconHeight,Math.min(e.core.domHandler.screenWidth,e.core.domHandler.screenHeight)),this.menuHeight=t+1,this.menuLeft=(e.core.domHandler.screenWidth-this.menuWidth)/2,this.menuTop=(e.core.domHandler.screenHeight-this.menuHeight)/2+this.tryShiftPixels,this.menuTop=Math.max(20,this.menuTop),this.menuTop=Math.min(e.core.domHandler.screenHeight-20-this.menuHeight,this.menuTop),e.core.drawArea.drawFilledRectangle({x:this.menuLeft-1,y:this.menuTop-1,width:this.menuWidth+2,height:this.menuHeight+2,fillStyle:e.core.settings.theme.colorWhite,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:this.menuLeft,y:this.menuTop,width:this.menuWidth,height:this.menuHeight,fillStyle:e.core.settings.theme.colorDarkSoft,hasShadow:!1,rounded:!1,strokeStyle:void 0}),s=0;s<this.menuItems.length;s++)this.paintMenuItem(this.menuItems[s])}paintMenuItem(t){if(t.isVisible){var r=e.core.settings.menuItemHeight-1;e.core.drawArea.drawFilledRectangle({x:this.menuLeft+1,y:this.menuTop+t.top+1,width:this.menuWidth-2,height:e.core.settings.menuItemHeight-1,fillStyle:e.core.settings.theme.colorDark,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawText(t.text,this.menuLeft+r+1,this.menuTop+t.top+(e.core.settings.menuItemHeight-e.core.settings.menuTextHeight)/2.5,e.core.settings.menuTextHeight,e.core.settings.theme.colorWhite,!1,!0,!1,!1),e.core.drawArea.drawIcon(t.charCode,this.menuLeft+r/2-e.core.settings.menuIconHeight/2,this.menuTop+t.top+r/2-e.core.settings.menuIconHeight/2,e.core.settings.menuIconHeight,e.core.settings.menuIconHeight)}}hitTest(t,r,s){return r>this.menuLeft&&r<this.menuLeft+this.menuWidth&&s>this.menuTop+t.top&&s<this.menuTop+t.bottom}}e.PopupMenuControl_Base=k;class I{constructor(t,r,s){this.isHighlited=!1,this.isVisible=!0,this.text=t,this.charCode=r,this.onMenuItemClicked=s}}e.MenuItemInfo=I;class W{constructor(){this.pageHtml=\'<div id="message" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div id="messageText" class="base menuItem" style="text-align:center">{#Error#}</div>    <div>        <button id="messageOk" class="topBarButton" style="width:100%"><img src="images/check.svg" height="24px" style="vertical-align: text-bottom"/><span>{#Ok#}</span></button>    </div></div></div></div><div id="noColorPickerWindow" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div class="base menuItem" style="text-align:center">{#Color picker?#}</div>    <div>        <button id="gotoShopCancel" class="topBarButton" style="width:50%"><img src="images/cross.svg" class="topBarImage"/><span>{#Cancel#}</span></button>        <button id="gotoShopOk" class="topBarButton" style="width:50%"><img src="images/shop.svg" class="topBarImage"/><span>{#Shop#}</span></button>    </div></div></div></div><div id="colorPickerWindow" class="outer" style="display: none" > <div class="middle" > <div class="inner" >          <div id="colorPickerArea" style="padding: 20px; padding-top: 12px;"></div></div></div></div><div id="editEventTopBar" class="topBar">    <button id="editEventCancel" class="topBarButton" style="width:50%"><img src="images/cross.svg" class="topBarImage"/><span>{#Cancel#}</span></button>    <button id="editEventOk" class="topBarButton" style="width:50%"><img src="images/check.svg" class="topBarImage"/><span>{#Ok#}</span></button></div><div class="pageContent" id="editEventArea" style="float:left; background-color: #E9E9E9;">        <div class="editEventPopupContent pageTopPadding" id="editEventPopupContent">            <div class="miniTitle sizedTitle">{#Title#}</div>            <div style="position: relative"><div class="inputBox"><input type="text" class="base inputBase inputOneLiner" name="task" id="editEventTitle" required /></div></div>            <div class="miniTitle sizedTitle">{#Start#}</div>            <div style="position: relative"><div class="inputBox lessSpace"><input type="date" class="base inputBase inputDate" id="editEventDateStart" min="0001-01-01" max="4000-01-01" /><span id="fakeDateStart" class="base inputBase dateFake" ></span></div></div>            <div style="position: relative"><div class="inputBox"><input type="time" class="base inputBase inputDate androidDown" id="editEventTimeStart" step="60"></div></div>            <div class="miniTitle sizedTitle">{#End#}</div>            <div style="position: relative"><div class="inputBox lessSpace"><select id="editEventDuration" class="base inputBase">            </select></div></div>            <div style="position: relative"><div class="inputBox lessSpace"><input type="date" class="base inputBase inputDate" id="editEventDateEnd" min="0001-01-01" max="4000-01-01" ><span id="fakeDateEnd" class="base inputBase dateFake"></span></div></div>            <div style="position: relative"><div class="inputBox"><input type="time" class="base inputBase inputDate androidDown" id="editEventTimeEnd"  step="60"/></div></div>            <div class="miniTitle sizedTitle" id="remindersTitle">{#Reminders#}</div>            <div style="position: relative"><div class="inputBox"><select id="editEventReminders" class="base inputBase maybeBig" multiple="multiple" >            </select></div></div>            <div class="miniTitle sizedTitle">{#Where#}</div>            <div style="position: relative"><div class="inputBox"><input type="text" class="base inputBase inputOneLiner" name="task" id="editEventLocation" ></div></div>            <div class="miniTitle sizedTitle">{#Details#}</div>            <div style="position: relative"><div class="inputBox"><textarea class="base inputBase inputTwoLiner" name="task" id="editEventDetails" ></textarea></div></div>            <div id="spaceForColors"></div>                        <div class="miniTitle sizedTitle">{#Calendar#}</div>                        <div style="position: relative"><div id="calendarSelWrapper" class="inputBox"><select id="editEventCalendar" class="base inputBase inputOneLiner" >                        </select></div><div id="editEventColor" class="square"></div>            <table style ="width:100%">                <tr>                    <td style="white-space: nowrap">                        <div class="miniTitle sizedTitle">{#Recurrence#}</div>                        <div><div class="inputBox"><div class="base inputBase inputOneLiner" id="editEventRecurrenceWrapper"><span class="pageContentText" id="editEventRecurrence" style="cursor: pointer" style="float:left" taborder="10"></span></div></div></div>                    </td><td style="width:80%"></td>                 </tr>            </table>            </div> </div>         </div></div>\',this.isShowingDatePickerForStartTime=!1,this.canEditReccur=!0}reshow(){e.core.appStateHandler.editEventControlIsShowing=!0,this.updateRecurrenceHtml(),this.timestamp=e.core.getTimeStamp()}init(t,r){this.calendarEvent=r===e.EventEditType.AllInSeries&&t.isRecurring?e.core.calendarDataProxy.getFirstRecurringEvent(t):t,this.editType=r,this.originalStartDate=this.calendarEvent.startDateTime,this.originalEndDate=this.calendarEvent.endDateTime,this.originalIsRecurring=this.calendarEvent.isRecurring,this.rruleFetched=this.rruleFetched.bind(this),e.core.calendarDataProxy.getRRuleObject(this.calendarEvent,this.rruleFetched)}show(){e.core.domHandler.hideCanvas(),e.core.calendarDataProxy.analyticsPage("Edit event page"),this.editPage=e.core.domHandler.pageHtmlFormatHelper("editEvent",this.pageHtml),this.editPage.style.display="block",e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements(),this.setByDuration(null),e.core.domHandler.resizeDomElements=e.core.domHandler.resizeDomElements.bind(e.core.domHandler),window.setTimeout(e.core.domHandler.resizeDomElements,0),window.setTimeout(e.core.domHandler.resizeDomElements,100),this.durationSelectElement=document.getElementById("editEventDuration"),this.updateDuration(),this.remindersSelectElement=document.getElementById("editEventReminders"),this.updateReminders();var t=(e.core.settings.titleWidth/e.core.ratio-24)/2;document.getElementById("editEventOk").style.padding=t+"px",document.getElementById("editEventCancel").style.padding=t+"px",document.getElementById("editEventArea").style.top="54px",e.core.domHandler.addClickEvent("editEventOk",this.editEventOk,this),e.core.domHandler.addClickEvent("editEventCancel",this.editEventCancel,this),e.core.domHandler.addClickEvent("editEventRecurrence",this.editRecurrency,this),e.core.domHandler.addClickEvent("editEventArea",this.doNothing,this),e.core.helper.canShowDatePicker()&&(e.core.domHandler.addClickEvent("editEventTimeStart",this.showDatePickerForStartTime,this),e.core.domHandler.addClickEvent("editEventTimeEnd",this.showDatePickerForEndTime,this)),e.core.domHandler.addEvent("editEventDateStart","change",this.startChanged,this),e.core.domHandler.addEvent("editEventDateEnd","change",this.endChanged,this),e.core.domHandler.addEvent("editEventTimeStart","change",this.startChanged,this),e.core.domHandler.addEvent("editEventTimeEnd","change",this.endChanged,this),e.core.domHandler.addEvent("editEventDuration","change",this.editEventDurationChanged,this),e.core.domHandler.addEvent("editEventTimeStart","blur",this.showFakeTimeStart,this),e.core.domHandler.addEvent("editEventTimeEnd","blur",this.showFakeTimeEnd,this),this.calendarEvent.summary?document.getElementById("editEventTitle").value=this.calendarEvent.summary:document.getElementById("editEventTitle").value="",this.calendarEvent.location?document.getElementById("editEventLocation").value=this.calendarEvent.location:document.getElementById("editEventLocation").value="",new e.Helper().isMobile()||(document.getElementById("remindersTitle").innerHTML+="  ("+e.core.translate.get("Hold CTRL/CMD while clicking on the reminders you want.")+")"),this.updateFakes(),this.updateRealDateInputs(),this.calendarEvent.description?document.getElementById("editEventDetails").value=this.calendarEvent.description:document.getElementById("editEventDetails").value="",this.updateRecurrenceHtml(),t=document.getElementById("editEventCalendar"),this.calendarChanged=this.calendarChanged.bind(this),t.onchange=this.calendarChanged;var r="",s;for(s=0;s<e.core.calendars.length;s++)e.core.calendars[s].canEditCalendarEvents==1&&(r+="<option value=\'"+e.core.calendars[s].id+"\' > "+e.core.calendars[s].name+" </option > ");t.innerHTML=r,t.value=this.calendarEvent.calendarId,e.core.domHandler.addClickEvent("editEventColor",this.showColorPickerWindow,this),document.getElementById("colorPickerArea").style.backgroundColor=e.core.settings.theme.colorBackground,document.getElementById("editEventColor").style.backgroundColor=e.core.helper.getEventColor2(this.calendarEvent),t=new Piklor,t.init(document.getElementById("colorPickerArea"),e.core.settings.theme.eventColors,{open:document.getElementById("editEventColor"),closeOnBlur:!0},"");var o=this;t.colorChosen(function(l,c){l&&(o.calendarEvent.extraColorId=e.core.settings.theme.eventColors.indexOf(l),o.calendarEvent.extraColorId==e.core.getCalendar(o.calendarEvent.calendarId).colorId&&(o.calendarEvent.extraColorId=void 0),document.getElementById("editEventColor").style.backgroundColor=e.core.helper.getEventColor2(o.calendarEvent)),o.hideColorPickerWindow()})}calendarChanged(t){t=document.getElementById("editEventCalendar").value,document.getElementById("editEventColor").style.backgroundColor=e.core.helper.getCalendarColor(e.core.getCalendar(t)),this.calendarEvent.extraColorId=void 0}onSuccess(t){this.isShowingDatePickerForStartTime?(document.getElementById("editEventTimeStart").value=this.timeToValue(t),this.calendarEvent.startDateTime=t,this.startChanged(null)):(document.getElementById("editEventTimeEnd").value=this.timeToValue(t),this.calendarEvent.endDateTime=t,this.endChanged(null))}onError(t){}showDatePicker(t){this.isShowingDatePickerForStartTime=t,t={date:t?this.calendarEvent.startDateTime:this.calendarEvent.endDateTime,mode:"time",androidTheme:1,is24Hour:e.core.commonUserSettings.use24hFormat},this.onSuccess=this.onSuccess.bind(this),this.onError=this.onError.bind(this),datePicker.show(t,this.onSuccess,this.onError)}showDatePickerForStartTime(t){t.preventDefault(),this.showDatePicker(!0)}showDatePickerForEndTime(t){t.preventDefault(),this.showDatePicker(!1)}showMessage(t,r){var s=this;document.getElementById("message").style.display="table",document.getElementById("messageText").innerText=t,e.core.domHandler.addClickEvent("messageOk",function(){s.hideMessage(r)},this)}hideMessage(t){document.getElementById("message").style.display="none",t&&e.core.appStateHandler.back()}showColorPickerWindow(){e.core.commonUserSettings.licenceColorPicker?document.getElementById("colorPickerWindow").style.display="table":(document.getElementById("noColorPickerWindow").style.display="table",e.core.domHandler.addClickEvent("gotoShopOk",this.gotoShop,this),e.core.domHandler.addClickEvent("gotoShopCancel",this.hideNoColorPickerWindow,this))}hideColorPickerWindow(){document.getElementById("colorPickerWindow").style.display="none"}hideNoColorPickerWindow(){document.getElementById("noColorPickerWindow").style.display="none"}gotoShop(){e.core.appStateHandler.viewShop()}updateRecurrenceHtml(){this.canEditReccur=!0,this.calendarEvent.isRecurring&&this.editType!=e.EventEditType.ThisOnly&&(document.getElementById("editEventRecurrence").innerHTML="YES (Press to edit)"),this.calendarEvent.isRecurring&&this.editType==e.EventEditType.ThisOnly&&(this.canEditReccur=!1,document.getElementById("editEventRecurrence").innerHTML=e.core.translate.get("Not possible"),document.getElementById("editEventRecurrence").setAttribute("style","cursor: default"),document.getElementById("editEventRecurrence").removeEventListener("touchend",this.editRecurrency,!1),document.getElementById("editEventRecurrence").removeEventListener("mouseup",this.editRecurrency,!1)),this.calendarEvent.isRecurring||(document.getElementById("editEventRecurrence").innerHTML="NO (Press to add)")}autoAdjustSoNotNegativeTime(){this.calendarEvent.startDateTime>=this.calendarEvent.endDateTime&&(this.calendarEvent.endDateTime=D(this.calendarEvent.startDateTime).add(1,"hours").toDate(),this.updateRealDateInputs(),this.updateFakes())}showFakeTimeStart(){this.autoAdjustSoNotNegativeTime()}showFakeTimeEnd(){this.calendarEvent.startDateTime>=this.calendarEvent.endDateTime&&(this.calendarEvent.startDateTime=D(this.calendarEvent.endDateTime).add(-1,"hours").toDate(),this.updateRealDateInputs(),this.updateFakes())}dateToValue(t){return this.timezoneOffset=6e4*t.getTimezoneOffset(),new Date(t.getTime()-this.timezoneOffset).toISOString().replace("Z","").split("T")[0]}timeToValue(t){return this.timezoneOffset=6e4*t.getTimezoneOffset(),new Date(t.getTime()-this.timezoneOffset).toISOString().replace("Z","").split("T")[1]}valueToDate(t){return new Date(new Date(t).getTime()+this.timezoneOffset)}rruleFetched(t){t&&(this.originalRRule=this.calendarEvent.rruleToSave=t)}hide(){e.core.appStateHandler.editEventControlIsShowing=!1,e.core.domHandler.showCanvas(),e.core.domHandler.removeElement(this.editPage.id)}startChanged(t){var r=this;new e.Helper().isAndroid()?(this.readDateTimeToCalendarEvent(),this.updateEndBasedOnDuration(),this.autoAdjustSoNotNegativeTime(),t.target.blur()):(this.lastStartChangedOnWeb=e.core.getTimeStamp(),this.startChangedOnWeb=this.startChangedOnWeb.bind(this),window.setTimeout(function(){r.startChangedOnWeb(t)},700))}startChangedOnWeb(t){e.core.getTimeStamp()<this.lastStartChangedOnWeb+600||(this.readDateTimeToCalendarEvent(),this.updateEndBasedOnDuration(),this.autoAdjustSoNotNegativeTime(),window.setTimeout(t.target.focus,50))}endChanged(t){var r=this;new e.Helper().isAndroid()?(this.readDateTimeToCalendarEvent(),this.autoAdjustSoNotNegativeTime(),this.updateFakes(),this.updateDuration(),t.target.blur()):(this.lastEndChangedOnWeb=e.core.getTimeStamp(),this.endChangedOnWeb=this.endChangedOnWeb.bind(this),window.setTimeout(function(){r.endChangedOnWeb(t)},700))}endChangedOnWeb(t){e.core.getTimeStamp()<this.lastEndChangedOnWeb+600||(this.readDateTimeToCalendarEvent(),this.autoAdjustSoNotNegativeTime(),this.updateFakes(),this.updateDuration(),window.setTimeout(t.target.focus,50))}updateFakes(){document.getElementById("fakeDateStart").innerText=e.core.helper.GetDateWithWeekDay(this.calendarEvent.startDateTime),document.getElementById("fakeDateEnd").innerText=e.core.helper.GetDateWithWeekDay(this.calendarEvent.endDateTime)}updateRealDateInputs(){document.getElementById("editEventDateStart").value=this.dateToValue(this.calendarEvent.startDateTime),document.getElementById("editEventTimeStart").value=this.timeToValue(this.calendarEvent.startDateTime),document.getElementById("editEventDateEnd").value=this.dateToValue(this.calendarEvent.endDateTime),document.getElementById("editEventTimeEnd").value=this.timeToValue(this.calendarEvent.endDateTime)}validateStartAndEnd(){return this.calendarEvent.startDateTime>=this.calendarEvent.endDateTime?(this.showMessage("Please enter a valid end time.",!1),!1):!0}validateTitle(t){return t==null||t.length==0?(this.showMessage("Please enter a title.",!1),!1):!0}editEventOk(t){if(t.preventDefault(),t=document.getElementById("editEventTitle").value,this.validateTitle(t)&&(this.readDateTimeToCalendarEvent(),this.validateStartAndEnd()&&!(300>e.core.getTimeStamp()-this.timestamp))){var r;for(this.calendarEvent.reminders=[],r=0;r<this.remindersSelectElement.options.length;r++)this.remindersSelectElement.options[r].selected&&this.calendarEvent.reminders.push(new e.Reminder(+this.remindersSelectElement.options[r].value));this.calendarEvent.summary=t,this.calendarEvent.location=document.getElementById("editEventLocation").value,this.calendarEvent.description=document.getElementById("editEventDetails").value,t=this.calendarEvent.calendarId,r=document.getElementById("editEventCalendar").value,e.core.commonUserSettings.calendarIdLastAddedTo=r,e.core.persistChangesToCalendars(),this.editType!=e.EventEditType.New&&t!=r?(e.core.calendarDataProxy.deleteEvent(this.calendarEvent,this.editType,!0),this.calendarEvent.calendarId=r,e.core.calendarDataProxy.addNewEvent(this.calendarEvent,!0)):(this.calendarEvent.calendarId=r,this.editType==e.EventEditType.New?e.core.calendarDataProxy.addNewEvent(this.calendarEvent,!1):(this.editType==e.EventEditType.DontKnow&&(this.editType=e.EventEditType.AllInSeries),e.core.calendarDataProxy.editExistingEvent(this.calendarEvent,this.editType))),this.calendarEvent.reminders!==void 0&&0<this.calendarEvent.reminders.length&&!e.core.commonUserSettings.hasShownRemindersInfo?(this.showMessage("You have set reminders. Please note that this app relies on your default calendar to show the reminders.",!0),e.core.commonUserSettings.hasShownRemindersInfo=!0):e.core.appStateHandler.back()}}readDateTimeToCalendarEvent(){this.calendarEvent.startDateTime=this.valueToDate(document.getElementById("editEventDateStart").value+"T"+this.addMiliseconds(document.getElementById("editEventTimeStart").value)+"Z"),this.calendarEvent.endDateTime=this.valueToDate(document.getElementById("editEventDateEnd").value+"T"+this.addMiliseconds(document.getElementById("editEventTimeEnd").value)+"Z"),e.core.zopHandler.updateStartEndZOP(this.calendarEvent),e.core.calendarEventHandler.gradeCalendarEvent(this.calendarEvent),e.core.calendarEventHandler.reorderAllEvents()}addMiliseconds(t){return t.length==5?t+":00.000":t.length==8?t+".000":t}editEventCancel(t){t.preventDefault(),this.calendarEvent.startDateTime=this.originalStartDate,this.calendarEvent.endDateTime=this.originalEndDate,this.calendarEvent.rruleToSave=this.originalRRule,this.calendarEvent.isRecurring=this.originalIsRecurring,e.core.zopHandler.updateStartEndZOP(this.calendarEvent),e.core.calendarEventHandler.gradeCalendarEvent(this.calendarEvent),e.core.calendarEventHandler.reorderAllEvents(),e.core.appStateHandler.back()}doNothing(t){}editEventDurationChanged(t){t=e.core.domHandler.getSelectOptions(this.durationSelectElement),this.calendarEvent.endDateTime=D(this.calendarEvent.startDateTime).add("milliseconds",t).toDate(),this.updateRealDateInputs(),this.updateFakes()}updateEndBasedOnDuration(){this.calendarEvent.endDateTime=D(this.calendarEvent.startDateTime).add("milliseconds",this.previousDuration).toDate(),this.updateRealDateInputs(),this.updateFakes()}updateDuration(){this.previousDuration=this.calendarEvent.endDateTime.getTime()-this.calendarEvent.startDateTime.getTime(),e.core.domHandler.addDurationsToSelectNode(this.durationSelectElement,this.calendarEvent.startDateTime,this.calendarEvent.endDateTime)}updateReminders(){this.calendarEvent.reminders==null&&(this.calendarEvent.reminders=[]),e.core.domHandler.addRemindersToSelectNode(this.remindersSelectElement,this.calendarEvent.reminders)}setByDuration(t){}setByTime(t){}editRecurrency(t){this.canEditReccur&&e.core.appStateHandler.editRecurrence(this.calendarEvent)}moveEvent(t){this.readDateTimeToCalendarEvent(),this.hide(),e.core.appStateHandler.startMoveCalendarEventObject(this.calendarEvent,e.core.domHandler.screenWidth/2,e.core.domHandler.screenHeight/2,e.EventEditType.DontKnow)}}e.EditEventControl=W;class J{constructor(){this.pageHtml=\'<div id="editRecurrenceTopBar" class="topBar">    <button id="editRecurrenceCancel" class="topBarButton" style="width:50%"><img src="images/cross.svg" class="topBarImage"/></span><span>{#Cancel#}</span></button>    <button id="editRecurrenceOk" class="topBarButton" style="width:50%"><img src="images/check.svg" class="topBarImage"/></span><span>{#Ok#}</span></button></div><div class="pageContent" id="editRecurrenceArea" style="float:left; background-color: #E9E9E9;">        <div class="editRecurrencePopupContent pageTopPadding" id="editRecurrencePopupContent">            <div class="miniTitle sizedTitle">{#Frequency#}</div>            <div style="position: relative"><div class="inputBox">                <select class="base inputBase" id="editRecurrenceFrequency">                    <option class="inputOption" value="none">{#Not repeated#}</option>                    <option class="inputOption" value="day">{#Day#}</option>                    <option class="inputOption" value="week">{#Week#}</option>                    <option class="inputOption" value="month">{#Month#}</option>                    <option class="inputOption" value="year">{#Year#}</option>                </select>            </div></div>            <div id="daySelectionArea">                <div class="miniTitle sizedTitle">{#Every X day(s)#}</div>                <div style="position: relative"><div class="inputBox">                    <input type="number" class="base inputBase" name="task" id="dayInterval">                </div></div>            </div>            <div id="weekSelectionArea">                <div class="miniTitle sizedTitle">{#Every X week(s)#}</div>                <div style="position: relative"><div class="inputBox">                    <input type="number" class="base inputBase" name="task" id="weekInterval">                </div></div>                <div class="miniTitle sizedTitle">{#Week days#}</div>                <div style="position: relative"><div class="inputBox">                    <select id="weekDays" class="base inputBase maybeBig" multiple="multiple">                    </select>                </div></div>            </div>            <div id="monthSelectionArea">                <div class="miniTitle sizedTitle">{#Every X month(s)#}</div>                <div style="position: relative"><div class="inputBox">                    <input type="number" class="base inputBase" name="task" id="monthInterval">                </div></div>                <div class="miniTitle sizedTitle">{#Type#}</div>                <div style="position: relative"> <div class="inputBox">                     <select class="base inputBase" id="editRecurrenceMonthType">                        <option class="inputOption" value="date">?</option>                        <option class="inputOption" value="weekday">?</option>                    </select>                </div></div>            </div>            <div id="yearSelectionArea">                <div class="miniTitle sizedTitle">{#Every X year(s)#}</div>                <div style="position: relative"><div class="inputBox">                    <input type="number" class="base inputBase" name="task" id="yearInterval">                </div></div>            </div>            <div class="miniTitle sizedTitle">{#End#}</div>                <div style="position: relative"><div class="inputBox">                     <select class="base inputBase" id="editRecurrenceEnd">                         <option class="inputOption" value="forever">{#Forever#}</option>                         <option class="inputOption" value="untildate">{#End before a date#}</option>                         <option class="inputOption" value="numberoftimes">{#Repeat X times#}</option>                    </select>                </div></div>                <div class="miniTitle sizedTitle" id="numberoftimes_input_title">{#Repeat X times#}</div>                <div style="position: relative"><div class="inputBox">                     <input type="number" class="base inputBase" name="task" id="numberoftimes_input">                </div></div>                <div class="miniTitle sizedTitle" id="untildate_input_title">{#End before#}</div>                <div style="position: relative"><div class="inputBox">                     <input type="date" class="base inputBase inputDate" name="task" id="untildate_input">                </div></div>            </div>        </div></div><br/><br/>\'}reshow(){this.show()}init(t){this.calendarEvent=t}show(){var t=this;e.core.calendarDataProxy.analyticsPage("Edit recurrence page"),this.editPage=e.core.domHandler.pageHtmlFormatHelper("editRecurrence",this.pageHtml),this.editPage.style.display="block",e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements=e.core.domHandler.resizeDomElements.bind(e.core.domHandler),window.setTimeout(e.core.domHandler.resizeDomElements,0),window.setTimeout(e.core.domHandler.resizeDomElements,100);var s=(e.core.settings.titleWidth/e.core.ratio-24)/2;document.getElementById("editRecurrenceOk").style.padding=s+"px",document.getElementById("editRecurrenceCancel").style.padding=s+"px",document.getElementById("editRecurrenceArea").style.top="54px",this.editRecurrenceFrequency=document.getElementById("editRecurrenceFrequency"),this.daySelectionArea=document.getElementById("daySelectionArea"),this.weekSelectionArea=document.getElementById("weekSelectionArea"),this.monthSelectionArea=document.getElementById("monthSelectionArea"),this.yearSelectionArea=document.getElementById("yearSelectionArea"),this.dayInterval=document.getElementById("dayInterval"),this.weekInterval=document.getElementById("weekInterval"),this.monthInterval=document.getElementById("monthInterval"),this.yearInterval=document.getElementById("yearInterval"),this.weekDays=document.getElementById("weekDays"),this.editRecurrenceMonthType=document.getElementById("editRecurrenceMonthType"),this.editRecurrenceEnd=document.getElementById("editRecurrenceEnd"),this.numberoftimes_input_title=document.getElementById("numberoftimes_input_title"),this.untildate_input_title=document.getElementById("untildate_input_title"),this.numberoftimes_input=document.getElementById("numberoftimes_input"),this.untildate_input=document.getElementById("untildate_input"),e.core.domHandler.addWeekDaysToSelectNode(this.weekDays),e.core.domHandler.addEvent("editRecurrenceFrequency","change",this.editRecurrenceFrequencyChanged,this),e.core.domHandler.addEvent("editRecurrenceEnd","change",this.editRecurrenceEndChanged,this),e.core.domHandler.addClickEvent("editRecurrenceOk",this.editRecurrenceOk,this),e.core.domHandler.addClickEvent("editRecurrenceCancel",this.editRecurrenceCancel,this),this.loadSettings=this.loadSettings.bind(this),s=e.core.translate.get("On day %1 of each month").replace("%1",""+this.calendarEvent.startDateTime.getDate()),this.editRecurrenceMonthType[0].text=s;var s=e.core.translate.get("On %1, week %2 of each month"),r=Math.floor(this.calendarEvent.startDateTime.getDate()/7)+1,s=s.replace("%1",""+D(this.calendarEvent.startDateTime).format("dddd")),s=s.replace("%2",""+r);this.editRecurrenceMonthType[1].text=s;var o=this;e.core.dynamicallyLoadFile("libs/rrule.js","js",function(){t.calendarEvent.rruleToSave===void 0&&(t.calendarEvent.rruleToSave=new RRule,t.calendarEvent.rruleToSave.options.count=10,t.calendarEvent.rruleToSave.options.freq=e.RRuleFrequencies.Week,t.calendarEvent.rruleToSave.options.interval=1,t.calendarEvent.rruleToSave.options.byweekday=[t.calendarEvent.startDateTime.getDay()-1]),o.loadSettings(t.calendarEvent.rruleToSave)}),this.editPage.style.display="block"}loadSettings(t){if(this.yearInterval.value=t.options.interval.toString(),this.monthInterval.value=t.options.interval.toString(),this.weekInterval.value=t.options.interval.toString(),this.dayInterval.value=t.options.interval.toString(),t.options.freq==e.RRuleFrequencies.Year)this.editRecurrenceFrequency.value="year";else if(t.options.freq==e.RRuleFrequencies.Month)this.editRecurrenceFrequency.value="month",this.editRecurrenceMonthType.value=t.options.bynweekday==null||t.options.bynweekday.length==0?"date":"weekday";else if(t.options.freq==e.RRuleFrequencies.Week){this.editRecurrenceFrequency.value="week";for(var r=0;r<this.weekDays.options.length;r++)this.weekDays.options[r].selected=!1;this.weekDays.options[0].selected=-1<t.options.byweekday.indexOf(e.RRuleWeekDay.Monday),this.weekDays.options[1].selected=-1<t.options.byweekday.indexOf(e.RRuleWeekDay.Tuesday),this.weekDays.options[2].selected=-1<t.options.byweekday.indexOf(e.RRuleWeekDay.Wednesday),this.weekDays.options[3].selected=-1<t.options.byweekday.indexOf(e.RRuleWeekDay.Thursday),this.weekDays.options[4].selected=-1<t.options.byweekday.indexOf(e.RRuleWeekDay.Friday),this.weekDays.options[5].selected=-1<t.options.byweekday.indexOf(e.RRuleWeekDay.Saturday),this.weekDays.options[6].selected=-1<t.options.byweekday.indexOf(e.RRuleWeekDay.Sunday)}else t.options.freq==e.RRuleFrequencies.Day&&(this.editRecurrenceFrequency.value="day");0<t.options.count?(this.editRecurrenceEnd.value="numberoftimes",this.numberoftimes_input.value=t.options.count.toString()):t.options.until!==void 0&&t.options.until!==null?(this.editRecurrenceEnd.value="untildate",this.untildate_input.value=D(t.options.until).format("YYYY-MM-DD")):this.editRecurrenceEnd.value="forever",this.editRecurrenceEndChanged(null),this.editRecurrenceFrequencyChanged(null)}hide(){e.core.domHandler.removeElement(this.editPage.id)}editRecurrenceFrequencyChanged(t){this.daySelectionArea.style.display="none",this.weekSelectionArea.style.display="none",this.monthSelectionArea.style.display="none",this.yearSelectionArea.style.display="none",this.editRecurrenceFrequency.value=="day"&&(this.daySelectionArea.style.display="block"),this.editRecurrenceFrequency.value=="week"&&(this.weekSelectionArea.style.display="block"),this.editRecurrenceFrequency.value=="month"&&(this.monthSelectionArea.style.display="block"),this.editRecurrenceFrequency.value=="year"&&(this.yearSelectionArea.style.display="block")}editRecurrenceEndChanged(t){this.untildate_input.style.display="none",this.numberoftimes_input.parentElement.parentElement.style.display="none",this.untildate_input_title.style.display="none",this.numberoftimes_input_title.style.display="none",this.editRecurrenceEnd.value=="numberoftimes"&&(this.numberoftimes_input.parentElement.parentElement.style.display="block",this.numberoftimes_input_title.style.display="block"),this.editRecurrenceEnd.value=="untildate"&&(this.untildate_input.style.display="block",this.untildate_input_title.style.display="block")}editRecurrenceOk(t){if(t=new RRule,this.editRecurrenceFrequency.value=="year")t.options.freq=e.RRuleFrequencies.Year,t.options.interval=this.yearInterval.valueAsNumber;else if(this.editRecurrenceFrequency.value=="month"){if(t.options.freq=e.RRuleFrequencies.Month,t.options.interval=this.monthInterval.valueAsNumber,this.editRecurrenceMonthType.value!="date")if(this.editRecurrenceMonthType.value=="weekday"){var r=Math.floor(this.calendarEvent.startDateTime.getDate()/7)+1;t.options.bynweekday=[],t.options.bynweekday.push(r),t.options.bynweekday.push(this.calendarEvent.startDateTime.getDay()-1)}else throw"not date or weekday"}else this.editRecurrenceFrequency.value=="week"?(t.options.freq=e.RRuleFrequencies.Week,t.options.byweekday=[],t.options.interval=this.weekInterval.valueAsNumber,this.weekDays.options[0].selected&&t.options.byweekday.push(e.RRuleWeekDay.Monday),this.weekDays.options[1].selected&&t.options.byweekday.push(e.RRuleWeekDay.Tuesday),this.weekDays.options[2].selected&&t.options.byweekday.push(e.RRuleWeekDay.Wednesday),this.weekDays.options[3].selected&&t.options.byweekday.push(e.RRuleWeekDay.Thursday),this.weekDays.options[4].selected&&t.options.byweekday.push(e.RRuleWeekDay.Friday),this.weekDays.options[5].selected&&t.options.byweekday.push(e.RRuleWeekDay.Saturday),this.weekDays.options[6].selected&&t.options.byweekday.push(e.RRuleWeekDay.Sunday)):this.editRecurrenceFrequency.value=="day"&&(t.options.freq=e.RRuleFrequencies.Day,t.options.interval=this.dayInterval.valueAsNumber);t.options.count=void 0,t.options.until=void 0,this.editRecurrenceEnd.value=="untildate"?t.options.until=new Date(this.untildate_input.value):this.editRecurrenceEnd.value=="numberoftimes"&&(t.options.count=+this.numberoftimes_input.value),this.calendarEvent.rruleToSave=t,this.calendarEvent.isRecurring=this.editRecurrenceFrequency.value!=="none",this.hide(),history.back()}editRecurrenceCancel(t){this.hide(),history.back()}}e.EditRecurrenceControl=J;class Me{constructor(){this.pageHtml=`<div id="editRecurrenceMenu" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div id="editRecurrenceOnlyOne" class="base menuItem">{#Only edit this event#}</div>    <div id="editRecurrenceAll" class="base menuItem">{#Edit the whole series#}</div>    <!--<div id="editRecurrenceFuture" class="base menuItem">{#Edit this and future events#}</div>-->    <div id="editRecurrenceCancel" class="base menuItem">{#Cancel#}</div></div></div></div><div id="noEditMenu" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div class="base menuItemInfo">{#Sorry, this event can\'t be edited#}</div>    <div id="noEditOk" class="base menuItem">{#Ok#}</div></div></div></div><div id="deleteConfirmPopup" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div class="base menuItem" style="text-align:center">{#Delete?#}</div>    <div>        <button id="deleteConfirmCancel" class="topBarButton" style="width:50%"><img src="images/cross.svg" class="topBarImage"/><span>{#Cancel#}</span></button>        <button id="deleteConfirmOk" class="topBarButton" style="width:50%"><img src="images/check.svg" class="topBarImage"/><span>{#Ok#}</span></button>    </div></div></div></div><div id="deleteRecurrenceMenu" class="outer" style="display: none" > <div class="middle" > <div class="inner menu" >    <div id="deleteRecurrenceOnlyOne" class="base menuItem">{#Only delete this event#}</div>    <div id="deleteRecurrenceAll" class="base menuItem">{#Delete the whole series#}</div>    <!--<div id="deleteRecurrenceFuture" class="base menuItem">{#Delete this and future events#}</div>-->    <div id="deleteRecurrenceCancel" class="base menuItem">{#Cancel#}</div></div></div></div><div id="viewEventTopBar" class="topBar">    <button id="viewEventBack" class="topBarButton" style="width:39%">        _insertBackButtonImage        <span id="viewEventBackText" style="color: _buttonImageColor">{#Back#}</span>    </button>    <!--<button id="viewEventMove" class="topBarButton" style="width:?%"><img src="images/clock.svg" class="topBarImage"/><span id="viewEventMoveText">{#Move#}</span></button>-->    <button id="viewEventDelete" class="topBarButton" style="width:23%">        _insertTrashButtonImage    </button>    <button id="viewEventEdit" class="topBarButton" style="width:38%">        _insertPencilButtonImage        <span id="viewEventEditText" style="color: _buttonImageColor">{#Edit#}</span>    </button></div><div class="pageContent" id="viewEventArea" style="float:left">    <div id="viewEventTitle" class="topBarTitleX" style="width:100%"></div>    <div class="pagePadding pageTopPadding" style="padding-left:20px;padding-right:20px;">        <div class="editEventPopupContent" id="editEventPopupContent">            <br>            <br>            <div>                <div class="miniTitle">{#When#}</div>                <div class="pageContentText" id="viewEventTime1"></div>                <div class="pageContentText" id="viewEventTime2"></div>                <br>            </div>            <div id="viewEventBoxWhere">                <div class="miniTitle" id="viewEventTitleWhere">{#Where#}</div>                <div class="pageContentText" id="viewEventLocation"></div>                <br>            </div>            <div id="viewEventBoxDetails">                <div class="miniTitle" id="viewEventTitleDetails">{#Details#}</div>                <div class="pageContentText" id="viewEventDetails" style="white-space: pre-wrap;"></div>                <br>            </div>            <div>                <div class="miniTitle">{#Calendar#}</div>                <div class="pageContentText" id="viewEventCalendar"></div>                <br>            </div>            <div id="viewEventBoxReminders">                <div class="miniTitle">{#Reminders#}</div>                <div class="pageContentText" id="viewEventReminders"></div>                <br>            </div>            <div id="viewEventBoxInvited">                <div class="miniTitle">{#Invited#}</div>                <div class="pageContentText" id="viewEventInvited"></div>                <br>            </div>        </div>    </div></div><br/><br/>`}init(t){this.calendarEvent=t}reshow(){this.show()}show(){e.core.domHandler.hideCanvas(),e.core.calendarDataProxy.analyticsPage("View event page");var t=e.core.domHandler.insertImages(this.pageHtml,e.core.helper.getEventTextColor(this.calendarEvent,e.core.getCalendar(this.calendarEvent.calendarId)));this.viewPage=e.core.domHandler.pageHtmlFormatHelper("viewEvent",t),e.core.domHandler.resizeDomElements(e.core.helper.getEventColor2(this.calendarEvent)),e.core.domHandler.resizeDomElements(e.core.helper.getEventColor2(this.calendarEvent)),t=(e.core.settings.titleWidth/e.core.ratio-24)/2,document.getElementById("viewEventBack").style.padding=t+"px",document.getElementById("viewEventEdit").style.padding=t+"px",document.getElementById("viewEventDelete").style.padding=t+"px",document.getElementById("viewEventArea").style.top="54px",e.core.showBackButtons()?e.core.domHandler.addClickEvent("viewEventBack",this.viewEventBack,this):(e.core.domHandler.removeElement("viewEventBack"),document.getElementById("viewEventEdit").style.width="50%",document.getElementById("viewEventDelete").style.width="50%"),e.core.calendarEventHandler.canEditEvent(this.calendarEvent)?(e.core.domHandler.addClickEvent("viewEventEdit",this.viewEventEdit,this),e.core.domHandler.addClickEvent("viewEventDelete",this.viewEventDelete,this)):(e.core.domHandler.removeElement("viewEventEdit"),e.core.domHandler.removeElement("viewEventDelete"),e.core.showBackButtons()&&(document.getElementById("viewEventBack").style.width="100%")),t=document.createElement("a"),t.href="https://web.archive.org/web/20190808203716/http://maps.google.com/?q="+this.calendarEvent.location,t.className="blueLink",e.core.domHandler.addElement(t,"viewEventLocation"),this.viewPage.style.display="block",document.getElementById("viewEventTitle").textContent=this.calendarEvent.summary,document.getElementById("viewEventTitle").style.color=e.core.helper.getEventTextColor(this.calendarEvent,e.core.getCalendar(this.calendarEvent.calendarId)),t.textContent=this.calendarEvent.location,document.getElementById("viewEventTime1").textContent=e.core.helper.GetDateTimeLine1(this.calendarEvent.startDateTime,this.calendarEvent.endDateTime),document.getElementById("viewEventTime2").textContent=e.core.helper.GetDateTimeLine2(this.calendarEvent.startDateTime,this.calendarEvent.endDateTime),document.getElementById("viewEventDetails").textContent=this.calendarEvent.description,document.getElementById("viewEventCalendar").textContent=e.core.getCalendar(this.calendarEvent.calendarId).name,(this.calendarEvent.location==null||this.calendarEvent.location.length===0)&&(document.getElementById("viewEventBoxWhere").hidden=!0),(this.calendarEvent.description==null||this.calendarEvent.description.length===0)&&(document.getElementById("viewEventBoxDetails").hidden=!0),document.getElementById("viewEventReminders").textContent=this.remindersToString(),(this.calendarEvent.reminders==null||this.calendarEvent.reminders.length===0)&&(document.getElementById("viewEventBoxReminders").hidden=!0),(this.calendarEvent.invited==null||this.calendarEvent.invited.length===0)&&(document.getElementById("viewEventBoxInvited").hidden=!0),this.resize()}resize(){var t;t=this.verifySize("Back",!1),t=this.verifySize("Edit",t),t=this.verifySize("Back",t),this.verifySize("Edit",t)}remindersToString(){if(this.calendarEvent.reminders==null||this.calendarEvent.reminders.length==0)return"None";var t,r="";for(t=0;t<this.calendarEvent.reminders.length;t++)r+=this.reminderToString(this.calendarEvent.reminders[t]),t<this.calendarEvent.reminders.length-1&&(r+=", ");return r}reminderToString(t){return t.minutes==60?"1 hour":t.minutes==90?"1.5 hours":t.minutes==120?"2 hours":t.minutes==180?"3 hours":t.minutes==360?"6 hours":t.minutes==720?"12 hours":t.minutes==1440?"24 hours":t.minutes==2880?"2 days":t.minutes==10080?"1 week":t.minutes+" minutes"}verifySize(t,r){if(document.getElementById("viewEvent"+t)){var l=document.getElementById("viewEvent"+t),s=document.getElementById("viewEvent"+t+"Text"),o=l.offsetWidth,o=o-(l.offsetHeight-10),l=e.core.domHandler.getTextLength(s.textContent,s.style.fontSize);return o<l+18||r?(document.getElementById("viewEvent"+t+"Text").style.display="none",!0):(document.getElementById("viewEvent"+t+"Text").style.display="inline",!1)}}hide(){e.core.appStateHandler.viewEventControlIsShowing=!1,e.core.domHandler.showCanvas(),e.core.domHandler.removeElement(this.viewPage.id)}viewEventBack(t){e.core.appStateHandler.back()}viewEventDelete(t){e.core.calendarEventHandler.canEditEvent(this.calendarEvent)&&(this.calendarEvent.isRecurring&&this.calendarEvent.recurringEventId?this.showDeleteRecurrenceMenu():this.showDeleteConfirm())}deleteEvent(){e.core.appStateHandler.back(),e.core.appStateHandler.deleteEvent(this.calendarEvent,e.EventEditType.DontKnow)}viewEventEdit(t){e.core.calendarEventHandler.canEditEvent(this.calendarEvent)&&(this.calendarEvent.isRecurring&&this.calendarEvent.recurringEventId?e.core.calendarDataProxy.canEditRecurring(this.calendarEvent)?this.showEditRecurrenceMenu():this.showNoEditMenu():(e.core.appStateHandler.back(),e.core.appStateHandler.editEvent(this.calendarEvent,e.EventEditType.DontKnow)))}showNoEditMenu(){document.getElementById("noEditMenu").style.display="table",e.core.domHandler.addClickEvent("noEditOk",this.hideNoEditMenu,this)}hideNoEditMenu(){document.getElementById("noEditMenu").style.display="none"}showDeleteConfirm(){document.getElementById("deleteConfirmPopup").style.display="table",e.core.domHandler.addClickEvent("deleteConfirmOk",this.deleteEvent,this),e.core.domHandler.addClickEvent("deleteConfirmCancel",this.hideDeleteConfirm,this)}showEditRecurrenceMenu(){document.getElementById("editRecurrenceMenu").style.display="table",e.core.domHandler.addClickEvent("editRecurrenceOnlyOne",this.editRecurrenceOnlyOne,this),e.core.domHandler.addClickEvent("editRecurrenceAll",this.editRecurrenceAll,this),e.core.domHandler.addClickEvent("editRecurrenceCancel",this.hideEditRecurrenceMenu,this)}editRecurrenceOnlyOne(){this.hideEditRecurrenceMenu(),e.core.appStateHandler.back(),e.core.appStateHandler.editEvent(this.calendarEvent,e.EventEditType.ThisOnly)}editRecurrenceAll(){this.hideEditRecurrenceMenu(),e.core.appStateHandler.back(),e.core.appStateHandler.editEvent(this.calendarEvent,e.EventEditType.AllInSeries)}editRecurrenceFuture(){this.hideEditRecurrenceMenu(),e.core.appStateHandler.back(),e.core.appStateHandler.editEvent(this.calendarEvent,e.EventEditType.ThisAndFuture)}hideEditRecurrenceMenu(){document.getElementById("editRecurrenceMenu").style.display="none"}hideDeleteConfirm(){document.getElementById("deleteConfirmPopup").style.display="none"}showDeleteRecurrenceMenu(){document.getElementById("deleteRecurrenceMenu").style.display="table",e.core.domHandler.addClickEvent("deleteRecurrenceOnlyOne",this.deleteRecurrenceOnlyOne,this),e.core.domHandler.addClickEvent("deleteRecurrenceAll",this.deleteRecurrenceAll,this),e.core.domHandler.addClickEvent("deleteRecurrenceCancel",this.hideDeleteRecurrenceMenu,this)}deleteRecurrenceOnlyOne(){this.hideDeleteRecurrenceMenu(),e.core.appStateHandler.back(),e.core.appStateHandler.deleteEvent(this.calendarEvent,e.EventEditType.ThisOnly)}deleteRecurrenceAll(){this.hideDeleteRecurrenceMenu(),e.core.appStateHandler.back(),e.core.appStateHandler.deleteEvent(this.calendarEvent,e.EventEditType.AllInSeries)}deleteRecurrenceFuture(){this.hideDeleteRecurrenceMenu(),e.core.appStateHandler.back(),e.core.appStateHandler.deleteEvent(this.calendarEvent,e.EventEditType.ThisAndFuture)}hideDeleteRecurrenceMenu(){document.getElementById("deleteRecurrenceMenu").style.display="none"}viewEventMove(t){this.hide(),e.core.calendarEventHandler.canEditEvent(this.calendarEvent)&&e.core.appStateHandler.startMoveCalendarEventObject(this.calendarEvent,e.core.domHandler.screenWidth/2,e.core.domHandler.screenHeight/2,e.EventEditType.DontKnow)}}e.ViewEventControl=Me;class St{constructor(){this.monthesShort=new e.Hashtable,this.monthesLong=new e.Hashtable,this.weekdayShort=new e.Hashtable,this.weekdayLong=new e.Hashtable}colorToRGBA(t,r){var s=parseInt(t.substr(1),16);return"rgba("+(s>>16&255)+","+(s>>8&255)+","+(s&255)+","+r+")"}GetDateTimeLine1(t,r){var s=D(t),o=D(r);return this.IsSameDay(s,o)?s.format("dddd")+", "+s.format("LL"):s.hours()==0&&s.minutes()?s.format("dddd")+", "+s.format("LL")+" - ":s.format("dddd")+", "+s.format("LLL")+" - "}GetDateTimeLine2(t,r){var s=D(t),o=D(r);return this.IsSameDay(s,o)?s.hours()==0&&s.minutes()==0&&(o.hours()==23&&o.minutes()==59||o.hours()==0&&o.minutes()==0)?"":s.format("LT")+" - "+o.format("LT"):s.hours()==0&&s.minutes()?o.format("dddd")+", "+o.format("LL"):o.format("dddd")+", "+o.format("LLL")}IsSameDay(t,r){return t.format("L")==r.clone().subtract(1,"minutes").format("L")}GetDateWithWeekDay(t){return t=D(t),t.format("dddd")+", "+t.format("LL")}GetTime(t){return D(t).format("LT")}isNullOrEmpty(t){return!t||t.length===0}isAndroid(){return navigator.userAgent.match(/Android/i)}isBlackBerry(){return navigator.userAgent.match(/BlackBerry/i)}isiOS(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)}isOpera(){return navigator.userAgent.match(/Opera Mini/i)}isWindows(){return navigator.userAgent.match(/IEMobile/i)}isMobile(){return this.isAndroid()||this.isBlackBerry()||this.isiOS()||this.isOpera()||this.isWindows()}sortCalendars(){e.core.calendars.sort(function(l,c){return c.id==e.core.calendarPrimaryId?1:l.id==e.core.calendarPrimaryId?-1:c.canEditCalendarEvents&&!l.canEditCalendarEvents?1:l.canEditCalendarEvents&&!c.canEditCalendarEvents?-1:l.allEventsAreFullDay&&!c.allEventsAreFullDay?1:c.allEventsAreFullDay&&!l.allEventsAreFullDay?-1:l.countEvents-c.countEvents});for(var t=0,r=e.core.settings.theme.eventColors.length-1,s=0;s<e.core.calendars.length;s++)if(e.core.calendars[s].allEventsAreFullDay&&!e.core.calendars[s].canEditCalendarEvents?(e.core.calendars[s].colorId=r,r--):(e.core.calendars[s].colorId=t,t++),0>e.core.calendars[s].colorId&&(e.core.calendars[s].colorId=0),e.core.calendars[s].colorId>e.core.settings.theme.eventColors.length&&(e.core.calendars[s].colorId=e.core.settings.theme.eventColors.length-1),e.core.commonUserSettings.licenceColorPicker&&e.core.commonUserSettings.savedCalendarColors&&e.core.commonUserSettings.savedCalendarColors.containsKey(e.core.calendars[s].id)){var o=e.core.commonUserSettings.savedCalendarColors[e.core.calendars[s].id];-1<Number(o)&&100>Number(o)&&(e.core.calendars[s].colorId=o)}}replaceAll(t,r,s){return t.split(r).join(s)}canShowDatePicker(){return!!e.core.isCordovaApp}setCalendarColorId(t,r){var s=e.core.commonUserSettings.savedCalendarColors;e.core.commonUserSettings.licenceColorPicker&&s&&s.containsKey(t)?s[t]=r:s.add(t,r),e.core.commonUserSettings.savedCalendarColors=s}getEventColor2(t){return this.getEventColor(t,e.core.getCalendar(t.calendarId))}getEventTextColor(t,r){var s=e.core.settings.theme.eventTextColors[r.colorId%e.core.settings.theme.eventColors.length];return t&&t.androidColorNum!=null&&t.extraColorId==null&&(t.extraColorId=this.getColorIdFromAndroidNum(t.androidColorNum)),t&&t.extraColorId?e.core.settings.theme.eventTextColors[t.extraColorId%e.core.settings.theme.eventTextColors.length]:s}getCalendarColor(t){return e.core.settings.theme.eventColors[t.colorId%e.core.settings.theme.eventColors.length]}getEventColor(t,r){var s=e.core.settings.theme.eventColors[r.colorId%e.core.settings.theme.eventColors.length];return t&&t.androidColorNum!=null&&t.extraColorId==null&&(t.extraColorId=this.getColorIdFromAndroidNum(t.androidColorNum)),t&&t.extraColorId?e.core.settings.theme.eventColors[t.extraColorId%e.core.settings.theme.eventColors.length]:(s===""&&r.colorId===0&&(t==null?s=e.core.settings.theme.eventColorsForFirstCalendar[3]:(s=t.endZOP-t.startZOP,s=s<e.core.zopHandler.zopSizeOfHour-e.core.zopHandler.zopSizeOf5Minutes?e.core.settings.theme.eventColorsForFirstCalendar[4]:s<e.core.zopHandler.zopSizeOfHour+e.core.zopHandler.zopSizeOf5Minutes?e.core.settings.theme.eventColorsForFirstCalendar[3]:s<e.core.zopHandler.zopSizeOfDay-e.core.zopHandler.zopSizeOf5Minutes?e.core.settings.theme.eventColorsForFirstCalendar[2]:s<e.core.zopHandler.zopSizeOfDay+e.core.zopHandler.zopSizeOf5Minutes?e.core.settings.theme.eventColorsForFirstCalendar[1]:e.core.settings.theme.eventColorsForFirstCalendar[0])),s)}getAndroidNumFromColor(t){return t=this.hexToRgb(t),-16777216+(t[0]<<16)+(t[1]<<8)+t[2]}fillLeadingZeros(t,r){var s="000000000"+t;return s.substr(s.length-r)}getColorIdFromAndroidNum(t){t=+t;var r=t>>8&255,s=t&255;t="#"+this.fillLeadingZeros((t>>16&255).toString(16),2)+this.fillLeadingZeros(r.toString(16),2)+this.fillLeadingZeros(s.toString(16),2);for(var r=-1,s=1e5,o,l=0;l<e.core.settings.theme.eventColors.length;l++)o=this.getColorDistance(t,e.core.settings.theme.eventColors[l]),o<s&&(s=o,r=l);return r}getColorDistance(t,r){for(var s=0,o=0,l=this.hexToRgb(t),c=this.hexToRgb(r),p=-1,f=-1,g=-1,m=256,S=-1,M=-1,_=-1,j=256,B=0;B<l.length;B++)o+=(c[B]-l[B])/l.length,f<l[B]&&(f=l[B],p=B),m>l[B]&&(m=l[B],g=B),M<c[B]&&(M=c[B],S=B),j>c[B]&&(j=c[B],_=B);for(o/=2,B=0;B<l.length;B++)f=(l[B]+o-c[B])/50,s+=f*f*f*f;return s+=Math.abs(o/150),p!=S&&(s=1.25*s+.25),g!=_&&(s=1.1*s+.1),s}hexToRgb(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]}addUserTimeZoneSetting(t){var r=e.core.commonUserSettings.getCachedTimeZoneDiffInMinutes();return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+r),t}removeUserTimeZoneSetting(t){var r=e.core.commonUserSettings.getCachedTimeZoneDiffInMinutes();return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()-r),t}getNumberFromString(t,r){return isNaN(+t)?r:+t}}e.Helper=St;class Mr{constructor(){this.canvasMenuContext=this.canvasMenu=this.canvasContext=this.canvas=void 0,this.screenLeftForDOM=this.screenTopForDOM=this.screenHeightForDOM=this.screenWidthForDOM=this.screenHeight=this.screenWidth=0,this.backButtonImage=\'        <span class="topBarImage" style="display: inline-block; fill: _buttonImageColor">            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 48 48" height="100%">                <path d="M20 8q0.828 0 1.414 0.586t0.586 1.414q0 0.844-0.594 1.422l-10.578 10.578h31.172q0.828 0 1.414 0.586t0.586 1.414-0.586 1.414-1.414 0.586h-31.172l10.578 10.578q0.594 0.578 0.594 1.422 0 0.828-0.586 1.414t-1.414 0.586q-0.844 0-1.422-0.578l-14-14q-0.578-0.609-0.578-1.422t0.578-1.422l14-14q0.594-0.578 1.422-0.578z" > </path>            </svg>        </span>\',this.pencilButtonImage=\'        <span class="topBarImage" style="display: inline-block; fill: _buttonImageColor">            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="100%" viewBox="0 0 48 48">                <path d="M40.5 0c4.142 0 7.5 3.358 7.5 7.5 0 1.688-0.558 3.246-1.5 4.5l-3 3-10.5-10.5 3-3c1.254-0.942 2.811-1.5 4.5-1.5zM3 34.5l-3 13.5 13.5-3 27.75-27.75-10.5-10.5-27.75 27.75zM33.543 17.043l-21 21-2.585-2.585 21-21 2.585 2.585z"></path>            </svg>        </span>\',this.trashButtonImage=\'        <span class="topBarImage" style="display: inline-block; fill: _buttonImageColor">            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="100%" viewBox="0 0 48 48">                <path d="M20 2h8q2.484 0 4.242 1.758t1.758 4.242v2h8q0.828 0 1.414 0.586t0.586 1.414-0.586 1.414-1.414 0.586h-2v24q0 2.484-1.758 4.242t-4.242 1.758h-20q-2.484 0-4.242-1.758t-1.758-4.242v-24h-2q-0.828 0-1.414-0.586t-0.586-1.414 0.586-1.414 1.414-0.586h8v-2q0-2.484 1.758-4.242t4.242-1.758zM36 38v-24h-24v24q0 0.828 0.586 1.414t1.414 0.586h20q0.828 0 1.414-0.586t0.586-1.414zM28 6h-8q-0.828 0-1.414 0.586t-0.586 1.414v2h12v-2q0-0.828-0.586-1.414t-1.414-0.586z"></path>            </svg>        </span>\',this.alreadyFadedIn=!1,this.getTextLength=function(t,r){var s=document.getElementById("ruler");return s.style.fontSize=r,s.innerHTML=t,s.offsetWidth},this.tryCreateHtmlElements()}init(){e.core.mainMenuControl=new e.MainMenuControl,e.core.addButtonControl=new e.AddButtonControl,e.core.zopDrawArea.init(this.canvas,this.canvasContext)}getElement(t){return document.getElementById(t)}addElement(t,r){return this.getElement(t.id)?t:this.getElement(r).appendChild(t)}addDiv(t,r,s){if(this.getElement(t))return this.getElement(t);var o=document.createElement("div");return o.id=t,o.className=r,this.addElement(o,s)}showCanvas(){e.core.calendarDataProxy.analyticsPage("Main page"),this.addElement(this.canvas,document.body.id),this.resetDrawAreaSize_Delayed(),e.core.redraw(!0),window.setTimeout(function(){return e.core.redraw(!0)},100)}insertImages(t,r){var s=e.core.helper.replaceAll(t,"_insertBackButtonImage",this.backButtonImage),s=e.core.helper.replaceAll(s,"_insertPencilButtonImage",this.pencilButtonImage),s=e.core.helper.replaceAll(s,"_insertTrashButtonImage",this.trashButtonImage);return s=e.core.helper.replaceAll(s,"_buttonImageColor",r)}hideCanvas(){this.removeElement(this.canvas.id)}pageHtmlFormatHelper(t,r){for(var s=e.core.domHandler.addDiv(t,"page","pageRoot"),o=e.core.domHandler.addDiv(t+"inner","pageInner",t),l=0;l<e.core.translate.keys.length;l++)r=this.replaceMultiple(r,"{#"+e.core.translate.keys[l]+"#}",e.core.translate.get(e.core.translate.keys[l]));return o.innerHTML=r,s}replaceMultiple(t,r,s){return t.split(r).join(s)}removeElement(t){(t=this.getElement(t))&&t.parentNode&&t.parentNode.removeChild(t)}addEvent(t,r,s,o){s=s.bind(o),this.getElement(t).addEventListener(r,s,!1)}addClickEvent(t,r,s){this.addEvent(t,"click",r,s)}touchClickDown(t){}touchClickUp(t){}tryCreateHtmlElements(){this.canvas===void 0&&(this.canvas=document.createElement("canvas"),this.canvas.id="canvas",document.body.appendChild(this.canvas),this.canvasContext=this.canvas.getContext("2d")),this.canvasMenu===void 0&&(this.canvasMenu=document.createElement("canvas"),this.canvasMenu.id="canvasMenu",document.body.appendChild(this.canvasMenu),this.canvasMenuContext=this.canvasMenu.getContext("2d"))}resetDrawAreaSize_Delayed(){this.resetDrawAreaSize()}resetDrawAreaSize(){var t=document.querySelector(\'meta[name="viewport"]\');t&&t.content.match(/width=device-width/)&&(t.content=t.content.replace(/width=[^,]+/,"width=1"),t.content=t.content.replace(/width=[^,]+/,"width="+window.innerWidth)),window.devicePixelRatio&&window.devicePixelRatio!==0&&e.core.ratio!==window.devicePixelRatio&&(e.core.ratio=window.devicePixelRatio),(this.screenWidthForDOM!==window.innerWidth||this.screenHeightForDOM!==window.innerHeight)&&(this.screenWidthForDOM=window.innerWidth,this.screenHeightForDOM=window.innerHeight);var t=window.msMatchMedia||window.MozMatchMedia||window.WebkitMatchMedia||window.matchMedia,r="onorientationchange"in window,s=void 0;typeof t<"u"&&window.matchMedia("(orientation: portrait)").matches?s=!0:typeof t<"u"&&window.matchMedia("(orientation: landscape)").matches?s=!1:r&&window.orientation==0||window.orientation==180?s=!0:(r&&window.orientation==0||window.orientation==180)&&(s=!1),s!=null?(s?(this.screenWidthForDOM!==Math.min(window.innerWidth,window.innerHeight)&&(this.screenWidthForDOM=Math.min(window.innerWidth,window.innerHeight)),this.screenHeightForDOM!==Math.max(window.innerWidth,window.innerHeight)&&(this.screenHeightForDOM=Math.max(window.innerWidth,window.innerHeight)),t=Math.min(screen.width,screen.height)):(this.screenWidthForDOM!==Math.max(window.innerWidth,window.innerHeight)&&(this.screenWidthForDOM=Math.max(window.innerWidth,window.innerHeight)),this.screenHeightForDOM!=Math.min(window.innerWidth,window.innerHeight)&&(this.screenHeightForDOM=Math.min(window.innerWidth,window.innerHeight)),t=Math.max(screen.width,screen.height)),t<.9*this.screenWidthForDOM&&e.core.domRatio!==t/this.screenWidthForDOM?e.core.domRatio=t/this.screenWidthForDOM:e.core.domRatio!==1&&(e.core.domRatio=1)):e.core.domRatio=1,t=document.getElementById("phone"),this.screenLeftForDOM=this.screenTopForDOM=0,this.screenWidthForDOM=Math.floor(this.screenWidthForDOM),this.screenHeightForDOM=Math.floor(this.screenHeightForDOM),t?(t.className="phone_js_resize",t.style.width=Math.floor(.55*window.innerHeight)+"px",this.screenWidthForDOM=Math.floor(.75*t.clientWidth)-2,this.screenHeightForDOM=Math.floor(.64*t.clientHeight),r=t.getBoundingClientRect(),s=r.left+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),this.screenTopForDOM=Math.floor(r.top+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+(t.clientHeight-this.screenHeightForDOM)/2),this.screenLeftForDOM=Math.floor(s+(t.clientWidth-this.screenWidthForDOM)/2)+1,r=document.getElementById("bg"),r.className="bg_js_resize",r.style.top=Math.floor(.32*window.innerHeight+0)+"px",r.style.height=Math.floor(1.05*window.innerHeight+0)+"px",r=document.getElementById("logowrapper"),r.className="",r.style.height=Math.floor(.35*window.innerHeight+0)+"px",r=document.getElementById("phonewrapper"),r.className="",r.style.height=Math.floor(1.05*window.innerHeight+0)+"px",r=document.getElementById("logo"),r.className="logo",r.style.fontSize=.25*window.innerHeight+0+"px",r=document.getElementById("logosub"),r.className="logosub",r.style.fontSize=.05*window.innerHeight+0+"px",r.style.top=Math.floor(.05*-window.innerHeight+0)+"px",r=document.getElementById("pageRoot"),r.style.width=this.screenWidthForDOM+"px",r.style.height=this.screenHeightForDOM+"px",r.style.position="absolute",r.style.top=this.screenTopForDOM+"px",r.style.left=this.screenLeftForDOM+"px",e.core.settings.zoom=Math.max(.67,Math.min(1,Math.min(e.core.domHandler.screenWidthForDOM,e.core.domHandler.screenHeightForDOM)/300))):e.core.settings.zoom=1,this.tryCreateHtmlElements(),this.screenWidth=Math.round(this.screenWidthForDOM*e.core.ratio*e.core.domRatio),this.screenHeight=Math.round(this.screenHeightForDOM*e.core.ratio*e.core.domRatio),e.core.setSizeSettings(),this.canvas.style.width=this.screenWidthForDOM+"px",this.canvas.style.height=this.screenHeightForDOM+"px",this.canvas.style.position="absolute",this.canvas.style.top=this.screenTopForDOM+"px",this.canvas.style.left=this.screenLeftForDOM+"px",this.canvas.style.zIndex="2",this.canvas.width=this.screenWidth,this.canvas.height=this.screenHeight,e.core.settings.menuButtonBottom=.875*e.core.settings.titleWidth,this.canvasMenu.style.width=this.canvas.style.width,this.canvasMenu.style.height=this.canvas.style.height,this.canvasMenu.style.position=this.canvas.style.position,this.canvasMenu.style.zIndex="10",this.canvasMenu.width=this.canvas.width,this.canvasMenu.height=this.canvas.height,this.canvasMenu.style.display="none",this.canvasMenu.style.top=this.canvas.style.top,this.canvasMenu.style.left=this.canvas.style.left,t||window.scrollTo(0,0),e.core.zopDrawArea.resetDrawAreaSize(this.screenHeight,this.screenWidth),e.core.mainMenuControl.resetDrawAreaSize(this.screenHeight,this.screenWidth),e.core.calendarEventHandler.drawAreaResized(),e.core.mainMenuControl.drawAreaResized(),e.core.addButtonControl.drawAreaResized(),e.core.appStateHandler.viewEventControl.resize(),e.core.appStateHandler.sizesInitiated=!0,this.resizeDomElements(),e.core.preloadAllImages(),e.core.redraw(!0),this.fadeInIfWebPage()}fadeInIfWebPage(){this.alreadyFadedIn||(document.getElementById("phone")&&($(".innerX").animate({opacity:1},2e3),$("#canvas").animate({opacity:1},2e3)),this.alreadyFadedIn=!0)}resizeDomElements(t){t===void 0&&(t="");var r=Math.min(24,Math.max(11,Math.min(e.core.domHandler.screenWidthForDOM,e.core.domHandler.screenHeightForDOM)/19)),s=Math.min(16,Math.max(10,Math.min(e.core.domHandler.screenWidthForDOM,e.core.domHandler.screenHeightForDOM)/23)),o=2*r,l=r-11+2,c=Math.max(2*l,13),p=Math.floor(r/8),f,g=document.querySelectorAll(".pageInner");(t==null||4>t.length)&&(t=e.core.settings.theme.colorTitleBackground);for(var m=0;m<g.length;m++)g[m].style.backgroundColor=e.core.settings.theme.colorBackground;for(g=document.querySelectorAll(".pageContent"),m=0;m<g.length;m++)g[m].style.fontFamily=\'"\'+e.core.settings.theme.textFont+\'", arial, sans-serif\',g[m].style.backgroundColor="rgba(125, 125, 125, 0.08)";for(g=document.querySelectorAll(".topBarTitleX"),m=0;m<g.length;m++)g[m].style.fontFamily=\'"\'+e.core.settings.theme.titleBarFontBold+\'", arial, sans-serif\';for(g=document.querySelectorAll(".topBar, .topBarTitle, .topBarButton, .menuItem, .topBarTitleX, .shopItemButton"),m=0;m<g.length;m++)g[m].style.backgroundColor=t;for(g=document.querySelectorAll(".pageTopPadding"),m=0;m<g.length;m++)g[m].style.paddingTop=c+"px",g[m].style.paddingBottom=c+"px";for(g=document.querySelectorAll(".pageSecondTopPadding"),m=0;m<g.length;m++)g[m].style.marginTop="-"+c+"px",g[m].style.paddingTop=c+"px",g[m].style.paddingBottom=c+"px",g[m].style.borderTopColor=e.core.settings.theme.colorWhite,g[m].style.borderTopStyle="solid",g[m].style.borderTopWidth=l+"px";for(g=document.querySelectorAll(".inputBox"),m=0;m<g.length;m++)g[m].style.position="absolute",g[m].style.maxWidth="700px",g[m].style.marginBottom=c+"px",g[m].style.left=c+"px",g[m].style.overflow="hidden",g[m].style.right=c+"px",g[m].style.backgroundColor=e.core.settings.theme.colorBackground,g[m].parentElement.style.height=Math.max(3*c,g[m].offsetHeight+c)+"px",f=g[m].clientWidth;for(g=document.querySelectorAll(".noLeftRightMargin"),m=0;m<g.length;m++)g[m].style.right="0",g[m].style.left="0";for(g=document.querySelectorAll("#spaceForColors"),m=0;m<g.length;m++)g[m].style.maxWidth="700px",g[m].style.marginTop="0",g[m].style.marginBottom=c+"px",g[m].style.marginLeft=c+"px",g[m].style.marginRight=c+"px";for(g=document.querySelectorAll(".lessSpace"),m=0;m<g.length;m++)g[m].parentElement.style.height=g[m].offsetHeight+c+"px";for(g=document.querySelectorAll(".transparent"),m=0;m<g.length;m++)g[m].style.backgroundColor="transparent";for(g=document.querySelectorAll(".square"),m=0;m<g.length;m++)g[m].style.height=o+"px",g[m].style.width=o+"px",g[m].style.position="relative",g[m].style.cssFloat="right",g[m].style.right=c+"px",g[m].style.marginBottom=c+"px";for(g=document.querySelectorAll(".base"),m=0;m<g.length;m++)g[m].style.fontSize=r+"px",g[m].style.lineHeight=o+p+"px",g[m].style.height=o+"px",g[m].style.paddingLeft=l+"px",g[m].style.paddingRight=l+"px",g[m].style.outline="none",g[m].style.minHeight="0",g[m].style.fontFamily="Roboto",g[m].style.color=e.core.settings.theme.colorGrayText,g[m].style.whiteSpace="nowrap";for(g=document.querySelectorAll(".inputBase"),m=0;m<g.length;m++)g[m].style.backgroundColor="transparent",g[m].style.width=f-2*l+"px";for(g=document.querySelectorAll(".inputTab"),m=0;m<g.length;m++)g[m].style.backgroundColor=e.core.settings.theme.colorBackground,g[m].style.lineHeight="0",g[m].style.width=f/2-1*l+"px",g[m].style.display="inline-block",g[m].style.position="absolute",g[m].style.textAlign="center";for(g=document.querySelectorAll(".right"),m=0;m<g.length;m++)g[m].style.right="0";for(g=document.querySelectorAll(".menuItem"),m=0;m<g.length;m++)g[m].style.borderTopColor=e.core.settings.theme.colorWhite,g[m].style.color=e.core.settings.theme.colorTagText,g[m].style.height="",g[m].style.paddingTop=l+"px",g[m].style.paddingBottom=l+"px",g[m].style.whiteSpace="normal";for(g=document.querySelectorAll(".inputOneLiner"),m=0;m<g.length;m++)g[m].style.height=o+"px",this.addEvent(g[m].id,"keydown",this.overrideEnter,this);for(g=document.querySelectorAll(".inputTwoLiner"),m=0;m<g.length;m++)g[m].style.height=2*o+"px",g[m].style.lineHeight=1.2*r+"px",g[m].style.width=f-2*l+"px";if(g=document.querySelectorAll(".maybeBig"),!new e.Helper().isMobile())for(m=0;m<g.length;m++)g[m].style.height=6*o+"px",g[m].style.lineHeight=1.3*r+"px",g[m].style.width="100%",g[m].style.backgroundColor=e.core.settings.theme.colorBackground;for(g=document.querySelectorAll(".inputDate"),m=0;m<g.length;m++)g[m].style.left=c+"px",g[m].style.width=f-2*l+"px";for(g=document.querySelectorAll(".tableWithMargin"),m=0;m<g.length;m++)g[m].style.marginRight=c+"px";for(g=document.querySelectorAll(".inputCheckBox"),m=0;m<g.length;m++)g[m].style.width=o+"px",g[m].style.backgroundColor="transparent",e.core.commonUserSettings.theme=="3"?g[m].style.webkitAppearance="none":g[m].style.fontSize="0";if(g=document.querySelectorAll(".androidDown"),new e.Helper().isAndroid())for(m=0;m<g.length;m++)g[m].style.position="relative",g[m].style.top=Math.ceil(.8*l)+"px",g[m].style.left="0",g[m].style.paddingTop="0",g[m].style.paddingBottom="0",g[m].style.paddingLeft=l/2+"px",g[m].style.paddingRight=l/2+"px",g[m].style.width=f-l+"px",g[m].style.marginTop="0",g[m].style.marginBottom=l+"px",g[m].style.height="0",g[m].style.lineHeight=o-l+"px",g[m].style.height=o-r+"px",g[m].parentElement.style.height=o+p+"px";for(g=document.querySelectorAll(".dateFake"),m=0;m<g.length;m++)g[m].style.position="absolute",g[m].style.background=e.core.settings.theme.colorBackground,g[m].style.left="0",g[m].style.pointerEvents="none",g[m].style.top="0",g[m].style.right=3*c+"px",g[m].style.width="80%",g[m].style.overflow="hidden";for(g=document.querySelectorAll(".sizedTitle"),m=0;m<g.length;m++)g[m].style.position="relative",g[m].style.fontSize=s+"px",g[m].style.paddingLeft=c+"px",g[m].style.paddingRight=c+"px";for(g=document.querySelectorAll(".miniTitle, .shopItemTitle, .shopItemDescription"),m=0;m<g.length;m++)g[m].style.color=e.core.settings.theme.colorHorizontalTitle;for(g=document.querySelectorAll(".miniTitle"),m=0;m<g.length;m++)g[m].style.color=e.core.helper.colorToRGBA(e.core.settings.theme.colorHorizontalTitle,.5);for(g=document.querySelectorAll(".pageContentText"),m=0;m<g.length;m++)g[m].style.color=e.core.settings.theme.colorHorizontalTitle;for(g=document.querySelectorAll(".inputOption"),m=0;m<g.length;m++)g[m].style.paddingTop=l+"px",g[m].style.backgroundColor=e.core.settings.theme.colorBackground}overrideEnter(t){if(t.which==13&&t.target.type!="textarea"&&t.target.type!="button")return t.target.blur(),!1}getSelectOptions(t){for(var r="",s=0;s<t.options.length;s++)t.options[s].selected&&(r+=t.options[s].value);return r}selectWeekDays(t,r){for(var s=0;s<t.options.length;s++)t.options[s].selected=-1<r.indexOf(t.options[s].value)}addWeekDaysToSelectNode(t){for(var r,s=1;7>=s;s++)r=new Option(e.core.helper.weekdayLong.find(s),""+s,!1,!1),r.className="inputOption",t.appendChild(r)}addRemindersToSelectNode(t,r){var s=[],o=D(),l=o.clone().add("minutes",0);s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",1),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",5),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",10),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",15),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",20),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",25),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",30),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",45),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("hours",1),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("minutes",90),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("hours",2),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("hours",3),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("hours",6),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("hours",12),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("days",1),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("days",2),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0))),l=o.clone().add("days",7),s.push(new e.NumberStringPair(l.diff(o,"minutes"),l.from(o,!0)));for(var c=0;c<r.length;c++)l=o.clone().add("minutes",r[c].minutes),this.addSortedIfNotExists(s,new e.NumberStringPair(r[c].minutes,l.from(o,!0)));for(t.innerHTML="",o=0;o<s.length;o++){for(l=!1,c=0;c<r.length;c++)r[c].minutes==s[o].valueNumber&&(l=!0);c=new Option(s[o].valueString,""+s[o].valueNumber,!1,l),c.className="inputOption",t.appendChild(c)}}selectDuration(t,r,s){}addDurationsToSelectNode(t,r,s){var o=[];r=D(r);var l=r.clone().add("minutes",1),c=r.clone().add("minutes",15);for(o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",30),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",45),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",60),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",75),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",90),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",105),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",120),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("minutes",150),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("hours",3),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("hours",4),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("hours",6),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("hours",8),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("hours",12),o.push(new e.NumberStringPair(c.diff(r),c.from(r,!0))),c=r.clone().add("days",1),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",2),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",3),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",4),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",5),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",6),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",7),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",8),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",9),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",10),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",14),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("days",21),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("months",1),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("months",2),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("months",3),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("months",4),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("months",6),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=r.clone().add("months",12),o.push(new e.NumberStringPair(c.diff(l),c.from(r,!0))),c=D(s),this.addSortedIfNotExists(o,new e.NumberStringPair(c.diff(r),c.from(r,!0))),t.innerHTML="",l=0;l<o.length;l++)s=new Option(o[l].valueString,""+o[l].valueNumber,!1,o[l].valueNumber===c.diff(r)),s.className="inputOption",t.appendChild(s)}addSortedIfNotExists(t,r){for(var s=t.length,o=!1,l=0;l<s&&o==0;l++)r.valueNumber<t[l].valueNumber&&(t.splice(l,0,r),o=!0),r.valueNumber===t[l].valueNumber&&(o=!0);o===!1&&t.push(r)}}e.DomHandler=Mr;class Pr{constructor(){this.showMessage=!1,this.loadingCounter=0}showLoadingSpinnerIfNeeded(){if(0<this.loadingCounter){if(!e.core.calendarDataProxy.connectionOk()||2e4<e.core.getTimeStamp()-this.loadStartTime&&24e3>e.core.getTimeStamp()-this.loadStartTime)this.loadingCounter=0,this.showMessage=!0,this.messageStartTime=e.core.getTimeStamp();else if(e.core.drawArea&&e.core.zopDrawArea){var t=e.core.getTimeStamp()%1e3/1e3*2*Math.PI;e.core.drawArea.drawLoader(t)}}else 0>this.loadingCounter&&(this.loadingCounter=0);this.showMessage&&(5e3>e.core.getTimeStamp()-this.messageStartTime?(e.core.drawArea.drawFilledRectangle({x:0,y:0,width:e.core.zopDrawArea.zopAreaWidth,height:e.core.settings.titleWidth+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,fillStyle:e.core.settings.theme.colorRed,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawCenteredText(e.core.translate.get("Connection failed"),0,(e.core.settings.titleWidth+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-e.core.settings.menuTextHeight)/2,e.core.zopDrawArea.zopAreaWidth,e.core.settings.menuTextHeight,e.core.settings.theme.colorWhite,!1,!1),e.core.redraw(!0)):this.showMessage=!1)}isLoading(){return 0<this.loadingCounter}startLoading(){this.showMessage=!1,e.core.eventHandler.closeAllPagesAndMenus(),0>this.loadingCounter?this.loadingCounter=1:this.loadingCounter++,e.core&&(this.loadStartTime=e.core.getTimeStamp(),e.core.redraw(!0))}stopLoadingWithError(){this.showMessage=!0,this.stopLoading()}stopLoading(){this.loadingCounter=0,e.core.redraw(!0)}}e.LoadingHandler=Pr;class br{constructor(){this.isEditingEvent=0,this.isCreatingNewEvent=0,this.isChoosingDateTimeForEvent=!1,this.isAutoZooming=0,this.isAutoScrolling=0,this.isManuallyZooming=0,this.isManuaullyScrolling=0,this.isPopupEditRecurringMenuShowing=!1,this.isPopupMainMenuShowing=!1,this.isMainMenuBeingDragged=!1,this.isAddButtonBeingDragged=!1,this.isMainMenuShowing=!1,this.isPopupDissabled=0,this.sizesInitiated=!1,this.settingsControlIsShowing=!1,this.shopControlIsShowing=!1,this.calendarsControlIsShowing=!1,this.editEventControlIsShowing=!1,this.viewEventControlIsShowing=!1,this.isDraggingBottomMarker=!1,this.isDraggingTopMarker=!1,this.visibleControls=[],this.settingsControl=new e.SettingsControl,this.calendarsControl=new e.CalendarsControl,this.shopControl=new e.ShopControl,this.viewEventControl=new e.ViewEventControl,this.editEventControl=new e.EditEventControl,this.editRecurrenceControl=new e.EditRecurrenceControl}isMainWindowShowing(){return!this.isMainMenuShowing&&!this.editEventControlIsShowing&&!this.isChoosingDateTimeForEvent&&!this.isPopupEditRecurringMenuShowing&&!this.viewEventControlIsShowing}setChoosingDateTimeForEvent(t){(this.isChoosingDateTimeForEvent=t)?(this.isPopupDissabled++,e.core.zopDrawArea&&(e.core.dateTimeSelectionHandler.makeVisible(!0),e.core.redraw(!0))):(this.isPopupDissabled--,e.core.zopDrawArea&&(e.core.dateTimeSelectionHandler.makeVisible(!1),e.core.redraw(!0)))}viewEvent(t){e.core.loadingHandler.isLoading()||(this.viewEventControlIsShowing=!0,this.viewEventControl.init(t),this.addVisibleControl(this.viewEventControl))}editEvent(t,r){e.core.loadingHandler.isLoading()||(this.editEventControlIsShowing=!0,this.editEventControl.init(t,r),this.addVisibleControl(this.editEventControl))}deleteEvent(t,r){e.core.calendarDataProxy.deleteEvent(t,r,!1)}editRecurrence(t){this.editRecurrenceControl.init(t),this.addVisibleControl(this.editRecurrenceControl)}startMoveCalendarEventObject(t,r,s,o){}startAddCalendarEventObject(t,r){var s=new e.CalendarEventObject("","","",t,r,this.getDefaultCalendarId(),"-1");this.editEvent(s,e.EventEditType.New)}getDefaultCalendarId(){var t=e.core.commonUserSettings.calendarIdLastAddedTo;if(e.core.getCalendar(t).visibility===e.VisibilityType.Visible&&e.core.getCalendar(t).canEditCalendarEvents)return t;for(var t=void 0,r=0;r<e.core.calendars.length;r++)if(e.core.calendars[r].visibility===e.VisibilityType.Visible&&e.core.calendars[r].canEditCalendarEvents){t=e.core.calendars[r].id;break}return t==null||e.core.getCalendar(e.core.calendarPrimaryId).visibility===e.VisibilityType.Visible?e.core.calendarPrimaryId:t}addVisibleControl(t){this.visibleControls[this.visibleControls.length-1]!==t&&(history.pushState({depth:this.visibleControls.length},""),this.visibleControls.push(t),t.show())}back(){var t=e.core.getTimeStamp();return this.previousBackTime&&t-500<this.previousBackTime?(this.previousBackTime=t,!1):(this.previousBackTime=t,this.visibleControls&&0<this.visibleControls.length?(this.visibleControls[this.visibleControls.length-1].hide(),this.visibleControls.pop(),0<this.visibleControls.length&&this.visibleControls[this.visibleControls.length-1].reshow(),!0):(navigator&&navigator.app&&navigator.app.exitApp(),!1))}safeBack(t){return this.visibleControls&&0<this.visibleControls.length&&this.visibleControls[this.visibleControls.length-1]===t?this.back():!1}mainButtonPressed(){if(!e.core.loadingHandler.isLoading()){var t=e.core.zopHandler.dateToZOP(new Date);e.core.zopHandler.topZOP<t&&e.core.zopHandler.bottomZOP>t?this.showMainMenu(!0):e.core.zopHandler.showInitialBounds(!0)}}showMainMenu(t){e.core.loadingHandler.isLoading()||(e.core.appStateHandler.isMainWindowShowing()?(e.core.appStateHandler.isMainMenuShowing=!0,this.addVisibleControl(e.core.mainMenuControl),t&&e.core.mainMenuControl.startOpenAnimation(),window.setTimeout(function(){return e.core.redraw(!0)},100),window.setTimeout(function(){return e.core.redraw(!0)},200)):this.back())}viewCalendars(){this.calendarsControlIsShowing=!0,this.addVisibleControl(this.calendarsControl)}viewShop(){this.shopControlIsShowing=!0,this.addVisibleControl(this.shopControl)}viewSettings(){this.settingsControlIsShowing=!0,this.addVisibleControl(this.settingsControl)}viewAbout(){}}e.AppStateHandler=br;class Hr{constructor(){this.visibleHorizontalDateObjects=[],this.visibleTitleBarDateObjects=[],this.inVisibleTitle4Objects=[],this.visibleLowestLevelObjects=[],this.selectedObjects=[],this.innerMarginTop2=this.innerMarginTop=this.extraTextHeight=this.extraTextHeight2=this.horizontalTitleExtraTextHeight=this.textHeight=this.textHeight2=this.horizontalTitleTextHeight=0,this.useDividerLine=!1,this.averageObjectPixelHeight=this.nowZOP=this.hourWidth2=this.hourWidth=0,this.showExtraTextToRight=this.showExtraTextBelow=!1,this.averageObjectPixelHeight2=0,this.showExtraTextToRight2=this.showExtraTextBelow2=!1,this.horizontalTitleHeight=0,this.rootCalendarDateObjects=[],this.weekCalendarDateObjects=[],this.counter=0,this.selectedCalendarDateObject=void 0,this.showMonthSpecialDetails=!1,this.lowestLevelCalendarDateObjectType=void 0,this.commonDateTimes=[],this.weekNumbersVisible=[],this.populateDetails_helper=this.populateDetails_helper.bind(this),this.reset()}reset(){this.rootCalendarDateObjects=[],this.weekCalendarDateObjects=[],this.rootCalendarDateObjects.push(new e.CalendarDateObject(e.CalendarDateObjectType.Title,e.core.settings.absoluteMinDate,e.core.settings.absoluteMaxDate));var t=e.core.zopHandler.dateToZOP(e.core.settings.absoluteMinDate),r=e.core.zopHandler.dateToZOP(e.core.settings.absoluteMaxDate);e.core.zopHandler.setAbsoluteMinMax(t,r)}clearWeekInfo(){this.weekCalendarDateObjects=[]}selectCalendarDateObjectAt(t,r,s){if(r<e.core.zopHandler.topPixel||r>e.core.zopHandler.bottomPixel)this.selectedCalendarDateObject=void 0;else return r=e.core.zopHandler.getZOPFromPixel(r),(s=this.getHitCalendarDateObjectAmong(t,r,this.visibleLowestLevelObjects,e.core.settings.titleWidth))||(s=this.getHitCalendarDateObjectAmong(t,r,this.visibleTitleBarDateObjects,0)),s||(s=this.getHitCalendarDateObjectAmong(t,r,this.visibleHorizontalDateObjects,0)),this.selectedCalendarDateObject=s}getClosestDetailAt(t,r){if(!(t<e.core.zopHandler.topPixel||t>e.core.zopHandler.bottomPixel)){t=t-t%r+Math.round(r/2);var l=t-r,o=l+2*r,s=e.core.zopHandler.getZOPFromPixel(t),l=e.core.zopHandler.getZOPFromPixel(l),c=e.core.zopHandler.getZOPFromPixel(o),o=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,s,this.visibleLowestLevelObjects,e.core.settings.titleWidth),l=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,l,this.visibleLowestLevelObjects,e.core.settings.titleWidth),c=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,c,this.visibleLowestLevelObjects,e.core.settings.titleWidth);if(o&&l&&c)return l!==c?c:(this.verifyDetailsArePopulatedFor(o),o=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,s,o.details,e.core.settings.titleWidth))}}convertCommonTimesToDates(t){if(t!=this.lastCommonTimesStartDate){this.lastCommonTimesStartDate=t,this.commonDateTimes=[];var r;for(r=0;r<e.core.calendarEventHandler.commonTimeKeys.length;r++){var o=e.core.calendarEventHandler.commonTimeKeys[r].timeKey,s=parseInt(o.substr(0,o.indexOf("-"))),o=parseInt(o.substr(o.indexOf("-")+1)),l=new Date(t.getTime());l.setHours(s,o),this.commonDateTimes.push(l)}}}getCalendarDateObject(t,r,s){this.verifyDetailsArePopulatedFor(s);for(var o=0;o<s.details.length;o++){var l=s.details[o];if(l.startZOP<t&&l.endZOP>t)return l.calendarDateObjectType===r?l:this.getCalendarDateObject(t,r,l)}}getClosestFakeDetailAt(t,r,s){if(this.lowestLevelCalendarDateObjectType==e.CalendarDateObjectType.Month&&!this.showMonthSpecialDetails)return this.getHitWeekAt(e.core.zopHandler.rightPixel-1,t,!1);if(this.lowestLevelCalendarDateObjectType==e.CalendarDateObjectType.Day){if(t<e.core.zopHandler.topPixel||t>e.core.zopHandler.bottomPixel)return;t=t-t%r+Math.round(r/2);var l=t-r,p=l+2*r,o=e.core.zopHandler.getZOPFromPixel(t),l=e.core.zopHandler.getZOPFromPixel(l),c=e.core.zopHandler.getZOPFromPixel(p),p=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,o,this.visibleLowestLevelObjects,e.core.settings.titleWidth),f=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,l,this.visibleLowestLevelObjects,e.core.settings.titleWidth),g=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,c,this.visibleLowestLevelObjects,e.core.settings.titleWidth);if(!p||!f||!g)return;if(f!==g&&s)return g;for(s=e.core.zopHandler.getDateFromZOP(l),o=e.core.zopHandler.getDateFromZOP(c),this.convertCommonTimesToDates(p.startDateTime),p=0;p<this.commonDateTimes.length;p++)if(this.commonDateTimes[p]>=s&&this.commonDateTimes[p]<o)return new e.CalendarDateObject(e.CalendarDateObjectType.Hour,this.commonDateTimes[p]);return this.getClosestDetailAt(t,r)}if(!(t<e.core.zopHandler.topPixel||t>e.core.zopHandler.bottomPixel)&&(t=t-t%r+Math.round(r/2),l=t-r,p=l+2*r,o=e.core.zopHandler.getZOPFromPixel(t),l=e.core.zopHandler.getZOPFromPixel(l),c=e.core.zopHandler.getZOPFromPixel(p),p=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,o,this.visibleLowestLevelObjects,e.core.settings.titleWidth),f=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,l,this.visibleLowestLevelObjects,e.core.settings.titleWidth),g=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,c,this.visibleLowestLevelObjects,e.core.settings.titleWidth),p&&f&&g))return f!==g&&s?g:(this.verifyDetailsArePopulatedFor(p),p=this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,o,p.details,e.core.settings.titleWidth))}getLowestLevelCalendarDateObjectAt(t){return t=e.core.zopHandler.getZOPFromPixel(t),this.getHitCalendarDateObjectAmong(e.core.settings.titleWidth+1,t,this.visibleLowestLevelObjects,e.core.settings.titleWidth)}getHitCalendarDateObjectAmong(t,r,s,o){var l=s.length,c;if(t>o)for(t=0;t<l;t++)o=s[t],r>=o.startZOP&&r<=o.endZOP&&(c===void 0||c.calendarDateObjectType>o.calendarDateObjectType)&&(c=o);return c}clearSelect(){this.selectedObjects=[]}selectCalendarDateObject(t){t&&this.selectedObjects.push(t)}getHitWeekAt(t,r,s){if(0<this.weekNumbersVisible.length){var o=e.core.zopHandler.getZOPFromPixel(r),l=e.core.zopHandler.getZOPFromPixelDiff(e.core.settings.weekCircleDiameter)/2;for(r=0;r<this.weekCalendarDateObjects.length;r++)if(s){if(-1<this.weekNumbersVisible.indexOf(this.weekCalendarDateObjects[r].shortText)){var c=Math.max(this.weekCalendarDateObjects[r].startZOP,e.core.zopHandler.topZOP+l);if(o>=c-l&&o<=c+l)return this.weekCalendarDateObjects[r]}}else if(o>=this.weekCalendarDateObjects[r].startZOP&&o<=this.weekCalendarDateObjects[r].endZOP&&t>e.core.settings.titleWidth)return this.weekCalendarDateObjects[r]}}gotoCalendarDateObjectAt(t,r){var s=this.selectCalendarDateObjectAt(t,r,!0);if(s&&s.calendarDateObjectType==this.lowestLevelCalendarDateObjectType&&this.showMonthSpecialDetails){var o=Math.max(e.core.zopHandler.getPixelFromZOP(s.startZOP),e.core.zopHandler.topPixel);if(r>o+this.horizontalTitleHeight){s=e.core.zopHandler.getZOPFromPixel(r-25*e.core.ratio),o=e.core.zopHandler.getZOPFromPixel(r+25*e.core.ratio),e.core.drawAreaEffects.startAutoZoom(s,o,!1,function(){});return}}if(s&&s.calendarDateObjectType==this.lowestLevelCalendarDateObjectType&&this.horizontalDateObjectType){var l=this.getHitCalendarDateObjectAmong(t,e.core.zopHandler.getZOPFromPixel(r),this.visibleHorizontalDateObjects,0),o=Math.max(e.core.zopHandler.getPixelFromZOP(l.startZOP),e.core.zopHandler.topPixel);r<o+this.horizontalTitleHeight&&(s=l)}this.gotoCalendarDateObject(s,r)}gotoCalendarDateObject(t,r){if(this.selectCalendarDateObject(t),t!==void 0)if(this.clearSelect=this.clearSelect.bind(this),this.verifyDetailsArePopulatedFor(t),-1<this.rootCalendarDateObjects.indexOf(t)){var s=e.core.zopHandler.getZOPFromPixel(r)-(t.endZOP-t.startZOP)/2,o=s+(t.endZOP-t.startZOP);e.core.drawAreaEffects.startAutoZoom(s,o,!1,this.clearSelect)}else o=t.startZOP+(t.endZOP-t.startZOP),e.core.drawAreaEffects.startAutoZoom(t.startZOP,o,!1,this.clearSelect)}paintMarker(t){var r=-e.core.settings.titleWidth*2;t=e.core.zopHandler.dateToZOP(t);var s=e.core.commonUserSettings.theme!="3";e.core.zopDrawArea.drawHorizontalLineThick(r+2*e.core.settings.tagHeight,t,e.core.zopHandler.rightPixel-r-e.core.settings.tagHeight,e.core.settings.theme.colorMarker,2*e.core.ratio,s),e.core.zopDrawArea.drawFilledCircle(r+2*e.core.settings.tagHeight,t,6*e.core.ratio,e.core.settings.theme.colorMarker,s)}verifyWeGotEnoughWeekZOPs(){if(60<(e.core.zopHandler.bottomZOP-e.core.zopHandler.topZOP)/e.core.zopHandler.zopSizeOfWeek||200<this.weekCalendarDateObjects.length)0<this.weekCalendarDateObjects.length&&(this.weekCalendarDateObjects=[]);else{var t=e.core.zopHandler.bottomZOP;for(0<this.weekCalendarDateObjects.length&&(t=this.weekCalendarDateObjects[0].startZOP);t>e.core.zopHandler.topZOP;){var s=this.getStartOfWeek(e.core.zopHandler.getDateFromZOP(t));e.core.zopHandler.dateToZOP(s.toDate()),s.add(-1,"week");var r=this.getWeekNrForDate(s),t=e.core.zopHandler.dateToZOP(s.toDate()),s=new e.CalendarDateObject(e.CalendarDateObjectType.Week,new Date(s.toDate().getTime()));s.shortText=""+r,s.longText="Week "+r,s.weekIsOdd=r%2==1,s.weekIsOddDubble=r%4==1,this.weekCalendarDateObjects.unshift(s)}for(0<this.weekCalendarDateObjects.length&&(t=this.weekCalendarDateObjects[this.weekCalendarDateObjects.length-1].endZOP);t<e.core.zopHandler.bottomZOP;)t=this.getStartOfWeek(e.core.zopHandler.getDateFromZOP(t)),e.core.zopHandler.dateToZOP(t.toDate()),r=this.getWeekNrForDate(t),s=new e.CalendarDateObject(e.CalendarDateObjectType.Week,new Date(t.toDate().getTime())),t.add(1,"week"),t=e.core.zopHandler.dateToZOP(t.toDate()),s.shortText=""+r,s.longText="Week "+r,s.weekIsOdd=r%2==1,s.weekIsOddDubble=r%4==1,this.weekCalendarDateObjects.push(s)}}getWeekNrForDate(t){var r=t.dayOfYear(),s=(t.clone().dayOfYear(1).isoWeekday()+1-e.core.commonUserSettings.firstDayOfWeek)%7+1;return 1>s&&(s+=7),r=Math.floor((r+s+5)/7),4<s&&--r,r==0?r=53:r==53&&this.getWeekNrForDate(t.clone().add("weeks",1))==2&&(r=1),r}getStartOfWeek(t){return t=D(t).startOf("day"),t.isoWeekday()!=e.core.commonUserSettings.firstDayOfWeek&&(t=t.isoWeekday(e.core.commonUserSettings.firstDayOfWeek)),t.isoWeekday()<e.core.commonUserSettings.firstDayOfWeek&&(t=t.add("days",-7)),t}paintWeeksBackground(){this.verifyWeGotEnoughWeekZOPs();var t=Math.min(255,Math.round(255-(27-(e.core.zopHandler.bottomZOP-e.core.zopHandler.topZOP)/e.core.zopHandler.zopSizeOfWeek)));for(e.core.commonUserSettings.theme=="3"&&(t=Math.floor(15+(255-t)/4)),this.oddWeekColor="rgb("+t+", "+(t+10)+", "+(t+20)+")",t=0;t<this.weekCalendarDateObjects.length;t++)if(this.weekCalendarDateObjects[t].endZOP>e.core.zopHandler.topZOP&&this.weekCalendarDateObjects[t].startZOP<e.core.zopHandler.bottomZOP)if(e.core.commonUserSettings.grayDays===""||e.core.commonUserSettings.grayDays==="1234567"){if(this.weekCalendarDateObjects[t].weekIsOdd!=this.currentWeekIsOdd){var r=Math.max(e.core.zopHandler.getPixelFromZOP(this.weekCalendarDateObjects[t].startZOP),e.core.zopHandler.topPixel),s=Math.min(e.core.zopHandler.getPixelFromZOP(this.weekCalendarDateObjects[t].endZOP),e.core.zopHandler.bottomPixel);e.core.drawArea.drawFilledRectangle({x:this.fakeLeft+e.core.settings.titleWidth,y:r,width:e.core.zopHandler.rightPixel-this.fakeLeft,height:s-r,fillStyle:this.oddWeekColor,hasShadow:!1,rounded:!1,strokeStyle:void 0})}}else for(var r=e.core.zopHandler.getPixelFromZOP(this.weekCalendarDateObjects[t].startZOP),s=e.core.zopHandler.getPixelFromZOP(this.weekCalendarDateObjects[t].endZOP),s=(s-r)/7,o=1;7>=o;o++){var l=o+e.core.commonUserSettings.firstDayOfWeek-1;7<l&&(l-=7),-1<e.core.commonUserSettings.grayDays.indexOf(""+l)&&(l=Math.max(r+s*(o-1),e.core.zopHandler.topPixel),e.core.drawArea.drawFilledRectangle({x:this.fakeLeft+e.core.settings.titleWidth,y:l,width:e.core.zopHandler.rightPixel-this.fakeLeft,height:Math.min(r+s*o+1,e.core.zopHandler.bottomPixel)-l,fillStyle:this.oddWeekColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}))}}paintWeekNumbers(){if(e.core.settings.allowWeekNumber&&e.core.commonUserSettings.showWeekNumbers){var t=(e.core.zopHandler.bottomZOP-e.core.zopHandler.topZOP)/e.core.zopHandler.zopSizeOfWeek;if(this.weekNumbersVisible=[],!(60<t)){for(var r=0;r<this.weekCalendarDateObjects.length;r++)if(!(!(this.weekCalendarDateObjects[r].endZOP>e.core.zopHandler.topZOP&&this.weekCalendarDateObjects[r].startZOP<e.core.zopHandler.bottomZOP)||15<t&&!this.weekCalendarDateObjects[r].weekIsOdd||30<t&&!this.weekCalendarDateObjects[r].weekIsOddDubble)){this.weekNumbersVisible.push(this.weekCalendarDateObjects[r].shortText);var s=e.core.zopHandler.getPixelFromZOP(this.weekCalendarDateObjects[r].startZOP);s<e.core.zopHandler.topPixel+e.core.settings.weekCircleDiameter/2+2&&(s=Math.min(e.core.zopHandler.topPixel+e.core.settings.weekCircleDiameter/2+2,s+e.core.zopHandler.getPixelSizeOfWeek()-e.core.settings.weekCircleDiameter-2)),e.core.zopDrawArea.drawFilledCircle2(e.core.zopHandler.rightPixel+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-e.core.settings.weekCircleDiameter/2-e.core.settings.margin,s,e.core.settings.weekCircleDiameter/2+1*e.core.ratio,e.core.settings.theme.colorWeekNumberShadow,!1),e.core.zopDrawArea.drawFilledCircle2(e.core.zopHandler.rightPixel+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-e.core.settings.weekCircleDiameter/2-e.core.settings.margin,s,e.core.settings.weekCircleDiameter/2,e.core.settings.theme.colorWeekNumberCircle,!1),e.core.drawArea.drawCenteredText(this.weekCalendarDateObjects[r].shortText,e.core.zopHandler.rightPixel-e.core.settings.weekCircleDiameter+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-e.core.settings.margin-.5,s-e.core.settings.tagTextHeight/1.6,e.core.settings.weekCircleDiameter,e.core.settings.tagTextHeight,e.core.settings.theme.colorWeekNumberText,!1,!0)}}}}paintCalendarDateObjects(){var t;this.counter=0,this.visibleHorizontalDateObjects=[],this.visibleTitleBarDateObjects=[],this.inVisibleTitle4Objects=[],this.visibleLowestLevelObjects=[],e.core.zopDrawArea.clearTextDivs(),this.decideCalendarDateObjectTypesToShowAtDifferentLevels(),this.decideFontSizes(),this.currentWeekIsOdd=(D(new Date).week()-1)%2==1,this.fakeLeft=e.core.zopHandler.leftPixel+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,this.visibleTitleBarDateObjects=this.decideVisibleObjects(this.titleBarDateObjectType,[]),this.horizontalDateObjectType?(this.visibleHorizontalDateObjects=this.decideVisibleObjects(this.horizontalDateObjectType,this.visibleTitleBarDateObjects),this.visibleLowestLevelObjects=this.decideVisibleObjects(this.lowestLevelCalendarDateObjectType,this.visibleHorizontalDateObjects)):this.visibleLowestLevelObjects=this.decideVisibleObjects(this.lowestLevelCalendarDateObjectType,this.visibleTitleBarDateObjects),e.core.zopDrawArea.startTextDelayedDraw(),this.paintWeeksBackground(),e.core.zopDrawArea.canvasContext.globalAlpha=Math.max(0,-e.core.mainMenuControl.transparency),t=e.core.addButtonControl.getTitleExtraData();var r=(e.core.settings.titleWidth-e.core.settings.title0FontSize)/2;if(t?e.core.zopDrawArea.drawVerticalTitle(e.core.zopHandler.topZOP,e.core.zopHandler.bottomZOP,this.fakeLeft+r,t,e.core.settings.title0FontSize,e.core.settings.theme.colorTitleText,e.core.settings.margin,!0,!0):this.paintVisibleTitleObjects(this.visibleTitleBarDateObjects,this.fakeLeft,r,!1,e.core.settings.title0FontSize,!0),e.core.zopDrawArea.canvasContext.globalAlpha=1,this.horizontalDateObjectType)this.paintVisibleHorizontalTitles();else if(this.paintVisibleLowestObjects(),this.showMonthSpecialDetails==1)for(r=this.horizontalTitleHeight,t=0;t<this.visibleLowestLevelObjects.length;t++)this.paintMonthSpecialDetails(this.visibleLowestLevelObjects[t],r);e.core.zopDrawArea.endTextDelayedDraw(),this.counter=this.counter}decideCalendarDateObjectTypesToShowAtDifferentLevels(){this.lowestLevelCalendarDateObjectType=e.CalendarDateObjectType.Year,this.title4CalendarDateObjectType=void 0,this.titleBarDateObjectType=e.CalendarDateObjectType.Title,this.horizontalDateObjectType=void 0,this.showMonthSpecialDetails=e.core.zopHandler.getPixelSizeOfYear()>=4*e.core.settings.minDateHeight,e.core.zopHandler.getPixelSizeOfMonth()>=e.core.settings.minDateHeight&&(this.lowestLevelCalendarDateObjectType=e.CalendarDateObjectType.Month,this.titleBarDateObjectType=e.CalendarDateObjectType.Year,this.horizontalDateObjectType=void 0,this.showMonthSpecialDetails=e.core.zopHandler.getPixelSizeOfMonth()>=7*e.core.settings.minDateHeight),e.core.zopHandler.getPixelSizeOfDay()>=e.core.settings.minDateHeight&&(this.lowestLevelCalendarDateObjectType=e.CalendarDateObjectType.Day,this.titleBarDateObjectType=e.CalendarDateObjectType.Month,this.horizontalDateObjectType=void 0,this.showMonthSpecialDetails=e.core.zopHandler.getPixelSizeOfDay()>=6*e.core.settings.minDateHeight),e.core.zopHandler.getPixelSizeOfHour()>=e.core.settings.minDateHeight&&(this.lowestLevelCalendarDateObjectType=e.CalendarDateObjectType.Hour,this.titleBarDateObjectType=e.CalendarDateObjectType.Month,this.horizontalDateObjectType=e.CalendarDateObjectType.Day,this.showMonthSpecialDetails=e.core.zopHandler.getPixelSizeOfHour()>=6*e.core.settings.minDateHeight),e.core.zopHandler.getPixelSizeOf5Minutes()>=e.core.settings.minDateHeight&&(this.lowestLevelCalendarDateObjectType=e.CalendarDateObjectType.Minutes5,this.title4CalendarDateObjectType=e.CalendarDateObjectType.Hour,this.titleBarDateObjectType=e.CalendarDateObjectType.Month,this.horizontalDateObjectType=e.CalendarDateObjectType.Day,this.showMonthSpecialDetails=e.core.zopHandler.getPixelSizeOf5Minutes()>=6*e.core.settings.minDateHeight)}decideFontSizes(){this.averageObjectPixelHeight=0,this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Year&&(this.averageObjectPixelHeight=e.core.zopHandler.getPixelSizeOfYear(),this.averageObjectPixelHeight2=e.core.zopHandler.getPixelSizeOfMonth()),this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Month&&(this.averageObjectPixelHeight=e.core.zopHandler.getPixelSizeOfMonth(),this.averageObjectPixelHeight2=e.core.zopHandler.getPixelSizeOfDay()),this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Day&&(this.averageObjectPixelHeight=e.core.zopHandler.getPixelSizeOfDay(),this.averageObjectPixelHeight2=e.core.zopHandler.getPixelSizeOfHour()),this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Hour&&(this.averageObjectPixelHeight=e.core.zopHandler.getPixelSizeOfHour(),this.averageObjectPixelHeight2=e.core.zopHandler.getPixelSizeOf5Minutes()),this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Minutes5&&(this.averageObjectPixelHeight=e.core.zopHandler.getPixelSizeOf5Minutes(),this.averageObjectPixelHeight2=this.averageObjectPixelHeight/10),this.smallDividerColor=e.core.settings.theme.colorBigDateDividerStr+Math.min(1,1.5*this.averageObjectPixelHeight/e.core.zopDrawArea.zopAreaHeight)+")",this.bigDividerColor=e.core.settings.theme.colorBigDateDividerStr+"1 )",this.innerMarginTop=e.core.settings.innerTopMaxMargin;for(var t=0;2>t;t++)this.textHeight=Math.round(Math.min(this.averageObjectPixelHeight-2*this.innerMarginTop,e.core.settings.dateBigTextSize)),this.horizontalTitleTextHeight=e.core.settings.dateBigTextSize,this.extraTextHeight=Math.round(.6*this.textHeight),this.horizontalTitleExtraTextHeight=Math.round(.6*this.horizontalTitleTextHeight),this.innerMarginTop=Math.max(0,Math.min(this.innerMarginTop,(this.averageObjectPixelHeight-this.textHeight-this.extraTextHeight)/2-2));for(this.innerMarginTop2=this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Month?e.core.settings.innerTopMaxMargin:0,t=0;2>t;t++)this.textHeight2=Math.round(Math.min(e.core.settings.minDateHeight-2*this.innerMarginTop2,e.core.settings.dateBigTextSize)),this.textHeight2=Math.round(Math.min(this.textHeight2,1.1*this.averageObjectPixelHeight2)),this.extraTextHeight2=Math.round(Math.min(.6*this.textHeight2,e.core.settings.dateBigTextSize)),this.innerMarginTop2=Math.max(0,Math.min(this.innerMarginTop2,(this.averageObjectPixelHeight2-this.textHeight2-this.extraTextHeight2)/2-2));this.showExtraTextBelow=this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Day&&this.textHeight>=e.core.settings.dateBigTextSize,this.showExtraTextBelow2=this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Month&&this.textHeight2>=e.core.settings.dateBigTextSize,this.showExtraTextToRight=this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Hour||this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Minutes5,this.showExtraTextToRight2=this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Day||this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Minutes5,this.useDividerLine=this.averageObjectPixelHeight>25*e.core.ratio,this.hourWidth=Math.round(e.core.zopDrawArea.measureTextWidth("22",this.textHeight,!1,!1)),this.hourWidth2=Math.round(e.core.zopDrawArea.measureTextWidth("22",this.textHeight2,!1,!1)),this.horizontalTitleHeight=this.horizontalTitleTextHeight+(this.lowestLevelCalendarDateObjectType==e.CalendarDateObjectType.Month?0:this.horizontalTitleExtraTextHeight)+e.core.settings.innerTopMaxMargin+e.core.settings.margin}decideVisibleObjects(t,r){if(r.length===0){if(t===e.CalendarDateObjectType.Title)return this.rootCalendarDateObjects;if(t===e.CalendarDateObjectType.Year)return this.getVisibleChildCalendarDateObjects(this.rootCalendarDateObjects);if(t===e.CalendarDateObjectType.Month)return this.getVisibleChildCalendarDateObjects(this.getVisibleChildCalendarDateObjects(this.rootCalendarDateObjects))}else if(t==e.CalendarDateObjectType.Minutes5)return this.getVisibleChildCalendarDateObjects(this.getVisibleChildCalendarDateObjects(r));return this.getVisibleChildCalendarDateObjects(r)}paintVisibleTitleObjects(t,r,s,o,l,c){var p=t.length;for(let f=0;f<p;f++){const g=t[f];if(this.drawHorizontalLine(g,e.core.zopHandler.topZOP),this.title4CalendarDateObjectType!=g.calendarDateObjectType){let m=g.longText;o&&(m=m+" ("+g.parentText+")"),e.core.zopDrawArea.drawVerticalTitle(g.startZOP,g.endZOP,r+s,m,l,e.core.settings.theme.colorTitleText,e.core.settings.margin,!0,c)}}}drawHorizontalLine(t,r){var s=e.core.zopHandler.leftPixel+e.core.settings.titleWidth+1*e.core.ratio+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged;t.endZOP<r||t.calendarDateObjectType<this.lowestLevelCalendarDateObjectType||(t.calendarDateObjectType==this.lowestLevelCalendarDateObjectType?this.useDividerLine&&e.core.zopDrawArea.drawHorizontalLine(s,t.endZOP,e.core.zopHandler.rightPixel-s,this.smallDividerColor,!1):t.calendarDateObjectType==this.horizontalDateObjectType?this.useDividerLine&&e.core.zopDrawArea.drawHorizontalLine(s,t.endZOP,e.core.zopHandler.rightPixel-s,this.bigDividerColor,!1):e.core.zopHandler.getPixelFromZOP(t.endZOP)<=e.core.settings.menuButtonBottom?e.core.zopDrawArea.drawHorizontalLine(s,t.endZOP,e.core.zopHandler.rightPixel,this.bigDividerColor,!1):e.core.zopDrawArea.drawHorizontalLine(e.core.zopHandler.leftPixel,t.endZOP,e.core.zopHandler.rightPixel,this.bigDividerColor,!1))}verifyDetailsArePopulatedFor(t){t.detailsArePopulated||this.populateDetails(t)}prepareThouroughRedraw(t){t==null&&(t=this.rootCalendarDateObjects[0]);for(var r=t.details.length,s=0;s<r;s++)t.possibleEventTagsAtThisZoomLevel=[],this.prepareThouroughRedraw(t.details[s])}getVisibleChildCalendarDateObjects(t){var r,s,o,l=t.length,c,p,f=[];for(r=0;r<l;r++)for(c=t[r],this.verifyDetailsArePopulatedFor(c),o=c.details.length,s=0;s<o;s++)p=c.details[s],e.core.zopHandler.isObjectBelowExtendedScreen(p.startZOP)?s=o+1:e.core.zopHandler.isObjectAboveExtendedScreen(p.endZOP)||f.push(p);return f}paintVisibleLowestObjects(){var t,r=this.visibleLowestLevelObjects.length,s;for(t=0;t<r;t++)s=this.visibleLowestLevelObjects[t],this.paintObject(s,this.showMonthSpecialDetails,e.core.zopHandler.topPixel,0);return!0}paintVisibleHorizontalTitles(){var t,r=this.visibleHorizontalDateObjects.length,s;for(t=0;t<r;t++)s=this.visibleHorizontalDateObjects[t],this.paintObject(s,!0,e.core.zopHandler.topPixel,0);var o=this.horizontalTitleHeight;for(t=0;t<r;t++)s=this.visibleHorizontalDateObjects[t],this.paintDaySpecialDetails(s,o);return!0}populateDetails(t){this.populateDetails_helper(t)}populateDetails_helper(t){t.details=[];for(var r=new Date(t.startDateTime.getTime());r<t.endDateTime;){var s;if(t.calendarDateObjectType===e.CalendarDateObjectType.Title&&(s=new e.CalendarDateObject(e.CalendarDateObjectType.Year,new Date(r.getTime())),r.setFullYear(r.getFullYear()+1)),t.calendarDateObjectType===e.CalendarDateObjectType.Year)s=new e.CalendarDateObject(e.CalendarDateObjectType.Month,new Date(r.getTime())),r.setMonth(r.getMonth()+1);else if(t.calendarDateObjectType===e.CalendarDateObjectType.Month)s=new e.CalendarDateObject(e.CalendarDateObjectType.Day,new Date(r.getTime())),r.setDate(r.getDate()+1);else if(t.calendarDateObjectType===e.CalendarDateObjectType.Day)s=new e.CalendarDateObject(e.CalendarDateObjectType.Hour,new Date(r.getTime())),r=this.addHours(r,1);else if(t.calendarDateObjectType===e.CalendarDateObjectType.Hour)s=new e.CalendarDateObject(e.CalendarDateObjectType.Minutes5,new Date(r.getTime())),r=this.addMinutes(r,5);else if(t.calendarDateObjectType===e.CalendarDateObjectType.Minutes5)break;s!=null&&(t.details.push(s),e.core.calendarEventHandler.copyEventsFromParent(t,s))}t.detailsArePopulated=!0,e.core.redraw(!1)}addMinutes(t,r){return new Date(t.getTime()+6e4*r)}addHours(t,r){return new Date(t.getTime()+36e5*r)}paintObject(t,r,s,o){if(this.counter+=1,!e.core.zopHandler.isObjectBelowScreen(t.startZOP)&&!e.core.zopHandler.isObjectAboveScreen(t.endZOP)){var l=this.fakeLeft+(e.core.settings.titleWidth+e.core.settings.innerLeftMargin),c=Math.max(0,(r?this.horizontalTitleTextHeight:this.textHeight)-o),p=Math.max(0,(r?this.horizontalTitleExtraTextHeight:this.extraTextHeight)-o);o=this.innerMarginTop+o;var f=r?e.core.settings.innerTopMaxMargin:o,g=e.core.zopHandler.getPixelFromZOP(t.startZOP)+f;if(g<s+f){if(g=Math.min(s+f,e.core.zopHandler.getPixelFromZOP(t.endZOP)-c-p-o),r)this.topDateBottom=g+c+(this.lowestLevelCalendarDateObjectType===e.CalendarDateObjectType.Month?0:p)+e.core.settings.innerTopMaxMargin+e.core.settings.margin;else if(g<s&&this.horizontalDateObjectType)if(g+this.horizontalTitleHeight>s)o=Math.max(0,e.core.settings.minDateHeight-(g+c+p-s)),c=Math.max(0,(r?this.horizontalTitleTextHeight:this.textHeight)-o),p=Math.max(0,(r?this.horizontalTitleExtraTextHeight:this.extraTextHeight)-o),g+=o;else return}this.drawHorizontalLine(t,e.core.zopHandler.getZOPFromPixel(s)),s=e.core.zopDrawArea.drawCalendarDateObjectName(l,g,0,t.shortText,c,t.isRed,t.ampm!==void 0&&t.ampm!==null,r),this.showExtraTextBelow||r&&t.shortText2?e.core.zopDrawArea.drawCalendarDateObjectName(l+0,g,c,t.shortText2,p,t.isRed,!1,r):this.showExtraTextToRight&&!t.ampm&&t.shortText2?e.core.zopDrawArea.drawCalendarDateObjectName(l+0+this.hourWidth,g,2,t.shortText2,p,t.isRed,!1,r):t.ampm&&!t.shortText2?e.core.zopDrawArea.drawCalendarDateObjectName(l+0+s,g,2,t.ampm,p,t.isRed,!1,r):t.ampm&&t.shortText2&&(e.core.zopDrawArea.drawCalendarDateObjectName(l+1+s,g,2,t.shortText2,p,t.isRed,!1,r),e.core.zopDrawArea.drawCalendarDateObjectName(l+1+s,g,p+(12>p?1:0),t.ampm,.8*p,t.isRed,!1,r))}}paintMonthSpecialDetails(t,r){this.verifyDetailsArePopulatedFor(t);var s,o=e.core.zopHandler.getPixelFromZOP(t.startZOP),l=Math.max(o+r,this.topDateBottom);this.useDividerLine=!1,this.textHeight=this.textHeight2,this.extraTextHeight=this.extraTextHeight2,this.hourWidth=this.hourWidth2,this.averageObjectPixelHeight=this.averageObjectPixelHeight2,this.showExtraTextBelow=this.showExtraTextBelow2,this.showExtraTextToRight=this.showExtraTextToRight2;var c,p=Math.floor((l-o)/this.averageObjectPixelHeight2);for(s=p;s<t.details.length-1;s+=1)this.textHeight=this.textHeight2,this.extraTextHeight=this.extraTextHeight2,this.innerMarginTop=this.innerMarginTop2,c=s%2==0?0:1.5*(e.core.settings.minDateHeight-Math.max(0,2*this.averageObjectPixelHeight2-e.core.settings.minDateHeight)),s===p&&(c+=((l-o)/this.averageObjectPixelHeight2-p)*e.core.settings.minDateHeight*1.5),this.paintObject(t.details[s],!1,e.core.zopHandler.topPixel,c)}paintDaySpecialDetails(t,r){this.verifyDetailsArePopulatedFor(t);var s;s=e.core.zopHandler.getPixelFromZOP(Math.max(t.startZOP,this.visibleLowestLevelObjects[0].startZOP));var o=Math.max(s+r,this.topDateBottom),l=0,c=this.visibleLowestLevelObjects.length;for(s=0;s<this.visibleLowestLevelObjects.length;s++)l===0&&this.visibleLowestLevelObjects[s].startZOP>t.startZOP&&(l=s),s<c&&this.visibleLowestLevelObjects[s].startZOP>=t.endZOP&&(c=s);for(s=l;s<c;s+=1)this.paintObject(this.visibleLowestLevelObjects[s],!1,o,0)}}e.CalendarDateHandler=Hr;class kr{constructor(){this.rootCalendarDateObjects=[],this.visibleEventTagWrappers=[],this.visibleFullEventWrappers=[],this.visibleTagEventGroups=[],this.visibleBadges=[],this.lowestLevelCalendarDateObjectType=void 0,this.eventsFarRight=0,this.eventsFarLeft=0,this.absoluteMaxZOP=0,this.absoluteMinZOP=0,this.bottomZOP=0,this.topZOP=0,this.minFullEventZOPSize=0,this.counter=0,this.tagSurfaces=[],this.recalc=!0,this.commonTimeKeys=[],this.commonTimeKeysHelper=[],this.rootCalendarDateObjects.push(new e.CalendarDateObject(e.CalendarDateObjectType.Title,e.core.settings.absoluteMinDate,e.core.settings.absoluteMaxDate)),this.absoluteMinZOP=e.core.zopHandler.dateToZOP(e.core.settings.absoluteMinDate),this.absoluteMaxZOP=e.core.zopHandler.dateToZOP(e.core.settings.absoluteMaxDate),e.core.zopHandler.setAbsoluteMinMax(this.absoluteMinZOP,this.absoluteMaxZOP)}canEditEvent(t){return t=this.getOwningCalendar(t),t===void 0?!1:t.canEditCalendarEvents}isFullDayEvent(t){return D(t.startDateTime).minutes()===0&&D(t.startDateTime).hours()===0&&D(t.endDateTime).minutes()===0&&D(t.endDateTime).hours()===0}getOwningCalendar(t){return e.core.getCalendar(t.calendarId)}gradeCalendarEvents(t){for(var r=0;r<t.length;r++)this.gradeCalendarEvent(t[r])}gradeCalendarEvent(t){t.grade=100*(t.endZOP-t.startZOP)+this.sumLettersInString(t.summary),t.isGraded=!0}sumLettersInString(t){var r=0,s=t.toLowerCase();for(t=0;t<s.length;t++)r+=s.charCodeAt(t)-96;return r}drawAreaResized(){}dataLoadReady(){this.somethingChanged()}somethingChanged(){this.zoomLevel=this.getNewZoomLevelString(),this.prepareDataForPaint()}getNewZoomLevelString(){return e.core.calendarDateHandler.visibleLowestLevelObjects&&0<e.core.calendarDateHandler.visibleLowestLevelObjects.length?""+e.core.calendarDateHandler.visibleLowestLevelObjects[0].startZOP+e.core.calendarDateHandler.visibleLowestLevelObjects.length:"x"}paintCalendarEvents(){this.eventsFarLeft=Math.floor(e.core.settings.eventsFarLeft+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged),this.eventsFarRight=Math.ceil(e.core.zopHandler.rightPixel+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged),(e.core.hardRedraw||this.recalc||this.getNewZoomLevelString()!==this.zoomLevel)&&this.somethingChanged(),this.recalc=!this.recalc,this.calculateAllWidths(),this.visibleBadges=[],this.paintVisibleFullEventWrappers(),this.paintVisibleEventTags(),this.prepareBadges(),this.paintBadges()}prepareDataForPaint(){this.visibleTagEventGroups=[],this.visibleFullEventWrappers=[],this.visibleEventTagWrappers=[],this.minFullEventZOPSize=Math.ceil(e.core.zopHandler.getZOPFromPixel(e.core.settings.tagHeight+2)-e.core.zopHandler.getZOPFromPixel(0)+1e-5),this.topZOP=e.core.zopHandler.extendedTopZOP,this.bottomZOP=e.core.zopHandler.extendedBottomZOP;var t=new e.TagSurface;t.parentCollidingFullEventWrapper=void 0,t.minZOP=this.topZOP,t.maxZOP=this.bottomZOP,this.tagSurfaces=[],this.tagSurfaces.push(t),this.selectVisibleFullEventsIn(),this.selectVisibleTags()}paintSelectedCalendarEvent(t){for(t=0;t<this.visibleFullEventWrappers.length;t++);}selectVisibleTags(){var t,r,s,o;for(this.tagSurfaces.sort(function(l,c){return l.minZOP-c.minZOP}),t=0;t<this.tagSurfaces.length;t++)r=this.tagSurfaces[t],this.selectVisibleEventTagsIn(r.minZOP,r.maxZOP,!1,!1,r.parentCollidingFullEventWrapper);for(t=0;t<this.visibleEventTagWrappers.length;t++)for(s=this.visibleEventTagWrappers[t],r=t+1;r<this.visibleEventTagWrappers.length;r++)o=this.visibleEventTagWrappers[r],this.DoEventsCollide(s.calendarEvent,o.calendarEvent)&&(s.calendarEvent.grade>o.calendarEvent.grade?o.visible=!1:s.visible=!1)}prepareBadges(){for(var t,r,s,o,l=0,c=0,p=0;p<this.tagDatasToPaint.length;p++){var f=this.tagDatasToPaint[p];f.visible===!1&&(this.tagDatasToPaint.splice(p,1),p--)}for(p=0;p<this.tagDatasToPaint.length;p++){var g=!1,f=this.tagDatasToPaint[p],m=new e.Badge;o=f.calendarEventTagWrapper.calendarEvent,m.textColor=e.core.settings.theme.badgeColorIsTagTextColor?e.core.helper.getEventTextColor(o,e.core.getCalendar(o.calendarId)):e.core.helper.getEventColor(o,e.core.getCalendar(o.calendarId)),m.topZOPForAllEvents=o.startZOP,m.bottomZOPForAllEvents=o.endZOP;var S=0;for(r=p===this.tagDatasToPaint.length-1?this.bottomZOP:Math.min(o.endZOP/2+this.tagDatasToPaint[p+1].calendarEventTagWrapper.calendarEvent.startZOP/2,o.endZOP+e.core.zopHandler.getZOPFromPixelDiff(2*e.core.settings.tagTextHeight)),t=p===0?o.startZOP-e.core.zopHandler.getZOPFromPixelDiff(2*e.core.settings.tagTextHeight):Math.max(o.startZOP/2+this.tagDatasToPaint[p-1].calendarEventTagWrapper.calendarEvent.endZOP/2,o.startZOP-e.core.zopHandler.getZOPFromPixelDiff(2*e.core.settings.tagTextHeight));g===!1&&l<e.core.calendarDateHandler.visibleLowestLevelObjects.length;){for(s=e.core.calendarDateHandler.visibleLowestLevelObjects[l];c<s.calendarEvents.length;){if(o=s.calendarEvents[c],o.startZOP>r){g=!0;break}c++,this.doesEventStartWithinCalendarDateObject(o,s)===!0&&this.findFullEventWrapperForEvent(o)===void 0&&o.startZOP>t&&(S++,m.topZOPForAllEvents=Math.min(m.topZOPForAllEvents,o.startZOP),m.bottomZOPForAllEvents=Math.max(m.bottomZOPForAllEvents,o.endZOP))}g===!1&&(c=0,l++)}m.count=S,m.isPartial=f.isPartial,m.height=f.height,m.topPixel=f.topPixel,0<this.visibleBadges.length&&(t=this.visibleBadges[this.visibleBadges.length-1].topPixel+this.visibleBadges[this.visibleBadges.length-1].height+e.core.settings.margin+10>=m.topPixel,this.visibleBadges[this.visibleBadges.length-1].isPartial&&!m.isPartial&&(m.partialBadgeAbove=this.visibleBadges[this.visibleBadges.length-1],this.visibleBadges[this.visibleBadges.length-1].closeToBellow=t,m.closeToAbove=t),!this.visibleBadges[this.visibleBadges.length-1].isPartial&&m.isPartial&&(this.visibleBadges[this.visibleBadges.length-1].partialBadgeBellow=m,this.visibleBadges[this.visibleBadges.length-1].closeToBellow=t,m.closeToAbove=t)),this.visibleBadges.push(m)}}paintBadges(){for(var t=0;t<this.visibleBadges.length;t++){var r=this.visibleBadges[t],l=0,s=0,o=r.topPixel,l=l+r.count;1<l&&(s=r.height),!r.isPartial&&r.partialBadgeAbove&&.9>r.partialBadgeAbove.height/e.core.settings.tagHeight&&(l=r.partialBadgeAbove.closeToBellow&&r.partialBadgeAbove.closeToAbove?l+Math.ceil(r.partialBadgeAbove.count/2):r.partialBadgeAbove.closeToBellow&&!r.partialBadgeAbove.closeToAbove?l+r.partialBadgeAbove.count:l+0,1<l&&(s=Math.max(e.core.settings.tagHeight-r.partialBadgeAbove.height,s))),!r.isPartial&&r.partialBadgeBellow&&.9>r.partialBadgeBellow.height/e.core.settings.tagHeight&&(l=r.partialBadgeBellow.closeToAbove&&r.partialBadgeBellow.closeToBellow?l+Math.floor(r.partialBadgeBellow.count/2):r.partialBadgeBellow.closeToAbove&&!r.partialBadgeBellow.closeToBellow?l+r.partialBadgeBellow.count:l+0,1<l&&e.core.settings.tagHeight-r.partialBadgeBellow.height>s&&(s=e.core.settings.tagHeight-r.partialBadgeBellow.height,o=o+e.core.settings.tagHeight-s));var c=l+"";1<l&&e.core.zopDrawArea.drawBadge(e.core.settings.badgesLeft+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,o,s,e.core.settings.eventsFarLeft+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged-3*e.core.ratio,c,s/e.core.settings.tagHeight,r.textColor)}}selectBiggestFullEventAndMakeVisibleOld(t,r,s,o,l){var c,p,f,g,m;for(c=0;c<e.core.calendarDateHandler.visibleLowestLevelObjects.length;c++)for(m=e.core.calendarDateHandler.visibleLowestLevelObjects[c],p=0;p<m.possibleFullEvents.length;p++)g=m.possibleFullEvents[p],g.endZOP-g.startZOP>=this.minFullEventZOPSize&&!this.IsEventInCollisionList(l,g)&&g.startZOP<=r&&(!s||g.startZOP>=t)&&g.endZOP>=t&&(!o||g.endZOP<=r)&&((f===void 0||g.grade>f.grade)&&(f=g),p=m.possibleFullEvents.length);if(f!==void 0)return t=this.findFullEventWrapperForEvent(f),t===void 0&&(t=new e.CalendarFullEventWrapper(f),this.visibleFullEventWrappers.push(t)),this.AddTagSurface(t),t}selectBiggestFullEventAndMakeVisible(){var t,r,s,o,l;for(t=0;t<e.core.calendarDateHandler.visibleLowestLevelObjects.length;t++)for(l=e.core.calendarDateHandler.visibleLowestLevelObjects[t],r=0;r<l.possibleFullEvents.length;r++)o=l.possibleFullEvents[r],o.endZOP-o.startZOP>=this.minFullEventZOPSize&&this.findFullEventWrapperForEvent(o)===void 0&&this.calendarEventIsOnExtendedScreen(o)&&(s===void 0||o.grade>s.grade)&&(s=o);if(s!==void 0)return t=new e.CalendarFullEventWrapper(s),this.AddTagSurface(t),this.AddVisibleFullEventWrapper(t),t}AddVisibleFullEventWrapper(t){var r,s,o;for(r=this.visibleFullEventWrappers.length-1;0<=r;r--){var l=this.visibleFullEventWrappers[r];if(this.DoEventsCollide(t.calendarEvent,l.calendarEvent)){if(o=!1,t.parentCollidingFullEventWrappers!==void 0)for(s=0;s<t.parentCollidingFullEventWrappers.length;s++)this.IsEventInCollisionList(t.parentCollidingFullEventWrappers[s],l.calendarEvent)&&(o=!0);o===!1&&(l.childCollidingFullEventWrappers.push(t),t.parentCollidingFullEventWrappers.push(l))}}this.visibleFullEventWrappers.push(t)}DoEventsCollide(t,r){return t.startZOP<=r.endZOP&&t.endZOP>=r.startZOP}AddTagSurface(t){var r=new e.TagSurface;for(r.parentCollidingFullEventWrapper=t,r.minZOP=t.calendarEvent.startZOP,r.maxZOP=t.calendarEvent.endZOP,t=0;t<this.tagSurfaces.length;t++)this.SubtractSpaceFromSurface(this.tagSurfaces[t],r.minZOP,r.maxZOP);this.tagSurfaces.push(r)}SubtractSpaceFromSurface(t,r,s){if(t.minZOP>=r&&t.maxZOP<=s)t.maxZOP=t.minZOP-1;else if(t.minZOP>=r&&t.minZOP<s&&t.maxZOP>s)t.minZOP=s+1;else if(t.minZOP<r&&t.maxZOP>s){var o=new e.TagSurface;o.parentCollidingFullEventWrapper=t.parentCollidingFullEventWrapper,o.minZOP=s+1,o.maxZOP=t.maxZOP,this.tagSurfaces.push(o),t.maxZOP=r-1}else t.maxZOP>=r&&t.minZOP<=r&&t.maxZOP<=s&&(t.maxZOP=r-1)}IsEventInCollisionList(t,r){var s;if(t===void 0)return!1;if(t.calendarEvent===r)return!0;for(s=0;s<t.parentCollidingFullEventWrappers.length;s++)if(t.parentCollidingFullEventWrappers[s].calendarEvent===r||this.IsEventInCollisionList(t.parentCollidingFullEventWrappers[s],r))return!0;return!1}calculateMinAndPrefWidth(t){t.preferredWidth=(this.eventsFarRight-this.eventsFarLeft)*(.2+this.minFullEventZOPSize/(t.calendarEvent.endZOP-t.calendarEvent.startZOP))}calculateWhere2CollidingEventsMeet(t,r,s){s.left=t===this.eventsFarLeft?t:Math.max(t,this.eventsFarLeft+(r-this.eventsFarLeft)*(this.eventsFarRight-this.eventsFarLeft)/(r-this.eventsFarLeft+s.preferredWidth))}selectVisibleFullEventsIn(){var t;do t=this.selectBiggestFullEventAndMakeVisible();while(t!==void 0)}selectVisibleEventTagsIn(t,r,s,o,l){var c,p;for(c=0;c<e.core.calendarDateHandler.visibleLowestLevelObjects.length;c++)p=e.core.calendarDateHandler.visibleLowestLevelObjects[c],p.calendarDateObjectType===e.core.calendarDateHandler.lowestLevelCalendarDateObjectType&&p.startZOP<=r&&p.endZOP>=t-(p.endZOP-p.startZOP)&&this.selectVisibleEventTagsFor(p,t,r,s,o,l)}paintVisibleFullEventWrappers(){for(let t=0;t<this.visibleFullEventWrappers.length;t++){const r=this.visibleFullEventWrappers[t],s=r.calendarEvent;let o=r.left;const l=r.right-o;if(e.core.settings.rightToLeft&&(o=Math.floor(this.eventsFarRight+this.eventsFarLeft-o-l),r.paintedLeft=o,r.paintedRight=o+l),r.left=o,r.right=o+l,l>0){const c=e.core.helper.getEventTextColor(s,e.core.getCalendar(s.calendarId));e.core.zopDrawArea.drawFullEvent(o,s.startZOP,s.endZOP,l,s.color,c,s.summary,s.isHovered,s.isDetail)}}}paintVisibleEventTags(){var t,r,s,o=0,l=0,c=1e4,p,f,g,m,S;for(this.tagDatasToPaint=[],t=0;t<this.visibleTagEventGroups.length;t++)if(s=this.visibleTagEventGroups[t],s.calendarDateObject.calendarDateObjectType===e.core.calendarDateHandler.lowestLevelCalendarDateObjectType){for(l=o=0,c=1e4,r=s.calendarEventTagWrappers.length-1;0<=r;r--)f=s.calendarEventTagWrappers[r],p=e.core.zopHandler.getFractionalPixelDistance(f.calendarEvent.startZOP-s.parentTopZOP)-e.core.settings.tagHeight*r,c=Math.min(c,s.availableSpace/s.countDetails*(f.position+1)-e.core.settings.tagHeight*r),c=Math.min(p,c),c=Math.max(c,0),c=Math.floor(c),f.wantedPixelShift=c;for(r=0;r<s.calendarEventTagWrappers.length;r++)if(f=s.calendarEventTagWrappers[r],g=f.calendarEvent,c=g.summary,p=e.core.helper.getEventColor(g,e.core.getCalendar(g.calendarId)),g=e.core.helper.getEventTextColor(g,e.core.getCalendar(g.calendarId)),f.wantedPixelShift>l&&(l=f.wantedPixelShift,l=Math.min(l,s.extraSpace)),S=f.right-f.left,m=f.left,e.core.settings.rightToLeft===!0&&(m=this.eventsFarLeft,f.paintedLeft=m,f.paintedRight=m+S),f.visible===!0){var M=new e.TagDataToPaint;M.calendarEventTagWrapper=f,M.visible=!0,M.left=m,M.zopHeight=f.calendarEvent.endZOP-f.calendarEvent.startZOP,M.topPixel=e.core.zopHandler.getPixelFromZOP(s.startZOP)+e.core.settings.tagHeight*r+o+l,M.width=S,M.color=p,M.textColor=g,f.partialHeight?(M.height=f.partialHeight,M.isPartial=!0,o=f.partialHeight-e.core.settings.tagHeight):(M.height=e.core.settings.tagHeight,M.isPartial=!1),M.text=c,this.tagDatasToPaint.push(M),f.topPixel=M.topPixel,f.bottomPixel=M.topPixel+M.height}}this.tagDatasToPaint.sort(function(j,B){return j.topPixel-B.topPixel});var _;for(t=0;t<this.tagDatasToPaint.length-1;t++)r=this.tagDatasToPaint[t],s=this.tagDatasToPaint[t+1],t+2<this.tagDatasToPaint.length&&(_=this.tagDatasToPaint[t+2]),this.checkForPixelOverlap(r,s),this.checkForPixelOverlap(r,_);for(t=this.tagDatasToPaint.length-1;0<=t;t--)_=Math.max(0,e.core.zopHandler.getPixelFromZOP(this.tagDatasToPaint[t].calendarEventTagWrapper.calendarEvent.startZOP)-this.tagDatasToPaint[t].topPixel),_=Math.min(Math.floor(this.tagDatasToPaint[t].height/2),_),0<_&&(_=this.getSpaceBellow(this.tagDatasToPaint[t].topPixel+this.tagDatasToPaint[t].height,this.tagDatasToPaint[t].left,this.tagDatasToPaint[t].left+this.tagDatasToPaint[t].width,_,this.tagDatasToPaint),0<_&&(this.tagDatasToPaint[t].topPixel+=_));for(t=0;t<this.tagDatasToPaint.length;t++)r=this.tagDatasToPaint[t],r.visible===!0&&e.core.zopDrawArea.drawTag(r.left,r.topPixel,r.width,r.color,r.textColor,r.height,r.text,r.height/e.core.settings.tagHeight)}getSpaceBellow(t,r,s,o,l){var c,p=o;for(c=0;c<this.visibleFullEventWrappers.length&&0<p;c++){var f=this.visibleFullEventWrappers[c];e.core.zopHandler.getPixelFromZOP(f.calendarEvent.endZOP)>t&&f.left<s&&(p=Math.min(p,e.core.zopHandler.getPixelFromZOP(f.calendarEvent.startZOP)-t))}for(c=0;c<l.length&&0<p;c++)f=l[c],f.topPixel+f.height>t&&f.left<s&&f.left+f.width>r&&(p=Math.min(p,f.topPixel-t));return Math.min(o,p)}checkForPixelOverlap(t,r){if(r!==void 0){var s=Math.round(t.topPixel+t.height-r.topPixel);2<s&&(t.zopHeight>=r.zopHeight?(r.isPartial=!0,r.calendarEventTagWrapper.isPartial=!0,r.topPixel+=s,r.height-=s,2>=r.height&&(r.visible=!1)):t.zopHeight<r.zopHeight&&(t.isPartial=!0,t.calendarEventTagWrapper.isPartial=!0,t.height-=s,2>=t.height&&(e.Visible=!1)))}}copyEventsFromParent(t,r){var s;if(t.calendarEvents!==void 0)for(s=0;s<t.calendarEvents.length;s++)this.addEventToCalendarDateObjectAndChildren(t.calendarEvents[s],r)}getTopTagAtThisZoomLevel(t){var r;for(r=0;r<t.possibleFullEvents.length;r++)if(this.findFullEventWrapperForEvent(t.possibleFullEvents[r])===void 0&&this.doesEventStartWithinCalendarDateObject(t.possibleFullEvents[r],t))return t.possibleFullEvents[r];return t.topNonFullEvent}doesEventStartWithinCalendarDateObject(t,r){return t.startZOP>=r.startZOP&&t.startZOP<r.endZOP}selectAndOrderPossibleEventTagsAtThisZoomLevel(t){var r=0,s;if(t.possibleEventTagsAtThisZoomLevel=[],this.verifyChildCalendarDateObjectsAreReadyForParentToBeShown(t),0<t.details.length)for(r=0;r<t.details.length;r++)(s=this.getTopTagAtThisZoomLevel(t.details[r]))&&this.addPossibleEventTagsAtThisZoomLevel(t,s,r,t.details[r]);else for(r=0;r<t.calendarEvents.length;r++)s=t.calendarEvents[r],this.findFullEventWrapperForEvent(s)===void 0&&this.doesEventStartWithinCalendarDateObject(s,t)&&(this.addPossibleEventTagsAtThisZoomLevel(t,s,r,t),t.possibleEventTagsAtThisZoomLevel.push(new e.PossibleEventTagsAtThisZoomLevel(s,t,t,r)));t.possibleEventTagsAtThisZoomLevel.sort(function(o,l){return l.calendarEvent.grade-o.calendarEvent.grade})}addPossibleEventTagsAtThisZoomLevel(t,r,s,o){t.possibleEventTagsAtThisZoomLevelMinZop=t.possibleEventTagsAtThisZoomLevelMinZop===void 0?r.startZOP:Math.min(t.possibleEventTagsAtThisZoomLevelMinZop,r.startZOP),t.possibleEventTagsAtThisZoomLevelMaxZop=t.possibleEventTagsAtThisZoomLevelMaxZop===void 0?r.endZOP:Math.max(t.possibleEventTagsAtThisZoomLevelMaxZop,r.endZOP),t.possibleEventTagsAtThisZoomLevel.push(new e.PossibleEventTagsAtThisZoomLevel(r,t,o,s))}removeCalendarEvent(t){var r;for(r=0;r<e.core.calendarDateHandler.rootCalendarDateObjects.length;r++)this.removeCalendarEventFromDateObjectandChildren(t,e.core.calendarDateHandler.rootCalendarDateObjects[r])}removeCalendarEventFromDateObjectandChildren(t,r){var s;for(r.isReadyForParentToBeShown=!1,s=0;s<r.possibleFullEvents.length;s++)if(r.possibleFullEvents[s]==t){r.possibleFullEvents.splice(s,1);break}for(s=0;s<r.calendarEvents.length;s++)if(r.calendarEvents[s]==t){r.calendarEvents.splice(s,1);break}if(r.topNonFullEvent=void 0,r.possibleEventTagsAtThisZoomLevel=[],r.possibleEventTagsAtThisZoomLevelMinZop=void 0,r.possibleEventTagsAtThisZoomLevelMaxZop=void 0,r.details)for(s=0;s<r.details.length;s++)this.removeCalendarEventFromDateObjectandChildren(t,r.details[s])}getCalendarEventsByIdAndRecurringId(t){var r,s,o=[];for(s=0;s<e.core.calendarDateHandler.rootCalendarDateObjects.length;s++){var l=e.core.calendarDateHandler.rootCalendarDateObjects[s];for(r=0;r<l.calendarEvents.length;r++)l.calendarEvents[r].recurringEventId!=t&&l.calendarEvents[r].id!=t||o.push(l.calendarEvents[r])}return o}reorderAllEvents(){var t;for(t=0;t<e.core.calendarDateHandler.rootCalendarDateObjects.length;t++)this.reorderAllEventsInDateObjectandChildren(e.core.calendarDateHandler.rootCalendarDateObjects[t])}reorderAllEventsInDateObjectandChildren(t){var r;if(t.isReadyForParentToBeShown=!1,t.topNonFullEvent=void 0,t.possibleEventTagsAtThisZoomLevel=[],t.possibleEventTagsAtThisZoomLevelMinZop=void 0,t.possibleEventTagsAtThisZoomLevelMaxZop=void 0,t.details)for(r=0;r<t.details.length;r++)this.reorderAllEventsInDateObjectandChildren(t.details[r])}clearAllEvents(){var t;for(t=0;t<e.core.calendarDateHandler.rootCalendarDateObjects.length;t++)this.clearAllEventsFromDateObjectandChildren(e.core.calendarDateHandler.rootCalendarDateObjects[t]);this.visibleEventTagWrappers=[],this.visibleTagEventGroups=[]}clearAllEventsFromDateObjectandChildren(t){var r;if(t.isReadyForParentToBeShown=!1,t.possibleFullEvents=[],t.calendarEvents=[],t.topNonFullEvent=void 0,t.possibleEventTagsAtThisZoomLevel=[],t.possibleEventTagsAtThisZoomLevelMinZop=void 0,t.possibleEventTagsAtThisZoomLevelMaxZop=void 0,t.details)for(r=0;r<t.details.length;r++)this.clearAllEventsFromDateObjectandChildren(t.details[r])}addEventToCalendar(t){var r;for(r=0;r<e.core.calendarDateHandler.rootCalendarDateObjects.length;r++)this.addEventToCalendarDateObjectAndChildren(t,e.core.calendarDateHandler.rootCalendarDateObjects[r]);this.addCommonTimeKey(t.startDateTime,2)}addCommonTimeKey(t,r){var s=t.getHours()+"-"+t.getMinutes(),o=this.commonTimeKeysHelper.indexOf(s);o==-1?(this.commonTimeKeys.push({timeKey:s,counter:1}),this.commonTimeKeysHelper.push(s)):this.commonTimeKeys[o].counter++}findCommonTimes(){var t,r=new Date;for(r.setHours(0,0,0,0),t=0;24>t;t++)r.setHours(t,0,0,0),this.addCommonTimeKey(r,6),r.setHours(t,5,0,0),this.addCommonTimeKey(r,1),r.setHours(t,10,0,0),this.addCommonTimeKey(r,6),r.setHours(t,15,0,0),this.addCommonTimeKey(r,2),r.setHours(t,20,0,0),this.addCommonTimeKey(r,1),r.setHours(t,25,0,0),this.addCommonTimeKey(r,1),r.setHours(t,30,0,0),this.addCommonTimeKey(r,4),r.setHours(t,35,0,0),this.addCommonTimeKey(r,1),r.setHours(t,40,0,0),this.addCommonTimeKey(r,1),r.setHours(t,45,0,0),this.addCommonTimeKey(r,2),r.setHours(t,50,0,0),this.addCommonTimeKey(r,1),r.setHours(t,55,0,0),this.addCommonTimeKey(r,1);this.commonTimeKeys.sort(function(s,o){return o.counter-s.counter})}addEventToCalendarDateObjectAndChildren(t,r){var s;if(t.endZOP>=r.startZOP&&t.startZOP<r.endZOP&&(r.calendarEvents.push(t),t.endZOP-t.startZOP>(r.endZOP-r.startZOP)/32&&r.possibleFullEvents.push(t),r.isReadyForParentToBeShown=!1,r.details))for(s=0;s<r.details.length;s++)this.addEventToCalendarDateObjectAndChildren(t,r.details[s])}getOrCreateEventTagWrapperFor(t){var r=this.findEventTagWrappersForEvent(t);return r===void 0&&(r=new e.CalendarEventTagWrapper(t),r.calendarEvent=t,this.visibleEventTagWrappers.push(r)),r}findFullEventWrapperForEvent(t){var r;for(r=0;r<this.visibleFullEventWrappers.length;r++)if(this.visibleFullEventWrappers[r].calendarEvent==t)return this.visibleFullEventWrappers[r]}findEventTagWrappersForEvent(t){var r;for(r=0;r<this.visibleEventTagWrappers.length;r++)if(this.visibleEventTagWrappers[r].calendarEvent==t)return this.visibleEventTagWrappers[r]}verifyChildCalendarDateObjectsAreReadyForParentToBeShown(t){e.core.calendarDateHandler.verifyDetailsArePopulatedFor(t);var r=t.details.length,s,o;for(s=0;s<r;s++)o=t.details[s],this.verifyCalendarDateObjectIsReadyForParentToBeShown(o)}verifyCalendarDateObjectIsReadyForParentToBeShown(t){if(t.isReadyForParentToBeShown!==!0){var r;for(t.possibleFullEvents.sort(function(s,o){return o.grade-s.grade}),t.topNonFullEvent=void 0,r=0;r<t.calendarEvents.length;r++)t.possibleFullEvents.indexOf(t.calendarEvents[r])===-1&&(t.topNonFullEvent===void 0||t.topNonFullEvent.grade<t.calendarEvents[r].grade)&&(t.topNonFullEvent=t.calendarEvents[r]);t.isReadyForParentToBeShown=!0}}selectVisibleEventTagsFor(t,r,s,o,l,c){e.core.debugCounter++,o=!0,this.verifyChildCalendarDateObjectsAreReadyForParentToBeShown(t),this.selectAndOrderPossibleEventTagsAtThisZoomLevel(t);var U=void 0,j=0,p,f=0,g=0,m=0,S,M,_=!1,j=Math.max(r,Math.min(t.startZOP,t.possibleEventTagsAtThisZoomLevelMinZop));for(S=Math.min(s,Math.max(t.endZOP,t.possibleEventTagsAtThisZoomLevelMaxZop)),p=0;p<t.possibleEventTagsAtThisZoomLevel.length;p++)U=t.possibleEventTagsAtThisZoomLevel[p].calendarEvent,(o&&U.startZOP>=r||!o&&U.endZOP>=r)&&(l&&U.endZOP<=s||!l&&U.startZOP<=s)&&(j=Math.min(j,U.startZOP),S=Math.max(S,U.endZOP)),t.possibleEventTagsAtThisZoomLevel[p].calendarEvent.endZOP>=r&&t.possibleEventTagsAtThisZoomLevel[p].calendarEvent.startZOP<=r&&c!==void 0&&(g=this.getOrCreateEventTagWrapperFor(t.possibleEventTagsAtThisZoomLevel[p].calendarEvent),c.childCollidingEventTagWrappers.push(g),g.parentCollidingFullEventWrappers.push(c));var B=Math.ceil(e.core.zopHandler.getFractionalPixelDistance(S-j)-.5),Ce=Math.ceil(B/e.core.settings.tagHeight),Qe=Math.floor(B/e.core.settings.tagHeight),Ze=B-Qe*e.core.settings.tagHeight,X=new e.CalendarEventTagGroup(t,B),U=t.startZOP>=r&&t.endZOP<=s,Ca=0;if(X.startZOP=j,X.countDetails=t.details.length,U===!1&&(Ca=this.getPositionSubtractionForEventTags(t,r),X.countDetails=this.countDetailsForPartialCalendarDateObject(t,r,s)),0<Ce){for(X.calendarDateObject=t,X.parentTopZOP=j,X.parentBottomZOP=S,this.visibleTagEventGroups.push(X),t.possibleEventTagsAtThisZoomLevel&&(m=t.possibleEventTagsAtThisZoomLevel.length-1),p=0;p<Ce;p++){for(U=void 0,j=0;f<=m&&U===void 0;)(o&&t.possibleEventTagsAtThisZoomLevel[f].calendarEvent.startZOP>=r||!o&&t.possibleEventTagsAtThisZoomLevel[f].calendarEvent.endZOP>=r)&&(l&&t.possibleEventTagsAtThisZoomLevel[f].calendarEvent.endZOP<=s||!l&&t.possibleEventTagsAtThisZoomLevel[f].calendarEvent.startZOP<=s)&&this.calendarEventIsOnExtendedScreen(t.possibleEventTagsAtThisZoomLevel[f].calendarEvent)&&(U=t.possibleEventTagsAtThisZoomLevel[f].calendarEvent,j=t.possibleEventTagsAtThisZoomLevel[f].position),f+=1;if(U===void 0&&p===0&&t.topNonFullEvent&&(o&&t.topNonFullEvent.startZOP>=r||!o&&t.topNonFullEvent.endZOP>=r)&&(l&&t.topNonFullEvent.endZOP<=s||!l&&t.topNonFullEvent.startZOP<=s)&&this.calendarEventIsOnExtendedScreen(t.topNonFullEvent)&&(U=t.topNonFullEvent,j=100),U){for(_=!1,g=0;g<X.calendarEventTagWrappers.length;g++)S=X.calendarEventTagWrappers[g].calendarEvent.startZOP,M=X.calendarEventTagWrappers[g].calendarEvent.endZOP,(U.startZOP>=S&&U.startZOP<=M||U.endZOP>=S&&U.endZOP<=M)&&(_=!0);_?--p:(g=this.getOrCreateEventTagWrapperFor(U),g.calendarEvent=U,g.position=j-Ca,g.left=this.eventsFarLeft,g.right=this.eventsFarRight,X.calendarEventTagWrappers.push(g),c!==void 0&&(c.childCollidingEventTagWrappers.push(g),g.parentCollidingFullEventWrappers.push(c)))}}X.calendarEventTagWrappers.length>Qe?(X.calendarEventTagWrappers[X.calendarEventTagWrappers.length-1].partialHeight=Ze,X.calendarEventTagWrappers[X.calendarEventTagWrappers.length-1].isPartial=!0):X.extraSpace=B-X.calendarEventTagWrappers.length*e.core.settings.tagHeight,X.calendarEventTagWrappers.sort(function(is,os){return is.position-os.position})}}calendarEventIsOnExtendedScreen(t){return t.startZOP<=this.bottomZOP&&t.endZOP>=this.topZOP}getPositionSubtractionForEventTags(t,r){var s;for(s=0;s<t.details.length&&!(t.details[s].startZOP>=r);s++);return s}countDetailsForPartialCalendarDateObject(t,r,s){var o,l=0;for(o=0;o<t.details.length;o++)t.details[o].startZOP>=r&&t.details[o].endZOP<=s&&(l+=1);return l}calculateAllWidths(){var t,r,s,o,l;for(t=0;t<this.visibleFullEventWrappers.length;t++){for(s=this.visibleFullEventWrappers[t],r=0;r<s.childCollidingEventTagWrappers.length;r++)s.childCollidingEventTagWrappers[r].left=void 0,s.childCollidingEventTagWrappers[r].right=void 0;s.widthPercent=0,s.widthPercentWhenTagsExist=0,s.left=void 0,s.right=void 0,s.preferredWidth=void 0,s.paintedLeft=void 0,s.paintedRight=void 0}for(t=0;t<this.visibleFullEventWrappers.length;t++)if(s=this.visibleFullEventWrappers[t],r=s.childCollidingEventTagWrappers!==void 0&&0<s.childCollidingEventTagWrappers.length){for(r=l=0;r<s.childCollidingEventTagWrappers.length;r++)o=s.childCollidingEventTagWrappers[r],o=this.calculateOutOfScopeFactor(o.calendarEvent),l=Math.max(l,o);for(l=this.calculateTagWidthsHelper(s,this.topZOP,this.bottomZOP,l),r=0;r<s.childCollidingEventTagWrappers.length;r++)s.childCollidingEventTagWrappers[r].right=this.eventsFarRight,l>=this.eventsFarRight?s.childCollidingEventTagWrappers[r].visible=!1:(s.childCollidingEventTagWrappers[r].left===void 0||s.childCollidingEventTagWrappers[r].left<l)&&(s.childCollidingEventTagWrappers[r].left=l)}for(t=0;t<this.visibleFullEventWrappers.length;t++){if(s=this.visibleFullEventWrappers[t],l=this.eventsFarLeft,o=this.eventsFarRight,s.childCollidingEventTagWrappers!==void 0)for(r=0;r<s.childCollidingEventTagWrappers.length;r++)s.childCollidingEventTagWrappers[r].visible&&(o=Math.min(s.childCollidingEventTagWrappers[r].left,o));this.calculateWidthsHelper(s,l,o,this.topZOP,this.bottomZOP),s.left===void 0&&(s.left=this.eventsFarLeft),s.right===void 0&&(s.right=this.eventsFarRight)}for(t=0;t<this.visibleEventTagWrappers.length;t++){if(l=this.eventsFarLeft,o=this.visibleEventTagWrappers[t],o.parentCollidingFullEventWrappers!==void 0)for(r=0;r<o.parentCollidingFullEventWrappers.length;r++)l=Math.max(l,o.parentCollidingFullEventWrappers[r].right);o.left=l}}calculateOutOfScopeFactor(t){var r=1,s=(e.core.zopHandler.bottomZOP-e.core.zopHandler.topZOP)/10;return t.endZOP<e.core.zopHandler.topZOP-s?r=(t.endZOP-this.topZOP)/(e.core.zopHandler.topZOP-s-this.topZOP):t.startZOP>e.core.zopHandler.bottomZOP+s&&(r=(t.startZOP-this.bottomZOP)/(e.core.zopHandler.bottomZOP+s-this.bottomZOP)),r}calculateTagWidthsHelper(t,r,s,o){r=this.eventsFarRight-this.eventsFarLeft;var l,c;s=this.eventsFarLeft;var p,f,g=0,m=0,S=1,M;for(t=this.GetFullEventWrapperCollisionPaths(t),f=0;f<t.length;f++){for(l=t[f],p=0;p<l.length;p++)c=l[p],M=this.calculateOutOfScopeFactor(c.calendarEvent),g+=(c.calendarEvent.endZOP-c.calendarEvent.startZOP)*M;for(g+=this.minFullEventZOPSize*o*o,p=0;p<l.length;p++)c=l[p],M=this.calculateOutOfScopeFactor(c.calendarEvent),this.calculateFullEventWrapperWidthPercent(c,g,S,M),S=Math.max(0,Math.min(1,(c.calendarEvent.endZOP-c.calendarEvent.startZOP)/(this.minFullEventZOPSize/1.2)-1.2)),m+=c.widthPercent;for(p=Math.max(.1,(g-this.minFullEventZOPSize)/g)*S*o*o,m+=p,p=0;p<l.length;p++)c=l[p],c=Math.floor(c.widthPercent/m*r),c<e.core.settings.tagHeight&&(r+=e.core.settings.tagHeight-c,c=e.core.settings.tagHeight),s+=c}return s>this.eventsFarRight-3&&(s=this.eventsFarRight),s}calculateFullEventWrapperMaxWidth(t){return Math.max((this.eventsFarRight-this.eventsFarLeft)*Math.min(1,2*(this.bottomZOP-this.topZOP)/(t.calendarEvent.endZOP-t.calendarEvent.startZOP)),e.core.settings.tagHeight+e.core.settings.tagColorWidth+1)}calculateWidthsHelper(t,r,s,o,l){o=s-r;var c,p,f,g,m,S=l=0,M=1;for(t=this.GetFullEventWrapperCollisionPaths(t),m=0;m<t.length;m++){for(c=t[m],g=0;g<c.length;g++)p=c[g],f=this.calculateOutOfScopeFactor(p.calendarEvent),l+=(p.calendarEvent.endZOP-p.calendarEvent.startZOP)*f;for(g=0;g<c.length;g++)p=c[g],f=this.calculateOutOfScopeFactor(p.calendarEvent),this.calculateFullEventWrapperWidthPercent(p,l,M,f),M=Math.max(.05,Math.min(1,(p.calendarEvent.endZOP-p.calendarEvent.startZOP)/this.minFullEventZOPSize-.95)),S+=p.widthPercent;for(g=0;g<c.length;g++){p=c[g],(p.left===void 0||p.left>r)&&this.SetLeftForFullEventWrapper(p,r),f=p.widthPercent/S*o;var _=this.calculateFullEventWrapperMaxWidth(p);_<f&&(o+=2*(f-_),f=_),f<e.core.settings.tagHeight&&(o+=e.core.settings.tagHeight-f,f=e.core.settings.tagHeight),r+=f,(p.right===void 0||p.right>r)&&this.SetRightForFullEventWrapper(p,Math.floor(r))}0<c.length&&c[c.length-1].right>s-3&&(c[c.length-1].right=s)}}calculateFullEventWrapperWidthPercent(t,r,s,o){t.widthPercent=Math.max(.16,(r-(t.calendarEvent.endZOP-t.calendarEvent.startZOP))/r)*s*o}GetFullEventWrapperCollisionPaths(t){var r,s,o=[];if(t.parentCollidingFullEventWrappers===void 0||t.parentCollidingFullEventWrappers.length===0)return[[t]];for(r=0;r<t.parentCollidingFullEventWrappers.length;r++){var l=this.GetFullEventWrapperCollisionPaths(t.parentCollidingFullEventWrappers[r]);for(s=0;s<l.length;s++)l[s].push(t),o.push(l[s])}return o}SetRightForFullEventWrapper(t,r){var s;if((t.right===void 0||t.right>r)&&(t.right=r,t.childCollidingFullEventWrappers!==void 0))for(s=0;s<t.childCollidingFullEventWrappers.length;s++)this.SetLeftForFullEventWrapper(t.childCollidingFullEventWrappers[s],r)}SetLeftForFullEventWrapper(t,r){var s;if(t.left!==r&&(t.left=r,t.parentCollidingFullEventWrappers!==void 0))for(s=0;s<t.parentCollidingFullEventWrappers.length;s++)this.SetRightForFullEventWrapper(t.parentCollidingFullEventWrappers[s],r)}SetLeftForEventTagWrapper(t,r){var s;if(t.left!==r&&(t.left=r,t.parentCollidingFullEventWrappers!==void 0))for(s=0;s<t.parentCollidingFullEventWrappers.length;s++)this.SetRightForFullEventWrapper(t.parentCollidingFullEventWrappers[s],r)}gotoBadgeAt(t,r){if(t>=e.core.settings.badgesLeft&&t<=e.core.settings.eventsFarLeft){for(var s=0;s<this.visibleBadges.length;s++)if(r>=this.visibleBadges[s].topPixel&&r<=this.visibleBadges[s].topPixel+e.core.settings.tagHeight){if(this.visibleBadges[s].count==0)break;var o=this.visibleBadges[s].bottomZOPForAllEvents-this.visibleBadges[s].topZOPForAllEvents;return e.core.drawAreaEffects.startAutoZoom(this.visibleBadges[s].topZOPForAllEvents-o,this.visibleBadges[s].bottomZOPForAllEvents+o,!1,function(){}),!0}}return!1}selectCalendarEventObjectAt(t,r){var s,o,l=e.core.zopHandler.getZOPFromPixel(r);for(this.selectedCalendarEvent=void 0,s=0;s<this.visibleFullEventWrappers.length;s++)o=this.visibleFullEventWrappers[s],l>=o.calendarEvent.startZOP&&l<=o.calendarEvent.endZOP&&t>=o.paintedLeft&&t<=o.paintedRight&&(this.selectedCalendarEvent=this.visibleFullEventWrappers[s].calendarEvent);for(s=0;s<this.visibleEventTagWrappers.length;s++)o=this.visibleEventTagWrappers[s],r>=o.topPixel&&r<=o.bottomPixel&&t>=o.paintedLeft&&t<=o.paintedRight&&(this.selectedCalendarEvent=this.visibleEventTagWrappers[s].calendarEvent);return this.selectedCalendarEvent}}e.CalendarEventHandler=kr;class Ar{constructor(){this.markerLeft=0,this.markerWidth=0,this.markerHeight=0,this.margin=0,this.topPanelHeight=0,this.topPanelTop=0,this.topPanelWidth=0,this.topPanelLeft=0,this.textColor=this.markerColor="",this.bottomMarkerY=0,this.topMarkerY=0,this.draggingBottomMarkerOffset=0,this.draggingTopMarkerOffset=0,this.startDragBottomY=void 0,this.startDragTopY=void 0,this.startDragBottomDateTime=void 0,this.startDragTopDateTime=void 0,this.originalBottomDateTime=void 0,this.originalTopDateTime=void 0,this.bottomText="",this.topText="",this.precision=4,this.buttonHeight=0,this.buttonWidth=0,this.cancelButtonLeft=0,this.cancelButtonTop=0,this.okButtonLeft=0,this.okButtonTop=0,this.pageHtml=\'<div id="dateTimeSelectionTopBar" class="topBar" style="position:relative; z-index:1000">    <button id="dateTimeSelectionCancel" class="topBarButton" style="width:50%; z-index:1000"><img src="images/cross.svg" class="topBarImage"/><span>{#Cancel#}</span></button>    <button id="dateTimeSelectionOk" class="topBarButton" style="width:50%; z-index:1000"><img src="images/check.svg" class="topBarImage"/><span>{#Ok#}</span></button></div>\'}init(){this.topPanelHeight=e.core.settings.titleWidth}paint(){this.calendarEventObject!==void 0&&e.core.appStateHandler.isChoosingDateTimeForEvent===!0&&(this.topPanelLeft=e.core.zopDrawArea.screenLeft,this.topPanelWidth=e.core.domHandler.screenWidth,this.topPanelTop=e.core.zopDrawArea.screenTop,this.topPanelHeight=this.getSpaceTakenAtTop(),this.margin=this.topPanelHeight/6,this.markerHeight=2*e.core.settings.tagHeight,this.markerWidth=2*e.core.settings.titleWidth,this.markerLeft=e.core.zopDrawArea.screenLeft+e.core.domHandler.screenWidth-this.markerWidth,this.markerColor=e.core.settings.theme.colorDark,this.textColor=e.core.settings.theme.colorLight,this.calendarEventObject&&this.paintMarkers())}startEditing(t,r,s){this.callback=s,this.editType=r,this.calendarEventObject=t,this.originalTopDateTime=t.startDateTime,this.originalBottomDateTime=t.endDateTime,this.topText="START",this.bottomText="END",r=6*(t.endZOP-t.startZOP),e.core.drawAreaEffects.startAutoZoom(t.startZOP-r,t.endZOP+r,!1,function(){})}paintMarkers(){this.topMarkerY=e.core.zopHandler.getPixelFromZOP(this.calendarEventObject.startZOP),this.bottomMarkerY=e.core.zopHandler.getPixelFromZOP(this.calendarEventObject.endZOP),e.core.appStateHandler.isDraggingTopMarker?(this.paintMarker(this.bottomText,this.bottomMarkerY,!1),this.paintMarker(this.topText,this.topMarkerY,!0)):(this.paintMarker(this.topText,this.topMarkerY,!0),this.paintMarker(this.bottomText,this.bottomMarkerY,!1))}makeNiceTimeToShow(t){return t.getMonth()+" "+t.getDate()+" "+t.getHours()+" "+t.getMinutes()}makeVisible(t){if(t){this.buttonDiv=e.core.domHandler.addDiv("dateTimeSelectionbuttons","","controlsRoot"),this.buttonDiv.innerHTML=this.pageHtml,t=(e.core.settings.titleWidth/e.core.ratio-24)/2;var r=document.getElementById("dateTimeSelectionOk"),s=document.getElementById("dateTimeSelectionCancel");r.style.padding=t+"px",s.style.padding=t+"px",r.style.backgroundColor=e.core.settings.theme.colorDark,s.style.backgroundColor=e.core.settings.theme.colorDark,e.core.domHandler.addClickEvent("dateTimeSelectionOk",this.saveChanges,this),e.core.domHandler.addClickEvent("dateTimeSelectionCancel",this.cancelChanges,this)}else e.core.domHandler.removeElement(this.buttonDiv.id)}getSpaceTakenAtTop(){return e.core.settings.titleWidth}getSpaceTakenAtBottom(){return e.core.settings.titleWidth}paintButton(t,r,s,o,l){e.core.drawArea.drawFilledRectangle({x:r,y:s,width:o,height:l,fillStyle:e.core.settings.theme.colorDark,hasShadow:!1,rounded:!1,strokeStyle:void 0}),l-=6,e.core.drawArea.setFont(l,!1,!1,!1);var c=e.core.zopDrawArea.measureTextWidth(t,l,!1,!0),c=(o-c)/2;e.core.zopDrawArea.drawText(t,r+c,s,-3,l,e.core.settings.theme.colorLight,e.core.settings.theme.colorDark,!1,o-c,!1,!1)}paintMarker(t,r,s){s?(e.core.zopDrawArea.drawHorizontalLineThick(e.core.settings.eventsFarLeft-1,e.core.zopHandler.getZOPFromPixel(r-1),this.markerLeft+this.markerWidth,this.markerColor,3,!0),r-=this.markerHeight):e.core.zopDrawArea.drawHorizontalLineThick(e.core.settings.eventsFarLeft-1,e.core.zopHandler.getZOPFromPixel(r+1),this.markerLeft+this.markerWidth,this.markerColor,3,!0),e.core.drawArea.drawFilledRectangle({x:this.markerLeft,y:r,widht:this.markerWidth,height:this.markerHeight,fillStyle:this.markerColor,hasShadow:!0,rounded:!1,strokeStyle:void 0}),s=this.markerHeight/6;var o=this.markerLeft+this.markerWidth-4*s,l=r+(this.markerHeight-3*s)/2-1;e.core.drawArea.drawFilledRectangle({x:o+1*s,y:l+0*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:o+1*s,y:l+1*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:o+1*s,y:l+2*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:o+1*s,y:l+3*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:o+2*s,y:l+0*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:o+2*s,y:l+1*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:o+2*s,y:l+2*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:o+2*s,y:l+3*s,widht:2,height:2,fillStyle:this.textColor,hasShadow:!1,rounded:!1,strokeStyle:void 0}),s=this.markerHeight/2-4,e.core.zopDrawArea.drawText(t,this.markerLeft+5,r+this.markerHeight/2-s/2,0,s,this.textColor,this.markerColor,!1,this.markerWidth-5,!1,!1)}click(t,r){return!1}saveChanges(t){e.core.appStateHandler.setChoosingDateTimeForEvent(!1),this.callback?this.callback():e.core.calendarDataProxy.editExistingEvent(this.calendarEventObject,this.editType)}cancelChanges(t){e.core.appStateHandler.setChoosingDateTimeForEvent(!1),this.calendarEventObject.startDateTime=this.originalTopDateTime,this.calendarEventObject.endDateTime=this.originalBottomDateTime,e.core.zopHandler.updateStartEndZOP(this.calendarEventObject),this.callback&&this.callback()}hitTopMarkerAt(t,r){return r>=this.topMarkerY-this.markerHeight&&r<=this.topMarkerY&&t>=this.markerLeft&&t<=this.markerLeft+this.markerWidth}hitBottomMarkerAt(t,r){return r>=this.bottomMarkerY&&r<=this.bottomMarkerY+this.markerHeight&&t>=this.markerLeft&&t<=this.markerLeft+this.markerWidth}startDraggingTopMarker(t){this.draggingTopMarkerOffset=t,e.core.appStateHandler.isDraggingTopMarker=!0,this.startDragTopDateTime=this.calendarEventObject.startDateTime,e.core.appStateHandler.isDraggingBottomMarker||(this.startDragBottomDateTime=this.calendarEventObject.endDateTime)}startDraggingBottomMarker(t){this.draggingBottomMarkerOffset=t,e.core.appStateHandler.isDraggingBottomMarker=!0,this.startDragBottomDateTime=this.calendarEventObject.endDateTime}continueDraggingTopMarker(t){t-=this.draggingTopMarkerOffset,this.topMarkerY=e.core.zopHandler.getPixelFromZOP(e.core.zopHandler.dateToZOP(this.startDragTopDateTime))+t,(t=e.core.calendarDateHandler.getClosestFakeDetailAt(this.topMarkerY,this.precision,!0))&&(this.calendarEventObject.startDateTime=t.startDateTime,this.calendarEventObject.startZOP=t.startZOP,this.topText=t.shortText,t.shortText2&&(this.topText+=" "+t.shortText2)),!e.core.appStateHandler.isDraggingBottomMarker&&(t=this.startDragBottomDateTime.getTime()-this.startDragTopDateTime.getTime(),this.calendarEventObject.endDateTime=new Date(this.calendarEventObject.startDateTime.getTime()+t),e.core.zopHandler.updateStartEndZOP(this.calendarEventObject),this.bottomMarkerY=e.core.zopHandler.getPixelFromZOP(this.calendarEventObject.endZOP),t=e.core.calendarDateHandler.getClosestFakeDetailAt(this.bottomMarkerY,1,!0))&&(this.calendarEventObject.endDateTime=t.startDateTime,this.calendarEventObject.endZOP=t.startZOP,this.bottomText=t.shortText,t.shortText2&&(this.bottomText+=" "+t.shortText2))}continueDraggingBottomMarker(t){t-=this.draggingBottomMarkerOffset,this.bottomMarkerY=e.core.zopHandler.getPixelFromZOP(e.core.zopHandler.dateToZOP(this.startDragBottomDateTime))+t,this.bottomMarkerY=Math.max(this.bottomMarkerY,this.topMarkerY+this.precision+1),(t=e.core.calendarDateHandler.getClosestFakeDetailAt(this.bottomMarkerY,this.precision,!0))&&(this.calendarEventObject.endDateTime=t.startDateTime,this.calendarEventObject.endZOP=t.startZOP,this.bottomText=t.shortText,t.shortText2&&(this.bottomText+=" "+t.shortText2))}endDraggingTopMarker(){e.core.appStateHandler.isDraggingTopMarker=!1}endDraggingBottomMarker(){e.core.appStateHandler.isDraggingBottomMarker=!1}}e.DateTimeSelectionHandler=Ar;class Br{constructor(){this.touches=[],this.mouseWasDraged=this.mouseRightDown=this.mouseLeftDown=!1,this.canBeAClick=!0,this.touchOneFingerStarted=this.startedInTitleArea=!1,this.touchOneFingerStartY=this.touchOneFingerStartX=0,this.toucohEnabledDevice=this.touchTwoFingerStarted=!1,this.touchSlop=8,this.elementsWithMouseEvents=[],this.timeForLastScrollEvent=this.fingerLastDraggingBottomMarker=this.fingerLastDraggingTopMarker=0}addBatchEventsTo(t){this.removeBatchElementsFrom(t),this.touchEnd=this.touchEnd.bind(this),t.addEventListener("touchend",this.touchEnd,!1),this.touchMove=this.touchMove.bind(this),t.addEventListener("touchmove",this.touchMove,!1),this.touchStart=this.touchStart.bind(this),t.addEventListener("touchstart",this.touchStart,!1),this.touchLeave=this.touchLeave.bind(this),t.addEventListener("touchleave",this.touchLeave,!1),e.core.isCordovaApp||this.addMouseEvents(t)}removeBatchElementsFrom(t){t.removeEventListener("touchend",this.touchEnd,!1),t.removeEventListener("touchmove",this.touchMove,!1),t.removeEventListener("touchstart",this.touchStart,!1),t.removeEventListener("touchleave",this.touchLeave,!1),e.core.isCordovaApp||this.removeMouseEvents(t)}addMouseEvents(t){this.elementsWithMouseEvents.push(t),this.mouseDown=this.mouseDown.bind(this),t.addEventListener("mousedown",this.mouseDown,!1),this.mouseMove=this.mouseMove.bind(this),t.addEventListener("mousemove",this.mouseMove,!1),this.mouseUp=this.mouseUp.bind(this),t.addEventListener("mouseup",this.mouseUp,!1),this.mouseLeave=this.mouseLeave.bind(this),t.addEventListener("mouseleave",this.mouseLeave,!1),this.mouseScroll=this.mouseScroll.bind(this),t.addEventListener("mousewheel",this.mouseScroll,!1),window.addEventListener("DOMMouseScroll",this.mouseScroll,!1)}removeMouseEvents(t){t.removeEventListener("mousedown",this.mouseDown,!1),t.removeEventListener("mousemove",this.mouseMove,!1),t.removeEventListener("mouseup",this.mouseUp,!1),t.removeEventListener("mouseleave",this.mouseLeave,!1),t.removeEventListener("mousewheel",this.mouseScroll,!1),window.removeEventListener("DOMMouseScroll",this.mouseScroll,!1)}reAddAllMouseEvents(){var t;for(t=0;t<this.elementsWithMouseEvents.length;t++)this.addMouseEvents(this.elementsWithMouseEvents[t])}removeAllMouseEvents(){var t;for(t=0;t<this.elementsWithMouseEvents.length;t++)this.removeMouseEvents(this.elementsWithMouseEvents[t])}closeAllPagesAndMenus(){if(e.core.appStateHandler.isChoosingDateTimeForEvent||e.core.appStateHandler.isMainMenuShowing||e.core.appStateHandler.isPopupMainMenuShowing||e.core.appStateHandler.isPopupEditRecurringMenuShowing||e.core.appStateHandler.viewEventControlIsShowing||e.core.appStateHandler.editEventControlIsShowing||e.core.appStateHandler.calendarsControlIsShowing||e.core.appStateHandler.shopControlIsShowing||e.core.appStateHandler.settingsControlIsShowing)for(;e.core.appStateHandler.back(););}click(t,r){let s=!1,o=e.core.domHandler.screenTopForDOM*e.core.ratio+e.core.zopDrawArea.zopAreaTop,l=e.core.domHandler.screenLeftForDOM*e.core.ratio+e.core.zopDrawArea.zopAreaLeft;if(e.core.appStateHandler.isChoosingDateTimeForEvent&&(s=e.core.dateTimeSelectionHandler.click(t,r)),!s)if(e.core.appStateHandler.isMainMenuShowing)e.core.mainMenuControl.click(t-l,r-o);else if(e.core.mainMenuControl.hitMenuButton(t-l,r-o))e.core.appStateHandler.isChoosingDateTimeForEvent||e.core.appStateHandler.mainButtonPressed();else if(e.core.calendarDateHandler.getHitWeekAt(t-l,r-o,!0))e.core.calendarDateHandler.gotoCalendarDateObject(s,r-o);else{let p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l,r-o);p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l,r-o+4)),p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l,r-o-4)),p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l+2,r-o)),p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l-2,r-o)),p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l,r-o+8)),p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l,r-o-8)),p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l+4,r-o)),p||(p=e.core.calendarEventHandler.selectCalendarEventObjectAt(t-l-4,r-o)),p?e.core.postRequest("setDetailPath",p.eventId.split(",").map(f=>parseInt(f))):e.core.calendarEventHandler.gotoBadgeAt(t-l,r-o)||e.core.calendarDateHandler.gotoCalendarDateObjectAt(t-l,r-o)}e.core.redraw(!0)}testIfStartDraggingMarker(t,r,s){e.core.dateTimeSelectionHandler.hitTopMarkerAt(t,r)?(e.core.dateTimeSelectionHandler.startDraggingTopMarker(r),e.core.redraw(!1),this.fingerLastDraggingTopMarker=s):e.core.dateTimeSelectionHandler.hitBottomMarkerAt(t,r)&&(e.core.dateTimeSelectionHandler.startDraggingBottomMarker(r),e.core.redraw(!1),this.fingerLastDraggingBottomMarker=s)}testIfContinueDraggingMarker(t,r){e.core.appStateHandler.isDraggingTopMarker&&r===this.fingerLastDraggingTopMarker?(e.core.dateTimeSelectionHandler.continueDraggingTopMarker(t),e.core.redraw(!1)):e.core.appStateHandler.isDraggingBottomMarker&&r===this.fingerLastDraggingBottomMarker&&(e.core.dateTimeSelectionHandler.continueDraggingBottomMarker(t),e.core.redraw(!1))}testIfEndDraggingMarker(){e.core.appStateHandler.isDraggingTopMarker?(e.core.dateTimeSelectionHandler.endDraggingTopMarker(),e.core.redraw(!1)):e.core.appStateHandler.isDraggingBottomMarker&&(e.core.dateTimeSelectionHandler.endDraggingBottomMarker(),e.core.redraw(!1))}touchStart(t){t.preventDefault(),this.canBeAClick=!0,e.core.drawAreaEffects.isScrollingOrZooming()&&(this.canBeAClick=!1),e.core.preloadAllImages(),e.core.drawAreaEffects.stopAllEffects(),e.core.touchEnabledDevice=!0,this.touches=t.touches,e.core.firstTouchMade=!0;let r=this.getTouchX(this.touches[0])*e.core.ratio*e.core.domRatio;var s=this.getTouchY(this.touches[0])*e.core.ratio*e.core.domRatio;return this.startedInTitleArea=e.core.mainMenuControl.startDragging(r,s),e.core.appStateHandler.isChoosingDateTimeForEvent&&(1<=this.touches.length&&(this.testIfEndDraggingMarker(),this.testIfStartDraggingMarker(r,s,0)),2<=this.touches.length&&this.testIfStartDraggingMarker(this.getTouchX(this.touches[1])*e.core.ratio*e.core.domRatio,this.getTouchY(this.touches[1])*e.core.ratio*e.core.domRatio,1)),this.touches.length===1&&(this.touchOneFingerStarted=!0,this.touchOneFingerStartX=this.getTouchX(this.touches[0]),this.touchOneFingerStartY=this.getTouchY(this.touches[0]),this.currentPressStartedTime=e.core.getTimeStamp(),this.longPressStartX=r,this.longPressStartY=s),2<=this.touches.length&&(this.touchOneFingerStarted=!1,this.touchTwoFingerStarted=!0,this.canBeAClick=!1),e.core.addButtonControl.startDragging(r,s)||e.core.appStateHandler.isDraggingTopMarker||e.core.appStateHandler.isDraggingBottomMarker||e.core.appStateHandler.isMainMenuShowing||e.core.appStateHandler.isPopupMainMenuShowing||e.core.appStateHandler.isPopupEditRecurringMenuShowing||(this.touches.length===1&&e.core.zopHandler.startScroll(s),2<=this.touches.length&&e.core.zopHandler.startZoom(s,this.getTouchY(this.touches[1])*e.core.ratio*e.core.domRatio)),this.timeWhenLastTouchEnded&&this.timeWhenLastTouchEnded+250>e.core.getTimeStamp()&&(this.canBeAClick=!1),e.core.redraw(!1),!1}getTouchX(t){return t.pageX-e.core.domHandler.screenLeftForDOM}getTouchY(t){return t.pageY-e.core.domHandler.screenTopForDOM}mouseDown(t){if(t.preventDefault(),e.core.firstTouchMade=!0,e.core.touchEnabledDevice){this.removeAllMouseEvents();return}e.core.drawAreaEffects.stopAllEffects(),e.core.preloadAllImages(),this.mouseWasDragged=0;const r=t.pageY*e.core.ratio*e.core.domRatio,s=t.pageX*e.core.ratio*e.core.domRatio,o=(t.pageY-e.core.domHandler.screenTopForDOM)*e.core.ratio*e.core.domRatio,l=(t.pageX-e.core.domHandler.screenLeftForDOM)*e.core.ratio*e.core.domRatio;if(this.startedInTitleArea=e.core.mainMenuControl.startDragging(l,o),t.button===0){if(this.canBeAClick=!0,this.mouseLeftDown=!0,this.longPressStartX=s,this.longPressStartY=r,this.currentPressStartedTime=e.core.getTimeStamp(),e.core.appStateHandler.isChoosingDateTimeForEvent&&this.testIfStartDraggingMarker(s,r,0),e.core.addButtonControl.startDragging(l,o))return;!e.core.appStateHandler.isDraggingTopMarker&&!e.core.appStateHandler.isDraggingBottomMarker&&!e.core.appStateHandler.isMainMenuShowing&&!e.core.appStateHandler.isPopupMainMenuShowing&&!e.core.appStateHandler.isPopupEditRecurringMenuShowing&&e.core.zopHandler.startScroll(r)}else!e.core.appStateHandler.isMainMenuShowing&&!e.core.appStateHandler.isPopupMainMenuShowing&&!e.core.appStateHandler.isPopupEditRecurringMenuShowing&&(this.mouseRightDown=!0,this.mouseZoomY=r-500,e.core.zopHandler.startZoom(this.mouseZoomY,r));return e.core.redraw(!1),!1}touchMove(t){t.preventDefault(),this.touches=t.touches;const r=this.getTouchY(this.touches[0])*e.core.ratio*e.core.domRatio;var s=this.getTouchX(this.touches[0])*e.core.ratio*e.core.domRatio,o;return this.touches.length>1&&(o=this.getTouchY(this.touches[1])*e.core.ratio*e.core.domRatio,this.getTouchX(this.touches[1])),e.core.appStateHandler.isChoosingDateTimeForEvent&&(this.touches.length>0&&this.testIfContinueDraggingMarker(r,0),this.touches.length>1&&this.testIfContinueDraggingMarker(o,1)),this.currentPressStartedTime<Date.now()-550&&(this.canBeAClick=!1),this.touches.length===1&&this.touchOneFingerStarted&&Math.abs(this.touchOneFingerStartX-this.getTouchX(this.touches[0]))+Math.abs(this.touchOneFingerStartY-this.getTouchY(this.touches[0]))>this.touchSlop*e.core.ratio*e.core.domRatio*(this.startedInTitleArea?1.5:1)&&(this.canBeAClick=!1),!this.canBeAClick&&this.startedInTitleArea?e.core.mainMenuControl.continueDragging(s,r):e.core.appStateHandler.isAddButtonBeingDragged?e.core.addButtonControl.continueDragging(s,r):!e.core.appStateHandler.isDraggingTopMarker&&!e.core.appStateHandler.isDraggingBottomMarker&&!e.core.appStateHandler.isMainMenuShowing&&!e.core.appStateHandler.isPopupMainMenuShowing&&!e.core.appStateHandler.isPopupEditRecurringMenuShowing&&(this.touches.length===1&&this.touchOneFingerStarted?(this.canBeAClick||e.core.appStateHandler.isMainMenuShowing,e.core.zopHandler.continueScroll(r),e.core.drawAreaEffects.prepareAutoScroll(r)):this.touches.length>=2&&this.touchTwoFingerStarted&&e.core.zopHandler.continueZoom(r,o)),e.core.redraw(!1),!1}mouseMove(t){if(t.preventDefault(),e.core.touchEnabledDevice){this.removeAllMouseEvents();return}const r=t.pageY*e.core.ratio*e.core.domRatio,s=t.pageX*e.core.ratio*e.core.domRatio,o=(t.pageY-e.core.domHandler.screenTopForDOM)*e.core.ratio*e.core.domRatio,l=(t.pageX-e.core.domHandler.screenLeftForDOM)*e.core.ratio*e.core.domRatio;if(this.mouseLeftDown){if(this.longPressStartX!==s&&this.longPressStartY!==r&&(this.canBeAClick=!1),e.core.appStateHandler.isPopupEditRecurringMenuShowing)return;this.mouseWasDragged+=1,e.core.appStateHandler.isChoosingDateTimeForEvent&&this.testIfContinueDraggingMarker(r,0),!this.canBeAClick&&this.startedInTitleArea?e.core.mainMenuControl.continueDragging(l,o):e.core.appStateHandler.isAddButtonBeingDragged?e.core.addButtonControl.continueDragging(l,o):!e.core.appStateHandler.isDraggingTopMarker&&!e.core.appStateHandler.isDraggingBottomMarker&&!e.core.appStateHandler.isMainMenuShowing&&!e.core.appStateHandler.isPopupMainMenuShowing&&!e.core.appStateHandler.isAddButtonBeingDragged&&(e.core.zopHandler.continueScroll(r),e.core.drawAreaEffects.prepareAutoScroll(r)),e.core.redraw(!1)}this.mouseRightDown&&!e.core.appStateHandler.isMainMenuShowing&&!e.core.appStateHandler.isPopupMainMenuShowing&&!e.core.appStateHandler.isPopupEditRecurringMenuShowing&&(e.core.zopHandler.continueZoom(this.mouseZoomY,r),e.core.redraw(!1));let c=e.core.calendarEventHandler.selectCalendarEventObjectAt(l,o);return e.core.postRequest("setHoveringPath",(c==null?void 0:c.eventId.split(",").map(p=>parseInt(p)))??void 0),document.documentElement.style.cursor=c?"pointer":"default",!1}touchEnd(t){if(t.preventDefault(),!this.touchOneFingerStarted&&!this.touchTwoFingerStarted)return!1;var r=t.touches;return t=t.changedTouches,e.core.appStateHandler.isChoosingDateTimeForEvent&&this.testIfEndDraggingMarker(),this.currentPressStartedTime<e.core.getTimeStamp()-550&&(this.canBeAClick=!1),e.core.appStateHandler.isMainMenuBeingDragged?e.core.mainMenuControl.endDragging():e.core.appStateHandler.isAddButtonBeingDragged?e.core.addButtonControl.endDragging():!this.touchOneFingerStarted||t.length!==1||r!==void 0&&r.length!==0||(this.canBeAClick===!1?e.core.drawAreaEffects.startAutoScroll(this.getTouchY(t[0])*e.core.ratio*e.core.domRatio):this.click(t[0].pageX*e.core.ratio*e.core.domRatio,t[0].pageY*e.core.ratio*e.core.domRatio)),e.core.zopHandler.endScroll(),e.core.zopHandler.endZoom(),this.touchTwoFingerStarted=this.touchOneFingerStarted=this.canBeAClick=!1,this.timeWhenLastTouchEnded=e.core.getTimeStamp(),e.core.redraw(!1),!1}mouseUp(t){return t.preventDefault(),e.core.touchEnabledDevice?this.removeAllMouseEvents():(e.core.appStateHandler.isMainMenuBeingDragged?(this.mouseLeftDown=!1,e.core.mainMenuControl.endDragging()):e.core.appStateHandler.isAddButtonBeingDragged?(this.mouseLeftDown=!1,e.core.addButtonControl.endDragging()):this.mouseLeftDown&&(this.mouseLeftDown=!1),e.core.appStateHandler.isDraggingTopMarker||e.core.appStateHandler.isDraggingBottomMarker||(e.core.zopHandler.endScroll(),this.mouseWasDragged>3||this.currentPressStartedTime<e.core.getTimeStamp()-650?(this.mouseWasDragged=0,e.core.drawAreaEffects.prepareAutoScroll(t.pageY*e.core.ratio*e.core.domRatio,200),e.core.drawAreaEffects.startAutoScroll(t.pageY*e.core.ratio*e.core.domRatio)):this.click(t.pageX*e.core.ratio*e.core.domRatio,t.pageY*e.core.ratio*e.core.domRatio),e.core.appStateHandler.isChoosingDateTimeForEvent&&this.testIfEndDraggingMarker())),this.mouseRightDown&&!e.core.appStateHandler.isMainMenuShowing&&!e.core.appStateHandler.isPopupMainMenuShowing&&!e.core.appStateHandler.isPopupEditRecurringMenuShowing&&(this.mouseRightDown=!1,e.core.zopHandler.endZoom()),this.canBeAClick=!1,e.core.redraw(!1),!1}mouseScroll(t){t.preventDefault();const r=(t.pageY-e.core.domHandler.screenTopForDOM)*e.core.ratio*e.core.domRatio;if((t.pageX-e.core.domHandler.screenLeftForDOM)*e.core.ratio*e.core.domRatio,!t.ctrlKey){e.core.drawAreaEffects.stopAllEffects(),t.deltaY,e.core.zopHandler.startScroll(r),e.core.zopHandler.continueScroll(r-t.deltaY),e.core.redraw(!1);return}var s=-t.deltaY;this.timeForLastScrollEvent=e.core.getTimeStamp();var o=e.core.zopHandler.topZOP,l=e.core.zopHandler.bottomZOP;e.core.drawAreaEffects.azRunning&&(o=(e.core.drawAreaEffects.azGoalTopZOP+o)/2,l=(e.core.drawAreaEffects.azGoalBottomZOP+l)/2),t=e.core.zopHandler.getZOPFromPixel((t.pageY-(e.core.domHandler.screenTopForDOM*e.core.ratio+e.core.zopDrawArea.zopAreaTop))*e.core.ratio*e.core.domRatio);const c=(t-l)/(o-l);return s*=.01*(l-o),o=o+s*(1-c),l=l-s*c,e.core.drawAreaEffects.stopAllEffects(),e.core.zopHandler.setZoom(o,l,e.core.zopHandler.topPixel,e.core.zopHandler.bottomPixel),!1}mouseLeave(t){e.core.touchEnabledDevice===!0?this.removeAllMouseEvents():(e.core.appStateHandler.isAddButtonBeingDragged=!1,(t.pageX*e.core.ratio*e.core.domRatio>e.core.domHandler.screenWidth||t.pageY*e.core.ratio*e.core.domRatio>e.core.domHandler.screenHeight)&&(this.mouseLeftDown&&(this.mouseLeftDown=!1,e.core.zopHandler.endScroll(),e.core.drawAreaEffects.stopAllEffects()),this.mouseRightDown&&(this.mouseRightDown=!1,e.core.zopHandler.endZoom()),e.core.appStateHandler.isMainMenuBeingDragged?(this.mouseLeftDown=!1,e.core.mainMenuControl.endDragging()):e.core.appStateHandler.isAddButtonBeingDragged&&(this.mouseLeftDown=!1,e.core.addButtonControl.endDragging())),e.core.redraw(!1))}touchLeave(t){e.core.appStateHandler.isAddButtonBeingDragged=!1,e.core.zopHandler.endScroll(),e.core.drawAreaEffects.stopAllEffects(),e.core.zopHandler.endZoom(),e.core.redraw(!1)}}e.EventHandler=Br;class zr{constructor(){this.currentDelta=0,this.currentZoom=1,this.absoluteMinZoom=.05,this.absoluteMaxZoom=9e3,this.zopSizeOf5Minutes=0,this.zopSizeOfHour=0,this.zopSizeOfDay=0,this.zopSizeOfWeek=0,this.zopSizeOfMonth=0,this.zopSizeOfYear=0,this.originalZOP2=0,this.originalZOP=0,this.currentYPixel2=0,this.currentYPixel=0,this.originalYPixel2=0,this.originalYPixel=0,this.originalZoom=0,this.originalDelta=0,this.absoluteMaxZOP=0,this.absoluteMinZOP=0,this.maxScrollSpeed=3,this.rightPixel=0,this.leftPixel=0,this.bottomPixel=0,this.topPixel=0,this.extendedBottomZOP=0,this.extendedTopZOP=0,this.bottomZOP=0,this.topZOP=0,this.scrolling=!1}setAbsoluteMinMax(t,r){this.absoluteMinZOP=t,this.absoluteMaxZOP=r,this.zopSizeOfYear=this.dateToZOP(new Date(2005,0,1,0,0,0))-this.dateToZOP(new Date(2004,0,1,0,0,0)),this.zopSizeOfMonth=this.dateToZOP(new Date(2005,2,1,0,0,0))-this.dateToZOP(new Date(2005,1,1,0,0,0)),this.zopSizeOfWeek=this.dateToZOP(new Date(2005,2,8,0,0,0))-this.dateToZOP(new Date(2005,2,1,0,0,0)),this.zopSizeOfDay=this.dateToZOP(new Date(2005,1,2,0,0,0))-this.dateToZOP(new Date(2005,1,1,0,0,0)),this.zopSizeOfHour=this.dateToZOP(new Date(2005,1,1,2,0,0))-this.dateToZOP(new Date(2005,1,1,1,0,0)),this.zopSizeOf5Minutes=this.dateToZOP(new Date(2005,1,1,2,10,0))-this.dateToZOP(new Date(2005,1,1,2,5,0))}initSize(t,r,s,o){this.topPixel=t,this.bottomPixel=r,this.leftPixel=s,this.rightPixel=o}getZoom(){return this.currentZoom}setZoom(t,r,s,o){this.currentZoom=(r-t)/(o-s),this.currentZoom===0&&(this.currentZoom=1e3),this.validateZoomValues(),this.currentDelta=t-(s-this.topPixel)*this.currentZoom,this.setZOPBounds(this.getZOPFromPixel2(this.topPixel,this.currentZoom,this.currentDelta),this.bottomZOP=this.getZOPFromPixel2(this.bottomPixel,this.currentZoom,this.currentDelta))}setZOPBounds(t,r){this.topZOP=t,this.bottomZOP=r;var s=this.bottomZOP-this.topZOP;this.extendedTopZOP=this.topZOP-s,this.extendedBottomZOP=this.bottomZOP+s}isObjectAboveScreen(t){return t<this.topZOP}isObjectBelowScreen(t){return t>this.bottomZOP}isObjectAboveExtendedScreen(t){return t<this.extendedTopZOP}isObjectBelowExtendedScreen(t){return t>this.extendedBottomZOP}startScroll(t){this.originalDelta=this.currentDelta,this.currentYPixel=this.originalYPixel=t,this.scrolling=!0}continueScroll(t){if(this.scrolling){e.core.getTimeStamp(),this.originalYPixel!=t&&e.core.getTimeStamp();var r=this.getZOPFromPixel2(this.originalYPixel,this.currentZoom,this.originalDelta);t=this.getZOPFromPixel2(t,this.currentZoom,this.originalDelta),this.currentDelta=this.originalDelta-(t-r),this.setZOPBounds(this.getZOPFromPixel2(this.topPixel,this.currentZoom,this.currentDelta),this.bottomZOP=this.getZOPFromPixel2(this.bottomPixel,this.currentZoom,this.currentDelta)),this.validateZoomValues()}}endScroll(){this.scrolling=!1}startZoom(t,r){if(this.originalDelta=this.currentDelta,this.originalZoom=this.currentZoom,this.originalYPixel=t,this.originalYPixel2=r,this.originalYPixel>this.originalYPixel2){var s=this.originalYPixel;this.originalYPixel=this.originalYPixel2,this.originalYPixel2=s}50>this.originalYPixel2-this.originalYPixel&&(this.originalYPixel2=this.originalYPixel+50),this.originalZOP=this.getZOPFromPixel2(this.originalYPixel,this.originalZoom,this.originalDelta),this.originalZOP2=this.getZOPFromPixel2(this.originalYPixel2,this.originalZoom,this.originalDelta)}continueZoom(t,r){if(this.currentYPixel=t,this.currentYPixel2=r,this.currentYPixel>this.currentYPixel2){var s=this.currentYPixel;this.currentYPixel=this.currentYPixel2,this.currentYPixel2=s}this.currentYPixel2-this.currentYPixel>50&&(this.setZoom(this.originalZOP,this.originalZOP2,this.currentYPixel,this.currentYPixel2),this.validateZoomValues())}endZoom(){}showInitialBounds(t){var r=e.core.calendarDataProxy&&e.core.calendarDataProxy.demoVideoSpecial&&500<this.currentZoom,o=this.dateToZOP(new Date),l=e.core.calendarDateHandler.getCalendarDateObject(o,e.CalendarDateObjectType.Day,e.core.calendarDateHandler.rootCalendarDateObjects[0]);if(5>l.calendarEvents.length&&(l=e.core.calendarDateHandler.getCalendarDateObject(o,e.CalendarDateObjectType.Month,e.core.calendarDateHandler.rootCalendarDateObjects[0])),4>l.calendarEvents.length&&(l=e.core.calendarDateHandler.getCalendarDateObject(o,e.CalendarDateObjectType.Year,e.core.calendarDateHandler.rootCalendarDateObjects[0])),l.calendarEvents.length===0)o=this.dateToZOP(D().add(-2,"days").toDate()),l=this.dateToZOP(D().add(8,"days").toDate());else var s=10*(l.endZOP-l.startZOP)/l.calendarEvents.length,l=o+.8*s,o=Math.max(o-.2*s,this.dateToZOP(D().add(-7,"days").toDate())),l=Math.min(l,this.dateToZOP(D().add(30,"days").toDate()));t?e.core.drawAreaEffects.startAutoZoom(o,l,r,function(){}):this.setZOPBounds(o,l),e.core.calendarDataProxy&&e.core.calendarDataProxy.analyticsValue("Value","Start","Initial Zoom",l-o)}validateZoomValues(){this.currentZoom<this.absoluteMinZoom&&(this.currentZoom=this.absoluteMinZoom,e.core.drawAreaEffects.stopAllEffects()),this.currentZoom>this.absoluteMaxZoom&&(this.currentZoom=this.absoluteMaxZoom,e.core.drawAreaEffects.stopAllEffects());var t=this.currentDelta,r=this.getZOPFromPixel2(this.bottomPixel,this.currentZoom,this.currentDelta),s=r-t;this.currentDelta<this.absoluteMinZOP&&(t=this.currentDelta=this.absoluteMinZOP,r=t+s,this.originalYPixel=this.currentYPixel,this.setZoom(t,r,this.topPixel,this.bottomPixel)),r>this.absoluteMaxZOP&&(r=this.absoluteMaxZOP,t=this.currentDelta=Math.max(this.absoluteMinZOP,r-s),this.originalYPixel=this.currentYPixel,this.originalYPixel2=this.currentYPixel2,this.setZoom(t,r,this.topPixel,this.bottomPixel))}getPixelFromZOP(t){return this.currentZoom===0?0:Math.floor((t-this.currentDelta)/this.currentZoom+this.topPixel)}get2PixelsFromZOPsForVErticalText(t,r){if(this.currentZoom===0)return new e.NumberPair(0,0);var o=(r-this.currentDelta)/this.currentZoom+this.topPixel,s=Math.floor(o-((t-this.currentDelta)/this.currentZoom+this.topPixel)),o=Math.floor(o);return new e.NumberPair(o-s,o)}getZOPFromPixel2(t,r,s){return(t-this.topPixel)*r+s}getZOPFromPixel(t){return this.getZOPFromPixel2(t,this.currentZoom,this.currentDelta)}getZOPFromPixelDiff(t){return this.getZOPFromPixel2(t,this.currentZoom,this.currentDelta)-this.getZOPFromPixel2(0,this.currentZoom,this.currentDelta)}getFractionalPixelDistance(t){return this.currentZoom===0?0:t/this.currentZoom}updateStartEndZOP(t){t.startZOP=this.dateToZOP(t.startDateTime),t.endZOP=this.dateToZOP(t.endDateTime)-1}dateToZOP(t){return(Number(t)-e.core.settings.globalMinDate)/6e4}getDateFromZOP(t){return new Date(6e4*t+e.core.settings.globalMinDate)}getPixelFromDate(t){return this.getPixelFromZOP(this.dateToZOP(t))}getDateFromPixel(t){return this.getDateFromZOP(this.getZOPFromPixel(t))}getZOPSizeOf(t){switch(t){case e.CalendarDateObjectType.Minutes5:return this.zopSizeOf5Minutes;case e.CalendarDateObjectType.Hour:return this.zopSizeOfHour;case e.CalendarDateObjectType.Day:return this.zopSizeOfDay;case e.CalendarDateObjectType.Week:return this.zopSizeOfWeek;case e.CalendarDateObjectType.Month:return this.zopSizeOfMonth;case e.CalendarDateObjectType.Year:return this.zopSizeOfYear;default:throw Error("Unhandled CalendarDateObjectType")}}getPixelSizeOf(t){switch(t){case e.CalendarDateObjectType.Minutes5:return this.getPixelSizeOf5Minutes();case e.CalendarDateObjectType.Hour:return this.getPixelSizeOfHour();case e.CalendarDateObjectType.Day:return this.getPixelSizeOfDay();case e.CalendarDateObjectType.Week:return this.getPixelSizeOfWeek();case e.CalendarDateObjectType.Month:return this.getPixelSizeOfMonth();case e.CalendarDateObjectType.Year:return this.getPixelSizeOfYear();default:throw Error("Unhandled CalendarDateObjectType")}}getPixelSizeOfYear(){return this.zopSizeOfYear/this.currentZoom}getPixelSizeOfMonth(){return this.zopSizeOfMonth/this.currentZoom}getPixelSizeOfWeek(){return this.zopSizeOfWeek/this.currentZoom}getPixelSizeOfDay(){return this.zopSizeOfDay/this.currentZoom}getPixelSizeOfHour(){return this.zopSizeOfHour/this.currentZoom}getPixelSizeOf5Minutes(){return this.zopSizeOf5Minutes/this.currentZoom}}e.ZopHandler=zr;class Ir{constructor(){this.cacheKeys=[],this.cacheObjects=[],this.nextCacheKeys=[],this.nextCacheObjects=[],this.lastIndex=-1}startNewRound(){this.lastIndex=-1,this.cacheKeys=this.nextCacheKeys,this.cacheObjects=this.nextCacheObjects,this.nextCacheKeys=[],this.nextCacheObjects=[]}emptyCache(){this.lastIndex=-1,this.cacheKeys=[],this.cacheObjects=[],this.nextCacheKeys=[],this.nextCacheObjects=[]}findObject(t){var r=this.lastIndex+1;if(1e4<this.cacheKeys.length)throw Error("Cache too big!");for(;this.cacheKeys[r]!==t&&r<this.cacheKeys.length;)r++;if(r<this.cacheKeys.length)return this.nextCacheKeys.push(this.cacheKeys[r]),this.nextCacheObjects.push(this.cacheObjects[r]),this.lastIndex=r,this.cacheObjects[r];if(0<this.lastIndex)return this.lastIndex=0,this.findObject(t)}addObject(t,r){this.nextCacheKeys.push(t),this.nextCacheObjects.push(r)}}e.SpeedCache=Ir;class Wr{constructor(){this.keys=[],this.values=[]}put(t,r){this.keys.push(t),this.values.push(r)}find(t){var r;for(r=0;r<this.keys.length;r++)if(this.keys[r]==t)return this.values[r]}}e.Hashtable=Wr;class _r{constructor(...t){var r,s,o,l;if(this.isGraded=!1,this.grade=0,this.isHovered=!1,this.isDetail=!1,t.length>1)this.summary=t[0],this.description=t[1],this.location=t[2],this.startDateTime=t[3],this.endDateTime=t[4],t[3].getHours()===0&&t[3].getMinutes()===0&&(this.endDateTime=(s=(r=e.core)==null?void 0:r.calendarDateHandler)==null?void 0:s.addMinutes(t[3],-1)),e.core.zopHandler.updateStartEndZOP(this),this.isGraded=!1,this.grade=0,this.calendarId=t[5],this.eventId=t[6],this.color="",this.isHovered=!1,this.isDetail=!1,this.mwNode=void 0;else{const{summary:c,description:p,location:f,startDate:g,endDate:m,calendarId:S,eventId:M,color:_,isHovered:j,isDetail:B,mwNode:Ce}=t[0];this.summary=c||"",this.description=p||"",this.location=f,this.startDateTime=g,this.endDateTime=m,m.getHours()===0&&m.getMinutes()===0&&(this.endDateTime=(l=(o=e.core)==null?void 0:o.calendarDateHandler)==null?void 0:l.addMinutes(m,-1)),e.core.zopHandler.updateStartEndZOP(this),this.isGraded=!1,this.grade=0,this.calendarId=S,this.eventId=M,this.color=_,this.isHovered=j,this.isDetail=B,this.mwNode=Ce}}}e.CalendarEventObject=_r;class Lr{constructor(t,r,s,o,l,c,p){this.id=t,this.name=r,this.colorId=o,this.visibility=l,this.canEditCalendar=c,this.canEditCalendarEvents=p,this.defaultReminders=s,this.allEventsAreFullDay=!0,this.countEvents=0}}e.CalendarObject=Lr;class Rr{constructor(t){this.minutes=+t}}e.Reminder=Rr;class Zr{constructor(t,r,s){this.details=[],this.possibleFullEvents=[],this.calendarEvents=[],this.calendarDateObjectType=t,this.detailsArePopulated=!0,this.isReadyForParentToBeShown=!1,this.startDateTime=r,this.endDateTime=new Date(this.startDateTime.getTime()),this.startZOP=e.core.zopHandler.dateToZOP(this.startDateTime),this.isRed=!1,t===e.CalendarDateObjectType.Minutes5&&(this.endDateTime.setMinutes(this.startDateTime.getMinutes()+5),e.core.commonUserSettings.use24hFormat?this.shortText=D(this.startDateTime).format("HH"):(this.shortText=D(this.startDateTime).format("h"),this.ampm=D(this.startDateTime).format("A")),this.shortText2=10>this.startDateTime.getMinutes()?"0"+this.startDateTime.getMinutes():""+this.startDateTime.getMinutes(),this.startDateTime.getHours(),this.startDateTime.getHours(),this.longText=this.shortText,this.detailsArePopulated=!0),t===e.CalendarDateObjectType.Hour&&(this.endDateTime.setHours(this.startDateTime.getHours()+1),e.core.commonUserSettings.use24hFormat?(this.shortText=D(this.startDateTime).format("HH"),this.shortText2=10>this.startDateTime.getMinutes()?"0"+this.startDateTime.getMinutes():""+this.startDateTime.getMinutes(),this.longText=this.shortText+":"+this.shortText2):(this.shortText=D(this.startDateTime).format("h"),this.shortText2=10>this.startDateTime.getMinutes()?"0"+this.startDateTime.getMinutes():""+this.startDateTime.getMinutes(),this.shortText2=="00"&&(this.shortText2=void 0),this.ampm=D(this.startDateTime).format("A"),this.longText=this.shortText+(this.shortText2?":"+this.shortText2:"")+" "+this.ampm),this.detailsArePopulated=!1),t===e.CalendarDateObjectType.Day&&(this.endDateTime.setDate(this.startDateTime.getDate()+1),this.shortText=this.startDateTime.getDate().toString(),this.shortText2=e.core.helper.weekdayShort.find(this.startDateTime.getDay()),this.shortText2==null&&(this.shortText2=D(this.startDateTime).format("ddd"),e.core.helper.weekdayShort.put(this.startDateTime.getDay(),this.shortText2),e.core.helper.weekdayShort.put(this.startDateTime.getDay()+7,this.shortText2)),this.longText=e.core.helper.weekdayLong.find(this.startDateTime.getDay()),this.longText==null&&(this.longText=D(this.startDateTime).format("dddd"),e.core.helper.weekdayLong.put(this.startDateTime.getDay(),this.longText),e.core.helper.weekdayLong.put(this.startDateTime.getDay()+7,this.longText)),this.longText=this.startDateTime.getDate()+" "+this.longText,this.detailsArePopulated=!1,this.startDateTime.getDay()===e.core.settings.redDay&&(this.isRed=!0)),t===e.CalendarDateObjectType.Week&&(this.endDateTime.setDate(this.endDateTime.getDate()+7),this.detailsArePopulated=!0,this.details=[{},{},{},{},{},{},{}]),t===e.CalendarDateObjectType.Month&&(this.endDateTime.setMonth(this.startDateTime.getMonth()+1),this.shortText=e.core.helper.monthesShort.find(this.startDateTime.getMonth()),this.shortText==null&&(this.shortText=D(this.startDateTime).format("MMM"),e.core.helper.monthesShort.put(this.startDateTime.getMonth(),this.shortText)),this.longText=e.core.helper.monthesLong.find(this.startDateTime.getTime()),this.longText==null&&(this.longText=D(this.startDateTime).format("MMMM YYYY"),e.core.helper.monthesLong.put(this.startDateTime.getTime(),this.longText)),this.parentText="",this.detailsArePopulated=!1),t===e.CalendarDateObjectType.Year&&(this.endDateTime.setFullYear(this.startDateTime.getFullYear()+1),this.shortText=""+this.startDateTime.getFullYear(),this.longText=""+this.startDateTime.getFullYear(),this.detailsArePopulated=!1),t===e.CalendarDateObjectType.Title&&(this.endDateTime=s,this.longText="",this.detailsArePopulated=!1),this.endZOP=e.core.zopHandler.dateToZOP(this.endDateTime)}}e.CalendarDateObject=Zr;class jr{constructor(t,r,s,o){this.calendarEvent=t,this.calendarDate=r,this.calendarDateDetail=s,this.position=o}}e.PossibleEventTagsAtThisZoomLevel=jr;class Nr{constructor(t,r){this.extraSpace=0,this.calendarEventTagWrappers=[],this.parentBottomZOP=this.parentTopZOP=0,this.calendarDateObject=t,this.availableSpace=r}}e.CalendarEventTagGroup=Nr;class Yr{constructor(t){this.wantedPixelShift=0,this.right=0,this.left=0,this.position=0,this.isPartial=!1,this.parentCollidingFullEventWrappers=[],this.visible=!0,this.calendarEvent=t}}e.CalendarEventTagWrapper=Yr;class wr{constructor(t){this.widthPercentWhenTagsExist=0,this.widthPercent=0,this.preferredWidth=void 0,this.right=void 0,this.left=void 0,this.collisionsHaveBeenChecked=!1,this.parentCollidingFullEventWrappers=[],this.childCollidingFullEventWrappers=[],this.childCollidingEventTagWrappers=[],this.calendarEvent=t}}e.CalendarFullEventWrapper=wr;class Ur{constructor(){this.closeToBellow=this.closeToAbove=!1}}e.Badge=Ur;class Gr{constructor(){this.left=this.maxZOP=this.minZOP=0}}e.OccupiedSpaceObject=Gr;class Xr{constructor(){this.parentCollidingFullEventWrapper=void 0,this.maxZOP=this.minZOP=0}}e.TagSurface=Xr;class qr{constructor(){}}e.TagDataToPaint=qr;class $r{constructor(t,r){this.value1=t,this.value2=r}}e.NumberPair=$r;class Kr{constructor(t,r){this.valueNumber=t,this.valueString=r}}e.NumberStringPair=Kr;class Jr{constructor(t){this.absoluteMinDate=D("1900-01-01 00:00:00").toDate(),this.absoluteMaxDate=D("2100-01-01 00:00:00").toDate(),this.globalMinDate=Number(D("1900-01-01 00:00:00").toDate()),this.margin=0,this.redDay=0,this.menuIconHeight=0,this.menuItemHeight=0,this.menuTextHeight=0,this.title2FontSize=0,this.title1FontSize=0,this.title0FontSize=0,this.weekCircleDiameter=0,this.innerTopMaxMargin=0,this.innerLeftMargin=0,this.titleWidth=0,this.dateBigTextSize=0,this.badgeTextHeight=0,this.tagTextHeight=0,this.tagColorWidth=0,this.minDateHeight=0,this.tagHeight=0,this.rightToLeft=!0,this.eventsFarLeft=0,this.useMiniBadges=!1,this.zoom=this.menuButtonBottom=this.badgesLeft=0,this.allowWeekNumber=!0,this.lineThickness=2,this.themes=new e.Dictionary,this.reloadThemesSettings(t)}reloadThemesSettings(t){this.themes.add("0",new va),t.licenceDarkTheme&&this.themes.add("3",new fa),t.licenceCandyTheme&&this.themes.add("4",new Ta),this.themes.containsKey(t.theme)||(t.theme="0"),this.theme=this.themes[t.theme]}reloadTheme(){this.themes.containsKey(e.core.commonUserSettings.theme)||(e.core.commonUserSettings.theme="0"),this.theme=this.themes[e.core.commonUserSettings.theme]}}e.Settings=Jr;class Qr{constructor(){this.themeName="OneView Calendar Original",this.colorBlack="#000000",this.colorTitleBackground=this.colorDark="#524864",this.colorTitleText="#EFEAE1",this.colorGrayText="#454545",this.colorHorizontalTitle=this.colorDarkText="#000000",this.colorBigDateDividerStr="rgba( 173, 176, 181, ",this.colorRedDayText="#C91E1E",this.colorDarkSoft="#999999",this.colorLightSoft="#BBBBBB",this.colorTag2=this.colorTag="#E50081",this.colorWhite=this.colorLight=this.colorBackground=this.colorTagText="#EFEAE1",this.colorRed="#524864",this.colorMarker="#4C88DB",this.colorBlue="#2890D1",this.colorAddButton="#3E5C87",this.colorDim="rgba(0; 0; 0; 0.5)",this.colorLightDim="rgba(125; 125; 125; 0.9)",this.colorToday=[225,210,220],this.color1="#333333",this.colorFadeOut="rgba(125, 125, 125, 0.5)",this.colorWeekNumberText=this.colorWeekNumberShadow="#EFEAE1",this.colorWeekNumberCircle="#524864",this.eventColors="#556783 #87547B #5A837C #785A7F #AF9165 #8B5956 #51717D #4D2242 #5E9172 #381C46 #A07466 #B9AD73 #29344D #936F8B #305242 #796E83 #594E45 #7A6B5B #538B8B #813F59 #7C978C #7A3C84 #64302F #785642 #3A3A3A #828282 #484848 #909090 #696969 #565656".split(" "),this.eventTextColors="#EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1 #EFEAE1".split(" "),this.eventColorsForFirstCalendar=["#916181","#916181","#916181","#916181","#916181"],this.eventsFarLeft=0,this.tagTextIsBold=!1,this.titleWidthFactor=50,this.triangleColorStr="rgba( 39, 49, 66, ",this.triangleTextNudgeX=2,this.triangleTextNudgeY=1,this.titleBarFont="Quicksand",this.titleBarFontSize=28,this.titleBarFontBold="Quicksand",this.textFontThin=this.textFontBold=this.textFont="Arial",this.badgeColorIsTagTextColor=!1,this.addButtonWidthFactor=.9}}e.OriginalColorTheme=Qr;class Or{constructor(){this.themeName="Vivid Material",this.colorBlack="#000000",this.colorDark="#01518E",this.colorBigDateDividerStr="rgba( 173, 176, 181, ",this.colorTitleBackground="#01518E",this.colorTitleText="#FFFFFF",this.colorGrayText="#454545",this.colorHorizontalTitle=this.colorDarkText="#000000",this.colorRedDayText="#C91E1E",this.colorDarkSoft="#999999",this.colorLightSoft="#BBBBBB",this.colorTag2=this.colorTag="#E50081",this.colorWhite=this.colorLight=this.colorBackground=this.colorTagText="#FFFFFF",this.colorRed="#01518E",this.colorMarker="#4C88DB",this.colorBlue="#2890D1",this.colorAddButton="#01518E",this.colorDim="rgba(0; 0; 0; 0.5)",this.colorLightDim="rgba(125; 125; 125; 0.9)",this.colorToday=[225,210,220],this.color1="#333333",this.colorFadeOut="rgba(125, 125, 125, 0.5)",this.colorWeekNumberShadow="#E9EAEC",this.colorWeekNumberText="#FFFFFF",this.colorWeekNumberCircle="#707070",this.eventColors="#016DD5 #E91E63 #009688 #FF9800 #9C27B0 #70A83C #F23E2B #965F30 #FF3886 #38C0AF #FFA938 #CC43E4 #85C848 #FF543E #BE7E46 #8E1C4E #11635B #A66E1B #830BCD #537200 #FF5513 #63452B #757575 #656565 #555555 #808080 #707070 #606060".split(" "),this.eventTextColors="#FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF".split(" "),this.eventColorsForFirstCalendar=["#303F9F","#3949AB","#3F51B5","#5C6BC0","#7986CB"],this.eventsFarLeft=0,this.tagTextIsBold=!1,this.titleWidthFactor=50,this.triangleColorStr="rgba( 1, 81, 142, ",this.triangleTextNudgeY=this.triangleTextNudgeX=0,this.titleBarFont="RobotoL",this.titleBarFontSize=16,this.titleBarFontBold="RobotoB",this.textFont="Roboto",this.textFontBold="RobotoB",this.textFontThin="RobotoL",this.badgeColorIsTagTextColor=!1,this.addButtonWidthFactor=1.1}}e.MaterialColorTheme=Or;class va{constructor(){this.themeName="Free theme",this.colorBlack="#000000",this.colorDark="#233142",this.colorBigDateDividerStr="rgba( 173, 176, 181, ",this.colorTitleBackground="#ffffff",this.colorTitleText="#334155",this.colorGrayText="#454545",this.colorDarkText="#7B838E",this.colorHorizontalTitle="#4B5056",this.colorRedDayText="#4f46e6",this.colorDarkSoft="#999999",this.colorLightSoft="#BBBBBB",this.colorTag2="#E50081",this.colorTag="#E50081",this.colorWhite="#FFFFFF",this.colorLight="#FFFFFF",this.colorBackground="#FFFFFF",this.colorTagText="#FFFFFF",this.colorRed="#233142",this.colorMarker="#4338ca",this.colorBlue="#2890D1",this.colorAddButton="#233142",this.colorDim="rgba(0; 0; 0; 0.5)",this.colorLightDim="rgba(125; 125; 125; 0.9)",this.colorToday=[225,210,220],this.color1="#333333",this.colorFadeOut="rgba(125, 125, 125, 0.5)",this.colorWeekNumberShadow="#E9EAEC",this.colorWeekNumberText="#233142",this.colorWeekNumberCircle="#FFFFFF",this.eventColors="#3878DB #E12FB7 #22B297 #AD45C6 #FF9800 #EF4134 #2291BB #94006C #1ECD63 #620094 #FF6633 #F3C600 #173B91 #D65BBE #00793F #926DB5 #775234 #A5713A #00C1C4 #F4116D #5FBF98 #D905FF #C6110D #C24F05 #394E6B #967292 #7D9673 #454545 #757575 #A0A0A0".split(" "),this.eventTextColors="#FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF".split(" "),this.eventColorsForFirstCalendar=["#303F9F","#3949AB","#3F51B5","#5C6BC0","#7986CB"],this.eventsFarLeft=0,this.tagTextIsBold=!1,this.titleWidthFactor=40,this.triangleColorStr="rgba( 1, 81, 142, ",this.triangleTextNudgeY=0,this.triangleTextNudgeX=0,this.titleBarFont="system-ui",this.titleBarFontSize=16,this.titleBarFontBold="system-ui",this.textFont="system-ui",this.textFontBold="system-ui",this.textFontThin="system-ui",this.badgeColorIsTagTextColor=!1,this.addButtonWidthFactor=1.1}}e.FreeTheme=va;class fa{constructor(){this.themeName="Dark theme",this.colorBlack="#000000",this.colorDark="#333333",this.colorBigDateDividerStr="rgba( 133, 136, 131, ",this.colorTitleBackground="#0e162a",this.colorTitleText="#95a2b8",this.colorGrayText="#808080",this.colorDarkText="#95a3b8",this.colorHorizontalTitle="#7C7C7C",this.colorRedDayText="#c7d2ff",this.colorDarkSoft="#999999",this.colorLightSoft="#BBBBBB",this.colorTag2=this.colorTag="#E50081",this.colorTagText="#FFFFFF",this.colorBackground="#0f162a",this.colorWhite=this.colorLight="#FFFFFF",this.colorRed="#333333",this.colorMarker="#e0e7ff",this.colorBlue="#2890D1",this.colorAddButton="#333333",this.colorDim="rgba(0; 0; 0; 0.5)",this.colorLightDim="rgba(125; 125; 125; 0.9)",this.colorToday=[225,210,220],this.color1="#333333",this.colorFadeOut="rgba(125, 125, 125, 0.5)",this.colorWeekNumberShadow="#2D2B2A",this.colorWeekNumberText="#A49C91",this.colorWeekNumberCircle="#191919",this.eventColors="#3878DB #E12FB7 #22B297 #AD45C6 #FF9800 #EF4134 #2291BB #94006C #1ECD63 #620094 #FF6633 #F3C600 #173B91 #D65BBE #00793F #926DB5 #775234 #926DB5 #00C1C4 #F4116D #5FBF98 #D905FF #C6110D #C24F05 #394E6B #967292 #7D9673 #454545 #757575 #A0A0A0".split(" "),this.eventTextColors="#FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF".split(" "),this.eventColorsForFirstCalendar=["#303F9F","#3949AB","#3F51B5","#5C6BC0","#7986CB"],this.eventsFarLeft=0,this.tagTextIsBold=!1,this.titleWidthFactor=40,this.triangleColorStr="rgba( 1, 81, 142, ",this.triangleTextNudgeY=this.triangleTextNudgeX=0,this.titleBarFont="system-ui",this.titleBarFontSize=16,this.titleBarFontBold="system-ui",this.textFont="system-ui",this.textFontBold="system-ui",this.textFontThin="system-ui",this.badgeColorIsTagTextColor=!0,this.addButtonWidthFactor=1.1}}e.DarkTheme=fa;class Ta{constructor(){this.themeName="Candy theme",this.colorBlack="#000000",this.colorDark="#AA6990",this.colorBigDateDividerStr="rgba( 173, 176, 181, ",this.colorTitleBackground="#AA6990",this.colorTitleText="#FFFFFF",this.colorGrayText="#454545",this.colorDarkText="#7B838E",this.colorHorizontalTitle="#4B5056",this.colorRedDayText="#E26C8E",this.colorDarkSoft="#999999",this.colorLightSoft="#BBBBBB",this.colorTag2=this.colorTag="#E50081",this.colorWhite=this.colorLight=this.colorBackground=this.colorTagText="#FFFFFF",this.colorRed="#AA6990",this.colorMarker="#E26C8E",this.colorBlue="#2890D1",this.colorAddButton="#AA6990",this.colorDim="rgba(0; 0; 0; 0.5)",this.colorLightDim="rgba(125; 125; 125; 0.9)",this.colorToday=[225,210,220],this.color1="#333333",this.colorFadeOut="rgba(125, 125, 125, 0.5)",this.colorWeekNumberShadow="#E9EAEC",this.colorWeekNumberText="#233142",this.colorWeekNumberCircle="#FFFFFF",this.eventColors="#AFC9F1 #F3ACE2 #A7E0D5 #DEB5E8 #FFD699 #F9B3AE #A7D3E4 #D499C4 #A5EBC1 #C099D4 #FFC2AD #FAE899 #A2B1D3 #EFBDE5 #99C9B2 #D3C5E1 #C9BAAE #DBC6B0 #99E6E7 #FBA0C5 #BFE5D6 #F09BFF #E8A09E #E7B99B #B0B8C4 #D5C7D3 #CBD5C7 #999999 #BABABA #D9D9D9".split(" "),this.eventTextColors="#234A88 #8C1D71 #156E5E #6B2B7B #9E5E00 #942820 #155A74 #6F0051 #137F3D #4A006F #9E3F20 #816900 #112C6D #853876 #004B27 #4D3A60 #4A3320 #664624 #00787A #970B44 #326551 #87039E #950D0A #783103 #243244 #60495D #50604A #2C2C2C #4B4B4B #666666".split(" "),this.eventColorsForFirstCalendar=["#303F9F","#3949AB","#3F51B5","#5C6BC0","#7986CB"],this.eventsFarLeft=0,this.tagTextIsBold=!0,this.titleWidthFactor=50,this.triangleColorStr="rgba( 1, 81, 142, ",this.triangleTextNudgeY=this.triangleTextNudgeX=0,this.titleBarFont="RobotoL",this.titleBarFontSize=16,this.titleBarFontBold="RobotoB",this.textFont="Roboto",this.textFontBold="RobotoB",this.textFontThin="RobotoL",this.badgeColorIsTagTextColor=!0,this.addButtonWidthFactor=1.1}}e.CandyTheme=Ta;class Vr{constructor(t){this.calendars=[],this.debugtext="",this.touchEnabledDevice=!1,this.charCodeReload="reload",this.charCodeLogin="cloud-download",this.charCodeLogout="cloud-upload",this.charCodeCalendars="layers",this.charCodeShop="shop",this.charCodeAbout="help",this.charCodeHeart="heart",this.charCodeSend="send",this.charCodeFake="drop",this.charCodeLogo="logo",this.charCodeSettings="cog",this.charCodeBack="arrow-left",this.charCodeMoveBlack="clock",this.charCodeMove="clock",this.charCodeEdit="pencil",this.charCodeDelete="trash",this.charCodeOk="check",this.charCodeCancel="cross",this.charCodeView="eye",this.charCodeNew="circle-plus",this.charCodeMenu="menu",this.charCodeAdd="add",this.alreadyRedrawing=!1,this.pageLoaded=!1,this.readyToGo=!1,this.redrawCountdown=0,this.maxTime=0,this.totalRedraws=0,this.totalTime=0,this.fps=0,this.lastDrawTime=0,this.hardRedraw=!1,this.debugCounter=0,this.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(r){window.setTimeout(r,1e3/60)}}(),this.firstTouchMade=!1,this.loadedFiles=[],this.loadingHandler=new e.LoadingHandler,this.isCordovaApp=!1,this.ratio=window.devicePixelRatio,this.helper=new e.Helper,this.commonUserSettings=new e.CommonUserSettings,this.zopHandler=new e.ZopHandler,this.settings=new e.Settings(this.commonUserSettings),this.drawArea=new e.DrawArea,this.eventHandler=new e.EventHandler,this.domHandler=new e.DomHandler,this.zopDrawArea=new e.ZopDrawArea,this.appStateHandler=new e.AppStateHandler,this.dateTimeSelectionHandler=new e.DateTimeSelectionHandler,this.postRequest=t}init(){this.setSizeSettings(),this.domHandler.init(),this.dateTimeSelectionHandler.init(),this.commonUserSettings.updateAppWithLang(),this.debugTexts=[],this.redrawCore=this.redrawCore.bind(this),this.loadGraphics(),this.loadDataProxy()}loadDataProxy(){this.populateCalendars()}redraw(t){this.hardRedraw=t,this.redrawCountdown=1}startDrawLoop(){this.redrawCountdown=1,this.redrawCore()}redrawCore(){this.debugtextDiv?this.debugtextDiv.innerText!==this.debugtext&&(this.debugtextDiv.innerText=this.debugtext):this.debugtextDiv=document.getElementById("debugtext");var t;if(!this.alreadyRedrawing&&this.readyToGo===!0&&e.core.appStateHandler.sizesInitiated&&0<this.redrawCountdown){this.lastDrawTime=this.getTimeStamp(),t=this.drawAreaEffects.runEffects(),this.alreadyRedrawing=!0,this.appStateHandler.isMainMenuShowing&&this.mainMenuControl.setSizes(),this.zopDrawArea.clearDrawArea(),this.drawArea.startNewRound(),this.addButtonControl.isAnimationActive()&&(t=!0,this.addButtonControl.doAnimation()),this.calendarDateHandler&&(this.appStateHandler.isMainMenuShowing&&this.mainMenuControl.redraw(),this.calendarDateHandler.paintCalendarDateObjects(),this.calendarEventHandler.paintCalendarEvents()),this.calendarDateHandler.paintWeekNumbers(),this.dateTimeSelectionHandler&&this.appStateHandler&&this.appStateHandler.isChoosingDateTimeForEvent?this.dateTimeSelectionHandler.paint():this.calendarDateHandler.paintMarker(new Date),this.mainMenuControl.redrawMenuIcon(),this.addButtonControl.redrawAddButton();var r=this.getTimeStamp(),s=Math.round(r-this.lastDrawTime);this.totalTime+=s,this.totalRedraws+=1,this.maxTime<s+20&&(this.maxTime=Math.max(s,this.maxTime)),100<this.totalRedraws&&(this.totalRedraws=this.totalTime=0),this.loadingHandler&&this.loadingHandler.showLoadingSpinnerIfNeeded(),this.lastDrawTime=r,this.zopDrawArea.debugTexts(this.debugTexts),this.debugCounter=0,this.alreadyRedrawing=!1,t||!this.loadingHandler||this.loadingHandler.isLoading()||--this.redrawCountdown}this.requestAnimFrame.call(window,this.redrawCore)}getTimeStamp(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():new Date().getTime()}reopenApp(){e.core.helper.canShowDatePicker()&&(this.onSuccessX=this.onSuccessX.bind(this),this.onErrorX=this.onErrorX.bind(this),datePicker.updateThemeColor(this.settings.theme.colorTitleBackground,this.commonUserSettings.theme=="3",this.onSuccessX,this.onErrorX))}onSuccessX(t){datePicker.restartApp(function(){},function(){})}onErrorX(t){}reloadAllCalendarData(){this.calendarDateHandler.reset(),this.calendarDataProxy?this.calendarDataProxy.reload():this.loadDataProxy()}persistChangesToCalendars(){e.core.calendarDataProxy.saveSettings()}populateCalendars(){var t=this;e.core&&e.core.pageLoaded?(this.calendarDataProxy=new e.DemoCalendarDataProxy,this.loadingHandler.startLoading(),this.calendarDataProxy.populateCalendarEvents(function(){t.dataLoadReady()})):(this.populateCalendars=this.populateCalendars.bind(this),setTimeout(this.populateCalendars,100))}dataLoadReady(){this.firstTouchMade||e.core.zopHandler.showInitialBounds(!0),e.core.calendarEventHandler.dataLoadReady(),e.core.loadingHandler.stopLoading(),this.redraw(!0)}dynamicallyLoadFile(t,r,s){var o=this;-1<this.loadedFiles.indexOf(t)?s&&s():r=="js"?(r=document.createElement("script"),r.setAttribute("type","text/javascript"),r.setAttribute("src",t),s&&(r.onload=function(){o.loadedFiles.push(t),s()}),document.getElementsByTagName("head")[0].appendChild(r)):r=="css"&&(r=document.createElement("link"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",t),document.getElementsByTagName("head")[0].appendChild(r),this.loadedFiles.push(t))}getCalendar(t){var r;for(r=0;r<this.calendars.length;r++)if(this.calendars[r].id===t)return this.calendars[r];return new e.CalendarObject("NoneZ","None",[],1,e.VisibilityType.Hidden,!0,!0)}setSizeSettings(){var t=Math.max(6.67,Math.min(10,Math.min(e.core.domHandler.screenWidthForDOM,e.core.domHandler.screenHeightForDOM)/20));this.settings.allowWeekNumber=9<t,this.settings.titleWidth=Math.ceil(this.settings.theme.titleWidthFactor*this.ratio*this.settings.zoom),this.settings.innerLeftMargin=this.settings.titleWidth/5,this.settings.innerTopMaxMargin=this.settings.innerLeftMargin,this.settings.badgesLeft=Math.floor(9.6*t*this.ratio*this.settings.zoom),this.settings.eventsFarLeft=Math.floor(11.5*t*this.ratio*this.settings.zoom),10>t&&(this.settings.eventsFarLeft=this.settings.badgesLeft+6*this.ratio*this.settings.zoom),this.settings.useMiniBadges=10>t,this.settings.tagHeight=Math.floor(26*this.ratio*this.settings.zoom),this.zopHandler.absoluteMinZoom=.001*this.settings.tagHeight/this.ratio,this.zopHandler.absoluteMaxZoom=4e5/this.settings.tagHeight,this.settings.minDateHeight=this.settings.tagHeight+2,this.settings.tagColorWidth=0,this.settings.margin=Math.floor(4*this.ratio*this.settings.zoom),this.settings.tagTextHeight=Math.min(14*this.ratio*this.settings.zoom,Math.floor(this.settings.tagHeight-this.settings.margin-Math.floor(this.settings.tagHeight/4))),this.settings.weekCircleDiameter=1.6*this.settings.tagTextHeight,this.settings.badgeTextHeight=Math.min(11*this.ratio*this.settings.zoom,Math.floor(this.settings.titleWidth/2*.8)),this.settings.dateBigTextSize=Math.min(16*this.ratio*this.settings.zoom,Math.ceil((this.settings.tagTextHeight+this.settings.tagHeight)/2)),this.settings.title0FontSize=Math.min(16*this.ratio*this.settings.zoom,Math.floor(this.settings.titleWidth/2*1.1)),this.settings.title1FontSize=Math.min(16*this.ratio*this.settings.zoom,Math.floor(this.settings.titleWidth/2*.9)),this.settings.title2FontSize=Math.min(16*this.ratio*this.settings.zoom,Math.floor(this.settings.titleWidth/2*.8)),this.settings.menuTextHeight=this.settings.title0FontSize,this.settings.menuItemHeight=3*this.settings.title0FontSize,this.settings.lineThickness=2*this.ratio*this.settings.zoom,this.settings.menuIconHeight=16>this.settings.menuTextHeight?1.6*t:26>this.settings.menuTextHeight?2.4*t:34>this.settings.menuTextHeight?3.2*t:4.8*t}showBackButtons(){return!new e.Helper().isAndroid()||!e.core.isCordovaApp}loadGraphics(){this.drawAreaEffects=new e.DrawAreaEffects,this.calendarEventHandler=new e.CalendarEventHandler,this.calendarDateHandler=new e.CalendarDateHandler;var t="onorientationchange"in window?"orientationchange":"resize";this.domHandler.resetDrawAreaSize_Delayed=this.domHandler.resetDrawAreaSize_Delayed.bind(this.domHandler),window.addEventListener(t,this.domHandler.resetDrawAreaSize_Delayed,!1),new ResizeObserver(this.domHandler.resetDrawAreaSize_Delayed).observe(document.documentElement),this.zopHandler.showInitialBounds(!1),this.readyToGo=!0,this.redraw(!0),this.preloadAllImages(),this.pageLoaded=!0}preloadAllImages(){this.preloadImage(this.charCodeReload),this.preloadImage(this.charCodeLogin),this.preloadImage(this.charCodeLogout),this.preloadImage(this.charCodeCalendars),this.preloadImage(this.charCodeAbout),this.preloadImage(this.charCodeFake),this.preloadImage(this.charCodeSettings),this.preloadImage(this.charCodeNew),this.preloadImage(this.charCodeView),this.preloadImage(this.charCodeEdit),this.preloadImage(this.charCodeDelete),this.preloadImage(this.charCodeOk),this.preloadImage(this.charCodeCancel),this.preloadImage(this.charCodeMenu),this.preloadImage(this.charCodeAdd)}preloadImage(t){e.core.drawArea.drawIcon(t,-100,-100,16,16)}}e.Core=Vr;class es{constructor(t){this.languages=new e.Dictionary;var r;for(r=0;r<et.length;r++)this.languages.add(et[r],ba[r]);for(this.defaultLanguageIndex=0,this.currentLanguageIndex=et.indexOf(t),0>this.currentLanguageIndex&&(this.currentLanguageIndex=this.defaultLanguageIndex),this.keys=[],r=0;r<Ht.length;r++)this.keys.push(Ht[r][this.defaultLanguageIndex])}static languageExists(t){return 0<=et.indexOf(t)||0<=ba.indexOf(t)}get(t){var r=this.keys.indexOf(t);return 0>r?t:(r=Ht[r][this.currentLanguageIndex],r!=null&&r!=""?r:t)}}e.Translate=es;class ts{constructor(){this._keys=[],this._values=[]}setup(t,r){for(var s=0;s<t.length;s++)this.add(t[s],r[s])}syncArrays(){for(var t=0;t<this._values.length;t++)this._values[t]=this[this._keys[t]]}add(t,r){this[t]=r,this._keys.push(t),this._values.push(r)}remove(t){var r=this._keys.indexOf(t,0);this._keys.splice(r,1),this._values.splice(r,1),delete this[t]}keys(){return this._keys}values(){return this._values}containsKey(t){return!(typeof this[t]>"u")}toLookup(){return this}}e.Dictionary=ts;class as{constructor(t,r){this.cachedTags=[],this.cachedDates=[],this.cachedDates2=[],this.cachedBadges=[],this.badgeRowHeight=0,this.date2RowHeight=0,this.dateRowHeight=0,this.tagRowHeight=0,this.badgeTextHeight=0,this.date2TextHeight=0,this.dateTextHeight=0,this.tagTextHeight=0,this.previousFont="",this.canvas=t,this.canvasContext=r}setTagHeight(t){if(this.tagTextHeight!==t){this.tagTextHeight=t,this.tagRowHeight=this.tagTextHeight+2,this.cachedTags=[],this.canvasContext.clearRect(this.tagsLeft,this.tagsTop,this.tagsWidth,this.tagsHeight),t=Math.floor(this.canvas.height/this.tagRowHeight);var r;for(r=0;r<t;r++)this.cachedTags.push(new d)}}setDateHeights(t,r){if(this.dateTextHeight!==t||this.date2TextHeight!==r){this.dateTextHeight=t,this.dateRowHeight=this.dateTextHeight+2,this.date2TextHeight=r,this.date2RowHeight=this.date2TextHeight+2,this.cachedDates=[],this.canvasContext.clearRect(this.datesLeft,this.datesTop,this.datesWidth,this.datesHeight);var s=Math.floor(this.canvas.height/(this.dateRowHeight+this.date2RowHeight)),o;for(o=0;o<s;o++)this.cachedDates.push(new d);for(this.cachedDates2=[],this.canvasContext.clearRect(this.dates2Left,this.dates2Top,this.dates2Width,this.dates2Height),o=0;o<s;o++)this.cachedDates2.push(new d);this.setBoundries()}}setBadgeHeight(t){if(this.badgeTextHeight!==t){this.badgeRowHeight=this.badgeTextHeight=t,this.cachedBadges=[],this.canvasContext.clearRect(this.badgesLeft,this.badgesTop,this.badgesWidth,this.badgesHeight),t=Math.floor(this.canvas.height/t);var r;for(r=0;r<t;r++)this.cachedBadges.push(new d)}}emptyCache(){var t;for(t=0;t<this.cachedTags.length;t++)this.cachedTags[t].isEmpty=!0;for(t=0;t<this.cachedDates.length;t++)this.cachedDates[t].isEmpty=!0;for(t=0;t<this.cachedDates2.length;t++)this.cachedDates2[t].isEmpty=!0;for(t=0;t<this.cachedBadges.length;t++)this.cachedBadges[t].isEmpty=!0;this.setBoundries()}setBoundries(){this.tagsLeft=e.core.settings.eventsFarLeft,this.tagsTop=0,this.tagsWidth=this.canvas.width-this.tagsLeft,this.tagsHeight=this.canvas.height,this.badgesLeft=e.core.settings.badgesLeft,this.badgesTop=0,this.badgesWidth=this.tagsLeft-this.badgesLeft,this.badgesHeight=this.canvas.height,this.datesLeft=e.core.settings.titleWidth,this.datesTop=0,this.datesWidth=this.badgesLeft-this.datesLeft,this.datesHeight=Math.floor(this.canvas.height/(this.dateTextHeight+this.date2TextHeight))*this.dateTextHeight,this.dates2Left=e.core.settings.titleWidth,this.dates2Top=this.datesHeight,this.dates2Width=this.badgesLeft-this.dates2Left,this.dates2Height=Math.floor(this.canvas.height/(this.dateTextHeight+this.date2TextHeight))*this.date2TextHeight}startRedraw(){var t;for(t=0;t<this.cachedTags.length;t++)this.cachedTags[t].wasUsedLast=!1;for(t=0;t<this.cachedDates.length;t++)this.cachedDates[t].wasUsedLast=!1;for(t=0;t<this.cachedDates2.length;t++)this.cachedDates2[t].wasUsedLast=!1;for(t=0;t<this.cachedBadges.length;t++)this.cachedBadges[t].wasUsedLast=!1}endRedraw(){var t;for(t=0;t<this.cachedTags.length;t++)this.cachedTags[t].wasUsedLast===!1&&(this.cachedTags[t].isEmpty=!0);for(t=0;t<this.cachedDates.length;t++)this.cachedDates[t].wasUsedLast===!1&&(this.cachedDates[t].isEmpty=!0);for(t=0;t<this.cachedDates2.length;t++)this.cachedDates2[t].wasUsedLast===!1&&(this.cachedDates2[t].isEmpty=!0);for(t=0;t<this.cachedBadges.length;t++)this.cachedBadges[t].wasUsedLast===!1&&(this.cachedBadges[t].isEmpty=!0)}drawTagText(t,r,s,o,l,c,p){this.drawTextHelper(this.cachedTags,t,r,s,o,l,c,p,this.tagTextHeight,this.tagRowHeight+4,this.tagsLeft,this.tagsWidth,this.tagsTop)}drawDateText(t,r,s,o,l,c,p,f){r===this.dateTextHeight?this.drawTextHelper(this.cachedDates,t,s,o,l,c,p,f,this.dateTextHeight,this.dateRowHeight,this.datesLeft,this.datesWidth,this.datesTop):this.drawTextHelper(this.cachedDates2,t,s,o,l,c,p,f,this.date2TextHeight,this.date2RowHeight,this.dates2Left,this.dates2Width,this.dates2Top)}drawBadgeText(t,r,s,o,l,c,p){this.drawTextHelper(this.cachedBadges,t,r,s,o,l,c,p,this.badgeTextHeight,this.badgeRowHeight,this.badgesLeft,this.badgesWidth,this.badgesTop)}drawTextHelper(t,r,s,o,l,c,p,f,g,m,S,M,_){f=Math.min(f,M),t=new d,t.text=r,t.textColor=s,this.paintImageToCacheCanvas(t,l,g,m,c,f,p)}paintImageToCacheCanvas(t,r,s,o,l,c,p){r===this.canvasContext&&r.clearRect(l,p,c,o),this.setFont(s,r),r.fillStyle=t.textColor,r.fillText(t.text,l,p+s)}getImageFromCacheCanvas(t,r,s,o,l,c,p,f){r.drawImage(this.canvas,s,Math.ceil(o),f,l-1,Math.ceil(c),Math.floor(p),f,l-1)}setFont(t,r){var s="normal lighter "+t+"px Roboto";r!==this.canvasContext?r.font=s:this.previousFont!==s&&(this.previousFont=s,r.font=this.previousFont)}}e.CanvasHorizontalCacheObject=as;class rs{constructor(){this.canvasContext=void 0,this.canvas=void 0,this.zopAreaWidth=0,this.zopAreaLeft=0,this.zopAreaHeight=0,this.zopAreaTop=0,this.screenTop=0,this.screenLeft=0,this.characterFitCache=new e.SpeedCache,this.textMeasuresCache=new e.SpeedCache,this.drawInfos=[]}init(t,r){this.canvas=t,this.canvasContext=r,e.core.eventHandler.addBatchEventsTo(this.canvas)}setCanvas(t,r){this.canvas=t,this.canvasContext=r,e.core.drawArea=new e.DrawArea}fillDrawArea(t){this.canvasContext.fillStyle=t,this.canvasContext.fillRect(0,0,this.canvas.width,this.canvas.height)}emptyDrawArea(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}clearDrawArea(){this.characterFitCache.startNewRound(),this.textMeasuresCache.startNewRound(),e.core.drawArea.drawFilledRectangle({x:e.core.zopHandler.leftPixel+e.core.settings.titleWidth+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,y:0,width:e.core.zopHandler.rightPixel-e.core.zopHandler.leftPixel,height:e.core.zopDrawArea.zopAreaHeight,fillStyle:e.core.settings.theme.colorBackground,hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawFilledRectangle({x:e.core.zopHandler.leftPixel,y:0,width:e.core.settings.titleWidth+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged,height:e.core.zopDrawArea.zopAreaHeight,fillStyle:e.core.settings.theme.colorTitleBackground,hasShadow:!1,rounded:!1,strokeStyle:void 0})}resetDrawAreaSize(t,r){console.log("resizing"),this.zopAreaTop=0,this.zopAreaHeight=t,this.zopAreaLeft=0,this.zopAreaWidth=r,e.core.appStateHandler.isChoosingDateTimeForEvent&&(this.zopAreaTop+=e.core.dateTimeSelectionHandler.getSpaceTakenAtTop(),this.zopAreaHeight-=e.core.dateTimeSelectionHandler.getSpaceTakenAtTop()+e.core.dateTimeSelectionHandler.getSpaceTakenAtBottom()),e.core.zopHandler.initSize(this.zopAreaTop,this.zopAreaTop+this.zopAreaHeight,this.zopAreaLeft,this.zopAreaLeft+this.zopAreaWidth),e.core.zopHandler.setZoom(e.core.zopHandler.topZOP,e.core.zopHandler.bottomZOP,this.zopAreaTop,this.zopAreaTop+this.zopAreaHeight)}setShadow(t){t&&(this.canvasContext.shadowOffsetX=1*e.core.ratio,this.canvasContext.shadowOffsetY=2*e.core.ratio,this.canvasContext.shadowBlur=4*e.core.ratio,this.canvasContext.shadowColor="rgb(0 0 0 / 0.1)")}clearTextDivs(){}drawCalendarDateObjectName(t,r,s,o,l,c,p,f){return 3>l?0:(r+=s,s=e.core.settings.theme.colorDarkText,c&&(s=e.core.settings.theme.colorRedDayText),p?this.measureTextWidth(this.drawText(o,t,r,0,l,s,e.core.settings.theme.colorBackground,!1,2e3,!f,f),l,!1,!1):this.measureTextWidthIfRisky(this.drawText(o,t,r,0,l,s,e.core.settings.theme.colorBackground,!1,2e3,!f,f),l,2e3,!1,!1))}drawBadge(t,r,s,o,l,c,p){if(e.core.settings.useMiniBadges)this.drawFilledCircle2(t,r+s/2,2*e.core.ratio*e.core.settings.zoom,p,!1);else{s=s-e.core.settings.margin-1;var f=e.core.settings.badgeTextHeight;e.core.drawArea.setFont(f);for(var g=o-t,m=this.measureTextWidth(l,f,!1,!0);m>g&&6<f;)--f,m=this.measureTextWidth(l,f,!1,!0);s=Math.floor((s-f)/2),m>o-t&&(o+=(m-o+t)/2),.5<c&&this.drawText(l,o-m,r,s,f,p,e.core.settings.theme.colorRed,!1,200,!1,!1)}}howManyCharactersFit(t,r,s,o){var l=t+"&&"+r,c=this.characterFitCache.findObject(l);if(c!==void 0){var p=c.lettersCount;if(c.lastMaxPixelWidth!==s){var f=this.measureTextWidth(t.substring(0,p),r,!1,o);if(c.lastMaxPixelWidth>s)for(;0<p&&f>=s;)--p,f=this.measureTextWidth(t.substring(0,p),r,!1,!0);else{for(o=f;p<t.length&&f<s;)p+=1,o=f,f=this.measureTextWidth(t.substring(0,p),r,!1,!0);p==t.length&&f<s||(f=o,--p)}c.lettersCount=p,c.lastMaxPixelWidth=f}return p}for(p=t.length,f=this.measureTextWidthIfRisky(t,r,s,!1,o);0<p&&f>=s;)--p,f=this.measureTextWidth(t.substring(0,p),r,!1,o);return this.characterFitCache.addObject(l,new Ea(p,s)),p}measureTextWidth(t,r,s,o){var l=t+"##"+r,c=this.textMeasuresCache.findObject(l);return c===void 0&&(c=new Da(this.canvasContext,t,r,s,o),this.textMeasuresCache.addObject(l,c)),c.pixelLength}measureTextWidthIfRisky(t,r,s,o,l){var c=t.length*r*.85;return c>s?this.measureTextWidth(t,r,o,l):c}drawTag(t,r,s,o,l,c,p,f){var g=r+1;s-=e.core.settings.margin;var m=Math.min(e.core.settings.tagColorWidth,s),S=Math.floor((c-e.core.settings.tagTextHeight)/2-e.core.settings.margin),M=S+e.core.settings.margin;0<m&&e.core.drawArea.drawFilledRectangle({x:t,y:g,width:m,height:c-e.core.settings.margin,fillStyle:e.core.settings.theme.colorBlue,hasShadow:!1,rounded:!1,strokeStyle:void 0}),0<s-m&&(e.core.drawArea.drawFilledRectangle({x:t+m,y:g,width:s-m,height:c-e.core.settings.margin,fillStyle:o,hasShadow:!1,rounded:!1,strokeStyle:void 0}),.5<f&&(.95>f&&(l=e.core.helper.colorToRGBA(l,2*(f-.5))),this.drawText(p,t+m+M,r,S,e.core.settings.tagTextHeight,l,o,!1,s-m-M-2,!1,e.core.settings.theme.tagTextIsBold)))}drawFullEvent(t,r,s,o,l,c,p,f,g){var M=Math.max(e.core.zopHandler.getPixelFromZOP(r)+1,0),m=Math.max(e.core.zopHandler.getPixelFromZOP(s),0),S=e.core.zopHandler.getPixelFromZOP(s)-e.core.zopHandler.getPixelFromZOP(r),M=Math.min(M,m-e.core.settings.tagHeight);o-=e.core.settings.margin;const _=m-M-1;if(_>0){const j=Math.min(e.core.settings.tagColorWidth,o),B=Math.floor((e.core.settings.tagHeight-e.core.settings.tagTextHeight)/2-e.core.settings.margin),Ce=B+e.core.settings.margin,Qe=Math.min(e.core.settings.tagHeight,o-j);if(j>0&&e.core.drawArea.drawFilledRectangle({x:t,y:M,width:j,height:_,fillStyle:e.core.settings.theme.colorBlue,hasShadow:!1,rounded:!1,strokeStyle:void 0}),o-j>0){const Ze=e.core.commonUserSettings.theme==="0";l=l?`rgba(${l}, ${f?1:.9})`:Ze?"rgb(148, 163, 184)":"#6c7684",e.core.drawArea.drawFilledRectangle({x:t+j,y:M,width:o-j,height:_,fillStyle:l,hasShadow:!1,rounded:!1,strokeStyle:f?Ze?"rgb(15, 23, 42)":"#fff":g?Ze?"#4338ca":"rgb(165, 180, 252)":void 0})}S/o<2||S<2*e.core.settings.tagHeight?this.drawText(p,t+j+Ce,M-1,B,e.core.settings.tagTextHeight,c,l,!1,o-j-Ce-2,!1,e.core.settings.theme.tagTextIsBold):Qe>e.core.settings.tagTextHeight&&(Math.floor(e.core.settings.tagHeight/6),this.drawVerticalTitle(r,s,t+j+Ce,p,e.core.settings.tagTextHeight,c,e.core.settings.margin,!1,e.core.settings.theme.tagTextIsBold))}}drawPartialTag(t,r,s,o,l){s-=e.core.settings.margin,4>l||e.core.drawArea.drawFilledRectangle({x:t,y:r+1,width:s,height:l-e.core.settings.margin,fillStyle:o,hasShadow:!1,rounded:!1,strokeStyle:void 0})}drawTextDiv(t,r,s,o,l,c,p,f,g,m){}drawFilledRectangle(t,r,s,o,l,c){this.canvasContext.fillStyle=l,r=e.core.zopHandler.getPixelFromZOP(r),o=Math.max(e.core.zopHandler.getPixelFromZOP(o)-r,c),this.canvasContext.fillRect(t,r,s,o)}drawTriangle(t,r,s,o,l,c,p,f){this.setShadow(f),r=e.core.zopHandler.getPixelFromZOP(r),o=r+o,c=r+c,this.canvasContext.fillStyle=p,this.canvasContext.beginPath(),this.canvasContext.moveTo(t,r),this.canvasContext.lineTo(t+s,o),this.canvasContext.lineTo(t+l,c),this.canvasContext.closePath(),this.canvasContext.fill(),this.removeShadow(f)}removeShadow(t){t&&(this.canvasContext.shadowOffsetX=0,this.canvasContext.shadowOffsetY=0,this.canvasContext.shadowBlur=0,this.canvasContext.shadowColor="#000000")}drawHorizontalLine(t,r,s,o,l){this.drawHorizontalLineThick(t,r,s,o,e.core.settings.lineThickness,l)}drawFilledCircle(t,r,s,o,l){this.setShadow(l),r=Math.floor(e.core.zopHandler.getPixelFromZOP(r))+.5,this.canvasContext.beginPath(),this.canvasContext.arc(t,r,s,0,2*Math.PI,!1),this.canvasContext.fillStyle=o,this.canvasContext.fill(),this.removeShadow(l)}drawFilledCircle2(t,r,s,o,l){this.setShadow(l),this.canvasContext.beginPath(),this.canvasContext.arc(t,r,s,0,2*Math.PI,!1),this.canvasContext.fillStyle=o,this.canvasContext.fill(),this.removeShadow(l)}drawHorizontalLineThick(t,r,s,o,l,c){r=Math.floor(e.core.zopHandler.getPixelFromZOP(r)),e.core.drawArea.drawHorizontalLineNotZOP(t,r,s,o,l,c)}startTextDelayedDraw(){this.delayedDraw=!0}endTextDelayedDraw(){this.delayedDraw=!1,this.drawInfos.sort(function(s,o){return s.textHeight-o.textHeight});for(var t=0;t<this.drawInfos.length;t++){var r=this.drawInfos[t];this.drawText(r.text,r.left,r.topPixel,r.topPixelShift,r.textHeight,r.color,r.bgColor,r.useShadow,r.maxWidth,r.isThinner,r.isBold)}this.drawInfos=[]}drawText(t,r,s,o,l,c,p,f,g,m,S){return this.delayedDraw?(this.drawInfos.push(new ya(t,r,s,o,l,c,p,f,g,m,S)),t):(s=Math.floor(s+o),e.core.drawArea.setFont(l,!1,m,S),t=t.substring(0,this.howManyCharactersFit(t,l,g,!0)),e.core.drawArea.drawText(t,r,s,l,c,!1,!1,m,S),t)}drawVerticalTitle(t,r,s,o,l,c,p,f,g){e.core.drawArea.setFont(l,f,!1,g),g=e.core.zopHandler.get2PixelsFromZOPsForVErticalText(t,r),t=g.value1+p,g=g.value2-p;var m=p=0,S=e.core.settings.menuButtonBottom;for(s>e.core.settings.titleWidth+e.core.mainMenuControl.nudgeBecauseMenuBeingDragged&&(S=0),t<e.core.zopHandler.topPixel+S&&(p=e.core.zopHandler.topPixel+S-t),r>e.core.zopHandler.bottomZOP&&(m=g-e.core.zopHandler.bottomPixel),r=g-t-p-m,g=0,m=this.measureTextWidth(o,l,f,!0)+5;1<o.length&&m>=r;)o=o.substring(0,o.length-1),m=this.measureTextWidth(o,l,f,!0)+5,g=r-m;this.measureTextWidth(o,l,f,!0)+5<r&&(this.canvasContext.save(),this.canvasContext.translate(Math.floor(s+.85*l),Math.floor(r/2)),this.canvasContext.rotate(-Math.PI/2),this.canvasContext.textAlign="center",this.canvasContext.fillStyle=c,this.canvasContext.fillText(o,Math.floor(-t-p-g/2),Math.floor(e.core.zopHandler.leftPixel)),this.canvasContext.restore())}debugTexts(t){if(t!=null){var r=20*e.core.ratio,s;for(s=0;s<t.length;s++)e.core.drawArea.drawFilledRectangle({x:200,y:r,width:1e3,height:20*e.core.ratio,fillStyle:"#000000",hasShadow:!1,rounded:!1,strokeStyle:void 0}),e.core.drawArea.drawText(t[s],202,r-1,18*e.core.ratio,"#FFFFFF",!1,!1),r+=22*e.core.ratio}}debugText(t){t!=null&&t.length!=0&&(this.canvasContext.fillStyle="#FF0000",e.core.drawArea.setFont(14),this.canvasContext.fillText(t,90,330),60<t.length&&this.canvasContext.fillText(t.substring(60),90,360),120<t.length&&this.canvasContext.fillText(t.substring(120),90,420),180<t.length&&this.canvasContext.fillText(t.substring(180),90,480),240<t.length&&this.canvasContext.fillText(t.substring(240),90,540))}}e.ZopDrawArea=rs;class Da{constructor(t,r,s,o,l){this.text=r,this.textHeight=s,l||e.core.drawArea.setFont(s,o),this.pixelLength=t.measureText(r).width}}e.TextMeasurer=Da;class ya{constructor(t,r,s,o,l,c,p,f,g,m,S){this.text=t,this.left=r,this.topPixel=s,this.topPixelShift=o,this.textHeight=l,this.color=c,this.bgColor=p,this.useShadow=f,this.maxWidth=g,this.isThinner=m,this.isBold=S}}e.TextDrawer=ya;class Ea{constructor(t,r){this.lettersCount=t,this.lastMaxPixelWidth=r}}e.FitCacheEntry=Ea;class Ft extends i{constructor(){super(...arguments),this.enableMultipleCalendars=!0,this.enableReload=!0,this.enableShop=!1,this.enableFakeData=!1,this.enableGoogleLogout=!1,this.enableGoogleLogin=!1,this.calendarDataProxyType=e.CalendarDataProxyType.Demo,this.demoVideoSpecial=!0,this.dbVersion="demo0.52",this.loadReadyCallback=()=>{}}connectionOk(){return!0}login(){}logout(){}populateCalendarEvents(t){this.loadReadyCallback=t,this.calendarEvents=[],e.core.commonUserSettings.licenceColorPicker=!0,e.core.commonUserSettings.licenceCandyTheme=!0,e.core.commonUserSettings.licenceDarkTheme=!0,e.core.settings.reloadThemesSettings(e.core.commonUserSettings),e.core.calendars=[],e.core.calendarPrimaryId=void 0,this.loadEventsFromCache()&&e.core.calendars!=null&&e.core.calendars.length!=0||(this.fakeData(),e.core.helper.sortCalendars(),e.core.calendarEventHandler.gradeCalendarEvents(this.calendarEvents),this.calendarEvents.sort(function(r,s){return r.startZOP-s.startZOP}),this.saveEventsToCache()),this.finalizeLoad(),Ft.setLastSessionWasInDemoMode(!0)}saveSettings(){this.saveEventsToCache()}reload(){var t=this.dbVersion;this.dbVersion="XXX",e.core.populateCalendars(),this.dbVersion=t}fakeData(){var t;e.core.calendars.push(new e.CalendarObject("Work","Work Calendar",[],0,e.VisibilityType.Visible,!0,!0)),e.core.calendars.push(new e.CalendarObject("My","My Calendar",[],1,e.VisibilityType.Visible,!0,!0)),e.core.calendars.push(new e.CalendarObject("Other","Partners calendar",[],2,e.VisibilityType.Visible,!0,!1)),e.core.calendarPrimaryId="My",e.core.getCalendar("Work").allEventsAreFullDay=!1,e.core.getCalendar("My").allEventsAreFullDay=!1,e.core.getCalendar("Other").allEventsAreFullDay=!1,this.calendarEvents=[];var r=D().startOf("week"),s=r.clone().add(1,"weeks").add(-28,"days"),o,l;for(t=0;30>t;t++)o=s.clone().add(-80+21*t,"days").add(17,"hours").toDate(),l=s.clone().add(-80+21*t,"days").add(19.5,"hours").toDate(),o=new e.CalendarEventObject("Hockey with kids","If you can\'t make it call Eddies dad: 043-423213","Weaver hall",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o);for(t=0;20>t;t++)t===3&&t++,o=s.clone().add(-100+28*t,"days").add(18,"hours").toDate(),l=s.clone().add(-100+28*t,"days").add(22,"hours").toDate(),o=new e.CalendarEventObject("Walk n talk with Jim","Time for reflection","The park",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o);for(o=D().startOf("week").add(-200,"months").toDate(),l=D().startOf("week").add(-199,"months").toDate(),o=new e.CalendarEventObject("School starts","","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(-150,"months").toDate(),l=D().startOf("week").add(-130,"months").toDate(),o=new e.CalendarEventObject("First girlfriend","","",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(-100,"months").toDate(),l=D().startOf("week").add(-99,"months").toDate(),o=new e.CalendarEventObject("16th birthday","","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(-86,"months").toDate(),l=D().startOf("week").add(-50,"months").toDate(),o=new e.CalendarEventObject("University","","",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(-48,"months").toDate(),l=D().startOf("week").add(-36,"months").toDate(),o=new e.CalendarEventObject("Year in London","","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(-32,"months").toDate(),l=D().startOf("week").add(-30,"months").toDate(),o=new e.CalendarEventObject("Wedding!!","","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(4,"days").toDate(),l=D().startOf("week").add(5,"days").toDate(),o=new e.CalendarEventObject("Jims birthday","","",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(7,"days").toDate(),l=D().startOf("week").add(8,"days").toDate(),o=new e.CalendarEventObject("Release","On the menu there is an option to connect to Google. This will enable you to see your real calendar.","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=D().startOf("week").add(9,"days").toDate(),l=D().startOf("week").add(10,"days").toDate(),o=new e.CalendarEventObject("Lisas birthday","","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(1,"weeks").add(-22,"days").toDate(),l=r.clone().add(1,"weeks").add(10,"days").toDate(),o=new e.CalendarEventObject("On diet","Calorie drought","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(-63,"weeks").add(-22,"days").toDate(),l=r.clone().add(-54,"weeks").add(10,"days").toDate(),o=new e.CalendarEventObject("On diet","Calorie drought","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(1,"weeks").add(13,"days").toDate(),l=r.clone().add(1,"weeks").add(18,"days").toDate(),o=new e.CalendarEventObject("Rent a car","Abis","",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),t=0;40>t;t++)t===5&&t++,o=s.clone().add(-120+14*t,"days").add(17,"hours").toDate(),l=s.clone().add(-120+14*t,"days").add(20,"hours").toDate(),o=new e.CalendarEventObject("Gym","","Wassits",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o);for(t=0;60>t;t++)t===5&&t++,o=s.clone().add(-127+14*t,"days").add(7,"hours").toDate(),l=s.clone().add(-127+14*t,"days").add(8,"hours").toDate(),o=new e.CalendarEventObject("Morning swim","Be on time","Lake",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o);for(o=r.clone().add(-52,"weeks").add(1,"days").toDate(),l=r.clone().add(-52,"weeks").add(31,"days").toDate(),o=new e.CalendarEventObject("Family holiday","Double check the hotel booking","Saxapahaw",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(1,"weeks").add(10,"days").toDate(),l=r.clone().add(1,"weeks").add(23,"days").toDate(),o=new e.CalendarEventObject("Family holiday","Double check the hotel booking","Saxapahaw",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(30,"weeks").toDate(),l=r.clone().add(40,"weeks").toDate(),o=new e.CalendarEventObject("Course","Double check the hotel booking","Saxapahaw",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(-100,"weeks").toDate(),l=r.clone().add(-28,"weeks").toDate(),o=new e.CalendarEventObject("Previous job","Double check the hotel booking","Saxapahaw",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(-27,"weeks").toDate(),l=r.clone().add(-18,"weeks").toDate(),o=new e.CalendarEventObject("Intro period","Double check the hotel booking","Saxapahaw",o,l,"My",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(-17,"weeks").toDate(),l=r.clone().add(-14,"weeks").toDate(),o=new e.CalendarEventObject("IT Course","Double check the hotel booking","Saxapahaw",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(-13,"weeks").toDate(),l=r.clone().add(-8,"weeks").toDate(),o=new e.CalendarEventObject("Smile project","Double check the hotel booking","Saxapahaw",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(1,"weeks").add(5,"days").add(18,"hours").toDate(),l=r.clone().add(1,"weeks").add(8,"days").add(22,"hours").toDate(),o=new e.CalendarEventObject("Visit my parents","","Sutton Bonnington",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(1,"weeks").add(14,"days").toDate(),l=r.clone().add(1,"weeks").add(16,"days").toDate(),o=new e.CalendarEventObject("Trip to mountains","Bring tent","",o,l,"Other",this.calendarEvents.length.toString()),this.calendarEvents.push(o),t=0;30>t;t++)o=r.clone().add(-15,"weeks").add(2+7*t-21,"days").add(9,"hours").toDate(),l=r.clone().add(-15,"weeks").add(2+7*t-21,"days").add(9,"hours").add(20,"minutes").toDate(),o=new e.CalendarEventObject("Morning briefing","","Work",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o);for(t=0;15>t;t++)o=r.clone().add(1,"weeks").add(4+7*t-21,"days").add(9,"hours").toDate(),l=r.clone().add(1,"weeks").add(4+7*t-21,"days").add(9,"hours").add(20,"minutes").toDate(),o=new e.CalendarEventObject("Morning briefing","","Work",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o);for(o=r.clone().add(1,"weeks").add(-7,"days").toDate(),l=r.clone().add(1,"weeks").add(0,"days").toDate(),o=new e.CalendarEventObject("Annual wrap-up","Close all ongoing cases","",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(-23,"weeks").add(-7,"days").toDate(),l=r.clone().add(-23,"weeks").add(0,"days").toDate(),o=new e.CalendarEventObject("Annual wrap-up","Close all ongoing cases","",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o),t=0;10>t;t++)t===7&&(t+=2),o=s.clone().add(-3+7*t,"days").add(7,"hours").add(30,"minutes").toDate(),l=s.clone().add(-3+7*t,"days").add(10,"hours").toDate(),o=new e.CalendarEventObject("My breakfast-day","Have everything prepared by 7.30","Work",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o);o=r.clone().add(1,"weeks").add(-4,"days").add(11,"hours").toDate(),l=r.clone().add(1,"weeks").add(-4,"days").add(13,"hours").toDate(),o=new e.CalendarEventObject("Meeting with R.P","Your turn to take the bill","Jackie\'s Besty Diner",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o),o=r.clone().add(1,"weeks").add(3,"days").add(13,"hours").toDate(),l=r.clone().add(1,"weeks").add(3,"days").add(16,"hours").toDate(),o=new e.CalendarEventObject("Meeting with R.P","Bring the files","Office on Winfall BLVD",o,l,"Work",this.calendarEvents.length.toString()),this.calendarEvents.push(o)}getCleanRedirectURI(){return window.location.protocol+"//"+window.location.host}getRRuleObject(t,r){r(void 0)}getFirstRecurringEvent(t){return this.calendarEvents.filter(function(r){return r.recurringEventId===t.recurringEventId})[0]}finalizeLoad(){var t;for(this.applyCalendarsVisibilitySettings(),e.core.calendarEventHandler.clearAllEvents(),t=0;t<this.calendarEvents.length;t++)e.core.getCalendar(this.calendarEvents[t].calendarId).visibility==e.VisibilityType.Visible&&e.core.calendarEventHandler.addEventToCalendar(this.calendarEvents[t]);e.core.calendarEventHandler.findCommonTimes(),e.core.loadingHandler.stopLoading(),this.loadReadyCallback&&this.loadReadyCallback(),e.core.redraw(!0)}canEditRecurring(t){return!1}deleteEvent(t,r,s){if(t.isRecurring&&r===a.EventEditType.AllInSeries)for(r=e.core.calendarEventHandler.getCalendarEventsByIdAndRecurringId(t.recurringEventId),t=0;t<r.length;t++)this.removeEventFromFromDemoData(r[t]),e.core.calendarEventHandler.removeCalendarEvent(r[t]);else this.removeEventFromFromDemoData(t),e.core.calendarEventHandler.removeCalendarEvent(t);this.saveEventsToCache()}removeEventFromFromDemoData(t){var r;for(r=0;r<this.calendarEvents.length;r++)if(this.calendarEvents[r]===t){this.calendarEvents.splice(r,1);break}}addNewEvent(t,r){if(t.id=""+Math.random(),this.calendarEvents.push(t),e.core.calendarEventHandler.addEventToCalendar(t),t.rruleToSave!==void 0&&t.rruleToSave!==null){var s=t.endDateTime.getTime()-t.startDateTime.getTime();t.isRecurring=!0;for(var o=t.rruleToSave.all(),l=1;l<o.length;l++){var c=new Date(o[l].getTime()+s),c=new e.CalendarEventObject(t.summary,t.description,t.location,o[l],c,t.calendarId,""+Math.random());c.isRecurring=!0,c.recurringEventId=t.id,this.calendarEvents.push(c),e.core.calendarEventHandler.addEventToCalendar(c)}}this.saveEventsToCache()}editExistingEvent(t,r){e.core.calendarEventHandler.removeCalendarEvent(t),e.core.calendarEventHandler.addEventToCalendar(t),this.saveEventsToCache()}saveEventsToCache(){this.localStorageSetItem("oneview_demo_verrsion",this.dbVersion),this.localStorageSetItem("oneview_demo_saveComplete",JSON.stringify(!1)),this.localStorageSetItem("oneview_demo_allEvents",JSON.stringify(this.calendarEvents)),this.localStorageSetItem("oneview_demo_allCalendars",JSON.stringify(e.core.calendars)),this.localStorageSetItem("oneview_demo_primaryCalendarId",JSON.stringify(e.core.calendarPrimaryId)),this.localStorageSetItem("oneview_demo_demo",JSON.stringify(!0)),this.localStorageSetItem("oneview_demo_saveComplete",JSON.stringify(!0))}static getLastSessionWasInDemoMode(){try{var t=localStorage.getItem("oneview_demo_last_session_was_in_demo_mode");return t==null||t==null?!0:JSON.parse(t)}catch{return!0}}static setLastSessionWasInDemoMode(t){new e.LocalStorage().localStorageSetItem("oneview_demo_last_session_was_in_demo_mode",JSON.stringify(t))}loadEventsFromCache(){try{var t=localStorage.getItem("oneview_demo_verrsion"),r=localStorage.getItem("oneview_demo_saveComplete"),s=localStorage.getItem("oneview_demo_allEvents"),o=localStorage.getItem("oneview_demo_allCalendars"),l=localStorage.getItem("oneview_demo_primaryCalendarId"),c=localStorage.getItem("oneview_demo_demo");if(t!==this.dbVersion||r!="true"||o==null||o==null||s==null||s==null||l==null||l==null||c==null||c==null)return!1;try{e.core.calendarPrimaryId=JSON.parse(l),this.calendarEvents=JSON.parse(s,this.dateTimeReviver),e.core.calendars=JSON.parse(o,this.dateTimeReviver)}catch{return!1}return!0}catch{return!1}}persistCalendarsVisibilitySettings(t){this.localStorageSetItem("oneview_demo_visibilitySettings",JSON.stringify(t)),this.saveEventsToCache(),e.core.populateCalendars()}applyCalendarsVisibilitySettings(){try{var t=localStorage.getItem("oneview_demo_visibilitySettings");if(t!=null)for(var t=JSON.parse(t,this.dateTimeReviver),r=0;r<e.core.calendars.length;r++)for(var s=0;s<t.length;s++)t[s].id==e.core.calendars[r].id&&(e.core.calendars[r].visibility=t[s].newVisibility)}catch{}}analyticsEvent(t,r){}analyticsPage(t){}analyticsValue(t,r,s,o){}analyticsTiming(t,r){}}e.DemoCalendarDataProxy=Ft;class ss{constructor(){this.colorPickerId="onview.calendar.color.control",this.darkThemeId="oneview.calendar.theme.dark.1",this.candyThemeId="oneview.calendar.theme.candy",this.pageHtml=\'<div id="calendarsTopBar" class="topBar">    <button id="shopBack" class="topBarButton" style="width:50%"><img src="images/arrow-left.svg" class="topBarImage"/></span><span>{#Back#}</span></button>    <button id="emptyButton" class="topBarButton" style="width:50%"></button>    <div id="shopTitle" class="topBarTitle" style="width:100%">{#Shop#}</div></div><div id="shopArea" class="pageContent pageTopPadding">    <div id="darkThemeArea" class="shopItemArea" >        <div class="shopItemAreaLeft" >            <div id="darkThemeTitle" class="shopItemTitle"></div>            <div id="darkThemeDescription" class="shopItemDescription"></div>            <button id="darkThemePrice" class="shopItemButton"> ? </button>        </div>        <div class="shopItemAreaRight">            <img class="shopImage" src="images/darkTheme_mini.png">        </div>    </div>    <div id="candyThemeArea" class="shopItemArea" >        <div class="shopItemAreaLeft" >            <div id="candyThemeTitle" class="shopItemTitle"></div>            <div id="candyThemeDescription" class="shopItemDescription"></div>            <button id="candyThemePrice" class="shopItemButton"> ? </button>        </div>        <div class="shopItemAreaRight">            <img class="shopImage" src="images/candyTheme_mini.png">        </div>    </div>    <div id="colorPickerArea" class="shopItemArea" >        <div class="shopItemAreaLeft" >            <div id="colorPickerTitle" class="shopItemTitle"></div>            <div id="colorPickerDescription" class="shopItemDescription"></div>            <button id="colorPickerPrice" class="shopItemButton"> ? </button>        </div>        <div class="shopItemAreaRight">            <img class="shopImage" src="images/colorPicker_mini.png">        </div>    </div></div>\',this.alreadyRegistered=!1,this.timestamp=0}reloadShopItems(){this.text="ok",this.setupColorPicker=this.setupColorPicker.bind(this),this.setupDarkTheme=this.setupDarkTheme.bind(this),this.setupCandyTheme=this.setupCandyTheme.bind(this),window.store.when(this.colorPickerId).updated(this.setupColorPicker),window.store.when(this.darkThemeId).updated(this.setupDarkTheme),window.store.when(this.candyThemeId).updated(this.setupCandyTheme),this.alreadyRegistered||(window.store.register({id:this.colorPickerId,alias:"Color picker",type:"non consumable"}),window.store.register({id:this.darkThemeId,alias:"Dark theme",type:"non consumable"}),window.store.register({id:this.candyThemeId,alias:"Candy theme",type:"non consumable"})),this.alreadyRegistered=!0,window.store.refresh(),this.productColorPicker&&this.setupItem(this.productColorPicker,"colorPicker"),this.productCandyTheme&&this.setupItem(this.productDarkTheme,"darkTheme"),this.productCandyTheme&&this.setupItem(this.productCandyTheme,"candyTheme"),document.getElementById("colorPickerTitle").innerHTML="Color picker",document.getElementById("colorPickerDescription").innerHTML="Change calendar colors and event colors. (30 color palette)",document.getElementById("darkThemeTitle").innerHTML="Dark theme",document.getElementById("darkThemeDescription").innerHTML="A beautiful theme on a dark background.",document.getElementById("candyThemeTitle").innerHTML="Candy theme",document.getElementById("candyThemeDescription").innerHTML="A playful theme in calm pastel colors.",e.core.domHandler.addClickEvent("colorPickerPrice",this.itemClicked,this),e.core.domHandler.addClickEvent("darkThemePrice",this.itemClicked,this),e.core.domHandler.addClickEvent("candyThemePrice",this.itemClicked,this)}productOk(t){return t.owned||t.downloading||t.downloaded||t.state=="downloading"||t.state=="downloaded"||t.state=="approved"||t.state=="finnished"||t.state=="owned"}productNotFinished(t){return t.state=="approved"}setupColorPicker(t){this.productColorPicker=t,this.setupItem(t,"colorPicker"),this.productOk(t)?e.core.commonUserSettings.licenceColorPicker=!0:e.core.commonUserSettings.licenceColorPicker=!1,this.productNotFinished(t)&&t.finish()}setupDarkTheme(t){this.productDarkTheme=t,this.setupItem(t,"darkTheme"),this.productOk(t)?e.core.commonUserSettings.licenceDarkTheme=!0:e.core.commonUserSettings.licenceDarkTheme=!1,this.productNotFinished(t)&&t.finish()}setupCandyTheme(t){this.productCandyTheme=t,this.setupItem(t,"candyTheme"),this.productOk(t)?e.core.commonUserSettings.licenceCandyTheme=!0:e.core.commonUserSettings.licenceCandyTheme=!1,this.productNotFinished(t)&&t.finish()}setupItem(t,r){document.getElementById(r+"Title").innerHTML=t.alias,document.getElementById(r+"Price").innerHTML=t.price,t.owned||!t.canPurchase?document.getElementById(r+"Price").classList.contains("shopItemButtonInactive")||document.getElementById(r+"Price").classList.add("shopItemButtonInactive"):document.getElementById(r+"Price").classList.contains("shopItemButtonInactive")&&document.getElementById(r+"Price").classList.remove("shopItemButtonInactive")}show(){e.core.domHandler.hideCanvas(),this.timestamp=e.core.getTimeStamp(),e.core.calendarDataProxy.analyticsPage("Shop page"),this.shopPage=e.core.domHandler.pageHtmlFormatHelper("shopPage",this.pageHtml),this.shopPage.style.display="block",e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements(),e.core.domHandler.resizeDomElements=e.core.domHandler.resizeDomElements.bind(e.core.domHandler),window.setTimeout(e.core.domHandler.resizeDomElements,0),window.setTimeout(e.core.domHandler.resizeDomElements,100),this.reloadShopItems();var t=(e.core.settings.titleWidth/e.core.ratio-24)/2;document.getElementById("shopBack").style.padding=t+"px",document.getElementById("emptyButton").style.padding=e.core.settings.titleWidth/e.core.ratio/2+1+"px",document.getElementById("shopArea").style.top="54px",e.core.showBackButtons()?(e.core.domHandler.addClickEvent("shopBack",this.shopBack,this),document.getElementById("shopTitle").style.display="none"):(document.getElementById("shopBack").style.display="none",document.getElementById("emptyButton").style.display="none")}hide(){e.core.appStateHandler.shopControlIsShowing=!1,window.store.off(this.setupColorPicker),window.store.off(this.setupDarkTheme),window.store.off(this.setupCandyTheme),e.core.domHandler.showCanvas(),e.core.domHandler.removeElement(this.shopPage.id)}reshow(){this.show()}getEventTarget(t){return t=t||window.event,t.target||t.srcElement}itemClicked(t){t.preventDefault();var r=e.core.getTimeStamp();this.lastClickTime&&this.lastClickTime+250>r||(this.lastClickTime=r,t=this.getEventTarget(t),t.innerHTML!="?"&&(t==document.getElementById("colorPickerPrice")&&window.store.order(this.colorPickerId),t==document.getElementById("darkThemePrice")&&window.store.order(this.darkThemeId),t==document.getElementById("candyThemePrice")&&window.store.order(this.candyThemeId)))}shopBack(t){300>e.core.getTimeStamp()-this.timestamp||e.core.appStateHandler.back()}}e.ShopControl=ss,e.EventEditType={10:"ThisOnly",20:"AllInSeries",30:"ThisAndFuture",40:"None",50:"DontKnow",51:"New",ThisOnly:10,AllInSeries:20,ThisAndFuture:30,None:40,DontKnow:50,New:51},e.CalendarDataProxyType={0:"Google",1:"Demo",2:"Android",Google:0,Demo:1,Android:2},e.VisibilityType={10:"Visible",20:"Hidden",Hidden:20,Visible:10},e.CalendarDateObjectType={0:"Minutes5",1:"Hour",2:"Day",3:"Week",4:"Month",5:"Year",6:"Title",Minutes5:0,Hour:1,Day:2,Week:3,Month:4,Year:5,Title:6},e.RRuleFrequencies={0:"Year",1:"Month",2:"Week",3:"Day",4:"Hourly",5:"Minutely",6:"Secondly",Day:3,Week:2,Month:1,Year:0,Title:6,Hourly:4,Minutely:5,Secondly:6},e.RRuleWeekDay={0:"Monday",1:"Tuesday",2:"Wednesday",3:"Thursday",4:"Friday",5:"Saturday",6:"Sunday",Monday:0,Tuesday:1,Wednesday:2,Thursday:3,Friday:4,Saturday:5,Sunday:6}})(q||(q={}));const hl=()=>{let e="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)e+=i.charAt(Math.floor(Math.random()*i.length));return e},cl=e=>{const i=new Map,n=typeof window<"u"&&window.__markwhen_wss_url;let h,u=!1;n&&(h=new WebSocket(n),h.onopen=()=>{u=!0,T("appState"),T("markwhenState")});const v=k=>{h&&u?h.send(JSON.stringify(k)):typeof window<"u"&&window.parent.postMessage(k,"*")},T=(k,I)=>{const W=`markwhen_${hl()}`;return new Promise((J,Me)=>{i.set(W,{resolve:J,reject:Me}),v({type:k,request:!0,id:W,params:I})})},C=(k,I,W)=>v({type:I,response:!0,id:k,params:W}),P=k=>{var W,J;if(!k.data.id||!k.data.id.startsWith("markwhen")||k.source===window)return;const I=k.data;if(I.response)(W=i.get(I.id))==null||W.resolve(I),i.delete(I.id);else if(I.request){const Me=(J=e==null?void 0:e[I.type])==null?void 0:J.call(e,I.params);Promise.resolve(Me).then(St=>{C(I.id,I.type,St)})}else console.error("Not a request or response",I)};h?h.onmessage=k=>{const I=new MessageEvent("message",{data:JSON.parse(k.data)});P(I)}:typeof window<"u"&&(window==null||window.addEventListener("message",P));const b=typeof window<"u"&&window.__markwhen_initial_state;return b&&e&&e.markwhenState&&e.markwhenState(b),{postRequest:T}},oa=/(milliseconds|ms)/i,na=/(seconds|second|secs|sec|s)/i,la=/(minutes|minute|mins|min)/i,da=/(hours|hour|h)/i,ha=/(?:(week\\s*|work\\s*|business\\s*)?(days|day|d))/i,ca=/(weeks|week|w)/i,ua=/(months|month)/i,ga=/(years|year|y)/i,ul=new RegExp(`(\\\\d+\\\\W*)(${oa.source}|${na.source}|${la.source}|${da.source}|${ha.source}|${ca.source}|${ua.source}|${ga.source})(?:\\\\s*,\\\\s*|\\\\s*)`,"g"),gl=/(?:\\W|^)(!\\w+)/,Lt=new RegExp(`(by|before|after)?(\\\\s*${gl.source}\\\\s*)?(?:plus|\\\\+)?\\\\s*(${ul.source})*`),ml=/january|february|march|april|may|june|july|august|september|october|november|december/,pl=/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/,ma=new RegExp(`(?:(${ml.source})|(${pl.source}))`),vl=new RegExp(`(([0-3]?[0-9])\\\\s+${ma.source})`),fl=new RegExp(`(${ma.source}\\\\s+([0-3]?[0-9](?!\\\\d)))`),pa=/((1|2|3|4|5|6|7|8|9|10|11|12)(:\\d{2})?([ap]m)|([012]?[0-9])(:\\d{2}))/,Tl=new RegExp(`(?:(?:${vl.source}|${fl.source}),?(?:\\\\s+(\\\\d{4}),?)?(?:\\\\s+${pa.source})?)|(${ma.source}(?:\\\\s+(\\\\d{1,4}))?)`),Dl=/\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2,}(?:\\.\\d*)?Z/,Rt=/now/,yl=new RegExp(`(\\\\d{1,5}(\\\\/\\\\d{1,5}(\\\\/\\\\d{1,5}(?:(?:,|\\\\s)+${pa.source})?)?)?)`),Ha=new RegExp(`(${Dl.source})|(${Rt.source})|${pa.source}|(${yl.source})|(${Lt.source})|${Tl.source}`),El=new RegExp(`(?:(\\\\d+|other)?\\\\s*)(${oa.source}|${na.source}|${la.source}|${da.source}|${ha.source}|${ca.source}|${ua.source}|${ga.source})`,"g"),Cl=new RegExp(`((\\\\s+for\\\\s+(\\\\d+\\\\W*)(${oa.source}|${na.source}|${la.source}|${da.source}|${ha.source}|${ca.source}|${ua.source}|${ga.source}|(times)))|(\\\\s+x\\\\s*(\\\\d+)))?`),Fr=new RegExp(`\\\\s*every\\\\s+${El.source}${Cl.source}`),Sl=new RegExp(`((${Ha.source})(?:\\\\s*(?:-|to)\\\\s*(${Ha.source}))?)(${Fr.source})?\\\\s*:`);new RegExp(`^(\\\\s*)${Sl.source}(.*)`,"i");const ka=/(\\d{4}(-\\d{2}(-\\d{2})?)?)/,Fl=new RegExp(`((?:${ka.source}|(${Lt.source})|(${Rt.source}))(\\\\s*/\\\\s*(?:${ka.source}|(${Lt.source})|(${Rt.source})))?)(${Fr.source})?\\\\s*:`);new RegExp(`^(\\\\s*)${Fl.source}(.*)`,"i");var Aa;(function(e){e.TEXT="text",e.LIST_ITEM="listItem",e.CHECKBOX="checkbox",e.IMAGE="image"})(Aa||(Aa={}));var Ba;(function(e){e.Comment="comment",e.CheckboxItemIndicator="checkboxItemIndicator",e.listItemIndicator="listItemIndicator",e.ListItemContents="listItemContents",e.Tag="tag",e.tagDefinition="tagDefinition",e.Title="title",e.View="view",e.Viewer="viewer",e.Description="description",e.Section="section",e.DateRange="dateRange",e.DateRangeColon="dateRangeColon",e.Event="event",e.Edit="edit",e.Editor="editor",e.Recurrence="recurrence",e.FrontmatterDelimiter="frontMatterDelimiter",e.HeaderKey="headerKey",e.HeaderKeyColon="headerKeyColon",e.HeaderValue="headerValue"})(Ba||(Ba={}));function*xr(e,i){if(yield{node:e,path:i},e&&!Zt(e)){const n=e.value;for(let h=0;h<n.length;h++)yield*xr(n[h],[...i,h])}}const Zt=e=>!Array.isArray(e.value);function xl(){let e,i,n=!1,h=[],u={},v;const T=(b,k)=>{var J;const I=Zt(b)?b.value.eventDescription.tags:b.tags,W=b.source||"default";return I?(J=k==null?void 0:k[W])==null?void 0:J[I[0]]:void 0},C=(b,k,I=!0)=>{h=[];for(const{node:W,path:J}of xr(b,[]))if(W&&Zt(W)){const Me=new q.CalendarEventObject({summary:W.value.eventDescription.eventDescription,description:J.join(","),location:"",startDate:new Date(W.value.dateRangeIso.fromDateTimeIso),endDate:new Date(W.value.dateRangeIso.toDateTimeIso),calendarId:"Default",eventId:J.join(","),color:T(W,u),isHovered:J.join(",")===(k==null?void 0:k.join(",")),isDetail:J.join(",")===(i==null?void 0:i.join(",")),mwNode:W});h.push(Me)}q.core.calendarEventHandler.clearAllEvents(),q.core.calendars=[new q.CalendarObject("Default","default",[],0,q.VisibilityType.Visible,!0,!0)],q.core.calendarPrimaryId="Default",q.core.getCalendar("Default").allEventsAreFullDay=!1,q.core.calendarEventHandler.gradeCalendarEvents(h),h.sort(function(W,J){return W.startZOP-J.startZOP}),h.forEach(W=>{q.core.calendarEventHandler.addEventToCalendar(W)}),q.core.calendarEventHandler.findCommonTimes(),q.core.redraw(I)},{postRequest:P}=cl({appState(b){b.isDark!==n&&(n=!!b.isDark,q.core.commonUserSettings.theme=n?"3":"0",q.core.settings.reloadTheme()),e=b.hoveringPath,u=b.colorMap,i=b.detailPath,C(v,e)},markwhenState(b){v=b.transformed,C(v,e)}});q.core=new q.Core(P),q.core.init(),q.core.startDrawLoop(),P("appState"),P("markwhenState")}window.onload=function(){window.setTimeout(function(){try{xl()}catch(e){console.error(e)}},50)}});export default Ml();\n\n<\/script>\n  </head>\n  <body>\n    <div id="debugtext"></div>\n    \n  </body>\n</html>\n',Tg='<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <link rel="icon" href="/favicon.ico" />\n    <meta\n      name="viewport"\n      content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0, user-scalable=no"\n    />\n    <title>Resume</title>\n    <script type="module" crossorigin>\n(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll(\'link[rel="modulepreload"]\'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function dt(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}function Cn(e){if(F(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Y(r)?bi(r):Cn(r);if(s)for(const o in s)t[o]=s[o]}return t}else{if(Y(e))return e;if(ne(e))return e}}const mi=/;(?![^(]*\\))/g,gi=/:([^]+)/,_i=/\\/\\*.*?\\*\\//gs;function bi(e){const t={};return e.replace(_i,"").split(mi).forEach(n=>{if(n){const r=n.split(gi);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function yi(e){let t="";if(!e||Y(e))return t;for(const n in e){const r=e[n],s=n.startsWith("--")?n:pt(n);(Y(r)||typeof r=="number")&&(t+=`${s}:${r};`)}return t}function ht(e){let t="";if(Y(e))t=e;else if(F(e))for(let n=0;n<e.length;n++){const r=ht(e[n]);r&&(t+=r+" ")}else if(ne(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const xi="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",wi="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",vi=dt(xi),Ei=dt(wi),zs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Oi=dt(zs),Ri=dt(zs+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function mr(e){return!!e||e===""}const Pi=/[>/="\'\\u0009\\u000a\\u000c\\u0020]/,Ln={};function Ai(e){if(Ln.hasOwnProperty(e))return Ln[e];const t=Pi.test(e);return t&&console.error(`unsafe attribute name: ${e}`),Ln[e]=!t}const Ci={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},Ti=/["\'&<>]/;function ze(e){const t=""+e,n=Ti.exec(t);if(!n)return t;let r="",s,o,i=0;for(o=n.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}i!==o&&(r+=t.slice(i,o)),i=o+1,r+=s}return i!==o?r+t.slice(i,o):r}const $i=/^-?>|<!--|-->|--!>|<!-$/g;function Mi(e){return e.replace($i,"")}const Oe=e=>Y(e)?e:e==null?"":F(e)||ne(e)&&(e.toString===Zs||!D(e.toString))?JSON.stringify(e,Ys,2):String(e),Ys=(e,t)=>t&&t.__v_isRef?Ys(e,t.value):wt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Js(t)?{[`Set(${t.size})`]:[...t.values()]}:ne(t)&&!F(t)&&!Qs(t)?String(t):t,te={},xt=[],xe=()=>{},Ii=()=>!1,ki=/^on[^a-z]/,$t=e=>ki.test(e),gr=e=>e.startsWith("onUpdate:"),me=Object.assign,_r=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ni=Object.prototype.hasOwnProperty,B=(e,t)=>Ni.call(e,t),F=Array.isArray,wt=e=>Tn(e)==="[object Map]",Js=e=>Tn(e)==="[object Set]",D=e=>typeof e=="function",Y=e=>typeof e=="string",br=e=>typeof e=="symbol",ne=e=>e!==null&&typeof e=="object",tn=e=>ne(e)&&D(e.then)&&D(e.catch),Zs=Object.prototype.toString,Tn=e=>Zs.call(e),Si=e=>Tn(e).slice(8,-1),Qs=e=>Tn(e)==="[object Object]",yr=e=>Y(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Dt=dt(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$n=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Fi=/-(\\w)/g,Et=$n(e=>e.replace(Fi,(t,n)=>n?n.toUpperCase():"")),ji=/\\B([A-Z])/g,pt=$n(e=>e.replace(ji,"-$1").toLowerCase()),eo=$n(e=>e.charAt(0).toUpperCase()+e.slice(1)),Un=$n(e=>e?`on${eo(e)}`:""),Vt=(e,t)=>!Object.is(e,t),Bn=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},gn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Di=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let os;const Hi=()=>os||(os=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let ye;class to{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ye,!t&&ye&&(this.index=(ye.scopes||(ye.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ye;try{return ye=this,t()}finally{ye=n}}}on(){ye=this}off(){ye=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function no(e){return new to(e)}function Li(e,t=ye){t&&t.active&&t.effects.push(e)}function ro(){return ye}function Ui(e){ye&&ye.cleanups.push(e)}const xr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},so=e=>(e.w&Qe)>0,oo=e=>(e.n&Qe)>0,Bi=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Qe},Ki=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];so(s)&&!oo(s)?s.delete(e):t[n++]=s,s.w&=~Qe,s.n&=~Qe}t.length=n}},_n=new WeakMap;let Ft=0,Qe=1;const Jn=30;let Ce;const ct=Symbol(""),Zn=Symbol("");class wr{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Li(this,r)}run(){if(!this.active)return this.fn();let t=Ce,n=Ye;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ce,Ce=this,Ye=!0,Qe=1<<++Ft,Ft<=Jn?Bi(this):is(this),this.fn()}finally{Ft<=Jn&&Ki(this),Qe=1<<--Ft,Ce=this.parent,Ye=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ce===this?this.deferStop=!0:this.active&&(is(this),this.onStop&&this.onStop(),this.active=!1)}}function is(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ye=!0;const io=[];function Mt(){io.push(Ye),Ye=!1}function It(){const e=io.pop();Ye=e===void 0?!0:e}function _e(e,t,n){if(Ye&&Ce){let r=_n.get(e);r||_n.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=xr()),lo(s)}}function lo(e,t){let n=!1;Ft<=Jn?oo(e)||(e.n|=Qe,n=!so(e)):n=!e.has(Ce),n&&(e.add(Ce),Ce.deps.push(e))}function Ue(e,t,n,r,s,o){const i=_n.get(e);if(!i)return;let l=[];if(t==="clear")l=[...i.values()];else if(n==="length"&&F(e)){const c=Number(r);i.forEach((a,d)=>{(d==="length"||d>=c)&&l.push(a)})}else switch(n!==void 0&&l.push(i.get(n)),t){case"add":F(e)?yr(n)&&l.push(i.get("length")):(l.push(i.get(ct)),wt(e)&&l.push(i.get(Zn)));break;case"delete":F(e)||(l.push(i.get(ct)),wt(e)&&l.push(i.get(Zn)));break;case"set":wt(e)&&l.push(i.get(ct));break}if(l.length===1)l[0]&&Qn(l[0]);else{const c=[];for(const a of l)a&&c.push(...a);Qn(xr(c))}}function Qn(e,t){const n=F(e)?e:[...e];for(const r of n)r.computed&&ls(r);for(const r of n)r.computed||ls(r)}function ls(e,t){(e!==Ce||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Wi(e,t){var n;return(n=_n.get(e))===null||n===void 0?void 0:n.get(t)}const Xi=dt("__proto__,__v_isRef,__isVue"),co=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(br)),Vi=vr(),qi=vr(!1,!0),Gi=vr(!0),cs=zi();function zi(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=K(this);for(let o=0,i=this.length;o<i;o++)_e(r,"get",o+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(K)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Mt();const r=K(this)[t].apply(this,n);return It(),r}}),e}function Yi(e){const t=K(this);return _e(t,"has",e),t.hasOwnProperty(e)}function vr(e=!1,t=!1){return function(r,s,o){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&o===(e?t?dl:po:t?ho:ao).get(r))return r;const i=F(r);if(!e){if(i&&B(cs,s))return Reflect.get(cs,s,o);if(s==="hasOwnProperty")return Yi}const l=Reflect.get(r,s,o);return(br(s)?co.has(s):Xi(s))||(e||_e(r,"get",s),t)?l:le(l)?i&&yr(s)?l:l.value:ne(l)?e?mo(l):In(l):l}}const Ji=fo(),Zi=fo(!0);function fo(e=!1){return function(n,r,s,o){let i=n[r];if(Ot(i)&&le(i)&&!le(s))return!1;if(!e&&(!bn(s)&&!Ot(s)&&(i=K(i),s=K(s)),!F(n)&&le(i)&&!le(s)))return i.value=s,!0;const l=F(n)&&yr(r)?Number(r)<n.length:B(n,r),c=Reflect.set(n,r,s,o);return n===K(o)&&(l?Vt(s,i)&&Ue(n,"set",r,s):Ue(n,"add",r,s)),c}}function Qi(e,t){const n=B(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Ue(e,"delete",t,void 0),r}function el(e,t){const n=Reflect.has(e,t);return(!br(t)||!co.has(t))&&_e(e,"has",t),n}function tl(e){return _e(e,"iterate",F(e)?"length":ct),Reflect.ownKeys(e)}const uo={get:Vi,set:Ji,deleteProperty:Qi,has:el,ownKeys:tl},nl={get:Gi,set(e,t){return!0},deleteProperty(e,t){return!0}},rl=me({},uo,{get:qi,set:Zi}),Er=e=>e,Mn=e=>Reflect.getPrototypeOf(e);function sn(e,t,n=!1,r=!1){e=e.__v_raw;const s=K(e),o=K(t);n||(t!==o&&_e(s,"get",t),_e(s,"get",o));const{has:i}=Mn(s),l=r?Er:n?Pr:qt;if(i.call(s,t))return l(e.get(t));if(i.call(s,o))return l(e.get(o));e!==s&&e.get(t)}function on(e,t=!1){const n=this.__v_raw,r=K(n),s=K(e);return t||(e!==s&&_e(r,"has",e),_e(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function ln(e,t=!1){return e=e.__v_raw,!t&&_e(K(e),"iterate",ct),Reflect.get(e,"size",e)}function fs(e){e=K(e);const t=K(this);return Mn(t).has.call(t,e)||(t.add(e),Ue(t,"add",e,e)),this}function us(e,t){t=K(t);const n=K(this),{has:r,get:s}=Mn(n);let o=r.call(n,e);o||(e=K(e),o=r.call(n,e));const i=s.call(n,e);return n.set(e,t),o?Vt(t,i)&&Ue(n,"set",e,t):Ue(n,"add",e,t),this}function as(e){const t=K(this),{has:n,get:r}=Mn(t);let s=n.call(t,e);s||(e=K(e),s=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return s&&Ue(t,"delete",e,void 0),o}function ds(){const e=K(this),t=e.size!==0,n=e.clear();return t&&Ue(e,"clear",void 0,void 0),n}function cn(e,t){return function(r,s){const o=this,i=o.__v_raw,l=K(i),c=t?Er:e?Pr:qt;return!e&&_e(l,"iterate",ct),i.forEach((a,d)=>r.call(s,c(a),c(d),o))}}function fn(e,t,n){return function(...r){const s=this.__v_raw,o=K(s),i=wt(o),l=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,a=s[e](...r),d=n?Er:t?Pr:qt;return!t&&_e(o,"iterate",c?Zn:ct),{next(){const{value:h,done:_}=a.next();return _?{value:h,done:_}:{value:l?[d(h[0]),d(h[1])]:d(h),done:_}},[Symbol.iterator](){return this}}}}function We(e){return function(...t){return e==="delete"?!1:this}}function sl(){const e={get(o){return sn(this,o)},get size(){return ln(this)},has:on,add:fs,set:us,delete:as,clear:ds,forEach:cn(!1,!1)},t={get(o){return sn(this,o,!1,!0)},get size(){return ln(this)},has:on,add:fs,set:us,delete:as,clear:ds,forEach:cn(!1,!0)},n={get(o){return sn(this,o,!0)},get size(){return ln(this,!0)},has(o){return on.call(this,o,!0)},add:We("add"),set:We("set"),delete:We("delete"),clear:We("clear"),forEach:cn(!0,!1)},r={get(o){return sn(this,o,!0,!0)},get size(){return ln(this,!0)},has(o){return on.call(this,o,!0)},add:We("add"),set:We("set"),delete:We("delete"),clear:We("clear"),forEach:cn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=fn(o,!1,!1),n[o]=fn(o,!0,!1),t[o]=fn(o,!1,!0),r[o]=fn(o,!0,!0)}),[e,n,t,r]}const[ol,il,ll,cl]=sl();function Or(e,t){const n=t?e?cl:ll:e?il:ol;return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(B(n,s)&&s in r?n:r,s,o)}const fl={get:Or(!1,!1)},ul={get:Or(!1,!0)},al={get:Or(!0,!1)},ao=new WeakMap,ho=new WeakMap,po=new WeakMap,dl=new WeakMap;function hl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pl(e){return e.__v_skip||!Object.isExtensible(e)?0:hl(Si(e))}function In(e){return Ot(e)?e:Rr(e,!1,uo,fl,ao)}function ml(e){return Rr(e,!1,rl,ul,ho)}function mo(e){return Rr(e,!0,nl,al,po)}function Rr(e,t,n,r,s){if(!ne(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const i=pl(e);if(i===0)return e;const l=new Proxy(e,i===2?r:n);return s.set(e,l),l}function Je(e){return Ot(e)?Je(e.__v_raw):!!(e&&e.__v_isReactive)}function Ot(e){return!!(e&&e.__v_isReadonly)}function bn(e){return!!(e&&e.__v_isShallow)}function go(e){return Je(e)||Ot(e)}function K(e){const t=e&&e.__v_raw;return t?K(t):e}function Rt(e){return gn(e,"__v_skip",!0),e}const qt=e=>ne(e)?In(e):e,Pr=e=>ne(e)?mo(e):e;function _o(e){Ye&&Ce&&(e=K(e),lo(e.dep||(e.dep=xr())))}function bo(e,t){e=K(e);const n=e.dep;n&&Qn(n)}function le(e){return!!(e&&e.__v_isRef===!0)}function ot(e){return gl(e,!1)}function gl(e,t){return le(e)?e:new _l(e,t)}class _l{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:K(t),this._value=n?t:qt(t)}get value(){return _o(this),this._value}set value(t){const n=this.__v_isShallow||bn(t)||Ot(t);t=n?t:K(t),Vt(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:qt(t),bo(this))}}function se(e){return le(e)?e.value:e}const bl={get:(e,t,n)=>se(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return le(s)&&!le(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function yo(e){return Je(e)?e:new Proxy(e,bl)}function yl(e){const t=F(e)?new Array(e.length):{};for(const n in e)t[n]=wl(e,n);return t}class xl{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Wi(K(this._object),this._key)}}function wl(e,t,n){const r=e[t];return le(r)?r:new xl(e,t,n)}var xo;class vl{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[xo]=!1,this._dirty=!0,this.effect=new wr(t,()=>{this._dirty||(this._dirty=!0,bo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=K(this);return _o(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}xo="__v_isReadonly";function El(e,t,n=!1){let r,s;const o=D(e);return o?(r=e,s=xe):(r=e.get,s=e.set),new vl(r,s,o||!s,n)}function Ze(e,t,n,r){let s;try{s=r?e(...r):e()}catch(o){kn(o,t,n)}return s}function ke(e,t,n,r){if(D(e)){const o=Ze(e,t,n,r);return o&&tn(o)&&o.catch(i=>{kn(i,t,n)}),o}const s=[];for(let o=0;o<e.length;o++)s.push(ke(e[o],t,n,r));return s}function kn(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let o=t.parent;const i=t.proxy,l=n;for(;o;){const a=o.ec;if(a){for(let d=0;d<a.length;d++)if(a[d](e,i,l)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){Ze(c,null,10,[e,i,l]);return}}Ol(e,n,s,r)}function Ol(e,t,n,r=!0){console.error(e)}let Gt=!1,er=!1;const he=[];let je=0;const vt=[];let Le=null,it=0;const wo=Promise.resolve();let Ar=null;function vo(e){const t=Ar||wo;return e?t.then(this?e.bind(this):e):t}function Rl(e){let t=je+1,n=he.length;for(;t<n;){const r=t+n>>>1;zt(he[r])<e?t=r+1:n=r}return t}function Cr(e){(!he.length||!he.includes(e,Gt&&e.allowRecurse?je+1:je))&&(e.id==null?he.push(e):he.splice(Rl(e.id),0,e),Eo())}function Eo(){!Gt&&!er&&(er=!0,Ar=wo.then(Oo))}function Pl(e){const t=he.indexOf(e);t>je&&he.splice(t,1)}function Al(e){F(e)?vt.push(...e):(!Le||!Le.includes(e,e.allowRecurse?it+1:it))&&vt.push(e),Eo()}function hs(e,t=Gt?je+1:0){for(;t<he.length;t++){const n=he[t];n&&n.pre&&(he.splice(t,1),t--,n())}}function yn(e){if(vt.length){const t=[...new Set(vt)];if(vt.length=0,Le){Le.push(...t);return}for(Le=t,Le.sort((n,r)=>zt(n)-zt(r)),it=0;it<Le.length;it++)Le[it]();Le=null,it=0}}const zt=e=>e.id==null?1/0:e.id,Cl=(e,t)=>{const n=zt(e)-zt(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Oo(e){er=!1,Gt=!0,he.sort(Cl);const t=xe;try{for(je=0;je<he.length;je++){const n=he[je];n&&n.active!==!1&&Ze(n,null,14)}}finally{je=0,he.length=0,yn(),Gt=!1,Ar=null,(he.length||vt.length)&&Oo()}}function Tl(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||te;let s=n;const o=t.startsWith("update:"),i=o&&t.slice(7);if(i&&i in r){const d=`${i==="modelValue"?"model":i}Modifiers`,{number:h,trim:_}=r[d]||te;_&&(s=n.map(R=>Y(R)?R.trim():R)),h&&(s=n.map(Di))}let l,c=r[l=Un(t)]||r[l=Un(Et(t))];!c&&o&&(c=r[l=Un(pt(t))]),c&&ke(c,e,6,s);const a=r[l+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ke(a,e,6,s)}}function Ro(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const o=e.emits;let i={},l=!1;if(!D(e)){const c=a=>{const d=Ro(a,t,!0);d&&(l=!0,me(i,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!l?(ne(e)&&r.set(e,null),null):(F(o)?o.forEach(c=>i[c]=null):me(i,o),ne(e)&&r.set(e,i),i)}function Nn(e,t){return!e||!$t(t)?!1:(t=t.slice(2).replace(/Once$/,""),B(e,t[0].toLowerCase()+t.slice(1))||B(e,pt(t))||B(e,t))}let $e=null,Po=null;function Yt(e){const t=$e;return $e=e,Po=e&&e.type.__scopeId||null,t}function $l(e,t=$e,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&ws(-1);const o=Yt(t);let i;try{i=e(...s)}finally{Yt(o),r._d&&ws(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function hn(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[i],slots:l,attrs:c,emit:a,render:d,renderCache:h,data:_,setupState:R,ctx:O,inheritAttrs:T}=e;let G,b;const E=Yt(e);try{if(n.shapeFlag&4){const H=s||r;G=Pe(d.call(H,H,h,o,R,_,O)),b=c}else{const H=t;G=Pe(H.length>1?H(o,{attrs:c,slots:l,emit:a}):H(o,null)),b=t.props?c:Ml(c)}}catch(H){Kt.length=0,kn(H,e,1),G=ae(Be)}let A=G;if(b&&T!==!1){const H=Object.keys(b),{shapeFlag:j}=A;H.length&&j&7&&(i&&H.some(gr)&&(b=Il(b,i)),A=At(A,b))}return n.dirs&&(A=At(A),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&(A.transition=n.transition),G=A,Yt(E),G}const Ml=e=>{let t;for(const n in e)(n==="class"||n==="style"||$t(n))&&((t||(t={}))[n]=e[n]);return t},Il=(e,t)=>{const n={};for(const r in e)(!gr(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function kl(e,t,n){const{props:r,children:s,component:o}=e,{props:i,children:l,patchFlag:c}=t,a=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?ps(r,i,a):!!i;if(c&8){const d=t.dynamicProps;for(let h=0;h<d.length;h++){const _=d[h];if(i[_]!==r[_]&&!Nn(a,_))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===i?!1:r?i?ps(r,i,a):!0:!!i;return!1}function ps(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(t[o]!==e[o]&&!Nn(n,o))return!0}return!1}function Nl({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Sl=e=>e.__isSuspense;function Ao(e,t){t&&t.pendingBranch?F(e)?t.effects.push(...e):t.effects.push(e):Al(e)}function Fl(e,t){if(ue){let n=ue.provides;const r=ue.parent&&ue.parent.provides;r===n&&(n=ue.provides=Object.create(r)),n[e]=t}}function Ht(e,t,n=!1){const r=ue||$e;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&D(t)?t.call(r.proxy):t}}const un={};function pn(e,t,n){return Co(e,t,n)}function Co(e,t,{immediate:n,deep:r,flush:s,onTrack:o,onTrigger:i}=te){const l=ro()===(ue==null?void 0:ue.scope)?ue:null;let c,a=!1,d=!1;if(le(e)?(c=()=>e.value,a=bn(e)):Je(e)?(c=()=>e,r=!0):F(e)?(d=!0,a=e.some(A=>Je(A)||bn(A)),c=()=>e.map(A=>{if(le(A))return A.value;if(Je(A))return bt(A);if(D(A))return Ze(A,l,2)})):D(e)?t?c=()=>Ze(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return h&&h(),ke(e,l,3,[_])}:c=xe,t&&r){const A=c;c=()=>bt(A())}let h,_=A=>{h=b.onStop=()=>{Ze(A,l,4)}},R;if(Zt)if(_=xe,t?n&&ke(t,l,3,[c(),d?[]:void 0,_]):c(),s==="sync"){const A=Pc();R=A.__watcherHandles||(A.__watcherHandles=[])}else return xe;let O=d?new Array(e.length).fill(un):un;const T=()=>{if(b.active)if(t){const A=b.run();(r||a||(d?A.some((H,j)=>Vt(H,O[j])):Vt(A,O)))&&(h&&h(),ke(t,l,3,[A,O===un?void 0:d&&O[0]===un?[]:O,_]),O=A)}else b.run()};T.allowRecurse=!!t;let G;s==="sync"?G=T:s==="post"?G=()=>ge(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),G=()=>Cr(T));const b=new wr(c,G);t?n?T():O=b.run():s==="post"?ge(b.run.bind(b),l&&l.suspense):b.run();const E=()=>{b.stop(),l&&l.scope&&_r(l.scope.effects,b)};return R&&R.push(E),E}function jl(e,t,n){const r=this.proxy,s=Y(e)?e.includes(".")?To(r,e):()=>r[e]:e.bind(r,r);let o;D(t)?o=t:(o=t.handler,n=t);const i=ue;Ct(this);const l=Co(s,o.bind(r),n);return i?Ct(i):ft(),l}function To(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function bt(e,t){if(!ne(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),le(e))bt(e.value,t);else if(F(e))for(let n=0;n<e.length;n++)bt(e[n],t);else if(Js(e)||wt(e))e.forEach(n=>{bt(n,t)});else if(Qs(e))for(const n in e)bt(e[n],t);return e}function Pt(e){return D(e)?{setup:e,name:e.name}:e}const Lt=e=>!!e.type.__asyncLoader,$o=e=>e.type.__isKeepAlive;function Dl(e,t){Mo(e,"a",t)}function Hl(e,t){Mo(e,"da",t)}function Mo(e,t,n=ue){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Sn(t,r,n),n){let s=n.parent;for(;s&&s.parent;)$o(s.parent.vnode)&&Ll(r,t,n,s),s=s.parent}}function Ll(e,t,n,r){const s=Sn(t,e,r,!0);Io(()=>{_r(r[t],s)},n)}function Sn(e,t,n=ue,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Mt(),Ct(n);const l=ke(t,n,e,i);return ft(),It(),l});return r?s.unshift(o):s.push(o),o}}const Ke=e=>(t,n=ue)=>(!Zt||e==="sp")&&Sn(e,(...r)=>t(...r),n),Ul=Ke("bm"),Bl=Ke("m"),Kl=Ke("bu"),Wl=Ke("u"),Xl=Ke("bum"),Io=Ke("um"),Vl=Ke("sp"),ql=Ke("rtg"),Gl=Ke("rtc");function zl(e,t=ue){Sn("ec",e,t)}function Fe(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let i=0;i<s.length;i++){const l=s[i];o&&(l.oldValue=o[i].value);let c=l.dir[r];c&&(Mt(),ke(c,n,8,[e.el,l,e,t]),It())}}const Yl=Symbol();function xn(e,t,n,r){let s;const o=n&&n[r];if(F(e)||Y(e)){s=new Array(e.length);for(let i=0,l=e.length;i<l;i++)s[i]=t(e[i],i,void 0,o&&o[i])}else if(typeof e=="number"){s=new Array(e);for(let i=0;i<e;i++)s[i]=t(i+1,i,void 0,o&&o[i])}else if(ne(e))if(e[Symbol.iterator])s=Array.from(e,(i,l)=>t(i,l,void 0,o&&o[l]));else{const i=Object.keys(e);s=new Array(i.length);for(let l=0,c=i.length;l<c;l++){const a=i[l];s[l]=t(e[a],a,l,o&&o[l])}}else s=[];return n&&(n[r]=s),s}const tr=e=>e?Vo(e)?kr(e)||e.proxy:tr(e.parent):null,Ut=me(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>tr(e.parent),$root:e=>tr(e.root),$emit:e=>e.emit,$options:e=>Tr(e),$forceUpdate:e=>e.f||(e.f=()=>Cr(e.update)),$nextTick:e=>e.n||(e.n=vo.bind(e.proxy)),$watch:e=>jl.bind(e)}),Kn=(e,t)=>e!==te&&!e.__isScriptSetup&&B(e,t),Jl={get({_:e},t){const{ctx:n,setupState:r,data:s,props:o,accessCache:i,type:l,appContext:c}=e;let a;if(t[0]!=="$"){const R=i[t];if(R!==void 0)switch(R){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(Kn(r,t))return i[t]=1,r[t];if(s!==te&&B(s,t))return i[t]=2,s[t];if((a=e.propsOptions[0])&&B(a,t))return i[t]=3,o[t];if(n!==te&&B(n,t))return i[t]=4,n[t];nr&&(i[t]=0)}}const d=Ut[t];let h,_;if(d)return t==="$attrs"&&_e(e,"get",t),d(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==te&&B(n,t))return i[t]=4,n[t];if(_=c.config.globalProperties,B(_,t))return _[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return Kn(s,t)?(s[t]=n,!0):r!==te&&B(r,t)?(r[t]=n,!0):B(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:o}},i){let l;return!!n[i]||e!==te&&B(e,i)||Kn(t,i)||(l=o[0])&&B(l,i)||B(r,i)||B(Ut,i)||B(s.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:B(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let nr=!0;function Zl(e){const t=Tr(e),n=e.proxy,r=e.ctx;nr=!1,t.beforeCreate&&ms(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:i,watch:l,provide:c,inject:a,created:d,beforeMount:h,mounted:_,beforeUpdate:R,updated:O,activated:T,deactivated:G,beforeDestroy:b,beforeUnmount:E,destroyed:A,unmounted:H,render:j,renderTracked:V,renderTriggered:N,errorCaptured:C,serverPrefetch:X,expose:W,inheritAttrs:z,components:Ee,directives:ce,filters:k}=t;if(a&&Ql(a,r,null,e.appContext.config.unwrapInjectedRef),i)for(const ie in i){const J=i[ie];D(J)&&(r[ie]=J.bind(n))}if(s){const ie=s.call(n,n);ne(ie)&&(e.data=In(ie))}if(nr=!0,o)for(const ie in o){const J=o[ie],et=D(J)?J.bind(n,n):D(J.get)?J.get.bind(n,n):xe,nn=!D(J)&&D(J.set)?J.set.bind(n):xe,tt=Ie({get:et,set:nn});Object.defineProperty(r,ie,{enumerable:!0,configurable:!0,get:()=>tt.value,set:Ne=>tt.value=Ne})}if(l)for(const ie in l)ko(l[ie],r,n,ie);if(c){const ie=D(c)?c.call(n):c;Reflect.ownKeys(ie).forEach(J=>{Fl(J,ie[J])})}d&&ms(d,e,"c");function ee(ie,J){F(J)?J.forEach(et=>ie(et.bind(n))):J&&ie(J.bind(n))}if(ee(Ul,h),ee(Bl,_),ee(Kl,R),ee(Wl,O),ee(Dl,T),ee(Hl,G),ee(zl,C),ee(Gl,V),ee(ql,N),ee(Xl,E),ee(Io,H),ee(Vl,X),F(W))if(W.length){const ie=e.exposed||(e.exposed={});W.forEach(J=>{Object.defineProperty(ie,J,{get:()=>n[J],set:et=>n[J]=et})})}else e.exposed||(e.exposed={});j&&e.render===xe&&(e.render=j),z!=null&&(e.inheritAttrs=z),Ee&&(e.components=Ee),ce&&(e.directives=ce)}function Ql(e,t,n=xe,r=!1){F(e)&&(e=rr(e));for(const s in e){const o=e[s];let i;ne(o)?"default"in o?i=Ht(o.from||s,o.default,!0):i=Ht(o.from||s):i=Ht(o),le(i)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:l=>i.value=l}):t[s]=i}}function ms(e,t,n){ke(F(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function ko(e,t,n,r){const s=r.includes(".")?To(n,r):()=>n[r];if(Y(e)){const o=t[e];D(o)&&pn(s,o)}else if(D(e))pn(s,e.bind(n));else if(ne(e))if(F(e))e.forEach(o=>ko(o,t,n,r));else{const o=D(e.handler)?e.handler.bind(n):t[e.handler];D(o)&&pn(s,o,e)}}function Tr(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,l=o.get(t);let c;return l?c=l:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(a=>wn(c,a,i,!0)),wn(c,t,i)),ne(t)&&o.set(t,c),c}function wn(e,t,n,r=!1){const{mixins:s,extends:o}=t;o&&wn(e,o,n,!0),s&&s.forEach(i=>wn(e,i,n,!0));for(const i in t)if(!(r&&i==="expose")){const l=ec[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const ec={data:gs,props:rt,emits:rt,methods:rt,computed:rt,beforeCreate:pe,created:pe,beforeMount:pe,mounted:pe,beforeUpdate:pe,updated:pe,beforeDestroy:pe,beforeUnmount:pe,destroyed:pe,unmounted:pe,activated:pe,deactivated:pe,errorCaptured:pe,serverPrefetch:pe,components:rt,directives:rt,watch:nc,provide:gs,inject:tc};function gs(e,t){return t?e?function(){return me(D(e)?e.call(this,this):e,D(t)?t.call(this,this):t)}:t:e}function tc(e,t){return rt(rr(e),rr(t))}function rr(e){if(F(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function pe(e,t){return e?[...new Set([].concat(e,t))]:t}function rt(e,t){return e?me(me(Object.create(null),e),t):t}function nc(e,t){if(!e)return t;if(!t)return e;const n=me(Object.create(null),e);for(const r in t)n[r]=pe(e[r],t[r]);return n}function rc(e,t,n,r=!1){const s={},o={};gn(o,Fn,1),e.propsDefaults=Object.create(null),No(e,t,s,o);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);n?e.props=r?s:ml(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function sc(e,t,n,r){const{props:s,attrs:o,vnode:{patchFlag:i}}=e,l=K(s),[c]=e.propsOptions;let a=!1;if((r||i>0)&&!(i&16)){if(i&8){const d=e.vnode.dynamicProps;for(let h=0;h<d.length;h++){let _=d[h];if(Nn(e.emitsOptions,_))continue;const R=t[_];if(c)if(B(o,_))R!==o[_]&&(o[_]=R,a=!0);else{const O=Et(_);s[O]=sr(c,l,O,R,e,!1)}else R!==o[_]&&(o[_]=R,a=!0)}}}else{No(e,t,s,o)&&(a=!0);let d;for(const h in l)(!t||!B(t,h)&&((d=pt(h))===h||!B(t,d)))&&(c?n&&(n[h]!==void 0||n[d]!==void 0)&&(s[h]=sr(c,l,h,void 0,e,!0)):delete s[h]);if(o!==l)for(const h in o)(!t||!B(t,h))&&(delete o[h],a=!0)}a&&Ue(e,"set","$attrs")}function No(e,t,n,r){const[s,o]=e.propsOptions;let i=!1,l;if(t)for(let c in t){if(Dt(c))continue;const a=t[c];let d;s&&B(s,d=Et(c))?!o||!o.includes(d)?n[d]=a:(l||(l={}))[d]=a:Nn(e.emitsOptions,c)||(!(c in r)||a!==r[c])&&(r[c]=a,i=!0)}if(o){const c=K(n),a=l||te;for(let d=0;d<o.length;d++){const h=o[d];n[h]=sr(s,c,h,a[h],e,!B(a,h))}}return i}function sr(e,t,n,r,s,o){const i=e[n];if(i!=null){const l=B(i,"default");if(l&&r===void 0){const c=i.default;if(i.type!==Function&&D(c)){const{propsDefaults:a}=s;n in a?r=a[n]:(Ct(s),r=a[n]=c.call(null,t),ft())}else r=c}i[0]&&(o&&!l?r=!1:i[1]&&(r===""||r===pt(n))&&(r=!0))}return r}function So(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const o=e.props,i={},l=[];let c=!1;if(!D(e)){const d=h=>{c=!0;const[_,R]=So(h,t,!0);me(i,_),R&&l.push(...R)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!c)return ne(e)&&r.set(e,xt),xt;if(F(o))for(let d=0;d<o.length;d++){const h=Et(o[d]);_s(h)&&(i[h]=te)}else if(o)for(const d in o){const h=Et(d);if(_s(h)){const _=o[d],R=i[h]=F(_)||D(_)?{type:_}:Object.assign({},_);if(R){const O=xs(Boolean,R.type),T=xs(String,R.type);R[0]=O>-1,R[1]=T<0||O<T,(O>-1||B(R,"default"))&&l.push(h)}}}const a=[i,l];return ne(e)&&r.set(e,a),a}function _s(e){return e[0]!=="$"}function bs(e){const t=e&&e.toString().match(/^\\s*(function|class) (\\w+)/);return t?t[2]:e===null?"null":""}function ys(e,t){return bs(e)===bs(t)}function xs(e,t){return F(t)?t.findIndex(n=>ys(n,e)):D(t)&&ys(t,e)?0:-1}const Fo=e=>e[0]==="_"||e==="$stable",$r=e=>F(e)?e.map(Pe):[Pe(e)],oc=(e,t,n)=>{if(t._n)return t;const r=$l((...s)=>$r(t(...s)),n);return r._c=!1,r},jo=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Fo(s))continue;const o=e[s];if(D(o))t[s]=oc(s,o,r);else if(o!=null){const i=$r(o);t[s]=()=>i}}},Do=(e,t)=>{const n=$r(t);e.slots.default=()=>n},ic=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=K(t),gn(t,"_",n)):jo(t,e.slots={})}else e.slots={},t&&Do(e,t);gn(e.slots,Fn,1)},lc=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,i=te;if(r.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(me(s,t),!n&&l===1&&delete s._):(o=!t.$stable,jo(t,s)),i=t}else t&&(Do(e,t),i={default:1});if(o)for(const l in s)!Fo(l)&&!(l in i)&&delete s[l]};function Ho(){return{app:null,config:{isNativeTag:Ii,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cc=0;function fc(e,t){return function(r,s=null){D(r)||(r=Object.assign({},r)),s!=null&&!ne(s)&&(s=null);const o=Ho(),i=new Set;let l=!1;const c=o.app={_uid:cc++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:Ac,get config(){return o.config},set config(a){},use(a,...d){return i.has(a)||(a&&D(a.install)?(i.add(a),a.install(c,...d)):D(a)&&(i.add(a),a(c,...d))),c},mixin(a){return o.mixins.includes(a)||o.mixins.push(a),c},component(a,d){return d?(o.components[a]=d,c):o.components[a]},directive(a,d){return d?(o.directives[a]=d,c):o.directives[a]},mount(a,d,h){if(!l){const _=ae(r,s);return _.appContext=o,d&&t?t(_,a):e(_,a,h),l=!0,c._container=a,a.__vue_app__=c,kr(_.component)||_.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(a,d){return o.provides[a]=d,c}};return c}}function vn(e,t,n,r,s=!1){if(F(e)){e.forEach((_,R)=>vn(_,t&&(F(t)?t[R]:t),n,r,s));return}if(Lt(r)&&!s)return;const o=r.shapeFlag&4?kr(r.component)||r.component.proxy:r.el,i=s?null:o,{i:l,r:c}=e,a=t&&t.r,d=l.refs===te?l.refs={}:l.refs,h=l.setupState;if(a!=null&&a!==c&&(Y(a)?(d[a]=null,B(h,a)&&(h[a]=null)):le(a)&&(a.value=null)),D(c))Ze(c,l,12,[i,d]);else{const _=Y(c),R=le(c);if(_||R){const O=()=>{if(e.f){const T=_?B(h,c)?h[c]:d[c]:c.value;s?F(T)&&_r(T,o):F(T)?T.includes(o)||T.push(o):_?(d[c]=[o],B(h,c)&&(h[c]=d[c])):(c.value=[o],e.k&&(d[e.k]=c.value))}else _?(d[c]=i,B(h,c)&&(h[c]=i)):R&&(c.value=i,e.k&&(d[e.k]=i))};i?(O.id=-1,ge(O,n)):O()}}}let Xe=!1;const an=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",dn=e=>e.nodeType===8;function uc(e){const{mt:t,p:n,o:{patchProp:r,createText:s,nextSibling:o,parentNode:i,remove:l,insert:c,createComment:a}}=e,d=(b,E)=>{if(!E.hasChildNodes()){n(null,b,E),yn(),E._vnode=b;return}Xe=!1,h(E.firstChild,b,null,null,null),yn(),E._vnode=b,Xe&&console.error("Hydration completed but contains mismatches.")},h=(b,E,A,H,j,V=!1)=>{const N=dn(b)&&b.data==="[",C=()=>T(b,E,A,H,j,N),{type:X,ref:W,shapeFlag:z,patchFlag:Ee}=E;let ce=b.nodeType;E.el=b,Ee===-2&&(V=!1,E.dynamicChildren=null);let k=null;switch(X){case ut:ce!==3?E.children===""?(c(E.el=s(""),i(b),b),k=b):k=C():(b.data!==E.children&&(Xe=!0,b.data=E.children),k=o(b));break;case Be:ce!==8||N?k=C():k=o(b);break;case Bt:if(N&&(b=o(b),ce=b.nodeType),ce===1||ce===3){k=b;const re=!E.children.length;for(let ee=0;ee<E.staticCount;ee++)re&&(E.children+=k.nodeType===1?k.outerHTML:k.data),ee===E.staticCount-1&&(E.anchor=k),k=o(k);return N?o(k):k}else C();break;case de:N?k=O(b,E,A,H,j,V):k=C();break;default:if(z&1)ce!==1||E.type.toLowerCase()!==b.tagName.toLowerCase()?k=C():k=_(b,E,A,H,j,V);else if(z&6){E.slotScopeIds=j;const re=i(b);if(t(E,re,null,A,H,an(re),V),k=N?G(b):o(b),k&&dn(k)&&k.data==="teleport end"&&(k=o(k)),Lt(E)){let ee;N?(ee=ae(de),ee.anchor=k?k.previousSibling:re.lastChild):ee=b.nodeType===3?yt(""):ae("div"),ee.el=b,E.component.subTree=ee}}else z&64?ce!==8?k=C():k=E.type.hydrate(b,E,A,H,j,V,e,R):z&128&&(k=E.type.hydrate(b,E,A,H,an(i(b)),j,V,e,h))}return W!=null&&vn(W,null,H,E),k},_=(b,E,A,H,j,V)=>{V=V||!!E.dynamicChildren;const{type:N,props:C,patchFlag:X,shapeFlag:W,dirs:z}=E,Ee=N==="input"&&z||N==="option";if(Ee||X!==-1){if(z&&Fe(E,null,A,"created"),C)if(Ee||!V||X&48)for(const k in C)(Ee&&k.endsWith("value")||$t(k)&&!Dt(k))&&r(b,k,null,C[k],!1,void 0,A);else C.onClick&&r(b,"onClick",null,C.onClick,!1,void 0,A);let ce;if((ce=C&&C.onVnodeBeforeMount)&&Re(ce,A,E),z&&Fe(E,null,A,"beforeMount"),((ce=C&&C.onVnodeMounted)||z)&&Ao(()=>{ce&&Re(ce,A,E),z&&Fe(E,null,A,"mounted")},H),W&16&&!(C&&(C.innerHTML||C.textContent))){let k=R(b.firstChild,E,b,A,H,j,V);for(;k;){Xe=!0;const re=k;k=k.nextSibling,l(re)}}else W&8&&b.textContent!==E.children&&(Xe=!0,b.textContent=E.children)}return b.nextSibling},R=(b,E,A,H,j,V,N)=>{N=N||!!E.dynamicChildren;const C=E.children,X=C.length;for(let W=0;W<X;W++){const z=N?C[W]:C[W]=Pe(C[W]);if(b)b=h(b,z,H,j,V,N);else{if(z.type===ut&&!z.children)continue;Xe=!0,n(null,z,A,null,H,j,an(A),V)}}return b},O=(b,E,A,H,j,V)=>{const{slotScopeIds:N}=E;N&&(j=j?j.concat(N):N);const C=i(b),X=R(o(b),E,C,A,H,j,V);return X&&dn(X)&&X.data==="]"?o(E.anchor=X):(Xe=!0,c(E.anchor=a("]"),C,X),X)},T=(b,E,A,H,j,V)=>{if(Xe=!0,E.el=null,V){const X=G(b);for(;;){const W=o(b);if(W&&W!==X)l(W);else break}}const N=o(b),C=i(b);return l(b),n(null,E,C,N,A,H,an(C),j),N},G=b=>{let E=0;for(;b;)if(b=o(b),b&&dn(b)&&(b.data==="["&&E++,b.data==="]")){if(E===0)return o(b);E--}return b};return[d,h]}const ge=Ao;function ac(e){return Lo(e)}function dc(e){return Lo(e,uc)}function Lo(e,t){const n=Hi();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:i,createText:l,createComment:c,setText:a,setElementText:d,parentNode:h,nextSibling:_,setScopeId:R=xe,insertStaticContent:O}=e,T=(f,u,p,g=null,m=null,w=null,P=!1,x=null,v=!!u.dynamicChildren)=>{if(f===u)return;f&&!St(f,u)&&(g=rn(f),Ne(f,m,w,!0),f=null),u.patchFlag===-2&&(v=!1,u.dynamicChildren=null);const{type:y,ref:M,shapeFlag:$}=u;switch(y){case ut:G(f,u,p,g);break;case Be:b(f,u,p,g);break;case Bt:f==null&&E(u,p,g,P);break;case de:Ee(f,u,p,g,m,w,P,x,v);break;default:$&1?j(f,u,p,g,m,w,P,x,v):$&6?ce(f,u,p,g,m,w,P,x,v):($&64||$&128)&&y.process(f,u,p,g,m,w,P,x,v,mt)}M!=null&&m&&vn(M,f&&f.ref,w,u||f,!u)},G=(f,u,p,g)=>{if(f==null)r(u.el=l(u.children),p,g);else{const m=u.el=f.el;u.children!==f.children&&a(m,u.children)}},b=(f,u,p,g)=>{f==null?r(u.el=c(u.children||""),p,g):u.el=f.el},E=(f,u,p,g)=>{[f.el,f.anchor]=O(f.children,u,p,g,f.el,f.anchor)},A=({el:f,anchor:u},p,g)=>{let m;for(;f&&f!==u;)m=_(f),r(f,p,g),f=m;r(u,p,g)},H=({el:f,anchor:u})=>{let p;for(;f&&f!==u;)p=_(f),s(f),f=p;s(u)},j=(f,u,p,g,m,w,P,x,v)=>{P=P||u.type==="svg",f==null?V(u,p,g,m,w,P,x,v):X(f,u,m,w,P,x,v)},V=(f,u,p,g,m,w,P,x)=>{let v,y;const{type:M,props:$,shapeFlag:I,transition:S,dirs:U}=f;if(v=f.el=i(f.type,w,$&&$.is,$),I&8?d(v,f.children):I&16&&C(f.children,v,null,g,m,w&&M!=="foreignObject",P,x),U&&Fe(f,null,g,"created"),N(v,f,f.scopeId,P,g),$){for(const q in $)q!=="value"&&!Dt(q)&&o(v,q,null,$[q],w,f.children,g,m,He);"value"in $&&o(v,"value",null,$.value),(y=$.onVnodeBeforeMount)&&Re(y,g,f)}U&&Fe(f,null,g,"beforeMount");const Z=(!m||m&&!m.pendingBranch)&&S&&!S.persisted;Z&&S.beforeEnter(v),r(v,u,p),((y=$&&$.onVnodeMounted)||Z||U)&&ge(()=>{y&&Re(y,g,f),Z&&S.enter(v),U&&Fe(f,null,g,"mounted")},m)},N=(f,u,p,g,m)=>{if(p&&R(f,p),g)for(let w=0;w<g.length;w++)R(f,g[w]);if(m){let w=m.subTree;if(u===w){const P=m.vnode;N(f,P,P.scopeId,P.slotScopeIds,m.parent)}}},C=(f,u,p,g,m,w,P,x,v=0)=>{for(let y=v;y<f.length;y++){const M=f[y]=x?qe(f[y]):Pe(f[y]);T(null,M,u,p,g,m,w,P,x)}},X=(f,u,p,g,m,w,P)=>{const x=u.el=f.el;let{patchFlag:v,dynamicChildren:y,dirs:M}=u;v|=f.patchFlag&16;const $=f.props||te,I=u.props||te;let S;p&&nt(p,!1),(S=I.onVnodeBeforeUpdate)&&Re(S,p,u,f),M&&Fe(u,f,p,"beforeUpdate"),p&&nt(p,!0);const U=m&&u.type!=="foreignObject";if(y?W(f.dynamicChildren,y,x,p,g,U,w):P||J(f,u,x,null,p,g,U,w,!1),v>0){if(v&16)z(x,u,$,I,p,g,m);else if(v&2&&$.class!==I.class&&o(x,"class",null,I.class,m),v&4&&o(x,"style",$.style,I.style,m),v&8){const Z=u.dynamicProps;for(let q=0;q<Z.length;q++){const fe=Z[q],Ae=$[fe],gt=I[fe];(gt!==Ae||fe==="value")&&o(x,fe,Ae,gt,m,f.children,p,g,He)}}v&1&&f.children!==u.children&&d(x,u.children)}else!P&&y==null&&z(x,u,$,I,p,g,m);((S=I.onVnodeUpdated)||M)&&ge(()=>{S&&Re(S,p,u,f),M&&Fe(u,f,p,"updated")},g)},W=(f,u,p,g,m,w,P)=>{for(let x=0;x<u.length;x++){const v=f[x],y=u[x],M=v.el&&(v.type===de||!St(v,y)||v.shapeFlag&70)?h(v.el):p;T(v,y,M,null,g,m,w,P,!0)}},z=(f,u,p,g,m,w,P)=>{if(p!==g){if(p!==te)for(const x in p)!Dt(x)&&!(x in g)&&o(f,x,p[x],null,P,u.children,m,w,He);for(const x in g){if(Dt(x))continue;const v=g[x],y=p[x];v!==y&&x!=="value"&&o(f,x,y,v,P,u.children,m,w,He)}"value"in g&&o(f,"value",p.value,g.value)}},Ee=(f,u,p,g,m,w,P,x,v)=>{const y=u.el=f?f.el:l(""),M=u.anchor=f?f.anchor:l("");let{patchFlag:$,dynamicChildren:I,slotScopeIds:S}=u;S&&(x=x?x.concat(S):S),f==null?(r(y,p,g),r(M,p,g),C(u.children,p,M,m,w,P,x,v)):$>0&&$&64&&I&&f.dynamicChildren?(W(f.dynamicChildren,I,p,m,w,P,x),(u.key!=null||m&&u===m.subTree)&&Uo(f,u,!0)):J(f,u,p,M,m,w,P,x,v)},ce=(f,u,p,g,m,w,P,x,v)=>{u.slotScopeIds=x,f==null?u.shapeFlag&512?m.ctx.activate(u,p,g,P,v):k(u,p,g,m,w,P,v):re(f,u,v)},k=(f,u,p,g,m,w,P)=>{const x=f.component=Xo(f,g,m);if($o(f)&&(x.ctx.renderer=mt),qo(x),x.asyncDep){if(m&&m.registerDep(x,ee),!f.el){const v=x.subTree=ae(Be);b(null,v,u,p)}return}ee(x,f,u,p,m,w,P)},re=(f,u,p)=>{const g=u.component=f.component;if(kl(f,u,p))if(g.asyncDep&&!g.asyncResolved){ie(g,u,p);return}else g.next=u,Pl(g.update),g.update();else u.el=f.el,g.vnode=u},ee=(f,u,p,g,m,w,P)=>{const x=()=>{if(f.isMounted){let{next:M,bu:$,u:I,parent:S,vnode:U}=f,Z=M,q;nt(f,!1),M?(M.el=U.el,ie(f,M,P)):M=U,$&&Bn($),(q=M.props&&M.props.onVnodeBeforeUpdate)&&Re(q,S,M,U),nt(f,!0);const fe=hn(f),Ae=f.subTree;f.subTree=fe,T(Ae,fe,h(Ae.el),rn(Ae),f,m,w),M.el=fe.el,Z===null&&Nl(f,fe.el),I&&ge(I,m),(q=M.props&&M.props.onVnodeUpdated)&&ge(()=>Re(q,S,M,U),m)}else{let M;const{el:$,props:I}=u,{bm:S,m:U,parent:Z}=f,q=Lt(u);if(nt(f,!1),S&&Bn(S),!q&&(M=I&&I.onVnodeBeforeMount)&&Re(M,Z,u),nt(f,!0),$&&Hn){const fe=()=>{f.subTree=hn(f),Hn($,f.subTree,f,m,null)};q?u.type.__asyncLoader().then(()=>!f.isUnmounted&&fe()):fe()}else{const fe=f.subTree=hn(f);T(null,fe,p,g,f,m,w),u.el=fe.el}if(U&&ge(U,m),!q&&(M=I&&I.onVnodeMounted)){const fe=u;ge(()=>Re(M,Z,fe),m)}(u.shapeFlag&256||Z&&Lt(Z.vnode)&&Z.vnode.shapeFlag&256)&&f.a&&ge(f.a,m),f.isMounted=!0,u=p=g=null}},v=f.effect=new wr(x,()=>Cr(y),f.scope),y=f.update=()=>v.run();y.id=f.uid,nt(f,!0),y()},ie=(f,u,p)=>{u.component=f;const g=f.vnode.props;f.vnode=u,f.next=null,sc(f,u.props,g,p),lc(f,u.children,p),Mt(),hs(),It()},J=(f,u,p,g,m,w,P,x,v=!1)=>{const y=f&&f.children,M=f?f.shapeFlag:0,$=u.children,{patchFlag:I,shapeFlag:S}=u;if(I>0){if(I&128){nn(y,$,p,g,m,w,P,x,v);return}else if(I&256){et(y,$,p,g,m,w,P,x,v);return}}S&8?(M&16&&He(y,m,w),$!==y&&d(p,$)):M&16?S&16?nn(y,$,p,g,m,w,P,x,v):He(y,m,w,!0):(M&8&&d(p,""),S&16&&C($,p,g,m,w,P,x,v))},et=(f,u,p,g,m,w,P,x,v)=>{f=f||xt,u=u||xt;const y=f.length,M=u.length,$=Math.min(y,M);let I;for(I=0;I<$;I++){const S=u[I]=v?qe(u[I]):Pe(u[I]);T(f[I],S,p,null,m,w,P,x,v)}y>M?He(f,m,w,!0,!1,$):C(u,p,g,m,w,P,x,v,$)},nn=(f,u,p,g,m,w,P,x,v)=>{let y=0;const M=u.length;let $=f.length-1,I=M-1;for(;y<=$&&y<=I;){const S=f[y],U=u[y]=v?qe(u[y]):Pe(u[y]);if(St(S,U))T(S,U,p,null,m,w,P,x,v);else break;y++}for(;y<=$&&y<=I;){const S=f[$],U=u[I]=v?qe(u[I]):Pe(u[I]);if(St(S,U))T(S,U,p,null,m,w,P,x,v);else break;$--,I--}if(y>$){if(y<=I){const S=I+1,U=S<M?u[S].el:g;for(;y<=I;)T(null,u[y]=v?qe(u[y]):Pe(u[y]),p,U,m,w,P,x,v),y++}}else if(y>I)for(;y<=$;)Ne(f[y],m,w,!0),y++;else{const S=y,U=y,Z=new Map;for(y=U;y<=I;y++){const be=u[y]=v?qe(u[y]):Pe(u[y]);be.key!=null&&Z.set(be.key,y)}let q,fe=0;const Ae=I-U+1;let gt=!1,ns=0;const Nt=new Array(Ae);for(y=0;y<Ae;y++)Nt[y]=0;for(y=S;y<=$;y++){const be=f[y];if(fe>=Ae){Ne(be,m,w,!0);continue}let Se;if(be.key!=null)Se=Z.get(be.key);else for(q=U;q<=I;q++)if(Nt[q-U]===0&&St(be,u[q])){Se=q;break}Se===void 0?Ne(be,m,w,!0):(Nt[Se-U]=y+1,Se>=ns?ns=Se:gt=!0,T(be,u[Se],p,null,m,w,P,x,v),fe++)}const rs=gt?hc(Nt):xt;for(q=rs.length-1,y=Ae-1;y>=0;y--){const be=U+y,Se=u[be],ss=be+1<M?u[be+1].el:g;Nt[y]===0?T(null,Se,p,ss,m,w,P,x,v):gt&&(q<0||y!==rs[q]?tt(Se,p,ss,2):q--)}}},tt=(f,u,p,g,m=null)=>{const{el:w,type:P,transition:x,children:v,shapeFlag:y}=f;if(y&6){tt(f.component.subTree,u,p,g);return}if(y&128){f.suspense.move(u,p,g);return}if(y&64){P.move(f,u,p,mt);return}if(P===de){r(w,u,p);for(let $=0;$<v.length;$++)tt(v[$],u,p,g);r(f.anchor,u,p);return}if(P===Bt){A(f,u,p);return}if(g!==2&&y&1&&x)if(g===0)x.beforeEnter(w),r(w,u,p),ge(()=>x.enter(w),m);else{const{leave:$,delayLeave:I,afterLeave:S}=x,U=()=>r(w,u,p),Z=()=>{$(w,()=>{U(),S&&S()})};I?I(w,U,Z):Z()}else r(w,u,p)},Ne=(f,u,p,g=!1,m=!1)=>{const{type:w,props:P,ref:x,children:v,dynamicChildren:y,shapeFlag:M,patchFlag:$,dirs:I}=f;if(x!=null&&vn(x,null,p,f,!0),M&256){u.ctx.deactivate(f);return}const S=M&1&&I,U=!Lt(f);let Z;if(U&&(Z=P&&P.onVnodeBeforeUnmount)&&Re(Z,u,f),M&6)pi(f.component,p,g);else{if(M&128){f.suspense.unmount(p,g);return}S&&Fe(f,null,u,"beforeUnmount"),M&64?f.type.remove(f,u,p,m,mt,g):y&&(w!==de||$>0&&$&64)?He(y,u,p,!1,!0):(w===de&&$&384||!m&&M&16)&&He(v,u,p),g&&es(f)}(U&&(Z=P&&P.onVnodeUnmounted)||S)&&ge(()=>{Z&&Re(Z,u,f),S&&Fe(f,null,u,"unmounted")},p)},es=f=>{const{type:u,el:p,anchor:g,transition:m}=f;if(u===de){hi(p,g);return}if(u===Bt){H(f);return}const w=()=>{s(p),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(f.shapeFlag&1&&m&&!m.persisted){const{leave:P,delayLeave:x}=m,v=()=>P(p,w);x?x(f.el,w,v):v()}else w()},hi=(f,u)=>{let p;for(;f!==u;)p=_(f),s(f),f=p;s(u)},pi=(f,u,p)=>{const{bum:g,scope:m,update:w,subTree:P,um:x}=f;g&&Bn(g),m.stop(),w&&(w.active=!1,Ne(P,f,u,p)),x&&ge(x,u),ge(()=>{f.isUnmounted=!0},u),u&&u.pendingBranch&&!u.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===u.pendingId&&(u.deps--,u.deps===0&&u.resolve())},He=(f,u,p,g=!1,m=!1,w=0)=>{for(let P=w;P<f.length;P++)Ne(f[P],u,p,g,m)},rn=f=>f.shapeFlag&6?rn(f.component.subTree):f.shapeFlag&128?f.suspense.next():_(f.anchor||f.el),ts=(f,u,p)=>{f==null?u._vnode&&Ne(u._vnode,null,null,!0):T(u._vnode||null,f,u,null,null,null,p),hs(),yn(),u._vnode=f},mt={p:T,um:Ne,m:tt,r:es,mt:k,mc:C,pc:J,pbc:W,n:rn,o:e};let Dn,Hn;return t&&([Dn,Hn]=t(mt)),{render:ts,hydrate:Dn,createApp:fc(ts,Dn)}}function nt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Uo(e,t,n=!1){const r=e.children,s=t.children;if(F(r)&&F(s))for(let o=0;o<r.length;o++){const i=r[o];let l=s[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[o]=qe(s[o]),l.el=i.el),n||Uo(i,l)),l.type===ut&&(l.el=i.el)}}function hc(e){const t=e.slice(),n=[0];let r,s,o,i,l;const c=e.length;for(r=0;r<c;r++){const a=e[r];if(a!==0){if(s=n[n.length-1],e[s]<a){t[r]=s,n.push(r);continue}for(o=0,i=n.length-1;o<i;)l=o+i>>1,e[n[l]]<a?o=l+1:i=l;a<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}const pc=e=>e.__isTeleport,de=Symbol(void 0),ut=Symbol(void 0),Be=Symbol(void 0),Bt=Symbol(void 0),Kt=[];let Me=null;function Q(e=!1){Kt.push(Me=e?null:[])}function mc(){Kt.pop(),Me=Kt[Kt.length-1]||null}let Jt=1;function ws(e){Jt+=e}function Bo(e){return e.dynamicChildren=Jt>0?Me||xt:null,mc(),Jt>0&&Me&&Me.push(e),e}function oe(e,t,n,r,s,o){return Bo(L(e,t,n,r,s,o,!0))}function Mr(e,t,n,r,s){return Bo(ae(e,t,n,r,s,!0))}function En(e){return e?e.__v_isVNode===!0:!1}function St(e,t){return e.type===t.type&&e.key===t.key}const Fn="__vInternal",Ko=({key:e})=>e??null,mn=({ref:e,ref_key:t,ref_for:n})=>e!=null?Y(e)||le(e)||D(e)?{i:$e,r:e,k:t,f:!!n}:e:null;function L(e,t=null,n=null,r=0,s=null,o=e===de?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ko(t),ref:t&&mn(t),scopeId:Po,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:$e};return l?(Ir(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=Y(n)?8:16),Jt>0&&!i&&Me&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&Me.push(c),c}const ae=gc;function gc(e,t=null,n=null,r=0,s=null,o=!1){if((!e||e===Yl)&&(e=Be),En(e)){const l=At(e,t,!0);return n&&Ir(l,n),Jt>0&&!o&&Me&&(l.shapeFlag&6?Me[Me.indexOf(e)]=l:Me.push(l)),l.patchFlag|=-2,l}if(Oc(e)&&(e=e.__vccOpts),t){t=_c(t);let{class:l,style:c}=t;l&&!Y(l)&&(t.class=ht(l)),ne(c)&&(go(c)&&!F(c)&&(c=me({},c)),t.style=Cn(c))}const i=Y(e)?1:Sl(e)?128:pc(e)?64:ne(e)?4:D(e)?2:0;return L(e,t,n,r,s,i,o,!0)}function _c(e){return e?go(e)||Fn in e?me({},e):e:null}function At(e,t,n=!1){const{props:r,ref:s,patchFlag:o,children:i}=e,l=t?Wo(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Ko(l),ref:t&&t.ref?n&&s?F(s)?s.concat(mn(t)):[s,mn(t)]:mn(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==de?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&At(e.ssContent),ssFallback:e.ssFallback&&At(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function yt(e=" ",t=0){return ae(ut,null,e,t)}function Ge(e="",t=!1){return t?(Q(),Mr(Be,null,e)):ae(Be,null,e)}function Pe(e){return e==null||typeof e=="boolean"?ae(Be):F(e)?ae(de,null,e.slice()):typeof e=="object"?qe(e):ae(ut,null,String(e))}function qe(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:At(e)}function Ir(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(F(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Ir(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Fn in t)?t._ctx=$e:s===3&&$e&&($e.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else D(t)?(t={default:t,_ctx:$e},n=32):(t=String(t),r&64?(n=16,t=[yt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Wo(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=ht([t.class,r.class]));else if(s==="style")t.style=Cn([t.style,r.style]);else if($t(s)){const o=t[s],i=r[s];i&&o!==i&&!(F(o)&&o.includes(i))&&(t[s]=o?[].concat(o,i):i)}else s!==""&&(t[s]=r[s])}return t}function Re(e,t,n,r=null){ke(e,t,7,[n,r])}const bc=Ho();let yc=0;function Xo(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||bc,o={uid:yc++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new to(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:So(r,s),emitsOptions:Ro(r,s),emit:null,emitted:null,propsDefaults:te,inheritAttrs:r.inheritAttrs,ctx:te,data:te,props:te,attrs:te,slots:te,refs:te,setupState:te,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Tl.bind(null,o),e.ce&&e.ce(o),o}let ue=null;const xc=()=>ue||$e,Ct=e=>{ue=e,e.scope.on()},ft=()=>{ue&&ue.scope.off(),ue=null};function Vo(e){return e.vnode.shapeFlag&4}let Zt=!1;function qo(e,t=!1){Zt=t;const{props:n,children:r}=e.vnode,s=Vo(e);rc(e,n,s,t),ic(e,r);const o=s?wc(e,t):void 0;return Zt=!1,o}function wc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Rt(new Proxy(e.ctx,Jl));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?Ec(e):null;Ct(e),Mt();const o=Ze(r,e,0,[e.props,s]);if(It(),ft(),tn(o)){if(o.then(ft,ft),t)return o.then(i=>{vs(e,i,t)}).catch(i=>{kn(i,e,0)});e.asyncDep=o}else vs(e,o,t)}else Go(e,t)}function vs(e,t,n){D(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ne(t)&&(e.setupState=yo(t)),Go(e,n)}let Es;function Go(e,t,n){const r=e.type;if(!e.render){if(!t&&Es&&!r.render){const s=r.template||Tr(e).template;if(s){const{isCustomElement:o,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:c}=r,a=me(me({isCustomElement:o,delimiters:l},i),c);r.render=Es(s,a)}}e.render=r.render||xe}Ct(e),Mt(),Zl(e),It(),ft()}function vc(e){return new Proxy(e.attrs,{get(t,n){return _e(e,"get","$attrs"),t[n]}})}function Ec(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=vc(e))},slots:e.slots,emit:e.emit,expose:t}}function kr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(yo(Rt(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ut)return Ut[n](e)},has(t,n){return n in t||n in Ut}}))}function Oc(e){return D(e)&&"__vccOpts"in e}const Ie=(e,t)=>El(e,t,Zt);function Rc(e,t,n){const r=arguments.length;return r===2?ne(t)&&!F(t)?En(t)?ae(e,null,[t]):ae(e,t):ae(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&En(n)&&(n=[n]),ae(e,t,n))}const Nr=Symbol(""),Pc=()=>Ht(Nr),Ac="3.2.47",Cc={createComponentInstance:Xo,setupComponent:qo,renderComponentRoot:hn,setCurrentRenderingInstance:Yt,isVNode:En,normalizeVNode:Pe},zo=Cc,Tc="http://www.w3.org/2000/svg",lt=typeof document<"u"?document:null,Os=lt&&lt.createElement("template"),$c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?lt.createElementNS(Tc,e):lt.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>lt.createTextNode(e),createComment:e=>lt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>lt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,o){const i=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{Os.innerHTML=r?`<svg>${e}</svg>`:e;const l=Os.content;if(r){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Mc(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Ic(e,t,n){const r=e.style,s=Y(n);if(n&&!s){if(t&&!Y(t))for(const o in t)n[o]==null&&or(r,o,"");for(const o in n)or(r,o,n[o])}else{const o=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const Rs=/\\s*!important$/;function or(e,t,n){if(F(n))n.forEach(r=>or(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=kc(e,t);Rs.test(n)?e.setProperty(pt(r),n.replace(Rs,""),"important"):e[r]=n}}const Ps=["Webkit","Moz","ms"],Wn={};function kc(e,t){const n=Wn[t];if(n)return n;let r=Et(t);if(r!=="filter"&&r in e)return Wn[t]=r;r=eo(r);for(let s=0;s<Ps.length;s++){const o=Ps[s]+r;if(o in e)return Wn[t]=o}return t}const As="http://www.w3.org/1999/xlink";function Nc(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(As,t.slice(6,t.length)):e.setAttributeNS(As,t,n);else{const o=Oi(t);n==null||o&&!mr(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Sc(e,t,n,r,s,o,i){if(t==="innerHTML"||t==="textContent"){r&&i(r,s,o),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const c=n??"";(e.value!==c||e.tagName==="OPTION")&&(e.value=c),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=mr(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Fc(e,t,n,r){e.addEventListener(t,n,r)}function jc(e,t,n,r){e.removeEventListener(t,n,r)}function Dc(e,t,n,r,s=null){const o=e._vei||(e._vei={}),i=o[t];if(r&&i)i.value=r;else{const[l,c]=Hc(t);if(r){const a=o[t]=Bc(r,s);Fc(e,l,a,c)}else i&&(jc(e,l,i,c),o[t]=void 0)}}const Cs=/(?:Once|Passive|Capture)$/;function Hc(e){let t;if(Cs.test(e)){t={};let r;for(;r=e.match(Cs);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pt(e.slice(2)),t]}let Xn=0;const Lc=Promise.resolve(),Uc=()=>Xn||(Lc.then(()=>Xn=0),Xn=Date.now());function Bc(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ke(Kc(r,n.value),t,5,[r])};return n.value=e,n.attached=Uc(),n}function Kc(e,t){if(F(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Ts=/^on[a-z]/,Wc=(e,t,n,r,s=!1,o,i,l,c)=>{t==="class"?Mc(e,r,s):t==="style"?Ic(e,n,r):$t(t)?gr(t)||Dc(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Xc(e,t,r,s))?Sc(e,t,r,o,i,l,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Nc(e,t,r,s))};function Xc(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Ts.test(t)&&D(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Ts.test(t)&&Y(n)?!1:t in e}const Yo=me({patchProp:Wc},$c);let Wt,$s=!1;function Vc(){return Wt||(Wt=ac(Yo))}function qc(){return Wt=$s?Wt:dc(Yo),$s=!0,Wt}const Jo=(...e)=>{const t=Vc().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Zo(r);if(!s)return;const o=t._component;!D(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const i=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},t},Gc=(...e)=>{const t=qc().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Zo(r);if(s)return n(s,!0,s instanceof SVGElement)},t};function Zo(e){return Y(e)?document.querySelector(e):e}const zc=()=>{};var Yc=!1;/*!\n  * pinia v2.0.33\n  * (c) 2023 Eduardo San Martin Morote\n  * @license MIT\n  */let Qo;const jn=e=>Qo=e,ei=Symbol();function ir(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Xt;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Xt||(Xt={}));function Jc(){const e=no(!0),t=e.run(()=>ot({}));let n=[],r=[];const s=Rt({install(o){jn(s),s._a=o,o.provide(ei,s),o.config.globalProperties.$pinia=s,r.forEach(i=>n.push(i)),r=[]},use(o){return!this._a&&!Yc?r.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const ti=()=>{};function Ms(e,t,n,r=ti){e.push(t);const s=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&ro()&&Ui(s),s}function _t(e,...t){e.slice().forEach(n=>{n(...t)})}function lr(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];ir(s)&&ir(r)&&e.hasOwnProperty(n)&&!le(r)&&!Je(r)?e[n]=lr(s,r):e[n]=r}return e}const Zc=Symbol();function Qc(e){return!ir(e)||!e.hasOwnProperty(Zc)}const{assign:Ve}=Object;function ef(e){return!!(le(e)&&e.effect)}function tf(e,t,n,r){const{state:s,actions:o,getters:i}=t,l=n.state.value[e];let c;function a(){l||(n.state.value[e]=s?s():{});const d=yl(n.state.value[e]);return Ve(d,o,Object.keys(i||{}).reduce((h,_)=>(h[_]=Rt(Ie(()=>{jn(n);const R=n._s.get(e);return i[_].call(R,R)})),h),{}))}return c=ni(e,a,t,n,r,!0),c}function ni(e,t,n={},r,s,o){let i;const l=Ve({actions:{}},n),c={deep:!0};let a,d,h=Rt([]),_=Rt([]),R;const O=r.state.value[e];!o&&!O&&(r.state.value[e]={}),ot({});let T;function G(N){let C;a=d=!1,typeof N=="function"?(N(r.state.value[e]),C={type:Xt.patchFunction,storeId:e,events:R}):(lr(r.state.value[e],N),C={type:Xt.patchObject,payload:N,storeId:e,events:R});const X=T=Symbol();vo().then(()=>{T===X&&(a=!0)}),d=!0,_t(h,C,r.state.value[e])}const b=o?function(){const{state:C}=n,X=C?C():{};this.$patch(W=>{Ve(W,X)})}:ti;function E(){i.stop(),h=[],_=[],r._s.delete(e)}function A(N,C){return function(){jn(r);const X=Array.from(arguments),W=[],z=[];function Ee(re){W.push(re)}function ce(re){z.push(re)}_t(_,{args:X,name:N,store:j,after:Ee,onError:ce});let k;try{k=C.apply(this&&this.$id===e?this:j,X)}catch(re){throw _t(z,re),re}return k instanceof Promise?k.then(re=>(_t(W,re),re)).catch(re=>(_t(z,re),Promise.reject(re))):(_t(W,k),k)}}const H={_p:r,$id:e,$onAction:Ms.bind(null,_),$patch:G,$reset:b,$subscribe(N,C={}){const X=Ms(h,N,C.detached,()=>W()),W=i.run(()=>pn(()=>r.state.value[e],z=>{(C.flush==="sync"?d:a)&&N({storeId:e,type:Xt.direct,events:R},z)},Ve({},c,C)));return X},$dispose:E},j=In(H);r._s.set(e,j);const V=r._e.run(()=>(i=no(),i.run(()=>t())));for(const N in V){const C=V[N];if(le(C)&&!ef(C)||Je(C))o||(O&&Qc(C)&&(le(C)?C.value=O[N]:lr(C,O[N])),r.state.value[e][N]=C);else if(typeof C=="function"){const X=A(N,C);V[N]=X,l.actions[N]=C}}return Ve(j,V),Ve(K(j),V),Object.defineProperty(j,"$state",{get:()=>r.state.value[e],set:N=>{G(C=>{Ve(C,N)})}}),r._p.forEach(N=>{Ve(j,i.run(()=>N({store:j,app:r._a,pinia:r,options:l})))}),O&&o&&n.hydrate&&n.hydrate(j.$state,O),a=!0,d=!0,j}function nf(e,t,n){let r,s;const o=typeof t=="function";typeof e=="string"?(r=e,s=o?n:t):(s=e,r=e.id);function i(l,c){const a=xc();return l=l||a&&Ht(ei,null),l&&jn(l),l=Qo,l._s.has(r)||(o?ni(r,t,s,l):tf(r,s,l)),l._s.get(r)}return i.$id=r,i}const rf=dt(",key,ref,innerHTML,textContent,ref_key,ref_for");function sf(e,t){let n="";for(const r in e){if(rf(r)||$t(r)||t==="textarea"&&r==="value")continue;const s=e[r];r==="class"?n+=` class="${cf(s)}"`:r==="style"?n+=` style="${ff(s)}"`:n+=of(r,s,t)}return n}function of(e,t,n){if(!lf(t))return"";const r=n&&(n.indexOf("-")>0||vi(n))?e:Ci[e]||e.toLowerCase();return Ri(r)?mr(t)?` ${r}`:"":Ai(r)?t===""?` ${r}`:` ${r}="${ze(t)}"`:(console.warn(`[@vue/server-renderer] Skipped rendering unsafe attribute name: ${r}`),"")}function lf(e){if(e==null)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"}function cf(e){return ze(ht(e))}function ff(e){if(!e)return"";if(Y(e))return ze(e);const t=Cn(e);return ze(yi(t))}function uf(e,t,n,r,s){e("<!--teleport start-->");const o=s.appContext.provides[Nr],i=o.__teleportBuffers||(o.__teleportBuffers={}),l=i[n]||(i[n]=[]),c=l.length;let a;if(r)t(e),a="<!--teleport anchor-->";else{const{getBuffer:d,push:h}=ri();t(h),h("<!--teleport anchor-->"),a=d()}l.splice(c,0,a),e("<!--teleport end-->")}function af(e,t){throw new Error("On-the-fly template compilation is not supported in the ESM build of @vue/server-renderer. All templates must be pre-compiled into render functions.")}const{createComponentInstance:df,setCurrentRenderingInstance:Is,setupComponent:hf,renderComponentRoot:ks,normalizeVNode:pf}=zo;function ri(){let e=!1;const t=[];return{getBuffer(){return t},push(n){const r=Y(n);e&&r?t[t.length-1]+=n:t.push(n),e=r,(tn(n)||F(n)&&n.hasAsync)&&(t.hasAsync=!0)}}}function si(e,t=null,n){const r=df(e,t,null),s=hf(r,!0),o=tn(s),i=r.sp;if(o||i){let l=o?s:Promise.resolve();return i&&(l=l.then(()=>Promise.all(i.map(c=>c.call(r.proxy)))).catch(()=>{})),l.then(()=>Ns(r,n))}else return Ns(r,n)}function Ns(e,t){const n=e.type,{getBuffer:r,push:s}=ri();if(D(n)){let o=ks(e);if(!n.props)for(const i in e.attrs)i.startsWith("data-v-")&&((o.props||(o.props={}))[i]="");On(s,e.subTree=o,e,t)}else{(!e.render||e.render===xe)&&!e.ssrRender&&!n.ssrRender&&Y(n.template)&&(n.ssrRender=af(n.template));for(const i of e.scope.effects)i.computed&&(i.computed._cacheable=!0);const o=e.ssrRender||n.ssrRender;if(o){let i=e.inheritAttrs!==!1?e.attrs:void 0,l=!1,c=e;for(;;){const d=c.vnode.scopeId;d&&(l||(i={...i},l=!0),i[d]="");const h=c.parent;if(h&&h.subTree&&h.subTree===c.vnode)c=h;else break}t&&(l||(i={...i}),i[t.trim()]="");const a=Is(e);try{o(e.proxy,s,e,i,e.props,e.setupState,e.data,e.ctx)}finally{Is(a)}}else e.render&&e.render!==xe?On(s,e.subTree=ks(e),e,t):(n.name||n.__file,s("<!---->"))}return r()}function On(e,t,n,r){const{type:s,shapeFlag:o,children:i}=t;switch(s){case ut:e(ze(i));break;case Be:e(i?`<!--${Mi(i)}-->`:"<!---->");break;case Bt:e(i);break;case de:t.slotScopeIds&&(r=(r?r+" ":"")+t.slotScopeIds.join(" ")),e("<!--[-->"),Sr(e,i,n,r),e("<!--]-->");break;default:o&1?mf(e,t,n,r):o&6?e(si(t,n,r)):o&64?_f(e,t,n,r):o&128&&On(e,t.ssContent,n,r)}}function Sr(e,t,n,r){for(let s=0;s<t.length;s++)On(e,pf(t[s]),n,r)}function mf(e,t,n,r){const s=t.type;let{props:o,children:i,shapeFlag:l,scopeId:c,dirs:a}=t,d=`<${s}`;a&&(o=gf(t,o,a)),o&&(d+=sf(o,s)),c&&(d+=` ${c}`);let h=n,_=t;for(;h&&_===h.subTree;)_=h.vnode,_.scopeId&&(d+=` ${_.scopeId}`),h=h.parent;if(r&&(d+=` ${r}`),e(d+">"),!Ei(s)){let R=!1;o&&(o.innerHTML?(R=!0,e(o.innerHTML)):o.textContent?(R=!0,e(ze(o.textContent))):s==="textarea"&&o.value&&(R=!0,e(ze(o.value)))),R||(l&8?e(ze(i)):l&16&&Sr(e,i,n,r)),e(`</${s}>`)}}function gf(e,t,n){const r=[];for(let s=0;s<n.length;s++){const o=n[s],{dir:{getSSRProps:i}}=o;if(i){const l=i(o,e);l&&r.push(l)}}return Wo(t||{},...r)}function _f(e,t,n,r){const s=t.props&&t.props.to,o=t.props&&t.props.disabled;if(!s)return[];if(!Y(s))return[];uf(e,i=>{Sr(i,t.children,n,r)},s,o||o==="",n)}const{isVNode:bf}=zo;async function Fr(e){if(e.hasAsync){let t="";for(let n=0;n<e.length;n++){let r=e[n];tn(r)&&(r=await r),Y(r)?t+=r:t+=await Fr(r)}return t}else return oi(e)}function oi(e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Y(r)?t+=r:t+=oi(r)}return t}async function ii(e,t={}){if(bf(e))return ii(Jo({render:()=>e}),t);const n=ae(e._component,e._props);n.appContext=e._context,e.provide(Nr,t);const r=await si(n),s=await Fr(r);if(await yf(t),t.__watcherHandles)for(const o of t.__watcherHandles)o();return s}async function yf(e){if(e.__teleportBuffers){e.teleports=e.teleports||{};for(const t in e.__teleportBuffers)e.teleports[t]=await Fr(await Promise.all([e.__teleportBuffers[t]]))}}zc();function Te(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(s){return"\'"+s+"\'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Tt(e){return!!e&&!!e[we]}function at(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===Af}(e)||Array.isArray(e)||!!e[Bs]||!!(!((t=e.constructor)===null||t===void 0)&&t[Bs])||jr(e)||Dr(e))}function Qt(e,t,n){n===void 0&&(n=!1),kt(e)===0?(n?Object.keys:Kr)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,s){return t(s,r,e)})}function kt(e){var t=e[we];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:jr(e)?2:Dr(e)?3:0}function cr(e,t){return kt(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xf(e,t){return kt(e)===2?e.get(t):e[t]}function li(e,t,n){var r=kt(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function wf(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function jr(e){return Rf&&e instanceof Map}function Dr(e){return Pf&&e instanceof Set}function st(e){return e.o||e.t}function Hr(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Cf(e);delete t[we];for(var n=Kr(t),r=0;r<n.length;r++){var s=n[r],o=t[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Object.getPrototypeOf(e),t)}function Lr(e,t){return t===void 0&&(t=!1),Ur(e)||Tt(e)||!at(e)||(kt(e)>1&&(e.set=e.add=e.clear=e.delete=vf),Object.freeze(e),t&&Qt(e,function(n,r){return Lr(r,!0)},!0)),e}function vf(){Te(2)}function Ur(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function De(e){var t=Tf[e];return t||Te(18,e),t}function Ss(){return en}function Vn(e,t){t&&(De("Patches"),e.u=[],e.s=[],e.v=t)}function Rn(e){fr(e),e.p.forEach(Ef),e.p=null}function fr(e){e===en&&(en=e.l)}function Fs(e){return en={p:[],l:en,h:e,m:!0,_:0}}function Ef(e){var t=e[we];t.i===0||t.i===1?t.j():t.O=!0}function qn(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||De("ES5").S(t,e,r),r?(n[we].P&&(Rn(t),Te(4)),at(e)&&(e=Pn(t,e),t.l||An(t,e)),t.u&&De("Patches").M(n[we].t,e,t.u,t.s)):e=Pn(t,n,[]),Rn(t),t.u&&t.v(t.u,t.s),e!==ci?e:void 0}function Pn(e,t,n){if(Ur(t))return t;var r=t[we];if(!r)return Qt(t,function(l,c){return js(e,r,t,l,c,n)},!0),t;if(r.A!==e)return t;if(!r.P)return An(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var s=r.i===4||r.i===5?r.o=Hr(r.k):r.o,o=s,i=!1;r.i===3&&(o=new Set(s),s.clear(),i=!0),Qt(o,function(l,c){return js(e,r,s,l,c,n,i)}),An(e,s,!1),n&&e.u&&De("Patches").N(r,n,e.u,e.s)}return r.o}function js(e,t,n,r,s,o,i){if(Tt(s)){var l=Pn(e,s,o&&t&&t.i!==3&&!cr(t.R,r)?o.concat(r):void 0);if(li(n,r,l),!Tt(l))return;e.m=!1}else i&&n.add(s);if(at(s)&&!Ur(s)){if(!e.h.D&&e._<1)return;Pn(e,s),t&&t.A.l||An(e,s)}}function An(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&Lr(t,n)}function Gn(e,t){var n=e[we];return(n?st(n):e)[t]}function Ds(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ur(e){e.P||(e.P=!0,e.l&&ur(e.l))}function zn(e){e.o||(e.o=Hr(e.t))}function ar(e,t,n){var r=jr(t)?De("MapSet").F(t,n):Dr(t)?De("MapSet").T(t,n):e.g?function(s,o){var i=Array.isArray(s),l={i:i?1:0,A:o?o.A:Ss(),P:!1,I:!1,R:{},l:o,t:s,k:null,o:null,j:null,C:!1},c=l,a=dr;i&&(c=[l],a=jt);var d=Proxy.revocable(c,a),h=d.revoke,_=d.proxy;return l.k=_,l.j=h,_}(t,n):De("ES5").J(t,n);return(n?n.A:Ss()).p.push(r),r}function Of(e){return Tt(e)||Te(22,e),function t(n){if(!at(n))return n;var r,s=n[we],o=kt(n);if(s){if(!s.P&&(s.i<4||!De("ES5").K(s)))return s.t;s.I=!0,r=Hs(n,o),s.I=!1}else r=Hs(n,o);return Qt(r,function(i,l){s&&xf(s.t,i)===l||li(r,i,t(l))}),o===3?new Set(r):r}(e)}function Hs(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Hr(e)}var Ls,en,Br=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Rf=typeof Map<"u",Pf=typeof Set<"u",Us=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",ci=Br?Symbol.for("immer-nothing"):((Ls={})["immer-nothing"]=!0,Ls),Bs=Br?Symbol.for("immer-draftable"):"__$immer_draftable",we=Br?Symbol.for("immer-state"):"__$immer_state",Af=""+Object.prototype.constructor,Kr=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Cf=Object.getOwnPropertyDescriptors||function(e){var t={};return Kr(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Tf={},dr={get:function(e,t){if(t===we)return e;var n=st(e);if(!cr(n,t))return function(s,o,i){var l,c=Ds(o,i);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(s.k):void 0}(e,n,t);var r=n[t];return e.I||!at(r)?r:r===Gn(e.t,t)?(zn(e),e.o[t]=ar(e.A.h,r,e)):r},has:function(e,t){return t in st(e)},ownKeys:function(e){return Reflect.ownKeys(st(e))},set:function(e,t,n){var r=Ds(st(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var s=Gn(st(e),t),o=s==null?void 0:s[we];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(wf(n,s)&&(n!==void 0||cr(e.t,t)))return!0;zn(e),ur(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return Gn(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,zn(e),ur(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=st(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Te(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Te(12)}},jt={};Qt(dr,function(e,t){jt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),jt.deleteProperty=function(e,t){return jt.set.call(this,e,t,void 0)},jt.set=function(e,t,n){return dr.set.call(this,e[0],t,n,e[0])};var $f=function(){function e(n){var r=this;this.g=Us,this.D=!0,this.produce=function(s,o,i){if(typeof s=="function"&&typeof o!="function"){var l=o;o=s;var c=r;return function(T){var G=this;T===void 0&&(T=l);for(var b=arguments.length,E=Array(b>1?b-1:0),A=1;A<b;A++)E[A-1]=arguments[A];return c.produce(T,function(H){var j;return(j=o).call.apply(j,[G,H].concat(E))})}}var a;if(typeof o!="function"&&Te(6),i!==void 0&&typeof i!="function"&&Te(7),at(s)){var d=Fs(r),h=ar(r,s,void 0),_=!0;try{a=o(h),_=!1}finally{_?Rn(d):fr(d)}return typeof Promise<"u"&&a instanceof Promise?a.then(function(T){return Vn(d,i),qn(T,d)},function(T){throw Rn(d),T}):(Vn(d,i),qn(a,d))}if(!s||typeof s!="object"){if((a=o(s))===void 0&&(a=s),a===ci&&(a=void 0),r.D&&Lr(a,!0),i){var R=[],O=[];De("Patches").M(s,a,R,O),i(R,O)}return a}Te(21,s)},this.produceWithPatches=function(s,o){if(typeof s=="function")return function(a){for(var d=arguments.length,h=Array(d>1?d-1:0),_=1;_<d;_++)h[_-1]=arguments[_];return r.produceWithPatches(a,function(R){return s.apply(void 0,[R].concat(h))})};var i,l,c=r.produce(s,o,function(a,d){i=a,l=d});return typeof Promise<"u"&&c instanceof Promise?c.then(function(a){return[a,i,l]}):[c,i,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){at(n)||Te(8),Tt(n)&&(n=Of(n));var r=Fs(this),s=ar(this,n,void 0);return s[we].C=!0,fr(r),s},t.finishDraft=function(n,r){var s=n&&n[we],o=s.A;return Vn(o,r),qn(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Us&&Te(20),this.g=n},t.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var o=r[s];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}s>-1&&(r=r.slice(s+1));var i=De("Patches").$;return Tt(n)?i(n,r):this.produce(n,function(l){return i(l,r)})},e}(),ve=new $f,Mf=ve.produce;ve.produceWithPatches.bind(ve);ve.setAutoFreeze.bind(ve);ve.setUseProxies.bind(ve);ve.applyPatches.bind(ve);ve.createDraft.bind(ve);ve.finishDraft.bind(ve);const Ks=Mf,If=()=>{let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},kf=e=>{const t=new Map,n=typeof window<"u"&&window.__markwhen_wss_url;let r,s=!1;n&&(r=new WebSocket(n),r.onopen=()=>{s=!0,i("state")});const o=d=>{r&&s?r.send(JSON.stringify(d)):typeof window<"u"&&window.parent.postMessage(d,"*")},i=(d,h)=>{const _=`markwhen_${If()}`;return new Promise((R,O)=>{t.set(_,{resolve:R,reject:O}),o({type:d,request:!0,id:_,params:h})})},l=(d,h,_)=>o({type:h,response:!0,id:d,params:_}),c=d=>{var _,R;if(!d.data.id||!d.data.id.startsWith("markwhen")||d.source===window)return;const h=d.data;if(h.response)(_=t.get(h.id))==null||_.resolve(h),t.delete(h.id);else if(h.request){const O=(R=e==null?void 0:e[h.type])==null?void 0:R.call(e,h.params);Promise.resolve(O).then(T=>{l(h.id,h.type,T)})}else console.error("Not a request or response",h)};r?r.onmessage=d=>{const h=new MessageEvent("message",{data:JSON.parse(d.data)});c(h)}:typeof window<"u"&&(window==null||window.addEventListener("message",c));const a=typeof window<"u"&&window.__markwhen_initial_state;return a&&e&&e.state&&e.state(a),{postRequest:i}},Nf=(e,t)=>{if(!e||!t||e.type!==t.type)return!1;const n=e.path,r=t.path;return n.join(",")===r.join(",")},Sf=nf("markwhen",()=>{const e=ot(),t=ot(),n=ot(O=>{}),r=ot(O=>{}),s=ot(typeof window<"u"&&window.__markwhen_initial_state),{postRequest:o}=kf({state:O=>{e.value=Ks(e.value,()=>O.app),t.value=Ks(t.value,()=>O.markwhen)},jumpToPath:({path:O})=>{var T;(T=n.value)==null||T.call(n,O)},jumpToRange:({dateRangeIso:O})=>{var T;(T=r.value)==null||T.call(r,O)}}),i=O=>{o("setHoveringPath",O)},l=O=>{o("setDetailPath",O)},c=(O,T)=>{o("setText",{text:O,at:T})},a=O=>{o("showInEditor",O)},d=O=>{var T;return!!O&&Nf(O,(T=e.value)==null?void 0:T.detailPath)},h=(O,T,G=!0)=>{o("newEvent",{dateRangeIso:O,granularity:T,immediate:G})},_=(O,T,G,b)=>{o("editEventDateRange",{path:O,range:T,scale:G,preferredInterpolationFormat:b})},R=()=>o("state");return R(),{app:e,markwhen:t,hadInitialState:s,onJumpToPath:n,onJumpToRange:r,requestStateUpdate:R,setHoveringPath:i,setDetailEventPath:l,isDetailEventPath:d,setText:c,showInEditor:a,createEventFromRange:h,editEventDateRange:_}}),Ff={class:"sidebar flex flex-col bg-slate-100 dark:bg-slate-600"},jf={class:"flex flex-col justify-center py-8 px-6 text-slate-900 bg-slate-200 dark:bg-slate-700 dark:text-slate-100"},Df={class:"text-xl font-black text-center"},Hf={class:"font-bold text-center"},Lf={class:"flex flex-col px-6 gap-10 py-8 text-slate-700 dark:text-slate-200"},Uf={class:"flex flex-col gap-2"},Bf=["href"],Kf={class:"flex flex-row items-center gap-1"},Wf=L("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})],-1),Xf=["href"],Vf={class:"flex flex-row items-center gap-1 underline"},qf=L("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[L("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})],-1),Gf=["href"],zf={class:"flex flex-row items-center gap-1 underline"},Yf=L("svg",{class:"w-4 h-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor"},[L("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"})],-1),Jf=["href"],Zf={class:"flex flex-row items-center gap-1 underline"},Qf=L("svg",{class:"w-4 h-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor"},[L("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"})],-1),eu={key:0,class:"text-sm"},tu={class:"flex flex-col gap-2"},nu={class:"text-sm text-slate-500 dark:text-slate-400 uppercase"},ru={class:""},su={key:0,class:""},ou={key:1,class:"text-sm"},iu=Pt({__name:"Sidebar",props:{header:null},setup(e){const t=e,n=i=>i.startsWith("http")?i:`http://${i}`,r=Ie(()=>{var i,l;return n(((l=(i=t.header)==null?void 0:i.contact)==null?void 0:l.website)||"http://example.com")}),s=Ie(()=>{var i,l;return n(((l=(i=t.header)==null?void 0:i.contact)==null?void 0:l.linkedIn)||"https://linkedin.com")}),o=Ie(()=>{var i,l;return n(((l=(i=t.header)==null?void 0:i.contact)==null?void 0:l.github)||"github.com")});return(i,l)=>{var c,a,d,h,_;return Q(),oe("aside",Ff,[L("div",jf,[L("h1",Df,Oe(e.header.title||"[header.title]"),1),L("h2",Hf,Oe(e.header.description||"[header.description]"),1)]),L("div",Lf,[L("div",Uf,[L("a",{href:`mailto:${((c=e.header.contact)==null?void 0:c.email)||"example@example.com"}`},[L("h4",Kf,[Wf,yt(" "+Oe(((a=e.header.contact)==null?void 0:a.email)||"[header.contact.email]"),1)])],8,Bf),L("a",{href:se(r)},[L("h4",Vf,[qf,yt(" "+Oe(((d=e.header.contact)==null?void 0:d.website)||"[header.contact.website]"),1)])],8,Xf),L("a",{href:se(s)},[L("h4",zf,[Yf,yt(" "+Oe(((h=e.header.contact)==null?void 0:h.linkedIn)||"[header.contact.linkedIn]"),1)])],8,Gf),L("a",{href:se(o)},[L("h4",Zf,[Qf,yt(" "+Oe(((_=e.header.contact)==null?void 0:_.github)||"[header.contact.github]"),1)])],8,Jf)]),e.header.sidebar?Ge("",!0):(Q(),oe("pre",eu,`sidebar:\n- name: education\nitems: \n  - \n    - BS in Computer Science\n    - Yale\n  -\n    - PhD in Computer Science\n    - Harvard\n    `)),(Q(!0),oe(de,null,xn(e.header.sidebar,R=>(Q(),oe("div",tu,[L("h4",nu,Oe(R.name),1),(Q(!0),oe(de,null,xn(R.items,O=>(Q(),oe("div",ru,[Array.isArray(O)?(Q(),oe(de,{key:0},[L("h5",{class:ht(O.length===2?"font-medium":"")},Oe(O[0]),3),O[1]?(Q(),oe("h6",su,Oe(O[1]),1)):Ge("",!0)],64)):(Q(),oe("h5",ou,Oe(O),1))]))),256))]))),256))])])}}}),Wr=/(milliseconds|ms)/i,Xr=/(seconds|second|secs|sec|s)/i,Vr=/(minutes|minute|mins|min)/i,qr=/(hours|hour|h)/i,Gr=/(?:(week\\s*|work\\s*|business\\s*)?(days|day|d))/i,zr=/(weeks|week|w)/i,Yr=/(months|month)/i,Jr=/(years|year|y)/i,lu=new RegExp(`(\\\\d+\\\\W*)(${Wr.source}|${Xr.source}|${Vr.source}|${qr.source}|${Gr.source}|${zr.source}|${Yr.source}|${Jr.source})(?:\\\\s*,\\\\s*|\\\\s*)`,"g"),cu=/(?:\\W|^)(!\\w+)/,hr=new RegExp(`(by|before|after)?(\\\\s*${cu.source}\\\\s*)?(?:plus|\\\\+)?\\\\s*(${lu.source})*`),fu=/january|february|march|april|may|june|july|august|september|october|november|december/,uu=/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/,Zr=new RegExp(`(?:(${fu.source})|(${uu.source}))`),au=new RegExp(`(([0-3]?[0-9])\\\\s+${Zr.source})`),du=new RegExp(`(${Zr.source}\\\\s+([0-3]?[0-9](?!\\\\d)))`),Qr=/((1|2|3|4|5|6|7|8|9|10|11|12)(:\\d{2})?([ap]m)|([012]?[0-9])(:\\d{2}))/,hu=new RegExp(`(?:(?:${au.source}|${du.source}),?(?:\\\\s+(\\\\d{4}),?)?(?:\\\\s+${Qr.source})?)|(${Zr.source}(?:\\\\s+(\\\\d{1,4}))?)`),pu=/\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2,}(?:\\.\\d*)?Z/,pr=/now/,mu=new RegExp(`(\\\\d{1,5}(\\\\/\\\\d{1,5}(\\\\/\\\\d{1,5}(?:(?:,|\\\\s)+${Qr.source})?)?)?)`),Ws=new RegExp(`(${pu.source})|(${pr.source})|${Qr.source}|(${mu.source})|(${hr.source})|${hu.source}`),gu=new RegExp(`(?:(\\\\d+|other)?\\\\s*)(${Wr.source}|${Xr.source}|${Vr.source}|${qr.source}|${Gr.source}|${zr.source}|${Yr.source}|${Jr.source})`,"g"),_u=new RegExp(`((\\\\s+for\\\\s+(\\\\d+\\\\W*)(${Wr.source}|${Xr.source}|${Vr.source}|${qr.source}|${Gr.source}|${zr.source}|${Yr.source}|${Jr.source}|(times)))|(\\\\s+x\\\\s*(\\\\d+)))?`),fi=new RegExp(`\\\\s*every\\\\s+${gu.source}${_u.source}`),bu=new RegExp(`((${Ws.source})(?:\\\\s*(?:-|to)\\\\s*(${Ws.source}))?)(${fi.source})?\\\\s*:`);new RegExp(`^(\\\\s*)${bu.source}(.*)`,"i");const Xs=/(\\d{4}(-\\d{2}(-\\d{2})?)?)/,yu=new RegExp(`((?:${Xs.source}|(${hr.source})|(${pr.source}))(\\\\s*/\\\\s*(?:${Xs.source}|(${hr.source})|(${pr.source})))?)(${fi.source})?\\\\s*:`);new RegExp(`^(\\\\s*)${yu.source}(.*)`,"i");function Yn(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(wu,(t,n,r)=>`<a class="underline" href="${xu(r)}">${n}</a>`).replace(/&/g,"&amp;").replace(vu,(t,n)=>`<a class="underline" href="/${n}">@${n}</a>`)}function xu(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:`http://${e}`}const wu=/\\[([^\\]\\<\\>]+)\\]\\(((https?:\\/\\/)?[\\w\\d./\\&\\?=\\-#:,_]+)\\)/g,vu=/@([\\w\\d\\/]+)/g;var Vs;(function(e){e.TEXT="text",e.LIST_ITEM="listItem",e.CHECKBOX="checkbox",e.IMAGE="image"})(Vs||(Vs={}));var qs;(function(e){e.Comment="comment",e.CheckboxItemIndicator="checkboxItemIndicator",e.listItemIndicator="listItemIndicator",e.ListItemContents="listItemContents",e.Tag="tag",e.tagDefinition="tagDefinition",e.Title="title",e.View="view",e.Viewer="viewer",e.Description="description",e.Section="section",e.DateRange="dateRange",e.DateRangeColon="dateRangeColon",e.Event="event",e.Edit="edit",e.Editor="editor",e.Recurrence="recurrence",e.FrontmatterDelimiter="frontMatterDelimiter",e.HeaderKey="headerKey",e.HeaderKeyColon="headerKeyColon",e.HeaderValue="headerValue"})(qs||(qs={}));const ui=(e,t,n)=>{if(!n(e,t)&&e&&!ai(e)){const r=e.value;for(let s=0;s<r.length;s++)ui(r[s],[...t,s],n)}},ai=e=>!Array.isArray(e.value),Eu={class:"flex flex-col gap-2"},Ou={class:"flex flex-row gap-3 items-center"},Ru=["src","alt"],Pu={key:1,class:"h-8 w-8 flex-shrink-0"},Au={class:"flex flex-col justify-center w-full"},Cu={class:"flex flex-row"},Tu={key:0,class:"font-semibold text-slate-800 dark:text-slate-200"},$u=["innerHTML"],Mu={class:"ml-auto text-sm text-slate-500 dark:text-slate-400"},Iu={class:"flex flex-row gap-1"},ku=["innerHTML"],Nu={key:1,class:"text-sm text-slate-500 dark:text-slate-400"},Su={key:2,class:"text-sm text-slate-500 dark:text-slate-400"},Fu={class:"flex flex-row gap-3"},ju=L("div",{class:"h-8 w-8 flex-shrink-0"},null,-1),Du={class:"flex flex-col gap-1 dark:text-slate-300"},Hu=["innerHTML"],Lu=Pt({__name:"Entry",props:{entry:null},setup(e){const t=e,n=Ie(()=>t.entry.value.eventDescription.supplemental),r=Ie(()=>n.value.find(i=>i.type==="image")),s=Ie(()=>{var i;return(i=t.entry.value.eventDescription.locations)==null?void 0:i[0]}),o=Ie(()=>n.value.filter(i=>i.type==="listItem"));return(i,l)=>(Q(),oe("div",Eu,[L("div",Ou,[se(r)?(Q(),oe("img",{key:0,src:se(r).link,alt:se(r).altText,class:"rounded h-8 w-8"},null,8,Ru)):(Q(),oe("div",Pu)),L("div",Au,[L("div",Cu,[e.entry.value.eventDescription.eventDescription?Ge("",!0):(Q(),oe("h1",Tu," [title] ")),L("h1",{class:"font-semibold text-slate-800 dark:text-slate-200",innerHTML:se(Yn)(e.entry.value.eventDescription.eventDescription)},null,8,$u),L("h2",Mu,Oe(e.entry.value.dateText),1)]),L("div",Iu,[se(n)[0]?(Q(),oe("h2",{key:0,class:"text-sm dark:text-slate-300",innerHTML:se(Yn)(se(n)[0].raw)},null,8,ku)):Ge("",!0),se(s)?(Q(),oe("h2",Nu," · ")):Ge("",!0),se(s)?(Q(),oe("h2",Su,Oe(se(s)),1)):Ge("",!0)])])]),L("div",Fu,[ju,L("div",Du,[(Q(!0),oe(de,null,xn(se(o),c=>(Q(),oe("p",{class:"",innerHTML:se(Yn)(c.raw),style:{"font-size":"95%"}},null,8,Hu))),256))])])]))}}),Uu={class:"py-8 bg-slate-50 dark:bg-slate-800 px-12 w-full flex flex-col gap-6"},Bu=Pt({__name:"Entries",props:{entries:null},setup(e){const t=e,n=Ie(()=>{const r=[];return ui(t.entries,[],(s,o)=>{s&&ai(s)&&r.push(s)}),r});return(r,s)=>(Q(),oe("main",Uu,[(Q(!0),oe(de,null,xn(se(n),o=>(Q(),Mr(Lu,{entry:o},null,8,["entry"]))),256))]))}}),Ku=Pt({__name:"Resume",props:{header:null,entries:null,dark:{type:Boolean}},setup(e){return(t,n)=>(Q(),oe("div",{class:ht(["mx-auto font-sans flex flex-row resume",e.dark?"dark":""])},[ae(iu,{header:e.header},null,8,["header"]),ae(Bu,{entries:e.entries},null,8,["entries"])],2))}});const Wu=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Gs=Wu(Ku,[["__scopeId","data-v-12b7e835"]]),Xu={key:0,class:"flex flex-row gap-2 items-center py-1 border-b dark:border-slate-800"},Vu=L("a",{class:"underline dark:text-slate-300",target:"_blank",href:"https://github.com/kochrt/kochrt.github.io/blob/master/resume.mw"},"Example syntax",-1),qu=L("a",{href:"https://robko.ch/resume",class:"underline dark:text-slate-300",target:"_blank"},"Example output (good for printing to PDF)",-1),Gu={class:"overflow-scroll w-full h-full bg-white dark:bg-slate-900"},zu=Pt({__name:"App",setup(e){const t=Sf(),n=async()=>{const o=Pt({render(){var a,d,h,_;return Rc(Gs,{header:(d=(a=t.markwhen)==null?void 0:a.parsed)==null?void 0:d[0].header,entries:(h=t.markwhen)==null?void 0:h.transformed,dark:(_=t.app)==null?void 0:_.isDark})}}),i=Gc(o),l=await ii(i),c=[];for(const a of document.getElementsByTagName("style"))c.push(`<style>${a.innerHTML}</style>`);return`<html>\n  <head>\n    <title>Resume</title>\n    ${c.join("")}\n  </head>\n  <body>\n    <div id="app">${l}</div>\n  </body>\n</html>`},r=Ie(()=>{var o;return(o=t.app)==null?void 0:o.isDark}),s=async()=>{const o=document.createElement("a"),i=new Blob([await n()],{type:"text/html"});o.href=URL.createObjectURL(i),o.download="resume.html",o.click(),URL.revokeObjectURL(o.href)};return(o,i)=>{var l,c,a;return Q(),oe("div",{class:ht(["w-full h-full flex flex-col",se(r)?"dark":""])},[se(t).hadInitialState?Ge("",!0):(Q(),oe("div",Xu,[L("div",{class:"ml-auto flex flex-row gap-2 mx-2 font-sans"},[Vu,qu,L("button",{class:"rounded py-px font-bold px-2 text-slate-100 bg-blue-800",onClick:s}," Download HTML ")])])),L("div",Gu,[se(t).markwhen?(Q(),Mr(Gs,{key:0,header:(c=(l=se(t).markwhen)==null?void 0:l.parsed)==null?void 0:c[0].header,entries:(a=se(t).markwhen)==null?void 0:a.transformed,dark:!!se(r)},null,8,["header","entries","dark"])):Ge("",!0)])],2)}}});const di=Jo(zu),Yu=Jc();di.use(Yu);di.mount("#app");\n\n<\/script>\n    <style>\n.resume[data-v-12b7e835]{display:grid;grid-template-columns:16rem auto}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-auto{margin-left:auto;margin-right:auto}.ml-auto{margin-left:auto}.flex{display:flex}.grid{display:grid}.h-4{height:1rem}.h-8{height:2rem}.h-full{height:100%}.w-4{width:1rem}.w-8{width:2rem}.w-full{width:100%}.flex-shrink-0{flex-shrink:0}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.gap-1{gap:.25rem}.gap-10{gap:2.5rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-6{gap:1.5rem}.overflow-scroll{overflow:scroll}.rounded{border-radius:.25rem}.border-b{border-bottom-width:1px}.bg-blue-800{--tw-bg-opacity: 1;background-color:rgb(30 64 175 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-slate-200{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}.bg-slate-50{--tw-bg-opacity: 1;background-color:rgb(248 250 252 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.px-12{padding-left:3rem;padding-right:3rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-8{padding-top:2rem;padding-bottom:2rem}.py-px{padding-top:1px;padding-bottom:1px}.text-center{text-align:center}.font-sans{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-black{font-weight:900}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.text-slate-100{--tw-text-opacity: 1;color:rgb(241 245 249 / var(--tw-text-opacity))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity))}.text-slate-700{--tw-text-opacity: 1;color:rgb(51 65 85 / var(--tw-text-opacity))}.text-slate-800{--tw-text-opacity: 1;color:rgb(30 41 59 / var(--tw-text-opacity))}.text-slate-900{--tw-text-opacity: 1;color:rgb(15 23 42 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}:root,body,#app{width:100%;height:100%}html,body{height:100%;font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;mix-blend-mode:multiply}.noScrollBar::-webkit-scrollbar{display:none}.noScrollBar{scrollbar-width:none}button{-webkit-tap-highlight-color:transparent}.safeBottomPadding{padding-bottom:env(safe-area-inset-bottom)}.dark .dark\\:border-slate-800{--tw-border-opacity: 1;border-color:rgb(30 41 59 / var(--tw-border-opacity))}.dark .dark\\:bg-slate-600{--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}.dark .dark\\:bg-slate-700{--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}.dark .dark\\:bg-slate-800{--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}.dark .dark\\:bg-slate-900{--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}.dark .dark\\:text-slate-100{--tw-text-opacity: 1;color:rgb(241 245 249 / var(--tw-text-opacity))}.dark .dark\\:text-slate-200{--tw-text-opacity: 1;color:rgb(226 232 240 / var(--tw-text-opacity))}.dark .dark\\:text-slate-300{--tw-text-opacity: 1;color:rgb(203 213 225 / var(--tw-text-opacity))}.dark .dark\\:text-slate-400{--tw-text-opacity: 1;color:rgb(148 163 184 / var(--tw-text-opacity))}\n\n</style>\n  </head>\n  <body>\n    <div id="app"></div>\n    \n  </body>\n</html>\n',kg='<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <link rel="icon" href="./favicon.ico" />\n    <meta\n      name="viewport"\n      content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0, user-scalable=no"\n    />\n    <title>Markwhen Timeline</title>\n    <script type="module" crossorigin>var eb=Object.defineProperty;var nm=t=>{throw TypeError(t)};var tb=(t,e,n)=>e in t?eb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pe=(t,e,n)=>tb(t,typeof e!="symbol"?e+"":e,n),Pu=(t,e,n)=>e.has(t)||nm("Cannot "+n);var A=(t,e,n)=>(Pu(t,e,"read from private field"),n?n.call(t):e.get(t)),Ze=(t,e,n)=>e.has(t)?nm("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Fe=(t,e,n,s)=>(Pu(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),Ae=(t,e,n)=>(Pu(t,e,"access private method"),n);var Nl=(t,e,n,s)=>({set _(r){Fe(t,e,r,n)},get _(){return A(t,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll(\'link[rel="modulepreload"]\'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**\n* @vue/shared v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**//*! #__NO_SIDE_EFFECTS__ */function Yi(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Tt={},mo=[],Jn=()=>{},nb=()=>!1,Wo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Lh=t=>t.startsWith("onUpdate:"),Xt=Object.assign,Rh=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},sb=Object.prototype.hasOwnProperty,mt=(t,e)=>sb.call(t,e),Ue=Array.isArray,po=t=>ul(t)==="[object Map]",Ph=t=>ul(t)==="[object Set]",sm=t=>ul(t)==="[object Date]",We=t=>typeof t=="function",wt=t=>typeof t=="string",xs=t=>typeof t=="symbol",kt=t=>t!==null&&typeof t=="object",Co=t=>(kt(t)||We(t))&&We(t.then)&&We(t.catch),o0=Object.prototype.toString,ul=t=>o0.call(t),rb=t=>ul(t).slice(8,-1),a0=t=>ul(t)==="[object Object]",Yh=t=>wt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yo=Yi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),eu=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ib=/-(\\w)/g,Kr=eu(t=>t.replace(ib,(e,n)=>n?n.toUpperCase():"")),ob=/\\B([A-Z])/g,Qr=eu(t=>t.replace(ob,"-$1").toLowerCase()),l0=eu(t=>t.charAt(0).toUpperCase()+t.slice(1)),oc=eu(t=>t?`on${l0(t)}`:""),Hr=(t,e)=>!Object.is(t,e),Yu=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},c0=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},ab=t=>{const e=parseFloat(t);return isNaN(e)?t:e},lb=t=>{const e=wt(t)?Number(t):NaN;return isNaN(e)?t:e};let rm;const fl=()=>rm||(rm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function mn(t){if(Ue(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=wt(s)?hb(s):mn(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(wt(t)||kt(t))return t}const cb=/;(?![^(]*\\))/g,ub=/:([^]+)/,fb=/\\/\\*[^]*?\\*\\//g;function hb(t){const e={};return t.replace(fb,"").split(cb).forEach(n=>{if(n){const s=n.split(ub);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function db(t){if(!t)return"";if(wt(t))return t;let e="";for(const n in t){const s=t[n];if(wt(s)||typeof s=="number"){const r=n.startsWith("--")?n:Qr(n);e+=`${r}:${s};`}}return e}function xn(t){let e="";if(wt(t))e=t;else if(Ue(t))for(let n=0;n<t.length;n++){const s=xn(t[n]);s&&(e+=s+" ")}else if(kt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const mb="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",pb="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",yb=Yi(mb),gb=Yi(pb),u0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vb=Yi(u0),wb=Yi(u0+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function Fh(t){return!!t||t===""}const bb=/[>/="\'\\u0009\\u000a\\u000c\\u0020]/,Fu={};function Tb(t){if(Fu.hasOwnProperty(t))return Fu[t];const e=bb.test(t);return e&&console.error(`unsafe attribute name: ${t}`),Fu[t]=!e}const kb={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"};function Eb(t){if(t==null)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"}const Sb=/["\'&<>]/;function Br(t){const e=""+t,n=Sb.exec(e);if(!n)return e;let s="",r,i,o=0;for(i=n.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}o!==i&&(s+=e.slice(o,i)),o=i+1,s+=r}return o!==i?s+e.slice(o,i):s}const _b=/^-?>|\\x3C!--|-->|--!>|<!-$/g;function Ob(t){return t.replace(_b,"")}function Ib(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=tu(t[s],e[s]);return n}function tu(t,e){if(t===e)return!0;let n=sm(t),s=sm(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=xs(t),s=xs(e),n||s)return t===e;if(n=Ue(t),s=Ue(e),n||s)return n&&s?Ib(t,e):!1;if(n=kt(t),s=kt(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!tu(t[o],e[o]))return!1}}return String(t)===String(e)}function Db(t,e){return t.findIndex(n=>tu(n,e))}const f0=t=>!!(t&&t.__v_isRef===!0),ve=t=>wt(t)?t:t==null?"":Ue(t)||kt(t)&&(t.toString===o0||!We(t.toString))?f0(t)?ve(t.value):JSON.stringify(t,h0,2):String(t),h0=(t,e)=>f0(e)?h0(t,e.value):po(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[$u(s,i)+" =>"]=r,n),{})}:Ph(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>$u(n))}:xs(e)?$u(e):kt(e)&&!Ue(e)&&!a0(e)?String(e):e,$u=(t,e="")=>{var n;return xs(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**\n* @vue/reactivity v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/let Tn;class d0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Tn,!e&&Tn&&(this.index=(Tn.scopes||(Tn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Tn;try{return Tn=this,e()}finally{Tn=n}}}on(){Tn=this}off(){Tn=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function m0(t){return new d0(t)}function $h(){return Tn}function p0(t,e=!1){Tn&&Tn.cleanups.push(t)}let St;const Uu=new WeakSet;class y0{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Tn&&Tn.active&&Tn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Uu.has(this)&&(Uu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||v0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,im(this),w0(this);const e=St,n=Ms;St=this,Ms=!0;try{return this.fn()}finally{b0(this),St=e,Ms=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Hh(e);this.deps=this.depsTail=void 0,im(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Uu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Df(this)&&this.run()}get dirty(){return Df(this)}}let g0=0,Oa,Ia;function v0(t,e=!1){if(t.flags|=8,e){t.next=Ia,Ia=t;return}t.next=Oa,Oa=t}function Uh(){g0++}function zh(){if(--g0>0)return;if(Ia){let e=Ia;for(Ia=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Oa;){let e=Oa;for(Oa=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function w0(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function b0(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Hh(s),Mb(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Df(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(T0(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function T0(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ha))return;t.globalVersion=Ha;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Df(t)){t.flags&=-3;return}const n=St,s=Ms;St=t,Ms=!0;try{w0(t);const r=t.fn(t._value);(e.version===0||Hr(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{St=n,Ms=s,b0(t),t.flags&=-3}}function Hh(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Hh(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Mb(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Ms=!0;const k0=[];function ei(){k0.push(Ms),Ms=!1}function ti(){const t=k0.pop();Ms=t===void 0?!0:t}function im(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=St;St=void 0;try{e()}finally{St=n}}}let Ha=0;class xb{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Bh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!St||!Ms||St===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==St)n=this.activeLink=new xb(St,this),St.deps?(n.prevDep=St.depsTail,St.depsTail.nextDep=n,St.depsTail=n):St.deps=St.depsTail=n,E0(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=St.depsTail,n.nextDep=void 0,St.depsTail.nextDep=n,St.depsTail=n,St.deps===n&&(St.deps=s)}return n}trigger(e){this.version++,Ha++,this.notify(e)}notify(e){Uh();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{zh()}}}function E0(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)E0(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const _c=new WeakMap,Di=Symbol(""),Mf=Symbol(""),Ba=Symbol("");function un(t,e,n){if(Ms&&St){let s=_c.get(t);s||_c.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Bh),r.map=s,r.key=n),r.track()}}function ar(t,e,n,s,r,i){const o=_c.get(t);if(!o){Ha++;return}const a=l=>{l&&l.trigger()};if(Uh(),e==="clear")o.forEach(a);else{const l=Ue(t),c=l&&Yh(n);if(l&&n==="length"){const u=Number(s);o.forEach((f,d)=>{(d==="length"||d===Ba||!xs(d)&&d>=u)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Ba)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Di)),po(t)&&a(o.get(Mf)));break;case"delete":l||(a(o.get(Di)),po(t)&&a(o.get(Mf)));break;case"set":po(t)&&a(o.get(Di));break}}zh()}function Cb(t,e){const n=_c.get(t);return n&&n.get(e)}function Xi(t){const e=st(t);return e===t?e:(un(e,"iterate",Ba),fs(t)?e:e.map(fn))}function nu(t){return un(t=st(t),"iterate",Ba),t}const Ab={__proto__:null,[Symbol.iterator](){return zu(this,Symbol.iterator,fn)},concat(...t){return Xi(this).concat(...t.map(e=>Ue(e)?Xi(e):e))},entries(){return zu(this,"entries",t=>(t[1]=fn(t[1]),t))},every(t,e){return Qs(this,"every",t,e,void 0,arguments)},filter(t,e){return Qs(this,"filter",t,e,n=>n.map(fn),arguments)},find(t,e){return Qs(this,"find",t,e,fn,arguments)},findIndex(t,e){return Qs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Qs(this,"findLast",t,e,fn,arguments)},findLastIndex(t,e){return Qs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Qs(this,"forEach",t,e,void 0,arguments)},includes(...t){return Hu(this,"includes",t)},indexOf(...t){return Hu(this,"indexOf",t)},join(t){return Xi(this).join(t)},lastIndexOf(...t){return Hu(this,"lastIndexOf",t)},map(t,e){return Qs(this,"map",t,e,void 0,arguments)},pop(){return fa(this,"pop")},push(...t){return fa(this,"push",t)},reduce(t,...e){return om(this,"reduce",t,e)},reduceRight(t,...e){return om(this,"reduceRight",t,e)},shift(){return fa(this,"shift")},some(t,e){return Qs(this,"some",t,e,void 0,arguments)},splice(...t){return fa(this,"splice",t)},toReversed(){return Xi(this).toReversed()},toSorted(t){return Xi(this).toSorted(t)},toSpliced(...t){return Xi(this).toSpliced(...t)},unshift(...t){return fa(this,"unshift",t)},values(){return zu(this,"values",fn)}};function zu(t,e,n){const s=nu(t),r=s[e]();return s!==t&&!fs(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const Nb=Array.prototype;function Qs(t,e,n,s,r,i){const o=nu(t),a=o!==t&&!fs(t),l=o[e];if(l!==Nb[e]){const f=l.apply(t,i);return a?fn(f):f}let c=n;o!==t&&(a?c=function(f,d){return n.call(this,fn(f),d,t)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,t)}));const u=l.call(o,c,s);return a&&r?r(u):u}function om(t,e,n,s){const r=nu(t);let i=n;return r!==t&&(fs(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,fn(a),l,t)}),r[e](i,...s)}function Hu(t,e,n){const s=st(t);un(s,"iterate",Ba);const r=s[e](...n);return(r===-1||r===!1)&&Vh(n[0])?(n[0]=st(n[0]),s[e](...n)):r}function fa(t,e,n=[]){ei(),Uh();const s=st(t)[e].apply(t,n);return zh(),ti(),s}const Lb=Yi("__proto__,__v_isRef,__isVue"),S0=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(xs));function Rb(t){xs(t)||(t=String(t));const e=st(this);return un(e,"has",t),e.hasOwnProperty(t)}class _0{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?jb:M0:i?D0:I0).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Ue(e);if(!r){let l;if(o&&(l=Ab[n]))return l;if(n==="hasOwnProperty")return Rb}const a=Reflect.get(e,n,Rt(e)?e:s);return(xs(n)?S0.has(n):Lb(n))||(r||un(e,"get",n),i)?a:Rt(a)?o&&Yh(n)?a:a.value:kt(a)?r?C0(a):Ni(a):a}}class O0 extends _0{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const l=Li(i);if(!fs(s)&&!Li(s)&&(i=st(i),s=st(s)),!Ue(e)&&Rt(i)&&!Rt(s))return l?!1:(i.value=s,!0)}const o=Ue(e)&&Yh(n)?Number(n)<e.length:mt(e,n),a=Reflect.set(e,n,s,Rt(e)?e:r);return e===st(r)&&(o?Hr(s,i)&&ar(e,"set",n,s):ar(e,"add",n,s)),a}deleteProperty(e,n){const s=mt(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&ar(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!xs(n)||!S0.has(n))&&un(e,"has",n),s}ownKeys(e){return un(e,"iterate",Ue(e)?"length":Di),Reflect.ownKeys(e)}}class Pb extends _0{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Yb=new O0,Fb=new Pb,$b=new O0(!0);const xf=t=>t,Ll=t=>Reflect.getPrototypeOf(t);function Ub(t,e,n){return function(...s){const r=this.__v_raw,i=st(r),o=po(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?xf:e?Cf:fn;return!e&&un(i,"iterate",l?Mf:Di),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Rl(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function zb(t,e){const n={get(r){const i=this.__v_raw,o=st(i),a=st(r);t||(Hr(r,a)&&un(o,"get",r),un(o,"get",a));const{has:l}=Ll(o),c=e?xf:t?Cf:fn;if(l.call(o,r))return c(i.get(r));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&un(st(r),"iterate",Di),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=st(i),a=st(r);return t||(Hr(r,a)&&un(o,"has",r),un(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=st(a),c=e?xf:t?Cf:fn;return!t&&un(l,"iterate",Di),a.forEach((u,f)=>r.call(i,c(u),c(f),o))}};return Xt(n,t?{add:Rl("add"),set:Rl("set"),delete:Rl("delete"),clear:Rl("clear")}:{add(r){!e&&!fs(r)&&!Li(r)&&(r=st(r));const i=st(this);return Ll(i).has.call(i,r)||(i.add(r),ar(i,"add",r,r)),this},set(r,i){!e&&!fs(i)&&!Li(i)&&(i=st(i));const o=st(this),{has:a,get:l}=Ll(o);let c=a.call(o,r);c||(r=st(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,i),c?Hr(i,u)&&ar(o,"set",r,i):ar(o,"add",r,i),this},delete(r){const i=st(this),{has:o,get:a}=Ll(i);let l=o.call(i,r);l||(r=st(r),l=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return l&&ar(i,"delete",r,void 0),c},clear(){const r=st(this),i=r.size!==0,o=r.clear();return i&&ar(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Ub(r,t,e)}),n}function Wh(t,e){const n=zb(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(mt(n,r)&&r in s?n:s,r,i)}const Hb={get:Wh(!1,!1)},Bb={get:Wh(!1,!0)},Wb={get:Wh(!0,!1)};const I0=new WeakMap,D0=new WeakMap,M0=new WeakMap,jb=new WeakMap;function Vb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qb(t){return t.__v_skip||!Object.isExtensible(t)?0:Vb(rb(t))}function Ni(t){return Li(t)?t:jh(t,!1,Yb,Hb,I0)}function x0(t){return jh(t,!1,$b,Bb,D0)}function C0(t){return jh(t,!0,Fb,Wb,M0)}function jh(t,e,n,s,r){if(!kt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=qb(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function ur(t){return Li(t)?ur(t.__v_raw):!!(t&&t.__v_isReactive)}function Li(t){return!!(t&&t.__v_isReadonly)}function fs(t){return!!(t&&t.__v_isShallow)}function Vh(t){return t?!!t.__v_raw:!1}function st(t){const e=t&&t.__v_raw;return e?st(e):t}function qh(t){return!mt(t,"__v_skip")&&Object.isExtensible(t)&&c0(t,"__v_skip",!0),t}const fn=t=>kt(t)?Ni(t):t,Cf=t=>kt(t)?C0(t):t;function Rt(t){return t?t.__v_isRef===!0:!1}function _e(t){return A0(t,!1)}function Da(t){return A0(t,!0)}function A0(t,e){return Rt(t)?t:new Kb(t,e)}class Kb{constructor(e,n){this.dep=new Bh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:st(e),this._value=n?e:fn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||fs(e)||Li(e);e=s?e:st(e),Hr(e,n)&&(this._rawValue=e,this._value=s?e:fn(e),this.dep.trigger())}}function B(t){return Rt(t)?t.value:t}function qs(t){return We(t)?t():B(t)}const Gb={get:(t,e,n)=>e==="__v_raw"?t:B(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Rt(r)&&!Rt(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function N0(t){return ur(t)?t:new Proxy(t,Gb)}function Zb(t){const e=Ue(t)?new Array(t.length):{};for(const n in t)e[n]=Jb(t,n);return e}class Xb{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Cb(st(this._object),this._key)}}function Jb(t,e,n){const s=t[e];return Rt(s)?s:new Xb(t,e,n)}class Qb{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Bh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ha-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&St!==this)return v0(this,!0),!0}get value(){const e=this.dep.track();return T0(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function eT(t,e,n=!1){let s,r;return We(t)?s=t:(s=t.get,r=t.set),new Qb(s,r,n)}const Pl={},Oc=new WeakMap;let mi;function tT(t,e=!1,n=mi){if(n){let s=Oc.get(n);s||Oc.set(n,s=[]),s.push(t)}}function nT(t,e,n=Tt){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=n,c=I=>r?I:fs(I)||r===!1||r===0?lr(I,1):lr(I);let u,f,d,h,y=!1,m=!1;if(Rt(t)?(f=()=>t.value,y=fs(t)):ur(t)?(f=()=>c(t),y=!0):Ue(t)?(m=!0,y=t.some(I=>ur(I)||fs(I)),f=()=>t.map(I=>{if(Rt(I))return I.value;if(ur(I))return c(I);if(We(I))return l?l(I,2):I()})):We(t)?e?f=l?()=>l(t,2):t:f=()=>{if(d){ei();try{d()}finally{ti()}}const I=mi;mi=u;try{return l?l(t,3,[h]):t(h)}finally{mi=I}}:f=Jn,e&&r){const I=f,z=r===!0?1/0:r;f=()=>lr(I(),z)}const p=$h(),b=()=>{u.stop(),p&&p.active&&Rh(p.effects,u)};if(i&&e){const I=e;e=(...z)=>{I(...z),b()}}let O=m?new Array(t.length).fill(Pl):Pl;const E=I=>{if(!(!(u.flags&1)||!u.dirty&&!I))if(e){const z=u.run();if(r||y||(m?z.some((W,C)=>Hr(W,O[C])):Hr(z,O))){d&&d();const W=mi;mi=u;try{const C=[z,O===Pl?void 0:m&&O[0]===Pl?[]:O,h];l?l(e,3,C):e(...C),O=z}finally{mi=W}}}else u.run()};return a&&a(E),u=new y0(f),u.scheduler=o?()=>o(E,!1):E,h=I=>tT(I,!1,u),d=u.onStop=()=>{const I=Oc.get(u);if(I){if(l)l(I,4);else for(const z of I)z();Oc.delete(u)}},e?s?E(!0):O=u.run():o?o(E.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function lr(t,e=1/0,n){if(e<=0||!kt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Rt(t))lr(t.value,e,n);else if(Ue(t))for(let s=0;s<t.length;s++)lr(t[s],e,n);else if(Ph(t)||po(t))t.forEach(s=>{lr(s,e,n)});else if(a0(t)){for(const s in t)lr(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&lr(t[s],e,n)}return t}/**\n* @vue/runtime-core v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/function hl(t,e,n,s){try{return s?t(...s):t()}catch(r){su(r,e,n)}}function Cs(t,e,n,s){if(We(t)){const r=hl(t,e,n,s);return r&&Co(r)&&r.catch(i=>{su(i,e,n)}),r}if(Ue(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Cs(t[i],e,n,s));return r}}function su(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Tt;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,l,c)===!1)return}a=a.parent}if(i){ei(),hl(i,null,10,[t,l,c]),ti();return}}sT(t,n,r,s,o)}function sT(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const _n=[];let Us=-1;const go=[];let Mr=null,ao=0;const L0=Promise.resolve();let Ic=null;function Ws(t){const e=Ic||L0;return t?e.then(this?t.bind(this):t):e}function rT(t){let e=Us+1,n=_n.length;for(;e<n;){const s=e+n>>>1,r=_n[s],i=Wa(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Kh(t){if(!(t.flags&1)){const e=Wa(t),n=_n[_n.length-1];!n||!(t.flags&2)&&e>=Wa(n)?_n.push(t):_n.splice(rT(e),0,t),t.flags|=1,R0()}}function R0(){Ic||(Ic=L0.then(P0))}function iT(t){Ue(t)?go.push(...t):Mr&&t.id===-1?Mr.splice(ao+1,0,t):t.flags&1||(go.push(t),t.flags|=1),R0()}function am(t,e,n=Us+1){for(;n<_n.length;n++){const s=_n[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;_n.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Dc(t){if(go.length){const e=[...new Set(go)].sort((n,s)=>Wa(n)-Wa(s));if(go.length=0,Mr){Mr.push(...e);return}for(Mr=e,ao=0;ao<Mr.length;ao++){const n=Mr[ao];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Mr=null,ao=0}}const Wa=t=>t.id==null?t.flags&2?-1:1/0:t.id;function P0(t){try{for(Us=0;Us<_n.length;Us++){const e=_n[Us];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),hl(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Us<_n.length;Us++){const e=_n[Us];e&&(e.flags&=-2)}Us=-1,_n.length=0,Dc(),Ic=null,(_n.length||go.length)&&P0()}}let Gt=null,Y0=null;function ja(t){const e=Gt;return Gt=t,Y0=t&&t.type.__scopeId||null,e}function Gr(t,e=Gt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&vm(-1);const i=ja(e);let o;try{o=t(...r)}finally{ja(i),s._d&&vm(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function oT(t,e){if(Gt===null)return t;const n=lu(Gt),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=Tt]=e[r];i&&(We(i)&&(i={mounted:i,updated:i}),i.deep&&lr(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Hs(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(ei(),Cs(l,n,8,[t.el,a,t,e]),ti())}}const aT=Symbol("_vte"),F0=t=>t.__isTeleport,xr=Symbol("_leaveCb"),Yl=Symbol("_enterCb");function lT(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ni(()=>{t.isMounted=!0}),q0(()=>{t.isUnmounting=!0}),t}const ts=[Function,Array],$0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ts,onEnter:ts,onAfterEnter:ts,onEnterCancelled:ts,onBeforeLeave:ts,onLeave:ts,onAfterLeave:ts,onLeaveCancelled:ts,onBeforeAppear:ts,onAppear:ts,onAfterAppear:ts,onAppearCancelled:ts},U0=t=>{const e=t.subTree;return e.component?U0(e.component):e},cT={name:"BaseTransition",props:$0,setup(t,{slots:e}){const n=td(),s=lT();return()=>{const r=e.default&&B0(e.default(),!0);if(!r||!r.length)return;const i=z0(r),o=st(t),{mode:a}=o;if(s.isLeaving)return Bu(i);const l=lm(i);if(!l)return Bu(i);let c=Af(l,o,s,n,f=>c=f);l.type!==tn&&Va(l,c);let u=n.subTree&&lm(n.subTree);if(u&&u.type!==tn&&!yi(l,u)&&U0(n).type!==tn){let f=Af(u,o,s,n);if(Va(u,f),a==="out-in"&&l.type!==tn)return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},Bu(i);a==="in-out"&&l.type!==tn?f.delayLeave=(d,h,y)=>{const m=H0(s,u);m[String(u.key)]=u,d[xr]=()=>{h(),d[xr]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{y(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function z0(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==tn){e=n;break}}return e}const uT=cT;function H0(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Af(t,e,n,s,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:y,onLeaveCancelled:m,onBeforeAppear:p,onAppear:b,onAfterAppear:O,onAppearCancelled:E}=e,I=String(t.key),z=H0(n,t),W=(Y,V)=>{Y&&Cs(Y,s,9,V)},C=(Y,V)=>{const se=V[1];W(Y,V),Ue(Y)?Y.every(P=>P.length<=1)&&se():Y.length<=1&&se()},L={mode:o,persisted:a,beforeEnter(Y){let V=l;if(!n.isMounted)if(i)V=p||l;else return;Y[xr]&&Y[xr](!0);const se=z[I];se&&yi(t,se)&&se.el[xr]&&se.el[xr](),W(V,[Y])},enter(Y){let V=c,se=u,P=f;if(!n.isMounted)if(i)V=b||c,se=O||u,P=E||f;else return;let de=!1;const Le=Y[Yl]=Re=>{de||(de=!0,Re?W(P,[Y]):W(se,[Y]),L.delayedLeave&&L.delayedLeave(),Y[Yl]=void 0)};V?C(V,[Y,Le]):Le()},leave(Y,V){const se=String(t.key);if(Y[Yl]&&Y[Yl](!0),n.isUnmounting)return V();W(d,[Y]);let P=!1;const de=Y[xr]=Le=>{P||(P=!0,V(),Le?W(m,[Y]):W(y,[Y]),Y[xr]=void 0,z[se]===t&&delete z[se])};z[se]=t,h?C(h,[Y,de]):de()},clone(Y){const V=Af(Y,e,n,s,r);return r&&r(V),V}};return L}function Bu(t){if(ru(t))return t=Zr(t),t.children=null,t}function lm(t){if(!ru(t))return F0(t.type)&&t.children?z0(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&We(n.default))return n.default()}}function Va(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Va(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function B0(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===gt?(o.patchFlag&128&&r++,s=s.concat(B0(o.children,e,a))):(e||o.type!==tn)&&s.push(a!=null?Zr(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function xt(t,e){return We(t)?Xt({name:t.name},e,{setup:t}):t}function W0(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function qa(t,e,n,s,r=!1){if(Ue(t)){t.forEach((y,m)=>qa(y,e&&(Ue(e)?e[m]:e),n,s,r));return}if(Mi(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&qa(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?lu(s.component):s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Tt?a.refs={}:a.refs,f=a.setupState,d=st(f),h=f===Tt?()=>!1:y=>mt(d,y);if(c!=null&&c!==l&&(wt(c)?(u[c]=null,h(c)&&(f[c]=null)):Rt(c)&&(c.value=null)),We(l))hl(l,a,12,[o,u]);else{const y=wt(l),m=Rt(l);if(y||m){const p=()=>{if(t.f){const b=y?h(l)?f[l]:u[l]:l.value;r?Ue(b)&&Rh(b,i):Ue(b)?b.includes(i)||b.push(i):y?(u[l]=[i],h(l)&&(f[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else y?(u[l]=o,h(l)&&(f[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(p.id=-1,zn(p,n)):p()}}}let cm=!1;const Ji=()=>{cm||(console.error("Hydration completed but contains mismatches."),cm=!0)},fT=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",hT=t=>t.namespaceURI.includes("MathML"),Fl=t=>{if(t.nodeType===1){if(fT(t))return"svg";if(hT(t))return"mathml"}},$l=t=>t.nodeType===8;function dT(t){const{mt:e,p:n,o:{patchProp:s,createText:r,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:c}}=t,u=(E,I)=>{if(!I.hasChildNodes()){n(null,E,I),Dc(),I._vnode=E;return}f(I.firstChild,E,null,null,null),Dc(),I._vnode=E},f=(E,I,z,W,C,L=!1)=>{L=L||!!I.dynamicChildren;const Y=$l(E)&&E.data==="[",V=()=>m(E,I,z,W,C,Y),{type:se,ref:P,shapeFlag:de,patchFlag:Le}=I;let Re=E.nodeType;I.el=E,Le===-2&&(L=!1,I.dynamicChildren=null);let Te=null;switch(se){case Wr:Re!==3?I.children===""?(l(I.el=r(""),o(E),E),Te=E):Te=V():(E.data!==I.children&&(Ji(),E.data=I.children),Te=i(E));break;case tn:O(E)?(Te=i(E),b(I.el=E.content.firstChild,E,z)):Re!==8||Y?Te=V():Te=i(E);break;case vo:if(Y&&(E=i(E),Re=E.nodeType),Re===1||Re===3){Te=E;const Oe=!I.children.length;for(let me=0;me<I.staticCount;me++)Oe&&(I.children+=Te.nodeType===1?Te.outerHTML:Te.data),me===I.staticCount-1&&(I.anchor=Te),Te=i(Te);return Y?i(Te):Te}else V();break;case gt:Y?Te=y(E,I,z,W,C,L):Te=V();break;default:if(de&1)(Re!==1||I.type.toLowerCase()!==E.tagName.toLowerCase())&&!O(E)?Te=V():Te=d(E,I,z,W,C,L);else if(de&6){I.slotScopeIds=C;const Oe=o(E);if(Y?Te=p(E):$l(E)&&E.data==="teleport start"?Te=p(E,E.data,"teleport end"):Te=i(E),e(I,Oe,null,z,W,Fl(Oe),L),Mi(I)&&!I.type.__asyncResolved){let me;Y?(me=ct(gt),me.anchor=Te?Te.previousSibling:Oe.lastChild):me=E.nodeType===3?Qh(""):ct("div"),me.el=E,I.component.subTree=me}}else de&64?Re!==8?Te=V():Te=I.type.hydrate(E,I,z,W,C,L,t,h):de&128&&(Te=I.type.hydrate(E,I,z,W,Fl(o(E)),C,L,t,f))}return P!=null&&qa(P,null,W,I),Te},d=(E,I,z,W,C,L)=>{L=L||!!I.dynamicChildren;const{type:Y,props:V,patchFlag:se,shapeFlag:P,dirs:de,transition:Le}=I,Re=Y==="input"||Y==="option";if(Re||se!==-1){de&&Hs(I,null,z,"created");let Te=!1;if(O(E)){Te=cg(null,Le)&&z&&z.vnode.props&&z.vnode.props.appear;const me=E.content.firstChild;Te&&Le.beforeEnter(me),b(me,E,z),I.el=E=me}if(P&16&&!(V&&(V.innerHTML||V.textContent))){let me=h(E.firstChild,I,E,z,W,C,L);for(;me;){Ul(E,1)||Ji();const je=me;me=me.nextSibling,a(je)}}else if(P&8){let me=I.children;me[0]===`\n`&&(E.tagName==="PRE"||E.tagName==="TEXTAREA")&&(me=me.slice(1)),E.textContent!==me&&(Ul(E,0)||Ji(),E.textContent=I.children)}if(V){if(Re||!L||se&48){const me=E.tagName.includes("-");for(const je in V)(Re&&(je.endsWith("value")||je==="indeterminate")||Wo(je)&&!yo(je)||je[0]==="."||me)&&s(E,je,null,V[je],void 0,z)}else if(V.onClick)s(E,"onClick",null,V.onClick,void 0,z);else if(se&4&&ur(V.style))for(const me in V.style)V.style[me]}let Oe;(Oe=V&&V.onVnodeBeforeMount)&&rs(Oe,z,I),de&&Hs(I,null,z,"beforeMount"),((Oe=V&&V.onVnodeMounted)||de||Te)&&yg(()=>{Oe&&rs(Oe,z,I),Te&&Le.enter(E),de&&Hs(I,null,z,"mounted")},W)}return E.nextSibling},h=(E,I,z,W,C,L,Y)=>{Y=Y||!!I.dynamicChildren;const V=I.children,se=V.length;for(let P=0;P<se;P++){const de=Y?V[P]:V[P]=qn(V[P]),Le=de.type===Wr;E?(Le&&!Y&&P+1<se&&qn(V[P+1]).type===Wr&&(l(r(E.data.slice(de.children.length)),z,i(E)),E.data=de.children),E=f(E,de,W,C,L,Y)):Le&&!de.children?l(de.el=r(""),z):(Ul(z,1)||Ji(),n(null,de,z,null,W,C,Fl(z),L))}return E},y=(E,I,z,W,C,L)=>{const{slotScopeIds:Y}=I;Y&&(C=C?C.concat(Y):Y);const V=o(E),se=h(i(E),I,V,z,W,C,L);return se&&$l(se)&&se.data==="]"?i(I.anchor=se):(Ji(),l(I.anchor=c("]"),V,se),se)},m=(E,I,z,W,C,L)=>{if(Ul(E.parentElement,1)||Ji(),I.el=null,L){const se=p(E);for(;;){const P=i(E);if(P&&P!==se)a(P);else break}}const Y=i(E),V=o(E);return a(E),n(null,I,V,Y,z,W,Fl(V),C),z&&(z.vnode.el=I.el,mg(z,I.el)),Y},p=(E,I="[",z="]")=>{let W=0;for(;E;)if(E=i(E),E&&$l(E)&&(E.data===I&&W++,E.data===z)){if(W===0)return i(E);W--}return E},b=(E,I,z)=>{const W=I.parentNode;W&&W.replaceChild(E,I);let C=z;for(;C;)C.vnode.el===I&&(C.vnode.el=C.subTree.el=E),C=C.parent},O=E=>E.nodeType===1&&E.tagName==="TEMPLATE";return[u,f]}const um="data-allow-mismatch",mT={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ul(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(um);)t=t.parentElement;const n=t&&t.getAttribute(um);if(n==null)return!1;if(n==="")return!0;{const s=n.split(",");return e===0&&s.includes("children")?!0:n.split(",").includes(mT[e])}}fl().requestIdleCallback;fl().cancelIdleCallback;const Mi=t=>!!t.type.__asyncLoader,ru=t=>t.type.__isKeepAlive;function j0(t,e){V0(t,"a",e)}function pT(t,e){V0(t,"da",e)}function V0(t,e,n=nn){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(iu(e,s,n),n){let r=n.parent;for(;r&&r.parent;)ru(r.parent.vnode)&&yT(s,e,n,r),r=r.parent}}function yT(t,e,n,s){const r=iu(e,t,s,!0);ou(()=>{Rh(s[e],r)},n)}function iu(t,e,n=nn,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ei();const a=dl(n),l=Cs(e,n,t,o);return a(),ti(),l});return s?r.unshift(i):r.push(i),i}}const dr=t=>(e,n=nn)=>{(!Ga||t==="sp")&&iu(t,(...s)=>e(...s),n)},gT=dr("bm"),ni=dr("m"),vT=dr("bu"),wT=dr("u"),q0=dr("bum"),ou=dr("um"),bT=dr("sp"),TT=dr("rtg"),kT=dr("rtc");function ET(t,e=nn){iu("ec",t,e)}const ST=Symbol.for("v-ndc");function xi(t,e,n,s){let r;const i=n,o=Ue(t);if(o||wt(t)){const a=o&&ur(t);let l=!1;a&&(l=!fs(t),t=nu(t)),r=new Array(t.length);for(let c=0,u=t.length;c<u;c++)r[c]=e(l?fn(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(kt(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=e(t[u],u,l,i)}}else r=[];return r}function K0(t,e,n={},s,r){if(Gt.ce||Gt.parent&&Mi(Gt.parent)&&Gt.parent.ce)return ze(),pn(gt,null,[ct("slot",n,s)],64);let i=t[e];i&&i._c&&(i._d=!1),ze();const o=i&&G0(i(n)),a=n.key||o&&o.key,l=pn(gt,{key:(a&&!xs(a)?a:`_${e}`)+""},o||[],o&&t._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function G0(t){return t.some(e=>Ao(e)?!(e.type===tn||e.type===gt&&!G0(e.children)):!0)?t:null}function _T(t,e){const n={};for(const s in t)n[/[A-Z]/.test(s)?`on:${s}`:oc(s)]=t[s];return n}const Nf=t=>t?bg(t)?lu(t):Nf(t.parent):null,Ma=Xt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Nf(t.parent),$root:t=>Nf(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>X0(t),$forceUpdate:t=>t.f||(t.f=()=>{Kh(t.update)}),$nextTick:t=>t.n||(t.n=Ws.bind(t.proxy)),$watch:t=>WT.bind(t)}),Wu=(t,e)=>t!==Tt&&!t.__isScriptSetup&&mt(t,e),OT={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Wu(s,e))return o[e]=1,s[e];if(r!==Tt&&mt(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&mt(c,e))return o[e]=3,i[e];if(n!==Tt&&mt(n,e))return o[e]=4,n[e];Lf&&(o[e]=0)}}const u=Ma[e];let f,d;if(u)return e==="$attrs"&&un(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Tt&&mt(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,mt(d,e))return d[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Wu(r,e)?(r[e]=n,!0):s!==Tt&&mt(s,e)?(s[e]=n,!0):mt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Tt&&mt(t,o)||Wu(e,o)||(a=i[0])&&mt(a,o)||mt(s,o)||mt(Ma,o)||mt(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:mt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function fm(t){return Ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Lf=!0;function IT(t){const e=X0(t),n=t.proxy,s=t.ctx;Lf=!1,e.beforeCreate&&hm(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:y,activated:m,deactivated:p,beforeDestroy:b,beforeUnmount:O,destroyed:E,unmounted:I,render:z,renderTracked:W,renderTriggered:C,errorCaptured:L,serverPrefetch:Y,expose:V,inheritAttrs:se,components:P,directives:de,filters:Le}=e;if(c&&DT(c,s,null),o)for(const Oe in o){const me=o[Oe];We(me)&&(s[Oe]=me.bind(n))}if(r){const Oe=r.call(n,n);kt(Oe)&&(t.data=Ni(Oe))}if(Lf=!0,i)for(const Oe in i){const me=i[Oe],je=We(me)?me.bind(n,n):We(me.get)?me.get.bind(n,n):Jn,ae=!We(me)&&We(me.set)?me.set.bind(n):Jn,X=Z({get:je,set:ae});Object.defineProperty(s,Oe,{enumerable:!0,configurable:!0,get:()=>X.value,set:re=>X.value=re})}if(a)for(const Oe in a)Z0(a[Oe],s,n,Oe);if(l){const Oe=We(l)?l.call(n):l;Reflect.ownKeys(Oe).forEach(me=>{ac(me,Oe[me])})}u&&hm(u,t,"c");function Te(Oe,me){Ue(me)?me.forEach(je=>Oe(je.bind(n))):me&&Oe(me.bind(n))}if(Te(gT,f),Te(ni,d),Te(vT,h),Te(wT,y),Te(j0,m),Te(pT,p),Te(ET,L),Te(kT,W),Te(TT,C),Te(q0,O),Te(ou,I),Te(bT,Y),Ue(V))if(V.length){const Oe=t.exposed||(t.exposed={});V.forEach(me=>{Object.defineProperty(Oe,me,{get:()=>n[me],set:je=>n[me]=je})})}else t.exposed||(t.exposed={});z&&t.render===Jn&&(t.render=z),se!=null&&(t.inheritAttrs=se),P&&(t.components=P),de&&(t.directives=de),Y&&W0(t)}function DT(t,e,n=Jn){Ue(t)&&(t=Rf(t));for(const s in t){const r=t[s];let i;kt(r)?"default"in r?i=hs(r.from||s,r.default,!0):i=hs(r.from||s):i=hs(r),Rt(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function hm(t,e,n){Cs(Ue(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Z0(t,e,n,s){let r=s.includes(".")?hg(n,s):()=>n[s];if(wt(t)){const i=e[t];We(i)&&rt(r,i)}else if(We(t))rt(r,t.bind(n));else if(kt(t))if(Ue(t))t.forEach(i=>Z0(i,e,n,s));else{const i=We(t.handler)?t.handler.bind(n):e[t.handler];We(i)&&rt(r,i,t)}}function X0(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>Mc(l,c,o,!0)),Mc(l,e,o)),kt(e)&&i.set(e,l),l}function Mc(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Mc(t,i,n,!0),r&&r.forEach(o=>Mc(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=MT[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const MT={data:dm,props:mm,emits:mm,methods:wa,computed:wa,beforeCreate:vn,created:vn,beforeMount:vn,mounted:vn,beforeUpdate:vn,updated:vn,beforeDestroy:vn,beforeUnmount:vn,destroyed:vn,unmounted:vn,activated:vn,deactivated:vn,errorCaptured:vn,serverPrefetch:vn,components:wa,directives:wa,watch:CT,provide:dm,inject:xT};function dm(t,e){return e?t?function(){return Xt(We(t)?t.call(this,this):t,We(e)?e.call(this,this):e)}:e:t}function xT(t,e){return wa(Rf(t),Rf(e))}function Rf(t){if(Ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function vn(t,e){return t?[...new Set([].concat(t,e))]:e}function wa(t,e){return t?Xt(Object.create(null),t,e):e}function mm(t,e){return t?Ue(t)&&Ue(e)?[...new Set([...t,...e])]:Xt(Object.create(null),fm(t),fm(e??{})):e}function CT(t,e){if(!t)return e;if(!e)return t;const n=Xt(Object.create(null),t);for(const s in e)n[s]=vn(t[s],e[s]);return n}function J0(){return{app:null,config:{isNativeTag:nb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let AT=0;function NT(t,e){return function(s,r=null){We(s)||(s=Xt({},s)),r!=null&&!kt(r)&&(r=null);const i=J0(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:AT++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:ik,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&We(u.install)?(o.add(u),u.install(c,...f)):We(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,d){if(!l){const h=c._ceVNode||ct(s,r);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),f&&e?e(h,u):t(h,u,d),l=!0,c._container=u,u.__vue_app__=c,lu(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Cs(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=Ci;Ci=c;try{return u()}finally{Ci=f}}};return c}}let Ci=null;function ac(t,e){if(nn){let n=nn.provides;const s=nn.parent&&nn.parent.provides;s===n&&(n=nn.provides=Object.create(s)),n[t]=e}}function hs(t,e,n=!1){const s=nn||Gt;if(s||Ci){const r=Ci?Ci._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&We(e)?e.call(s&&s.proxy):e}}function Gh(){return!!(nn||Gt||Ci)}const Q0={},eg=()=>Object.create(Q0),tg=t=>Object.getPrototypeOf(t)===Q0;function LT(t,e,n,s=!1){const r={},i=eg();t.propsDefaults=Object.create(null),ng(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:x0(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function RT(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=st(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(au(t.emitsOptions,d))continue;const h=e[d];if(l)if(mt(i,d))h!==i[d]&&(i[d]=h,c=!0);else{const y=Kr(d);r[y]=Pf(l,a,y,h,t,!1)}else h!==i[d]&&(i[d]=h,c=!0)}}}else{ng(t,e,r,i)&&(c=!0);let u;for(const f in a)(!e||!mt(e,f)&&((u=Qr(f))===f||!mt(e,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Pf(l,a,f,void 0,t,!0)):delete r[f]);if(i!==a)for(const f in i)(!e||!mt(e,f))&&(delete i[f],c=!0)}c&&ar(t.attrs,"set","")}function ng(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(yo(l))continue;const c=e[l];let u;r&&mt(r,u=Kr(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:au(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=st(n),c=a||Tt;for(let u=0;u<i.length;u++){const f=i[u];n[f]=Pf(r,l,f,c[f],t,!mt(c,f))}}return o}function Pf(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=mt(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&We(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=dl(r);s=c[n]=l.call(null,e),u()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Qr(n))&&(s=!0))}return s}const PT=new WeakMap;function sg(t,e,n=!1){const s=n?PT:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!We(t)){const u=f=>{l=!0;const[d,h]=sg(f,e,!0);Xt(o,d),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return kt(t)&&s.set(t,mo),mo;if(Ue(i))for(let u=0;u<i.length;u++){const f=Kr(i[u]);pm(f)&&(o[f]=Tt)}else if(i)for(const u in i){const f=Kr(u);if(pm(f)){const d=i[u],h=o[f]=Ue(d)||We(d)?{type:d}:Xt({},d),y=h.type;let m=!1,p=!0;if(Ue(y))for(let b=0;b<y.length;++b){const O=y[b],E=We(O)&&O.name;if(E==="Boolean"){m=!0;break}else E==="String"&&(p=!1)}else m=We(y)&&y.name==="Boolean";h[0]=m,h[1]=p,(m||mt(h,"default"))&&a.push(f)}}const c=[o,a];return kt(t)&&s.set(t,c),c}function pm(t){return t[0]!=="$"&&!yo(t)}const rg=t=>t[0]==="_"||t==="$stable",Zh=t=>Ue(t)?t.map(qn):[qn(t)],YT=(t,e,n)=>{if(e._n)return e;const s=Gr((...r)=>Zh(e(...r)),n);return s._c=!1,s},ig=(t,e,n)=>{const s=t._ctx;for(const r in t){if(rg(r))continue;const i=t[r];if(We(i))e[r]=YT(r,i,s);else if(i!=null){const o=Zh(i);e[r]=()=>o}}},og=(t,e)=>{const n=Zh(e);t.slots.default=()=>n},ag=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},FT=(t,e,n)=>{const s=t.slots=eg();if(t.vnode.shapeFlag&32){const r=e._;r?(ag(s,e,n),n&&c0(s,"_",r,!0)):ig(e,s)}else e&&og(t,e)},$T=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Tt;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:ag(r,e,n):(i=!e.$stable,ig(e,r)),o=e}else e&&(og(t,e),o={default:1});if(i)for(const a in r)!rg(a)&&o[a]==null&&delete r[a]},zn=yg;function UT(t){return lg(t)}function zT(t){return lg(t,dT)}function lg(t,e){const n=fl();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=Jn,insertStaticContent:y}=t,m=(S,w,M,R=null,F=null,j=null,Q=void 0,ue=null,oe=!!w.dynamicChildren)=>{if(S===w)return;S&&!yi(S,w)&&(R=ee(S),re(S,F,j,!0),S=null),w.patchFlag===-2&&(oe=!1,w.dynamicChildren=null);const{type:he,ref:we,shapeFlag:k}=w;switch(he){case Wr:p(S,w,M,R);break;case tn:b(S,w,M,R);break;case vo:S==null&&O(w,M,R,Q);break;case gt:P(S,w,M,R,F,j,Q,ue,oe);break;default:k&1?z(S,w,M,R,F,j,Q,ue,oe):k&6?de(S,w,M,R,F,j,Q,ue,oe):(k&64||k&128)&&he.process(S,w,M,R,F,j,Q,ue,oe,ke)}we!=null&&F&&qa(we,S&&S.ref,j,w||S,!w)},p=(S,w,M,R)=>{if(S==null)s(w.el=a(w.children),M,R);else{const F=w.el=S.el;w.children!==S.children&&c(F,w.children)}},b=(S,w,M,R)=>{S==null?s(w.el=l(w.children||""),M,R):w.el=S.el},O=(S,w,M,R)=>{[S.el,S.anchor]=y(S.children,w,M,R,S.el,S.anchor)},E=({el:S,anchor:w},M,R)=>{let F;for(;S&&S!==w;)F=d(S),s(S,M,R),S=F;s(w,M,R)},I=({el:S,anchor:w})=>{let M;for(;S&&S!==w;)M=d(S),r(S),S=M;r(w)},z=(S,w,M,R,F,j,Q,ue,oe)=>{w.type==="svg"?Q="svg":w.type==="math"&&(Q="mathml"),S==null?W(w,M,R,F,j,Q,ue,oe):Y(S,w,F,j,Q,ue,oe)},W=(S,w,M,R,F,j,Q,ue)=>{let oe,he;const{props:we,shapeFlag:k,transition:g,dirs:v}=S;if(oe=S.el=o(S.type,j,we&&we.is,we),k&8?u(oe,S.children):k&16&&L(S.children,oe,null,R,F,ju(S,j),Q,ue),v&&Hs(S,null,R,"created"),C(oe,S,S.scopeId,Q,R),we){for(const x in we)x!=="value"&&!yo(x)&&i(oe,x,null,we[x],j,R);"value"in we&&i(oe,"value",null,we.value,j),(he=we.onVnodeBeforeMount)&&rs(he,R,S)}v&&Hs(S,null,R,"beforeMount");const T=cg(F,g);T&&g.beforeEnter(oe),s(oe,w,M),((he=we&&we.onVnodeMounted)||T||v)&&zn(()=>{he&&rs(he,R,S),T&&g.enter(oe),v&&Hs(S,null,R,"mounted")},F)},C=(S,w,M,R,F)=>{if(M&&h(S,M),R)for(let j=0;j<R.length;j++)h(S,R[j]);if(F){let j=F.subTree;if(w===j||pg(j.type)&&(j.ssContent===w||j.ssFallback===w)){const Q=F.vnode;C(S,Q,Q.scopeId,Q.slotScopeIds,F.parent)}}},L=(S,w,M,R,F,j,Q,ue,oe=0)=>{for(let he=oe;he<S.length;he++){const we=S[he]=ue?Cr(S[he]):qn(S[he]);m(null,we,w,M,R,F,j,Q,ue)}},Y=(S,w,M,R,F,j,Q)=>{const ue=w.el=S.el;let{patchFlag:oe,dynamicChildren:he,dirs:we}=w;oe|=S.patchFlag&16;const k=S.props||Tt,g=w.props||Tt;let v;if(M&&li(M,!1),(v=g.onVnodeBeforeUpdate)&&rs(v,M,w,S),we&&Hs(w,S,M,"beforeUpdate"),M&&li(M,!0),(k.innerHTML&&g.innerHTML==null||k.textContent&&g.textContent==null)&&u(ue,""),he?V(S.dynamicChildren,he,ue,M,R,ju(w,F),j):Q||me(S,w,ue,null,M,R,ju(w,F),j,!1),oe>0){if(oe&16)se(ue,k,g,M,F);else if(oe&2&&k.class!==g.class&&i(ue,"class",null,g.class,F),oe&4&&i(ue,"style",k.style,g.style,F),oe&8){const T=w.dynamicProps;for(let x=0;x<T.length;x++){const N=T[x],H=k[N],q=g[N];(q!==H||N==="value")&&i(ue,N,H,q,F,M)}}oe&1&&S.children!==w.children&&u(ue,w.children)}else!Q&&he==null&&se(ue,k,g,M,F);((v=g.onVnodeUpdated)||we)&&zn(()=>{v&&rs(v,M,w,S),we&&Hs(w,S,M,"updated")},R)},V=(S,w,M,R,F,j,Q)=>{for(let ue=0;ue<w.length;ue++){const oe=S[ue],he=w[ue],we=oe.el&&(oe.type===gt||!yi(oe,he)||oe.shapeFlag&70)?f(oe.el):M;m(oe,he,we,null,R,F,j,Q,!0)}},se=(S,w,M,R,F)=>{if(w!==M){if(w!==Tt)for(const j in w)!yo(j)&&!(j in M)&&i(S,j,w[j],null,F,R);for(const j in M){if(yo(j))continue;const Q=M[j],ue=w[j];Q!==ue&&j!=="value"&&i(S,j,ue,Q,F,R)}"value"in M&&i(S,"value",w.value,M.value,F)}},P=(S,w,M,R,F,j,Q,ue,oe)=>{const he=w.el=S?S.el:a(""),we=w.anchor=S?S.anchor:a("");let{patchFlag:k,dynamicChildren:g,slotScopeIds:v}=w;v&&(ue=ue?ue.concat(v):v),S==null?(s(he,M,R),s(we,M,R),L(w.children||[],M,we,F,j,Q,ue,oe)):k>0&&k&64&&g&&S.dynamicChildren?(V(S.dynamicChildren,g,M,F,j,Q,ue),(w.key!=null||F&&w===F.subTree)&&ug(S,w,!0)):me(S,w,M,we,F,j,Q,ue,oe)},de=(S,w,M,R,F,j,Q,ue,oe)=>{w.slotScopeIds=ue,S==null?w.shapeFlag&512?F.ctx.activate(w,M,R,Q,oe):Le(w,M,R,F,j,Q,oe):Re(S,w,oe)},Le=(S,w,M,R,F,j,Q)=>{const ue=S.component=wg(S,R,F);if(ru(S)&&(ue.ctx.renderer=ke),Tg(ue,!1,Q),ue.asyncDep){if(F&&F.registerDep(ue,Te,Q),!S.el){const oe=ue.subTree=ct(tn);b(null,oe,w,M)}}else Te(ue,S,w,M,F,j,Q)},Re=(S,w,M)=>{const R=w.component=S.component;if(GT(S,w,M))if(R.asyncDep&&!R.asyncResolved){Oe(R,w,M);return}else R.next=w,R.update();else w.el=S.el,R.vnode=w},Te=(S,w,M,R,F,j,Q)=>{const ue=()=>{if(S.isMounted){let{next:k,bu:g,u:v,parent:T,vnode:x}=S;{const $=fg(S);if($){k&&(k.el=x.el,Oe(S,k,Q)),$.asyncDep.then(()=>{S.isUnmounted||ue()});return}}let N=k,H;li(S,!1),k?(k.el=x.el,Oe(S,k,Q)):k=x,g&&Yu(g),(H=k.props&&k.props.onVnodeBeforeUpdate)&&rs(H,T,k,x),li(S,!0);const q=lc(S),ne=S.subTree;S.subTree=q,m(ne,q,f(ne.el),ee(ne),S,F,j),k.el=q.el,N===null&&mg(S,q.el),v&&zn(v,F),(H=k.props&&k.props.onVnodeUpdated)&&zn(()=>rs(H,T,k,x),F)}else{let k;const{el:g,props:v}=w,{bm:T,m:x,parent:N,root:H,type:q}=S,ne=Mi(w);if(li(S,!1),T&&Yu(T),!ne&&(k=v&&v.onVnodeBeforeMount)&&rs(k,N,w),li(S,!0),g&&G){const $=()=>{S.subTree=lc(S),G(g,S.subTree,S,F,null)};ne&&q.__asyncHydrate?q.__asyncHydrate(g,S,$):$()}else{H.ce&&H.ce._injectChildStyle(q);const $=S.subTree=lc(S);m(null,$,M,R,S,F,j),w.el=$.el}if(x&&zn(x,F),!ne&&(k=v&&v.onVnodeMounted)){const $=w;zn(()=>rs(k,N,$),F)}(w.shapeFlag&256||N&&Mi(N.vnode)&&N.vnode.shapeFlag&256)&&S.a&&zn(S.a,F),S.isMounted=!0,w=M=R=null}};S.scope.on();const oe=S.effect=new y0(ue);S.scope.off();const he=S.update=oe.run.bind(oe),we=S.job=oe.runIfDirty.bind(oe);we.i=S,we.id=S.uid,oe.scheduler=()=>Kh(we),li(S,!0),he()},Oe=(S,w,M)=>{w.component=S;const R=S.vnode.props;S.vnode=w,S.next=null,RT(S,w.props,R,M),$T(S,w.children,M),ei(),am(S),ti()},me=(S,w,M,R,F,j,Q,ue,oe=!1)=>{const he=S&&S.children,we=S?S.shapeFlag:0,k=w.children,{patchFlag:g,shapeFlag:v}=w;if(g>0){if(g&128){ae(he,k,M,R,F,j,Q,ue,oe);return}else if(g&256){je(he,k,M,R,F,j,Q,ue,oe);return}}v&8?(we&16&&yt(he,F,j),k!==he&&u(M,k)):we&16?v&16?ae(he,k,M,R,F,j,Q,ue,oe):yt(he,F,j,!0):(we&8&&u(M,""),v&16&&L(k,M,R,F,j,Q,ue,oe))},je=(S,w,M,R,F,j,Q,ue,oe)=>{S=S||mo,w=w||mo;const he=S.length,we=w.length,k=Math.min(he,we);let g;for(g=0;g<k;g++){const v=w[g]=oe?Cr(w[g]):qn(w[g]);m(S[g],v,M,null,F,j,Q,ue,oe)}he>we?yt(S,F,j,!0,!1,k):L(w,M,R,F,j,Q,ue,oe,k)},ae=(S,w,M,R,F,j,Q,ue,oe)=>{let he=0;const we=w.length;let k=S.length-1,g=we-1;for(;he<=k&&he<=g;){const v=S[he],T=w[he]=oe?Cr(w[he]):qn(w[he]);if(yi(v,T))m(v,T,M,null,F,j,Q,ue,oe);else break;he++}for(;he<=k&&he<=g;){const v=S[k],T=w[g]=oe?Cr(w[g]):qn(w[g]);if(yi(v,T))m(v,T,M,null,F,j,Q,ue,oe);else break;k--,g--}if(he>k){if(he<=g){const v=g+1,T=v<we?w[v].el:R;for(;he<=g;)m(null,w[he]=oe?Cr(w[he]):qn(w[he]),M,T,F,j,Q,ue,oe),he++}}else if(he>g)for(;he<=k;)re(S[he],F,j,!0),he++;else{const v=he,T=he,x=new Map;for(he=T;he<=g;he++){const ie=w[he]=oe?Cr(w[he]):qn(w[he]);ie.key!=null&&x.set(ie.key,he)}let N,H=0;const q=g-T+1;let ne=!1,$=0;const K=new Array(q);for(he=0;he<q;he++)K[he]=0;for(he=v;he<=k;he++){const ie=S[he];if(H>=q){re(ie,F,j,!0);continue}let ge;if(ie.key!=null)ge=x.get(ie.key);else for(N=T;N<=g;N++)if(K[N-T]===0&&yi(ie,w[N])){ge=N;break}ge===void 0?re(ie,F,j,!0):(K[ge-T]=he+1,ge>=$?$=ge:ne=!0,m(ie,w[ge],M,null,F,j,Q,ue,oe),H++)}const te=ne?HT(K):mo;for(N=te.length-1,he=q-1;he>=0;he--){const ie=T+he,ge=w[ie],Ee=ie+1<we?w[ie+1].el:R;K[he]===0?m(null,ge,M,Ee,F,j,Q,ue,oe):ne&&(N<0||he!==te[N]?X(ge,M,Ee,2):N--)}}},X=(S,w,M,R,F=null)=>{const{el:j,type:Q,transition:ue,children:oe,shapeFlag:he}=S;if(he&6){X(S.component.subTree,w,M,R);return}if(he&128){S.suspense.move(w,M,R);return}if(he&64){Q.move(S,w,M,ke);return}if(Q===gt){s(j,w,M);for(let k=0;k<oe.length;k++)X(oe[k],w,M,R);s(S.anchor,w,M);return}if(Q===vo){E(S,w,M);return}if(R!==2&&he&1&&ue)if(R===0)ue.beforeEnter(j),s(j,w,M),zn(()=>ue.enter(j),F);else{const{leave:k,delayLeave:g,afterLeave:v}=ue,T=()=>s(j,w,M),x=()=>{k(j,()=>{T(),v&&v()})};g?g(j,T,x):x()}else s(j,w,M)},re=(S,w,M,R=!1,F=!1)=>{const{type:j,props:Q,ref:ue,children:oe,dynamicChildren:he,shapeFlag:we,patchFlag:k,dirs:g,cacheIndex:v}=S;if(k===-2&&(F=!1),ue!=null&&qa(ue,null,M,S,!0),v!=null&&(w.renderCache[v]=void 0),we&256){w.ctx.deactivate(S);return}const T=we&1&&g,x=!Mi(S);let N;if(x&&(N=Q&&Q.onVnodeBeforeUnmount)&&rs(N,w,S),we&6)ut(S.component,M,R);else{if(we&128){S.suspense.unmount(M,R);return}T&&Hs(S,null,w,"beforeUnmount"),we&64?S.type.remove(S,w,M,ke,R):he&&!he.hasOnce&&(j!==gt||k>0&&k&64)?yt(he,w,M,!1,!0):(j===gt&&k&384||!F&&we&16)&&yt(oe,w,M),R&&Pe(S)}(x&&(N=Q&&Q.onVnodeUnmounted)||T)&&zn(()=>{N&&rs(N,w,S),T&&Hs(S,null,w,"unmounted")},M)},Pe=S=>{const{type:w,el:M,anchor:R,transition:F}=S;if(w===gt){Xe(M,R);return}if(w===vo){I(S);return}const j=()=>{r(M),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(S.shapeFlag&1&&F&&!F.persisted){const{leave:Q,delayLeave:ue}=F,oe=()=>Q(M,j);ue?ue(S.el,j,oe):oe()}else j()},Xe=(S,w)=>{let M;for(;S!==w;)M=d(S),r(S),S=M;r(w)},ut=(S,w,M)=>{const{bum:R,scope:F,job:j,subTree:Q,um:ue,m:oe,a:he}=S;ym(oe),ym(he),R&&Yu(R),F.stop(),j&&(j.flags|=8,re(Q,S,w,M)),ue&&zn(ue,w),zn(()=>{S.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},yt=(S,w,M,R=!1,F=!1,j=0)=>{for(let Q=j;Q<S.length;Q++)re(S[Q],w,M,R,F)},ee=S=>{if(S.shapeFlag&6)return ee(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const w=d(S.anchor||S.el),M=w&&w[aT];return M?d(M):w};let be=!1;const fe=(S,w,M)=>{S==null?w._vnode&&re(w._vnode,null,null,!0):m(w._vnode||null,S,w,null,null,null,M),w._vnode=S,be||(be=!0,am(),Dc(),be=!1)},ke={p:m,um:re,m:X,r:Pe,mt:Le,mc:L,pc:me,pbc:V,n:ee,o:t};let He,G;return e&&([He,G]=e(ke)),{render:fe,hydrate:He,createApp:NT(fe,He)}}function ju({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function li({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function cg(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ug(t,e,n=!1){const s=t.children,r=e.children;if(Ue(s)&&Ue(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Cr(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&ug(o,a)),a.type===Wr&&(a.el=o.el)}}function HT(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function fg(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:fg(e)}function ym(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Xh=Symbol.for("v-scx"),BT=()=>hs(Xh);function Fi(t,e){return Jh(t,null,e)}function rt(t,e,n){return Jh(t,e,n)}function Jh(t,e,n=Tt){const{immediate:s,deep:r,flush:i,once:o}=n,a=Xt({},n),l=e&&s||!e&&i!=="post";let c;if(Ga){if(i==="sync"){const h=BT();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Jn,h.resume=Jn,h.pause=Jn,h}}const u=nn;a.call=(h,y,m)=>Cs(h,u,y,m);let f=!1;i==="post"?a.scheduler=h=>{zn(h,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(h,y)=>{y?h():Kh(h)}),a.augmentJob=h=>{e&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=nT(t,e,a);return Ga&&(c?c.push(d):l&&d()),d}function WT(t,e,n){const s=this.proxy,r=wt(t)?t.includes(".")?hg(s,t):()=>s[t]:t.bind(s,s);let i;We(e)?i=e:(i=e.handler,n=e);const o=dl(this),a=Jh(r,i.bind(s),n);return o(),a}function hg(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const jT=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Kr(e)}Modifiers`]||t[`${Qr(e)}Modifiers`];function VT(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Tt;let r=n;const i=e.startsWith("update:"),o=i&&jT(s,e.slice(7));o&&(o.trim&&(r=n.map(u=>wt(u)?u.trim():u)),o.number&&(r=n.map(ab)));let a,l=s[a=oc(e)]||s[a=oc(Kr(e))];!l&&i&&(l=s[a=oc(Qr(e))]),l&&Cs(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Cs(c,t,6,r)}}function dg(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!We(t)){const l=c=>{const u=dg(c,e,!0);u&&(a=!0,Xt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(kt(t)&&s.set(t,null),null):(Ue(i)?i.forEach(l=>o[l]=null):Xt(o,i),kt(t)&&s.set(t,o),o)}function au(t,e){return!t||!Wo(e)?!1:(e=e.slice(2).replace(/Once$/,""),mt(t,e[0].toLowerCase()+e.slice(1))||mt(t,Qr(e))||mt(t,e))}function lc(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:d,setupState:h,ctx:y,inheritAttrs:m}=t,p=ja(t);let b,O;try{if(n.shapeFlag&4){const I=r||s,z=I;b=qn(c.call(z,I,u,f,h,d,y)),O=a}else{const I=e;b=qn(I.length>1?I(f,{attrs:a,slots:o,emit:l}):I(f,null)),O=e.props?a:qT(a)}}catch(I){xa.length=0,su(I,t,1),b=ct(tn)}let E=b;if(O&&m!==!1){const I=Object.keys(O),{shapeFlag:z}=E;I.length&&z&7&&(i&&I.some(Lh)&&(O=KT(O,i)),E=Zr(E,O,!1,!0))}return n.dirs&&(E=Zr(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&Va(E,n.transition),b=E,ja(p),b}const qT=t=>{let e;for(const n in t)(n==="class"||n==="style"||Wo(n))&&((e||(e={}))[n]=t[n]);return e},KT=(t,e)=>{const n={};for(const s in t)(!Lh(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function GT(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?gm(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==s[d]&&!au(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?gm(s,o,c):!0:!!o;return!1}function gm(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!au(n,i))return!0}return!1}function mg({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const pg=t=>t.__isSuspense;function yg(t,e){e&&e.pendingBranch?Ue(t)?e.effects.push(...t):e.effects.push(t):iT(t)}const gt=Symbol.for("v-fgt"),Wr=Symbol.for("v-txt"),tn=Symbol.for("v-cmt"),vo=Symbol.for("v-stc"),xa=[];let Zn=null;function ze(t=!1){xa.push(Zn=t?null:[])}function ZT(){xa.pop(),Zn=xa[xa.length-1]||null}let Ka=1;function vm(t,e=!1){Ka+=t,t<0&&Zn&&e&&(Zn.hasOnce=!0)}function gg(t){return t.dynamicChildren=Ka>0?Zn||mo:null,ZT(),Ka>0&&Zn&&Zn.push(t),t}function Qe(t,e,n,s,r,i){return gg(Ne(t,e,n,s,r,i,!0))}function pn(t,e,n,s,r){return gg(ct(t,e,n,s,r,!0))}function Ao(t){return t?t.__v_isVNode===!0:!1}function yi(t,e){return t.type===e.type&&t.key===e.key}const vg=({key:t})=>t??null,cc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?wt(t)||Rt(t)||We(t)?{i:Gt,r:t,k:e,f:!!n}:t:null);function Ne(t,e=null,n=null,s=0,r=null,i=t===gt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&vg(e),ref:e&&cc(e),scopeId:Y0,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Gt};return a?(ed(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=wt(n)?8:16),Ka>0&&!o&&Zn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Zn.push(l),l}const ct=XT;function XT(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===ST)&&(t=tn),Ao(t)){const a=Zr(t,e,!0);return n&&ed(a,n),Ka>0&&!i&&Zn&&(a.shapeFlag&6?Zn[Zn.indexOf(t)]=a:Zn.push(a)),a.patchFlag=-2,a}if(rk(t)&&(t=t.__vccOpts),e){e=JT(e);let{class:a,style:l}=e;a&&!wt(a)&&(e.class=xn(a)),kt(l)&&(Vh(l)&&!Ue(l)&&(l=Xt({},l)),e.style=mn(l))}const o=wt(t)?1:pg(t)?128:F0(t)?64:kt(t)?4:We(t)?2:0;return Ne(t,e,n,s,r,o,i,!0)}function JT(t){return t?Vh(t)||tg(t)?Xt({},t):t:null}function Zr(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?Ri(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&vg(c),ref:e&&e.ref?n&&i?Ue(i)?i.concat(cc(e)):[i,cc(e)]:cc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==gt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Zr(t.ssContent),ssFallback:t.ssFallback&&Zr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Va(u,l.clone(u)),u}function Qh(t=" ",e=0){return ct(Wr,null,t,e)}function Yf(t,e){const n=ct(vo,null,t);return n.staticCount=e,n}function Gn(t="",e=!1){return e?(ze(),pn(tn,null,t)):ct(tn,null,t)}function qn(t){return t==null||typeof t=="boolean"?ct(tn):Ue(t)?ct(gt,null,t.slice()):Ao(t)?Cr(t):ct(Wr,null,String(t))}function Cr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Zr(t)}function ed(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Ue(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),ed(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!tg(e)?e._ctx=Gt:r===3&&Gt&&(Gt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else We(e)?(e={default:e,_ctx:Gt},n=32):(e=String(e),s&64?(n=16,e=[Qh(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ri(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=xn([e.class,s.class]));else if(r==="style")e.style=mn([e.style,s.style]);else if(Wo(r)){const i=e[r],o=s[r];o&&i!==o&&!(Ue(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function rs(t,e,n,s=null){Cs(t,e,7,[n,s])}const QT=J0();let ek=0;function wg(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||QT,i={uid:ek++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new d0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sg(s,r),emitsOptions:dg(s,r),emit:null,emitted:null,propsDefaults:Tt,inheritAttrs:s.inheritAttrs,ctx:Tt,data:Tt,props:Tt,attrs:Tt,slots:Tt,refs:Tt,setupState:Tt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=VT.bind(null,i),t.ce&&t.ce(i),i}let nn=null;const td=()=>nn||Gt;let xc,Ff;{const t=fl(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};xc=e("__VUE_INSTANCE_SETTERS__",n=>nn=n),Ff=e("__VUE_SSR_SETTERS__",n=>Ga=n)}const dl=t=>{const e=nn;return xc(t),t.scope.on(),()=>{t.scope.off(),xc(e)}},wm=()=>{nn&&nn.scope.off(),xc(null)};function bg(t){return t.vnode.shapeFlag&4}let Ga=!1;function Tg(t,e=!1,n=!1){e&&Ff(e);const{props:s,children:r}=t.vnode,i=bg(t);LT(t,s,i,e),FT(t,r,n);const o=i?tk(t,e):void 0;return e&&Ff(!1),o}function tk(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,OT);const{setup:s}=n;if(s){ei();const r=t.setupContext=s.length>1?sk(t):null,i=dl(t),o=hl(s,t,0,[t.props,r]),a=Co(o);if(ti(),i(),(a||t.sp)&&!Mi(t)&&W0(t),a){if(o.then(wm,wm),e)return o.then(l=>{bm(t,l)}).catch(l=>{su(l,t,0)});t.asyncDep=o}else bm(t,o)}else kg(t)}function bm(t,e,n){We(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:kt(e)&&(t.setupState=N0(e)),kg(t)}function kg(t,e,n){const s=t.type;t.render||(t.render=s.render||Jn);{const r=dl(t);ei();try{IT(t)}finally{ti(),r()}}}const nk={get(t,e){return un(t,"get",""),t[e]}};function sk(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,nk),slots:t.slots,emit:t.emit,expose:e}}function lu(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(N0(qh(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ma)return Ma[n](t)},has(e,n){return n in e||n in Ma}})):t.proxy}function rk(t){return We(t)&&"__vccOpts"in t}const Z=(t,e)=>eT(t,e,Ga);function cu(t,e,n){const s=arguments.length;return s===2?kt(e)&&!Ue(e)?Ao(e)?ct(t,null,[e]):ct(t,e):ct(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ao(n)&&(n=[n]),ct(t,e,n))}const ik="3.5.13",ok={createComponentInstance:wg,setupComponent:Tg,renderComponentRoot:lc,setCurrentRenderingInstance:ja,isVNode:Ao,normalizeVNode:qn},Eg=ok;/**\n* @vue/runtime-dom v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/let $f;const Tm=typeof window<"u"&&window.trustedTypes;if(Tm)try{$f=Tm.createPolicy("vue",{createHTML:t=>t})}catch{}const Sg=$f?t=>$f.createHTML(t):t=>t,ak="http://www.w3.org/2000/svg",lk="http://www.w3.org/1998/Math/MathML",ir=typeof document<"u"?document:null,km=ir&&ir.createElement("template"),ck={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?ir.createElementNS(ak,t):e==="mathml"?ir.createElementNS(lk,t):n?ir.createElement(t,{is:n}):ir.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>ir.createTextNode(t),createComment:t=>ir.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ir.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{km.innerHTML=Sg(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=km.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},yr="transition",ha="animation",Za=Symbol("_vtc"),_g={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},uk=Xt({},$0,_g),fk=t=>(t.displayName="Transition",t.props=uk,t),hk=fk((t,{slots:e})=>cu(uT,dk(t),e)),ci=(t,e=[])=>{Ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},Em=t=>t?Ue(t)?t.some(e=>e.length>1):t.length>1:!1;function dk(t){const e={};for(const P in t)P in _g||(e[P]=t[P]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,y=mk(r),m=y&&y[0],p=y&&y[1],{onBeforeEnter:b,onEnter:O,onEnterCancelled:E,onLeave:I,onLeaveCancelled:z,onBeforeAppear:W=b,onAppear:C=O,onAppearCancelled:L=E}=e,Y=(P,de,Le,Re)=>{P._enterCancelled=Re,ui(P,de?u:a),ui(P,de?c:o),Le&&Le()},V=(P,de)=>{P._isLeaving=!1,ui(P,f),ui(P,h),ui(P,d),de&&de()},se=P=>(de,Le)=>{const Re=P?C:O,Te=()=>Y(de,P,Le);ci(Re,[de,Te]),Sm(()=>{ui(de,P?l:i),er(de,P?u:a),Em(Re)||_m(de,s,m,Te)})};return Xt(e,{onBeforeEnter(P){ci(b,[P]),er(P,i),er(P,o)},onBeforeAppear(P){ci(W,[P]),er(P,l),er(P,c)},onEnter:se(!1),onAppear:se(!0),onLeave(P,de){P._isLeaving=!0;const Le=()=>V(P,de);er(P,f),P._enterCancelled?(er(P,d),Dm()):(Dm(),er(P,d)),Sm(()=>{P._isLeaving&&(ui(P,f),er(P,h),Em(I)||_m(P,s,p,Le))}),ci(I,[P,Le])},onEnterCancelled(P){Y(P,!1,void 0,!0),ci(E,[P])},onAppearCancelled(P){Y(P,!0,void 0,!0),ci(L,[P])},onLeaveCancelled(P){V(P),ci(z,[P])}})}function mk(t){if(t==null)return null;if(kt(t))return[Vu(t.enter),Vu(t.leave)];{const e=Vu(t);return[e,e]}}function Vu(t){return lb(t)}function er(t,e){e.split(/\\s+/).forEach(n=>n&&t.classList.add(n)),(t[Za]||(t[Za]=new Set)).add(e)}function ui(t,e){e.split(/\\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Za];n&&(n.delete(e),n.size||(t[Za]=void 0))}function Sm(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let pk=0;function _m(t,e,n,s){const r=t._endId=++pk,i=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=yk(t,e);if(!o)return s();const c=o+"end";let u=0;const f=()=>{t.removeEventListener(c,d),i()},d=h=>{h.target===t&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),t.addEventListener(c,d)}function yk(t,e){const n=window.getComputedStyle(t),s=y=>(n[y]||"").split(", "),r=s(`${yr}Delay`),i=s(`${yr}Duration`),o=Om(r,i),a=s(`${ha}Delay`),l=s(`${ha}Duration`),c=Om(a,l);let u=null,f=0,d=0;e===yr?o>0&&(u=yr,f=o,d=i.length):e===ha?c>0&&(u=ha,f=c,d=l.length):(f=Math.max(o,c),u=f>0?o>c?yr:ha:null,d=u?u===yr?i.length:l.length:0);const h=u===yr&&/\\b(transform|all)(,|$)/.test(s(`${yr}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function Om(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Im(n)+Im(t[s])))}function Im(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Dm(){return document.body.offsetHeight}function gk(t,e,n){const s=t[Za];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Cc=Symbol("_vod"),Og=Symbol("_vsh"),Ig={beforeMount(t,{value:e},{transition:n}){t[Cc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):da(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),da(t,!0),s.enter(t)):s.leave(t,()=>{da(t,!1)}):da(t,e))},beforeUnmount(t,{value:e}){da(t,e)}};function da(t,e){t.style.display=e?t[Cc]:"none",t[Og]=!e}function vk(){Ig.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const wk=Symbol(""),bk=/(^|;)\\s*display\\s*:/;function Tk(t,e,n){const s=t.style,r=wt(n);let i=!1;if(n&&!r){if(e)if(wt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&uc(s,a,"")}else for(const o in e)n[o]==null&&uc(s,o,"");for(const o in n)o==="display"&&(i=!0),uc(s,o,n[o])}else if(r){if(e!==n){const o=s[wk];o&&(n+=";"+o),s.cssText=n,i=bk.test(n)}}else e&&t.removeAttribute("style");Cc in t&&(t[Cc]=i?s.display:"",t[Og]&&(s.display="none"))}const Mm=/\\s*!important$/;function uc(t,e,n){if(Ue(n))n.forEach(s=>uc(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=kk(t,e);Mm.test(n)?t.setProperty(Qr(s),n.replace(Mm,""),"important"):t[s]=n}}const xm=["Webkit","Moz","ms"],qu={};function kk(t,e){const n=qu[e];if(n)return n;let s=Kr(e);if(s!=="filter"&&s in t)return qu[e]=s;s=l0(s);for(let r=0;r<xm.length;r++){const i=xm[r]+s;if(i in t)return qu[e]=i}return e}const Cm="http://www.w3.org/1999/xlink";function Am(t,e,n,s,r,i=vb(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Cm,e.slice(6,e.length)):t.setAttributeNS(Cm,e,n):n==null||i&&!Fh(n)?t.removeAttribute(e):t.setAttribute(e,i?"":xs(n)?String(n):n)}function Nm(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Sg(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Fh(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function Ek(t,e,n,s){t.addEventListener(e,n,s)}function Sk(t,e,n,s){t.removeEventListener(e,n,s)}const Lm=Symbol("_vei");function _k(t,e,n,s,r=null){const i=t[Lm]||(t[Lm]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=Ok(e);if(s){const c=i[e]=Mk(s,r);Ek(t,a,c,l)}else o&&(Sk(t,a,o,l),i[e]=void 0)}}const Rm=/(?:Once|Passive|Capture)$/;function Ok(t){let e;if(Rm.test(t)){e={};let s;for(;s=t.match(Rm);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Qr(t.slice(2)),e]}let Ku=0;const Ik=Promise.resolve(),Dk=()=>Ku||(Ik.then(()=>Ku=0),Ku=Date.now());function Mk(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Cs(xk(s,n.value),e,5,[s])};return n.value=t,n.attached=Dk(),n}function xk(t,e){if(Ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Pm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ck=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?gk(t,s,o):e==="style"?Tk(t,n,s):Wo(e)?Lh(e)||_k(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ak(t,e,s,o))?(Nm(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Am(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!wt(s))?Nm(t,Kr(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Am(t,e,s,o))};function Ak(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Pm(e)&&We(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Pm(e)&&wt(n)?!1:e in t}const Nk={},Lk={},Rk={};function Pk(){Nk.getSSRProps=({value:t})=>({value:t}),Rk.getSSRProps=({value:t},e)=>{if(e.props&&tu(e.props.value,t))return{checked:!0}},Lk.getSSRProps=({value:t},e)=>{if(Ue(t)){if(e.props&&Db(t,e.props.value)>-1)return{checked:!0}}else if(Ph(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}}}const Yk=["ctrl","shift","alt","meta"],Fk={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Yk.some(n=>t[`${n}Key`]&&!e.includes(n))},Rn=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=Fk[e[o]];if(a&&a(r,e))return}return t(r,...i)})},Dg=Xt({patchProp:Ck},ck);let Ca,Ym=!1;function $k(){return Ca||(Ca=UT(Dg))}function Uk(){return Ca=Ym?Ca:zT(Dg),Ym=!0,Ca}const Mg=(...t)=>{const e=$k().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Cg(s);if(!r)return;const i=e._component;!We(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,xg(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e},zk=(...t)=>{const e=Uk().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Cg(s);if(r)return n(r,!0,xg(r))},e};function xg(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Cg(t){return wt(t)?document.querySelector(t):t}let Fm=!1;const Hk=()=>{Fm||(Fm=!0,Pk(),vk())};/*!\n * pinia v3.0.2\n * (c) 2025 Eduardo San Martin Morote\n * @license MIT\n */let Ag;const uu=t=>Ag=t,Ng=Symbol();function Uf(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Aa;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Aa||(Aa={}));function Bk(){const t=m0(!0),e=t.run(()=>_e({}));let n=[],s=[];const r=qh({install(i){uu(r),r._a=i,i.provide(Ng,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return this._a?n.push(i):s.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const Lg=()=>{};function $m(t,e,n,s=Lg){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&$h()&&p0(r),r}function Qi(t,...e){t.slice().forEach(n=>{n(...e)})}const Wk=t=>t(),Um=Symbol(),Gu=Symbol();function zf(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Uf(r)&&Uf(s)&&t.hasOwnProperty(n)&&!Rt(s)&&!ur(s)?t[n]=zf(r,s):t[n]=s}return t}const jk=Symbol();function Vk(t){return!Uf(t)||!Object.prototype.hasOwnProperty.call(t,jk)}const{assign:Sr}=Object;function qk(t){return!!(Rt(t)&&t.effect)}function Kk(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=r?r():{});const u=Zb(n.state.value[t]);return Sr(u,i,Object.keys(o||{}).reduce((f,d)=>(f[d]=qh(Z(()=>{uu(n);const h=n._s.get(t);return o[d].call(h,h)})),f),{}))}return l=Rg(t,c,e,n,s,!0),l}function Rg(t,e,n={},s,r,i){let o;const a=Sr({actions:{}},n),l={deep:!0};let c,u,f=[],d=[],h;const y=s.state.value[t];!i&&!y&&(s.state.value[t]={}),_e({});let m;function p(L){let Y;c=u=!1,typeof L=="function"?(L(s.state.value[t]),Y={type:Aa.patchFunction,storeId:t,events:h}):(zf(s.state.value[t],L),Y={type:Aa.patchObject,payload:L,storeId:t,events:h});const V=m=Symbol();Ws().then(()=>{m===V&&(c=!0)}),u=!0,Qi(f,Y,s.state.value[t])}const b=i?function(){const{state:Y}=n,V=Y?Y():{};this.$patch(se=>{Sr(se,V)})}:Lg;function O(){o.stop(),f=[],d=[],s._s.delete(t)}const E=(L,Y="")=>{if(Um in L)return L[Gu]=Y,L;const V=function(){uu(s);const se=Array.from(arguments),P=[],de=[];function Le(Oe){P.push(Oe)}function Re(Oe){de.push(Oe)}Qi(d,{args:se,name:V[Gu],store:z,after:Le,onError:Re});let Te;try{Te=L.apply(this&&this.$id===t?this:z,se)}catch(Oe){throw Qi(de,Oe),Oe}return Te instanceof Promise?Te.then(Oe=>(Qi(P,Oe),Oe)).catch(Oe=>(Qi(de,Oe),Promise.reject(Oe))):(Qi(P,Te),Te)};return V[Um]=!0,V[Gu]=Y,V},I={_p:s,$id:t,$onAction:$m.bind(null,d),$patch:p,$reset:b,$subscribe(L,Y={}){const V=$m(f,L,Y.detached,()=>se()),se=o.run(()=>rt(()=>s.state.value[t],P=>{(Y.flush==="sync"?u:c)&&L({storeId:t,type:Aa.direct,events:h},P)},Sr({},l,Y)));return V},$dispose:O},z=Ni(I);s._s.set(t,z);const C=(s._a&&s._a.runWithContext||Wk)(()=>s._e.run(()=>(o=m0()).run(()=>e({action:E}))));for(const L in C){const Y=C[L];if(Rt(Y)&&!qk(Y)||ur(Y))i||(y&&Vk(Y)&&(Rt(Y)?Y.value=y[L]:zf(Y,y[L])),s.state.value[t][L]=Y);else if(typeof Y=="function"){const V=E(Y,L);C[L]=V,a.actions[L]=Y}}return Sr(z,C),Sr(st(z),C),Object.defineProperty(z,"$state",{get:()=>s.state.value[t],set:L=>{p(Y=>{Sr(Y,L)})}}),s._p.forEach(L=>{Sr(z,o.run(()=>L({store:z,app:s._a,pinia:s,options:a})))}),y&&i&&n.hydrate&&n.hydrate(z.$state,y),c=!0,u=!0,z}/*! #__NO_SIDE_EFFECTS__ */function si(t,e,n){let s;const r=typeof e=="function";s=r?n:e;function i(o,a){const l=Gh();return o=o||(l?hs(Ng,null):null),o&&uu(o),o=Ag,o._s.has(t)||(r?Rg(t,e,s,o):Kk(t,s,o)),o._s.get(t)}return i.$id=t,i}const jo=(t,e)=>!t||!e?!1:t.join(",")===e.join(",");class $i extends Error{}class Gk extends $i{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Zk extends $i{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Xk extends $i{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class co extends $i{}class Pg extends $i{constructor(e){super(`Invalid unit ${e}`)}}class on extends $i{}class gr extends $i{constructor(){super("Zone is an abstract class")}}const Ie="numeric",As="short",Qn="long",Ac={year:Ie,month:Ie,day:Ie},Yg={year:Ie,month:As,day:Ie},Jk={year:Ie,month:As,day:Ie,weekday:As},Fg={year:Ie,month:Qn,day:Ie},$g={year:Ie,month:Qn,day:Ie,weekday:Qn},Ug={hour:Ie,minute:Ie},zg={hour:Ie,minute:Ie,second:Ie},Hg={hour:Ie,minute:Ie,second:Ie,timeZoneName:As},Bg={hour:Ie,minute:Ie,second:Ie,timeZoneName:Qn},Wg={hour:Ie,minute:Ie,hourCycle:"h23"},jg={hour:Ie,minute:Ie,second:Ie,hourCycle:"h23"},Vg={hour:Ie,minute:Ie,second:Ie,hourCycle:"h23",timeZoneName:As},qg={hour:Ie,minute:Ie,second:Ie,hourCycle:"h23",timeZoneName:Qn},Kg={year:Ie,month:Ie,day:Ie,hour:Ie,minute:Ie},Gg={year:Ie,month:Ie,day:Ie,hour:Ie,minute:Ie,second:Ie},Zg={year:Ie,month:As,day:Ie,hour:Ie,minute:Ie},Xg={year:Ie,month:As,day:Ie,hour:Ie,minute:Ie,second:Ie},Qk={year:Ie,month:As,day:Ie,weekday:As,hour:Ie,minute:Ie},Jg={year:Ie,month:Qn,day:Ie,hour:Ie,minute:Ie,timeZoneName:As},Qg={year:Ie,month:Qn,day:Ie,hour:Ie,minute:Ie,second:Ie,timeZoneName:As},ev={year:Ie,month:Qn,day:Ie,weekday:Qn,hour:Ie,minute:Ie,timeZoneName:Qn},tv={year:Ie,month:Qn,day:Ie,weekday:Qn,hour:Ie,minute:Ie,second:Ie,timeZoneName:Qn};class ml{get type(){throw new gr}get name(){throw new gr}get ianaName(){return this.name}get isUniversal(){throw new gr}offsetName(e,n){throw new gr}formatOffset(e,n){throw new gr}offset(e){throw new gr}equals(e){throw new gr}get isValid(){throw new gr}}let Zu=null;class pl extends ml{static get instance(){return Zu===null&&(Zu=new pl),Zu}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:s}){return hv(e,n,s)}formatOffset(e,n){return Na(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const Hf=new Map;function eE(t){let e=Hf.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),Hf.set(t,e)),e}const tE={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function nE(t,e){const n=t.format(e).replace(/\\u200E/g,""),s=/(\\d+)\\/(\\d+)\\/(\\d+) (AD|BC),? (\\d+):(\\d+):(\\d+)/.exec(n),[,r,i,o,a,l,c,u]=s;return[o,r,i,a,l,c,u]}function sE(t,e){const n=t.formatToParts(e),s=[];for(let r=0;r<n.length;r++){const{type:i,value:o}=n[r],a=tE[i];i==="era"?s[a]=o:Be(a)||(s[a]=parseInt(o,10))}return s}const Xu=new Map;class hr extends ml{static create(e){let n=Xu.get(e);return n===void 0&&Xu.set(e,n=new hr(e)),n}static resetCache(){Xu.clear(),Hf.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=hr.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:s}){return hv(e,n,s,this.name)}formatOffset(e,n){return Na(this.offset(e),n)}offset(e){if(!this.valid)return NaN;const n=new Date(e);if(isNaN(n))return NaN;const s=eE(this.name);let[r,i,o,a,l,c,u]=s.formatToParts?sE(s,n):nE(s,n);a==="BC"&&(r=-Math.abs(r)+1);const d=hu({year:r,month:i,day:o,hour:l===24?0:l,minute:c,second:u,millisecond:0});let h=+n;const y=h%1e3;return h-=y>=0?y:1e3+y,(d-h)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let zm={};function rE(t,e={}){const n=JSON.stringify([t,e]);let s=zm[n];return s||(s=new Intl.ListFormat(t,e),zm[n]=s),s}const Bf=new Map;function Wf(t,e={}){const n=JSON.stringify([t,e]);let s=Bf.get(n);return s===void 0&&(s=new Intl.DateTimeFormat(t,e),Bf.set(n,s)),s}const jf=new Map;function iE(t,e={}){const n=JSON.stringify([t,e]);let s=jf.get(n);return s===void 0&&(s=new Intl.NumberFormat(t,e),jf.set(n,s)),s}const Vf=new Map;function oE(t,e={}){const{base:n,...s}=e,r=JSON.stringify([t,s]);let i=Vf.get(r);return i===void 0&&(i=new Intl.RelativeTimeFormat(t,e),Vf.set(r,i)),i}let ba=null;function aE(){return ba||(ba=new Intl.DateTimeFormat().resolvedOptions().locale,ba)}const qf=new Map;function nv(t){let e=qf.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),qf.set(t,e)),e}const Kf=new Map;function lE(t){let e=Kf.get(t);if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,"minimalDays"in e||(e={...sv,...e}),Kf.set(t,e)}return e}function cE(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let s,r;try{s=Wf(t).resolvedOptions(),r=t}catch{const l=t.substring(0,n);s=Wf(l).resolvedOptions(),r=l}const{numberingSystem:i,calendar:o}=s;return[r,i,o]}}function uE(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function fE(t){const e=[];for(let n=1;n<=12;n++){const s=ce.utc(2009,n,1);e.push(t(s))}return e}function hE(t){const e=[];for(let n=1;n<=7;n++){const s=ce.utc(2016,11,13+n);e.push(t(s))}return e}function zl(t,e,n,s){const r=t.listingMode();return r==="error"?null:r==="en"?n(e):s(e)}function dE(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||nv(t.locale).numberingSystem==="latn"}class mE{constructor(e,n,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:r,floor:i,...o}=s;if(!n||Object.keys(o).length>0){const a={useGrouping:!1,...s};s.padTo>0&&(a.minimumIntegerDigits=s.padTo),this.inf=iE(e,a)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):od(e,3);return Ht(n,this.padTo)}}}class pE{constructor(e,n,s){this.opts=s,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&hr.create(a).valid?(r=a,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||r,this.dtf=Wf(n,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:s}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class yE{constructor(e,n,s){this.opts={style:"long",...s},!n&&uv()&&(this.rtf=oE(e,s))}format(e,n){return this.rtf?this.rtf.format(e,n):FE(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const sv={firstDay:1,minimalDays:4,weekend:[6,7]};class pt{static fromOpts(e){return pt.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,s,r,i=!1){const o=e||At.defaultLocale,a=o||(i?"en-US":aE()),l=n||At.defaultNumberingSystem,c=s||At.defaultOutputCalendar,u=Zf(r)||At.defaultWeekSettings;return new pt(a,l,c,u,o)}static resetCache(){ba=null,Bf.clear(),jf.clear(),Vf.clear(),qf.clear(),Kf.clear()}static fromObject({locale:e,numberingSystem:n,outputCalendar:s,weekSettings:r}={}){return pt.create(e,n,s,r)}constructor(e,n,s,r,i){const[o,a,l]=cE(e);this.locale=o,this.numberingSystem=n||a||null,this.outputCalendar=s||l||null,this.weekSettings=r,this.intl=uE(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=dE(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:pt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Zf(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return zl(this,e,pv,()=>{const s=n?{month:e,day:"numeric"}:{month:e},r=n?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=fE(i=>this.extract(i,s,"month"))),this.monthsCache[r][e]})}weekdays(e,n=!1){return zl(this,e,vv,()=>{const s=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=n?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=hE(i=>this.extract(i,s,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return zl(this,void 0,()=>wv,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ce.utc(2016,11,13,9),ce.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return zl(this,e,bv,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[ce.utc(-40,1,1),ce.utc(2017,1,1)].map(s=>this.extract(s,n,"era"))),this.eraCache[e]})}extract(e,n,s){const r=this.dtFormatter(e,n),i=r.formatToParts(),o=i.find(a=>a.type.toLowerCase()===s);return o?o.value:null}numberFormatter(e={}){return new mE(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new pE(e,this.intl,n)}relFormatter(e={}){return new yE(this.intl,this.isEnglish(),e)}listFormatter(e={}){return rE(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||nv(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:fv()?lE(this.locale):sv}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Ju=null;class Dn extends ml{static get utcInstance(){return Ju===null&&(Ju=new Dn(0)),Ju}static instance(e){return e===0?Dn.utcInstance:new Dn(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\\d{1,2})(?::(\\d{2}))?)?$/i);if(n)return new Dn(du(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Na(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Na(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Na(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class gE extends ml{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Rr(t,e){if(Be(t)||t===null)return e;if(t instanceof ml)return t;if(EE(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?pl.instance:n==="utc"||n==="gmt"?Dn.utcInstance:Dn.parseSpecifier(n)||hr.create(t)}else return jr(t)?Dn.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new gE(t)}const nd={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\\\d"},Hm={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},vE=nd.hanidec.replace(/[\\[|\\]]/g,"").split("");function wE(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(t[n].search(nd.hanidec)!==-1)e+=vE.indexOf(t[n]);else for(const r in Hm){const[i,o]=Hm[r];s>=i&&s<=o&&(e+=s-i)}}return parseInt(e,10)}else return e}const Gf=new Map;function bE(){Gf.clear()}function ys({numberingSystem:t},e=""){const n=t||"latn";let s=Gf.get(n);s===void 0&&(s=new Map,Gf.set(n,s));let r=s.get(e);return r===void 0&&(r=new RegExp(`${nd[n]}${e}`),s.set(e,r)),r}let Bm=()=>Date.now(),Wm="system",jm=null,Vm=null,qm=null,Km=60,Gm,Zm=null;class At{static get now(){return Bm}static set now(e){Bm=e}static set defaultZone(e){Wm=e}static get defaultZone(){return Rr(Wm,pl.instance)}static get defaultLocale(){return jm}static set defaultLocale(e){jm=e}static get defaultNumberingSystem(){return Vm}static set defaultNumberingSystem(e){Vm=e}static get defaultOutputCalendar(){return qm}static set defaultOutputCalendar(e){qm=e}static get defaultWeekSettings(){return Zm}static set defaultWeekSettings(e){Zm=Zf(e)}static get twoDigitCutoffYear(){return Km}static set twoDigitCutoffYear(e){Km=e%100}static get throwOnInvalid(){return Gm}static set throwOnInvalid(e){Gm=e}static resetCaches(){pt.resetCache(),hr.resetCache(),ce.resetCache(),bE()}}class Ds{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const rv=[0,31,59,90,120,151,181,212,243,273,304,334],iv=[0,31,60,91,121,152,182,213,244,274,305,335];function cs(t,e){return new Ds("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function sd(t,e,n){const s=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const r=s.getUTCDay();return r===0?7:r}function ov(t,e,n){return n+(yl(t)?iv:rv)[e-1]}function av(t,e){const n=yl(t)?iv:rv,s=n.findIndex(i=>i<e),r=e-n[s];return{month:s+1,day:r}}function rd(t,e){return(t-e+7)%7+1}function Xa(t,e=4,n=1){const{year:s,month:r,day:i}=t,o=ov(s,r,i),a=rd(sd(s,r,i),n);let l=Math.floor((o-a+14-e)/7),c;return l<1?(c=s-1,l=Ja(c,e,n)):l>Ja(s,e,n)?(c=s+1,l=1):c=s,{weekYear:c,weekNumber:l,weekday:a,...mu(t)}}function Xm(t,e=4,n=1){const{weekYear:s,weekNumber:r,weekday:i}=t,o=rd(sd(s,1,e),n),a=wo(s);let l=r*7+i-o-7+e,c;l<1?(c=s-1,l+=wo(c)):l>a?(c=s+1,l-=wo(s)):c=s;const{month:u,day:f}=av(c,l);return{year:c,month:u,day:f,...mu(t)}}function Qu(t){const{year:e,month:n,day:s}=t,r=ov(e,n,s);return{year:e,ordinal:r,...mu(t)}}function Jm(t){const{year:e,ordinal:n}=t,{month:s,day:r}=av(e,n);return{year:e,month:s,day:r,...mu(t)}}function Qm(t,e){if(!Be(t.localWeekday)||!Be(t.localWeekNumber)||!Be(t.localWeekYear)){if(!Be(t.weekday)||!Be(t.weekNumber)||!Be(t.weekYear))throw new co("Cannot mix locale-based week fields with ISO-based week fields");return Be(t.localWeekday)||(t.weekday=t.localWeekday),Be(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Be(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function TE(t,e=4,n=1){const s=fu(t.weekYear),r=us(t.weekNumber,1,Ja(t.weekYear,e,n)),i=us(t.weekday,1,7);return s?r?i?!1:cs("weekday",t.weekday):cs("week",t.weekNumber):cs("weekYear",t.weekYear)}function kE(t){const e=fu(t.year),n=us(t.ordinal,1,wo(t.year));return e?n?!1:cs("ordinal",t.ordinal):cs("year",t.year)}function lv(t){const e=fu(t.year),n=us(t.month,1,12),s=us(t.day,1,Nc(t.year,t.month));return e?n?s?!1:cs("day",t.day):cs("month",t.month):cs("year",t.year)}function cv(t){const{hour:e,minute:n,second:s,millisecond:r}=t,i=us(e,0,23)||e===24&&n===0&&s===0&&r===0,o=us(n,0,59),a=us(s,0,59),l=us(r,0,999);return i?o?a?l?!1:cs("millisecond",r):cs("second",s):cs("minute",n):cs("hour",e)}function Be(t){return typeof t>"u"}function jr(t){return typeof t=="number"}function fu(t){return typeof t=="number"&&t%1===0}function EE(t){return typeof t=="string"}function SE(t){return Object.prototype.toString.call(t)==="[object Date]"}function uv(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function fv(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function _E(t){return Array.isArray(t)?t:[t]}function ep(t,e,n){if(t.length!==0)return t.reduce((s,r)=>{const i=[e(r),r];return s&&n(s[0],i[0])===s[0]?s:i},null)[1]}function OE(t,e){return e.reduce((n,s)=>(n[s]=t[s],n),{})}function No(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zf(t){if(t==null)return null;if(typeof t!="object")throw new on("Week settings must be an object");if(!us(t.firstDay,1,7)||!us(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!us(e,1,7)))throw new on("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function us(t,e,n){return fu(t)&&t>=e&&t<=n}function IE(t,e){return t-e*Math.floor(t/e)}function Ht(t,e=2){const n=t<0;let s;return n?s="-"+(""+-t).padStart(e,"0"):s=(""+t).padStart(e,"0"),s}function Ar(t){if(!(Be(t)||t===null||t===""))return parseInt(t,10)}function fi(t){if(!(Be(t)||t===null||t===""))return parseFloat(t)}function id(t){if(!(Be(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function od(t,e,n=!1){const s=10**e;return(n?Math.trunc:Math.round)(t*s)/s}function yl(t){return t%4===0&&(t%100!==0||t%400===0)}function wo(t){return yl(t)?366:365}function Nc(t,e){const n=IE(e-1,12)+1,s=t+(e-n)/12;return n===2?yl(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function hu(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function tp(t,e,n){return-rd(sd(t,1,e),n)+e-1}function Ja(t,e=4,n=1){const s=tp(t,e,n),r=tp(t+1,e,n);return(wo(t)-s+r)/7}function Xf(t){return t>99?t:t>At.twoDigitCutoffYear?1900+t:2e3+t}function hv(t,e,n,s=null){const r=new Date(t),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(i.timeZone=s);const o={timeZoneName:e,...i},a=new Intl.DateTimeFormat(n,o).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function du(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const s=parseInt(e,10)||0,r=n<0||Object.is(n,-0)?-s:s;return n*60+r}function dv(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new on(`Invalid unit value ${t}`);return e}function Lc(t,e){const n={};for(const s in t)if(No(t,s)){const r=t[s];if(r==null)continue;n[e(s)]=dv(r)}return n}function Na(t,e){const n=Math.trunc(Math.abs(t/60)),s=Math.trunc(Math.abs(t%60)),r=t>=0?"+":"-";switch(e){case"short":return`${r}${Ht(n,2)}:${Ht(s,2)}`;case"narrow":return`${r}${n}${s>0?`:${s}`:""}`;case"techie":return`${r}${Ht(n,2)}${Ht(s,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function mu(t){return OE(t,["hour","minute","second","millisecond"])}const DE=["January","February","March","April","May","June","July","August","September","October","November","December"],mv=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ME=["J","F","M","A","M","J","J","A","S","O","N","D"];function pv(t){switch(t){case"narrow":return[...ME];case"short":return[...mv];case"long":return[...DE];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const yv=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],gv=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],xE=["M","T","W","T","F","S","S"];function vv(t){switch(t){case"narrow":return[...xE];case"short":return[...gv];case"long":return[...yv];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const wv=["AM","PM"],CE=["Before Christ","Anno Domini"],AE=["BC","AD"],NE=["B","A"];function bv(t){switch(t){case"narrow":return[...NE];case"short":return[...AE];case"long":return[...CE];default:return null}}function LE(t){return wv[t.hour<12?0:1]}function RE(t,e){return vv(e)[t.weekday-1]}function PE(t,e){return pv(e)[t.month-1]}function YE(t,e){return bv(e)[t.year<0?0:1]}function FE(t,e,n="always",s=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&i){const f=t==="days";switch(e){case 1:return f?"tomorrow":`next ${r[t][0]}`;case-1:return f?"yesterday":`last ${r[t][0]}`;case 0:return f?"today":`this ${r[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=r[t],u=s?l?c[1]:c[2]||c[1]:l?r[t][0]:t;return o?`${a} ${u} ago`:`in ${a} ${u}`}function np(t,e){let n="";for(const s of t)s.literal?n+=s.val:n+=e(s.val);return n}const $E={D:Ac,DD:Yg,DDD:Fg,DDDD:$g,t:Ug,tt:zg,ttt:Hg,tttt:Bg,T:Wg,TT:jg,TTT:Vg,TTTT:qg,f:Kg,ff:Zg,fff:Jg,ffff:ev,F:Gg,FF:Xg,FFF:Qg,FFFF:tv};class dn{static create(e,n={}){return new dn(e,n)}static parseFormat(e){let n=null,s="",r=!1;const i=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="\'"?(s.length>0&&i.push({literal:r||/^\\s+$/.test(s),val:s}),n=null,s="",r=!r):r||a===n?s+=a:(s.length>0&&i.push({literal:/^\\s+$/.test(s),val:s}),s=a,n=a)}return s.length>0&&i.push({literal:r||/^\\s+$/.test(s),val:s}),i}static macroTokenToFormatOpts(e){return $E[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Ht(e,n);const s={...this.opts};return n>0&&(s.padTo=n),this.loc.numberFormatter(s).format(e)}formatDateTimeFromString(e,n){const s=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(h,y)=>this.loc.extract(e,h,y),o=h=>e.isOffsetFixed&&e.offset===0&&h.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,h.format):"",a=()=>s?LE(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(h,y)=>s?PE(e,h):i(y?{month:h}:{month:h,day:"numeric"},"month"),c=(h,y)=>s?RE(e,h):i(y?{weekday:h}:{weekday:h,month:"long",day:"numeric"},"weekday"),u=h=>{const y=dn.macroTokenToFormatOpts(h);return y?this.formatWithSystemDefault(e,y):h},f=h=>s?YE(e,h):i({era:h},"era"),d=h=>{switch(h){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?i({day:"numeric"},"day"):this.num(e.day);case"dd":return r?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?i({month:"numeric"},"month"):this.num(e.month);case"MM":return r?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?i({year:"numeric"},"year"):this.num(e.year);case"yy":return r?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return u(h)}};return np(dn.parseFormat(n),d)}formatDurationFromString(e,n){const s=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=l=>c=>{const u=s(c);return u?this.num(l.get(u),c.length):c},i=dn.parseFormat(n),o=i.reduce((l,{literal:c,val:u})=>c?l:l.concat(u),[]),a=e.shiftTo(...o.map(s).filter(l=>l));return np(i,r(a))}}const Tv=/[A-Za-z_+-]{1,256}(?::?\\/[A-Za-z0-9_+-]{1,256}(?:\\/[A-Za-z0-9_+-]{1,256})?)?/;function Vo(...t){const e=t.reduce((n,s)=>n+s.source,"");return RegExp(`^${e}$`)}function qo(...t){return e=>t.reduce(([n,s,r],i)=>{const[o,a,l]=i(e,r);return[{...n,...o},a||s,l]},[{},null,1]).slice(0,2)}function Ko(t,...e){if(t==null)return[null,null];for(const[n,s]of e){const r=n.exec(t);if(r)return s(r)}return[null,null]}function kv(...t){return(e,n)=>{const s={};let r;for(r=0;r<t.length;r++)s[t[r]]=Ar(e[n+r]);return[s,null,n+r]}}const Ev=/(?:(Z)|([+-]\\d\\d)(?::?(\\d\\d))?)/,UE=`(?:${Ev.source}?(?:\\\\[(${Tv.source})\\\\])?)?`,ad=/(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:[.,](\\d{1,30}))?)?)?/,Sv=RegExp(`${ad.source}${UE}`),ld=RegExp(`(?:T${Sv.source})?`),zE=/([+-]\\d{6}|\\d{4})(?:-?(\\d\\d)(?:-?(\\d\\d))?)?/,HE=/(\\d{4})-?W(\\d\\d)(?:-?(\\d))?/,BE=/(\\d{4})-?(\\d{3})/,WE=kv("weekYear","weekNumber","weekDay"),jE=kv("year","ordinal"),VE=/(\\d{4})-(\\d\\d)-(\\d\\d)/,_v=RegExp(`${ad.source} ?(?:${Ev.source}|(${Tv.source}))?`),qE=RegExp(`(?: ${_v.source})?`);function bo(t,e,n){const s=t[e];return Be(s)?n:Ar(s)}function KE(t,e){return[{year:bo(t,e),month:bo(t,e+1,1),day:bo(t,e+2,1)},null,e+3]}function Go(t,e){return[{hours:bo(t,e,0),minutes:bo(t,e+1,0),seconds:bo(t,e+2,0),milliseconds:id(t[e+3])},null,e+4]}function gl(t,e){const n=!t[e]&&!t[e+1],s=du(t[e+1],t[e+2]),r=n?null:Dn.instance(s);return[{},r,e+3]}function vl(t,e){const n=t[e]?hr.create(t[e]):null;return[{},n,e+1]}const GE=RegExp(`^T?${ad.source}$`),ZE=/^-?P(?:(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)Y)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)W)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)D)?(?:T(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)H)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20})(?:[.,](-?\\d{1,20}))?S)?)?)$/;function XE(t){const[e,n,s,r,i,o,a,l,c]=t,u=e[0]==="-",f=l&&l[0]==="-",d=(h,y=!1)=>h!==void 0&&(y||h&&u)?-h:h;return[{years:d(fi(n)),months:d(fi(s)),weeks:d(fi(r)),days:d(fi(i)),hours:d(fi(o)),minutes:d(fi(a)),seconds:d(fi(l),l==="-0"),milliseconds:d(id(c),f)}]}const JE={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function cd(t,e,n,s,r,i,o){const a={year:e.length===2?Xf(Ar(e)):Ar(e),month:mv.indexOf(n)+1,day:Ar(s),hour:Ar(r),minute:Ar(i)};return o&&(a.second=Ar(o)),t&&(a.weekday=t.length>3?yv.indexOf(t)+1:gv.indexOf(t)+1),a}const QE=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\\d\\d)(\\d\\d)))$/;function eS(t){const[,e,n,s,r,i,o,a,l,c,u,f]=t,d=cd(e,r,s,n,i,o,a);let h;return l?h=JE[l]:c?h=0:h=du(u,f),[d,new Dn(h)]}function tS(t){return t.replace(/\\([^()]*\\)|[\\n\\t]/g," ").replace(/(\\s\\s+)/g," ").trim()}const nS=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d\\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,sS=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\\d\\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,rS=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \\d|\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) (\\d{4})$/;function sp(t){const[,e,n,s,r,i,o,a]=t;return[cd(e,r,s,n,i,o,a),Dn.utcInstance]}function iS(t){const[,e,n,s,r,i,o,a]=t;return[cd(e,a,n,s,r,i,o),Dn.utcInstance]}const oS=Vo(zE,ld),aS=Vo(HE,ld),lS=Vo(BE,ld),cS=Vo(Sv),Ov=qo(KE,Go,gl,vl),uS=qo(WE,Go,gl,vl),fS=qo(jE,Go,gl,vl),hS=qo(Go,gl,vl);function dS(t){return Ko(t,[oS,Ov],[aS,uS],[lS,fS],[cS,hS])}function mS(t){return Ko(tS(t),[QE,eS])}function pS(t){return Ko(t,[nS,sp],[sS,sp],[rS,iS])}function yS(t){return Ko(t,[ZE,XE])}const gS=qo(Go);function vS(t){return Ko(t,[GE,gS])}const wS=Vo(VE,qE),bS=Vo(_v),TS=qo(Go,gl,vl);function kS(t){return Ko(t,[wS,Ov],[bS,TS])}const rp="Invalid Duration",Iv={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},ES={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Iv},ns=146097/400,eo=146097/4800,SS={years:{quarters:4,months:12,weeks:ns/7,days:ns,hours:ns*24,minutes:ns*24*60,seconds:ns*24*60*60,milliseconds:ns*24*60*60*1e3},quarters:{months:3,weeks:ns/28,days:ns/4,hours:ns*24/4,minutes:ns*24*60/4,seconds:ns*24*60*60/4,milliseconds:ns*24*60*60*1e3/4},months:{weeks:eo/7,days:eo,hours:eo*24,minutes:eo*24*60,seconds:eo*24*60*60,milliseconds:eo*24*60*60*1e3},...Iv},wi=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],_S=wi.slice(0).reverse();function vr(t,e,n=!1){const s={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new hn(s)}function Dv(t,e){let n=e.milliseconds??0;for(const s of _S.slice(1))e[s]&&(n+=e[s]*t[s].milliseconds);return n}function ip(t,e){const n=Dv(t,e)<0?-1:1;wi.reduceRight((s,r)=>{if(Be(e[r]))return s;if(s){const i=e[s]*n,o=t[r][s],a=Math.floor(i/o);e[r]+=a*n,e[s]-=a*o*n}return r},null),wi.reduce((s,r)=>{if(Be(e[r]))return s;if(s){const i=e[s]%1;e[s]-=i,e[r]+=i*t[s][r]}return r},null)}function OS(t){const e={};for(const[n,s]of Object.entries(t))s!==0&&(e[n]=s);return e}let hn=class Qt{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let s=n?SS:ES;e.matrix&&(s=e.matrix),this.values=e.values,this.loc=e.loc||pt.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(e,n){return Qt.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new on(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Qt({values:Lc(e,Qt.normalizeUnit),loc:pt.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(jr(e))return Qt.fromMillis(e);if(Qt.isDuration(e))return e;if(typeof e=="object")return Qt.fromObject(e);throw new on(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[s]=yS(e);return s?Qt.fromObject(s,n):Qt.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static fromISOTime(e,n){const[s]=vS(e);return s?Qt.fromObject(s,n):Qt.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new on("need to specify a reason the Duration is invalid");const s=e instanceof Ds?e:new Ds(e,n);if(At.throwOnInvalid)throw new Xk(s);return new Qt({invalid:s})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Pg(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const s={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?dn.create(this.loc,s).formatDurationFromString(this,e):rp}toHuman(e={}){if(!this.isValid)return rp;const n=wi.map(s=>{const r=this.values[s];return Be(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:s.slice(0,-1)}).format(r)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=od(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},ce.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Dv(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=Qt.fromDurationLike(e),s={};for(const r of wi)(No(n.values,r)||No(this.values,r))&&(s[r]=n.get(r)+this.get(r));return vr(this,{values:s},!0)}minus(e){if(!this.isValid)return this;const n=Qt.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const s of Object.keys(this.values))n[s]=dv(e(this.values[s],s));return vr(this,{values:n},!0)}get(e){return this[Qt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Lc(e,Qt.normalizeUnit)};return vr(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:s,matrix:r}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:r,conversionAccuracy:s};return vr(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return ip(this.matrix,e),vr(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=OS(this.normalize().shiftToAll().toObject());return vr(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>Qt.normalizeUnit(o));const n={},s={},r=this.toObject();let i;for(const o of wi)if(e.indexOf(o)>=0){i=o;let a=0;for(const c in s)a+=this.matrix[c][o]*s[c],s[c]=0;jr(r[o])&&(a+=r[o]);const l=Math.trunc(a);n[o]=l,s[o]=(a*1e3-l*1e3)/1e3}else jr(r[o])&&(s[o]=r[o]);for(const o in s)s[o]!==0&&(n[i]+=o===i?s[o]:s[o]/this.matrix[i][o]);return ip(this.matrix,n),vr(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return vr(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(s,r){return s===void 0||s===0?r===void 0||r===0:s===r}for(const s of wi)if(!n(this.values[s],e.values[s]))return!1;return!0}};const to="Invalid Interval";function IS(t,e){return!t||!t.isValid?Ct.invalid("missing or invalid start"):!e||!e.isValid?Ct.invalid("missing or invalid end"):e<t?Ct.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Ct{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new on("need to specify a reason the Interval is invalid");const s=e instanceof Ds?e:new Ds(e,n);if(At.throwOnInvalid)throw new Zk(s);return new Ct({invalid:s})}static fromDateTimes(e,n){const s=ma(e),r=ma(n),i=IS(s,r);return i??new Ct({start:s,end:r})}static after(e,n){const s=hn.fromDurationLike(n),r=ma(e);return Ct.fromDateTimes(r,r.plus(s))}static before(e,n){const s=hn.fromDurationLike(n),r=ma(e);return Ct.fromDateTimes(r.minus(s),r)}static fromISO(e,n){const[s,r]=(e||"").split("/",2);if(s&&r){let i,o;try{i=ce.fromISO(s,n),o=i.isValid}catch{o=!1}let a,l;try{a=ce.fromISO(r,n),l=a.isValid}catch{l=!1}if(o&&l)return Ct.fromDateTimes(i,a);if(o){const c=hn.fromISO(r,n);if(c.isValid)return Ct.after(i,c)}else if(l){const c=hn.fromISO(s,n);if(c.isValid)return Ct.before(a,c)}}return Ct.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const s=this.start.startOf(e,n);let r;return n!=null&&n.useLocaleWeeks?r=this.end.reconfigure({locale:s.locale}):r=this.end,r=r.startOf(e,n),Math.floor(r.diff(s,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?Ct.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(ma).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),s=[];let{s:r}=this,i=0;for(;r<this.e;){const o=n[i]||this.e,a=+o>+this.e?this.e:o;s.push(Ct.fromDateTimes(r,a)),r=a,i+=1}return s}splitBy(e){const n=hn.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s}=this,r=1,i;const o=[];for(;s<this.e;){const a=this.start.plus(n.mapUnits(l=>l*r));i=+a>+this.e?this.e:a,o.push(Ct.fromDateTimes(s,i)),s=i,r+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,s=this.e<e.e?this.e:e.e;return n>=s?null:Ct.fromDateTimes(n,s)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,s=this.e>e.e?this.e:e.e;return Ct.fromDateTimes(n,s)}static merge(e){const[n,s]=e.sort((r,i)=>r.s-i.s).reduce(([r,i],o)=>i?i.overlaps(o)||i.abutsStart(o)?[r,i.union(o)]:[r.concat([i]),o]:[r,o],[[],null]);return s&&n.push(s),n}static xor(e){let n=null,s=0;const r=[],i=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...i),a=o.sort((l,c)=>l.time-c.time);for(const l of a)s+=l.type==="s"?1:-1,s===1?n=l.time:(n&&+n!=+l.time&&r.push(Ct.fromDateTimes(n,l.time)),n=null);return Ct.merge(r)}difference(...e){return Ct.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:to}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Ac,n={}){return this.isValid?dn.create(this.s.loc.clone(n),e).formatInterval(this):to}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:to}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:to}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:to}toFormat(e,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:to}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):hn.invalid(this.invalidReason)}mapEndpoints(e){return Ct.fromDateTimes(e(this.s),e(this.e))}}class Hl{static hasDST(e=At.defaultZone){const n=ce.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return hr.isValidZone(e)}static normalizeZone(e){return Rr(e,At.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||pt.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||pt.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||pt.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:s=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||pt.create(n,s,i)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:s=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||pt.create(n,s,i)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:s=null,locObj:r=null}={}){return(r||pt.create(n,s,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:s=null,locObj:r=null}={}){return(r||pt.create(n,s,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return pt.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return pt.create(n,null,"gregory").eras(e)}static features(){return{relative:uv(),localeWeek:fv()}}}function op(t,e){const n=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=n(e)-n(t);return Math.floor(hn.fromMillis(s).as("days"))}function DS(t,e,n){const s=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const u=op(l,c);return(u-u%7)/7}],["days",op]],r={},i=t;let o,a;for(const[l,c]of s)n.indexOf(l)>=0&&(o=l,r[l]=c(t,e),a=i.plus(r),a>e?(r[l]--,t=i.plus(r),t>e&&(a=t,r[l]--,t=i.plus(r))):t=a);return[t,r,a,o]}function MS(t,e,n,s){let[r,i,o,a]=DS(t,e,n);const l=e-r,c=n.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);c.length===0&&(o<e&&(o=r.plus({[a]:1})),o!==r&&(i[a]=(i[a]||0)+l/(o-r)));const u=hn.fromObject(i,s);return c.length>0?hn.fromMillis(l,s).shiftTo(...c).plus(u):u}const xS="missing Intl.DateTimeFormat.formatToParts support";function ht(t,e=n=>n){return{regex:t,deser:([n])=>e(wE(n))}}const CS=" ",Mv=`[ ${CS}]`,xv=new RegExp(Mv,"g");function AS(t){return t.replace(/\\./g,"\\\\.?").replace(xv,Mv)}function ap(t){return t.replace(/\\./g,"").replace(xv," ").toLowerCase()}function gs(t,e){return t===null?null:{regex:RegExp(t.map(AS).join("|")),deser:([n])=>t.findIndex(s=>ap(n)===ap(s))+e}}function lp(t,e){return{regex:t,deser:([,n,s])=>du(n,s),groups:e}}function Bl(t){return{regex:t,deser:([e])=>e}}function NS(t){return t.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,"\\\\$&")}function LS(t,e){const n=ys(e),s=ys(e,"{2}"),r=ys(e,"{3}"),i=ys(e,"{4}"),o=ys(e,"{6}"),a=ys(e,"{1,2}"),l=ys(e,"{1,3}"),c=ys(e,"{1,6}"),u=ys(e,"{1,9}"),f=ys(e,"{2,4}"),d=ys(e,"{4,6}"),h=p=>({regex:RegExp(NS(p.val)),deser:([b])=>b,literal:!0}),m=(p=>{if(t.literal)return h(p);switch(p.val){case"G":return gs(e.eras("short"),0);case"GG":return gs(e.eras("long"),0);case"y":return ht(c);case"yy":return ht(f,Xf);case"yyyy":return ht(i);case"yyyyy":return ht(d);case"yyyyyy":return ht(o);case"M":return ht(a);case"MM":return ht(s);case"MMM":return gs(e.months("short",!0),1);case"MMMM":return gs(e.months("long",!0),1);case"L":return ht(a);case"LL":return ht(s);case"LLL":return gs(e.months("short",!1),1);case"LLLL":return gs(e.months("long",!1),1);case"d":return ht(a);case"dd":return ht(s);case"o":return ht(l);case"ooo":return ht(r);case"HH":return ht(s);case"H":return ht(a);case"hh":return ht(s);case"h":return ht(a);case"mm":return ht(s);case"m":return ht(a);case"q":return ht(a);case"qq":return ht(s);case"s":return ht(a);case"ss":return ht(s);case"S":return ht(l);case"SSS":return ht(r);case"u":return Bl(u);case"uu":return Bl(a);case"uuu":return ht(n);case"a":return gs(e.meridiems(),0);case"kkkk":return ht(i);case"kk":return ht(f,Xf);case"W":return ht(a);case"WW":return ht(s);case"E":case"c":return ht(n);case"EEE":return gs(e.weekdays("short",!1),1);case"EEEE":return gs(e.weekdays("long",!1),1);case"ccc":return gs(e.weekdays("short",!0),1);case"cccc":return gs(e.weekdays("long",!0),1);case"Z":case"ZZ":return lp(new RegExp(`([+-]${a.source})(?::(${s.source}))?`),2);case"ZZZ":return lp(new RegExp(`([+-]${a.source})(${s.source})?`),2);case"z":return Bl(/[a-z_+-/]{1,256}?/i);case" ":return Bl(/[^\\S\\n\\r]/);default:return h(p)}})(t)||{invalidReason:xS};return m.token=t,m}const RS={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function PS(t,e,n){const{type:s,value:r}=t;if(s==="literal"){const l=/^\\s+$/.test(r);return{literal:!l,val:l?" ":r}}const i=e[s];let o=s;s==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let a=RS[o];if(typeof a=="object"&&(a=a[i]),a)return{literal:!1,val:a}}function YS(t){return[`^${t.map(n=>n.regex).reduce((n,s)=>`${n}(${s.source})`,"")}$`,t]}function FS(t,e,n){const s=t.match(e);if(s){const r={};let i=1;for(const o in n)if(No(n,o)){const a=n[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(s.slice(i,i+l))),i+=l}return[s,r]}else return[s,{}]}function $S(t){const e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,s;return Be(t.z)||(n=hr.create(t.z)),Be(t.Z)||(n||(n=new Dn(t.Z)),s=t.Z),Be(t.q)||(t.M=(t.q-1)*3+1),Be(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Be(t.u)||(t.S=id(t.u)),[Object.keys(t).reduce((i,o)=>{const a=e(o);return a&&(i[a]=t[o]),i},{}),n,s]}let ef=null;function US(){return ef||(ef=ce.fromMillis(1555555555555)),ef}function zS(t,e){if(t.literal)return t;const n=dn.macroTokenToFormatOpts(t.val),s=Lv(n,e);return s==null||s.includes(void 0)?t:s}function Cv(t,e){return Array.prototype.concat(...t.map(n=>zS(n,e)))}class Av{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=Cv(dn.parseFormat(n),e),this.units=this.tokens.map(s=>LS(s,e)),this.disqualifyingUnit=this.units.find(s=>s.invalidReason),!this.disqualifyingUnit){const[s,r]=YS(this.units);this.regex=RegExp(s,"i"),this.handlers=r}}explainFromTokens(e){if(this.isValid){const[n,s]=FS(e,this.regex,this.handlers),[r,i,o]=s?$S(s):[null,null,void 0];if(No(s,"a")&&No(s,"H"))throw new co("Can\'t include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:s,result:r,zone:i,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Nv(t,e,n){return new Av(t,n).explainFromTokens(e)}function HS(t,e,n){const{result:s,zone:r,specificOffset:i,invalidReason:o}=Nv(t,e,n);return[s,r,i,o]}function Lv(t,e){if(!t)return null;const s=dn.create(e,t).dtFormatter(US()),r=s.formatToParts(),i=s.resolvedOptions();return r.map(o=>PS(o,t,i))}const tf="Invalid DateTime",BS=864e13;function Ta(t){return new Ds("unsupported zone",`the zone "${t.name}" is not supported`)}function nf(t){return t.weekData===null&&(t.weekData=Xa(t.c)),t.weekData}function sf(t){return t.localWeekData===null&&(t.localWeekData=Xa(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function hi(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new ce({...n,...e,old:n})}function Rv(t,e,n){let s=t-e*60*1e3;const r=n.offset(s);if(e===r)return[s,e];s-=(r-e)*60*1e3;const i=n.offset(s);return r===i?[s,r]:[t-Math.min(r,i)*60*1e3,Math.max(r,i)]}function Wl(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function fc(t,e,n){return Rv(hu(t),e,n)}function cp(t,e){const n=t.o,s=t.c.year+Math.trunc(e.years),r=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...t.c,year:s,month:r,day:Math.min(t.c.day,Nc(s,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=hn.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=hu(i);let[l,c]=Rv(a,n,t.zone);return o!==0&&(l+=o,c=t.zone.offset(l)),{ts:l,o:c}}function no(t,e,n,s,r,i){const{setZone:o,zone:a}=n;if(t&&Object.keys(t).length!==0||e){const l=e||a,c=ce.fromObject(t,{...n,zone:l,specificOffset:i});return o?c:c.setZone(a)}else return ce.invalid(new Ds("unparsable",`the input "${r}" can\'t be parsed as ${s}`))}function jl(t,e,n=!0){return t.isValid?dn.create(pt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function rf(t,e){const n=t.c.year>9999||t.c.year<0;let s="";return n&&t.c.year>=0&&(s+="+"),s+=Ht(t.c.year,n?6:4),e?(s+="-",s+=Ht(t.c.month),s+="-",s+=Ht(t.c.day)):(s+=Ht(t.c.month),s+=Ht(t.c.day)),s}function up(t,e,n,s,r,i){let o=Ht(t.c.hour);return e?(o+=":",o+=Ht(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=":")):o+=Ht(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=Ht(t.c.second),(t.c.millisecond!==0||!s)&&(o+=".",o+=Ht(t.c.millisecond,3))),r&&(t.isOffsetFixed&&t.offset===0&&!i?o+="Z":t.o<0?(o+="-",o+=Ht(Math.trunc(-t.o/60)),o+=":",o+=Ht(Math.trunc(-t.o%60))):(o+="+",o+=Ht(Math.trunc(t.o/60)),o+=":",o+=Ht(Math.trunc(t.o%60)))),i&&(o+="["+t.zone.ianaName+"]"),o}const Pv={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},WS={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},jS={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Yv=["year","month","day","hour","minute","second","millisecond"],VS=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],qS=["year","ordinal","hour","minute","second","millisecond"];function KS(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Pg(t);return e}function fp(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return KS(t)}}function GS(t){if(ka===void 0&&(ka=At.now()),t.type!=="iana")return t.offset(ka);const e=t.name;let n=Jf.get(e);return n===void 0&&(n=t.offset(ka),Jf.set(e,n)),n}function hp(t,e){const n=Rr(e.zone,At.defaultZone);if(!n.isValid)return ce.invalid(Ta(n));const s=pt.fromObject(e);let r,i;if(Be(t.year))r=At.now();else{for(const l of Yv)Be(t[l])&&(t[l]=Pv[l]);const o=lv(t)||cv(t);if(o)return ce.invalid(o);const a=GS(n);[r,i]=fc(t,a,n)}return new ce({ts:r,zone:n,loc:s,o:i})}function dp(t,e,n){const s=Be(n.round)?!0:n.round,r=(o,a)=>(o=od(o,s||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,a)),i=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return r(i(n.unit),n.unit);for(const o of n.units){const a=i(o);if(Math.abs(a)>=1)return r(a,o)}return r(t>e?-0:0,n.units[n.units.length-1])}function mp(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let ka;const Jf=new Map;let ce=class Mt{constructor(e){const n=e.zone||At.defaultZone;let s=e.invalid||(Number.isNaN(e.ts)?new Ds("invalid input"):null)||(n.isValid?null:Ta(n));this.ts=Be(e.ts)?At.now():e.ts;let r=null,i=null;if(!s)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[r,i]=[e.old.c,e.old.o];else{const a=jr(e.o)&&!e.old?e.o:n.offset(this.ts);r=Wl(this.ts,a),s=Number.isNaN(r.year)?new Ds("invalid input"):null,r=s?null:r,i=s?null:a}this._zone=n,this.loc=e.loc||pt.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}static now(){return new Mt({})}static local(){const[e,n]=mp(arguments),[s,r,i,o,a,l,c]=n;return hp({year:s,month:r,day:i,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,n]=mp(arguments),[s,r,i,o,a,l,c]=n;return e.zone=Dn.utcInstance,hp({year:s,month:r,day:i,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,n={}){const s=SE(e)?e.valueOf():NaN;if(Number.isNaN(s))return Mt.invalid("invalid input");const r=Rr(n.zone,At.defaultZone);return r.isValid?new Mt({ts:s,zone:r,loc:pt.fromObject(n)}):Mt.invalid(Ta(r))}static fromMillis(e,n={}){if(jr(e))return e<-864e13||e>BS?Mt.invalid("Timestamp out of range"):new Mt({ts:e,zone:Rr(n.zone,At.defaultZone),loc:pt.fromObject(n)});throw new on(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(jr(e))return new Mt({ts:e*1e3,zone:Rr(n.zone,At.defaultZone),loc:pt.fromObject(n)});throw new on("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const s=Rr(n.zone,At.defaultZone);if(!s.isValid)return Mt.invalid(Ta(s));const r=pt.fromObject(n),i=Lc(e,fp),{minDaysInFirstWeek:o,startOfWeek:a}=Qm(i,r),l=At.now(),c=Be(n.specificOffset)?s.offset(l):n.specificOffset,u=!Be(i.ordinal),f=!Be(i.year),d=!Be(i.month)||!Be(i.day),h=f||d,y=i.weekYear||i.weekNumber;if((h||u)&&y)throw new co("Can\'t mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&u)throw new co("Can\'t mix ordinal dates with month/day");const m=y||i.weekday&&!h;let p,b,O=Wl(l,c);m?(p=VS,b=WS,O=Xa(O,o,a)):u?(p=qS,b=jS,O=Qu(O)):(p=Yv,b=Pv);let E=!1;for(const V of p){const se=i[V];Be(se)?E?i[V]=b[V]:i[V]=O[V]:E=!0}const I=m?TE(i,o,a):u?kE(i):lv(i),z=I||cv(i);if(z)return Mt.invalid(z);const W=m?Xm(i,o,a):u?Jm(i):i,[C,L]=fc(W,c,s),Y=new Mt({ts:C,zone:s,o:L,loc:r});return i.weekday&&h&&e.weekday!==Y.weekday?Mt.invalid("mismatched weekday",`you can\'t specify both a weekday of ${i.weekday} and a date of ${Y.toISO()}`):Y.isValid?Y:Mt.invalid(Y.invalid)}static fromISO(e,n={}){const[s,r]=dS(e);return no(s,r,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[s,r]=mS(e);return no(s,r,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[s,r]=pS(e);return no(s,r,n,"HTTP",n)}static fromFormat(e,n,s={}){if(Be(e)||Be(n))throw new on("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:i=null}=s,o=pt.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0}),[a,l,c,u]=HS(o,e,n);return u?Mt.invalid(u):no(a,l,s,`format ${n}`,e,c)}static fromString(e,n,s={}){return Mt.fromFormat(e,n,s)}static fromSQL(e,n={}){const[s,r]=kS(e);return no(s,r,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new on("need to specify a reason the DateTime is invalid");const s=e instanceof Ds?e:new Ds(e,n);if(At.throwOnInvalid)throw new Gk(s);return new Mt({invalid:s})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const s=Lv(e,pt.fromObject(n));return s?s.map(r=>r?r.val:null).join(""):null}static expandFormat(e,n={}){return Cv(dn.parseFormat(e),pt.fromObject(n)).map(r=>r.val).join("")}static resetCache(){ka=void 0,Jf.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?nf(this).weekYear:NaN}get weekNumber(){return this.isValid?nf(this).weekNumber:NaN}get weekday(){return this.isValid?nf(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?sf(this).weekday:NaN}get localWeekNumber(){return this.isValid?sf(this).weekNumber:NaN}get localWeekYear(){return this.isValid?sf(this).weekYear:NaN}get ordinal(){return this.isValid?Qu(this.c).ordinal:NaN}get monthShort(){return this.isValid?Hl.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Hl.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Hl.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Hl.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,s=hu(this.c),r=this.zone.offset(s-e),i=this.zone.offset(s+e),o=this.zone.offset(s-r*n),a=this.zone.offset(s-i*n);if(o===a)return[this];const l=s-o*n,c=s-a*n,u=Wl(l,o),f=Wl(c,a);return u.hour===f.hour&&u.minute===f.minute&&u.second===f.second&&u.millisecond===f.millisecond?[hi(this,{ts:l}),hi(this,{ts:c})]:[this]}get isInLeapYear(){return yl(this.year)}get daysInMonth(){return Nc(this.year,this.month)}get daysInYear(){return this.isValid?wo(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ja(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ja(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:s,calendar:r}=dn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:s,outputCalendar:r}}toUTC(e=0,n={}){return this.setZone(Dn.instance(e),n)}toLocal(){return this.setZone(At.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:s=!1}={}){if(e=Rr(e,At.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(n||s){const i=e.offset(this.ts),o=this.toObject();[r]=fc(o,i,e)}return hi(this,{ts:r,zone:e})}else return Mt.invalid(Ta(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:s}={}){const r=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:s});return hi(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Lc(e,fp),{minDaysInFirstWeek:s,startOfWeek:r}=Qm(n,this.loc),i=!Be(n.weekYear)||!Be(n.weekNumber)||!Be(n.weekday),o=!Be(n.ordinal),a=!Be(n.year),l=!Be(n.month)||!Be(n.day),c=a||l,u=n.weekYear||n.weekNumber;if((c||o)&&u)throw new co("Can\'t mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new co("Can\'t mix ordinal dates with month/day");let f;i?f=Xm({...Xa(this.c,s,r),...n},s,r):Be(n.ordinal)?(f={...this.toObject(),...n},Be(n.day)&&(f.day=Math.min(Nc(f.year,f.month),f.day))):f=Jm({...Qu(this.c),...n});const[d,h]=fc(f,this.o,this.zone);return hi(this,{ts:d,o:h})}plus(e){if(!this.isValid)return this;const n=hn.fromDurationLike(e);return hi(this,cp(this,n))}minus(e){if(!this.isValid)return this;const n=hn.fromDurationLike(e).negate();return hi(this,cp(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const s={},r=hn.normalizeUnit(e);switch(r){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break}if(r==="weeks")if(n){const i=this.loc.getStartOfWeek(),{weekday:o}=this;o<i&&(s.weekNumber=this.weekNumber-1),s.weekday=i}else s.weekday=1;if(r==="quarters"){const i=Math.ceil(this.month/3);s.month=(i-1)*3+1}return this.set(s)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?dn.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):tf}toLocaleString(e=Ac,n={}){return this.isValid?dn.create(this.loc.clone(n),e).formatDateTime(this):tf}toLocaleParts(e={}){return this.isValid?dn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:s=!1,includeOffset:r=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=rf(this,o);return a+="T",a+=up(this,o,n,s,r,i),a}toISODate({format:e="extended"}={}){return this.isValid?rf(this,e==="extended"):null}toISOWeekDate(){return jl(this,"kkkk-\'W\'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:s=!0,includePrefix:r=!1,extendedZone:i=!1,format:o="extended"}={}){return this.isValid?(r?"T":"")+up(this,o==="extended",n,e,s,i):null}toRFC2822(){return jl(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return jl(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss \'GMT\'")}toSQLDate(){return this.isValid?rf(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:s=!0}={}){let r="HH:mm:ss.SSS";return(n||e)&&(s&&(r+=" "),n?r+="z":e&&(r+="ZZ")),jl(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():tf}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",s={}){if(!this.isValid||!e.isValid)return hn.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...s},i=_E(n).map(hn.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=MS(a,l,i,r);return o?c.negate():c}diffNow(e="milliseconds",n={}){return this.diff(Mt.now(),e,n)}until(e){return this.isValid?Ct.fromDateTimes(this,e):this}hasSame(e,n,s){if(!this.isValid)return!1;const r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(n,s)<=r&&r<=i.endOf(n,s)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||Mt.fromObject({},{zone:this.zone}),s=e.padding?this<n?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(r=e.unit,i=void 0),dp(n,this.plus(s),{...e,numeric:"always",units:r,unit:i})}toRelativeCalendar(e={}){return this.isValid?dp(e.base||Mt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Mt.isDateTime))throw new on("min requires all arguments be DateTimes");return ep(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(Mt.isDateTime))throw new on("max requires all arguments be DateTimes");return ep(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,s={}){const{locale:r=null,numberingSystem:i=null}=s,o=pt.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return Nv(o,e,n)}static fromStringExplain(e,n,s={}){return Mt.fromFormatExplain(e,n,s)}static buildFormatParser(e,n={}){const{locale:s=null,numberingSystem:r=null}=n,i=pt.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0});return new Av(i,e)}static fromFormatParser(e,n,s={}){if(Be(e)||Be(n))throw new on("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:i=null}=s,o=pt.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});if(!o.equals(n.locale))throw new on(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:u}=n.explainFromTokens(e);return u?Mt.invalid(u):no(a,l,s,`format ${n.format}`,e,c)}static get DATE_SHORT(){return Ac}static get DATE_MED(){return Yg}static get DATE_MED_WITH_WEEKDAY(){return Jk}static get DATE_FULL(){return Fg}static get DATE_HUGE(){return $g}static get TIME_SIMPLE(){return Ug}static get TIME_WITH_SECONDS(){return zg}static get TIME_WITH_SHORT_OFFSET(){return Hg}static get TIME_WITH_LONG_OFFSET(){return Bg}static get TIME_24_SIMPLE(){return Wg}static get TIME_24_WITH_SECONDS(){return jg}static get TIME_24_WITH_SHORT_OFFSET(){return Vg}static get TIME_24_WITH_LONG_OFFSET(){return qg}static get DATETIME_SHORT(){return Kg}static get DATETIME_SHORT_WITH_SECONDS(){return Gg}static get DATETIME_MED(){return Zg}static get DATETIME_MED_WITH_SECONDS(){return Xg}static get DATETIME_MED_WITH_WEEKDAY(){return Qk}static get DATETIME_FULL(){return Jg}static get DATETIME_FULL_WITH_SECONDS(){return Qg}static get DATETIME_HUGE(){return ev}static get DATETIME_HUGE_WITH_SECONDS(){return tv}};function ma(t){if(ce.isDateTime(t))return t;if(t&&t.valueOf&&jr(t.valueOf()))return ce.fromJSDate(t);if(t&&typeof t=="object")return ce.fromObject(t);throw new on(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const Fv=/(milliseconds|ms)/i,$v=/(seconds|second|secs|sec|s)/i,Uv=/(minutes|minute|mins|min)/i,zv=/(hours|hour|h)/i,Hv=/(?:(week\\s*|work\\s*|business\\s*)?(days|day|d))/i,Bv=/(weeks|week|w)/i,Wv=/(months|month)/i,jv=/(years|year|y)/i,Qf=new RegExp(`(\\\\d+\\\\W*)(${Fv.source}|${$v.source}|${Uv.source}|${zv.source}|${Hv.source}|${Bv.source}|${Wv.source}|${jv.source})(?:\\\\s*,\\\\s*|\\\\s*)`,"g"),Vv=/(?:\\W|^)(!\\w+)/,qv=new RegExp(`(by|before|after)?(\\\\s*${Vv.source}\\\\s*)?(?:plus|\\\\+)?\\\\s*(${Qf.source})*`),ZS=/january|february|march|april|may|june|july|august|september|october|november|december/,XS=/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/,ud=new RegExp(`(?:(${ZS.source})|(${XS.source}))`),JS=new RegExp(`(([0-3]?[0-9])\\\\s+${ud.source})`),QS=new RegExp(`(${ud.source}\\\\s+([0-3]?[0-9](?!\\\\d)))`),pu=/((1|2|3|4|5|6|7|8|9|10|11|12)(:\\d{2})?([ap]m)|([012]?[0-9])(:\\d{2})?)/,e_=new RegExp(`(?:(?:${JS.source}|${QS.source}),?(?:\\\\s+(\\\\d{4}),?)?(?:\\\\s+${pu.source})?)|(${ud.source}(?:\\\\s+(\\\\d{1,4}))?)`),t_=/\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2,}(?:\\.\\d*)?Z/,Kv=/now/,n_=new RegExp(`(\\\\d{1,5}(\\\\/\\\\d{1,5}(\\\\/\\\\d{1,5}(?:(?:,|\\\\s)+${pu.source})?)?)?)`),eh=new RegExp(`(${t_.source})|(${Kv.source})|${pu.source}|(${n_.source})|(${qv.source})|${e_.source}`),s_=new RegExp(`(?:(\\\\d+|other)?\\\\s*)(${Fv.source}|${$v.source}|${Uv.source}|${zv.source}|${Hv.source}|${Bv.source}|${Wv.source}|${jv.source})`,"g");new RegExp(`(\\\\s+(?:(?:(?:un)?til)|(?:to)|(?:\\\\|))\\\\s+(${eh.source}))?`);const Gv=new RegExp("\\\\s*every[^:]+"),r_=new RegExp(`((${eh.source})(?:(?:(?:\\\\s*-\\\\s*)|(?:\\\\s+to\\\\s+))(${eh.source}))?)(${Gv.source})?\\\\s*:`),fd=new RegExp(`^(\\\\s*)${r_.source}(.*)`,"i");let le=0;++le;const i_=++le,o_=++le;++le;const a_=++le,l_=++le,c_=++le,u_=++le,f_=++le,h_=++le,d_=++le,m_=++le;++le;++le;++le;const p_=++le,y_=++le,g_=++le,v_=++le,w_=++le,b_=++le,T_=++le,k_=++le;++le;const E_=++le;++le;++le;++le;++le;++le;++le;++le;++le;++le;++le;++le;++le;++le;const S_=++le,__=++le,O_=++le;++le;const I_=++le,D_=++le,M_=++le,x_=++le,C_=++le,A_=++le,N_=++le,L_=++le,R_=++le,P_=++le;++le;const Y_=++le,F_=++le,$_=++le,U_=++le;++le;const z_=++le,H_=++le,B_=++le,W_=++le,j_=++le,V_=++le,q_=++le,K_=++le;++le;++le;++le;const G_=++le,Z_=++le,X_=++le,J_=++le,Q_=++le,eO=++le,tO=++le;++le;++le;const nO=++le;++le;++le;++le;++le;++le;++le;++le;++le;++le;++le;++le;++le;++le;const sO=++le,rO=++le,iO=++le;++le;const oO=++le,aO=++le,lO=++le,cO=++le,uO=++le,fO=++le,hO=++le,dO=++le,mO=++le,pO=++le;++le;const yO=++le,gO=++le,vO=++le,wO=++le,pp=++le,th=/^\\s*\\/\\/.*/,Rc=/(?:^|\\s)#(?!\\d+(?:\\s|$))(\\w+)/g,yu=/^(\\s*)(group|section)(?:\\s|$)/i,Zv=/^(\\s*)end(?:Group|Section)?/i,bO=/^\\s*- .*/,TO=/^\\s*- (\\[(x|X| )?\\]).*/,nh=/^\\s*(\\[(x|X| )?\\]).*/,kO=new RegExp(`(\\\\d{4}(-\\\\d{2}(-\\\\d{2}(?:\\\\s+${pu.source})?)?)?)`),sh=new RegExp(`(?:${kO.source}|(${qv.source})|(${Kv.source}))`);new RegExp(`(\\\\s+(?:(?:(?:un)?til)|(?:to)|(?:\\\\|))\\\\s+${sh.source})?`);const EO=new RegExp(`(${sh.source}(\\\\s*/\\\\s*${sh.source})?)(${Gv.source})?\\\\s*:`),hd=new RegExp(`^(\\\\s*)${EO.source}(.*)`,"i");let Ye=0;++Ye;const SO=++Ye,_O=++Ye,OO=++Ye,IO=++Ye,DO=++Ye,MO=++Ye,xO=++Ye,CO=++Ye,AO=++Ye,NO=++Ye,LO=++Ye,RO=++Ye;++Ye;const PO=++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;const YO=++Ye,FO=++Ye,$O=++Ye,UO=++Ye,zO=++Ye,HO=++Ye,BO=++Ye,WO=++Ye,jO=++Ye,VO=++Ye,qO=++Ye,KO=++Ye,GO=++Ye;++Ye;const ZO=++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;++Ye;const XO=++Ye,JO=++Ye,yp=++Ye,dd=new RegExp("^\\\\s*(\\\\d{1,5})\\\\s?(BCE|BC|AD|CE)?(?:\\\\s?[–-]\\\\s?(\\\\d{1,5})\\\\s?(BCE|BC|AD|CE)?)?(?=\\\\s*:)(.*)","i");let Zo=-1;const QO=++Zo,eI=++Zo,tI=++Zo,nI=++Zo,gp=++Zo,vp=++Zo;function wp(t){return t.startsWith("http://")||t.startsWith("https://")||t.startsWith("/")?t:`http://${t}`}const Lo="M/d/y",sI="d/M/y",rI="M/y",iI="y";class os{static diffFromString(e){const n=e.matchAll(Qf);let s=n.next();const r={};for(;s.value;){const i=s.value,o=parseInt(i[1]);i[3]?r.milliseconds=(r.milliseconds??0)+o:i[4]?r.seconds=(r.seconds??0)+o:i[5]?r.minutes=(r.minutes??0)+o:i[6]?r.hours=(r.hours??0)+o:i[7]||(i[8]?r.days=(r.days??0)+o:i[9]?r.weeks=(r.weeks??0)+o:i[10]?r.months=(r.months??0)+o:i[11]&&(r.years=(r.years??0)+o)),s=n.next()}return r}static from(e,n,s=!1){const r=e.matchAll(Qf);let i=r.next();const o=s?"minus":"plus";for(;i.value;){const a=i.value,l=parseInt(a[1]);a[3]?n=n[o]({milliseconds:l}):a[4]?n=n[o]({seconds:l}):a[5]?n=n[o]({minutes:l}):a[6]?n=n[o]({hours:l}):a[7]?n=s?oI(l,n):aI(l,n):a[8]?n=n[o]({days:l}):a[9]?n=n[o]({weeks:l}):a[10]?n=n[o]({months:l}):a[11]&&(n=n[o]({years:l})),i=r.next()}return n}}function oI(t,e){const n=e.weekday-1,s=t-n;if(s<=0)return e.minus({days:t});const r=2,i=7,o=5,a=n,l=~~(s/o),c=s%o,u=l*i,f=c?r+c:0;return e.minus({days:a+u+f})}function aI(t,e){const r=6-e.weekday,i=t-r;if(i<=0)return e.plus({days:t});{const c=r,u=~~(i/5),f=i%5,d=u*7,h=f?2+f:0;return e.plus({days:c+d+h})}}class Ro{constructor({from:e,to:n,originalString:s,dateRangeInText:r,eventText:i,definition:o,isRelative:a,recurrence:l}){this.fromDateTime=e,this.toDateTime=n,this.originalString=s,this.dateRangeInText=r,this.eventText=i,this.recurrence=l==null?void 0:l.recurrence,this.recurrenceRangeInText=l==null?void 0:l.range,this.definition=o,this.isRelative=a}}const Xv=/\\[([^\\]\\<\\>]+)\\]\\(((https?:\\/\\/)?[\\w\\d./\\&\\?=\\-#:,_]+)\\)/g,lI=/\\[([^\\]]+)\\]\\((location|map)\\)/g,bp=/!\\[([^\\]\\<\\>]*)\\]\\(((https?:\\/\\/)?[\\w\\d./\\&\\?=\\-#:,_]+)\\)/,Jv=/@([\\w\\d\\/]+)/g,cI=/(?:\\s|^)(\\d{1,3})%(?:\\s|$)/;var Pr;(function(t){t.TEXT="text",t.LIST_ITEM="listItem",t.CHECKBOX="checkbox",t.IMAGE="image"})(Pr||(Pr={}));class uI{constructor(e){this.raw=e,e.startsWith("- []")?(this.type=Pr.CHECKBOX,this.value=!1,this.raw=e.substring(4).trim()):e.startsWith("- [ ]")?(this.type=Pr.CHECKBOX,this.value=!1,this.raw=e.substring(5).trim()):e.startsWith("- [x]")?(this.type=Pr.CHECKBOX,this.value=!0,this.raw=e.substring(5).trim()):e.startsWith("- ")?(this.type=Pr.LIST_ITEM,this.raw=e.substring(2)):this.type=Pr.TEXT}}let Tp=class{constructor(e,n){this.type="image",this.altText=e,this.link=n}};class fI{constructor(e,n,s){this.tags=[],this.supplemental=[],this.locations=[],this.matchedListItems=n;for(let r=0;r<e.length;r++){let i=e[r];if(!i.match(th)){if(r===0&&(i=i.replace(bp,(o,a,l)=>(this.supplemental.push(new Tp(a,wp(l))),""))),i=i.replace(lI,(o,a)=>(this.locations.push(a),"")),i=i.replace(Rc,(o,a)=>(this.tags.includes(a)||this.tags.push(a),"")),r===0&&(i=i.replace(Vv,(o,a)=>this.id?a:(this.id=a.substring(1),""))),!this.percent){const o=i.match(cI);o&&(this.percent=parseInt(o[0]))}e[r]=i}}this.eventDescription=e[0],this.supplemental=this.supplemental.concat(e.slice(1).filter(r=>!r.match(th)&&!!r.trim()).map(r=>{r=r.replace(Rc,(o,a)=>(this.tags.includes(a)||this.tags.push(a),""));const i=r.match(bp);return i?new Tp(i[1],wp(i[2])):new uI(r.trim())})),this.completed=s}}var Ke;(function(t){t.Comment="comment",t.CheckboxItemIndicator="checkboxItemIndicator",t.listItemIndicator="listItemIndicator",t.ListItemContents="listItemContents",t.Tag="tag",t.tagDefinition="tagDefinition",t.Title="title",t.View="view",t.Viewer="viewer",t.Description="description",t.Section="section",t.DateRange="dateRange",t.DateRangeColon="dateRangeColon",t.Event="event",t.Edit="edit",t.Editor="editor",t.Recurrence="recurrence",t.FrontmatterDelimiter="frontMatterDelimiter",t.HeaderKey="headerKey",t.HeaderKeyColon="headerKeyColon",t.HeaderValue="headerValue",t.PropertyKey="propertyKey",t.PropertyKeyColon="propertyKeyColon",t.PropertyValue="propertyValue",t.EventDefinition="eventDefinition",t.SectionDefinition="sectionDefinition"})(Ke||(Ke={}));const md=t=>({fromDateTimeIso:t.fromDateTime.toISO(),toDateTimeIso:t.toDateTime.toISO()}),Zt=t=>({fromDateTime:ce.fromISO(t.fromDateTimeIso,{setZone:!0}),toDateTime:ce.fromISO(t.toDateTimeIso,{setZone:!0})});function Yn(t){return!t.children}function hI(t){return!Yn(t)}class pd{constructor(){this.propOrder=[],this.tags=[],this.title="",this.children=[]}}class dI{constructor(e,n,s,r,i,o,a,l){this.firstLine={full:e,datePart:l,rest:r.eventText,restTrimmed:a.eventDescription},this.properties=n,this.propOrder=s,this.textRanges={whole:i,datePart:o,definition:o,recurrence:r.recurrenceRangeInText},this.dateRangeIso=md(r),this.recurrence=r.recurrence,this.tags=a.tags,this.supplemental=a.supplemental,this.matchedListItems=a.matchedListItems,this.id=(typeof n.id=="string"?n.id:void 0)||a.id,this.percent=a.percent,this.completed=a.completed,this.isRelative=r.isRelative}}function mI(){return ce.now(),{events:new pd,ranges:[],foldables:[],ids:{},header:{dateFormat:Lo},parseMessages:[],documentMessages:[]}}const pI=t=>{const e=[];for(const n of Po(t))e.push(n);return e};function*Po(t,e=[]){if(yield{eventy:t,path:e},t&&hI(t))for(let n=0;n<t.children.length;n++)yield*Po(t.children[n],[...e,n])}const Qv=(t,e,n,s)=>{if(!n||!n.length)return e.children.push(t),Yn(t)?{path:[e.children.length-1],tail:t}:{path:[e.children.length-1,t.children.length],tail:s};{const{tail:r,path:i}=Qv(t,e.children[n[0]],n.slice(1),s);return{path:[n[0],...i],tail:r}}},La=(t,e)=>{if(!e.length)return t;const n=t;if(!(!n.children.length||n.children.length-1<e[0]))return La(n.children[e[0]],e.slice(1))};function Xr(t,e,n,s,r,i){const o=t[e],a=t[n]||":00";let l=t[s];if(!l){const f=parseInt(o);isNaN(f)&&(l="am"),f<9||f===12?l="pm":l="am"}if(o)return{dateTimeIso:ce.fromFormat(`${o}${a}${l}`,"h:mma").toISO(),granularity:a===":00"?"hour":"minute"};const c=t[r],u=t[i]||":00";return{dateTimeIso:ce.fromFormat(`${c}${u}`,`${c.length===2&&c[0]==="0"?"HH":"H"}:mm`).toISO(),granularity:u===":00"?"hour":"minute"}}function yI(t){return Xr(t,y_,g_,v_,w_,b_)}function gI(t){return Xr(t,Z_,X_,J_,Q_,eO)}function vI(t){return Xr(t,A_,N_,L_,R_,P_)}function wI(t){return Xr(t,fO,hO,dO,mO,pO)}function kp(t,e,n,s,r,i,o,a,l,c,u,f,d){let h=t[n],y=t[s],m=t[r]||`${e.zonedNow.year}`,p=h&&y&&Ep(`${m} ${h} ${parseInt(y)}`,e);if(h=t[i],p=p||h&&y&&Sp(`${m} ${h} ${parseInt(y)}`,e),y=t[o],h=t[a],p=p||h&&y&&Ep(`${m} ${h} ${parseInt(y)}`,e),h=t[l],p=p||h&&y&&Sp(`${m} ${h} ${parseInt(y)}`,e),p){if(d){const b=ce.fromISO(p.dateTimeIso,{setZone:!0,zone:e.timezone}),O=ce.fromISO(d.dateTimeIso,{setZone:!0,zone:e.timezone});p.dateTimeIso=b.set({hour:O.hour,minute:O.minute}).toISO(),p.granularity=d.granularity}return p}if(m=t[c]||`${e.zonedNow.year}`,h=t[u],h)return{dateTimeIso:ce.fromFormat(`${m} ${h}`,"y MMMM",{setZone:!0,zone:e.timezone}).toISO(),granularity:"month"};if(h=t[f],h)return{dateTimeIso:ce.fromFormat(`${m} ${h}`,"y MMM",{setZone:!0,zone:e.timezone}).toISO(),granularity:"month"}}function Ep(t,e){return{dateTimeIso:ce.fromFormat(t,"y MMMM d",{setZone:!0,zone:e.timezone}).toISO(),granularity:"day"}}function Sp(t,e){return{dateTimeIso:ce.fromFormat(t,"y MMM d",{setZone:!0,zone:e.timezone}).toISO(),granularity:"day"}}function bI(t,e,n){const s=new pd;return s.tags=[],s.style="group",s.textRanges={whole:n,definition:{from:n.from,to:n.from+t.length,type:Ke.SectionDefinition}},t=t.replace(yu,(r,i,o)=>(s.startExpanded=!i.length,s.style=o,s.textRanges.definition.to=s.textRanges.definition.from+i.length+o.length,"")).replace(Rc,(r,i)=>(s.tags.includes(i)||s.tags.push(i),"")),s.title=t.trim(),s}function _p(t,e,n){var o,a;e=typeof e=="string"&&e||Lo;const s=JSON.stringify({s:t,fullFormat:e}),r=(o=n.cache)==null?void 0:o.zone(n.timezone).slashDate.get(s);if(r)return r;const i=[[e,"day"],[rI,"month"],[iI,"year"]];for(const l of i){let c=ce.fromFormat(t,l[0],{setZone:!0,zone:n.timezone});if(c.isValid){const u={dateTimeIso:c.toISO(),granularity:l[1]};return(a=n.cache)==null||a.zone(n.timezone).slashDate.set(s,u),u}}}function Yr(t,e){var o;const n=JSON.stringify(t),s=(o=e.cache)==null?void 0:o.zone(e.timezone).roundDateUp.get(n);if(s)return s;const r=a=>{var l;return(l=e.cache)==null||l.zone(e.timezone).roundDateUp.set(n,a),a},i=ce.fromISO(t.dateTimeIso,{setZone:!0,zone:e.timezone});return!i.isValid||["instant","hour","minute","second"].includes(t.granularity)?r(t.dateTimeIso):r(i.plus({[t.granularity]:1}).toISO())}function Op(t,e,n){return typeof t=="string"&&(t=parseInt(t)),e&&(e==="BCE"||e==="BC")&&(t=-(t-1)),ce.fromObject({year:t},{zone:n.timezone})}const Pc=["MO","TU","WE","TH","FR","SA","SU"];class Wt{constructor(e,n){if(n===0)throw new Error("Can\'t create weekday with n == 0");this.weekday=e,this.n=n}static fromStr(e){return new Wt(Pc.indexOf(e))}nth(e){return this.n===e?this:new Wt(this.weekday,e)}equals(e){return this.weekday===e.weekday&&this.n===e.n}toString(){let e=Pc[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e}getJsWeekday(){return this.weekday===6?0:this.weekday+1}}const zt=function(t){return t!=null},zs=function(t){return typeof t=="number"},Ip=function(t){return typeof t=="string"&&Pc.includes(t)},Xn=Array.isArray,Gs=function(t,e=t){arguments.length===1&&(e=t,t=0);const n=[];for(let s=t;s<e;s++)n.push(s);return n},lt=function(t,e){let n=0;const s=[];if(Xn(t))for(;n<e;n++)s[n]=[].concat(t);else for(;n<e;n++)s[n]=t;return s},TI=function(t){return Xn(t)?t:[t]};function so(t,e,n=" "){const s=String(t);return e=e>>0,s.length>e?String(s):(e=e-s.length,e>n.length&&(n+=lt(n,e/n.length)),n.slice(0,e)+String(s))}const kI=function(t,e,n){const s=t.split(e);return n?s.slice(0,n).concat([s.slice(n).join(e)]):s},as=function(t,e){const n=t%e;return n*e<0?n+e:n},of=function(t,e){return{div:Math.floor(t/e),mod:as(t,e)}},Bs=function(t){return!zt(t)||t.length===0},Kt=function(t){return!Bs(t)},bt=function(t,e){return Kt(t)&&t.indexOf(e)!==-1},Jr=function(t,e,n,s=0,r=0,i=0){return new Date(Date.UTC(t,e-1,n,s,r,i))},EI=[31,28,31,30,31,30,31,31,30,31,30,31],e1=1e3*60*60*24,t1=9999,n1=Jr(1970,1,1),SI=[6,0,1,2,3,4,5],Ra=function(t){return t%4===0&&t%100!==0||t%400===0},s1=function(t){return t instanceof Date},Ea=function(t){return s1(t)&&!isNaN(t.getTime())},_I=function(t,e){const n=t.getTime(),s=e.getTime(),r=n-s;return Math.round(r/e1)},rh=function(t){return _I(t,n1)},r1=function(t){return new Date(n1.getTime()+t*e1)},OI=function(t){const e=t.getUTCMonth();return e===1&&Ra(t.getUTCFullYear())?29:EI[e]},Yo=function(t){return SI[t.getUTCDay()]},Dp=function(t,e){const n=Jr(t,e+1,1);return[Yo(n),OI(n)]},i1=function(t,e){return e=e||t,new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},ih=function(t){return new Date(t.getTime())},Mp=function(t){const e=[];for(let n=0;n<t.length;n++)e.push(ih(t[n]));return e},Qa=function(t){t.sort(function(e,n){return e.getTime()-n.getTime()})},yd=function(t,e=!0){const n=new Date(t);return[so(n.getUTCFullYear().toString(),4,"0"),so(n.getUTCMonth()+1,2,"0"),so(n.getUTCDate(),2,"0"),"T",so(n.getUTCHours(),2,"0"),so(n.getUTCMinutes(),2,"0"),so(n.getUTCSeconds(),2,"0"),e?"Z":""].join("")},gd=function(t){const n=/^(\\d{4})(\\d{2})(\\d{2})(T(\\d{2})(\\d{2})(\\d{2})Z?)?$/.exec(t);if(!n)throw new Error(`Invalid UNTIL value: ${t}`);return new Date(Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[5],10)||0,parseInt(n[6],10)||0,parseInt(n[7],10)||0))},xp=function(t,e){return t.toLocaleString("sv-SE",{timeZone:e}).replace(" ","T")+"Z"},II=function(t,e){const n=Intl.DateTimeFormat().resolvedOptions().timeZone,s=new Date(xp(t,n)),i=new Date(xp(t,e??"UTC")).getTime()-s.getTime();return new Date(t.getTime()-i)};class $r{constructor(e,n){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=n,e==="between"?(this.maxDate=n.inc?n.before:new Date(n.before.getTime()-1),this.minDate=n.inc?n.after:new Date(n.after.getTime()+1)):e==="before"?this.maxDate=n.inc?n.dt:new Date(n.dt.getTime()-1):e==="after"&&(this.minDate=n.inc?n.dt:new Date(n.dt.getTime()+1))}accept(e){++this.total;const n=this.minDate&&e<this.minDate,s=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(n)return!0;if(s)return!1}else if(this.method==="before"){if(s)return!1}else if(this.method==="after")return n?!0:(this.add(e),!1);return this.add(e)}add(e){return this._result.push(e),!0}getValue(){const e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}}clone(){return new $r(this.method,this.args)}}class Cp extends $r{constructor(e,n,s){super(e,n),this.iterator=s}add(e){return this.iterator(e,this._result.length)?(this._result.push(e),!0):!1}}const Yc={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \\r\\n\\t]+|^\\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^(weekdays?|business\\s+days?|work\\s+days?)/i,"week(s)":/^(weeks?|wks?|weekly)/i,"hour(s)":/^(hours?|hrs?|hourly)/i,"minute(s)":/^(minutes?|mins?)/i,"month(s)":/^(months?|monthly)/i,"year(s)":/^(years?|yearly|annually)/i,on:/^(on|in)/i,at:/^(at|@)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\\.|th|nd|rd|st)/i,last:/^last/i,for:/^(for|x)/i,"time(s)":/^times?/i,until:/^((un)?til)|\\|/i,monday:/^(mo\\.?(n\\.?(days?)?)?)/i,tuesday:/^(tu\\.?(e\\.?(s\\.?(days?)?)?)?)/i,wednesday:/^(we\\.?(d\\.?(n\\.?(esdays?)?)?)?)/i,thursday:/^(th\\.?(u\\.?(r\\.?(s\\.?(days?)?)?)?)?)/i,friday:/^(fr\\.?(i\\.?(days?)?)?)/i,saturday:/^(sa\\.?(t\\.?(urdays?)?)?)/i,sunday:/^(su\\.?(n\\.?(days?)?)?)/i,january:/^(jan\\.?(uary)?)/i,february:/^(feb\\.?(ruary)?)/i,march:/^(mar\\.?(ch)?)/i,april:/^(apr\\.?(il)?)/i,may:/^may/i,june:/^(june?|jun\\.)/i,july:/^(july?|jul\\.)/i,august:/^(aug(ust)?|aug\\.)/i,september:/^(sep(t(ember)?)?|sept\\.|sep\\.)/i,october:/^(oct(ober)?|oct\\.)/i,november:/^(nov(ember)?|nov\\.)/i,december:/^(dec(ember)?|dec\\.)/i,comma:/^(,\\s*|(and|or|&)\\s*)+/i}},Ap=function(t,e){return t.indexOf(e)!==-1},DI=t=>t.toString(),MI=(t,e,n)=>`${e} ${n}, ${t}`;class Pn{constructor(e,n=DI,s=Yc,r=MI){if(this.text=[],this.language=s||Yc,this.gettext=n,this.dateFormatter=r,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){const i=[].concat(this.options.bymonthday),o=[].concat(this.options.bynmonthday);i.sort((a,l)=>a-l),o.sort((a,l)=>l-a),this.bymonthday=i.concat(o),this.bymonthday.length||(this.bymonthday=null)}if(zt(this.origOptions.byweekday)){const i=Xn(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],o=String(i);this.byweekday={allWeeks:i.filter(function(l){return!l.n}),someWeeks:i.filter(function(l){return!!l.n}),isWeekdays:o.indexOf("MO")!==-1&&o.indexOf("TU")!==-1&&o.indexOf("WE")!==-1&&o.indexOf("TH")!==-1&&o.indexOf("FR")!==-1&&o.indexOf("SA")===-1&&o.indexOf("SU")===-1,isEveryDay:o.indexOf("MO")!==-1&&o.indexOf("TU")!==-1&&o.indexOf("WE")!==-1&&o.indexOf("TH")!==-1&&o.indexOf("FR")!==-1&&o.indexOf("SA")!==-1&&o.indexOf("SU")!==-1};const a=function(l,c){return l.weekday-c.weekday};this.byweekday.allWeeks.sort(a),this.byweekday.someWeeks.sort(a),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}static isFullyConvertible(e){if(!(e.options.freq in Pn.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(const s in e.origOptions){if(Ap(["dtstart","tzid","wkst","freq"],s))return!0;if(!Ap(Pn.IMPLEMENTED[e.options.freq],s))return!1}return!0}isFullyConvertible(){return Pn.isFullyConvertible(this.rrule)}toString(){const e=this.gettext;if(!(this.options.freq in Pn.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[Me.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));const n=this.options.until;this.add(this.dateFormatter(n.getUTCFullYear(),this.language.monthNames[n.getUTCMonth()],n.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")}HOURLY(){const e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))}MINUTELY(){const e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))}DAILY(){const e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()}WEEKLY(){const e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.plural(this.options.interval)?this.add(e("on")).add(e("every")).add(e("day")):this.add(e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())}MONTHLY(){const e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()}YEARLY(){const e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))}_bymonthday(){const e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))}_byweekday(){const e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))}_byhour(){const e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))}_bymonth(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))}nth(e){e=parseInt(e.toString(),10);let n;const s=this.gettext;if(e===-1)return s("last");const r=Math.abs(e);switch(r){case 1:case 21:case 31:n=r+s("st");break;case 2:case 22:n=r+s("nd");break;case 3:case 23:n=r+s("rd");break;default:n=r+s("th")}return e<0?n+" "+s("last"):n}monthtext(e){return this.language.monthNames[e-1]}weekdaytext(e){const n=zs(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[n]}plural(e){return e%100!==1}add(e){return this.text.push(" "),this.text.push(e),this}list(e,n,s,r=","){Xn(e)||(e=[e]);const i=function(a,l,c){let u="";for(let f=0;f<a.length;f++)f!==0&&(f===a.length-1?u+=" "+c+" ":u+=l+" "),u+=a[f];return u};n=n||function(a){return a.toString()};const o=a=>n&&n.call(this,a);return s?i(e.map(o),r,s):e.map(o).join(r+" ")}}let xI=class{constructor(e){this.done=!0,this.rules=e}start(e){return this.text=e,this.done=!1,this.nextSymbol()}isDone(){return this.done&&this.symbol===null}nextSymbol(){let e,n;this.symbol=null,this.value=null;do{if(this.done)return!1;let s;e=null;for(const r in this.rules){s=this.rules[r];const i=s.exec(this.text);i&&(e===null||i[0].length>e[0].length)&&(e=i,n=r)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(n==="SKIP");return this.symbol=n,this.value=e,!0}accept(e){if(this.symbol===e){if(this.value){const n=this.value;return this.nextSymbol(),n}return this.nextSymbol(),!0}return!1}acceptNumber(){return this.accept("number")}expect(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)}};function o1(t,e=Yc){const n={},s=new xI(e.tokens);if(!s.start(t))return null;return r(),n.byweekday&&Array.isArray(n.byweekday)&&(n.byweekday=[...new Set(n.byweekday)]),n.bymonth&&Array.isArray(n.bymonth)&&(n.bymonth=[...new Set(n.bymonth)]),n;function r(){s.expect("every");const d=s.acceptNumber();if(d&&(n.interval=parseInt(d[0],10)),s.isDone())throw new Error("Unexpected end");switch(s.symbol){case"day(s)":if(n.freq=Me.DAILY,s.nextSymbol(),!s.isDone()){if(s.accept("on")){const y=a();y&&(n.bymonth=[y],s.nextSymbol())}o(),f()}break;case"weekday(s)":n.freq=Me.WEEKLY,n.byweekday=[Me.MO,Me.TU,Me.WE,Me.TH,Me.FR],s.nextSymbol(),o(),f();break;case"week(s)":n.freq=Me.WEEKLY,s.nextSymbol()&&(i(),o(),f());break;case"hour(s)":n.freq=Me.HOURLY,s.nextSymbol()&&(i(),f());break;case"minute(s)":n.freq=Me.MINUTELY,s.nextSymbol()&&(i(),f());break;case"month(s)":n.freq=Me.MONTHLY,s.nextSymbol()&&(i(),f());break;case"year(s)":n.freq=Me.YEARLY,s.nextSymbol()&&(i(),f());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":n.freq=Me.WEEKLY;const h=s.symbol.substr(0,2).toUpperCase();if(n.byweekday=[Me[h]],!s.nextSymbol())return;for(;s.accept("comma");){if(s.isDone())throw new Error("Unexpected end");const y=l();if(!y)throw new Error("Unexpected symbol "+s.symbol+", expected weekday");n.byweekday.push(Me[y]),s.nextSymbol()}o(),u(),f();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(n.freq=Me.YEARLY,n.bymonth=[a()],!s.nextSymbol())return;for(;s.accept("comma");){if(s.isDone())throw new Error("Unexpected end");const y=a();if(!y)throw new Error("Unexpected symbol "+s.symbol+", expected month");n.bymonth.push(y),s.nextSymbol()}i(),f();break;default:throw new Error(`Unknown symbol: ${s.symbol}`)}}function i(){const d=s.accept("on"),h=s.accept("the");if(!(d||h))return;if(s.accept("every")){s.accept("day(s)")&&(n.byweekday=[Me.MO,Me.TU,Me.WE,Me.TH,Me.FR,Me.SA,Me.SU]);return}do{const m=c(),p=l(),b=a();if(m)p?(s.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(Me[p].nth(m))):(n.bymonthday||(n.bymonthday=[]),n.bymonthday.push(m),s.accept("day(s)"));else if(p)s.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(Me[p]);else if(s.symbol==="weekday(s)")s.nextSymbol(),n.byweekday||(n.byweekday=[Me.MO,Me.TU,Me.WE,Me.TH,Me.FR]);else if(s.symbol==="week(s)"){s.nextSymbol();let O=s.acceptNumber();if(!O)throw new Error("Unexpected symbol "+s.symbol+", expected week number");for(n.byweekno=[parseInt(O[0],10)];s.accept("comma");){if(O=s.acceptNumber(),!O)throw new Error("Unexpected symbol "+s.symbol+"; expected monthday");n.byweekno.push(parseInt(O[0],10))}}else if(b)s.nextSymbol(),n.bymonth||(n.bymonth=[]),n.bymonth.push(b);else return}while(s.accept("comma")||s.accept("the")||s.accept("on"))}function o(){if(s.accept("at"))do{let h=s.acceptNumber();if(!h)throw new Error("Unexpected symbol "+s.symbol+", expected hour");for(n.byhour=[parseInt(h[0],10)];s.accept("comma");){if(h=s.acceptNumber(),!h)throw new Error("Unexpected symbol "+s.symbol+"; expected hour");n.byhour.push(parseInt(h[0],10))}}while(s.accept("comma")||s.accept("at"))}function a(){switch(s.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function l(){switch(s.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return s.symbol.substr(0,2).toUpperCase();default:return!1}}function c(){switch(s.symbol){case"last":return s.nextSymbol(),-1;case"first":return s.nextSymbol(),1;case"second":return s.nextSymbol(),s.accept("last")?-2:2;case"third":return s.nextSymbol(),s.accept("last")?-3:3;case"nth":const d=parseInt(s.value[1],10);if(d<-366||d>366)throw new Error("Nth out of range: "+d);return s.nextSymbol(),s.accept("last")?-d:d;default:return!1}}function u(){s.accept("on"),s.accept("the");let d=c();if(d)for(n.bymonthday=[d],s.nextSymbol();s.accept("comma");){if(d=c(),!d)throw new Error("Unexpected symbol "+s.symbol+"; expected monthday");n.bymonthday.push(d),s.nextSymbol()}}function f(){if(s.symbol==="until"){const d=s.text.trim()==="now"?Date.now():Date.parse(s.text);if(!d)throw new Error("Cannot parse until date:"+s.text);n.until=new Date(d)}else s.accept("for")&&(n.count=parseInt(s.value[0],10),s.expect("number"))}}var it;(function(t){t[t.YEARLY=0]="YEARLY",t[t.MONTHLY=1]="MONTHLY",t[t.WEEKLY=2]="WEEKLY",t[t.DAILY=3]="DAILY",t[t.HOURLY=4]="HOURLY",t[t.MINUTELY=5]="MINUTELY",t[t.SECONDLY=6]="SECONDLY"})(it||(it={}));function vd(t){return t<it.HOURLY}const CI=function(t,e=Yc){return new Me(o1(t,e)||void 0)},Xo=["count","until","interval","byweekday","bymonthday","bymonth"];Pn.IMPLEMENTED=[];Pn.IMPLEMENTED[it.HOURLY]=Xo;Pn.IMPLEMENTED[it.MINUTELY]=Xo;Pn.IMPLEMENTED[it.DAILY]=["byhour"].concat(Xo);Pn.IMPLEMENTED[it.WEEKLY]=Xo;Pn.IMPLEMENTED[it.MONTHLY]=Xo;Pn.IMPLEMENTED[it.YEARLY]=["byweekno","byyearday"].concat(Xo);const AI=function(t,e,n,s){return new Pn(t,e,n,s).toString()},{isFullyConvertible:NI}=Pn;let Fc=class{constructor(e,n,s,r){this.hour=e,this.minute=n,this.second=s,this.millisecond=r||0}getHours(){return this.hour}getMinutes(){return this.minute}getSeconds(){return this.second}getMilliseconds(){return this.millisecond}getTime(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond}};class LI extends Fc{constructor(e,n,s,r,i,o,a){super(r,i,o,a),this.year=e,this.month=n,this.day=s}static fromDate(e){return new this(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.valueOf()%1e3)}getWeekday(){return Yo(new Date(this.getTime()))}getTime(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()}getDay(){return this.day}getMonth(){return this.month}getYear(){return this.year}addYears(e){this.year+=e}addMonths(e){if(this.month+=e,this.month>12){const n=Math.floor(this.month/12),s=as(this.month,12);this.month=s,this.year+=n,this.month===0&&(this.month=12,--this.year)}}addWeekly(e,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+e*7:this.day+=-(this.getWeekday()-n)+e*7,this.fixDay()}addDaily(e){this.day+=e,this.fixDay()}addHours(e,n,s){for(n&&(this.hour+=Math.floor((23-this.hour)/e)*e);;){this.hour+=e;const{div:r,mod:i}=of(this.hour,24);if(r&&(this.hour=i,this.addDaily(r)),Bs(s)||bt(s,this.hour))break}}addMinutes(e,n,s,r){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/e)*e);;){this.minute+=e;const{div:i,mod:o}=of(this.minute,60);if(i&&(this.minute=o,this.addHours(i,!1,s)),(Bs(s)||bt(s,this.hour))&&(Bs(r)||bt(r,this.minute)))break}}addSeconds(e,n,s,r,i){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/e)*e);;){this.second+=e;const{div:o,mod:a}=of(this.second,60);if(o&&(this.second=a,this.addMinutes(o,!1,s,r)),(Bs(s)||bt(s,this.hour))&&(Bs(r)||bt(r,this.minute))&&(Bs(i)||bt(i,this.second)))break}}fixDay(){if(this.day<=28)return;let e=Dp(this.year,this.month-1)[1];if(!(this.day<=e))for(;this.day>e;){if(this.day-=e,++this.month,this.month===13&&(this.month=1,++this.year,this.year>t1))return;e=Dp(this.year,this.month-1)[1]}}add(e,n){const{freq:s,interval:r,wkst:i,byhour:o,byminute:a,bysecond:l}=e;switch(s){case it.YEARLY:return this.addYears(r);case it.MONTHLY:return this.addMonths(r);case it.WEEKLY:return this.addWeekly(r,i);case it.DAILY:return this.addDaily(r);case it.HOURLY:return this.addHours(r,n,o);case it.MINUTELY:return this.addMinutes(r,n,o,a);case it.SECONDLY:return this.addSeconds(r,n,o,a,l)}}}function a1(t){const e=[],n=Object.keys(t);for(const s of n)bt(uD,s)||e.push(s),s1(t[s])&&!Ea(t[s])&&e.push(s);if(e.length)throw new Error("Invalid options: "+e.join(", "));return Object.assign({},t)}function RI(t){const e=Object.assign(Object.assign({},bd),a1(t));if(zt(e.byeaster)&&(e.freq=Me.YEARLY),!(zt(e.freq)&&Me.FREQUENCIES[e.freq]))throw new Error(`Invalid frequency: ${e.freq} ${t.freq}`);if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),zt(e.wkst)?zs(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=Me.MO.weekday,zt(e.bysetpos)){zs(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(let n=0;n<e.bysetpos.length;n++){const s=e.bysetpos[n];if(s===0||!(s>=-366&&s<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(e.byweekno||Kt(e.byweekno)||Kt(e.byyearday)||e.bymonthday||Kt(e.bymonthday)||zt(e.byweekday)||zt(e.byeaster)))switch(e.freq){case Me.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case Me.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case Me.WEEKLY:e.byweekday=[Yo(e.dtstart)];break}if(zt(e.bymonth)&&!Xn(e.bymonth)&&(e.bymonth=[e.bymonth]),zt(e.byyearday)&&!Xn(e.byyearday)&&zs(e.byyearday)&&(e.byyearday=[e.byyearday]),!zt(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(Xn(e.bymonthday)){const n=[],s=[];for(let r=0;r<e.bymonthday.length;r++){const i=e.bymonthday[r];i>0?n.push(i):i<0&&s.push(i)}e.bymonthday=n,e.bynmonthday=s}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(zt(e.byweekno)&&!Xn(e.byweekno)&&(e.byweekno=[e.byweekno]),!zt(e.byweekday))e.bynweekday=null;else if(zs(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(Ip(e.byweekday))e.byweekday=[Wt.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof Wt)!e.byweekday.n||e.freq>Me.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{const n=[],s=[];for(let r=0;r<e.byweekday.length;r++){const i=e.byweekday[r];if(zs(i)){n.push(i);continue}else if(Ip(i)){n.push(Wt.fromStr(i).weekday);continue}!i.n||e.freq>Me.MONTHLY?n.push(i.weekday):s.push([i.weekday,i.n])}e.byweekday=Kt(n)?n:null,e.bynweekday=Kt(s)?s:null}return zt(e.byhour)?zs(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<Me.HOURLY?[e.dtstart.getUTCHours()]:null,zt(e.byminute)?zs(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<Me.MINUTELY?[e.dtstart.getUTCMinutes()]:null,zt(e.bysecond)?zs(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<Me.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function PI(t){const e=t.dtstart.getTime()%1e3;if(!vd(t.freq))return[];const n=[];return t.byhour.forEach(s=>{t.byminute.forEach(r=>{t.bysecond.forEach(i=>{n.push(new Fc(s,r,i,e))})})}),n}function oh(t){const e=t.split(`\n`).map(YI).filter(n=>n!==null);return Object.assign(Object.assign({},e[0]),e[1])}function $c(t){const e={},n=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\\s]+)/i.exec(t);if(!n)return e;const[,s,r]=n;return s&&(e.tzid=s),e.dtstart=gd(r),e}function YI(t){if(t=t.replace(/^\\s+|\\s+$/,""),!t.length)return null;const e=/^([A-Z]+?)[:;]/.exec(t.toUpperCase());if(!e)return Np(t);const[,n]=e;switch(n.toUpperCase()){case"RRULE":case"EXRULE":return Np(t);case"DTSTART":return $c(t);default:throw new Error(`Unsupported RFC prop ${n} in ${t}`)}}function Np(t){const e=t.replace(/^RRULE:/i,""),n=$c(e);return t.replace(/^(?:RRULE|EXRULE):/i,"").split(";").forEach(r=>{const[i,o]=r.split("=");switch(i.toUpperCase()){case"FREQ":n.freq=it[o.toUpperCase()];break;case"WKST":n.wkst=Ns[o.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":const a=FI(o),l=i.toLowerCase();n[l]=a;break;case"BYWEEKDAY":case"BYDAY":n.byweekday=$I(o);break;case"DTSTART":case"TZID":const c=$c(t);n.tzid=c.tzid,n.dtstart=c.dtstart;break;case"UNTIL":n.until=gd(o);break;case"BYEASTER":n.byeaster=Number(o);break;default:throw new Error("Unknown RRULE property \'"+i+"\'")}}),n}function FI(t){return t.indexOf(",")!==-1?t.split(",").map(Lp):Lp(t)}function Lp(t){return/^[+-]?\\d+$/.test(t)?Number(t):t}function $I(t){return t.split(",").map(n=>{if(n.length===2)return Ns[n];const s=n.match(/^([+-]?\\d{1,2})([A-Z]{2})$/);if(!s||s.length<3)throw new SyntaxError(`Invalid weekday string: ${n}`);const r=Number(s[1]),i=s[2],o=Ns[i].weekday;return new Wt(o,r)})}class Uc{constructor(e,n){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=n}get isUTC(){return!this.tzid||this.tzid.toUpperCase()==="UTC"}toString(){const e=yd(this.date.getTime(),this.isUTC);return this.isUTC?`:${e}`:`;TZID=${this.tzid}:${e}`}getTime(){return this.date.getTime()}rezonedDate(){return this.isUTC?this.date:II(this.date,this.tzid)}}function wd(t){const e=[];let n="";const s=Object.keys(t),r=Object.keys(bd);for(let a=0;a<s.length;a++){if(s[a]==="tzid"||!bt(r,s[a]))continue;let l=s[a].toUpperCase();const c=t[s[a]];let u="";if(!(!zt(c)||Xn(c)&&!c.length)){switch(l){case"FREQ":u=Me.FREQUENCIES[t.freq];break;case"WKST":zs(c)?u=new Wt(c).toString():u=c.toString();break;case"BYWEEKDAY":l="BYDAY",u=TI(c).map(f=>f instanceof Wt?f:Xn(f)?new Wt(f[0],f[1]):new Wt(f)).toString();break;case"DTSTART":n=UI(c,t.tzid);break;case"UNTIL":u=yd(c,!t.tzid);break;default:if(Xn(c)){const f=[];for(let d=0;d<c.length;d++)f[d]=String(c[d]);u=f.toString()}else u=String(c)}u&&e.push([l,u])}}const i=e.map(([a,l])=>`${a}=${l.toString()}`).join(";");let o="";return i!==""&&(o=`RRULE:${i}`),[n,o].filter(a=>!!a).join(`\n`)}function UI(t,e){return t?"DTSTART"+new Uc(new Date(t),e).toString():""}function zI(t,e){return Array.isArray(t)?!Array.isArray(e)||t.length!==e.length?!1:t.every((n,s)=>n.getTime()===e[s].getTime()):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():t===e}class HI{constructor(){this.all=!1,this.before=[],this.after=[],this.between=[]}_cacheAdd(e,n,s){n&&(n=n instanceof Date?ih(n):Mp(n)),e==="all"?this.all=n:(s._value=n,this[e].push(s))}_cacheGet(e,n){let s=!1;const r=n?Object.keys(n):[],i=function(a){for(let l=0;l<r.length;l++){const c=r[l];if(!zI(n[c],a[c]))return!0}return!1},o=this[e];if(e==="all")s=this.all;else if(Xn(o))for(let a=0;a<o.length;a++){const l=o[a];if(!(r.length&&i(l))){s=l._value;break}}if(!s&&this.all){const a=new $r(e,n);for(let l=0;l<this.all.length&&a.accept(this.all[l]);l++);s=a.getValue(),this._cacheAdd(e,s,n)}return Xn(s)?Mp(s):s instanceof Date?ih(s):s}}const BI=[...lt(1,31),...lt(2,28),...lt(3,31),...lt(4,30),...lt(5,31),...lt(6,30),...lt(7,31),...lt(8,31),...lt(9,30),...lt(10,31),...lt(11,30),...lt(12,31),...lt(1,7)],WI=[...lt(1,31),...lt(2,29),...lt(3,31),...lt(4,30),...lt(5,31),...lt(6,30),...lt(7,31),...lt(8,31),...lt(9,30),...lt(10,31),...lt(11,30),...lt(12,31),...lt(1,7)],jI=Gs(1,29),VI=Gs(1,30),Ur=Gs(1,31),an=Gs(1,32),qI=[...an,...VI,...an,...Ur,...an,...Ur,...an,...an,...Ur,...an,...Ur,...an,...an.slice(0,7)],KI=[...an,...jI,...an,...Ur,...an,...Ur,...an,...an,...Ur,...an,...Ur,...an,...an.slice(0,7)],GI=Gs(-28,0),ZI=Gs(-29,0),zr=Gs(-30,0),ln=Gs(-31,0),XI=[...ln,...ZI,...ln,...zr,...ln,...zr,...ln,...ln,...zr,...ln,...zr,...ln,...ln.slice(0,7)],JI=[...ln,...GI,...ln,...zr,...ln,...zr,...ln,...ln,...zr,...ln,...zr,...ln,...ln.slice(0,7)],QI=[0,31,60,91,121,152,182,213,244,274,305,335,366],eD=[0,31,59,90,120,151,181,212,243,273,304,334,365],Rp=function(){let t=[];for(let e=0;e<55;e++)t=t.concat(Gs(7));return t}();function tD(t,e){const n=Jr(t,1,1),s=Ra(t)?366:365,r=Ra(t+1)?366:365,i=rh(n),o=Yo(n),a=Object.assign(Object.assign({yearlen:s,nextyearlen:r,yearordinal:i,yearweekday:o},nD(t)),{wnomask:null});if(Bs(e.byweekno))return a;a.wnomask=lt(0,s+7);let l,c,u=l=as(7-o+e.wkst,7);u>=4?(u=0,c=a.yearlen+as(o-e.wkst,7)):c=s-u;const f=Math.floor(c/7),d=as(c,7),h=Math.floor(f+d/4);for(let y=0;y<e.byweekno.length;y++){let m=e.byweekno[y];if(m<0&&(m+=h+1),!(m>0&&m<=h))continue;let p;m>1?(p=u+(m-1)*7,u!==l&&(p-=7-l)):p=u;for(let b=0;b<7&&(a.wnomask[p]=1,p++,a.wdaymask[p]!==e.wkst);b++);}if(bt(e.byweekno,1)){let y=u+h*7;if(u!==l&&(y-=7-l),y<s)for(let m=0;m<7&&(a.wnomask[y]=1,y+=1,a.wdaymask[y]!==e.wkst);m++);}if(u){let y;if(bt(e.byweekno,-1))y=-1;else{const m=Yo(Jr(t-1,1,1));let p=as(7-m.valueOf()+e.wkst,7);const b=Ra(t-1)?366:365;let O;p>=4?(p=0,O=b+as(m-e.wkst,7)):O=s-u,y=Math.floor(52+as(O,7)/4)}if(bt(e.byweekno,y))for(let m=0;m<u;m++)a.wnomask[m]=1}return a}function nD(t){const e=Ra(t)?366:365,n=Jr(t,1,1),s=Yo(n);return e===365?{mmask:BI,mdaymask:KI,nmdaymask:JI,wdaymask:Rp.slice(s),mrange:eD}:{mmask:WI,mdaymask:qI,nmdaymask:XI,wdaymask:Rp.slice(s),mrange:QI}}function sD(t,e,n,s,r,i){const o={lastyear:t,lastmonth:e,nwdaymask:[]};let a=[];if(i.freq===Me.YEARLY)if(Bs(i.bymonth))a=[[0,n]];else for(let l=0;l<i.bymonth.length;l++)e=i.bymonth[l],a.push(s.slice(e-1,e+1));else i.freq===Me.MONTHLY&&(a=[s.slice(e-1,e+1)]);if(Bs(a))return o;o.nwdaymask=lt(0,n);for(let l=0;l<a.length;l++){const c=a[l],u=c[0],f=c[1]-1;for(let d=0;d<i.bynweekday.length;d++){let h;const[y,m]=i.bynweekday[d];m<0?(h=f+(m+1)*7,h-=as(r[h]-y,7)):(h=u+(m-1)*7,h+=as(7-r[h]+y,7)),u<=h&&h<=f&&(o.nwdaymask[h]=1)}}return o}function rD(t,e=0){const n=t%19,s=Math.floor(t/100),r=t%100,i=Math.floor(s/4),o=s%4,a=Math.floor((s+8)/25),l=Math.floor((s-a+1)/3),c=Math.floor(19*n+s-i-l+15)%30,u=Math.floor(r/4),f=r%4,d=Math.floor(32+2*o+2*u-c-f)%7,h=Math.floor((n+11*c+22*d)/451),y=Math.floor((c+d-7*h+114)/31),m=(c+d-7*h+114)%31+1,p=Date.UTC(t,y-1,m+e),b=Date.UTC(t,0,1);return[Math.ceil((p-b)/(1e3*60*60*24))]}class iD{constructor(e){this.options=e}rebuild(e,n){const s=this.options;if(e!==this.lastyear&&(this.yearinfo=tD(e,s)),Kt(s.bynweekday)&&(n!==this.lastmonth||e!==this.lastyear)){const{yearlen:r,mrange:i,wdaymask:o}=this.yearinfo;this.monthinfo=sD(e,n,r,i,o,s)}zt(s.byeaster)&&(this.eastermask=rD(e,s.byeaster))}get lastyear(){return this.monthinfo?this.monthinfo.lastyear:null}get lastmonth(){return this.monthinfo?this.monthinfo.lastmonth:null}get yearlen(){return this.yearinfo.yearlen}get yearordinal(){return this.yearinfo.yearordinal}get mrange(){return this.yearinfo.mrange}get wdaymask(){return this.yearinfo.wdaymask}get mmask(){return this.yearinfo.mmask}get wnomask(){return this.yearinfo.wnomask}get nwdaymask(){return this.monthinfo?this.monthinfo.nwdaymask:[]}get nextyearlen(){return this.yearinfo.nextyearlen}get mdaymask(){return this.yearinfo.mdaymask}get nmdaymask(){return this.yearinfo.nmdaymask}ydayset(){return[Gs(this.yearlen),0,this.yearlen]}mdayset(e,n){const s=this.mrange[n-1],r=this.mrange[n],i=lt(null,this.yearlen);for(let o=s;o<r;o++)i[o]=o;return[i,s,r]}wdayset(e,n,s){const r=lt(null,this.yearlen+7);let i=rh(Jr(e,n,s))-this.yearordinal;const o=i;for(let a=0;a<7&&(r[i]=i,++i,this.wdaymask[i]!==this.options.wkst);a++);return[r,o,i]}ddayset(e,n,s){const r=lt(null,this.yearlen),i=rh(Jr(e,n,s))-this.yearordinal;return r[i]=i,[r,i,i+1]}htimeset(e,n,s,r){let i=[];return this.options.byminute.forEach(o=>{i=i.concat(this.mtimeset(e,o,s,r))}),Qa(i),i}mtimeset(e,n,s,r){const i=this.options.bysecond.map(o=>new Fc(e,n,o,r));return Qa(i),i}stimeset(e,n,s,r){return[new Fc(e,n,s,r)]}getdayset(e){switch(e){case it.YEARLY:return this.ydayset.bind(this);case it.MONTHLY:return this.mdayset.bind(this);case it.WEEKLY:return this.wdayset.bind(this);case it.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}}gettimeset(e){switch(e){case it.HOURLY:return this.htimeset.bind(this);case it.MINUTELY:return this.mtimeset.bind(this);case it.SECONDLY:return this.stimeset.bind(this)}}}function oD(t,e,n,s,r,i){const o=[];for(let a=0;a<t.length;a++){let l,c;const u=t[a];u<0?(l=Math.floor(u/e.length),c=as(u,e.length)):(l=Math.floor((u-1)/e.length),c=as(u-1,e.length));const f=[];for(let p=n;p<s;p++){const b=i[p];zt(b)&&f.push(b)}let d;l<0?d=f.slice(l)[0]:d=f[l];const h=e[c],y=r1(r.yearordinal+d),m=i1(y,h);bt(o,m)||o.push(m)}return Qa(o),o}function l1(t,e){const{dtstart:n,freq:s,interval:r,until:i,bysetpos:o}=e;let a=e.count;if(a===0||r===0)return tr(t);const l=LI.fromDate(n),c=new iD(e);c.rebuild(l.year,l.month);let u=cD(c,l,e);for(;;){const[f,d,h]=c.getdayset(s)(l.year,l.month,l.day),y=lD(f,d,h,c,e);if(Kt(o)){const m=oD(o,u,d,h,c,f);for(let p=0;p<m.length;p++){const b=m[p];if(i&&b>i)return tr(t);if(b>=n){const O=Pp(b,e);if(!t.accept(O)||a&&(--a,!a))return tr(t)}}}else for(let m=d;m<h;m++){const p=f[m];if(!zt(p))continue;const b=r1(c.yearordinal+p);for(let O=0;O<u.length;O++){const E=u[O],I=i1(b,E);if(i&&I>i)return tr(t);if(I>=n){const z=Pp(I,e);if(!t.accept(z)||a&&(--a,!a))return tr(t)}}}if(e.interval===0||(l.add(e,y),l.year>t1))return tr(t);vd(s)||(u=c.gettimeset(s)(l.hour,l.minute,l.second,0)),c.rebuild(l.year,l.month)}}function aD(t,e,n){const{bymonth:s,byweekno:r,byweekday:i,byeaster:o,bymonthday:a,bynmonthday:l,byyearday:c}=n;return Kt(s)&&!bt(s,t.mmask[e])||Kt(r)&&!t.wnomask[e]||Kt(i)&&!bt(i,t.wdaymask[e])||Kt(t.nwdaymask)&&!t.nwdaymask[e]||o!==null&&!bt(t.eastermask,e)||(Kt(a)||Kt(l))&&!bt(a,t.mdaymask[e])&&!bt(l,t.nmdaymask[e])||Kt(c)&&(e<t.yearlen&&!bt(c,e+1)&&!bt(c,-t.yearlen+e)||e>=t.yearlen&&!bt(c,e+1-t.yearlen)&&!bt(c,-t.nextyearlen+e-t.yearlen))}function Pp(t,e){return new Uc(t,e.tzid).rezonedDate()}function tr(t){return t.getValue()}function lD(t,e,n,s,r){let i=!1;for(let o=e;o<n;o++){const a=t[o];i=aD(s,a,r),i&&(t[a]=null)}return i}function cD(t,e,n){const{freq:s,byhour:r,byminute:i,bysecond:o}=n;return vd(s)?PI(n):s>=Me.HOURLY&&Kt(r)&&!bt(r,e.hour)||s>=Me.MINUTELY&&Kt(i)&&!bt(i,e.minute)||s>=Me.SECONDLY&&Kt(o)&&!bt(o,e.second)?[]:t.gettimeset(s)(e.hour,e.minute,e.second,e.millisecond)}const Ns={MO:new Wt(0),TU:new Wt(1),WE:new Wt(2),TH:new Wt(3),FR:new Wt(4),SA:new Wt(5),SU:new Wt(6)},bd={freq:it.YEARLY,dtstart:null,interval:1,wkst:Ns.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},uD=Object.keys(bd);let Me=class hc{constructor(e={},n=!1){this._cache=n?null:new HI,this.origOptions=a1(e);const{parsedOptions:s}=RI(e);this.options=s}static parseText(e,n){return o1(e,n)}static fromText(e,n){return CI(e,n)}static fromString(e){return new hc(hc.parseString(e)||void 0)}_iter(e){return l1(e,this.options)}_cacheGet(e,n){return this._cache?this._cache._cacheGet(e,n):!1}_cacheAdd(e,n,s){if(this._cache)return this._cache._cacheAdd(e,n,s)}all(e){if(e)return this._iter(new Cp("all",{},e));let n=this._cacheGet("all");return n===!1&&(n=this._iter(new $r("all",{})),this._cacheAdd("all",n)),n}between(e,n,s=!1,r){if(!Ea(e)||!Ea(n))throw new Error("Invalid date passed in to RRule.between");const i={before:n,after:e,inc:s};if(r)return this._iter(new Cp("between",i,r));let o=this._cacheGet("between",i);return o===!1&&(o=this._iter(new $r("between",i)),this._cacheAdd("between",o,i)),o}before(e,n=!1){if(!Ea(e))throw new Error("Invalid date passed in to RRule.before");const s={dt:e,inc:n};let r=this._cacheGet("before",s);return r===!1&&(r=this._iter(new $r("before",s)),this._cacheAdd("before",r,s)),r}after(e,n=!1){if(!Ea(e))throw new Error("Invalid date passed in to RRule.after");const s={dt:e,inc:n};let r=this._cacheGet("after",s);return r===!1&&(r=this._iter(new $r("after",s)),this._cacheAdd("after",r,s)),r}count(){return this.all().length}toString(){return wd(this.origOptions)}toText(e,n,s){return AI(this,e,n,s)}isFullyConvertibleToText(){return NI(this)}clone(){return new hc(this.origOptions)}};Me.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"];Me.YEARLY=it.YEARLY;Me.MONTHLY=it.MONTHLY;Me.WEEKLY=it.WEEKLY;Me.DAILY=it.DAILY;Me.HOURLY=it.HOURLY;Me.MINUTELY=it.MINUTELY;Me.SECONDLY=it.SECONDLY;Me.MO=Ns.MO;Me.TU=Ns.TU;Me.WE=Ns.WE;Me.TH=Ns.TH;Me.FR=Ns.FR;Me.SA=Ns.SA;Me.SU=Ns.SU;Me.parseString=oh;Me.optionsToString=wd;function fD(t,e,n,s,r,i){const o={},a=t.accept;function l(u,f){n.forEach(function(d){d.between(u,f,!0).forEach(function(h){o[Number(h)]=!0})})}r.forEach(function(u){const f=new Uc(u,i).rezonedDate();o[Number(f)]=!0}),t.accept=function(u){const f=Number(u);return isNaN(f)?a.call(this,u):!o[f]&&(l(new Date(f-1),new Date(f+1)),!o[f])?(o[f]=!0,a.call(this,u)):!0},t.method==="between"&&(l(t.args.after,t.args.before),t.accept=function(u){const f=Number(u);return o[f]?!0:(o[f]=!0,a.call(this,u))});for(let u=0;u<s.length;u++){const f=new Uc(s[u],i).rezonedDate();if(!t.accept(new Date(f.getTime())))break}e.forEach(function(u){l1(t,u.options)});const c=t._result;switch(Qa(c),t.method){case"all":case"between":return c;case"before":return c.length&&c[c.length-1]||null;case"after":default:return c.length&&c[0]||null}}const Yp={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function hD(t,e){const n=[];let s=[];const r=[];let i=[];const o=$c(t),{dtstart:a}=o;let{tzid:l}=o;return gD(t,e.unfold).forEach(u=>{var f;if(!u)return;const{name:d,parms:h,value:y}=yD(u);switch(d.toUpperCase()){case"RRULE":if(h.length)throw new Error(`unsupported RRULE parm: ${h.join(",")}`);n.push(oh(u));break;case"RDATE":const[,m]=(f=/RDATE(?:;TZID=([^:=]+))?/i.exec(u))!==null&&f!==void 0?f:[];m&&!l&&(l=m),s=s.concat(Fp(y,h));break;case"EXRULE":if(h.length)throw new Error(`unsupported EXRULE parm: ${h.join(",")}`);r.push(oh(y));break;case"EXDATE":i=i.concat(Fp(y,h));break;case"DTSTART":break;default:throw new Error("unsupported property: "+d)}}),{dtstart:a,tzid:l,rrulevals:n,rdatevals:s,exrulevals:r,exdatevals:i}}function dD(t,e){const{rrulevals:n,rdatevals:s,exrulevals:r,exdatevals:i,dtstart:o,tzid:a}=hD(t,e),l=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||n.length>1||s.length||r.length||i.length){const u=new gu(l);return u.dtstart(o),u.tzid(a||void 0),n.forEach(f=>{u.rrule(new Me(af(f,o,a),l))}),s.forEach(f=>{u.rdate(f)}),r.forEach(f=>{u.exrule(new Me(af(f,o,a),l))}),i.forEach(f=>{u.exdate(f)}),e.compatible&&e.dtstart&&u.rdate(o),u}const c=n[0]||{};return new Me(af(c,c.dtstart||e.dtstart||o,c.tzid||e.tzid||a),l)}function ah(t,e={}){return dD(t,mD(e))}function af(t,e,n){return Object.assign(Object.assign({},t),{dtstart:e,tzid:n})}function mD(t){const e=[],n=Object.keys(t),s=Object.keys(Yp);if(n.forEach(function(r){bt(s,r)||e.push(r)}),e.length)throw new Error("Invalid options: "+e.join(", "));return Object.assign(Object.assign({},Yp),t)}function pD(t){if(t.indexOf(":")===-1)return{name:"RRULE",value:t};const[e,n]=kI(t,":",1);return{name:e,value:n}}function yD(t){const{name:e,value:n}=pD(t),s=e.split(";");if(!s)throw new Error("empty property name");return{name:s[0].toUpperCase(),parms:s.slice(1),value:n}}function gD(t,e=!1){if(t=t&&t.trim(),!t)throw new Error("Invalid empty string");if(!e)return t.split(/\\s/);const n=t.split(`\n`);let s=0;for(;s<n.length;){const r=n[s]=n[s].replace(/\\s+$/g,"");r?s>0&&r[0]===" "?(n[s-1]+=r.slice(1),n.splice(s,1)):s+=1:n.splice(s,1)}return n}function vD(t){t.forEach(e=>{if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function Fp(t,e){return vD(e),t.split(",").map(n=>gd(n))}function $p(t){return e=>{if(e!==void 0&&(this[`_${t}`]=e),this[`_${t}`]!==void 0)return this[`_${t}`];for(let n=0;n<this._rrule.length;n++){const s=this._rrule[n].origOptions[t];if(s)return s}}}class gu extends Me{constructor(e=!1){super({},e),this.dtstart=$p.apply(this,["dtstart"]),this.tzid=$p.apply(this,["tzid"]),this._rrule=[],this._rdate=[],this._exrule=[],this._exdate=[]}_iter(e){return fD(e,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())}rrule(e){Up(e,this._rrule)}exrule(e){Up(e,this._exrule)}rdate(e){zp(e,this._rdate)}exdate(e){zp(e,this._exdate)}rrules(){return this._rrule.map(e=>ah(e.toString()))}exrules(){return this._exrule.map(e=>ah(e.toString()))}rdates(){return this._rdate.map(e=>new Date(e.getTime()))}exdates(){return this._exdate.map(e=>new Date(e.getTime()))}valueOf(){let e=[];return!this._rrule.length&&this._dtstart&&(e=e.concat(wd({dtstart:this._dtstart}))),this._rrule.forEach(function(n){e=e.concat(n.toString().split(`\n`))}),this._exrule.forEach(function(n){e=e.concat(n.toString().split(`\n`).map(s=>s.replace(/^RRULE:/,"EXRULE:")).filter(s=>!/^DTSTART/.test(s)))}),this._rdate.length&&e.push(Hp("RDATE",this._rdate,this.tzid())),this._exdate.length&&e.push(Hp("EXDATE",this._exdate,this.tzid())),e}toString(){return this.valueOf().join(`\n`)}clone(){const e=new gu(!!this._cache);return this._rrule.forEach(n=>e.rrule(n.clone())),this._exrule.forEach(n=>e.exrule(n.clone())),this._rdate.forEach(n=>e.rdate(new Date(n.getTime()))),this._exdate.forEach(n=>e.exdate(new Date(n.getTime()))),e}}function Up(t,e){if(!(t instanceof Me))throw new TypeError(String(t)+" is not RRule instance");bt(e.map(String),String(t))||e.push(t)}function zp(t,e){if(!(t instanceof Date))throw new TypeError(String(t)+" is not Date instance");bt(e.map(Number),Number(t))||(e.push(t),Qa(e))}function Hp(t,e,n){const s=!n||n.toUpperCase()==="UTC",r=s?`${t}:`:`${t};TZID=${n}:`,i=e.map(o=>yd(o.valueOf(),s)).join(",");return`${r}${i}`}const wD=Object.freeze(Object.defineProperty({__proto__:null,ALL_WEEKDAYS:Pc,get Frequency(){return it},RRule:Me,RRuleSet:gu,Weekday:Wt,datetime:Jr,rrulestr:ah},Symbol.toStringTag,{value:"Module"})),{RRule:c1}=wD;function u1(t){var s,r;const e=t.until?((s=ce.fromJSDate(t.until))==null?void 0:s.toISO())??void 0:void 0,n=t.dtstart?((r=ce.fromJSDate(t.dtstart))==null?void 0:r.toISO())??void 0:void 0;return{...t,until:e,dtstart:n}}function bD(t){const e=t.until?ce.fromISO(t.until).toJSDate():void 0,n=t.dtstart?ce.fromISO(t.dtstart).toJSDate():void 0;return{...t,until:e,dtstart:n}}const Bp=(t,e,n,s,r)=>{const i=s[JO];if(!i)return;const o=i.trim(),a=s[0].indexOf(o),l=n[e]+a,c=n[e]+a+o.length,u={type:Ke.Recurrence,from:l,to:c,content:i};try{const f=c1.parseText(i);return{recurrence:u1(f),range:u}}catch{r.parseMessages.push({type:"error",message:"Cannot parse recurrence",pos:[l,c]});return}},Wp=(t,e,n,s,r)=>{const i=s[wO];if(!i)return;const o=i.trim(),a=s[0].indexOf(o),l=n[e]+a,c=n[e]+a+o.length,u={type:Ke.Recurrence,from:l,to:c,content:i};try{const f=c1.parseText(i);return{recurrence:u1(f),range:u}}catch{r.parseMessages.push({type:"error",message:"Cannot parse recurrence",pos:[l,c]});return}};function TD(t,e,n,s){var Oe,me,je;const r=t.match(fd);if(!r)return;const i=r[i_],o=t.indexOf(i),a={type:Ke.DateRange,from:n[e]+o,to:n[e]+o+i.length};s.ranges.push(a);const l=t.indexOf(":",o+i.length),c=ae=>({type:ae,from:n[e]+l,to:n[e]+l+1}),u=(Oe=s.cache)==null?void 0:Oe.zone(s.timezone).ranges.get(i);if(u){const ae=Wp(t,e,n,r,s);ae&&s.ranges.push(ae.range);const X=c(Ke.DateRangeColon);return s.ranges.push(X),new Ro({from:ce.fromISO(u.fromDateTimeIso,{setZone:!0}),to:ce.fromISO(u.toDateTimeIso,{setZone:!0}),originalString:i,dateRangeInText:a,eventText:r[pp],recurrence:ae,definition:{...a,type:Ke.EventDefinition,to:X.to},isRelative:!1})}const f=r[o_],d=r[U_],h=r[T_],y=r[k_],m=["before","by"].includes(y||"")?"before":"after",p=r[tO],b=kp(r,s,I_,M_,x_,D_,S_,__,O_,$_,Y_,F_,r[C_]?vI(r):void 0),O=kp(r,s,oO,lO,cO,aO,sO,rO,iO,vO,yO,gO,r[uO]?wI(r):void 0),E=r[m_],I=r[K_],z=r[l_],W=r[H_],C=r[a_],L=r[z_];let Y,V,se="instant",P=!0,de=!1;if(h){P=!1,de=!0;const ae=(me=r[E_])==null?void 0:me.substring(1);let X;if(ae){const re=s.getById(ae);if(re&&Yn(re)){const Pe=Zt(re.dateRangeIso);m==="after"?X=Pe.toDateTime:X=Pe.fromDateTime}else s.parseMessages.push({type:"error",message:`Event ${ae} not found`,pos:[n[e]+t.indexOf(ae),n[e]+t.indexOf(ae)+ae.length]})}if(!X){const re=s.priorEvent();re?X=m==="after"?Zt(re.dateRangeIso).toDateTime:Zt(re.dateRangeIso).fromDateTime:X=s.zonedNow}!p&&!d?m==="before"?(V=X,Y=os.from(h,X,!0)):(Y=X,V=os.from(h,X)):m==="before"?p&&(V=os.from(h,X,!0),Y=os.from(p,V,!0)):Y=os.from(h,X),se="instant"}else if(b)Y=ce.fromISO(b.dateTimeIso,{setZone:!0,zone:s.timezone}),se=b.granularity;else if(E){const ae=r[p_];let X=E;ae&&(X=X.substring(0,X.indexOf(ae)).trim().replace(/,/g,""));const re=_p(X,s.header.dateFormat,s);if(re)if(ae){const Pe=yI(r),Xe=ce.fromISO(Pe.dateTimeIso);Y=ce.fromISO(re.dateTimeIso,{setZone:!0,zone:s.timezone}).set({hour:Xe.hour,minute:Xe.minute}),se=Pe.granularity}else Y=ce.fromISO(re.dateTimeIso,{setZone:!0,zone:s.timezone}),se=re.granularity;else s.parseMessages.push({type:"error",message:"Was supposed to have a slash date but couldn\'t parse it",pos:[a.from,a.to]})}else if(z){P=!1,de=!0;const ae=Xr(r,c_,u_,f_,h_,d_),X=s.priorEventToDateTime()||s.zonedNow,re=ce.fromISO(ae.dateTimeIso,{setZone:!0,zone:s.timezone});let Pe=X.set({hour:re.hour,minute:re.minute});Pe<X?(Pe=Pe.plus({days:1}),Y=Pe,se=ae.granularity):(Y=Pe,se=ae.granularity)}else C?(Y=s.zonedNow,se="instant"):(Y=ce.fromISO(f,{zone:s.timezone,setZone:!0}),se="instant");if((!Y||!Y.isValid)&&(Y=s.zonedNow,se="instant"),!V)if(p){P=!1,de=!0;const ae=r[nO];let X;if(ae){const re=s.getById(ae);re&&Yn(re)&&(X=Zt(re.dateRangeIso).toDateTime)}X||(X=Y),V=os.from(d,X)}else if(O)V=ce.fromISO(Yr(O,s),{setZone:!0,zone:s.timezone});else if(I){const ae=r[G_];let X=I;ae&&(X=X.substring(0,X.indexOf(ae)).trim().replace(/,/g,""));const re=_p(X,s.header.dateFormat,s);if(re)if(ae){const Pe=ce.fromISO(re.dateTimeIso,{setZone:!0,zone:s.timezone}),Xe=gI(r),ut=ce.fromISO(Xe.dateTimeIso,{setZone:!0,zone:s.timezone});V=Pe.set({hour:ut.hour,minute:ut.minute}),V=ce.fromISO(Yr({dateTimeIso:V.toISO(),granularity:Xe.granularity},s),{setZone:!0,zone:s.timezone})}else V=ce.fromISO(Yr(re,s),{setZone:!0,zone:s.timezone});else s.parseMessages.push({type:"error",message:"Was supposed to have a slash date but couldn\'t parse it",pos:[a.from,a.to]})}else if(W){const ae=Xr(r,B_,W_,j_,V_,q_),X=ce.fromISO(ae.dateTimeIso,{setZone:!0,zone:s.timezone});let re=Y.set({hour:X.hour,minute:X.minute});re<Y&&(re=re.plus({days:1})),V=re,se=ae.granularity}else L?(V=s.zonedNow,se="instant"):V=ce.fromISO(Yr({dateTimeIso:d,granularity:"instant"},s),{setZone:!0,zone:s.timezone});(!V||!V.isValid)&&(V=ce.fromISO(Yr({dateTimeIso:Y.toISO(),granularity:se},s),{setZone:!0,zone:s.timezone}));const Le=Wp(t,e,n,r,s);Le&&s.ranges.push(Le.range);const Re=c(Ke.DateRangeColon);s.ranges.push(Re);const Te=new Ro({from:Y,to:V,originalString:i,dateRangeInText:a,eventText:r[pp],recurrence:Le,isRelative:de,definition:{...a,type:Ke.EventDefinition,to:Re.to}});return P&&((je=s.cache)==null||je.zone(s.timezone).ranges.set(i,{fromDateTimeIso:Y.toISO(),toDateTimeIso:V.toISO()})),Te}function kD(t,e,n,s){var me,je,ae;const r=t.match(hd);if(!r)return;const i=r[SO],o=r[_O],a=!!r[OO],l=!!r[IO],c=!!r[DO],u=r[FO],f=r[$O],d=!!r[UO],h=!!r[zO],y=!!r[HO],m=r[RO];r[GO];const p=r[LO],b=["before","by"].includes(m||"")?"before":"after",O=r[KO],E=r[YO],I=r[XO],z=t.indexOf(i),W={type:Ke.DateRange,from:n[e]+z,to:n[e]+z+i.length};s.ranges.push(W);const C=t.indexOf(":",z+i.length),L=X=>({type:X,from:n[e]+C,to:n[e]+C+1}),Y=(me=s.cache)==null?void 0:me.zone(s.timezone).ranges.get(i);if(Y){const X=Bp(t,e,n,r,s);return X&&s.ranges.push(X.range),s.ranges.push(L(Ke.DateRangeColon)),new Ro({from:ce.fromISO(Y.fromDateTimeIso,{setZone:!0}),to:ce.fromISO(Y.toDateTimeIso,{setZone:!0}),originalString:i,dateRangeInText:W,eventText:r[yp],recurrence:X,isRelative:!1,definition:{...W,type:Ke.EventDefinition,to:n[e]+C+1}})}let V,se,P="instant",de=!0,Le=!1;if(o)if(c){const X=Xr(r,MO,xO,CO,AO,NO),re=ce.fromISO(X.dateTimeIso);V=ce.fromISO(o.substring(0,10),{zone:s.timezone}).set({hour:re.hour,minute:re.minute}),P=X.granularity}else V=ce.fromISO(o,{zone:s.timezone}),P=l?"day":a?"month":"year";else if(p){de=!1,Le=!0;const X=(je=r[PO])==null?void 0:je.substring(1);let re;if(X){const Pe=s.getById(X);if(Pe&&Yn(Pe)){const Xe=Zt(Pe.dateRangeIso);b==="after"?re=Xe.toDateTime:re=Xe.fromDateTime}else s.parseMessages.push({type:"error",message:`Event ${X} not found`,pos:[n[e]+t.indexOf(X),n[e]+t.indexOf(X)+X.length]})}if(!re){const Pe=s.priorEvent();Pe?re=b==="after"?Zt(Pe.dateRangeIso).toDateTime:Zt(Pe.dateRangeIso).fromDateTime:re=s.zonedNow}!O&&!u?b==="before"?(se=re,V=os.from(p,re,!0)):(V=re,se=os.from(p,re)):b==="before"?O&&(se=os.from(p,re,!0),V=os.from(O,se,!0)):V=os.from(p,re),P="instant"}else E?(V=s.zonedNow,P="instant"):(V=ce.fromISO(o,{zone:s.timezone}),P="instant");if((!V||!(V!=null&&V.isValid))&&(V=s.zonedNow,P="instant"),!se){if(O){const X=r[ZO];let re;if(X){const Pe=s.getById(X);if(Pe&&Yn(Pe))re=Zt(Pe.dateRangeIso).toDateTime,de=!1,Le=!0;else{const Xe=t.indexOf(X);s.parseMessages.push({type:"error",message:`Event ${X} not found`,pos:[n[e]+Xe,n[e]+Xe+X.length]})}}re||(re=V),se=os.from(O,re)}else if(I)se=s.zonedNow,P="instant";else if(f)if(y){const X=Xr(r,BO,WO,jO,VO,qO),re=ce.fromISO(X.dateTimeIso);se=ce.fromISO(o.substring(0,10),{zone:s.timezone}).set({hour:re.hour,minute:re.minute})}else se=ce.fromISO(Yr({dateTimeIso:f,granularity:h?"day":d?"month":"year"},s),{setZone:!0,zone:s.timezone})}(!se||!se.isValid)&&(se=ce.fromISO(Yr({dateTimeIso:V.toISO(),granularity:P},s),{setZone:!0,zone:s.timezone}));const Re=Bp(t,e,n,r,s),Te=L(Ke.DateRangeColon);Re&&s.ranges.push(Re.range),s.ranges.push(Te);const Oe=new Ro({from:V,to:se,originalString:i,dateRangeInText:W,eventText:r[yp],recurrence:Re,isRelative:Le,definition:{...W,type:Ke.EventDefinition,to:Te.to}});return de&&((ae=s.cache)==null||ae.zone(s.timezone).ranges.set(i,{fromDateTimeIso:V.toISO(),toDateTimeIso:se.toISO()})),Oe}function ED(t,e,n,s){var I,z;const r=t.match(dd);if(!r)return;const i=r[QO],o=r[eI],a=r[tI]||r[gp],l=r[nI],c=r[gp],u=t.indexOf(i),f={type:Ke.DateRange,from:n[e]+u,to:n[e]+u+i.length};s.ranges.push(f);const d=t.indexOf(":",u+i.length),h=W=>({type:W,from:n[e]+d,to:n[e]+d+1}),y=(I=s.cache)==null?void 0:I.zone(s.timezone).ranges.get(i);if(y){const W=h(Ke.DateRangeColon);return s.ranges.push(W),new Ro({from:ce.fromISO(y.fromDateTimeIso,{setZone:!0}),to:ce.fromISO(y.toDateTimeIso,{setZone:!0}),originalString:i,dateRangeInText:f,eventText:r[vp],definition:{...f,type:Ke.EventDefinition,to:W.to},isRelative:!1})}let m,p,b="year";if(o)m=Op(o,a,s);else return;(!m||!(m!=null&&m.isValid))&&(m=s.zonedNow,b="instant"),p||l&&(p=Op(l,c,s)),(!p||!p.isValid)&&(p=ce.fromISO(Yr({dateTimeIso:m.toISO(),granularity:b},s),{setZone:!0,zone:s.timezone}));const O=h(Ke.DateRangeColon);s.ranges.push(O);const E=new Ro({from:m,to:p,originalString:i,dateRangeInText:f,eventText:r[vp],definition:{...f,type:Ke.EventDefinition,to:O.to},isRelative:!1});return(z=s.cache)==null||z.zone(s.timezone).ranges.set(i,{fromDateTimeIso:m.toISO(),toDateTimeIso:p.toISO()}),E}const ro=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,f1=new Set,lh=typeof process=="object"&&process?process:{},h1=(t,e,n,s)=>{typeof lh.emitWarning=="function"?lh.emitWarning(t,e,n,s):console.error(`[${n}] ${e}: ${t}`)};let zc=globalThis.AbortController,jp=globalThis.AbortSignal;var s0;if(typeof zc>"u"){jp=class{constructor(){pe(this,"onabort");pe(this,"_onabort",[]);pe(this,"reason");pe(this,"aborted",!1)}addEventListener(s,r){this._onabort.push(r)}},zc=class{constructor(){pe(this,"signal",new jp);e()}abort(s){var r,i;if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const o of this.signal._onabort)o(s);(i=(r=this.signal).onabort)==null||i.call(r,s)}}};let t=((s0=lh.env)==null?void 0:s0.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,h1("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const SD=t=>!f1.has(t),_r=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),d1=t=>_r(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?dc:null:null;class dc extends Array{constructor(e){super(e),this.fill(0)}}var Eo;const vi=class vi{constructor(e,n){pe(this,"heap");pe(this,"length");if(!A(vi,Eo))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(e),this.length=0}static create(e){const n=d1(e);if(!n)return[];Fe(vi,Eo,!0);const s=new vi(e,n);return Fe(vi,Eo,!1),s}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};Eo=new WeakMap,Ze(vi,Eo,!1);let ch=vi;var r0,i0,bs,Bn,Ts,_i,ks,So,_o,Bt,Es,Ut,It,Ve,wn,Wn,rn,Vt,Ss,qt,_s,Os,jn,Is,Fr,bn,Oo,Se,uh,Oi,or,ll,Vn,m1,Ii,Io,cl,Or,Ir,fh,mc,pc,Ot,hh,Sa,Dr,dh;const Xd=class Xd{constructor(e){Ze(this,Se);Ze(this,bs);Ze(this,Bn);Ze(this,Ts);Ze(this,_i);Ze(this,ks);Ze(this,So);Ze(this,_o);pe(this,"ttl");pe(this,"ttlResolution");pe(this,"ttlAutopurge");pe(this,"updateAgeOnGet");pe(this,"updateAgeOnHas");pe(this,"allowStale");pe(this,"noDisposeOnSet");pe(this,"noUpdateTTL");pe(this,"maxEntrySize");pe(this,"sizeCalculation");pe(this,"noDeleteOnFetchRejection");pe(this,"noDeleteOnStaleGet");pe(this,"allowStaleOnFetchAbort");pe(this,"allowStaleOnFetchRejection");pe(this,"ignoreFetchAbort");Ze(this,Bt);Ze(this,Es);Ze(this,Ut);Ze(this,It);Ze(this,Ve);Ze(this,wn);Ze(this,Wn);Ze(this,rn);Ze(this,Vt);Ze(this,Ss);Ze(this,qt);Ze(this,_s);Ze(this,Os);Ze(this,jn);Ze(this,Is);Ze(this,Fr);Ze(this,bn);Ze(this,Oo);Ze(this,Oi,()=>{});Ze(this,or,()=>{});Ze(this,ll,()=>{});Ze(this,Vn,()=>!1);Ze(this,Ii,e=>{});Ze(this,Io,(e,n,s)=>{});Ze(this,cl,(e,n,s,r)=>{if(s||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});pe(this,r0,"LRUCache");const{max:n=0,ttl:s,ttlResolution:r=1,ttlAutopurge:i,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,onInsert:u,disposeAfter:f,noDisposeOnSet:d,noUpdateTTL:h,maxSize:y=0,maxEntrySize:m=0,sizeCalculation:p,fetchMethod:b,memoMethod:O,noDeleteOnFetchRejection:E,noDeleteOnStaleGet:I,allowStaleOnFetchRejection:z,allowStaleOnFetchAbort:W,ignoreFetchAbort:C}=e;if(n!==0&&!_r(n))throw new TypeError("max option must be a nonnegative integer");const L=n?d1(n):Array;if(!L)throw new Error("invalid max value: "+n);if(Fe(this,bs,n),Fe(this,Bn,y),this.maxEntrySize=m||A(this,Bn),this.sizeCalculation=p,this.sizeCalculation){if(!A(this,Bn)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(O!==void 0&&typeof O!="function")throw new TypeError("memoMethod must be a function if defined");if(Fe(this,_o,O),b!==void 0&&typeof b!="function")throw new TypeError("fetchMethod must be a function if specified");if(Fe(this,So,b),Fe(this,Fr,!!b),Fe(this,Ut,new Map),Fe(this,It,new Array(n).fill(void 0)),Fe(this,Ve,new Array(n).fill(void 0)),Fe(this,wn,new L(n)),Fe(this,Wn,new L(n)),Fe(this,rn,0),Fe(this,Vt,0),Fe(this,Ss,ch.create(n)),Fe(this,Bt,0),Fe(this,Es,0),typeof c=="function"&&Fe(this,Ts,c),typeof u=="function"&&Fe(this,_i,u),typeof f=="function"?(Fe(this,ks,f),Fe(this,qt,[])):(Fe(this,ks,void 0),Fe(this,qt,void 0)),Fe(this,Is,!!A(this,Ts)),Fe(this,Oo,!!A(this,_i)),Fe(this,bn,!!A(this,ks)),this.noDisposeOnSet=!!d,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!E,this.allowStaleOnFetchRejection=!!z,this.allowStaleOnFetchAbort=!!W,this.ignoreFetchAbort=!!C,this.maxEntrySize!==0){if(A(this,Bn)!==0&&!_r(A(this,Bn)))throw new TypeError("maxSize must be a positive integer if specified");if(!_r(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Ae(this,Se,m1).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!I,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=_r(r)||r===0?r:1,this.ttlAutopurge=!!i,this.ttl=s||0,this.ttl){if(!_r(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Ae(this,Se,uh).call(this)}if(A(this,bs)===0&&this.ttl===0&&A(this,Bn)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!A(this,bs)&&!A(this,Bn)){const Y="LRU_CACHE_UNBOUNDED";SD(Y)&&(f1.add(Y),h1("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Y,Xd))}}static unsafeExposeInternals(e){return{starts:A(e,Os),ttls:A(e,jn),sizes:A(e,_s),keyMap:A(e,Ut),keyList:A(e,It),valList:A(e,Ve),next:A(e,wn),prev:A(e,Wn),get head(){return A(e,rn)},get tail(){return A(e,Vt)},free:A(e,Ss),isBackgroundFetch:n=>{var s;return Ae(s=e,Se,Ot).call(s,n)},backgroundFetch:(n,s,r,i)=>{var o;return Ae(o=e,Se,pc).call(o,n,s,r,i)},moveToTail:n=>{var s;return Ae(s=e,Se,Sa).call(s,n)},indexes:n=>{var s;return Ae(s=e,Se,Or).call(s,n)},rindexes:n=>{var s;return Ae(s=e,Se,Ir).call(s,n)},isStale:n=>{var s;return A(s=e,Vn).call(s,n)}}}get max(){return A(this,bs)}get maxSize(){return A(this,Bn)}get calculatedSize(){return A(this,Es)}get size(){return A(this,Bt)}get fetchMethod(){return A(this,So)}get memoMethod(){return A(this,_o)}get dispose(){return A(this,Ts)}get onInsert(){return A(this,_i)}get disposeAfter(){return A(this,ks)}getRemainingTTL(e){return A(this,Ut).has(e)?1/0:0}*entries(){for(const e of Ae(this,Se,Or).call(this))A(this,Ve)[e]!==void 0&&A(this,It)[e]!==void 0&&!Ae(this,Se,Ot).call(this,A(this,Ve)[e])&&(yield[A(this,It)[e],A(this,Ve)[e]])}*rentries(){for(const e of Ae(this,Se,Ir).call(this))A(this,Ve)[e]!==void 0&&A(this,It)[e]!==void 0&&!Ae(this,Se,Ot).call(this,A(this,Ve)[e])&&(yield[A(this,It)[e],A(this,Ve)[e]])}*keys(){for(const e of Ae(this,Se,Or).call(this)){const n=A(this,It)[e];n!==void 0&&!Ae(this,Se,Ot).call(this,A(this,Ve)[e])&&(yield n)}}*rkeys(){for(const e of Ae(this,Se,Ir).call(this)){const n=A(this,It)[e];n!==void 0&&!Ae(this,Se,Ot).call(this,A(this,Ve)[e])&&(yield n)}}*values(){for(const e of Ae(this,Se,Or).call(this))A(this,Ve)[e]!==void 0&&!Ae(this,Se,Ot).call(this,A(this,Ve)[e])&&(yield A(this,Ve)[e])}*rvalues(){for(const e of Ae(this,Se,Ir).call(this))A(this,Ve)[e]!==void 0&&!Ae(this,Se,Ot).call(this,A(this,Ve)[e])&&(yield A(this,Ve)[e])}[(i0=Symbol.iterator,r0=Symbol.toStringTag,i0)](){return this.entries()}find(e,n={}){for(const s of Ae(this,Se,Or).call(this)){const r=A(this,Ve)[s],i=Ae(this,Se,Ot).call(this,r)?r.__staleWhileFetching:r;if(i!==void 0&&e(i,A(this,It)[s],this))return this.get(A(this,It)[s],n)}}forEach(e,n=this){for(const s of Ae(this,Se,Or).call(this)){const r=A(this,Ve)[s],i=Ae(this,Se,Ot).call(this,r)?r.__staleWhileFetching:r;i!==void 0&&e.call(n,i,A(this,It)[s],this)}}rforEach(e,n=this){for(const s of Ae(this,Se,Ir).call(this)){const r=A(this,Ve)[s],i=Ae(this,Se,Ot).call(this,r)?r.__staleWhileFetching:r;i!==void 0&&e.call(n,i,A(this,It)[s],this)}}purgeStale(){let e=!1;for(const n of Ae(this,Se,Ir).call(this,{allowStale:!0}))A(this,Vn).call(this,n)&&(Ae(this,Se,Dr).call(this,A(this,It)[n],"expire"),e=!0);return e}info(e){const n=A(this,Ut).get(e);if(n===void 0)return;const s=A(this,Ve)[n],r=Ae(this,Se,Ot).call(this,s)?s.__staleWhileFetching:s;if(r===void 0)return;const i={value:r};if(A(this,jn)&&A(this,Os)){const o=A(this,jn)[n],a=A(this,Os)[n];if(o&&a){const l=o-(ro.now()-a);i.ttl=l,i.start=Date.now()}}return A(this,_s)&&(i.size=A(this,_s)[n]),i}dump(){const e=[];for(const n of Ae(this,Se,Or).call(this,{allowStale:!0})){const s=A(this,It)[n],r=A(this,Ve)[n],i=Ae(this,Se,Ot).call(this,r)?r.__staleWhileFetching:r;if(i===void 0||s===void 0)continue;const o={value:i};if(A(this,jn)&&A(this,Os)){o.ttl=A(this,jn)[n];const a=ro.now()-A(this,Os)[n];o.start=Math.floor(Date.now()-a)}A(this,_s)&&(o.size=A(this,_s)[n]),e.unshift([s,o])}return e}load(e){this.clear();for(const[n,s]of e){if(s.start){const r=Date.now()-s.start;s.start=ro.now()-r}this.set(n,s.value,s)}}set(e,n,s={}){var d,h,y,m,p,b,O;if(n===void 0)return this.delete(e),this;const{ttl:r=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=s;let{noUpdateTTL:c=this.noUpdateTTL}=s;const u=A(this,cl).call(this,e,n,s.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),Ae(this,Se,Dr).call(this,e,"set"),this;let f=A(this,Bt)===0?void 0:A(this,Ut).get(e);if(f===void 0)f=A(this,Bt)===0?A(this,Vt):A(this,Ss).length!==0?A(this,Ss).pop():A(this,Bt)===A(this,bs)?Ae(this,Se,mc).call(this,!1):A(this,Bt),A(this,It)[f]=e,A(this,Ve)[f]=n,A(this,Ut).set(e,f),A(this,wn)[A(this,Vt)]=f,A(this,Wn)[f]=A(this,Vt),Fe(this,Vt,f),Nl(this,Bt)._++,A(this,Io).call(this,f,u,l),l&&(l.set="add"),c=!1,A(this,Oo)&&((d=A(this,_i))==null||d.call(this,n,e,"add"));else{Ae(this,Se,Sa).call(this,f);const E=A(this,Ve)[f];if(n!==E){if(A(this,Fr)&&Ae(this,Se,Ot).call(this,E)){E.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:I}=E;I!==void 0&&!o&&(A(this,Is)&&((h=A(this,Ts))==null||h.call(this,I,e,"set")),A(this,bn)&&((y=A(this,qt))==null||y.push([I,e,"set"])))}else o||(A(this,Is)&&((m=A(this,Ts))==null||m.call(this,E,e,"set")),A(this,bn)&&((p=A(this,qt))==null||p.push([E,e,"set"])));if(A(this,Ii).call(this,f),A(this,Io).call(this,f,u,l),A(this,Ve)[f]=n,l){l.set="replace";const I=E&&Ae(this,Se,Ot).call(this,E)?E.__staleWhileFetching:E;I!==void 0&&(l.oldValue=I)}}else l&&(l.set="update");A(this,Oo)&&((b=this.onInsert)==null||b.call(this,n,e,n===E?"update":"replace"))}if(r!==0&&!A(this,jn)&&Ae(this,Se,uh).call(this),A(this,jn)&&(c||A(this,ll).call(this,f,r,i),l&&A(this,or).call(this,l,f)),!o&&A(this,bn)&&A(this,qt)){const E=A(this,qt);let I;for(;I=E==null?void 0:E.shift();)(O=A(this,ks))==null||O.call(this,...I)}return this}pop(){var e;try{for(;A(this,Bt);){const n=A(this,Ve)[A(this,rn)];if(Ae(this,Se,mc).call(this,!0),Ae(this,Se,Ot).call(this,n)){if(n.__staleWhileFetching)return n.__staleWhileFetching}else if(n!==void 0)return n}}finally{if(A(this,bn)&&A(this,qt)){const n=A(this,qt);let s;for(;s=n==null?void 0:n.shift();)(e=A(this,ks))==null||e.call(this,...s)}}}has(e,n={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:r}=n,i=A(this,Ut).get(e);if(i!==void 0){const o=A(this,Ve)[i];if(Ae(this,Se,Ot).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(A(this,Vn).call(this,i))r&&(r.has="stale",A(this,or).call(this,r,i));else return s&&A(this,Oi).call(this,i),r&&(r.has="hit",A(this,or).call(this,r,i)),!0}else r&&(r.has="miss");return!1}peek(e,n={}){const{allowStale:s=this.allowStale}=n,r=A(this,Ut).get(e);if(r===void 0||!s&&A(this,Vn).call(this,r))return;const i=A(this,Ve)[r];return Ae(this,Se,Ot).call(this,i)?i.__staleWhileFetching:i}async fetch(e,n={}){const{allowStale:s=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:h=this.ignoreFetchAbort,allowStaleOnFetchAbort:y=this.allowStaleOnFetchAbort,context:m,forceRefresh:p=!1,status:b,signal:O}=n;if(!A(this,Fr))return b&&(b.fetch="get"),this.get(e,{allowStale:s,updateAgeOnGet:r,noDeleteOnStaleGet:i,status:b});const E={allowStale:s,updateAgeOnGet:r,noDeleteOnStaleGet:i,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:y,ignoreFetchAbort:h,status:b,signal:O};let I=A(this,Ut).get(e);if(I===void 0){b&&(b.fetch="miss");const z=Ae(this,Se,pc).call(this,e,I,E,m);return z.__returned=z}else{const z=A(this,Ve)[I];if(Ae(this,Se,Ot).call(this,z)){const V=s&&z.__staleWhileFetching!==void 0;return b&&(b.fetch="inflight",V&&(b.returnedStale=!0)),V?z.__staleWhileFetching:z.__returned=z}const W=A(this,Vn).call(this,I);if(!p&&!W)return b&&(b.fetch="hit"),Ae(this,Se,Sa).call(this,I),r&&A(this,Oi).call(this,I),b&&A(this,or).call(this,b,I),z;const C=Ae(this,Se,pc).call(this,e,I,E,m),Y=C.__staleWhileFetching!==void 0&&s;return b&&(b.fetch=W?"stale":"refresh",Y&&W&&(b.returnedStale=!0)),Y?C.__staleWhileFetching:C.__returned=C}}async forceFetch(e,n={}){const s=await this.fetch(e,n);if(s===void 0)throw new Error("fetch() returned undefined");return s}memo(e,n={}){const s=A(this,_o);if(!s)throw new Error("no memoMethod provided to constructor");const{context:r,forceRefresh:i,...o}=n,a=this.get(e,o);if(!i&&a!==void 0)return a;const l=s(e,a,{options:o,context:r});return this.set(e,l,o),l}get(e,n={}){const{allowStale:s=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:o}=n,a=A(this,Ut).get(e);if(a!==void 0){const l=A(this,Ve)[a],c=Ae(this,Se,Ot).call(this,l);return o&&A(this,or).call(this,o,a),A(this,Vn).call(this,a)?(o&&(o.get="stale"),c?(o&&s&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?l.__staleWhileFetching:void 0):(i||Ae(this,Se,Dr).call(this,e,"expire"),o&&s&&(o.returnedStale=!0),s?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(Ae(this,Se,Sa).call(this,a),r&&A(this,Oi).call(this,a),l))}else o&&(o.get="miss")}delete(e){return Ae(this,Se,Dr).call(this,e,"delete")}clear(){return Ae(this,Se,dh).call(this,"delete")}};bs=new WeakMap,Bn=new WeakMap,Ts=new WeakMap,_i=new WeakMap,ks=new WeakMap,So=new WeakMap,_o=new WeakMap,Bt=new WeakMap,Es=new WeakMap,Ut=new WeakMap,It=new WeakMap,Ve=new WeakMap,wn=new WeakMap,Wn=new WeakMap,rn=new WeakMap,Vt=new WeakMap,Ss=new WeakMap,qt=new WeakMap,_s=new WeakMap,Os=new WeakMap,jn=new WeakMap,Is=new WeakMap,Fr=new WeakMap,bn=new WeakMap,Oo=new WeakMap,Se=new WeakSet,uh=function(){const e=new dc(A(this,bs)),n=new dc(A(this,bs));Fe(this,jn,e),Fe(this,Os,n),Fe(this,ll,(i,o,a=ro.now())=>{if(n[i]=o!==0?a:0,e[i]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{A(this,Vn).call(this,i)&&Ae(this,Se,Dr).call(this,A(this,It)[i],"expire")},o+1);l.unref&&l.unref()}}),Fe(this,Oi,i=>{n[i]=e[i]!==0?ro.now():0}),Fe(this,or,(i,o)=>{if(e[o]){const a=e[o],l=n[o];if(!a||!l)return;i.ttl=a,i.start=l,i.now=s||r();const c=i.now-l;i.remainingTTL=a-c}});let s=0;const r=()=>{const i=ro.now();if(this.ttlResolution>0){s=i;const o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return i};this.getRemainingTTL=i=>{const o=A(this,Ut).get(i);if(o===void 0)return 0;const a=e[o],l=n[o];if(!a||!l)return 1/0;const c=(s||r())-l;return a-c},Fe(this,Vn,i=>{const o=n[i],a=e[i];return!!a&&!!o&&(s||r())-o>a})},Oi=new WeakMap,or=new WeakMap,ll=new WeakMap,Vn=new WeakMap,m1=function(){const e=new dc(A(this,bs));Fe(this,Es,0),Fe(this,_s,e),Fe(this,Ii,n=>{Fe(this,Es,A(this,Es)-e[n]),e[n]=0}),Fe(this,cl,(n,s,r,i)=>{if(Ae(this,Se,Ot).call(this,s))return 0;if(!_r(r))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(r=i(s,n),!_r(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return r}),Fe(this,Io,(n,s,r)=>{if(e[n]=s,A(this,Bn)){const i=A(this,Bn)-e[n];for(;A(this,Es)>i;)Ae(this,Se,mc).call(this,!0)}Fe(this,Es,A(this,Es)+e[n]),r&&(r.entrySize=s,r.totalCalculatedSize=A(this,Es))})},Ii=new WeakMap,Io=new WeakMap,cl=new WeakMap,Or=function*({allowStale:e=this.allowStale}={}){if(A(this,Bt))for(let n=A(this,Vt);!(!Ae(this,Se,fh).call(this,n)||((e||!A(this,Vn).call(this,n))&&(yield n),n===A(this,rn)));)n=A(this,Wn)[n]},Ir=function*({allowStale:e=this.allowStale}={}){if(A(this,Bt))for(let n=A(this,rn);!(!Ae(this,Se,fh).call(this,n)||((e||!A(this,Vn).call(this,n))&&(yield n),n===A(this,Vt)));)n=A(this,wn)[n]},fh=function(e){return e!==void 0&&A(this,Ut).get(A(this,It)[e])===e},mc=function(e){var i,o;const n=A(this,rn),s=A(this,It)[n],r=A(this,Ve)[n];return A(this,Fr)&&Ae(this,Se,Ot).call(this,r)?r.__abortController.abort(new Error("evicted")):(A(this,Is)||A(this,bn))&&(A(this,Is)&&((i=A(this,Ts))==null||i.call(this,r,s,"evict")),A(this,bn)&&((o=A(this,qt))==null||o.push([r,s,"evict"]))),A(this,Ii).call(this,n),e&&(A(this,It)[n]=void 0,A(this,Ve)[n]=void 0,A(this,Ss).push(n)),A(this,Bt)===1?(Fe(this,rn,Fe(this,Vt,0)),A(this,Ss).length=0):Fe(this,rn,A(this,wn)[n]),A(this,Ut).delete(s),Nl(this,Bt)._--,n},pc=function(e,n,s,r){const i=n===void 0?void 0:A(this,Ve)[n];if(Ae(this,Se,Ot).call(this,i))return i;const o=new zc,{signal:a}=s;a==null||a.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});const l={signal:o.signal,options:s,context:r},c=(m,p=!1)=>{const{aborted:b}=o.signal,O=s.ignoreFetchAbort&&m!==void 0;if(s.status&&(b&&!p?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,O&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),b&&!O&&!p)return f(o.signal.reason);const E=h;return A(this,Ve)[n]===h&&(m===void 0?E.__staleWhileFetching?A(this,Ve)[n]=E.__staleWhileFetching:Ae(this,Se,Dr).call(this,e,"fetch"):(s.status&&(s.status.fetchUpdated=!0),this.set(e,m,l.options))),m},u=m=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=m),f(m)),f=m=>{const{aborted:p}=o.signal,b=p&&s.allowStaleOnFetchAbort,O=b||s.allowStaleOnFetchRejection,E=O||s.noDeleteOnFetchRejection,I=h;if(A(this,Ve)[n]===h&&(!E||I.__staleWhileFetching===void 0?Ae(this,Se,Dr).call(this,e,"fetch"):b||(A(this,Ve)[n]=I.__staleWhileFetching)),O)return s.status&&I.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),I.__staleWhileFetching;if(I.__returned===I)throw m},d=(m,p)=>{var O;const b=(O=A(this,So))==null?void 0:O.call(this,e,i,l);b&&b instanceof Promise&&b.then(E=>m(E===void 0?void 0:E),p),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(m(void 0),s.allowStaleOnFetchAbort&&(m=E=>c(E,!0)))})};s.status&&(s.status.fetchDispatched=!0);const h=new Promise(d).then(c,u),y=Object.assign(h,{__abortController:o,__staleWhileFetching:i,__returned:void 0});return n===void 0?(this.set(e,y,{...l.options,status:void 0}),n=A(this,Ut).get(e)):A(this,Ve)[n]=y,y},Ot=function(e){if(!A(this,Fr))return!1;const n=e;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof zc},hh=function(e,n){A(this,Wn)[n]=e,A(this,wn)[e]=n},Sa=function(e){e!==A(this,Vt)&&(e===A(this,rn)?Fe(this,rn,A(this,wn)[e]):Ae(this,Se,hh).call(this,A(this,Wn)[e],A(this,wn)[e]),Ae(this,Se,hh).call(this,A(this,Vt),e),Fe(this,Vt,e))},Dr=function(e,n){var r,i,o,a;let s=!1;if(A(this,Bt)!==0){const l=A(this,Ut).get(e);if(l!==void 0)if(s=!0,A(this,Bt)===1)Ae(this,Se,dh).call(this,n);else{A(this,Ii).call(this,l);const c=A(this,Ve)[l];if(Ae(this,Se,Ot).call(this,c)?c.__abortController.abort(new Error("deleted")):(A(this,Is)||A(this,bn))&&(A(this,Is)&&((r=A(this,Ts))==null||r.call(this,c,e,n)),A(this,bn)&&((i=A(this,qt))==null||i.push([c,e,n]))),A(this,Ut).delete(e),A(this,It)[l]=void 0,A(this,Ve)[l]=void 0,l===A(this,Vt))Fe(this,Vt,A(this,Wn)[l]);else if(l===A(this,rn))Fe(this,rn,A(this,wn)[l]);else{const u=A(this,Wn)[l];A(this,wn)[u]=A(this,wn)[l];const f=A(this,wn)[l];A(this,Wn)[f]=A(this,Wn)[l]}Nl(this,Bt)._--,A(this,Ss).push(l)}}if(A(this,bn)&&((o=A(this,qt))!=null&&o.length)){const l=A(this,qt);let c;for(;c=l==null?void 0:l.shift();)(a=A(this,ks))==null||a.call(this,...c)}return s},dh=function(e){var n,s,r;for(const i of Ae(this,Se,Ir).call(this,{allowStale:!0})){const o=A(this,Ve)[i];if(Ae(this,Se,Ot).call(this,o))o.__abortController.abort(new Error("deleted"));else{const a=A(this,It)[i];A(this,Is)&&((n=A(this,Ts))==null||n.call(this,o,a,e)),A(this,bn)&&((s=A(this,qt))==null||s.push([o,a,e]))}}if(A(this,Ut).clear(),A(this,Ve).fill(void 0),A(this,It).fill(void 0),A(this,jn)&&A(this,Os)&&(A(this,jn).fill(0),A(this,Os).fill(0)),A(this,_s)&&A(this,_s).fill(0),Fe(this,rn,0),Fe(this,Vt,0),A(this,Ss).length=0,Fe(this,Es,0),Fe(this,Bt,0),A(this,bn)&&A(this,qt)){const i=A(this,qt);let o;for(;o=i==null?void 0:i.shift();)(r=A(this,ks))==null||r.call(this,...o)}};let Hc=Xd;function vu(t,e,n,s){if(t.match(th)){const r=n[e],i=r+t.length;s.ranges.push({type:Ke.Comment,from:r,to:i});const o=s.currentFoldableComment();if(o)o.endIndex=i;else{const a=t.indexOf("//");s.startFoldable({startIndex:r,startLine:e,endIndex:i,type:"comment",foldStartIndex:r+(a>-1?a+2:0)})}return!0}else return s.finishFoldableComment(e),!1}function _D(t,e,n,s){const r=t.match(TO);if(r){const i=t.indexOf("-"),o=n[e]+i,a=n[e]+t.indexOf(r[1]),l=a+r[1].length,c={type:Ke.listItemIndicator,from:o,to:o+1},u={type:Ke.CheckboxItemIndicator,from:a,to:l,content:r[2]==="x"||r[2]==="X"},f={type:Ke.ListItemContents,from:l,to:n[e]+t.length};return s.ranges.push(c,u,f),[c,u,f]}else if(t.match(bO)){const i=t.indexOf("-"),o=n[e]+i,a={type:Ke.listItemIndicator,from:o,to:o+1},l={type:Ke.ListItemContents,from:o+2,to:n[e]+t.length};return s.ranges.push(a,l),[a,l]}return!1}function OD(t){return t.replace(/(^|\\W+)#(\\w+)/g,(e,n,s,r,i)=>`${n})${s}`)}function ID(t,e,n,s){const r=(i,o,a,l,c)=>{if(l===0){const u=n[e]+l+o.length;s.ranges.push({type:Ke.Tag,from:u,to:u+a.length+1,content:{tag:a}})}return`${o})${a}`};return t.replace(/(^|\\W+)#(\\w+)/g,r)}function p1(t,e,n,s){const r=t.matchAll(Rc);if(r)for(let i of r){const o=t.indexOf("#"+i[1]),a=n[e]+o;s.ranges.push({type:Ke.Tag,from:a,to:a+i[1].length+1,content:{tag:i[1]}})}return!1}function Vr(t,e){const n=`${t}`,s=e==null?void 0:e.zones.get(n);if(s)return s;{const r=["z","ZZZ","ZZ","Z"];let i;for(const o of r)if(i=ce.fromFormat(n,o,{setZone:!0}),i.isValid&&i.zone.isValid||o!=="z"&&(i=ce.fromFormat(`+${n}`,o,{setZone:!0}),i.isValid&&i.zone.isValid))return e==null||e.zones.set(n,i.zone),i.zone}}const Td=Symbol.for("yaml.alias"),mh=Symbol.for("yaml.document"),qr=Symbol.for("yaml.map"),y1=Symbol.for("yaml.pair"),Ks=Symbol.for("yaml.scalar"),Jo=Symbol.for("yaml.seq"),ms=Symbol.for("yaml.node.type"),Ui=t=>!!t&&typeof t=="object"&&t[ms]===Td,wu=t=>!!t&&typeof t=="object"&&t[ms]===mh,wl=t=>!!t&&typeof t=="object"&&t[ms]===qr,$t=t=>!!t&&typeof t=="object"&&t[ms]===y1,_t=t=>!!t&&typeof t=="object"&&t[ms]===Ks,bl=t=>!!t&&typeof t=="object"&&t[ms]===Jo;function Yt(t){if(t&&typeof t=="object")switch(t[ms]){case qr:case Jo:return!0}return!1}function Ft(t){if(t&&typeof t=="object")switch(t[ms]){case Td:case qr:case Ks:case Jo:return!0}return!1}const g1=t=>(_t(t)||Yt(t))&&!!t.anchor,pi=Symbol("break visit"),DD=Symbol("skip children"),Pa=Symbol("remove node");function Qo(t,e){const n=MD(e);wu(t)?uo(null,t.contents,n,Object.freeze([t]))===Pa&&(t.contents=null):uo(null,t,n,Object.freeze([]))}Qo.BREAK=pi;Qo.SKIP=DD;Qo.REMOVE=Pa;function uo(t,e,n,s){const r=xD(t,e,n,s);if(Ft(r)||$t(r))return CD(t,s,r),uo(t,r,n,s);if(typeof r!="symbol"){if(Yt(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const o=uo(i,e.items[i],n,s);if(typeof o=="number")i=o-1;else{if(o===pi)return pi;o===Pa&&(e.items.splice(i,1),i-=1)}}}else if($t(e)){s=Object.freeze(s.concat(e));const i=uo("key",e.key,n,s);if(i===pi)return pi;i===Pa&&(e.key=null);const o=uo("value",e.value,n,s);if(o===pi)return pi;o===Pa&&(e.value=null)}}return r}function MD(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function xD(t,e,n,s){var r,i,o,a,l;if(typeof n=="function")return n(t,e,s);if(wl(e))return(r=n.Map)==null?void 0:r.call(n,t,e,s);if(bl(e))return(i=n.Seq)==null?void 0:i.call(n,t,e,s);if($t(e))return(o=n.Pair)==null?void 0:o.call(n,t,e,s);if(_t(e))return(a=n.Scalar)==null?void 0:a.call(n,t,e,s);if(Ui(e))return(l=n.Alias)==null?void 0:l.call(n,t,e,s)}function CD(t,e,n){const s=e[e.length-1];if(Yt(s))s.items[t]=n;else if($t(s))t==="key"?s.key=n:s.value=n;else if(wu(s))s.contents=n;else{const r=Ui(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}const AD={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},ND=t=>t.replace(/[!,[\\]{}]/g,e=>AD[e]);class En{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},En.defaultYaml,e),this.tags=Object.assign({},En.defaultTags,n)}clone(){const e=new En(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new En(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:En.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},En.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:En.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},En.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \\t]+/),r=s.shift();switch(r){case"%TAG":{if(s.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[i,o]=s;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=s;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\\d+\\.\\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${r}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren\'t resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,s,r]=e.match(/^(.*!)([^!]*)$/s);r||n(`The ${e} tag has no suffix`);const i=this.tags[s];if(i)try{return i+decodeURIComponent(r)}catch(o){return n(String(o)),null}return s==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,s]of Object.entries(this.tags))if(e.startsWith(s))return n+ND(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let r;if(e&&s.length>0&&Ft(e.contents)){const i={};Qo(e.contents,(o,a)=>{Ft(a)&&a.tag&&(i[a.tag]=!0)}),r=Object.keys(i)}else r=[];for(const[i,o]of s)i==="!!"&&o==="tag:yaml.org,2002:"||(!e||r.some(a=>a.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`\n`)}}En.defaultYaml={explicit:!1,version:"1.2"};En.defaultTags={"!!":"tag:yaml.org,2002:"};function v1(t){if(/[\\x00-\\x19\\s,[\\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function w1(t){const e=new Set;return Qo(t,{Value(n,s){s.anchor&&e.add(s.anchor)}}),e}function b1(t,e){for(let n=1;;++n){const s=`${t}${n}`;if(!e.has(s))return s}}function LD(t,e){const n=[],s=new Map;let r=null;return{onAnchor:i=>{n.push(i),r??(r=w1(t));const o=b1(e,r);return r.add(o),o},setAnchors:()=>{for(const i of n){const o=s.get(i);if(typeof o=="object"&&o.anchor&&(_t(o.node)||Yt(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}}},sourceObjects:s}}function fo(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let r=0,i=s.length;r<i;++r){const o=s[r],a=fo(t,s,String(r),o);a===void 0?delete s[r]:a!==o&&(s[r]=a)}else if(s instanceof Map)for(const r of Array.from(s.keys())){const i=s.get(r),o=fo(t,s,r,i);o===void 0?s.delete(r):o!==i&&s.set(r,o)}else if(s instanceof Set)for(const r of Array.from(s)){const i=fo(t,s,r,r);i===void 0?s.delete(r):i!==r&&(s.delete(r),s.add(i))}else for(const[r,i]of Object.entries(s)){const o=fo(t,s,r,i);o===void 0?delete s[r]:o!==i&&(s[r]=o)}return t.call(e,n,s)}function ds(t,e,n){if(Array.isArray(t))return t.map((s,r)=>ds(s,String(r),n));if(t&&typeof t.toJSON=="function"){if(!n||!g1(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=i=>{s.res=i,delete n.onCreate};const r=t.toJSON(e,n);return n.onCreate&&n.onCreate(r),r}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class kd{constructor(e){Object.defineProperty(this,ms,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:r,reviver:i}={}){if(!wu(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=ds(this,"",o);if(typeof r=="function")for(const{count:l,res:c}of o.anchors.values())r(c,l);return typeof i=="function"?fo(i,{"":a},"",a):a}}class Ed extends kd{constructor(e){super(Td),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let s;n!=null&&n.aliasResolveCache?s=n.aliasResolveCache:(s=[],Qo(e,{Node:(i,o)=>{(Ui(o)||g1(o))&&s.push(o)}}),n&&(n.aliasResolveCache=s));let r;for(const i of s){if(i===this)break;i.anchor===this.source&&(r=i)}return r}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:r,maxAliasCount:i}=n,o=this.resolve(r,n);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=s.get(o);if(a||(ds(o,null,n),a=s.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=yc(r,o,s)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,s){const r=`*${this.source}`;if(e){if(v1(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${r} `}return r}}function yc(t,e,n){if(Ui(e)){const s=e.resolve(t),r=n&&s&&n.get(s);return r?r.count*r.aliasCount:0}else if(Yt(e)){let s=0;for(const r of e.items){const i=yc(t,r,n);i>s&&(s=i)}return s}else if($t(e)){const s=yc(t,e.key,n),r=yc(t,e.value,n);return Math.max(s,r)}return 1}const T1=t=>!t||typeof t!="function"&&typeof t!="object";class qe extends kd{constructor(e){super(Ks),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:ds(this.value,e,n)}toString(){return String(this.value)}}qe.BLOCK_FOLDED="BLOCK_FOLDED";qe.BLOCK_LITERAL="BLOCK_LITERAL";qe.PLAIN="PLAIN";qe.QUOTE_DOUBLE="QUOTE_DOUBLE";qe.QUOTE_SINGLE="QUOTE_SINGLE";const RD="tag:yaml.org,2002:";function PD(t,e,n){if(e){const s=n.filter(i=>i.tag===e),r=s.find(i=>!i.format)??s[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return n.find(s=>{var r;return((r=s.identify)==null?void 0:r.call(s,t))&&!s.format})}function el(t,e,n){var f,d,h;if(wu(t)&&(t=t.contents),Ft(t))return t;if($t(t)){const y=(d=(f=n.schema[qr]).createNode)==null?void 0:d.call(f,n.schema,null,n);return y.items.push(t),y}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:r,onTagObj:i,schema:o,sourceObjects:a}=n;let l;if(s&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor??(l.anchor=r(t)),new Ed(l.anchor);l={anchor:null,node:null},a.set(t,l)}e!=null&&e.startsWith("!!")&&(e=RD+e.slice(2));let c=PD(t,e,o.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const y=new qe(t);return l&&(l.node=y),y}c=t instanceof Map?o[qr]:Symbol.iterator in Object(t)?o[Jo]:o[qr]}i&&(i(c),delete n.onTagObj);const u=c!=null&&c.createNode?c.createNode(n.schema,t,n):typeof((h=c==null?void 0:c.nodeClass)==null?void 0:h.from)=="function"?c.nodeClass.from(n.schema,t,n):new qe(t);return e?u.tag=e:c.default||(u.tag=c.tag),l&&(l.node=u),u}function Bc(t,e,n){let s=n;for(let r=e.length-1;r>=0;--r){const i=e[r];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=s,s=o}else s=new Map([[i,s]])}return el(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const _a=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class k1 extends kd{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>Ft(s)||$t(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(_a(e))this.add(n);else{const[s,...r]=e,i=this.get(s,!0);if(Yt(i))i.addIn(r,n);else if(i===void 0&&this.schema)this.set(s,Bc(this.schema,r,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const r=this.get(n,!0);if(Yt(r))return r.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...r]=e,i=this.get(s,!0);return r.length===0?!n&&_t(i)?i.value:i:Yt(i)?i.getIn(r,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!$t(n))return!1;const s=n.value;return s==null||e&&_t(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const r=this.get(n,!0);return Yt(r)?r.hasIn(s):!1}setIn(e,n){const[s,...r]=e;if(r.length===0)this.set(s,n);else{const i=this.get(s,!0);if(Yt(i))i.setIn(r,n);else if(i===void 0&&this.schema)this.set(s,Bc(this.schema,r,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}}const YD=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function cr(t,e){return/^\\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const bi=(t,e,n)=>t.endsWith(`\n`)?cr(n,e):n.includes(`\n`)?`\n`+cr(n,e):(t.endsWith(" ")?"":" ")+n,E1="flow",ph="block",gc="quoted";function bu(t,e,n="flow",{indentAtStart:s,lineWidth:r=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!r||r<0)return t;r<i&&(i=0);const l=Math.max(1+i,1+r-e.length);if(t.length<=l)return t;const c=[],u={};let f=r-e.length;typeof s=="number"&&(s>r-Math.max(2,i)?c.push(0):f=r-s);let d,h,y=!1,m=-1,p=-1,b=-1;n===ph&&(m=Vp(t,m,e.length),m!==-1&&(f=m+l));for(let E;E=t[m+=1];){if(n===gc&&E==="\\\\"){switch(p=m,t[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}b=m}if(E===`\n`)n===ph&&(m=Vp(t,m,e.length)),f=m+e.length+l,d=void 0;else{if(E===" "&&h&&h!==" "&&h!==`\n`&&h!=="	"){const I=t[m+1];I&&I!==" "&&I!==`\n`&&I!=="	"&&(d=m)}if(m>=f)if(d)c.push(d),f=d+l,d=void 0;else if(n===gc){for(;h===" "||h==="	";)h=E,E=t[m+=1],y=!0;const I=m>b+1?m-2:p-1;if(u[I])return t;c.push(I),u[I]=!0,f=I+l,d=void 0}else y=!0}h=E}if(y&&a&&a(),c.length===0)return t;o&&o();let O=t.slice(0,c[0]);for(let E=0;E<c.length;++E){const I=c[E],z=c[E+1]||t.length;I===0?O=`\n${e}${t.slice(0,z)}`:(n===gc&&u[I]&&(O+=`${t[I]}\\\\`),O+=`\n${e}${t.slice(I+1,z)}`)}return O}function Vp(t,e,n){let s=e,r=e+1,i=t[r];for(;i===" "||i==="	";)if(e<r+n)i=t[++e];else{do i=t[++e];while(i&&i!==`\n`);s=e,r=e+1,i=t[r]}return s}const Tu=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),ku=t=>/^(%|---|\\.\\.\\.)/m.test(t);function FD(t,e,n){if(!e||e<0)return!1;const s=e-n,r=t.length;if(r<=s)return!1;for(let i=0,o=0;i<r;++i)if(t[i]===`\n`){if(i-o>s)return!0;if(o=i+1,r-o<=s)return!1}return!0}function Ya(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,r=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(ku(t)?"  ":"");let o="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\\\ ",l+=1,a=l,c="\\\\"),c==="\\\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const u=n.substr(l+2,4);switch(u){case"0000":o+="\\\\0";break;case"0007":o+="\\\\a";break;case"000b":o+="\\\\v";break;case"001b":o+="\\\\e";break;case"0085":o+="\\\\N";break;case"00a0":o+="\\\\_";break;case"2028":o+="\\\\L";break;case"2029":o+="\\\\P";break;default:u.substr(0,2)==="00"?o+="\\\\x"+u.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||n[l+2]===\'"\'||n.length<r)l+=1;else{for(o+=n.slice(a,l)+`\n\n`;n[l+2]==="\\\\"&&n[l+3]==="n"&&n[l+4]!==\'"\';)o+=`\n`,l+=2;o+=i,n[l+2]===" "&&(o+="\\\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,s?o:bu(o,i,gc,Tu(e,!1))}function yh(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`\n`)||/[ \\t]\\n|\\n[ \\t]/.test(t))return Ya(t,e);const n=e.indent||(ku(t)?"  ":""),s="\'"+t.replace(/\'/g,"\'\'").replace(/\\n+/g,`$&\n${n}`)+"\'";return e.implicitKey?s:bu(s,n,E1,Tu(e,!1))}function ho(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=Ya;else{const r=t.includes(\'"\'),i=t.includes("\'");r&&!i?s=yh:i&&!r?s=Ya:s=n?yh:Ya}return s(t,e)}let gh;try{gh=new RegExp(`(^|(?<!\n))\n+(?!\n|$)`,"g")}catch{gh=/\\n+(?!\\n|$)/g}function vc({comment:t,type:e,value:n},s,r,i){const{blockQuote:o,commentString:a,lineWidth:l}=s.options;if(!o||/\\n[\\t ]+$/.test(n)||/^\\s*$/.test(n))return ho(n,s);const c=s.indent||(s.forceBlockIndent||ku(n)?"  ":""),u=o==="literal"?!0:o==="folded"||e===qe.BLOCK_FOLDED?!1:e===qe.BLOCK_LITERAL?!0:!FD(n,l,c.length);if(!n)return u?`|\n`:`>\n`;let f,d;for(d=n.length;d>0;--d){const z=n[d-1];if(z!==`\n`&&z!=="	"&&z!==" ")break}let h=n.substring(d);const y=h.indexOf(`\n`);y===-1?f="-":n===h||y!==h.length-1?(f="+",i&&i()):f="",h&&(n=n.slice(0,-h.length),h[h.length-1]===`\n`&&(h=h.slice(0,-1)),h=h.replace(gh,`$&${c}`));let m=!1,p,b=-1;for(p=0;p<n.length;++p){const z=n[p];if(z===" ")m=!0;else if(z===`\n`)b=p;else break}let O=n.substring(0,b<p?b+1:p);O&&(n=n.substring(O.length),O=O.replace(/\\n+/g,`$&${c}`));let I=(m?c?"2":"1":"")+f;if(t&&(I+=" "+a(t.replace(/ ?[\\r\\n]+/g," ")),r&&r()),!u){const z=n.replace(/\\n+/g,`\n$&`).replace(/(?:^|\\n)([\\t ].*)(?:([\\n\\t ]*)\\n(?![\\n\\t ]))?/g,"$1$2").replace(/\\n+/g,`$&${c}`);let W=!1;const C=Tu(s,!0);o!=="folded"&&e!==qe.BLOCK_FOLDED&&(C.onOverflow=()=>{W=!0});const L=bu(`${O}${z}${h}`,c,ph,C);if(!W)return`>${I}\n${c}${L}`}return n=n.replace(/\\n+/g,`$&${c}`),`|${I}\n${c}${O}${n}${h}`}function $D(t,e,n,s){const{type:r,value:i}=t,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:u}=e;if(a&&i.includes(`\n`)||u&&/[[\\]{},]/.test(i))return ho(i,e);if(/^[\\n\\t ,[\\]{}#&*!|>\'"%@`]|^[?-]$|^[?-][ \\t]|[\\n:][ \\t]|[ \\t]\\n|[\\n\\t ]#|[\\n\\t :]$/.test(i))return a||u||!i.includes(`\n`)?ho(i,e):vc(t,e,n,s);if(!a&&!u&&r!==qe.PLAIN&&i.includes(`\n`))return vc(t,e,n,s);if(ku(i)){if(l==="")return e.forceBlockIndent=!0,vc(t,e,n,s);if(a&&l===c)return ho(i,e)}const f=i.replace(/\\n+/g,`$&\n${l}`);if(o){const d=m=>{var p;return m.default&&m.tag!=="tag:yaml.org,2002:str"&&((p=m.test)==null?void 0:p.test(f))},{compat:h,tags:y}=e.doc.schema;if(y.some(d)||h!=null&&h.some(d))return ho(i,e)}return a?f:bu(f,l,E1,Tu(e,!1))}function Sd(t,e,n,s){const{implicitKey:r,inFlow:i}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==qe.QUOTE_DOUBLE&&/[\\x00-\\x08\\x0b-\\x1f\\x7f-\\x9f\\u{D800}-\\u{DFFF}]/u.test(o.value)&&(a=qe.QUOTE_DOUBLE);const l=u=>{switch(u){case qe.BLOCK_FOLDED:case qe.BLOCK_LITERAL:return r||i?ho(o.value,e):vc(o,e,n,s);case qe.QUOTE_DOUBLE:return Ya(o.value,e);case qe.QUOTE_SINGLE:return yh(o.value,e);case qe.PLAIN:return $D(o,e,n,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:f}=e.options,d=r&&u||f;if(c=l(d),c===null)throw new Error(`Unsupported default string type ${d}`)}return c}function S1(t,e){const n=Object.assign({blockQuote:!0,commentString:YD,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function UD(t,e){var r;if(e.tag){const i=t.filter(o=>o.tag===e.tag);if(i.length>0)return i.find(o=>o.format===e.format)??i[0]}let n,s;if(_t(e)){s=e.value;let i=t.filter(o=>{var a;return(a=o.identify)==null?void 0:a.call(o,s)});if(i.length>1){const o=i.filter(a=>a.test);o.length>0&&(i=o)}n=i.find(o=>o.format===e.format)??i.find(o=>!o.format)}else s=e,n=t.find(i=>i.nodeClass&&s instanceof i.nodeClass);if(!n){const i=((r=s==null?void 0:s.constructor)==null?void 0:r.name)??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${i} value`)}return n}function zD(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const r=[],i=(_t(t)||Yt(t))&&t.anchor;i&&v1(i)&&(n.add(i),r.push(`&${i}`));const o=t.tag??(e.default?null:e.tag);return o&&r.push(s.directives.tagString(o)),r.join(" ")}function Fo(t,e,n,s){var l;if($t(t))return t.toString(e,n,s);if(Ui(t)){if(e.doc.directives)return t.toString(e);if((l=e.resolvedAliases)!=null&&l.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let r;const i=Ft(t)?t:e.doc.createNode(t,{onTagObj:c=>r=c});r??(r=UD(e.doc.schema.tags,i));const o=zD(i,r,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof r.stringify=="function"?r.stringify(i,e,n,s):_t(i)?Sd(i,e,n,s):i.toString(e,n,s);return o?_t(i)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}\n${e.indent}${a}`:a}function HD({key:t,value:e},n,s,r){const{allNullValues:i,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:f}}=n;let d=Ft(t)&&t.comment||null;if(f){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(Yt(t)||!Ft(t)&&typeof t=="object"){const C="With simple keys, collection cannot be used as a key value";throw new Error(C)}}let h=!f&&(!t||d&&e==null&&!n.inFlow||Yt(t)||(_t(t)?t.type===qe.BLOCK_FOLDED||t.type===qe.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!h&&(f||!i),indent:a+l});let y=!1,m=!1,p=Fo(t,n,()=>y=!0,()=>m=!0);if(!h&&!n.inFlow&&p.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(n.inFlow){if(i||e==null)return y&&s&&s(),p===""?"?":h?`? ${p}`:p}else if(i&&!f||e==null&&h)return p=`? ${p}`,d&&!y?p+=bi(p,n.indent,c(d)):m&&r&&r(),p;y&&(d=null),h?(d&&(p+=bi(p,n.indent,c(d))),p=`? ${p}\n${a}:`):(p=`${p}:`,d&&(p+=bi(p,n.indent,c(d))));let b,O,E;Ft(e)?(b=!!e.spaceBefore,O=e.commentBefore,E=e.comment):(b=!1,O=null,E=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!h&&!d&&_t(e)&&(n.indentAtStart=p.length+1),m=!1,!u&&l.length>=2&&!n.inFlow&&!h&&bl(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let I=!1;const z=Fo(e,n,()=>I=!0,()=>m=!0);let W=" ";if(d||b||O){if(W=b?`\n`:"",O){const C=c(O);W+=`\n${cr(C,n.indent)}`}z===""&&!n.inFlow?W===`\n`&&(W=`\n\n`):W+=`\n${n.indent}`}else if(!h&&Yt(e)){const C=z[0],L=z.indexOf(`\n`),Y=L!==-1,V=n.inFlow??e.flow??e.items.length===0;if(Y||!V){let se=!1;if(Y&&(C==="&"||C==="!")){let P=z.indexOf(" ");C==="&"&&P!==-1&&P<L&&z[P+1]==="!"&&(P=z.indexOf(" ",P+1)),(P===-1||L<P)&&(se=!0)}se||(W=`\n${n.indent}`)}}else(z===""||z[0]===`\n`)&&(W="");return p+=W+z,n.inFlow?I&&s&&s():E&&!I?p+=bi(p,n.indent,c(E)):m&&r&&r(),p}function _1(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const Vl="<<",fr={identify:t=>t===Vl||typeof t=="symbol"&&t.description===Vl,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new qe(Symbol(Vl)),{addToJSMap:O1}),stringify:()=>Vl},BD=(t,e)=>(fr.identify(e)||_t(e)&&(!e.type||e.type===qe.PLAIN)&&fr.identify(e.value))&&(t==null?void 0:t.doc.schema.tags.some(n=>n.tag===fr.tag&&n.default));function O1(t,e,n){if(n=t&&Ui(n)?n.resolve(t.doc):n,bl(n))for(const s of n.items)lf(t,e,s);else if(Array.isArray(n))for(const s of n)lf(t,e,s);else lf(t,e,n)}function lf(t,e,n){const s=t&&Ui(n)?n.resolve(t.doc):n;if(!wl(s))throw new Error("Merge sources must be maps or map aliases");const r=s.toJSON(null,t,Map);for(const[i,o]of r)e instanceof Map?e.has(i)||e.set(i,o):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function I1(t,e,{key:n,value:s}){if(Ft(n)&&n.addToJSMap)n.addToJSMap(t,e,s);else if(BD(t,n))O1(t,e,s);else{const r=ds(n,"",t);if(e instanceof Map)e.set(r,ds(s,r,t));else if(e instanceof Set)e.add(r);else{const i=WD(n,r,t),o=ds(s,i,t);i in e?Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[i]=o}}return e}function WD(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(Ft(t)&&(n!=null&&n.doc)){const s=S1(n.doc,{});s.anchors=new Set;for(const i of n.anchors.keys())s.anchors.add(i.anchor);s.inFlow=!0,s.inStringifyKey=!0;const r=t.toString(s);if(!n.mapKeyWarned){let i=JSON.stringify(r);i.length>40&&(i=i.substring(0,36)+\'..."\'),_1(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(e)}function _d(t,e,n){const s=el(t,void 0,n),r=el(e,void 0,n);return new Mn(s,r)}class Mn{constructor(e,n=null){Object.defineProperty(this,ms,{value:y1}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return Ft(n)&&(n=n.clone(e)),Ft(s)&&(s=s.clone(e)),new Mn(n,s)}toJSON(e,n){const s=n!=null&&n.mapAsMap?new Map:{};return I1(n,s,this)}toString(e,n,s){return e!=null&&e.doc?HD(this,e,n,s):JSON.stringify(this)}}function D1(t,e,n){return(e.inFlow??t.flow?VD:jD)(t,e,n)}function jD({comment:t,items:e},n,{blockItemPrefix:s,flowChars:r,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=n,u=Object.assign({},n,{indent:i,type:null});let f=!1;const d=[];for(let y=0;y<e.length;++y){const m=e[y];let p=null;if(Ft(m))!f&&m.spaceBefore&&d.push(""),Wc(n,d,m.commentBefore,f),m.comment&&(p=m.comment);else if($t(m)){const O=Ft(m.key)?m.key:null;O&&(!f&&O.spaceBefore&&d.push(""),Wc(n,d,O.commentBefore,f))}f=!1;let b=Fo(m,u,()=>p=null,()=>f=!0);p&&(b+=bi(b,i,c(p))),f&&p&&(f=!1),d.push(s+b)}let h;if(d.length===0)h=r.start+r.end;else{h=d[0];for(let y=1;y<d.length;++y){const m=d[y];h+=m?`\n${l}${m}`:`\n`}}return t?(h+=`\n`+cr(c(t),l),a&&a()):f&&o&&o(),h}function VD({items:t},e,{flowChars:n,itemIndent:s}){const{indent:r,indentStep:i,flowCollectionPadding:o,options:{commentString:a}}=e;s+=i;const l=Object.assign({},e,{indent:s,inFlow:!0,type:null});let c=!1,u=0;const f=[];for(let y=0;y<t.length;++y){const m=t[y];let p=null;if(Ft(m))m.spaceBefore&&f.push(""),Wc(e,f,m.commentBefore,!1),m.comment&&(p=m.comment);else if($t(m)){const O=Ft(m.key)?m.key:null;O&&(O.spaceBefore&&f.push(""),Wc(e,f,O.commentBefore,!1),O.comment&&(c=!0));const E=Ft(m.value)?m.value:null;E?(E.comment&&(p=E.comment),E.commentBefore&&(c=!0)):m.value==null&&(O!=null&&O.comment)&&(p=O.comment)}p&&(c=!0);let b=Fo(m,l,()=>p=null);y<t.length-1&&(b+=","),p&&(b+=bi(b,s,a(p))),!c&&(f.length>u||b.includes(`\n`))&&(c=!0),f.push(b),u=f.length}const{start:d,end:h}=n;if(f.length===0)return d+h;if(!c){const y=f.reduce((m,p)=>m+p.length+2,2);c=e.options.lineWidth>0&&y>e.options.lineWidth}if(c){let y=d;for(const m of f)y+=m?`\n${i}${r}${m}`:`\n`;return`${y}\n${r}${h}`}else return`${d}${o}${f.join(" ")}${o}${h}`}function Wc({indent:t,options:{commentString:e}},n,s,r){if(s&&r&&(s=s.replace(/^\\n+/,"")),s){const i=cr(e(s),t);n.push(i.trimStart())}}function Ti(t,e){const n=_t(e)?e.value:e;for(const s of t)if($t(s)&&(s.key===e||s.key===n||_t(s.key)&&s.key.value===n))return s}class ls extends k1{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(qr,e),this.items=[]}static from(e,n,s){const{keepUndefined:r,replacer:i}=s,o=new this(e),a=(l,c)=>{if(typeof i=="function")c=i.call(n,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||r)&&o.items.push(_d(l,c,s))};if(n instanceof Map)for(const[l,c]of n)a(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){var o;let s;$t(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new Mn(e,e==null?void 0:e.value):s=new Mn(e.key,e.value);const r=Ti(this.items,s.key),i=(o=this.schema)==null?void 0:o.sortMapEntries;if(r){if(!n)throw new Error(`Key ${s.key} already set`);_t(r.value)&&T1(s.value)?r.value.value=s.value:r.value=s.value}else if(i){const a=this.items.findIndex(l=>i(s,l)<0);a===-1?this.items.push(s):this.items.splice(a,0,s)}else this.items.push(s)}delete(e){const n=Ti(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const s=Ti(this.items,e),r=s==null?void 0:s.value;return(!n&&_t(r)?r.value:r)??void 0}has(e){return!!Ti(this.items,e)}set(e,n){this.add(new Mn(e,n),!0)}toJSON(e,n,s){const r=s?new s:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items)I1(n,r,i);return r}toString(e,n,s){if(!e)return JSON.stringify(this);for(const r of this.items)if(!$t(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),D1(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}const ea={collection:"map",default:!0,nodeClass:ls,tag:"tag:yaml.org,2002:map",resolve(t,e){return wl(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>ls.from(t,e,n)};class Pi extends k1{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Jo,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=ql(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=ql(e);if(typeof s!="number")return;const r=this.items[s];return!n&&_t(r)?r.value:r}has(e){const n=ql(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=ql(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[s];_t(r)&&T1(n)?r.value=n:this.items[s]=n}toJSON(e,n){const s=[];n!=null&&n.onCreate&&n.onCreate(s);let r=0;for(const i of this.items)s.push(ds(i,String(r++),n));return s}toString(e,n,s){return e?D1(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:r}=s,i=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof r=="function"){const l=n instanceof Set?a:String(o++);a=r.call(n,l,a)}i.items.push(el(a,void 0,s))}}return i}}function ql(t){let e=_t(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const ta={collection:"seq",default:!0,nodeClass:Pi,tag:"tag:yaml.org,2002:seq",resolve(t,e){return bl(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>Pi.from(t,e,n)},Eu={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,s){return e=Object.assign({actualString:!0},e),Sd(t,e,n,s)}},Su={identify:t=>t==null,createNode:()=>new qe(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new qe(null),stringify:({source:t},e)=>typeof t=="string"&&Su.test.test(t)?t:e.options.nullStr},Od={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new qe(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&Od.test.test(t)){const s=t[0]==="t"||t[0]==="T";if(e===s)return t}return e?n.options.trueStr:n.options.falseStr}};function Rs({format:t,minFractionDigits:e,tag:n,value:s}){if(typeof s=="bigint")return String(s);const r=typeof s=="number"?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(s);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let a=e-(i.length-o-1);for(;a-- >0;)i+="0"}return i}const M1={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\\.(?:inf|Inf|INF)|\\.nan|\\.NaN|\\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Rs},x1={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\\.[0-9]+|[0-9]+(?:\\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Rs(t)}},C1={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\\.[0-9]+|[0-9]+\\.[0-9]*)$/,resolve(t){const e=new qe(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:Rs},_u=t=>typeof t=="bigint"||Number.isInteger(t),Id=(t,e,n,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),n);function A1(t,e,n){const{value:s}=t;return _u(s)&&s>=0?n+s.toString(e):Rs(t)}const N1={identify:t=>_u(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>Id(t,2,8,n),stringify:t=>A1(t,8,"0o")},L1={identify:_u,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>Id(t,0,10,n),stringify:Rs},R1={identify:t=>_u(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>Id(t,2,16,n),stringify:t=>A1(t,16,"0x")},qD=[ea,ta,Eu,Su,Od,N1,L1,R1,M1,x1,C1];function qp(t){return typeof t=="bigint"||Number.isInteger(t)}const Kl=({value:t})=>JSON.stringify(t),KD=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Kl},{identify:t=>t==null,createNode:()=>new qe(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Kl},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:Kl},{identify:qp,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>qp(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Kl}],GD={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},ZD=[ea,ta].concat(KD,GD),Dd={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\\n\\r]/g,"")),s=new Uint8Array(n.length);for(let r=0;r<n.length;++r)s[r]=n.charCodeAt(r);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},s,r,i){if(!n)return"";const o=n;let a;if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=qe.BLOCK_LITERAL),e!==qe.QUOTE_DOUBLE){const l=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let f=0,d=0;f<c;++f,d+=l)u[f]=a.substr(d,l);a=u.join(e===qe.BLOCK_LITERAL?`\n`:" ")}return Sd({comment:t,type:e,value:a},s,r,i)}};function P1(t,e){if(bl(t))for(let n=0;n<t.items.length;++n){let s=t.items[n];if(!$t(s)){if(wl(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const r=s.items[0]||new Mn(new qe(null));if(s.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${s.commentBefore}\n${r.key.commentBefore}`:s.commentBefore),s.comment){const i=r.value??r.key;i.comment=i.comment?`${s.comment}\n${i.comment}`:s.comment}s=r}t.items[n]=$t(s)?s:new Mn(s)}}else e("Expected a sequence for this tag");return t}function Y1(t,e,n){const{replacer:s}=n,r=new Pi(t);r.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(i++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;r.items.push(_d(a,l,n))}return r}const Md={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:P1,createNode:Y1};class To extends Pi{constructor(){super(),this.add=ls.prototype.add.bind(this),this.delete=ls.prototype.delete.bind(this),this.get=ls.prototype.get.bind(this),this.has=ls.prototype.has.bind(this),this.set=ls.prototype.set.bind(this),this.tag=To.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n!=null&&n.onCreate&&n.onCreate(s);for(const r of this.items){let i,o;if($t(r)?(i=ds(r.key,"",n),o=ds(r.value,i,n)):i=ds(r,"",n),s.has(i))throw new Error("Ordered maps must not include duplicate keys");s.set(i,o)}return s}static from(e,n,s){const r=Y1(e,n,s),i=new this;return i.items=r.items,i}}To.tag="tag:yaml.org,2002:omap";const xd={collection:"seq",identify:t=>t instanceof Map,nodeClass:To,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=P1(t,e),s=[];for(const{key:r}of n.items)_t(r)&&(s.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):s.push(r.value));return Object.assign(new To,n)},createNode:(t,e,n)=>To.from(t,e,n)};function F1({value:t,source:e},n){return e&&(t?$1:U1).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const $1={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new qe(!0),stringify:F1},U1={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new qe(!1),stringify:F1},XD={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\\.(?:inf|Inf|INF)|\\.nan|\\.NaN|\\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Rs},JD={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Rs(t)}},QD={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\\.[0-9_]*$/,resolve(t){const e=new qe(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const s=t.substring(n+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:Rs},Tl=t=>typeof t=="bigint"||Number.isInteger(t);function Ou(t,e,n,{intAsBigInt:s}){const r=t[0];if((r==="-"||r==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return r==="-"?BigInt(-1)*o:o}const i=parseInt(t,n);return r==="-"?-1*i:i}function Cd(t,e,n){const{value:s}=t;if(Tl(s)){const r=s.toString(e);return s<0?"-"+n+r.substr(1):n+r}return Rs(t)}const eM={identify:Tl,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>Ou(t,2,2,n),stringify:t=>Cd(t,2,"0b")},tM={identify:Tl,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>Ou(t,1,8,n),stringify:t=>Cd(t,8,"0")},nM={identify:Tl,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>Ou(t,0,10,n),stringify:Rs},sM={identify:Tl,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>Ou(t,2,16,n),stringify:t=>Cd(t,16,"0x")};class ko extends ls{constructor(e){super(e),this.tag=ko.tag}add(e){let n;$t(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Mn(e.key,null):n=new Mn(e,null),Ti(this.items,n.key)||this.items.push(n)}get(e,n){const s=Ti(this.items,e);return!n&&$t(s)?_t(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=Ti(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new Mn(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:r}=s,i=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof r=="function"&&(o=r.call(n,o,o)),i.items.push(_d(o,null,s));return i}}ko.tag="tag:yaml.org,2002:set";const Ad={collection:"map",identify:t=>t instanceof Set,nodeClass:ko,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>ko.from(t,e,n),resolve(t,e){if(wl(t)){if(t.hasAllNullValues(!0))return Object.assign(new ko,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function Nd(t,e){const n=t[0],s=n==="-"||n==="+"?t.substring(1):t,r=o=>e?BigInt(o):Number(o),i=s.replace(/_/g,"").split(":").reduce((o,a)=>o*r(60)+r(a),r(0));return n==="-"?r(-1)*i:i}function z1(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return Rs(t);let s="";e<0&&(s="-",e*=n(-1));const r=n(60),i=[e%r];return e<60?i.unshift(0):(e=(e-i[0])/r,i.unshift(e%r),e>=60&&(e=(e-i[0])/r,i.unshift(e))),s+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\\d*$/,"")}const H1={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>Nd(t,n),stringify:z1},B1={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*$/,resolve:t=>Nd(t,!1),stringify:z1},Iu={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\\\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\\\.[0-9]+)?)(?:[ \\\\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(Iu.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,r,i,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(n,s-1,r,i||0,o||0,a||0,l);const u=e[8];if(u&&u!=="Z"){let f=Nd(u,!1);Math.abs(f)<30&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:t})=>(t==null?void 0:t.toISOString().replace(/(T00:00:00)?\\.000Z$/,""))??""},Kp=[ea,ta,Eu,Su,$1,U1,eM,tM,nM,sM,XD,JD,QD,Dd,fr,xd,Md,Ad,H1,B1,Iu],Gp=new Map([["core",qD],["failsafe",[ea,ta,Eu]],["json",ZD],["yaml11",Kp],["yaml-1.1",Kp]]),Zp={binary:Dd,bool:Od,float:C1,floatExp:x1,floatNaN:M1,floatTime:B1,int:L1,intHex:R1,intOct:N1,intTime:H1,map:ea,merge:fr,null:Su,omap:xd,pairs:Md,seq:ta,set:Ad,timestamp:Iu},rM={"tag:yaml.org,2002:binary":Dd,"tag:yaml.org,2002:merge":fr,"tag:yaml.org,2002:omap":xd,"tag:yaml.org,2002:pairs":Md,"tag:yaml.org,2002:set":Ad,"tag:yaml.org,2002:timestamp":Iu};function cf(t,e,n){const s=Gp.get(e);if(s&&!t)return n&&!s.includes(fr)?s.concat(fr):s.slice();let r=s;if(!r)if(Array.isArray(t))r=[];else{const i=Array.from(Gp.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${i} or define customTags array`)}if(Array.isArray(t))for(const i of t)r=r.concat(i);else typeof t=="function"&&(r=t(r.slice()));return n&&(r=r.concat(fr)),r.reduce((i,o)=>{const a=typeof o=="string"?Zp[o]:o;if(!a){const l=JSON.stringify(o),c=Object.keys(Zp).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${c}`)}return i.includes(a)||i.push(a),i},[])}const iM=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class Ld{constructor({compat:e,customTags:n,merge:s,resolveKnownTags:r,schema:i,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?cf(e,"compat"):e?cf(null,e):null,this.name=typeof i=="string"&&i||"core",this.knownTags=r?rM:{},this.tags=cf(n,this.name,s),this.toStringOptions=a??null,Object.defineProperty(this,qr,{value:ea}),Object.defineProperty(this,Ks,{value:Eu}),Object.defineProperty(this,Jo,{value:ta}),this.sortMapEntries=typeof o=="function"?o:o===!0?iM:null}clone(){const e=Object.create(Ld.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function oM(t,e){var l;const n=[];let s=e.directives===!0;if(e.directives!==!1&&t.directives){const c=t.directives.toString(t);c?(n.push(c),s=!0):t.directives.docStart&&(s=!0)}s&&n.push("---");const r=S1(t,e),{commentString:i}=r.options;if(t.commentBefore){n.length!==1&&n.unshift("");const c=i(t.commentBefore);n.unshift(cr(c,""))}let o=!1,a=null;if(t.contents){if(Ft(t.contents)){if(t.contents.spaceBefore&&s&&n.push(""),t.contents.commentBefore){const f=i(t.contents.commentBefore);n.push(cr(f,""))}r.forceBlockIndent=!!t.comment,a=t.contents.comment}const c=a?void 0:()=>o=!0;let u=Fo(t.contents,r,()=>a=null,c);a&&(u+=bi(u,"",i(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(Fo(t.contents,r));if((l=t.directives)!=null&&l.docEnd)if(t.comment){const c=i(t.comment);c.includes(`\n`)?(n.push("..."),n.push(cr(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=t.comment;c&&o&&(c=c.replace(/^\\n+/,"")),c&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(cr(i(c),"")))}return n.join(`\n`)+`\n`}class Du{constructor(e,n,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,ms,{value:mh});let r=null;typeof n=="function"||Array.isArray(n)?r=n:s===void 0&&n&&(s=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},s);this.options=i;let{version:o}=i;s!=null&&s._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new En({version:o}),this.setSchema(o,s),this.contents=e===void 0?null:this.createNode(e,r,s)}clone(){const e=Object.create(Du.prototype,{[ms]:{value:mh}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Ft(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){io(this.contents)&&this.contents.add(e)}addIn(e,n){io(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const s=w1(this);e.anchor=!n||s.has(n)?b1(n||"a",s):n}return new Ed(e.anchor)}createNode(e,n,s){let r;if(typeof n=="function")e=n.call({"":e},"",e),r=n;else if(Array.isArray(n)){const p=O=>typeof O=="number"||O instanceof String||O instanceof Number,b=n.filter(p).map(String);b.length>0&&(n=n.concat(b)),r=n}else s===void 0&&n&&(s=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:u}=s??{},{onAnchor:f,setAnchors:d,sourceObjects:h}=LD(this,o||"a"),y={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:c,replacer:r,schema:this.schema,sourceObjects:h},m=el(e,u,y);return a&&Yt(m)&&(m.flow=!0),d(),m}createPair(e,n,s={}){const r=this.createNode(e,null,s),i=this.createNode(n,null,s);return new Mn(r,i)}delete(e){return io(this.contents)?this.contents.delete(e):!1}deleteIn(e){return _a(e)?this.contents==null?!1:(this.contents=null,!0):io(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Yt(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return _a(e)?!n&&_t(this.contents)?this.contents.value:this.contents:Yt(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Yt(this.contents)?this.contents.has(e):!1}hasIn(e){return _a(e)?this.contents!==void 0:Yt(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Bc(this.schema,[e],n):io(this.contents)&&this.contents.set(e,n)}setIn(e,n){_a(e)?this.contents=n:this.contents==null?this.contents=Bc(this.schema,Array.from(e),n):io(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new En({version:"1.1"}),s={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new En({version:e}),s={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const r=JSON.stringify(e);throw new Error(`Expected \'1.1\', \'1.2\' or null as first argument, but found: ${r}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(s)this.schema=new Ld(Object.assign(s,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:s,maxAliasCount:r,onAnchor:i,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=ds(this.contents,n??"",a);if(typeof i=="function")for(const{count:c,res:u}of a.anchors.values())i(u,c);return typeof o=="function"?fo(o,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return oM(this,e)}}function io(t){if(Yt(t))return!0;throw new Error("Expected a YAML collection as document contents")}class W1 extends Error{constructor(e,n,s,r){super(),this.name=e,this.code=s,this.message=r,this.pos=n}}class ki extends W1{constructor(e,n,s){super("YAMLParseError",e,n,s)}}class aM extends W1{constructor(e,n,s){super("YAMLWarning",e,n,s)}}const Xp=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));const{line:s,col:r}=n.linePos[0];n.message+=` at line ${s}, column ${r}`;let i=r-1,o=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\\n\\r]+$/,"");if(i>=60&&o.length>80){const a=Math.min(i-39,o.length-79);o="…"+o.substring(a),i-=a-1}if(o.length>80&&(o=o.substring(0,79)+"…"),s>1&&/^ *$/.test(o.substring(0,i))){let a=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);a.length>80&&(a=a.substring(0,79)+`…\n`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===s&&l.col>r&&(a=Math.max(1,Math.min(l.col-r,80-i)));const c=" ".repeat(i)+"^".repeat(a);n.message+=`:\n\n${o}\n${c}\n`}};function $o(t,{flow:e,indicator:n,next:s,offset:r,onError:i,parentIndent:o,startOnNewline:a}){let l=!1,c=a,u=a,f="",d="",h=!1,y=!1,m=null,p=null,b=null,O=null,E=null,I=null,z=null;for(const L of t)switch(y&&(L.type!=="space"&&L.type!=="newline"&&L.type!=="comma"&&i(L.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y=!1),m&&(c&&L.type!=="comment"&&L.type!=="newline"&&i(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),L.type){case"space":!e&&(n!=="doc-start"||(s==null?void 0:s.type)!=="flow-collection")&&L.source.includes("	")&&(m=L),u=!0;break;case"comment":{u||i(L,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const Y=L.source.substring(1)||" ";f?f+=d+Y:f=Y,d="",c=!1;break}case"newline":c?f?f+=L.source:(!I||n!=="seq-item-ind")&&(l=!0):d+=L.source,c=!0,h=!0,(p||b)&&(O=L),u=!0;break;case"anchor":p&&i(L,"MULTIPLE_ANCHORS","A node can have at most one anchor"),L.source.endsWith(":")&&i(L.offset+L.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),p=L,z??(z=L.offset),c=!1,u=!1,y=!0;break;case"tag":{b&&i(L,"MULTIPLE_TAGS","A node can have at most one tag"),b=L,z??(z=L.offset),c=!1,u=!1,y=!0;break}case n:(p||b)&&i(L,"BAD_PROP_ORDER",`Anchors and tags must be after the ${L.source} indicator`),I&&i(L,"UNEXPECTED_TOKEN",`Unexpected ${L.source} in ${e??"collection"}`),I=L,c=n==="seq-item-ind"||n==="explicit-key-ind",u=!1;break;case"comma":if(e){E&&i(L,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),E=L,c=!1,u=!1;break}default:i(L,"UNEXPECTED_TOKEN",`Unexpected ${L.type} token`),c=!1,u=!1}const W=t[t.length-1],C=W?W.offset+W.source.length:r;return y&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(c&&m.indent<=o||(s==null?void 0:s.type)==="block-map"||(s==null?void 0:s.type)==="block-seq")&&i(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:E,found:I,spaceBefore:l,comment:f,hasNewline:h,anchor:p,tag:b,newlineAfterProp:O,end:C,start:z??C}}function tl(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`\n`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(tl(e.key)||tl(e.value))return!0}return!1;default:return!0}}function vh(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const s=e.end[0];s.indent===t&&(s.source==="]"||s.source==="}")&&tl(e)&&n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function j1(t,e,n){const{uniqueKeys:s}=t.options;if(s===!1)return!1;const r=typeof s=="function"?s:(i,o)=>i===o||_t(i)&&_t(o)&&i.value===o.value;return e.some(i=>r(i.key,n))}const Jp="All mapping items must start at the same column";function lM({composeNode:t,composeEmptyNode:e},n,s,r,i){var u;const o=(i==null?void 0:i.nodeClass)??ls,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=s.offset,c=null;for(const f of s.items){const{start:d,key:h,sep:y,value:m}=f,p=$o(d,{indicator:"explicit-key-ind",next:h??(y==null?void 0:y[0]),offset:l,onError:r,parentIndent:s.indent,startOnNewline:!0}),b=!p.found;if(b){if(h&&(h.type==="block-seq"?r(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==s.indent&&r(l,"BAD_INDENT",Jp)),!p.anchor&&!p.tag&&!y){c=p.end,p.comment&&(a.comment?a.comment+=`\n`+p.comment:a.comment=p.comment);continue}(p.newlineAfterProp||tl(h))&&r(h??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((u=p.found)==null?void 0:u.indent)!==s.indent&&r(l,"BAD_INDENT",Jp);n.atKey=!0;const O=p.end,E=h?t(n,h,p,r):e(n,O,d,null,p,r);n.schema.compat&&vh(s.indent,h,r),n.atKey=!1,j1(n,a.items,E)&&r(O,"DUPLICATE_KEY","Map keys must be unique");const I=$o(y??[],{indicator:"map-value-ind",next:m,offset:E.range[2],onError:r,parentIndent:s.indent,startOnNewline:!h||h.type==="block-scalar"});if(l=I.end,I.found){b&&((m==null?void 0:m.type)==="block-map"&&!I.hasNewline&&r(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&p.start<I.found.offset-1024&&r(E.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const z=m?t(n,m,I,r):e(n,l,y,null,I,r);n.schema.compat&&vh(s.indent,m,r),l=z.range[2];const W=new Mn(E,z);n.options.keepSourceTokens&&(W.srcToken=f),a.items.push(W)}else{b&&r(E.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),I.comment&&(E.comment?E.comment+=`\n`+I.comment:E.comment=I.comment);const z=new Mn(E);n.options.keepSourceTokens&&(z.srcToken=f),a.items.push(z)}}return c&&c<l&&r(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[s.offset,l,c??l],a}function cM({composeNode:t,composeEmptyNode:e},n,s,r,i){const o=(i==null?void 0:i.nodeClass)??Pi,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=s.offset,c=null;for(const{start:u,value:f}of s.items){const d=$o(u,{indicator:"seq-item-ind",next:f,offset:l,onError:r,parentIndent:s.indent,startOnNewline:!0});if(!d.found)if(d.anchor||d.tag||f)f&&f.type==="block-seq"?r(d.end,"BAD_INDENT","All sequence items must start at the same column"):r(l,"MISSING_CHAR","Sequence item without - indicator");else{c=d.end,d.comment&&(a.comment=d.comment);continue}const h=f?t(n,f,d,r):e(n,d.end,u,null,d,r);n.schema.compat&&vh(s.indent,f,r),l=h.range[2],a.items.push(h)}return a.range=[s.offset,l,c??l],a}function kl(t,e,n,s){let r="";if(t){let i=!1,o="";for(const a of t){const{source:l,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{n&&!i&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";r?r+=o+u:r=u,o="";break}case"newline":r&&(o+=l),i=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:r,offset:e}}const uf="Block collections are not allowed within flow collections",ff=t=>t&&(t.type==="block-map"||t.type==="block-seq");function uM({composeNode:t,composeEmptyNode:e},n,s,r,i){const o=s.start.source==="{",a=o?"flow map":"flow sequence",l=(i==null?void 0:i.nodeClass)??(o?ls:Pi),c=new l(n.schema);c.flow=!0;const u=n.atRoot;u&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let f=s.offset+s.start.source.length;for(let p=0;p<s.items.length;++p){const b=s.items[p],{start:O,key:E,sep:I,value:z}=b,W=$o(O,{flow:a,indicator:"explicit-key-ind",next:E??(I==null?void 0:I[0]),offset:f,onError:r,parentIndent:s.indent,startOnNewline:!1});if(!W.found){if(!W.anchor&&!W.tag&&!I&&!z){p===0&&W.comma?r(W.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):p<s.items.length-1&&r(W.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),W.comment&&(c.comment?c.comment+=`\n`+W.comment:c.comment=W.comment),f=W.end;continue}!o&&n.options.strict&&tl(E)&&r(E,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(p===0)W.comma&&r(W.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(W.comma||r(W.start,"MISSING_CHAR",`Missing , between ${a} items`),W.comment){let C="";e:for(const L of O)switch(L.type){case"comma":case"space":break;case"comment":C=L.source.substring(1);break e;default:break e}if(C){let L=c.items[c.items.length-1];$t(L)&&(L=L.value??L.key),L.comment?L.comment+=`\n`+C:L.comment=C,W.comment=W.comment.substring(C.length+1)}}if(!o&&!I&&!W.found){const C=z?t(n,z,W,r):e(n,W.end,I,null,W,r);c.items.push(C),f=C.range[2],ff(z)&&r(C.range,"BLOCK_IN_FLOW",uf)}else{n.atKey=!0;const C=W.end,L=E?t(n,E,W,r):e(n,C,O,null,W,r);ff(E)&&r(L.range,"BLOCK_IN_FLOW",uf),n.atKey=!1;const Y=$o(I??[],{flow:a,indicator:"map-value-ind",next:z,offset:L.range[2],onError:r,parentIndent:s.indent,startOnNewline:!1});if(Y.found){if(!o&&!W.found&&n.options.strict){if(I)for(const P of I){if(P===Y.found)break;if(P.type==="newline"){r(P,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}W.start<Y.found.offset-1024&&r(Y.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else z&&("source"in z&&z.source&&z.source[0]===":"?r(z,"MISSING_CHAR",`Missing space after : in ${a}`):r(Y.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const V=z?t(n,z,Y,r):Y.found?e(n,Y.end,I,null,Y,r):null;V?ff(z)&&r(V.range,"BLOCK_IN_FLOW",uf):Y.comment&&(L.comment?L.comment+=`\n`+Y.comment:L.comment=Y.comment);const se=new Mn(L,V);if(n.options.keepSourceTokens&&(se.srcToken=b),o){const P=c;j1(n,P.items,L)&&r(C,"DUPLICATE_KEY","Map keys must be unique"),P.items.push(se)}else{const P=new ls(n.schema);P.flow=!0,P.items.push(se);const de=(V??L).range;P.range=[L.range[0],de[1],de[2]],c.items.push(P)}f=V?V.range[2]:Y.end}}const d=o?"}":"]",[h,...y]=s.end;let m=f;if(h&&h.source===d)m=h.offset+h.source.length;else{const p=a[0].toUpperCase()+a.substring(1),b=u?`${p} must end with a ${d}`:`${p} in block collection must be sufficiently indented and end with a ${d}`;r(f,u?"MISSING_CHAR":"BAD_INDENT",b),h&&h.source.length!==1&&y.unshift(h)}if(y.length>0){const p=kl(y,m,n.options.strict,r);p.comment&&(c.comment?c.comment+=`\n`+p.comment:c.comment=p.comment),c.range=[s.offset,m,p.offset]}else c.range=[s.offset,m,m];return c}function hf(t,e,n,s,r,i){const o=n.type==="block-map"?lM(t,e,n,s,i):n.type==="block-seq"?cM(t,e,n,s,i):uM(t,e,n,s,i),a=o.constructor;return r==="!"||r===a.tagName?(o.tag=a.tagName,o):(r&&(o.tag=r),o)}function fM(t,e,n,s,r){var d;const i=s.tag,o=i?e.directives.tagName(i.source,h=>r(i,"TAG_RESOLVE_FAILED",h)):null;if(n.type==="block-seq"){const{anchor:h,newlineAfterProp:y}=s,m=h&&i?h.offset>i.offset?h:i:h??i;m&&(!y||y.offset<m.offset)&&r(m,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!o||o==="!"||o===ls.tagName&&a==="map"||o===Pi.tagName&&a==="seq")return hf(t,e,n,r,o);let l=e.schema.tags.find(h=>h.tag===o&&h.collection===a);if(!l){const h=e.schema.knownTags[o];if(h&&h.collection===a)e.schema.tags.push(Object.assign({},h,{default:!1})),l=h;else return h?r(i,"BAD_COLLECTION_TYPE",`${h.tag} used for ${a} collection, but expects ${h.collection??"scalar"}`,!0):r(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),hf(t,e,n,r,o)}const c=hf(t,e,n,r,o,l),u=((d=l.resolve)==null?void 0:d.call(l,c,h=>r(i,"TAG_RESOLVE_FAILED",h),e.options))??c,f=Ft(u)?u:new qe(u);return f.range=c.range,f.tag=o,l!=null&&l.format&&(f.format=l.format),f}function hM(t,e,n){const s=e.offset,r=dM(e,t.options.strict,n);if(!r)return{value:"",type:null,comment:"",range:[s,s,s]};const i=r.mode===">"?qe.BLOCK_FOLDED:qe.BLOCK_LITERAL,o=e.source?mM(e.source):[];let a=o.length;for(let m=o.length-1;m>=0;--m){const p=o[m][1];if(p===""||p==="\\r")a=m;else break}if(a===0){const m=r.chomp==="+"&&o.length>0?`\n`.repeat(Math.max(1,o.length-1)):"";let p=s+r.length;return e.source&&(p+=e.source.length),{value:m,type:i,comment:r.comment,range:[s,p,p]}}let l=e.indent+r.indent,c=e.offset+r.length,u=0;for(let m=0;m<a;++m){const[p,b]=o[m];if(b===""||b==="\\r")r.indent===0&&p.length>l&&(l=p.length);else{p.length<l&&n(c+p.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),r.indent===0&&(l=p.length),u=m,l===0&&!t.atRoot&&n(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=p.length+b.length+1}for(let m=o.length-1;m>=a;--m)o[m][0].length>l&&(a=m+1);let f="",d="",h=!1;for(let m=0;m<u;++m)f+=o[m][0].slice(l)+`\n`;for(let m=u;m<a;++m){let[p,b]=o[m];c+=p.length+b.length+1;const O=b[b.length-1]==="\\r";if(O&&(b=b.slice(0,-1)),b&&p.length<l){const I=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;n(c-b.length-(O?2:1),"BAD_INDENT",I),p=""}i===qe.BLOCK_LITERAL?(f+=d+p.slice(l)+b,d=`\n`):p.length>l||b[0]==="	"?(d===" "?d=`\n`:!h&&d===`\n`&&(d=`\n\n`),f+=d+p.slice(l)+b,d=`\n`,h=!0):b===""?d===`\n`?f+=`\n`:d=`\n`:(f+=d+b,d=" ",h=!1)}switch(r.chomp){case"-":break;case"+":for(let m=a;m<o.length;++m)f+=`\n`+o[m][0].slice(l);f[f.length-1]!==`\n`&&(f+=`\n`);break;default:f+=`\n`}const y=s+r.length+e.source.length;return{value:f,type:i,comment:r.comment,range:[s,y,y]}}function dM({offset:t,props:e},n,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=e[0],i=r[0];let o=0,a="",l=-1;for(let d=1;d<r.length;++d){const h=r[d];if(!a&&(h==="-"||h==="+"))a=h;else{const y=Number(h);!o&&y?o=y:l===-1&&(l=t+d)}}l!==-1&&s(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let c=!1,u="",f=r.length;for(let d=1;d<e.length;++d){const h=e[d];switch(h.type){case"space":c=!0;case"newline":f+=h.source.length;break;case"comment":n&&!c&&s(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=h.source.length,u=h.source.substring(1);break;case"error":s(h,"UNEXPECTED_TOKEN",h.message),f+=h.source.length;break;default:{const y=`Unexpected token in block scalar header: ${h.type}`;s(h,"UNEXPECTED_TOKEN",y);const m=h.source;m&&typeof m=="string"&&(f+=m.length)}}}return{mode:i,indent:o,chomp:a,comment:u,length:f}}function mM(t){const e=t.split(/\\n( *)/),n=e[0],s=n.match(/^( *)/),i=[s!=null&&s[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)i.push([e[o],e[o+1]]);return i}function pM(t,e,n){const{offset:s,type:r,source:i,end:o}=t;let a,l;const c=(d,h,y)=>n(s+d,h,y);switch(r){case"scalar":a=qe.PLAIN,l=yM(i,c);break;case"single-quoted-scalar":a=qe.QUOTE_SINGLE,l=gM(i,c);break;case"double-quoted-scalar":a=qe.QUOTE_DOUBLE,l=vM(i,c);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[s,s+i.length,s+i.length]}}const u=s+i.length,f=kl(o,u,e,n);return{value:l,type:a,comment:f.comment,range:[s,u,f.offset]}}function yM(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),V1(t)}function gM(t,e){return(t[t.length-1]!=="\'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing \'quote"),V1(t.slice(1,-1)).replace(/\'\'/g,"\'")}function V1(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\\r?\n`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\\r?\n`,"sy")}catch{e=/(.*?)[ \\t]*\\r?\\n/sy,n=/[ \\t]*(.*?)[ \\t]*\\r?\\n/sy}let s=e.exec(t);if(!s)return t;let r=s[1],i=" ",o=e.lastIndex;for(n.lastIndex=o;s=n.exec(t);)s[1]===""?i===`\n`?r+=i:i=`\n`:(r+=i+s[1],i=" "),o=n.lastIndex;const a=/[ \\t]*(.*)/sy;return a.lastIndex=o,s=a.exec(t),r+i+((s==null?void 0:s[1])??"")}function vM(t,e){let n="";for(let s=1;s<t.length-1;++s){const r=t[s];if(!(r==="\\r"&&t[s+1]===`\n`))if(r===`\n`){const{fold:i,offset:o}=wM(t,s);n+=i,s=o}else if(r==="\\\\"){let i=t[++s];const o=bM[i];if(o)n+=o;else if(i===`\n`)for(i=t[s+1];i===" "||i==="	";)i=t[++s+1];else if(i==="\\r"&&t[s+1]===`\n`)for(i=t[++s+1];i===" "||i==="	";)i=t[++s+1];else if(i==="x"||i==="u"||i==="U"){const a={x:2,u:4,U:8}[i];n+=TM(t,s+1,a,e),s+=a}else{const a=t.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(r===" "||r==="	"){const i=s;let o=t[s+1];for(;o===" "||o==="	";)o=t[++s+1];o!==`\n`&&!(o==="\\r"&&t[s+2]===`\n`)&&(n+=s>i?t.slice(i,s+1):r)}else n+=r}return(t[t.length-1]!==\'"\'||t.length===1)&&e(t.length,"MISSING_CHAR",\'Missing closing "quote\'),n}function wM(t,e){let n="",s=t[e+1];for(;(s===" "||s==="	"||s===`\n`||s==="\\r")&&!(s==="\\r"&&t[e+2]!==`\n`);)s===`\n`&&(n+=`\n`),e+=1,s=t[e+1];return n||(n=" "),{fold:n,offset:e}}const bM={0:"\\0",a:"\\x07",b:"\\b",e:"\\x1B",f:"\\f",n:`\n`,r:"\\r",t:"	",v:"\\v",N:"",_:" ",L:"\\u2028",P:"\\u2029"," ":" ",\'"\':\'"\',"/":"/","\\\\":"\\\\","	":"	"};function TM(t,e,n,s){const r=t.substr(e,n),o=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){const a=t.substr(e-2,n+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function q1(t,e,n,s){const{value:r,type:i,comment:o,range:a}=e.type==="block-scalar"?hM(t,e,s):pM(e,t.options.strict,s),l=n?t.directives.tagName(n.source,f=>s(n,"TAG_RESOLVE_FAILED",f)):null;let c;t.options.stringKeys&&t.atKey?c=t.schema[Ks]:l?c=kM(t.schema,r,l,n,s):e.type==="scalar"?c=EM(t,r,e,s):c=t.schema[Ks];let u;try{const f=c.resolve(r,d=>s(n??e,"TAG_RESOLVE_FAILED",d),t.options);u=_t(f)?f:new qe(f)}catch(f){const d=f instanceof Error?f.message:String(f);s(n??e,"TAG_RESOLVE_FAILED",d),u=new qe(r)}return u.range=a,u.source=r,i&&(u.type=i),l&&(u.tag=l),c.format&&(u.format=c.format),o&&(u.comment=o),u}function kM(t,e,n,s,r){var a;if(n==="!")return t[Ks];const i=[];for(const l of t.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)i.push(l);else return l;for(const l of i)if((a=l.test)!=null&&a.test(e))return l;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Ks])}function EM({atKey:t,directives:e,schema:n},s,r,i){const o=n.tags.find(a=>{var l;return(a.default===!0||t&&a.default==="key")&&((l=a.test)==null?void 0:l.test(s))})||n[Ks];if(n.compat){const a=n.compat.find(l=>{var c;return l.default&&((c=l.test)==null?void 0:c.test(s))})??n[Ks];if(o.tag!==a.tag){const l=e.tagString(o.tag),c=e.tagString(a.tag),u=`Value may be parsed as either ${l} or ${c}`;i(r,"TAG_RESOLVE_FAILED",u,!0)}}return o}function SM(t,e,n){if(e){n??(n=e.length);for(let s=n-1;s>=0;--s){let r=e[s];switch(r.type){case"space":case"comment":case"newline":t-=r.source.length;continue}for(r=e[++s];(r==null?void 0:r.type)==="space";)t+=r.source.length,r=e[++s];break}}return t}const _M={composeNode:K1,composeEmptyNode:Rd};function K1(t,e,n,s){const r=t.atKey,{spaceBefore:i,comment:o,anchor:a,tag:l}=n;let c,u=!0;switch(e.type){case"alias":c=OM(t,e,s),(a||l)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=q1(t,e,l,s),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=fM(_M,t,e,n,s),a&&(c.anchor=a.source.substring(1));break;default:{const f=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",f),c=Rd(t,e.offset,void 0,null,n,s),u=!1}}return a&&c.anchor===""&&s(a,"BAD_ALIAS","Anchor cannot be an empty string"),r&&t.options.stringKeys&&(!_t(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&s(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(c.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?c.comment=o:c.commentBefore=o),t.options.keepSourceTokens&&u&&(c.srcToken=e),c}function Rd(t,e,n,s,{spaceBefore:r,comment:i,anchor:o,tag:a,end:l},c){const u={type:"scalar",offset:SM(e,n,s),indent:-1,source:""},f=q1(t,u,a,c);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(f.spaceBefore=!0),i&&(f.comment=i,f.range[2]=l),f}function OM({options:t},{offset:e,source:n,end:s},r){const i=new Ed(n.substring(1));i.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&r(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,a=kl(s,o,t.strict,r);return i.range=[e,o,a.offset],a.comment&&(i.comment=a.comment),i}function IM(t,e,{offset:n,start:s,value:r,end:i},o){const a=Object.assign({_directives:e},t),l=new Du(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=$o(s,{indicator:"doc-start",next:r??(i==null?void 0:i[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});u.found&&(l.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!u.hasNewline&&o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=r?K1(c,r,u,o):Rd(c,u.end,s,null,u,o);const f=l.contents.range[2],d=kl(i,f,!1,o);return d.comment&&(l.comment=d.comment),l.range=[n,f,d.offset],l}function pa(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function Qp(t){var r;let e="",n=!1,s=!1;for(let i=0;i<t.length;++i){const o=t[i];switch(o[0]){case"#":e+=(e===""?"":s?`\n\n`:`\n`)+(o.substring(1)||" "),n=!0,s=!1;break;case"%":((r=t[i+1])==null?void 0:r[0])!=="#"&&(i+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:e,afterEmptyLine:s}}class DM{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,s,r,i)=>{const o=pa(n);i?this.warnings.push(new aM(o,s,r)):this.errors.push(new ki(o,s,r))},this.directives=new En({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:s,afterEmptyLine:r}=Qp(this.prelude);if(s){const i=e.contents;if(n)e.comment=e.comment?`${e.comment}\n${s}`:s;else if(r||e.directives.docStart||!i)e.commentBefore=s;else if(Yt(i)&&!i.flow&&i.items.length>0){let o=i.items[0];$t(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${s}\n${a}`:s}else{const o=i.commentBefore;i.commentBefore=o?`${s}\n${o}`:s}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Qp(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,s=-1){for(const r of e)yield*this.next(r);yield*this.end(n,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,s,r)=>{const i=pa(e);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",s,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=IM(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new ki(pa(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new ki(pa(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const n=kl(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const s=this.doc.comment;this.doc.comment=s?`${s}\n${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new ki(pa(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),r=new Du(void 0,s);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,n,n],this.decorate(r,!1),yield r}}}const G1="\\uFEFF",Z1="",X1="",wh="";function MM(t){switch(t){case G1:return"byte-order-mark";case Z1:return"doc-mode";case X1:return"flow-error-end";case wh:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`\n`:case`\\r\n`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"\'":return"single-quoted-scalar";case\'"\':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function vs(t){switch(t){case void 0:case" ":case`\n`:case"\\r":case"	":return!0;default:return!1}}const ey=new Set("0123456789ABCDEFabcdef"),xM=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*\'()"),Gl=new Set(",[]{}"),CM=new Set(` ,[]{}\n\\r	`),df=t=>!t||CM.has(t);class AM{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let s=this.next??"stream";for(;s&&(n||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`\n`?!0:n==="\\r"?this.buffer[e+1]===`\n`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let s=0;for(;n===" ";)n=this.buffer[++s+e];if(n==="\\r"){const r=this.buffer[s+e+1];if(r===`\n`||!r&&!this.atEnd)return e+s+1}return n===`\n`||s>=this.indentNext||!n&&!this.atEnd?e+s:-1}if(n==="-"||n==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&vs(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`\n`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===G1&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,s=e.indexOf("#");for(;s!==-1;){const i=e[s-1];if(i===" "||i==="	"){n=s-1;break}else s=e.indexOf("#",s+1)}for(;;){const i=e[n-1];if(i===" "||i==="	")n-=1;else break}const r=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield Z1,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&vs(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!vs(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&vs(n)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(df),"doc";case\'"\':case"\'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,s=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=s=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const r=this.getLine();if(r===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&r[0]!=="#"||s===0&&(r.startsWith("---")||r.startsWith("..."))&&vs(r[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield X1,yield*this.parseLineStart();let i=0;for(;r[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),r[i]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(df),"flow";case\'"\':case"\'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||vs(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="\'")for(;n!==-1&&this.buffer[n+1]==="\'";)n=this.buffer.indexOf("\'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf(\'"\',n+1)}const s=this.buffer.substring(0,n);let r=s.indexOf(`\n`,this.pos);if(r!==-1){for(;r!==-1;){const i=this.continueScalar(r+1);if(i===-1)break;r=s.indexOf(`\n`,i)}r!==-1&&(n=r-(s[r-1]==="\\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>vs(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,s;e:for(let i=this.pos;s=this.buffer[i];++i)switch(s){case" ":n+=1;break;case`\n`:e=i,n=0;break;case"\\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`\n`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`\n`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let r=e+1;for(s=this.buffer[r];s===" ";)s=this.buffer[++r];if(s==="	"){for(;s==="	"||s===" "||s==="\\r"||s===`\n`;)s=this.buffer[++r];e=r-1}else if(!this.blockScalarKeep)do{let i=e-1,o=this.buffer[i];o==="\\r"&&(o=this.buffer[--i]);const a=i;for(;o===" ";)o=this.buffer[--i];if(o===`\n`&&i>=this.pos&&i+1+n>a)e=i;else break}while(!0);return yield wh,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,s=this.pos-1,r;for(;r=this.buffer[++s];)if(r===":"){const i=this.buffer[s+1];if(vs(i)||e&&Gl.has(i))break;n=s}else if(vs(r)){let i=this.buffer[s+1];if(r==="\\r"&&(i===`\n`?(s+=1,r=`\n`,i=this.buffer[s+1]):n=s),i==="#"||e&&Gl.has(i))break;if(r===`\n`){const o=this.continueScalar(s+1);if(o===-1)break;s=Math.max(s,o-2)}}else{if(e&&Gl.has(r))break;n=s}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield wh,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(df))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(vs(n)||e&&Gl.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!vs(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(xM.has(n))n=this.buffer[++e];else if(n==="%"&&ey.has(this.buffer[e+1])&&ey.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`\n`?yield*this.pushCount(1):e==="\\r"&&this.charAt(1)===`\n`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,s;do s=this.buffer[++n];while(s===" "||e&&s==="	");const r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let n=this.pos,s=this.buffer[n];for(;!e(s);)s=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class NM{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,s=this.lineStarts.length;for(;n<s;){const i=n+s>>1;this.lineStarts[i]<e?n=i+1:s=i}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const r=this.lineStarts[n-1];return{line:n,col:e-r+1}}}}function Nr(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function ty(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function J1(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Zl(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function oo(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function ny(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!Nr(e.start,"explicit-key-ind")&&!Nr(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,J1(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class LM{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new AM,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,n))yield*this.next(s);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=MM(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const s=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in s?s.indent:0:n.type==="flow-collection"&&s.type==="document"&&(n.indent=0),n.type==="flow-collection"&&ny(n),s.type){case"document":s.value=n;break;case"block-scalar":s.props.push(n);break;case"block-map":{const r=s.items[s.items.length-1];if(r.value){s.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=n;else{Object.assign(r,{key:n,sep:[]}),this.onKeyLine=!r.explicitKey;return}break}case"block-seq":{const r=s.items[s.items.length-1];r.value?s.items.push({start:[],value:n}):r.value=n;break}case"flow-collection":{const r=s.items[s.items.length-1];!r||r.value?s.items.push({start:[],key:n,sep:[]}):r.sep?r.value=n:Object.assign(r,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const r=n.items[n.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&ty(r.start)===-1&&(n.indent===0||r.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(s.type==="document"?s.end=r.start:s.items.push({start:r.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{ty(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=Zl(this.peek(2)),s=oo(n);let r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`\n`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`\n`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0,i=Array.isArray(r)?r[r.length-1]:void 0;(i==null?void 0:i.type)==="comment"?r==null||r.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const r=e.items[e.items.length-2],i=(s=r==null?void 0:r.value)==null?void 0:s.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const r=!this.onKeyLine&&this.indent===e.indent,i=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(i&&n.sep&&!n.value){const a=[];for(let l=0;l<n.sep.length;++l){const c=n.sep[l];switch(c.type){case"newline":a.push(l);break;case"space":break;case"comment":c.indent>e.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(o=n.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Nr(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(J1(n.key)&&!Nr(n.sep,"newline")){const a=oo(n.start),l=n.key,c=n.sep;c.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:l,sep:c}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(Nr(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const a=oo(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:o,key:null,sep:[this.sourceToken]}):Nr(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);i||n.value?(e.items.push({start:o,key:a,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(a):(Object.assign(n,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(e);if(a){if(a.type==="block-seq"){if(!n.explicitKey&&n.sep&&!Nr(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&e.items.push({start:o});this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0,i=Array.isArray(r)?r[r.length-1]:void 0;(i==null?void 0:i.type)==="comment"?r==null||r.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const r=e.items[e.items.length-2],i=(s=r==null?void 0:r.value)==null?void 0:s.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Nr(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:r,sep:[]}):n.sep?this.stack.push(r):Object.assign(n,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const r=Zl(s),i=oo(r);ny(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`\n`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`\n`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Zl(e),s=oo(n);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Zl(e),s=oo(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function RM(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new NM||null,prettyErrors:e}}function PM(t,e={}){const{lineCounter:n,prettyErrors:s}=RM(e),r=new LM(n==null?void 0:n.addNewLine),i=new DM(e);let o=null;for(const a of i.compose(r.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new ki(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&n&&(o.errors.forEach(Xp(t,n)),o.warnings.forEach(Xp(t,n))),o}function Q1(t,e,n){let s;typeof e=="function"?s=e:n===void 0&&e&&typeof e=="object"&&(n=e);const r=PM(t,n);if(!r)return null;if(r.warnings.forEach(i=>_1(r.options.logLevel,i)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},n))}const sy=t=>t.trim().split(/ |,/).filter(e=>!!e&&e.includes("@")||e==="*"||e==="\\\\*"),YM=/^([^:]+)(:)(?:\\s|$)/,FM=/^(?!-)\\s*([\\w\\-\\.]+)(:)(?:\\s|$)/,$M=/(:)\\s+(.+)$/,ew=t=>!!t.match(hd)||!!t.match(fd)||!!t.match(dd)||!!t.match(yu),tw=/^---/;function nw(t,e,n,s){let r=n,i=r,o=-1,a=-1;const l=[],c=[];let u=!1;const f=[];let d=t[r];for(;typeof d<"u"&&!(!u&&ew(d));){const m=d.match(tw);if(m){const b={type:Ke.FrontmatterDelimiter,from:e[i],to:e[i]+4};if(f.push(b),!u)r=i,u=!0;else{f.length===2&&(s.ranges.push(f[0]),s.ranges.push(f[1]));break}}const p=vu(d,i,e,s);if(p||(d=OD(d)),!p&&!m){const b=d.match(FM);if(b){const O=e[i],E=b.index+b[0].indexOf(b[1]);l.push({type:Ke.PropertyKey,from:O+E,to:O+E+b[1].length}),l.push({type:Ke.PropertyKeyColon,from:O+E+b[1].length,to:O+E+b[1].length+1}),l.push({type:Ke.PropertyValue,from:O+E+b[1].length+1,to:O+d.length}),c.push(d),o===-1&&(o=i),a=i}else if(!u)break}else if(!u)break;d=t[++i]}let h={},y=[];if(c.length)try{const m=Q1(c.join(`\n`),{mapAsMap:!0});y=(()=>{const p=[];for(const b of m.keys())p.push(b);return p})(),h=bh(m),s.ranges.push(...l)}catch(m){m instanceof ki&&s.parseMessages.push({type:"error",pos:m.pos.map(p=>e[n]+p),message:m.message}),console.error(m)}if(f.length===2){const m=e[r];s.foldables[m]={startLine:r,startIndex:m,endIndex:e[i]-1,type:"header",foldStartIndex:f.length===2?m+3:m}}else if(o>=0&&a>=0&&a!==o){const m=e[o],p={startLine:o,startIndex:m,endIndex:e[a+1]-1,type:"header",foldStartIndex:m};s.foldables[m]=p}return{properties:h,propOrder:y,i}}function bh(t){const e={};for(const[n,s]of t.entries())s instanceof Map?e[n]=bh(s):typeof s=="object"&&s!==null&&!Array.isArray(s)?e[n]=bh(new Map(Object.entries(s))):e[n]=s;return e}function UM(t,e,n){let s=0,r=s,i=-1,o=-1,a=!1;const l=[],c=[],u=[];let f=t[s];for(;typeof f<"u"&&!(!a&&ew(f));){const m=f.match(tw);if(m){const b={type:Ke.FrontmatterDelimiter,from:e[r],to:e[r]+4};if(u.push(b),!a)s=r,a=!0;else{u.length===2&&(n.ranges.push(u[0]),n.ranges.push(u[1]));break}}const p=vu(f,r,e,n);if(p||(f=ID(f,r,e,n),l.push(f)),!p&&!m){const b=f.match(YM);b&&(c.push({type:Ke.HeaderKey,from:e[r],to:e[r]+b[1].length}),c.push({type:Ke.HeaderKeyColon,from:e[r]+b[1].length,to:e[r]+b[1].length+1}));const O=f.match($M);let E;O?b?E=b[0].length+f.substring(b[0].length).indexOf(O[2]):E=f.indexOf(O[2]):b?E=-1:E=0,E>=0&&c.push({type:Ke.HeaderValue,from:e[r]+E,to:e[r]+E+(O?O[2].length:f.length)})}f.length&&(i===-1&&(i=r),o=r),r++,f=t[r]}try{const m=Q1(l.join(`\n`));if(m.dateFormat||(m.dateFormat=m.dateFormat==="d/M/y"?sI:Lo),m.view&&typeof m.view=="string"&&(m.view=sy(m.view)),m.edit&&typeof m.edit=="string"&&(m.edit=sy(m.edit)),(typeof m.timezone<"u"||typeof m.tz<"u")&&!Vr(m.timezone??m.tz,n.cache))for(let p=s;p<t.length;p++){const b=["timezone:","tz:"];for(let O=0;O<b.length;O++){const E=b[O];if(t[p].startsWith(E)){const I=t[p].substring(E.length).trim(),z=e[p]+t[p].indexOf(I),W=z+I.length;n.parseMessages.push({type:"error",pos:[z,W],message:`Invalid timezone "${I}"`})}}}n.ranges.push(...c),n.header=m}catch(m){m instanceof ki&&n.parseMessages.push({type:"error",pos:m.pos,message:m.message}),n.header={dateFormat:Lo}}let d,h;if(u.length===2){const m=e[s];d=m,h=e[r]-1,n.foldables[m]={startLine:s,startIndex:d,endIndex:h,type:"header",foldStartIndex:u.length===2?m+3:m}}else if(i>=0&&o>=0&&o!==i){d=e[i],h=e[o+1]-1;const m={startLine:i,startIndex:d,endIndex:h,type:"header",foldStartIndex:d};n.foldables[d]=m}const y=t.length>0||t[0].length>0;return!n.header.timezone&&y&&n.documentMessages.push({type:"warning",message:"Timezone not specified. Specifying a `timezone` in the header is highly recommended."}),r}function zM(t,e,n,s){t.id&&!s.ids[t.id]&&(s.ids[t.id]=[...e]),(!s.earliest||n.fromDateTime<s.earliest)&&(s.earliest=n.fromDateTime),(!s.latest||n.toDateTime>s.latest)&&(s.latest=n.toDateTime);const r=+n.toDateTime-+n.fromDateTime;(typeof s.maxDuration>"u"||r>s.maxDuration)&&(s.maxDuration=r)}function HM(t,e,n){const s=t.eventText.match(nh),r=e.indexOf(t.eventText);let i;if(s){const o=r+t.eventText.indexOf(s[0]),a=o+t.eventText.indexOf(s[1])+s[1].length;i=["X","x"].some(c=>s.includes(c));const l={type:Ke.CheckboxItemIndicator,from:t.dateRangeInText.from+o,to:t.dateRangeInText.from+a,content:i};n.ranges.push(l)}return i}function BM(t,e,n,s,r){let i=kD(t,n,s,r);if(i||(i=TD(t,n,s,r)),i||(i=ED(t,n,s,r)),!i)return n;const{properties:o,i:a,propOrder:l}=nw(e,s,n+1,r),c=[];let u=a-1,f;for(;f=e[++u],!(typeof f!="string"||f.match(hd)||f.match(fd)||f.match(dd)||f.match(yu)||r.currentPath.length>1&&f.match(Zv));){vu(f,u,s,r),p1(f,u,s,r);const O=_D(f,u,s,r);O&&c.push(...O)}const d=e.slice(a-1,u),h=HM(i,t,r);d[0]=i.eventText.trim();const y=new fI(d,c,h),m=o.timezone||o.tz;if(m)if(typeof m=="string"||typeof m=="number"){const O=Vr(m,r.cache);O?(i.fromDateTime=i.fromDateTime.setZone(O,{keepLocalTime:!0}),i.toDateTime=i.toDateTime.setZone(O,{keepLocalTime:!0})):r.parseMessages.push({type:"error",message:`Unable to parse timezone "${m}"`,pos:[i.dateRangeInText.from,i.dateRangeInText.to]})}else if(typeof m=="object"){const O=m.from,E=m.to;if(!O&&!E&&r.parseMessages.push({type:"error",message:"Unable to parse distinct from and to timezones. Specify \'timezone.from\' and/or \'timezone.to\' to set zones for the start or end of ranges, respectively.",pos:[i.dateRangeInText.from,i.dateRangeInText.to]}),O){const I=Vr(O,r.cache);I?i.fromDateTime=i.fromDateTime.setZone(I,{keepLocalTime:!0}):r.parseMessages.push({type:"error",message:`Unable to parse \'from\' timezone "${O}"`,pos:[i.dateRangeInText.from,i.dateRangeInText.to]})}if(E){const I=Vr(E,r.cache);I?i.toDateTime=i.toDateTime.setZone(I,{keepLocalTime:!0}):r.parseMessages.push({type:"error",message:`Unable to parse \'to\' timezone "${E}"`,pos:[i.dateRangeInText.from,i.dateRangeInText.to]})}}else r.parseMessages.push({type:"error",message:`Unable to parse timezone "${m[1]}"`,pos:[i.dateRangeInText.from,i.dateRangeInText.to]});const p={from:s[n],to:s[u],type:Ke.Event},b=new dI(t,o,l,i,p,i.dateRangeInText,y,i.originalString);if(b){const O=r.push(b);zM(b,O,i,r),u-n>1&&p.to-s[n+1]>0&&(r.foldables[s[n]]={startIndex:s[n+1]-1,endIndex:p.to-1,type:"event",foldStartIndex:s[n+1]-1,startLine:n})}return u-1}class WM{constructor(e,n,s){if(this.parseMessages=[],this.documentMessages=[],this.events=new pd,this.ids={},this.paletteIndex=0,this.earliest=void 0,this.latest=void 0,this.maxDuration=void 0,this.currentPath=[],this.foldables={},this.foldableSections=[],this.ranges=[],this.header={dateFormat:Lo},this.cache=n,typeof e=="string"){const r=ce.fromISO(e);r.isValid?this.now=r:this.now=ce.now()}else e?this.now=e:this.now=ce.now();s&&(this.priorEvent=()=>s(this))}get zonedNow(){return this.now.setZone(this.timezone)}get timezone(){return this.parentZone()}currentFoldableSection(){return this.foldableSections[this.foldableSections.length-1]}currentFoldableComment(){return this.foldables.comment}startFoldableSection(e){this.foldableSections.push(e)}startFoldable(e){this.foldables[e.type]=e}finishFoldableSection(e,n){const s=this.foldableSections.pop();s&&s.startLine<e-1&&(this.foldables[s.startIndex]={...s,endIndex:n})}finishFoldableComment(e){const n=this.currentFoldableComment();n&&(n.startLine<e-1&&(this.foldables[n.startIndex]={...n}),delete this.foldables.comment)}push(e){const{path:n,tail:s}=Qv(e,this.events,this.currentPath.slice(0,-1),this.tail);return s&&(this.head||(this.head=s),this.tail=s),this.currentPath=n,n}endCurrentGroup(e,n){this.currentPath.pop();const s=La(this.events,this.currentPath);s.textRanges.whole={...s.textRanges.whole,to:e},this.finishFoldableSection(n.line,e)}toTimeline(){return this.maxDuration&&this.maxDuration/1e3/60/60/24,{events:this.events,ids:this.ids,ranges:this.ranges.sort(({from:e},{from:n})=>e-n),foldables:this.foldables,header:this.header,parseMessages:this.parseMessages.sort(({pos:e,message:n},{pos:s,message:r})=>e[0]-s[0]),documentMessages:this.documentMessages}}priorEvent(){return this.tail}parentZone(){const e=[...this.currentPath];for(e.pop();e.length;){const n=La(this.events,e),s=jM((n==null?void 0:n.properties)??[],this.cache);if(s)return s;e.pop()}return Vr(this.header.timezone??this.header.tz,this.cache)??pl.instance}priorEventToDateTime(){const e=this.priorEvent();if(e)return Zt(e.dateRangeIso).toDateTime}priorEventFromDateTime(){const e=this.priorEvent();if(e)return Zt(e.dateRangeIso).fromDateTime}getById(e){const n=this.ids[e];if(n)return La(this.events,n)}}function jM(t,e){if(Array.isArray(t)){const n=t.find(([s,r])=>(s==="tz"||s==="timezone")&&(typeof r=="string"||typeof r=="number"));if(n)return Vr(n[1],e)}else{const n=(t==null?void 0:t.timezone)??(t==null?void 0:t.tz);if(n)return Vr(n,e)}}function VM(t,e,n,s){return s.currentPath.length>1&&t.match(Zv)?(s.ranges.push({from:n[e],to:n[e]+t.length,type:Ke.Section}),s.endCurrentGroup(n[e]+t.length,{line:e,index:t.length}),!0):!1}function qM(t,e,n,s){return[vu,p1,VM].some(r=>r(t,e,n,s))}class Pd{constructor(e){pe(this,"icaltype","binary");this.value=e}static fromString(e){return new Pd(e)}decodeValue(){return this._b64_decode(this.value)}setEncodedValue(e){this.value=this._b64_encode(e)}_b64_encode(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s,r,i,o,a,l,c,u,f=0,d=0,h="",y=[];if(!e)return e;do s=e.charCodeAt(f++),r=e.charCodeAt(f++),i=e.charCodeAt(f++),u=s<<16|r<<8|i,o=u>>18&63,a=u>>12&63,l=u>>6&63,c=u&63,y[d++]=n.charAt(o)+n.charAt(a)+n.charAt(l)+n.charAt(c);while(f<e.length);h=y.join("");let m=e.length%3;return(m?h.slice(0,m-3):h)+"===".slice(m||3)}_b64_decode(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s,r,i,o,a,l,c,u,f=0,d=0,h="",y=[];if(!e)return e;e+="";do o=n.indexOf(e.charAt(f++)),a=n.indexOf(e.charAt(f++)),l=n.indexOf(e.charAt(f++)),c=n.indexOf(e.charAt(f++)),u=o<<18|a<<12|l<<6|c,s=u>>16&255,r=u>>8&255,i=u&255,l==64?y[d++]=String.fromCharCode(s):c==64?y[d++]=String.fromCharCode(s,r):y[d++]=String.fromCharCode(s,r,i);while(f<e.length);return h=y.join(""),h}toString(){return this.value}}const KM=/([PDWHMTS]{1,1})/,GM=["weeks","days","hours","minutes","seconds","isNegative"];class In{constructor(e){pe(this,"weeks",0);pe(this,"days",0);pe(this,"hours",0);pe(this,"minutes",0);pe(this,"seconds",0);pe(this,"isNegative",!1);pe(this,"icalclass","icalduration");pe(this,"icaltype","duration");this.wrappedJSObject=this,this.fromData(e)}static fromSeconds(e){return new In().fromSeconds(e)}static isValueString(e){return e[0]==="P"||e[1]==="P"}static fromString(e){let n=0,s=Object.create(null),r=0;for(;(n=e.search(KM))!==-1;){let i=e[n],o=e.slice(0,Math.max(0,n));e=e.slice(n+1),r+=ZM(i,o,s)}if(r<2)throw new Error(\'invalid duration value: Not enough duration components in "\'+e+\'"\');return new In(s)}static fromData(e){return new In(e)}clone(){return In.fromData(this)}toSeconds(){let e=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-e:e}fromSeconds(e){let n=Math.abs(e);return this.isNegative=e<0,this.days=en(n/86400),this.days%7==0?(this.weeks=this.days/7,this.days=0):this.weeks=0,n-=(this.days+7*this.weeks)*86400,this.hours=en(n/3600),n-=this.hours*3600,this.minutes=en(n/60),n-=this.minutes*60,this.seconds=n,this}fromData(e){for(let n of GM)e&&n in e?this[n]=e[n]:this[n]=0}reset(){this.isNegative=!1,this.weeks=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0}compare(e){let n=this.toSeconds(),s=e.toSeconds();return(n>s)-(n<s)}normalize(){this.fromSeconds(this.toSeconds())}toString(){if(this.toSeconds()==0)return"PT0S";{let e="";return this.isNegative&&(e+="-"),e+="P",this.weeks&&(e+=this.weeks+"W"),this.days&&(e+=this.days+"D"),(this.hours||this.minutes||this.seconds)&&(e+="T",this.hours&&(e+=this.hours+"H"),this.minutes&&(e+=this.minutes+"M"),this.seconds&&(e+=this.seconds+"S")),e}}toICALString(){return this.toString()}}function ZM(t,e,n){let s;switch(t){case"P":e&&e==="-"?n.isNegative=!0:n.isNegative=!1;break;case"D":s="days";break;case"W":s="weeks";break;case"H":s="hours";break;case"M":s="minutes";break;case"S":s="seconds";break;default:return 0}if(s){if(!e&&e!==0)throw new Error(\'invalid duration value: Missing number before "\'+t+\'"\');let r=parseInt(e,10);if(Vc(r))throw new Error(\'invalid duration value: Invalid number "\'+e+\'" before "\'+t+\'"\');n[s]=r}return 1}var Do;const xe=class xe{constructor(e,n){pe(this,"icalclass","icaltime");pe(this,"_cachedUnixTime",null);pe(this,"zone",null);pe(this,"_pendingNormalization",!1);this.wrappedJSObject=this;let s=this._time=Object.create(null);s.year=0,s.month=1,s.day=1,s.hour=0,s.minute=0,s.second=0,s.isDate=!1,this.fromData(e,n)}static daysInMonth(e,n){let s=[0,31,28,31,30,31,30,31,31,30,31,30,31],r=30;return e<1||e>12||(r=s[e],e==2&&(r+=xe.isLeapYear(n))),r}static isLeapYear(e){return e<=1752?e%4==0:e%4==0&&e%100!=0||e%400==0}static fromDayOfYear(e,n){let s=n,r=e,i=new xe;i.auto_normalize=!1;let o=xe.isLeapYear(s)?1:0;if(r<1)return s--,o=xe.isLeapYear(s)?1:0,r+=xe.daysInYearPassedMonth[o][12],xe.fromDayOfYear(r,s);if(r>xe.daysInYearPassedMonth[o][12])return o=xe.isLeapYear(s)?1:0,r-=xe.daysInYearPassedMonth[o][12],s++,xe.fromDayOfYear(r,s);i.year=s,i.isDate=!0;for(let a=11;a>=0;a--)if(r>xe.daysInYearPassedMonth[o][a]){i.month=a+1,i.day=r-xe.daysInYearPassedMonth[o][a];break}return i.auto_normalize=!0,i}static fromStringv2(e){return new xe({year:parseInt(e.slice(0,4),10),month:parseInt(e.slice(5,7),10),day:parseInt(e.slice(8,10),10),isDate:!0})}static fromDateString(e){return new xe({year:kn(e.slice(0,4)),month:kn(e.slice(5,7)),day:kn(e.slice(8,10)),isDate:!0})}static fromDateTimeString(e,n){if(e.length<19)throw new Error(\'invalid date-time value: "\'+e+\'"\');let s,r;e[19]&&e[19]==="Z"?s=Dt.utcTimezone:n&&(r=n.getParameter("tzid"),n.parent&&(n.parent.name==="standard"||n.parent.name==="daylight"?s=Dt.localTimezone:r&&(s=n.parent.getTimeZoneByID(r))));const i={year:kn(e.slice(0,4)),month:kn(e.slice(5,7)),day:kn(e.slice(8,10)),hour:kn(e.slice(11,13)),minute:kn(e.slice(14,16)),second:kn(e.slice(17,19))};return r&&!s&&(i.timezone=r),new xe(i,s)}static fromString(e,n){return e.length>10?xe.fromDateTimeString(e,n):xe.fromDateString(e)}static fromJSDate(e,n){return new xe().fromJSDate(e,n)}static now(){return xe.fromJSDate(new Date,!1)}static weekOneStarts(e,n){let s=xe.fromData({year:e,month:1,day:1,isDate:!0}),r=s.dayOfWeek(),i=n||xe.DEFAULT_WEEK_START;return r>xe.THURSDAY&&(s.day+=7),i>xe.THURSDAY&&(s.day-=7),s.day-=r-i,s}static getDominicalLetter(e){let n="GFEDCBA",s=(e+(e/4|0)+(e/400|0)-(e/100|0)-1)%7;return xe.isLeapYear(e)?n[(s+6)%7]+n[s]:n[s]}static get epochTime(){return A(this,Do)||Fe(this,Do,xe.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"})),A(this,Do)}static _cmp_attr(e,n,s){return e[s]>n[s]?1:e[s]<n[s]?-1:0}get icaltype(){return this.isDate?"date":"date-time"}clone(){return new xe(this._time,this.zone)}reset(){this.fromData(xe.epochTime),this.zone=Dt.utcTimezone}resetTo(e,n,s,r,i,o,a){this.fromData({year:e,month:n,day:s,hour:r,minute:i,second:o,zone:a})}fromJSDate(e,n){return e?n?(this.zone=Dt.utcTimezone,this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()):(this.zone=Dt.localTimezone,this.year=e.getFullYear(),this.month=e.getMonth()+1,this.day=e.getDate(),this.hour=e.getHours(),this.minute=e.getMinutes(),this.second=e.getSeconds()):this.reset(),this._cachedUnixTime=null,this}fromData(e,n){if(e)for(let[s,r]of Object.entries(e))s!=="icaltype"&&(this[s]=r);if(n&&(this.zone=n),e&&!("isDate"in e)?this.isDate=!("hour"in e):e&&"isDate"in e&&(this.isDate=e.isDate),e&&"timezone"in e){let s=s2.get(e.timezone);this.zone=s||Dt.localTimezone}return e&&"zone"in e&&(this.zone=e.zone),this.zone||(this.zone=Dt.localTimezone),this._cachedUnixTime=null,this}dayOfWeek(e){let n=e||xe.SUNDAY,s=(this.year<<12)+(this.month<<8)+(this.day<<3)+n;if(s in xe._dowCache)return xe._dowCache[s];let r=this.day,i=this.month+(this.month<3?12:0),o=this.year-(this.month<3?1:0),a=r+o+en((i+1)*26/10)+en(o/4);return a+=en(o/100)*6+en(o/400),a=(a+7-n)%7+1,xe._dowCache[s]=a,a}dayOfYear(){let e=xe.isLeapYear(this.year)?1:0;return xe.daysInYearPassedMonth[e][this.month-1]+this.day}startOfWeek(e){let n=e||xe.SUNDAY,s=this.clone();return s.day-=(this.dayOfWeek()+7-n)%7,s.isDate=!0,s.hour=0,s.minute=0,s.second=0,s}endOfWeek(e){let n=e||xe.SUNDAY,s=this.clone();return s.day+=(7-this.dayOfWeek()+n-xe.SUNDAY)%7,s.isDate=!0,s.hour=0,s.minute=0,s.second=0,s}startOfMonth(){let e=this.clone();return e.day=1,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}endOfMonth(){let e=this.clone();return e.day=xe.daysInMonth(e.month,e.year),e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}startOfYear(){let e=this.clone();return e.day=1,e.month=1,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}endOfYear(){let e=this.clone();return e.day=31,e.month=12,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}startDoyWeek(e){let n=e||xe.SUNDAY,s=this.dayOfWeek()-n;return s<0&&(s+=7),this.dayOfYear()-s}getDominicalLetter(){return xe.getDominicalLetter(this.year)}nthWeekDay(e,n){let s=xe.daysInMonth(this.month,this.year),r,i=n,o=0,a=this.clone();if(i>=0){a.day=1,i!=0&&i--,o=a.day;let l=a.dayOfWeek(),c=e-l;c<0&&(c+=7),o+=c,o-=e,r=e}else{a.day=s;let l=a.dayOfWeek();i++,r=l-e,r<0&&(r+=7),r=s-r}return r+=i*7,o+r}isNthWeekDay(e,n){let s=this.dayOfWeek();return n===0&&s===e||this.nthWeekDay(e,n)===this.day}weekNumber(e){let n=(this.year<<12)+(this.month<<8)+(this.day<<3)+e;if(n in xe._wnCache)return xe._wnCache[n];let s,r=this.clone();r.isDate=!0;let i=this.year;r.month==12&&r.day>25?(s=xe.weekOneStarts(i+1,e),r.compare(s)<0?s=xe.weekOneStarts(i,e):i++):(s=xe.weekOneStarts(i,e),r.compare(s)<0&&(s=xe.weekOneStarts(--i,e)));let o=r.subtractDate(s).toSeconds()/86400,a=en(o/7)+1;return xe._wnCache[n]=a,a}addDuration(e){let n=e.isNegative?-1:1,s=this.second,r=this.minute,i=this.hour,o=this.day;s+=n*e.seconds,r+=n*e.minutes,i+=n*e.hours,o+=n*e.days,o+=n*7*e.weeks,this.second=s,this.minute=r,this.hour=i,this.day=o,this._cachedUnixTime=null}subtractDate(e){let n=this.toUnixTime()+this.utcOffset(),s=e.toUnixTime()+e.utcOffset();return In.fromSeconds(n-s)}subtractDateTz(e){let n=this.toUnixTime(),s=e.toUnixTime();return In.fromSeconds(n-s)}compare(e){let n=this.toUnixTime(),s=e.toUnixTime();return n>s?1:s>n?-1:0}compareDateOnlyTz(e,n){let s=this.convertToZone(n),r=e.convertToZone(n),i=0;return(i=xe._cmp_attr(s,r,"year"))!=0||(i=xe._cmp_attr(s,r,"month"))!=0||(i=xe._cmp_attr(s,r,"day"))!=0,i}convertToZone(e){let n=this.clone(),s=this.zone.tzid==e.tzid;return!this.isDate&&!s&&Dt.convert_time(n,this.zone,e),n.zone=e,n}utcOffset(){return this.zone==Dt.localTimezone||this.zone==Dt.utcTimezone?0:this.zone.utcOffset(this)}toICALString(){let e=this.toString();return e.length>10?sn.icalendar.value["date-time"].toICAL(e):sn.icalendar.value.date.toICAL(e)}toString(){let e=this.year+"-"+Kn(this.month)+"-"+Kn(this.day);return this.isDate||(e+="T"+Kn(this.hour)+":"+Kn(this.minute)+":"+Kn(this.second),this.zone===Dt.utcTimezone&&(e+="Z")),e}toJSDate(){return this.zone==Dt.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(this.toUnixTime()*1e3)}_normalize(){return this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=0),this.adjust(0,0,0,0),this}adjust(e,n,s,r,i){let o,a,l=0,c=0,u,f,d,h,y,m=i||this._time;if(m.isDate||(u=m.second+r,m.second=u%60,o=en(u/60),m.second<0&&(m.second+=60,o--),f=m.minute+s+o,m.minute=f%60,a=en(f/60),m.minute<0&&(m.minute+=60,a--),d=m.hour+n+a,m.hour=d%24,l=en(d/24),m.hour<0&&(m.hour+=24,l--)),m.month>12?c=en((m.month-1)/12):m.month<1&&(c=en(m.month/12)-1),m.year+=c,m.month-=12*c,h=m.day+e+l,h>0)for(;y=xe.daysInMonth(m.month,m.year),!(h<=y);)m.month++,m.month>12&&(m.year++,m.month=1),h-=y;else for(;h<=0;)m.month==1?(m.year--,m.month=12):m.month--,h+=xe.daysInMonth(m.month,m.year);return m.day=h,this._cachedUnixTime=null,this}fromUnixTime(e){this.zone=Dt.utcTimezone;let n=new Date(e*1e3);this.year=n.getUTCFullYear(),this.month=n.getUTCMonth()+1,this.day=n.getUTCDate(),this._time.isDate?(this.hour=0,this.minute=0,this.second=0):(this.hour=n.getUTCHours(),this.minute=n.getUTCMinutes(),this.second=n.getUTCSeconds()),this._cachedUnixTime=null}toUnixTime(){if(this._cachedUnixTime!==null)return this._cachedUnixTime;let e=this.utcOffset(),n=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-e);return this._cachedUnixTime=n/1e3,this._cachedUnixTime}toJSON(){let e=["year","month","day","hour","minute","second","isDate"],n=Object.create(null),s=0,r=e.length,i;for(;s<r;s++)i=e[s],n[i]=this[i];return this.zone&&(n.timezone=this.zone.tzid),n}};Do=new WeakMap,pe(xe,"_dowCache",{}),pe(xe,"_wnCache",{}),pe(xe,"fromData",function(n,s){return new xe().fromData(n,s)}),Ze(xe,Do,null),pe(xe,"daysInYearPassedMonth",[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]]),pe(xe,"SUNDAY",1),pe(xe,"MONDAY",2),pe(xe,"TUESDAY",3),pe(xe,"WEDNESDAY",4),pe(xe,"THURSDAY",5),pe(xe,"FRIDAY",6),pe(xe,"SATURDAY",7),pe(xe,"DEFAULT_WEEK_START",2);let $e=xe;(function(){function e(n){Object.defineProperty($e.prototype,n,{get:function(){return this._pendingNormalization&&(this._normalize(),this._pendingNormalization=!1),this._time[n]},set:function(r){n==="isDate"&&r&&!this._time.isDate&&this.adjust(0,0,0,0),this._cachedUnixTime=null,this._pendingNormalization=!0,this._time[n]=r}})}e("year"),e("month"),e("day"),e("hour"),e("minute"),e("second"),e("isDate")})();const XM=/[^ \\t]/,jc=":",Th=";",JM="=",QM="unknown",e2="text",t2={"^\'":\'"\',"^n":`\n`,"^^":"^"};function vt(t){let e={},n=e.component=[];if(e.stack=[n],vt._eachLine(t,function(s,r){vt._handleContentLine(r,e)}),e.stack.length>1)throw new Ai("invalid ical body. component began but did not end");return e=null,n.length==1?n[0]:n}vt.property=function(t,e){let n={component:[[],[]],designSet:e||sn.defaultSet};return vt._handleContentLine(t,n),n.component[1][0]};vt.component=function(t){return vt(t)};class Ai extends Error{constructor(){super(...arguments);pe(this,"name",this.constructor.name)}}vt.ParserError=Ai;vt._handleContentLine=function(t,e){let n=t.indexOf(jc),s=t.indexOf(Th),r,i,o,a,l={};s!==-1&&n!==-1&&s>n&&(s=-1);let c;if(s!==-1){if(o=t.slice(0,Math.max(0,s)).toLowerCase(),c=vt._parseParameters(t.slice(Math.max(0,s)),0,e.designSet),c[2]==-1)throw new Ai("Invalid parameters in \'"+t+"\'");if(l=c[0],r=c[1].length+c[2]+s,(i=t.slice(Math.max(0,r)).indexOf(jc))!==-1)a=t.slice(Math.max(0,r+i+1));else throw new Ai("Missing parameter value in \'"+t+"\'")}else if(n!==-1){if(o=t.slice(0,Math.max(0,n)).toLowerCase(),a=t.slice(Math.max(0,n+1)),o==="begin"){let b=[a.toLowerCase(),[],[]];e.stack.length===1?e.component.push(b):e.component[2].push(b),e.stack.push(e.component),e.component=b,e.designSet||(e.designSet=sn.getDesignSet(e.component[0]));return}else if(o==="end"){e.component=e.stack.pop();return}}else throw new Ai(\'invalid line (no token ";" or ":") "\'+t+\'"\');let u,f=!1,d=!1,h,y,m;e.designSet.propertyGroups&&o.indexOf(".")!==-1?(y=o.split("."),l.group=y[0],m=y[1]):m=o,m in e.designSet.property&&(h=e.designSet.property[m],"multiValue"in h&&(f=h.multiValue),"structuredValue"in h&&(d=h.structuredValue),a&&"detectType"in h&&(u=h.detectType(a))),u||("value"in l?u=l.value.toLowerCase():h?u=h.defaultType:u=QM),delete l.value;let p;f&&d?(a=vt._parseMultiValue(a,d,u,[],f,e.designSet,d),p=[m,l,u,a]):f?(p=[m,l,u],vt._parseMultiValue(a,f,u,p,null,e.designSet,!1)):d?(a=vt._parseMultiValue(a,d,u,[],null,e.designSet,d),p=[m,l,u,a]):(a=vt._parseValue(a,u,e.designSet,!1),p=[m,l,u,a]),e.component[0]==="vcard"&&e.component[1].length===0&&!(o==="version"&&a==="4.0")&&(e.designSet=sn.getDesignSet("vcard3")),e.component[1].push(p)};vt._parseValue=function(t,e,n,s){return e in n.value&&"fromICAL"in n.value[e]?n.value[e].fromICAL(t,s):t};vt._parseParameters=function(t,e,n){let s=e,r=0,i=JM,o={},a,l,c,u=-1,f,d,h;for(;r!==!1&&(r=t.indexOf(i,r+1))!==-1;){if(a=t.slice(s+1,r),a.length==0)throw new Ai("Empty parameter name in \'"+t+"\'");if(l=a.toLowerCase(),h=!1,d=!1,l in n.param&&n.param[l].valueType?f=n.param[l].valueType:f=e2,l in n.param&&(d=n.param[l].multiValue,n.param[l].multiValueSeparateDQuote&&(h=vt._rfc6868Escape(\'"\'+d+\'"\'))),t[r+1]===\'"\'){if(u=r+2,r=t.indexOf(\'"\',u),d&&r!=-1){let b=!0;for(;b;)t[r+1]==d&&t[r+2]==\'"\'?r=t.indexOf(\'"\',r+3):b=!1}if(r===-1)throw new Ai(\'invalid line (no matching double quote) "\'+t+\'"\');c=t.slice(u,r),s=t.indexOf(Th,r);let p=t.indexOf(jc,r);(s===-1||p!==-1&&s>p)&&(r=!1)}else{u=r+1;let p=t.indexOf(Th,u),b=t.indexOf(jc,u);b!==-1&&p>b?(p=b,r=!1):p===-1?(b===-1?p=t.length:p=b,r=!1):(s=p,r=p),c=t.slice(u,p)}const m=c.length;if(c=vt._rfc6868Escape(c),u+=m-c.length,d){let p=h||d;c=vt._parseMultiValue(c,p,f,[],null,n)}else c=vt._parseValue(c,f,n);d&&l in o?Array.isArray(o[l])?o[l].push(c):o[l]=[o[l],c]:o[l]=c}return[o,c,u]};vt._rfc6868Escape=function(t){return t.replace(/\\^[\'n^]/g,function(e){return t2[e]})};vt._parseMultiValue=function(t,e,n,s,r,i,o){let a=0,l=0,c;if(e.length===0)return t;for(;(a=r2(t,e,l))!==-1;)c=t.slice(l,a),r?c=vt._parseMultiValue(c,r,n,[],null,i,o):c=vt._parseValue(c,n,i,o),s.push(c),l=a+e.length;return c=t.slice(l),r?c=vt._parseMultiValue(c,r,n,[],null,i,o):c=vt._parseValue(c,n,i,o),s.push(c),s.length==1?s[0]:s};vt._eachLine=function(t,e){let n=t.length,s=t.search(XM),r=s,i,o,a;do r=t.indexOf(`\n`,s)+1,r>1&&t[r-2]==="\\r"?a=2:a=1,r===0&&(r=n,a=0),o=t[s],o===" "||o==="	"?i+=t.slice(s+1,r-a):(i&&e(null,i),i=t.slice(s,r-a)),s=r;while(r!==n);i=i.trim(),i.length&&e(null,i)};const n2=["tzid","location","tznames","latitude","longitude"];var Mo,xo;const tt=class tt{constructor(e){pe(this,"tzid","");pe(this,"location","");pe(this,"tznames","");pe(this,"latitude",0);pe(this,"longitude",0);pe(this,"component",null);pe(this,"expandedUntilYear",0);pe(this,"icalclass","icaltimezone");this.wrappedJSObject=this,this.fromData(e)}static _compare_change_fn(e,n){return e.year<n.year?-1:e.year>n.year?1:e.month<n.month?-1:e.month>n.month?1:e.day<n.day?-1:e.day>n.day?1:e.hour<n.hour?-1:e.hour>n.hour?1:e.minute<n.minute?-1:e.minute>n.minute?1:e.second<n.second?-1:e.second>n.second?1:0}static convert_time(e,n,s){if(e.isDate||n.tzid==s.tzid||n==tt.localTimezone||s==tt.localTimezone)return e.zone=s,e;let r=n.utcOffset(e);return e.adjust(0,0,0,-r),r=s.utcOffset(e),e.adjust(0,0,0,r),null}static fromData(e){return new tt().fromData(e)}static get utcTimezone(){return A(this,Mo)||Fe(this,Mo,tt.fromData({tzid:"UTC"})),A(this,Mo)}static get localTimezone(){return A(this,xo)||Fe(this,xo,tt.fromData({tzid:"floating"})),A(this,xo)}static adjust_change(e,n,s,r,i){return $e.prototype.adjust.call(e,n,s,r,i,e)}fromData(e){if(this.expandedUntilYear=0,this.changes=[],e instanceof Si)this.component=e;else{if(e&&"component"in e)if(typeof e.component=="string"){let n=vt(e.component);this.component=new Si(n)}else e.component instanceof Si?this.component=e.component:this.component=null;for(let n of n2)e&&n in e&&(this[n]=e[n])}return this.component instanceof Si&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid")),this}utcOffset(e){if(this==tt.utcTimezone||this==tt.localTimezone||(this._ensureCoverage(e.year),!this.changes.length))return 0;let n={year:e.year,month:e.month,day:e.day,hour:e.hour,minute:e.minute,second:e.second},s=this._findNearbyChange(n),r=-1,i=1;for(;;){let l=Uo(this.changes[s],!0);if(l.utcOffset<l.prevUtcOffset?tt.adjust_change(l,0,0,0,l.utcOffset):tt.adjust_change(l,0,0,0,l.prevUtcOffset),tt._compare_change_fn(n,l)>=0?r=s:i=-1,i==-1&&r!=-1)break;if(s+=i,s<0)return 0;if(s>=this.changes.length)break}let o=this.changes[r];if(o.utcOffset-o.prevUtcOffset<0&&r>0){let l=Uo(o,!0);if(tt.adjust_change(l,0,0,0,l.prevUtcOffset),tt._compare_change_fn(n,l)<0){let c=this.changes[r-1],u=!1;o.is_daylight!=u&&c.is_daylight==u&&(o=c)}}return o.utcOffset}_findNearbyChange(e){let n=i2(this.changes,e,tt._compare_change_fn);return n>=this.changes.length?this.changes.length-1:n}_ensureCoverage(e){if(tt._minimumExpansionYear==-1){let s=$e.now();tt._minimumExpansionYear=s.year}let n=e;if(n<tt._minimumExpansionYear&&(n=tt._minimumExpansionYear),n+=tt.EXTRA_COVERAGE,!this.changes.length||this.expandedUntilYear<e){let s=this.component.getAllSubcomponents(),r=s.length,i=0;for(;i<r;i++)this._expandComponent(s[i],n,this.changes);this.changes.sort(tt._compare_change_fn),this.expandedUntilYear=n}}_expandComponent(e,n,s){if(!e.hasProperty("dtstart")||!e.hasProperty("tzoffsetto")||!e.hasProperty("tzoffsetfrom"))return null;let r=e.getFirstProperty("dtstart").getFirstValue(),i;function o(l){return l.factor*(l.hours*3600+l.minutes*60)}function a(){let l={};return l.is_daylight=e.name=="daylight",l.utcOffset=o(e.getFirstProperty("tzoffsetto").getFirstValue()),l.prevUtcOffset=o(e.getFirstProperty("tzoffsetfrom").getFirstValue()),l}if(!e.hasProperty("rrule")&&!e.hasProperty("rdate"))i=a(),i.year=r.year,i.month=r.month,i.day=r.day,i.hour=r.hour,i.minute=r.minute,i.second=r.second,tt.adjust_change(i,0,0,0,-i.prevUtcOffset),s.push(i);else{let l=e.getAllProperties("rdate");for(let u of l){let f=u.getFirstValue();i=a(),i.year=f.year,i.month=f.month,i.day=f.day,f.isDate?(i.hour=r.hour,i.minute=r.minute,i.second=r.second,r.zone!=tt.utcTimezone&&tt.adjust_change(i,0,0,0,-i.prevUtcOffset)):(i.hour=f.hour,i.minute=f.minute,i.second=f.second,f.zone!=tt.utcTimezone&&tt.adjust_change(i,0,0,0,-i.prevUtcOffset)),s.push(i)}let c=e.getFirstProperty("rrule");if(c){c=c.getFirstValue(),i=a(),c.until&&c.until.zone==tt.utcTimezone&&(c.until.adjust(0,0,0,i.prevUtcOffset),c.until.zone=tt.localTimezone);let u=c.iterator(r),f;for(;(f=u.next())&&(i=a(),!(f.year>n||!f));)i.year=f.year,i.month=f.month,i.day=f.day,i.hour=f.hour,i.minute=f.minute,i.second=f.second,i.isDate=f.isDate,tt.adjust_change(i,0,0,0,-i.prevUtcOffset),s.push(i)}}return s}toString(){return this.tznames?this.tznames:this.tzid}};Mo=new WeakMap,xo=new WeakMap,Ze(tt,Mo,null),Ze(tt,xo,null),pe(tt,"_minimumExpansionYear",-1),pe(tt,"EXTRA_COVERAGE",5);let Dt=tt,gn=null;const s2={get count(){return gn===null?0:Object.keys(gn).length},reset:function(){gn=Object.create(null);let t=Dt.utcTimezone;gn.Z=t,gn.UTC=t,gn.GMT=t},_hard_reset:function(){gn=null},has:function(t){return gn===null?!1:!!gn[t]},get:function(t){return gn===null&&this.reset(),gn[t]},register:function(t,e){if(gn===null&&this.reset(),typeof t=="string"&&e instanceof Dt&&([t,e]=[e,t]),e||(t instanceof Dt?e=t.tzid:t.name==="vtimezone"&&(t=new Dt(t),e=t.tzid)),!e)throw new TypeError("Neither a timezone nor a name was passed");if(t instanceof Dt)gn[e]=t;else throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component")},remove:function(t){return gn===null?null:delete gn[t]}};function Vc(t){return typeof t=="number"&&isNaN(t)}function kn(t){let e=parseInt(t,10);if(Vc(e))throw new Error(\'Could not extract integer from "\'+t+\'"\');return e}function mf(t,e){if(!(typeof t>"u"))return t instanceof e?t:new e(t)}function r2(t,e,n){for(;(n=t.indexOf(e,n))!==-1;)if(n>0&&t[n-1]==="\\\\")n+=1;else return n;return-1}function i2(t,e,n){if(!t.length)return 0;let s=0,r=t.length-1,i,o;for(;s<=r;)if(i=s+Math.floor((r-s)/2),o=n(e,t[i]),o<0)r=i-1;else if(o>0)s=i+1;else break;return o<0?i:o>0?i+1:i}function Uo(t,e){if(!t||typeof t!="object")return t;if(t instanceof Date)return new Date(t.getTime());if("clone"in t)return t.clone();if(Array.isArray(t)){let n=[];for(let s=0;s<t.length;s++)n.push(e?Uo(t[s],!0):t[s]);return n}else{let n={};for(let[s,r]of Object.entries(t))e?n[s]=Uo(r,!0):n[s]=r;return n}}function o2(t){let e="",n=t||"",s=0,r=0;for(;n.length;){let i=n.codePointAt(s);i<128?++r:i<2048?r+=2:i<65536?r+=3:r+=4,r<gf.foldLength+1?s+=i>65535?2:1:(e+=gf.newLineChar+" "+n.slice(0,Math.max(0,s)),n=n.slice(Math.max(0,s)),s=r=0)}return e.slice(gf.newLineChar.length+1)}function Kn(t){switch(typeof t!="string"&&(typeof t=="number"&&(t=parseInt(t)),t=String(t)),t.length){case 0:return"00";case 1:return"0"+t;default:return t}}function en(t){return t<0?Math.ceil(t):Math.floor(t)}function na(t,e){for(let n in t){let s=Object.getOwnPropertyDescriptor(t,n);s&&!Object.getOwnPropertyDescriptor(e,n)&&Object.defineProperty(e,n,s)}return e}class Vs{constructor(e){pe(this,"hours",0);pe(this,"minutes",0);pe(this,"factor",1);pe(this,"icaltype","utc-offset");this.fromData(e)}static fromString(e){let n={};return n.factor=e[0]==="+"?1:-1,n.hours=kn(e.slice(1,3)),n.minutes=kn(e.slice(4,6)),new Vs(n)}static fromSeconds(e){let n=new Vs;return n.fromSeconds(e),n}clone(){return Vs.fromSeconds(this.toSeconds())}fromData(e){if(e)for(let[n,s]of Object.entries(e))this[n]=s;this._normalize()}fromSeconds(e){let n=Math.abs(e);return this.factor=e<0?-1:1,this.hours=en(n/3600),n-=this.hours*3600,this.minutes=en(n/60),this}toSeconds(){return this.factor*(60*this.minutes+3600*this.hours)}compare(e){let n=this.toSeconds(),s=e.toSeconds();return(n>s)-(s>n)}_normalize(){let e=this.toSeconds(),n=this.factor;for(;e<-43200;)e+=97200;for(;e>50400;)e-=97200;this.fromSeconds(e),e==0&&(this.factor=n)}toICALString(){return sn.icalendar.value["utc-offset"].toICAL(this.toString())}toString(){return(this.factor==1?"+":"-")+Kn(this.hours)+":"+Kn(this.minutes)}}class Ei extends $e{constructor(n,s,r){super(n,s);pe(this,"icalclass","vcardtime");pe(this,"icaltype","date-and-or-time");this.icaltype=r||"date-and-or-time"}static fromDateAndOrTimeString(n,s){function r(p,b,O){return p?kn(p.slice(b,b+O)):null}let i=n.split("T"),o=i[0],a=i[1],l=a?sn.vcard.value.time._splitZone(a):[],c=l[0],u=l[1],f=o?o.length:0,d=u?u.length:0,h=o&&o[0]=="-"&&o[1]=="-",y=u&&u[0]=="-",m={year:h?null:r(o,0,4),month:h&&(f==4||f==7)?r(o,2,2):f==7||f==10?r(o,5,2):null,day:f==5?r(o,3,2):f==7&&h?r(o,5,2):f==10?r(o,8,2):null,hour:y?null:r(u,0,2),minute:y&&d==3?r(u,1,2):d>4?y?r(u,1,2):r(u,3,2):null,second:d==4?r(u,2,2):d==6?r(u,4,2):d==8?r(u,6,2):null};return c=="Z"?c=Dt.utcTimezone:c&&c[3]==":"?c=Vs.fromString(c):c=null,new Ei(m,c,s)}clone(){return new Ei(this._time,this.zone,this.icaltype)}_normalize(){return this}utcOffset(){return this.zone instanceof Vs?this.zone.toSeconds():$e.prototype.utcOffset.apply(this,arguments)}toICALString(){return sn.vcard.value[this.icaltype].toICAL(this.toString())}toString(){let n=this.year,s=this.month,r=this.day,i=this.hour,o=this.minute,a=this.second,l=n!==null,c=s!==null,u=r!==null,f=i!==null,d=o!==null,h=a!==null,y=(l?Kn(n)+(c||u?"-":""):c||u?"--":"")+(c?Kn(s):"")+(u?"-"+Kn(r):""),m=(f?Kn(i):"-")+(f&&d?":":"")+(d?Kn(o):"")+(!f&&!d?"-":"")+(d&&h?":":"")+(h?Kn(a):""),p;switch(this.zone===Dt.utcTimezone?p="Z":this.zone instanceof Vs?p=this.zone.toString():this.zone===Dt.localTimezone?p="":this.zone instanceof Dt?p=Vs.fromSeconds(this.zone.utcOffset(this)).toString():p="",this.icaltype){case"time":return m+p;case"date-and-or-time":case"date-time":return y+(m=="--"?"":"T"+m+p);case"date":return y}return null}}const Nn=class Nn{constructor(e){pe(this,"completed",!1);pe(this,"rule",null);pe(this,"dtstart",null);pe(this,"last",null);pe(this,"occurrence_number",0);pe(this,"by_indices",null);pe(this,"initialized",!1);pe(this,"by_data",null);pe(this,"days",null);pe(this,"days_index",0);this.fromData(e)}fromData(e){if(this.rule=mf(e.rule,On),!this.rule)throw new Error("iterator requires a (ICAL.Recur) rule");if(this.dtstart=mf(e.dtstart,$e),!this.dtstart)throw new Error("iterator requires a (ICAL.Time) dtstart");if(e.by_data?this.by_data=e.by_data:this.by_data=Uo(this.rule.parts,!0),e.occurrence_number&&(this.occurrence_number=e.occurrence_number),this.days=e.days||[],e.last&&(this.last=mf(e.last,$e)),this.by_indices=e.by_indices,this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0}),this.initialized=e.initialized||!1,!this.initialized)try{this.init()}catch(n){if(n instanceof ry)this.completed=!0;else throw n}}init(){this.initialized=!0,this.last=this.dtstart.clone();let e=this.by_data;if("BYDAY"in e&&this.sort_byday_rules(e.BYDAY),"BYYEARDAY"in e&&("BYMONTH"in e||"BYWEEKNO"in e||"BYMONTHDAY"in e||"BYDAY"in e))throw new Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in e&&"BYMONTHDAY"in e)throw new Error("BYWEEKNO does not fit to BYMONTHDAY");if(this.rule.freq=="MONTHLY"&&("BYYEARDAY"in e||"BYWEEKNO"in e))throw new Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if(this.rule.freq=="WEEKLY"&&("BYYEARDAY"in e||"BYMONTHDAY"in e))throw new Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");if(this.rule.freq!="YEARLY"&&"BYYEARDAY"in e)throw new Error("BYYEARDAY may only appear in YEARLY rules");if(this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second),this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute),this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour),this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day),this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month),this.rule.freq=="WEEKLY")if("BYDAY"in e){let[,n]=this.ruleDayOfWeek(e.BYDAY[0],this.rule.wkst),s=n-this.last.dayOfWeek(this.rule.wkst);(this.last.dayOfWeek(this.rule.wkst)<n&&s>=0||s<0)&&(this.last.day+=s)}else{let n=On.numericDayToIcalDay(this.dtstart.dayOfWeek());e.BYDAY=[n]}if(this.rule.freq=="YEARLY"){const n=this.rule.until?this.rule.until.year:2e4;for(;this.last.year<=n&&(this.expand_year_days(this.last.year),!(this.days.length>0));)this.increment_year(this.rule.interval);if(this.days.length==0)throw new ry;this._nextByYearDay()}if(this.rule.freq=="MONTHLY"){if(this.has_by_data("BYDAY")){let n=null,s=this.last.clone(),r=$e.daysInMonth(this.last.month,this.last.year);for(let i of this.by_data.BYDAY){this.last=s.clone();let[o,a]=this.ruleDayOfWeek(i),l=this.last.nthWeekDay(a,o);if(o>=6||o<=-6)throw new Error("Malformed values in BYDAY part");if(l>r||l<=0){if(n&&n.month==s.month)continue;for(;l>r||l<=0;)this.increment_month(),r=$e.daysInMonth(this.last.month,this.last.year),l=this.last.nthWeekDay(a,o)}this.last.day=l,(!n||this.last.compare(n)<0)&&(n=this.last.clone())}if(this.last=n.clone(),this.has_by_data("BYMONTHDAY")&&this._byDayAndMonthDay(!0),this.last.day>r||this.last.day==0)throw new Error("Malformed values in BYDAY part")}else if(this.has_by_data("BYMONTHDAY")){this.last.day=1;let n=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY).filter(s=>s>=this.last.day);if(n.length)this.last.day=n[0],this.by_data.BYMONTHDAY=n;else if(!this.next_month()&&!this.next_month()&&!this.next_month())throw new Error("No possible occurrences")}}}next(e=!1){let n=this.last?this.last.clone():null;if((this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&this.last.compare(this.rule.until)>0)&&(this.completed=!0),this.completed)return null;if(this.occurrence_number==0&&this.last.compare(this.dtstart)>=0)return this.occurrence_number++,this.last;let s;do switch(s=1,this.rule.freq){case"SECONDLY":this.next_second();break;case"MINUTELY":this.next_minute();break;case"HOURLY":this.next_hour();break;case"DAILY":this.next_day();break;case"WEEKLY":this.next_week();break;case"MONTHLY":s=this.next_month();break;case"YEARLY":this.next_year();break;default:return null}while(!this.check_contracting_rules()||this.last.compare(this.dtstart)<0||!s);if(this.last.compare(n)==0){if(e)throw new Error("Same occurrence found twice, protecting you from death by recursion");this.next(!0)}return this.rule.until&&this.last.compare(this.rule.until)>0?(this.completed=!0,null):(this.occurrence_number++,this.last)}next_second(){return this.next_generic("BYSECOND","SECONDLY","second","minute")}increment_second(e){return this.increment_generic(e,"second",60,"minute")}next_minute(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")}increment_minute(e){return this.increment_generic(e,"minute",60,"hour")}next_hour(){return this.next_generic("BYHOUR","HOURLY","hour","monthday","next_minute")}increment_hour(e){this.increment_generic(e,"hour",24,"monthday")}next_day(){let e=this.rule.freq=="DAILY";return this.next_hour()==0||(e?this.increment_monthday(this.rule.interval):this.increment_monthday(1)),0}next_week(){let e=0;if(this.next_weekday_by_week()==0)return e;if(this.has_by_data("BYWEEKNO")){this.by_indices.BYWEEKNO++,this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,e=1),this.last.month=1,this.last.day=1;let n=this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO];this.last.day+=7*n,e&&this.increment_year(1)}else this.increment_monthday(7*this.rule.interval);return e}normalizeByMonthDayRules(e,n,s){let r=$e.daysInMonth(n,e),i=[],o=0,a=s.length,l;for(;o<a;o++){if(l=parseInt(s[o],10),isNaN(l))throw new Error("Invalid BYMONTHDAY value");if(!(Math.abs(l)>r)){if(l<0)l=r+(l+1);else if(l===0)continue;i.indexOf(l)===-1&&i.push(l)}}return i.sort(function(c,u){return c-u})}_byDayAndMonthDay(e){let n,s=this.by_data.BYDAY,r,i=0,o,a=s.length,l=0,c,u=this,f=this.last.day;function d(){for(c=$e.daysInMonth(u.last.month,u.last.year),n=u.normalizeByMonthDayRules(u.last.year,u.last.month,u.by_data.BYMONTHDAY),o=n.length;n[i]<=f&&!(e&&n[i]==f)&&i<o-1;)i++}function h(){f=0,u.increment_month(),i=0,d()}d(),e&&(f-=1);let y=48;for(;!l&&y;){if(y--,r=f+1,r>c){h();continue}let m=n[i++];if(m>=r)f=m;else{h();continue}for(let p=0;p<a;p++){let b=this.ruleDayOfWeek(s[p]),O=b[0],E=b[1];if(this.last.day=f,this.last.isNthWeekDay(E,O)){l=1;break}}if(!l&&i===o){h();continue}}if(y<=0)throw new Error("Malformed values in BYDAY combined with BYMONTHDAY parts");return l}next_month(){let e=1;if(this.next_hour()==0)return e;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))e=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){let n=$e.daysInMonth(this.last.month,this.last.year),s=0,r=0;if(this.has_by_data("BYSETPOS")){let o=this.last.day;for(let a=1;a<=n;a++)this.last.day=a,this.is_day_in_byday(this.last)&&(r++,a<=o&&s++);this.last.day=o}e=0;let i;for(i=this.last.day+1;i<=n;i++)if(this.last.day=i,this.is_day_in_byday(this.last)&&(!this.has_by_data("BYSETPOS")||this.check_set_position(++s)||this.check_set_position(s-r-1))){e=1;break}i>n&&(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)?(!this.has_by_data("BYSETPOS")||this.check_set_position(1))&&(e=1):e=0)}else if(this.has_by_data("BYMONTHDAY")){if(this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month(),this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length))return 0;let n=$e.daysInMonth(this.last.month,this.last.year),s=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY];s<0&&(s=n+s+1),s>n?(this.last.day=1,e=this.is_day_in_byday(this.last)):this.last.day=s}else{this.increment_month();let n=$e.daysInMonth(this.last.month,this.last.year);this.by_data.BYMONTHDAY[0]>n?e=0:this.last.day=this.by_data.BYMONTHDAY[0]}return e}next_weekday_by_week(){let e=0;if(this.next_hour()==0)return e;if(!this.has_by_data("BYDAY"))return 1;for(;;){let n=new $e;this.by_indices.BYDAY++,this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=0,e=1);let s=this.by_data.BYDAY[this.by_indices.BYDAY],i=this.ruleDayOfWeek(s)[1];i-=this.rule.wkst,i<0&&(i+=7),n.year=this.last.year,n.month=this.last.month,n.day=this.last.day;let o=n.startDoyWeek(this.rule.wkst);if(i+o<1&&!e)continue;let a=$e.fromDayOfYear(o+i,this.last.year);return this.last.year=a.year,this.last.month=a.month,this.last.day=a.day,e}}next_year(){if(this.next_hour()==0)return 0;if(++this.days_index==this.days.length){this.days_index=0;do this.increment_year(this.rule.interval),this.has_by_data("BYMONTHDAY")&&(this.by_data.BYMONTHDAY=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY)),this.expand_year_days(this.last.year);while(this.days.length==0)}return this._nextByYearDay(),1}_nextByYearDay(){let e=this.days[this.days_index],n=this.last.year;e<1&&(e+=1,n+=1);let s=$e.fromDayOfYear(e,n);this.last.day=s.day,this.last.month=s.month}ruleDayOfWeek(e,n){let s=e.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/);if(s){let r=parseInt(s[1]||0,10);return e=On.icalDayToNumericDay(s[2],n),[r,e]}else return[0,0]}next_generic(e,n,s,r,i){let o=e in this.by_data,a=this.rule.freq==n,l=0;if(i&&this[i]()==0)return l;if(o){this.by_indices[e]++;let c=this.by_data[e];this.by_indices[e]==c.length&&(this.by_indices[e]=0,l=1),this.last[s]=c[this.by_indices[e]]}else a&&this["increment_"+s](this.rule.interval);return o&&l&&a&&this["increment_"+r](1),l}increment_monthday(e){for(let n=0;n<e;n++){let s=$e.daysInMonth(this.last.month,this.last.year);this.last.day++,this.last.day>s&&(this.last.day-=s,this.increment_month())}}increment_month(){if(this.last.day=1,this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{this.rule.freq=="MONTHLY"?this.last.month+=this.rule.interval:this.last.month++,this.last.month--;let e=en(this.last.month/12);this.last.month%=12,this.last.month++,e!=0&&this.increment_year(e)}this.has_by_data("BYMONTHDAY")&&(this.by_data.BYMONTHDAY=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY))}increment_year(e){this.last.day=1,this.last.year+=e}increment_generic(e,n,s,r){this.last[n]+=e;let i=en(this.last[n]/s);this.last[n]%=s,i!=0&&this["increment_"+r](i)}has_by_data(e){return e in this.rule.parts}expand_year_days(e){let n=new $e;this.days=[];let s={},r=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(let a of r)a in this.rule.parts&&(s[a]=this.rule.parts[a]);if("BYMONTH"in s&&"BYWEEKNO"in s){let a=1,l={};n.year=e,n.isDate=!0;for(let c=0;c<this.by_data.BYMONTH.length;c++){let u=this.by_data.BYMONTH[c];n.month=u,n.day=1;let f=n.weekNumber(this.rule.wkst);n.day=$e.daysInMonth(u,e);let d=n.weekNumber(this.rule.wkst);for(c=f;c<d;c++)l[c]=1}for(let c=0;c<this.by_data.BYWEEKNO.length&&a;c++)this.by_data.BYWEEKNO[c]<52?a&=l[c]:a=0;a?delete s.BYMONTH:delete s.BYWEEKNO}let i=Object.keys(s).length;if(i==0){let a=this.dtstart.clone();a.year=this.last.year,this.days.push(a.dayOfYear())}else if(i==1&&"BYMONTH"in s)for(let a of this.by_data.BYMONTH){let l=this.dtstart.clone();l.year=e,l.month=a,l.isDate=!0,this.days.push(l.dayOfYear())}else if(i==1&&"BYMONTHDAY"in s)for(let a of this.by_data.BYMONTHDAY){let l=this.dtstart.clone();if(a<0){let c=$e.daysInMonth(l.month,e);a=a+c+1}l.day=a,l.year=e,l.isDate=!0,this.days.push(l.dayOfYear())}else if(i==2&&"BYMONTHDAY"in s&&"BYMONTH"in s)for(let a of this.by_data.BYMONTH){let l=$e.daysInMonth(a,e);for(let c of this.by_data.BYMONTHDAY)c<0&&(c=c+l+1),n.day=c,n.month=a,n.year=e,n.isDate=!0,this.days.push(n.dayOfYear())}else if(!(i==1&&"BYWEEKNO"in s)){if(!(i==2&&"BYWEEKNO"in s&&"BYMONTHDAY"in s))if(i==1&&"BYDAY"in s)this.days=this.days.concat(this.expand_by_day(e));else if(i==2&&"BYDAY"in s&&"BYMONTH"in s){for(let a of this.by_data.BYMONTH){let l=$e.daysInMonth(a,e);n.year=e,n.month=a,n.day=1,n.isDate=!0;let c=n.dayOfWeek(),u=n.dayOfYear()-1;n.day=l;let f=n.dayOfWeek();if(this.has_by_data("BYSETPOS")){let d=[];for(let h=1;h<=l;h++)n.day=h,this.is_day_in_byday(n)&&d.push(h);for(let h=0;h<d.length;h++)(this.check_set_position(h+1)||this.check_set_position(h-d.length))&&this.days.push(u+d[h])}else for(let d of this.by_data.BYDAY){let h=this.ruleDayOfWeek(d),y=h[0],m=h[1],p,b=(m+7-c)%7+1,O=l-(f+7-m)%7;if(y==0)for(let E=b;E<=l;E+=7)this.days.push(u+E);else y>0?(p=b+(y-1)*7,p<=l&&this.days.push(u+p)):(p=O+(y+1)*7,p>0&&this.days.push(u+p))}}this.days.sort(function(a,l){return a-l})}else if(i==2&&"BYDAY"in s&&"BYMONTHDAY"in s){let a=this.expand_by_day(e);for(let l of a){let c=$e.fromDayOfYear(l,e);this.by_data.BYMONTHDAY.indexOf(c.day)>=0&&this.days.push(l)}}else if(i==3&&"BYDAY"in s&&"BYMONTHDAY"in s&&"BYMONTH"in s){let a=this.expand_by_day(e);for(let l of a){let c=$e.fromDayOfYear(l,e);this.by_data.BYMONTH.indexOf(c.month)>=0&&this.by_data.BYMONTHDAY.indexOf(c.day)>=0&&this.days.push(l)}}else if(i==2&&"BYDAY"in s&&"BYWEEKNO"in s){let a=this.expand_by_day(e);for(let l of a){let u=$e.fromDayOfYear(l,e).weekNumber(this.rule.wkst);this.by_data.BYWEEKNO.indexOf(u)&&this.days.push(l)}}else i==3&&"BYDAY"in s&&"BYWEEKNO"in s&&"BYMONTHDAY"in s||(i==1&&"BYYEARDAY"in s?this.days=this.days.concat(this.by_data.BYYEARDAY):this.days=[])}let o=$e.isLeapYear(e)?366:365;return this.days.sort((a,l)=>(a<0&&(a+=o+1),l<0&&(l+=o+1),a-l)),0}expand_by_day(e){let n=[],s=this.last.clone();s.year=e,s.month=1,s.day=1,s.isDate=!0;let r=s.dayOfWeek();s.month=12,s.day=31,s.isDate=!0;let i=s.dayOfWeek(),o=s.dayOfYear();for(let a of this.by_data.BYDAY){let l=this.ruleDayOfWeek(a),c=l[0],u=l[1];if(c==0){let f=(u+7-r)%7+1;for(let d=f;d<=o;d+=7)n.push(d)}else if(c>0){let f;u>=r?f=u-r+1:f=u-r+8,n.push(f+(c-1)*7)}else{let f;c=-c,u<=i?f=o-i+u:f=o-i+u-7,n.push(f-(c-1)*7)}}return n}is_day_in_byday(e){if(this.by_data.BYDAY)for(let n of this.by_data.BYDAY){let s=this.ruleDayOfWeek(n),r=s[0],i=s[1],o=e.dayOfWeek();if(r==0&&i==o||e.nthWeekDay(i,r)==e.day)return 1}return 0}check_set_position(e){return this.has_by_data("BYSETPOS")?this.by_data.BYSETPOS.indexOf(e)!==-1:!1}sort_byday_rules(e){for(let n=0;n<e.length;n++)for(let s=0;s<n;s++){let r=this.ruleDayOfWeek(e[s],this.rule.wkst)[1],i=this.ruleDayOfWeek(e[n],this.rule.wkst)[1];if(r>i){let o=e[n];e[n]=e[s],e[s]=o}}}check_contract_restriction(e,n){let s=Nn._indexMap[e],r=Nn._expandMap[this.rule.freq][s],i=!1;if(e in this.by_data&&r==Nn.CONTRACT){let o=this.by_data[e];for(let a of o)if(a==n){i=!0;break}}else i=!0;return i}check_contracting_rules(){let e=this.last.dayOfWeek(),n=this.last.weekNumber(this.rule.wkst),s=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",On.numericDayToIcalDay(e))&&this.check_contract_restriction("BYWEEKNO",n)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",s)}setup_defaults(e,n,s){let r=Nn._indexMap[e];return Nn._expandMap[this.rule.freq][r]!=Nn.CONTRACT&&(e in this.by_data||(this.by_data[e]=[s]),this.rule.freq!=n)?this.by_data[e][0]:s}toJSON(){let e=Object.create(null);return e.initialized=this.initialized,e.rule=this.rule.toJSON(),e.dtstart=this.dtstart.toJSON(),e.by_data=this.by_data,e.days=this.days,e.last=this.last.toJSON(),e.by_indices=this.by_indices,e.occurrence_number=this.occurrence_number,e}};pe(Nn,"_indexMap",{BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8}),pe(Nn,"_expandMap",{SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]}),pe(Nn,"UNKNOWN",0),pe(Nn,"CONTRACT",1),pe(Nn,"EXPAND",2),pe(Nn,"ILLEGAL",3);let kh=Nn;class ry extends Error{constructor(){super("Recurrence rule has no valid occurrences")}}const a2=/^(SU|MO|TU|WE|TH|FR|SA)$/,l2=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,sw={SU:$e.SUNDAY,MO:$e.MONDAY,TU:$e.TUESDAY,WE:$e.WEDNESDAY,TH:$e.THURSDAY,FR:$e.FRIDAY,SA:$e.SATURDAY},c2=Object.fromEntries(Object.entries(sw).map(t=>t.reverse())),iy=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"];class On{constructor(e){pe(this,"parts",null);pe(this,"interval",1);pe(this,"wkst",$e.MONDAY);pe(this,"until",null);pe(this,"count",null);pe(this,"freq",null);pe(this,"icalclass","icalrecur");pe(this,"icaltype","recur");this.wrappedJSObject=this,this.parts={},e&&typeof e=="object"&&this.fromData(e)}static fromString(e){let n=this._stringToData(e,!1);return new On(n)}static fromData(e){return new On(e)}static _stringToData(e,n){let s=Object.create(null),r=e.split(";"),i=r.length;for(let o=0;o<i;o++){let a=r[o].split("="),l=a[0].toUpperCase(),c=a[0].toLowerCase(),u=n?c:l,f=a[1];if(l in yf){let d=f.split(","),h=new Set;for(let y of d)h.add(yf[l](y));d=[...h],s[u]=d.length==1?d[0]:d}else l in pf?pf[l](f,s,n):s[c]=f}return s}static icalDayToNumericDay(e,n){let s=n||$e.SUNDAY;return(sw[e]-s+7)%7+1}static numericDayToIcalDay(e,n){let s=n||$e.SUNDAY,r=e+s-$e.SUNDAY;return r>7&&(r-=7),c2[r]}iterator(e){return new kh({rule:this,dtstart:e})}clone(){return new On(this.toJSON())}isFinite(){return!!(this.count||this.until)}isByCount(){return!!(this.count&&!this.until)}addComponent(e,n){let s=e.toUpperCase();s in this.parts?this.parts[s].push(n):this.parts[s]=[n]}setComponent(e,n){this.parts[e.toUpperCase()]=n.slice()}getComponent(e){let n=e.toUpperCase();return n in this.parts?this.parts[n].slice():[]}getNextOccurrence(e,n){let s=this.iterator(e),r;do r=s.next();while(r&&r.compare(n)<=0);return r&&n.zone&&(r.zone=n.zone),r}fromData(e){for(let n in e){let s=n.toUpperCase();s in yf?Array.isArray(e[n])?this.parts[s]=e[n]:this.parts[s]=[e[n]]:this[n]=e[n]}this.interval&&typeof this.interval!="number"&&pf.INTERVAL(this.interval,this),this.wkst&&typeof this.wkst!="number"&&(this.wkst=On.icalDayToNumericDay(this.wkst)),this.until&&!(this.until instanceof $e)&&(this.until=$e.fromString(this.until))}toJSON(){let e=Object.create(null);e.freq=this.freq,this.count&&(e.count=this.count),this.interval>1&&(e.interval=this.interval);for(let[n,s]of Object.entries(this.parts))Array.isArray(s)&&s.length==1?e[n.toLowerCase()]=s[0]:e[n.toLowerCase()]=Uo(s);return this.until&&(e.until=this.until.toString()),"wkst"in this&&this.wkst!==$e.DEFAULT_WEEK_START&&(e.wkst=On.numericDayToIcalDay(this.wkst)),e}toString(){let e="FREQ="+this.freq;this.count&&(e+=";COUNT="+this.count),this.interval>1&&(e+=";INTERVAL="+this.interval);for(let[n,s]of Object.entries(this.parts))e+=";"+n+"="+s;return this.until&&(e+=";UNTIL="+this.until.toICALString()),"wkst"in this&&this.wkst!==$e.DEFAULT_WEEK_START&&(e+=";WKST="+On.numericDayToIcalDay(this.wkst)),e}}function wr(t,e,n,s){let r=s;if(s[0]==="+"&&(r=s.slice(1)),r=kn(r),e!==void 0&&s<e)throw new Error(t+\': invalid value "\'+s+\'" must be > \'+e);if(n!==void 0&&s>n)throw new Error(t+\': invalid value "\'+s+\'" must be < \'+e);return r}const pf={FREQ:function(t,e,n){if(iy.indexOf(t)!==-1)e.freq=t;else throw new Error(\'invalid frequency "\'+t+\'" expected: "\'+iy.join(", ")+\'"\')},COUNT:function(t,e,n){e.count=kn(t)},INTERVAL:function(t,e,n){e.interval=kn(t),e.interval<1&&(e.interval=1)},UNTIL:function(t,e,n){t.length>10?e.until=sn.icalendar.value["date-time"].fromICAL(t):e.until=sn.icalendar.value.date.fromICAL(t),n||(e.until=$e.fromString(e.until))},WKST:function(t,e,n){if(a2.test(t))e.wkst=On.icalDayToNumericDay(t);else throw new Error(\'invalid WKST value "\'+t+\'"\')}},yf={BYSECOND:wr.bind(void 0,"BYSECOND",0,60),BYMINUTE:wr.bind(void 0,"BYMINUTE",0,59),BYHOUR:wr.bind(void 0,"BYHOUR",0,23),BYDAY:function(t){if(l2.test(t))return t;throw new Error(\'invalid BYDAY value "\'+t+\'"\')},BYMONTHDAY:wr.bind(void 0,"BYMONTHDAY",-31,31),BYYEARDAY:wr.bind(void 0,"BYYEARDAY",-366,366),BYWEEKNO:wr.bind(void 0,"BYWEEKNO",-53,53),BYMONTH:wr.bind(void 0,"BYMONTH",1,12),BYSETPOS:wr.bind(void 0,"BYSETPOS",-366,366)};class gi{constructor(e){pe(this,"start",null);pe(this,"end",null);pe(this,"duration",null);pe(this,"icalclass","icalperiod");pe(this,"icaltype","period");if(this.wrappedJSObject=this,e&&"start"in e){if(e.start&&!(e.start instanceof $e))throw new TypeError(".start must be an instance of ICAL.Time");this.start=e.start}if(e&&e.end&&e.duration)throw new Error("cannot accept both end and duration");if(e&&"end"in e){if(e.end&&!(e.end instanceof $e))throw new TypeError(".end must be an instance of ICAL.Time");this.end=e.end}if(e&&"duration"in e){if(e.duration&&!(e.duration instanceof In))throw new TypeError(".duration must be an instance of ICAL.Duration");this.duration=e.duration}}static fromString(e,n){let s=e.split("/");if(s.length!==2)throw new Error(\'Invalid string value: "\'+e+\'" must contain a "/" char.\');let r={start:$e.fromDateTimeString(s[0],n)},i=s[1];return In.isValueString(i)?r.duration=In.fromString(i):r.end=$e.fromDateTimeString(i,n),new gi(r)}static fromData(e){return new gi(e)}static fromJSON(e,n,s){function r(i,o){return s?$e.fromString(i,o):$e.fromDateTimeString(i,o)}return In.isValueString(e[1])?gi.fromData({start:r(e[0],n),duration:In.fromString(e[1])}):gi.fromData({start:r(e[0],n),end:r(e[1],n)})}clone(){return gi.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})}getDuration(){return this.duration?this.duration:this.end.subtractDate(this.start)}getEnd(){if(this.end)return this.end;{let e=this.start.clone();return e.addDuration(this.duration),e}}toString(){return this.start+"/"+(this.end||this.duration)}toJSON(){return[this.start.toString(),(this.end||this.duration).toString()]}toICALString(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}}const u2=/\\\\\\\\|\\\\;|\\\\,|\\\\[Nn]/g,f2=/\\\\|;|,|\\n/g,oy=/\\\\\\\\|\\\\,|\\\\[Nn]/g,ay=/\\\\|,|\\n/g;function Eh(t,e){return{matches:/.*/,fromICAL:function(s,r){return d2(s,t,r)},toICAL:function(s,r){let i=e;return r&&(i=new RegExp(i.source+"|"+r,i.flags)),s.replace(i,function(o){switch(o){case"\\\\":return"\\\\\\\\";case";":return"\\\\;";case",":return"\\\\,";case`\n`:return"\\\\n";default:return o}})}}}const nt={defaultType:"text"},nl={defaultType:"text",multiValue:","},qc={defaultType:"text",structuredValue:";"},Xl={defaultType:"integer"},Jl={defaultType:"date-time",allowedTypes:["date-time","date"]},Ql={defaultType:"date-time"},An={defaultType:"uri"},ly={defaultType:"utc-offset"},cy={defaultType:"recur"},uy={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]};function h2(t){switch(t){case"\\\\\\\\":return"\\\\";case"\\\\;":return";";case"\\\\,":return",";case"\\\\n":case"\\\\N":return`\n`;default:return t}}function d2(t,e,n){return t.indexOf("\\\\")===-1?t:(n&&(e=new RegExp(e.source+"|\\\\\\\\"+n,e.flags)),t.replace(e,h2))}let Yd={categories:nl,url:An,version:nt,uid:nt},Fd={boolean:{values:["TRUE","FALSE"],fromICAL:function(t){switch(t){case"TRUE":return!0;case"FALSE":return!1;default:return!1}},toICAL:function(t){return t?"TRUE":"FALSE"}},float:{matches:/^[+-]?\\d+\\.\\d+$/,fromICAL:function(t){let e=parseFloat(t);return Vc(e)?0:e},toICAL:function(t){return String(t)}},integer:{fromICAL:function(t){let e=parseInt(t);return Vc(e)?0:e},toICAL:function(t){return String(t)}},"utc-offset":{toICAL:function(t){return t.length<7?t.slice(0,3)+t.slice(4,6):t.slice(0,3)+t.slice(4,6)+t.slice(7,9)},fromICAL:function(t){return t.length<6?t.slice(0,3)+":"+t.slice(3,5):t.slice(0,3)+":"+t.slice(3,5)+":"+t.slice(5,7)},decorate:function(t){return Vs.fromString(t)},undecorate:function(t){return t.toString()}}},m2={cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE","BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:["NEEDS-ACTION","ACCEPTED","DECLINED","TENTATIVE","DELEGATED","COMPLETED","IN-PROCESS"],allowXName:!0,allowIanaToken:!0},range:{values:["THISANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\\//},value:{values:["binary","boolean","cal-address","date","date-time","duration","float","integer","period","recur","text","time","uri","utc-offset"],allowXName:!0,allowIanaToken:!0}};const cn=na(Fd,{text:Eh(u2,f2),uri:{},binary:{decorate:function(t){return Pd.fromString(t)},undecorate:function(t){return t.toString()}},"cal-address":{},date:{decorate:function(t,e){return $e.fromDateString(t,e)},undecorate:function(t){return t.toString()},fromICAL:function(t){return t.slice(0,4)+"-"+t.slice(4,6)+"-"+t.slice(6,8)},toICAL:function(t){let e=t.length;return e==10?t.slice(0,4)+t.slice(5,7)+t.slice(8,10):e>=19?cn["date-time"].toICAL(t):t}},"date-time":{fromICAL:function(t){{let e=t.slice(0,4)+"-"+t.slice(4,6)+"-"+t.slice(6,8)+"T"+t.slice(9,11)+":"+t.slice(11,13)+":"+t.slice(13,15);return t[15]&&t[15]==="Z"&&(e+="Z"),e}},toICAL:function(t){if(t.length>=19){let n=t.slice(0,4)+t.slice(5,7)+t.slice(8,13)+t.slice(14,16)+t.slice(17,19);return t[19]&&t[19]==="Z"&&(n+="Z"),n}else return t},decorate:function(t,e){return $e.fromDateTimeString(t,e)},undecorate:function(t){return t.toString()}},duration:{decorate:function(t){return In.fromString(t)},undecorate:function(t){return t.toString()}},period:{fromICAL:function(t){let e=t.split("/");return e[0]=cn["date-time"].fromICAL(e[0]),In.isValueString(e[1])||(e[1]=cn["date-time"].fromICAL(e[1])),e},toICAL:function(t){return t=t.slice(),t[0]=cn["date-time"].toICAL(t[0]),In.isValueString(t[1])||(t[1]=cn["date-time"].toICAL(t[1])),t.join("/")},decorate:function(t,e){return gi.fromJSON(t,e,!1)},undecorate:function(t){return t.toJSON()}},recur:{fromICAL:function(t){return On._stringToData(t,!0)},toICAL:function(t){let e="";for(let[n,s]of Object.entries(t))n=="until"?s.length>10?s=cn["date-time"].toICAL(s):s=cn.date.toICAL(s):n=="wkst"?typeof s=="number"&&(s=On.numericDayToIcalDay(s)):Array.isArray(s)&&(s=s.join(",")),e+=n.toUpperCase()+"="+s+";";return e.slice(0,Math.max(0,e.length-1))},decorate:function(e){return On.fromData(e)},undecorate:function(t){return t.toJSON()}},time:{fromICAL:function(t){if(t.length<6)return t;let e=t.slice(0,2)+":"+t.slice(2,4)+":"+t.slice(4,6);return t[6]==="Z"&&(e+="Z"),e},toICAL:function(t){if(t.length<8)return t;let e=t.slice(0,2)+t.slice(3,5)+t.slice(6,8);return t[8]==="Z"&&(e+="Z"),e}}});let p2=na(Yd,{action:nt,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:nt,class:nt,comment:nt,completed:Ql,contact:nt,created:Ql,description:nt,dtend:Jl,dtstamp:Ql,dtstart:Jl,due:Jl,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:cy,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":Ql,location:nt,method:nt,organizer:{defaultType:"cal-address"},"percent-complete":Xl,priority:Xl,prodid:nt,"related-to":nt,repeat:Xl,rdate:{defaultType:"date-time",allowedTypes:["date-time","date","period"],multiValue:",",detectType:function(t){return t.indexOf("/")!==-1?"period":t.indexOf("T")===-1?"date":"date-time"}},"recurrence-id":Jl,resources:nl,"request-status":qc,rrule:cy,sequence:Xl,status:nt,summary:nt,transp:nt,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:ly,tzoffsetto:ly,tzurl:An,tzid:nt,tzname:nt});const is=na(Fd,{text:Eh(oy,ay),uri:Eh(oy,ay),date:{decorate:function(t){return Ei.fromDateAndOrTimeString(t,"date")},undecorate:function(t){return t.toString()},fromICAL:function(t){return t.length==8?cn.date.fromICAL(t):t[0]=="-"&&t.length==6?t.slice(0,4)+"-"+t.slice(4):t},toICAL:function(t){return t.length==10?cn.date.toICAL(t):t[0]=="-"&&t.length==7?t.slice(0,4)+t.slice(5):t}},time:{decorate:function(t){return Ei.fromDateAndOrTimeString("T"+t,"time")},undecorate:function(t){return t.toString()},fromICAL:function(t){let e=is.time._splitZone(t,!0),n=e[0],s=e[1];return s.length==6?s=s.slice(0,2)+":"+s.slice(2,4)+":"+s.slice(4,6):s.length==4&&s[0]!="-"?s=s.slice(0,2)+":"+s.slice(2,4):s.length==5&&(s=s.slice(0,3)+":"+s.slice(3,5)),n.length==5&&(n[0]=="-"||n[0]=="+")&&(n=n.slice(0,3)+":"+n.slice(3)),s+n},toICAL:function(t){let e=is.time._splitZone(t),n=e[0],s=e[1];return s.length==8?s=s.slice(0,2)+s.slice(3,5)+s.slice(6,8):s.length==5&&s[0]!="-"?s=s.slice(0,2)+s.slice(3,5):s.length==6&&(s=s.slice(0,3)+s.slice(4,6)),n.length==6&&(n[0]=="-"||n[0]=="+")&&(n=n.slice(0,3)+n.slice(4)),s+n},_splitZone:function(t,e){let n=t.length-1,s=t.length-(e?5:6),r=t[s],i,o;return t[n]=="Z"?(i=t[n],o=t.slice(0,Math.max(0,n))):t.length>6&&(r=="-"||r=="+")?(i=t.slice(s),o=t.slice(0,Math.max(0,s))):(i="",o=t),[i,o]}},"date-time":{decorate:function(t){return Ei.fromDateAndOrTimeString(t,"date-time")},undecorate:function(t){return t.toString()},fromICAL:function(t){return is["date-and-or-time"].fromICAL(t)},toICAL:function(t){return is["date-and-or-time"].toICAL(t)}},"date-and-or-time":{decorate:function(t){return Ei.fromDateAndOrTimeString(t,"date-and-or-time")},undecorate:function(t){return t.toString()},fromICAL:function(t){let e=t.split("T");return(e[0]?is.date.fromICAL(e[0]):"")+(e[1]?"T"+is.time.fromICAL(e[1]):"")},toICAL:function(t){let e=t.split("T");return is.date.toICAL(e[0])+(e[1]?"T"+is.time.toICAL(e[1]):"")}},timestamp:cn["date-time"],"language-tag":{matches:/^[a-zA-Z0-9-]+$/},"phone-number":{fromICAL:function(t){return Array.from(t).filter(function(e){return e==="\\\\"?void 0:e}).join("")},toICAL:function(t){return Array.from(t).map(function(e){return e===","||e===";"?"\\\\"+e:e}).join("")}}});let y2={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","time","date-time","date-and-or-time","timestamp","boolean","integer","float","utc-offset","language-tag"],allowXName:!0,allowIanaToken:!0}},g2=na(Yd,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:uy,bday:uy,caladruri:An,caluri:An,clientpidmap:qc,email:nt,fburl:An,fn:nt,gender:qc,geo:An,impp:An,key:An,kind:nt,lang:{defaultType:"language-tag"},logo:An,member:An,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:nl,note:nt,org:{defaultType:"text",structuredValue:";"},photo:An,related:An,rev:{defaultType:"timestamp"},role:nt,sound:An,source:An,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:nt,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:nt}),v2=na(Fd,{binary:cn.binary,date:is.date,"date-time":is["date-time"],"phone-number":is["phone-number"],uri:cn.uri,text:cn.text,time:cn.time,vcard:cn.text,"utc-offset":{toICAL:function(t){return t.slice(0,7)},fromICAL:function(t){return t.slice(0,7)},decorate:function(t){return Vs.fromString(t)},undecorate:function(t){return t.toString()}}}),w2={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","date-time","phone-number","time","boolean","integer","float","utc-offset","vcard","binary"],allowXName:!0,allowIanaToken:!0}},b2=na(Yd,{fn:nt,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:nl,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(t){return t.indexOf("T")===-1?"date":"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:nt,tel:{defaultType:"phone-number"},email:nt,mailer:nt,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:nt,role:nt,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:qc,note:nl,prodid:nt,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(t){return t.indexOf("T")===-1?"date":"date-time"}},"sort-string":nt,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:nt,key:{defaultType:"binary",allowedTypes:["binary","text"]}}),nr={value:cn,param:m2,property:p2,propertyGroups:!1},fy={value:is,param:y2,property:g2,propertyGroups:!0},hy={value:v2,param:w2,property:b2,propertyGroups:!0};const wc={strict:!0,defaultSet:nr,defaultType:"unknown",components:{vcard:fy,vcard3:hy,vevent:nr,vtodo:nr,vjournal:nr,valarm:nr,vtimezone:nr,daylight:nr,standard:nr},icalendar:nr,vcard:fy,vcard3:hy,getDesignSet:function(t){return t&&t in wc.components?wc.components[t]:wc.defaultSet}};var sn=wc;const bc=`\\r\n`,dy="unknown",T2={\'"\':"^\'","\\n":"^n","^":"^^"};function Nt(t){typeof t[0]=="string"&&(t=[t]);let e=0,n=t.length,s="";for(;e<n;e++)s+=Nt.component(t[e])+bc;return s}Nt.component=function(t,e){let n=t[0].toUpperCase(),s="BEGIN:"+n+bc,r=t[1],i=0,o=r.length,a=t[0];for(a==="vcard"&&t[1].length>0&&!(t[1][0][0]==="version"&&t[1][0][3]==="4.0")&&(a="vcard3"),e=e||sn.getDesignSet(a);i<o;i++)s+=Nt.property(r[i],e)+bc;let l=t[2]||[],c=0,u=l.length;for(;c<u;c++)s+=Nt.component(l[c],e)+bc;return s+="END:"+n,s};Nt.property=function(t,e,n){let s=t[0].toUpperCase(),r=t[0],i=t[1];e||(e=sn.defaultSet);let o=i.group,a;e.propertyGroups&&o?a=o.toUpperCase()+"."+s:a=s;for(let[h,y]of Object.entries(i)){if(e.propertyGroups&&h=="group")continue;let m=e.param[h],p=m&&m.multiValue;p&&Array.isArray(y)?(y=y.map(function(b){return b=Nt._rfc6868Unescape(b),b=Nt.paramPropertyValue(b,m.multiValueSeparateDQuote),b}),y=Nt.multiValue(y,p,"unknown",null,e)):(y=Nt._rfc6868Unescape(y),y=Nt.paramPropertyValue(y)),a+=";"+h.toUpperCase()+"="+y}if(t.length===3)return a+":";let l=t[2],c,u=!1,f=!1,d=!1;return r in e.property?(c=e.property[r],"multiValue"in c&&(u=c.multiValue),"structuredValue"in c&&Array.isArray(t[3])&&(f=c.structuredValue),"defaultType"in c?l===c.defaultType&&(d=!0):l===dy&&(d=!0)):l===dy&&(d=!0),d||(a+=";VALUE="+l.toUpperCase()),a+=":",u&&f?a+=Nt.multiValue(t[3],f,l,u,e,f):u?a+=Nt.multiValue(t.slice(3),u,l,null,e,!1):f?a+=Nt.multiValue(t[3],f,l,null,e,f):a+=Nt.value(t[3],l,e,!1),n?a:o2(a)};Nt.paramPropertyValue=function(t,e){return!e&&t.indexOf(",")===-1&&t.indexOf(":")===-1&&t.indexOf(";")===-1?t:\'"\'+t+\'"\'};Nt.multiValue=function(t,e,n,s,r,i){let o="",a=t.length,l=0;for(;l<a;l++)s&&Array.isArray(t[l])?o+=Nt.multiValue(t[l],s,n,null,r,i):o+=Nt.value(t[l],n,r,i),l!==a-1&&(o+=e);return o};Nt.value=function(t,e,n,s){return e in n.value&&"toICAL"in n.value[e]?n.value[e].toICAL(t,s):t};Nt._rfc6868Unescape=function(t){return t.replace(/[\\n^"]/g,function(e){return T2[e]})};const my=0,ec=1,tc=2,br=3;class Fa{static fromString(e,n){return new Fa(vt.property(e,n))}constructor(e,n){this._parent=n||null,typeof e=="string"?(this.jCal=[e,{},sn.defaultType],this.jCal[tc]=this.getDefaultType()):this.jCal=e,this._updateType()}get type(){return this.jCal[tc]}get name(){return this.jCal[my]}get parent(){return this._parent}set parent(e){let n=!this._parent||e&&e._designSet!=this._parent._designSet;this._parent=e,this.type==sn.defaultType&&n&&(this.jCal[tc]=this.getDefaultType(),this._updateType())}get _designSet(){return this.parent?this.parent._designSet:sn.defaultSet}_updateType(){let e=this._designSet;this.type in e.value&&("decorate"in e.value[this.type]?this.isDecorated=!0:this.isDecorated=!1,this.name in e.property&&(this.isMultiValue="multiValue"in e.property[this.name],this.isStructuredValue="structuredValue"in e.property[this.name]))}_hydrateValue(e){return this._values&&this._values[e]?this._values[e]:this.jCal.length<=br+e?null:this.isDecorated?(this._values||(this._values=[]),this._values[e]=this._decorate(this.jCal[br+e])):this.jCal[br+e]}_decorate(e){return this._designSet.value[this.type].decorate(e,this)}_undecorate(e){return this._designSet.value[this.type].undecorate(e,this)}_setDecoratedValue(e,n){this._values||(this._values=[]),typeof e=="object"&&"icaltype"in e?(this.jCal[br+n]=this._undecorate(e),this._values[n]=e):(this.jCal[br+n]=e,this._values[n]=this._decorate(e))}getParameter(e){if(e in this.jCal[ec])return this.jCal[ec][e]}getFirstParameter(e){let n=this.getParameter(e);return Array.isArray(n)?n[0]:n}setParameter(e,n){let s=e.toLowerCase();typeof n=="string"&&s in this._designSet.param&&"multiValue"in this._designSet.param[s]&&(n=[n]),this.jCal[ec][e]=n}removeParameter(e){delete this.jCal[ec][e]}getDefaultType(){let e=this.jCal[my],n=this._designSet;if(e in n.property){let s=n.property[e];if("defaultType"in s)return s.defaultType}return sn.defaultType}resetType(e){this.removeAllValues(),this.jCal[tc]=e,this._updateType()}getFirstValue(){return this._hydrateValue(0)}getValues(){let e=this.jCal.length-br;if(e<1)return[];let n=0,s=[];for(;n<e;n++)s[n]=this._hydrateValue(n);return s}removeAllValues(){this._values&&(this._values.length=0),this.jCal.length=3}setValues(e){if(!this.isMultiValue)throw new Error(this.name+`: does not not support mulitValue.\noverride isMultiValue`);let n=e.length,s=0;if(this.removeAllValues(),n>0&&typeof e[0]=="object"&&"icaltype"in e[0]&&this.resetType(e[0].icaltype),this.isDecorated)for(;s<n;s++)this._setDecoratedValue(e[s],s);else for(;s<n;s++)this.jCal[br+s]=e[s]}setValue(e){this.removeAllValues(),typeof e=="object"&&"icaltype"in e&&this.resetType(e.icaltype),this.isDecorated?this._setDecoratedValue(e,0):this.jCal[br]=e}toJSON(){return this.jCal}toICALString(){return Nt.property(this.jCal,this._designSet,!0)}}const Tr=0,sr=1,kr=2;class Si{constructor(e,n){pe(this,"_hydratedPropertyCount",0);pe(this,"_hydratedComponentCount",0);pe(this,"_timezoneCache",null);pe(this,"_components",null);pe(this,"_properties",null);typeof e=="string"&&(e=[e,[],[]]),this.jCal=e,this.parent=n||null,!this.parent&&this.name==="vcalendar"&&(this._timezoneCache=new Map)}static fromString(e){return new Si(vt.component(e))}get name(){return this.jCal[Tr]}get _designSet(){return this.parent&&this.parent._designSet||sn.getDesignSet(this.name)}_hydrateComponent(e){if(this._components||(this._components=[],this._hydratedComponentCount=0),this._components[e])return this._components[e];let n=new Si(this.jCal[kr][e],this);return this._hydratedComponentCount++,this._components[e]=n}_hydrateProperty(e){if(this._properties||(this._properties=[],this._hydratedPropertyCount=0),this._properties[e])return this._properties[e];let n=new Fa(this.jCal[sr][e],this);return this._hydratedPropertyCount++,this._properties[e]=n}getFirstSubcomponent(e){if(e){let n=0,s=this.jCal[kr],r=s.length;for(;n<r;n++)if(s[n][Tr]===e)return this._hydrateComponent(n)}else if(this.jCal[kr].length)return this._hydrateComponent(0);return null}getAllSubcomponents(e){let n=this.jCal[kr].length,s=0;if(e){let r=this.jCal[kr],i=[];for(;s<n;s++)e===r[s][Tr]&&i.push(this._hydrateComponent(s));return i}else{if(!this._components||this._hydratedComponentCount!==n)for(;s<n;s++)this._hydrateComponent(s);return this._components||[]}}hasProperty(e){let n=this.jCal[sr],s=n.length,r=0;for(;r<s;r++)if(n[r][Tr]===e)return!0;return!1}getFirstProperty(e){if(e){let n=0,s=this.jCal[sr],r=s.length;for(;n<r;n++)if(s[n][Tr]===e)return this._hydrateProperty(n)}else if(this.jCal[sr].length)return this._hydrateProperty(0);return null}getFirstPropertyValue(e){let n=this.getFirstProperty(e);return n?n.getFirstValue():null}getAllProperties(e){let n=this.jCal[sr].length,s=0;if(e){let r=this.jCal[sr],i=[];for(;s<n;s++)e===r[s][Tr]&&i.push(this._hydrateProperty(s));return i}else{if(!this._properties||this._hydratedPropertyCount!==n)for(;s<n;s++)this._hydrateProperty(s);return this._properties||[]}}_removeObjectByIndex(e,n,s){if(n=n||[],n[s]){let r=n[s];"parent"in r&&(r.parent=null)}n.splice(s,1),this.jCal[e].splice(s,1)}_removeObject(e,n,s){let r=0,i=this.jCal[e],o=i.length,a=this[n];if(typeof s=="string"){for(;r<o;r++)if(i[r][Tr]===s)return this._removeObjectByIndex(e,a,r),!0}else if(a){for(;r<o;r++)if(a[r]&&a[r]===s)return this._removeObjectByIndex(e,a,r),!0}return!1}_removeAllObjects(e,n,s){let r=this[n],i=this.jCal[e],o=i.length-1;for(;o>=0;o--)(!s||i[o][Tr]===s)&&this._removeObjectByIndex(e,r,o)}addSubcomponent(e){this._components||(this._components=[],this._hydratedComponentCount=0),e.parent&&e.parent.removeSubcomponent(e);let n=this.jCal[kr].push(e.jCal);return this._components[n-1]=e,this._hydratedComponentCount++,e.parent=this,e}removeSubcomponent(e){let n=this._removeObject(kr,"_components",e);return n&&this._hydratedComponentCount--,n}removeAllSubcomponents(e){let n=this._removeAllObjects(kr,"_components",e);return this._hydratedComponentCount=0,n}addProperty(e){if(!(e instanceof Fa))throw new TypeError("must be instance of ICAL.Property");this._properties||(this._properties=[],this._hydratedPropertyCount=0),e.parent&&e.parent.removeProperty(e);let n=this.jCal[sr].push(e.jCal);return this._properties[n-1]=e,this._hydratedPropertyCount++,e.parent=this,e}addPropertyWithValue(e,n){let s=new Fa(e);return s.setValue(n),this.addProperty(s),s}updatePropertyWithValue(e,n){let s=this.getFirstProperty(e);return s?s.setValue(n):s=this.addPropertyWithValue(e,n),s}removeProperty(e){let n=this._removeObject(sr,"_properties",e);return n&&this._hydratedPropertyCount--,n}removeAllProperties(e){let n=this._removeAllObjects(sr,"_properties",e);return this._hydratedPropertyCount=0,n}toJSON(){return this.jCal}toString(){return Nt.component(this.jCal,this._designSet)}getTimeZoneByID(e){if(this.parent)return this.parent.getTimeZoneByID(e);if(!this._timezoneCache)return null;if(this._timezoneCache.has(e))return this._timezoneCache.get(e);const n=this.getAllSubcomponents("vtimezone");for(const s of n)if(s.getFirstProperty("tzid").getFirstValue()===e){const r=new Dt({component:s,tzid:e});return this._timezoneCache.set(e,r),r}return null}}var gf={foldLength:75,newLineChar:`\\r\n`},Lt;(function(t){t[t.SECOND=0]="SECOND",t[t.QUARTER_MINUTE=1]="QUARTER_MINUTE",t[t.MINUTE=2]="MINUTE",t[t.QUARTER_HOUR=3]="QUARTER_HOUR",t[t.HOUR=4]="HOUR",t[t.DAY=5]="DAY",t[t.MONTH=6]="MONTH",t[t.YEAR=7]="YEAR",t[t.DECADE=8]="DECADE",t[t.CENT=9]="CENT"})(Lt||(Lt={}));Lt.CENT+"",Lt.DECADE+"",Lt.YEAR+"",Lt.MONTH+"",Lt.DAY+"",Lt.HOUR+"",Lt.MINUTE+"",Lt.QUARTER_HOUR+"",Lt.QUARTER_MINUTE+"",Lt.SECOND+"";Lt.CENT+"",Lt.DECADE+"",Lt.YEAR+"",Lt.MONTH+"",Lt.DAY+"",Lt.HOUR+"",Lt.QUARTER_HOUR+"",Lt.MINUTE+"",Lt.QUARTER_MINUTE+"",Lt.SECOND+"";function k2(t,e,n,s){const r=t[e],i=r.match(yu);if(i){const o={from:n[e],to:n[e]+i[0].length,type:Ke.Section};s.ranges.push(o);const a=bI(r,i,o),{properties:l,i:c,propOrder:u}=nw(t,n,e+1,s);a.properties=l,a.propOrder=u;let f=l.timezone||l.tz;return typeof f!="string"&&typeof f!="number"&&(f=void 0),f&&(Vr(f,s.cache)||s.parseMessages.push({type:"error",message:`Unable to parse timezone "${f}"`,pos:[o.from,o.to]})),s.push(a),s.startFoldableSection({type:Ke.Section,startLine:e,startIndex:n[e],endIndex:n[e]+r.length,foldStartIndex:n[e]+r.length}),{end:c}}return!1}let E2=[],S2=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?S2:E2).push(n=n+t[e])})();class zi{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,s){[e,n]=zo(this,e,n);let r=[];return this.decompose(0,e,r,2),s.length&&s.decompose(0,s.length,r,3),this.decompose(n,this.length,r,1),js.from(r,this.length-(n-e)+s.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=zo(this,e,n);let s=[];return this.decompose(e,n,s,0),js.from(s,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),s=this.length-this.scanIdentical(e,-1),r=new $a(this),i=new $a(e);for(let o=n,a=n;;){if(r.next(o),i.next(o),o=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(a+=r.value.length,r.done||a>=s)return!0}}iter(e=1){return new $a(this,e)}iterRange(e,n=this.length){return new rw(this,e,n)}iterLines(e,n){let s;if(e==null)s=this.iter();else{n==null&&(n=this.lines+1);let r=this.line(e).from;s=this.iterRange(r,Math.max(r,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new iw(s)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?zi.empty:e.length<=32?new Pt(e):js.from(Pt.split(e,[]))}}class Pt extends zi{constructor(e,n=_2(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,s,r){for(let i=0;;i++){let o=this.text[i],a=r+o.length;if((n?s:a)>=e)return new O2(r,a,s,o);r=a+1,s++}}decompose(e,n,s,r){let i=e<=0&&n>=this.length?this:new Pt(py(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(r&1){let o=s.pop(),a=Tc(i.text,o.text.slice(),0,i.length);if(a.length<=32)s.push(new Pt(a,o.length+i.length));else{let l=a.length>>1;s.push(new Pt(a.slice(0,l)),new Pt(a.slice(l)))}}else s.push(i)}replace(e,n,s){if(!(s instanceof Pt))return super.replace(e,n,s);[e,n]=zo(this,e,n);let r=Tc(this.text,Tc(s.text,py(this.text,0,e)),n),i=this.length+s.length-(n-e);return r.length<=32?new Pt(r,i):js.from(Pt.split(r,[]),i)}sliceString(e,n=this.length,s=`\n`){[e,n]=zo(this,e,n);let r="";for(let i=0,o=0;i<=n&&o<this.text.length;o++){let a=this.text[o],l=i+a.length;i>e&&o&&(r+=s),e<l&&n>i&&(r+=a.slice(Math.max(0,e-i),n-i)),i=l+1}return r}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let s=[],r=-1;for(let i of e)s.push(i),r+=i.length+1,s.length==32&&(n.push(new Pt(s,r)),s=[],r=-1);return r>-1&&n.push(new Pt(s,r)),n}}class js extends zi{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let s of e)this.lines+=s.lines}lineInner(e,n,s,r){for(let i=0;;i++){let o=this.children[i],a=r+o.length,l=s+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,s,r);r=a+1,s=l+1}}decompose(e,n,s,r){for(let i=0,o=0;o<=n&&i<this.children.length;i++){let a=this.children[i],l=o+a.length;if(e<=l&&n>=o){let c=r&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!c?s.push(a):a.decompose(e-o,n-o,s,c)}o=l+1}}replace(e,n,s){if([e,n]=zo(this,e,n),s.lines<this.lines)for(let r=0,i=0;r<this.children.length;r++){let o=this.children[r],a=i+o.length;if(e>=i&&n<=a){let l=o.replace(e-i,n-i,s),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[r]=l,new js(u,this.length-(n-e)+s.length)}return super.replace(i,a,l)}i=a+1}return super.replace(e,n,s)}sliceString(e,n=this.length,s=`\n`){[e,n]=zo(this,e,n);let r="";for(let i=0,o=0;i<this.children.length&&o<=n;i++){let a=this.children[i],l=o+a.length;o>e&&i&&(r+=s),e<l&&n>o&&(r+=a.sliceString(e-o,n-o,s)),o=l+1}return r}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof js))return 0;let s=0,[r,i,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=n,i+=n){if(r==o||i==a)return s;let l=this.children[r],c=e.children[i];if(l!=c)return s+l.scanIdentical(c,n);s+=l.length+1}}static from(e,n=e.reduce((s,r)=>s+r.length+1,-1)){let s=0;for(let h of e)s+=h.lines;if(s<32){let h=[];for(let y of e)y.flatten(h);return new Pt(h,n)}let r=Math.max(32,s>>5),i=r<<1,o=r>>1,a=[],l=0,c=-1,u=[];function f(h){let y;if(h.lines>i&&h instanceof js)for(let m of h.children)f(m);else h.lines>o&&(l>o||!l)?(d(),a.push(h)):h instanceof Pt&&l&&(y=u[u.length-1])instanceof Pt&&h.lines+y.lines<=32?(l+=h.lines,c+=h.length+1,u[u.length-1]=new Pt(y.text.concat(h.text),y.length+1+h.length)):(l+h.lines>r&&d(),l+=h.lines,c+=h.length+1,u.push(h))}function d(){l!=0&&(a.push(u.length==1?u[0]:js.from(u,c)),c=-1,l=u.length=0)}for(let h of e)f(h);return d(),a.length==1?a[0]:new js(a,n)}}zi.empty=new Pt([""],0);function _2(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Tc(t,e,n=0,s=1e9){for(let r=0,i=0,o=!0;i<t.length&&r<=s;i++){let a=t[i],l=r+a.length;l>=n&&(l>s&&(a=a.slice(0,s-r)),r<n&&(a=a.slice(n-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function py(t,e,n){return Tc(t,[""],e,n)}class $a{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Pt?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let s=this.nodes.length-1,r=this.nodes[s],i=this.offsets[s],o=i>>1,a=r instanceof Pt?r.text.length:r.children.length;if(o==(n>0?a:0)){if(s==0)return this.done=!0,this.value="",this;n>0&&this.offsets[s-1]++,this.nodes.pop(),this.offsets.pop()}else if((i&1)==(n>0?0:1)){if(this.offsets[s]+=n,e==0)return this.lineBreak=!0,this.value=`\n`,this;e--}else if(r instanceof Pt){let l=r.text[o+(n<0?-1:0)];if(this.offsets[s]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[s]+=n):(n<0&&this.offsets[s]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Pt?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class rw{constructor(e,n,s){this.value="",this.done=!1,this.cursor=new $a(e,n>s?-1:1),this.pos=n>s?e.length:0,this.from=Math.min(n,s),this.to=Math.max(n,s)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let s=n<0?this.pos-this.from:this.to-this.pos;e>s&&(e=s),s-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*n,this.value=r.length<=s?r:n<0?r.slice(r.length-s):r.slice(0,s),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class iw{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:s,value:r}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):s?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(zi.prototype[Symbol.iterator]=function(){return this.iter()},$a.prototype[Symbol.iterator]=rw.prototype[Symbol.iterator]=iw.prototype[Symbol.iterator]=function(){return this});class O2{constructor(e,n,s,r){this.from=e,this.to=n,this.number=s,this.text=r}get length(){return this.to-this.from}}function zo(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}var Sh=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Sh||(Sh={}));let I2;try{I2=new RegExp("[\\\\p{Alphabetic}\\\\p{Number}_]","u")}catch{}Sh.TrackDel;class Kc{constructor(e,n,s){this.from=e,this.to=n,this.value=s}static create(e,n,s){return new Kc(e,n,s)}}function _h(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class $d{constructor(e,n,s,r){this.from=e,this.to=n,this.value=s,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,n,s,r=0){let i=s?this.to:this.from;for(let o=r,a=i.length;;){if(o==a)return o;let l=o+a>>1,c=i[l]-e||(s?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,n,s,r){for(let i=this.findIndex(n,-1e9,!0),o=this.findIndex(s,1e9,!1,i);i<o;i++)if(r(this.from[i]+e,this.to[i]+e,this.value[i])===!1)return!1}map(e,n){let s=[],r=[],i=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,f=this.to[l]+e,d,h;if(u==f){let y=n.mapPos(u,c.startSide,c.mapMode);if(y==null||(d=h=y,c.startSide!=c.endSide&&(h=n.mapPos(u,c.endSide),h<d)))continue}else if(d=n.mapPos(u,c.startSide),h=n.mapPos(f,c.endSide),d>h||d==h&&c.startSide>0&&c.endSide<=0)continue;(h-d||c.endSide-c.startSide)<0||(o<0&&(o=d),c.point&&(a=Math.max(a,h-d)),s.push(c),r.push(d-o),i.push(h-o))}return{mapped:s.length?new $d(r,i,s,a):null,pos:o}}}class Sn{constructor(e,n,s,r){this.chunkPos=e,this.chunk=n,this.nextLayer=s,this.maxPoint=r}static create(e,n,s,r){return new Sn(e,n,s,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:s=!1,filterFrom:r=0,filterTo:i=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(s&&(n=n.slice().sort(_h)),this.isEmpty)return n.length?Sn.of(n):this;let a=new ow(this,null,-1).goto(0),l=0,c=[],u=new Gc;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let f=n[l++];u.addInner(f.from,f.to,f.value)||c.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||r>this.chunkEnd(a.chunkIndex)||i<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||r>a.to||i<a.from||o(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(Kc.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?Sn.empty:this.nextLayer.update({add:c,filter:o,filterFrom:r,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],s=[],r=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)r=Math.max(r,l.maxPoint),n.push(l),s.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:f}=l.map(a,e);u&&(r=Math.max(r,u.maxPoint),n.push(u),s.push(f))}}let i=this.nextLayer.map(e);return n.length==0?i:new Sn(s,n,i||Sn.empty,r)}between(e,n,s){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],o=this.chunk[r];if(n>=i&&e<=i+o.length&&o.between(i,e-i,n-i,s)===!1)return}this.nextLayer.between(e,n,s)}}iter(e=0){return sl.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return sl.from(e).goto(n)}static compare(e,n,s,r,i=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=i),a=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=i),l=yy(o,a,s),c=new ya(o,l,i),u=new ya(a,l,i);s.iterGaps((f,d,h)=>gy(c,f,u,d,h,r)),s.empty&&s.length==0&&gy(c,0,u,0,0,r)}static eq(e,n,s=0,r){r==null&&(r=999999999);let i=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),o=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(i.length!=o.length)return!1;if(!i.length)return!0;let a=yy(i,o),l=new ya(i,a,0).goto(s),c=new ya(o,a,0).goto(s);for(;;){if(l.to!=c.to||!Oh(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>r)return!0;l.next(),c.next()}}static spans(e,n,s,r,i=-1){let o=new ya(e,null,i).goto(n),a=n,l=o.openStart;for(;;){let c=Math.min(o.to,s);if(o.point){let u=o.activeForPoint(o.to),f=o.pointFrom<n?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,l);r.point(a,c,o.point,u,f,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>a&&(r.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>s)return l+(o.point&&o.to>s?1:0);a=o.to,o.next()}}static of(e,n=!1){let s=new Gc;for(let r of e instanceof Kc?[e]:n?D2(e):e)s.add(r.from,r.to,r.value);return s.finish()}static join(e){if(!e.length)return Sn.empty;let n=e[e.length-1];for(let s=e.length-2;s>=0;s--)for(let r=e[s];r!=Sn.empty;r=r.nextLayer)n=new Sn(r.chunkPos,r.chunk,n,Math.max(r.maxPoint,n.maxPoint));return n}}Sn.empty=new Sn([],[],null,-1);function D2(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let s=t[n];if(_h(e,s)>0)return t.slice().sort(_h);e=s}return t}Sn.empty.nextLayer=Sn.empty;class Gc{finishChunk(e){this.chunks.push(new $d(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,s){this.addInner(e,n,s)||(this.nextLayer||(this.nextLayer=new Gc)).add(e,n,s)}addInner(e,n,s){let r=e-this.lastTo||s.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||s.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=s,this.lastFrom=e,this.lastTo=n,this.value.push(s),s.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let s=n.value.length-1;return this.last=n.value[s],this.lastFrom=n.from[s]+e,this.lastTo=n.to[s]+e,!0}finish(){return this.finishInner(Sn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Sn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function yy(t,e,n){let s=new Map;for(let i of t)for(let o=0;o<i.chunk.length;o++)i.chunk[o].maxPoint<=0&&s.set(i.chunk[o],i.chunkPos[o]);let r=new Set;for(let i of e)for(let o=0;o<i.chunk.length;o++){let a=s.get(i.chunk[o]);a!=null&&(n?n.mapPos(a):a)==i.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+i.chunk[o].length))&&r.add(i.chunk[o])}return r}class ow{constructor(e,n,s,r=0){this.layer=e,this.skip=n,this.minPoint=s,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,s){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,s=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!s||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],s=e+n.from[this.rangeIndex];if(this.from=s,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class sl{constructor(e){this.heap=e}static from(e,n=null,s=-1){let r=[];for(let i=0;i<e.length;i++)for(let o=e[i];!o.isEmpty;o=o.nextLayer)o.maxPoint>=s&&r.push(new ow(o,n,s,i));return r.length==1?r[0]:new sl(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let s of this.heap)s.goto(e,n);for(let s=this.heap.length>>1;s>=0;s--)vf(this.heap,s);return this.next(),this}forward(e,n){for(let s of this.heap)s.forward(e,n);for(let s=this.heap.length>>1;s>=0;s--)vf(this.heap,s);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),vf(this.heap,0)}}}function vf(t,e){for(let n=t[e];;){let s=(e<<1)+1;if(s>=t.length)break;let r=t[s];if(s+1<t.length&&r.compare(t[s+1])>=0&&(r=t[s+1],s++),n.compare(r)<0)break;t[s]=n,t[e]=r,e=s}}class ya{constructor(e,n,s){this.minPoint=s,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=sl.from(e,n,s)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){nc(this.active,e),nc(this.activeTo,e),nc(this.activeRank,e),this.minActive=vy(this.active,this.activeTo)}addActive(e){let n=0,{value:s,to:r,rank:i}=this.cursor;for(;n<this.activeRank.length&&(i-this.activeRank[n]||r-this.activeTo[n])>0;)n++;sc(this.active,n,s),sc(this.activeTo,n,r),sc(this.activeRank,n,i),e&&sc(e,n,this.cursor.from),this.minActive=vy(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let s=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),s&&nc(s,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let i=this.cursor.value;if(!i.point)this.addActive(s),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(s){this.openStart=0;for(let r=s.length-1;r>=0&&s[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let s=this.active.length-1;s>=0&&!(this.activeRank[s]<this.pointRank);s--)(this.activeTo[s]>e||this.activeTo[s]==e&&this.active[s].endSide>=this.point.endSide)&&n.push(this.active[s]);return n.reverse()}openEnd(e){let n=0;for(let s=this.activeTo.length-1;s>=0&&this.activeTo[s]>e;s--)n++;return n}}function gy(t,e,n,s,r,i){t.goto(e),n.goto(s);let o=s+r,a=s,l=s-e;for(;;){let c=t.to+l-n.to,u=c||t.endSide-n.endSide,f=u<0?t.to+l:n.to,d=Math.min(f,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Oh(t.activeForPoint(t.to),n.activeForPoint(n.to))||i.comparePoint(a,d,t.point,n.point):d>a&&!Oh(t.active,n.active)&&i.compareRange(a,d,t.active,n.active),f>o)break;(c||t.openEnd!=n.openEnd)&&i.boundChange&&i.boundChange(f),a=f,u<=0&&t.next(),u>=0&&n.next()}}function Oh(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function nc(t,e){for(let n=e,s=t.length-1;n<s;n++)t[n]=t[n+1];t.pop()}function sc(t,e,n){for(let s=t.length-1;s>=e;s--)t[s+1]=t[s];t[e]=n}function vy(t,e){let n=-1,s=1e9;for(let r=0;r<e.length;r++)(e[r]-s||t[r].endSide-t[n].endSide)<0&&(n=r,s=e[r]);return n}const M2="0.15.0",x2=t=>{const e=t instanceof zi?t.toJSON():Array.isArray(t)?t:t.split(`\n`);let n=[];for(let s=0;s<e.length;s++)s===0&&n.push(0),n.push((s===e.length-1?0:1)+e[s].length+n[n.length-1]||0);return{lines:e,lengthAtIndex:n}};function wy(t,e,n){const s={version:M2};if(!t)return{...mI(),cache:e,parser:s,parseMessages:[]};const{lines:r,lengthAtIndex:i}=x2(t);return{...A2(r,i,e,n),cache:e,parser:s}}function C2(t,e,n,s,r){let i=t;const o=n.length;for(;i<n.length&&i<o;){const a=n[i];if(qM(a,i,s,e)){i++;continue}const l=k2(n,i,s,e);if(l){i=l.end;continue}i=BM(a,n,i,s,e)+1}{const a=i-1;for(;e.currentPath.length>1;)e.endCurrentGroup(s[a]+n[a].length,{line:a,index:n[a].length})}return e}function A2(t,e,n,s){const r=new WM(s,n),i=UM(t,e,r);return C2(i,r,t,e),r.toTimeline()}const aw=(t,e,n)=>{const s=t.toDateTime.diff(t.fromDateTime);e.dtstart=t.fromDateTime.toISO();const r=new Me(bD(e)),i=[];return r.all((o,a)=>a>=n?!1:(i.push(ce.fromJSDate(o)),!0)),i.length?i.map(o=>({fromDateTime:o,toDateTime:o.plus(s)})):[t]},ga=["22, 163, 76","2, 132, 199","212, 50, 56","242, 202, 45","80, 73, 229","145, 57, 234","214, 45, 123","234, 88, 11","168, 162, 157","255, 255, 255","0, 0, 0"],N2=["green","blue","red","yellow","indigo","purple","pink","orange","gray","white","black"];function L2(t){t=t.replace("#","").replace(")","");const e=t.length===3;var n=parseInt(e?t.slice(0,1).repeat(2):t.slice(0,2),16);if(!isNaN(n)){var s=parseInt(e?t.slice(1,2).repeat(2):t.slice(2,4),16);if(!isNaN(s)){var r=parseInt(e?t.slice(2,3).repeat(2):t.slice(4,6),16);if(!isNaN(r))return`${n}, ${s}, ${r}`}}}const R2=(t,e)=>{const n={},s=t.ranges.flatMap(r=>{var a;if(r.type!==Ke.Tag)return[];if(n[r.content.tag])return r.content.color=n[r.content.tag],[r];const i=((a=r.content)==null?void 0:a.tag)&&t.header[")"+r.content.tag];let o;if(o=!!i&&(typeof i=="string"&&i||typeof i=="object"&&i.color),o){const l=N2.indexOf(o);if(l===-1){const c=L2(o);c?r.content.color=c:r.content.color=ga[e++%ga.length]}else r.content.color=ga[l]}else r.content.color=ga[e++%ga.length];return n[r.content.tag]=r.content.color,[r]});return[n,s,e]},Ih=t=>Z(()=>{let n=0;const s={};for(const[r,i]of[["default",t]]){const[o,a,l]=R2(i,n);s[r]=o,n=l}return s}),P2=()=>{let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},Y2=t=>{var d;const e=new Map,n=typeof window<"u"&&window.__markwhen_wss_url;let s,r=!1;n&&(s=new WebSocket(n),s.onopen=()=>{r=!0,l("appState"),l("markwhenState")});let i;const o=()=>i||(i=acquireVsCodeApi(),i),a=h=>{var y;s&&r?s.send(JSON.stringify(h)):typeof acquireVsCodeApi<"u"?(y=o())==null||y.postMessage(h):typeof window<"u"&&typeof window.parent<"u"&&window.parent!==window.self?window.parent.postMessage(h,"*"):console.error("Nothing to post to")},l=(h,y)=>{const m=`markwhen_${P2()}`;return new Promise((p,b)=>{e.set(m,{resolve:p,reject:b}),a({type:h,request:!0,id:m,params:y})})},c=(h,y,m)=>a({type:y,response:!0,id:h,params:m}),u=h=>{var m,p;if(!h.data.id||!h.data.id.startsWith("markwhen"))return;const y=h.data;if(y.response)(m=e.get(y.id))==null||m.resolve(y),e.delete(y.id);else if(y.request){const b=(p=t==null?void 0:t[y.type])==null?void 0:p.call(t,y.params);Promise.resolve(b).then(O=>{c(y.id,y.type,O)})}else console.error("Not a request or response",y)};s?s.onmessage=h=>{const y=new MessageEvent("message",{data:JSON.parse(h.data)});u(y)}:typeof window<"u"&&window.addEventListener("message",u);const f=typeof window<"u"&&window.__markwhen_initial_state;if(f&&t&&t.markwhenState){const y=Ih(f.parsed).value;t.markwhenState(f),(d=t.appState)==null||d.call(t,{colorMap:y})}return{postRequest:l}};/*!\n  * vue-router v4.5.1\n  * (c) 2025 Eduardo San Martin Morote\n  * @license MIT\n  */const lo=typeof document<"u";function lw(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function F2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&lw(t.default)}const dt=Object.assign;function wf(t,e){const n={};for(const s in e){const r=e[s];n[s]=Ls(r)?r.map(t):t(r)}return n}const Ua=()=>{},Ls=Array.isArray,cw=/#/g,$2=/&/g,U2=/\\//g,z2=/=/g,H2=/\\?/g,uw=/\\+/g,B2=/%5B/g,W2=/%5D/g,fw=/%5E/g,j2=/%60/g,hw=/%7B/g,V2=/%7C/g,dw=/%7D/g,q2=/%20/g;function Ud(t){return encodeURI(""+t).replace(V2,"|").replace(B2,"[").replace(W2,"]")}function K2(t){return Ud(t).replace(hw,"{").replace(dw,"}").replace(fw,"^")}function Dh(t){return Ud(t).replace(uw,"%2B").replace(q2,"+").replace(cw,"%23").replace($2,"%26").replace(j2,"`").replace(hw,"{").replace(dw,"}").replace(fw,"^")}function G2(t){return Dh(t).replace(z2,"%3D")}function Z2(t){return Ud(t).replace(cw,"%23").replace(H2,"%3F")}function X2(t){return t==null?"":Z2(t).replace(U2,"%2F")}function rl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const J2=/\\/$/,Q2=t=>t.replace(J2,"");function bf(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=sx(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:rl(o)}}function ex(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function by(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function tx(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Ho(e.matched[s],n.matched[r])&&mw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ho(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function mw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!nx(t[n],e[n]))return!1;return!0}function nx(t,e){return Ls(t)?Ty(t,e):Ls(e)?Ty(e,t):t===e}function Ty(t,e){return Ls(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function sx(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Er={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var il;(function(t){t.pop="pop",t.push="push"})(il||(il={}));var za;(function(t){t.back="back",t.forward="forward",t.unknown=""})(za||(za={}));function rx(t){if(!t)if(lo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\\w+:\\/\\/[^\\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Q2(t)}const ix=/^[^#]+#/;function ox(t,e){return t.replace(ix,"#")+e}function ax(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Mu=()=>({left:window.scrollX,top:window.scrollY});function lx(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=ax(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ky(t,e){return(history.state?history.state.position-e:-1)+t}const Mh=new Map;function cx(t,e){Mh.set(t,e)}function ux(t){const e=Mh.get(t);return Mh.delete(t),e}let fx=()=>location.protocol+"//"+location.host;function pw(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),by(l,"")}return by(n,t)+s+r}function hx(t,e,n,s){let r=[],i=[],o=null;const a=({state:d})=>{const h=pw(t,location),y=n.value,m=e.value;let p=0;if(d){if(n.value=h,e.value=d,o&&o===y){o=null;return}p=m?d.position-m.position:0}else s(h);r.forEach(b=>{b(n.value,y,{delta:p,type:il.pop,direction:p?p>0?za.forward:za.back:za.unknown})})};function l(){o=n.value}function c(d){r.push(d);const h=()=>{const y=r.indexOf(d);y>-1&&r.splice(y,1)};return i.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(dt({},d.state,{scroll:Mu()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function Ey(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Mu():null}}function dx(t){const{history:e,location:n}=window,s={value:pw(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:fx()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function o(l,c){const u=dt({},e.state,Ey(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=dt({},r.value,e.state,{forward:l,scroll:Mu()});i(u.current,u,!0);const f=dt({},Ey(s.value,l,null),{position:u.position+1},c);i(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function mx(t){t=rx(t);const e=dx(t),n=hx(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=dt({location:"",base:t,go:s,createHref:ox.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function px(t){return typeof t=="string"||t&&typeof t=="object"}function yw(t){return typeof t=="string"||typeof t=="symbol"}const gw=Symbol("");var Sy;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Sy||(Sy={}));function Bo(t,e){return dt(new Error,{type:t,[gw]:!0},e)}function rr(t,e){return t instanceof Error&&gw in t&&(e==null||!!(t.type&e))}const _y="[^/]+?",yx={sensitive:!1,strict:!1,start:!0,end:!0},gx=/[.+*?^${}()[\\]/\\\\]/g;function vx(t,e){const n=dt({},yx,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(gx,"\\\\$&"),h+=40;else if(d.type===1){const{value:y,repeatable:m,optional:p,regexp:b}=d;i.push({name:y,repeatable:m,optional:p});const O=b||_y;if(O!==_y){h+=10;try{new RegExp(`(${O})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${y}" (${O}): `+I.message)}}let E=m?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;f||(E=p&&c.length<2?`(?:/${E})`:"/"+E),p&&(E+="?"),r+=E,h+=20,p&&(h+=-8),m&&(h+=-20),O===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",y=i[d-1];f[y.name]=h&&y.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:y,repeatable:m,optional:p}=h,b=y in c?c[y]:"";if(Ls(b)&&!m)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const O=Ls(b)?b.join("/"):b;if(!O)if(p)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);u+=O}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function wx(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function vw(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=wx(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Oy(s))return 1;if(Oy(r))return-1}return r.length-s.length}function Oy(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const bx={type:0,value:""},Tx=/[a-zA-Z0-9_]/;function kx(t){if(!t)return[[]];if(t==="/")return[[bx]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: \'/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:l==="("?n=2:Tx.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function Ex(t,e,n){const s=vx(kx(t.path),n),r=dt(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Sx(t,e){const n=[],s=new Map;e=xy({strict:!1,end:!0,sensitive:!1},e);function r(f){return s.get(f)}function i(f,d,h){const y=!h,m=Dy(f);m.aliasOf=h&&h.record;const p=xy(e,f),b=[m];if("alias"in f){const I=typeof f.alias=="string"?[f.alias]:f.alias;for(const z of I)b.push(Dy(dt({},m,{components:h?h.record.components:m.components,path:z,aliasOf:h?h.record:m})))}let O,E;for(const I of b){const{path:z}=I;if(d&&z[0]!=="/"){const W=d.record.path,C=W[W.length-1]==="/"?"":"/";I.path=d.record.path+(z&&C+z)}if(O=Ex(I,d,p),h?h.alias.push(O):(E=E||O,E!==O&&E.alias.push(O),y&&f.name&&!My(O)&&o(f.name)),ww(O)&&l(O),m.children){const W=m.children;for(let C=0;C<W.length;C++)i(W[C],O,h&&h.children[C])}h=h||O}return E?()=>{o(E)}:Ua}function o(f){if(yw(f)){const d=s.get(f);d&&(s.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const d=Ix(f,n);n.splice(d,0,f),f.record.name&&!My(f)&&s.set(f.record.name,f)}function c(f,d){let h,y={},m,p;if("name"in f&&f.name){if(h=s.get(f.name),!h)throw Bo(1,{location:f});p=h.record.name,y=dt(Iy(d.params,h.keys.filter(E=>!E.optional).concat(h.parent?h.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),f.params&&Iy(f.params,h.keys.map(E=>E.name))),m=h.stringify(y)}else if(f.path!=null)m=f.path,h=n.find(E=>E.re.test(m)),h&&(y=h.parse(m),p=h.record.name);else{if(h=d.name?s.get(d.name):n.find(E=>E.re.test(d.path)),!h)throw Bo(1,{location:f,currentLocation:d});p=h.record.name,y=dt({},d.params,f.params),m=h.stringify(y)}const b=[];let O=h;for(;O;)b.unshift(O.record),O=O.parent;return{name:p,path:m,params:y,matched:b,meta:Ox(b)}}t.forEach(f=>i(f));function u(){n.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function Iy(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Dy(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:_x(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function _x(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function My(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ox(t){return t.reduce((e,n)=>dt(e,n.meta),{})}function xy(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Ix(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;vw(t,e[i])<0?s=i:n=i+1}const r=Dx(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function Dx(t){let e=t;for(;e=e.parent;)if(ww(e)&&vw(t,e)===0)return e}function ww({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Mx(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(uw," "),o=i.indexOf("="),a=rl(o<0?i:i.slice(0,o)),l=o<0?null:rl(i.slice(o+1));if(a in e){let c=e[a];Ls(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Cy(t){let e="";for(let n in t){const s=t[n];if(n=G2(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ls(s)?s.map(i=>i&&Dh(i)):[s&&Dh(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function xx(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Ls(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const Cx=Symbol(""),Ay=Symbol(""),zd=Symbol(""),Hd=Symbol(""),xh=Symbol("");function va(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Lr(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Bo(4,{from:n,to:e})):d instanceof Error?l(d):px(d)?l(Bo(2,{from:e,to:d})):(o&&s.enterCallbacks[r]===o&&typeof d=="function"&&o.push(d),a())},u=i(()=>t.call(s&&s.instances[r],e,n,c));let f=Promise.resolve(u);t.length<3&&(f=f.then(c)),f.catch(d=>l(d))})}function Tf(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(lw(l)){const u=(l.__vccOpts||l)[e];u&&i.push(Lr(u,n,s,o,a,r))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn\'t resolve component "${a}" at "${o.path}"`);const f=F2(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const h=(f.__vccOpts||f)[e];return h&&Lr(h,n,s,o,a,r)()}))}}return i}function Ny(t){const e=hs(zd),n=hs(Hd),s=Z(()=>{const l=B(t.to);return e.resolve(l)}),r=Z(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(Ho.bind(null,u));if(d>-1)return d;const h=Ly(l[c-2]);return c>1&&Ly(u)===h&&f[f.length-1].path!==h?f.findIndex(Ho.bind(null,l[c-2])):d}),i=Z(()=>r.value>-1&&Px(n.params,s.value.params)),o=Z(()=>r.value>-1&&r.value===n.matched.length-1&&mw(n.params,s.value.params));function a(l={}){if(Rx(l)){const c=e[B(t.replace)?"replace":"push"](B(t.to)).catch(Ua);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Z(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function Ax(t){return t.length===1?t[0]:t}const Nx=xt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ny,setup(t,{slots:e}){const n=Ni(Ny(t)),{options:s}=hs(zd),r=Z(()=>({[Ry(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ry(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&Ax(e.default(n));return t.custom?i:cu("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),Lx=Nx;function Rx(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\\b_blank\\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Px(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Ls(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Ly(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ry=(t,e,n)=>t??e??n,Yx=xt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=hs(xh),r=Z(()=>t.route||s.value),i=hs(Ay,0),o=Z(()=>{let c=B(i);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=Z(()=>r.value.matched[o.value]);ac(Ay,Z(()=>o.value+1)),ac(Cx,a),ac(xh,r);const l=_e();return rt(()=>[l.value,a.value,t.name],([c,u,f],[d,h,y])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Ho(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,f=a.value,d=f&&f.components[u];if(!d)return Py(n.default,{Component:d,route:c});const h=f.props[u],y=h?h===!0?c.params:typeof h=="function"?h(c):h:null,p=cu(d,dt({},y,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Py(n.default,{Component:p,route:c})||p}}});function Py(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Fx=Yx;function $x(t){const e=Sx(t.routes,t),n=t.parseQuery||Mx,s=t.stringifyQuery||Cy,r=t.history,i=va(),o=va(),a=va(),l=Da(Er);let c=Er;lo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=wf.bind(null,ee=>""+ee),f=wf.bind(null,X2),d=wf.bind(null,rl);function h(ee,be){let fe,ke;return yw(ee)?(fe=e.getRecordMatcher(ee),ke=be):ke=ee,e.addRoute(ke,fe)}function y(ee){const be=e.getRecordMatcher(ee);be&&e.removeRoute(be)}function m(){return e.getRoutes().map(ee=>ee.record)}function p(ee){return!!e.getRecordMatcher(ee)}function b(ee,be){if(be=dt({},be||l.value),typeof ee=="string"){const w=bf(n,ee,be.path),M=e.resolve({path:w.path},be),R=r.createHref(w.fullPath);return dt(w,M,{params:d(M.params),hash:rl(w.hash),redirectedFrom:void 0,href:R})}let fe;if(ee.path!=null)fe=dt({},ee,{path:bf(n,ee.path,be.path).path});else{const w=dt({},ee.params);for(const M in w)w[M]==null&&delete w[M];fe=dt({},ee,{params:f(w)}),be.params=f(be.params)}const ke=e.resolve(fe,be),He=ee.hash||"";ke.params=u(d(ke.params));const G=ex(s,dt({},ee,{hash:K2(He),path:ke.path})),S=r.createHref(G);return dt({fullPath:G,hash:He,query:s===Cy?xx(ee.query):ee.query||{}},ke,{redirectedFrom:void 0,href:S})}function O(ee){return typeof ee=="string"?bf(n,ee,l.value.path):dt({},ee)}function E(ee,be){if(c!==ee)return Bo(8,{from:be,to:ee})}function I(ee){return C(ee)}function z(ee){return I(dt(O(ee),{replace:!0}))}function W(ee){const be=ee.matched[ee.matched.length-1];if(be&&be.redirect){const{redirect:fe}=be;let ke=typeof fe=="function"?fe(ee):fe;return typeof ke=="string"&&(ke=ke.includes("?")||ke.includes("#")?ke=O(ke):{path:ke},ke.params={}),dt({query:ee.query,hash:ee.hash,params:ke.path!=null?{}:ee.params},ke)}}function C(ee,be){const fe=c=b(ee),ke=l.value,He=ee.state,G=ee.force,S=ee.replace===!0,w=W(fe);if(w)return C(dt(O(w),{state:typeof w=="object"?dt({},He,w.state):He,force:G,replace:S}),be||fe);const M=fe;M.redirectedFrom=be;let R;return!G&&tx(s,ke,fe)&&(R=Bo(16,{to:M,from:ke}),X(ke,ke,!0,!1)),(R?Promise.resolve(R):V(M,ke)).catch(F=>rr(F)?rr(F,2)?F:ae(F):me(F,M,ke)).then(F=>{if(F){if(rr(F,2))return C(dt({replace:S},O(F.to),{state:typeof F.to=="object"?dt({},He,F.to.state):He,force:G}),be||M)}else F=P(M,ke,!0,S,He);return se(M,ke,F),F})}function L(ee,be){const fe=E(ee,be);return fe?Promise.reject(fe):Promise.resolve()}function Y(ee){const be=Xe.values().next().value;return be&&typeof be.runWithContext=="function"?be.runWithContext(ee):ee()}function V(ee,be){let fe;const[ke,He,G]=Ux(ee,be);fe=Tf(ke.reverse(),"beforeRouteLeave",ee,be);for(const w of ke)w.leaveGuards.forEach(M=>{fe.push(Lr(M,ee,be))});const S=L.bind(null,ee,be);return fe.push(S),yt(fe).then(()=>{fe=[];for(const w of i.list())fe.push(Lr(w,ee,be));return fe.push(S),yt(fe)}).then(()=>{fe=Tf(He,"beforeRouteUpdate",ee,be);for(const w of He)w.updateGuards.forEach(M=>{fe.push(Lr(M,ee,be))});return fe.push(S),yt(fe)}).then(()=>{fe=[];for(const w of G)if(w.beforeEnter)if(Ls(w.beforeEnter))for(const M of w.beforeEnter)fe.push(Lr(M,ee,be));else fe.push(Lr(w.beforeEnter,ee,be));return fe.push(S),yt(fe)}).then(()=>(ee.matched.forEach(w=>w.enterCallbacks={}),fe=Tf(G,"beforeRouteEnter",ee,be,Y),fe.push(S),yt(fe))).then(()=>{fe=[];for(const w of o.list())fe.push(Lr(w,ee,be));return fe.push(S),yt(fe)}).catch(w=>rr(w,8)?w:Promise.reject(w))}function se(ee,be,fe){a.list().forEach(ke=>Y(()=>ke(ee,be,fe)))}function P(ee,be,fe,ke,He){const G=E(ee,be);if(G)return G;const S=be===Er,w=lo?history.state:{};fe&&(ke||S?r.replace(ee.fullPath,dt({scroll:S&&w&&w.scroll},He)):r.push(ee.fullPath,He)),l.value=ee,X(ee,be,fe,S),ae()}let de;function Le(){de||(de=r.listen((ee,be,fe)=>{if(!ut.listening)return;const ke=b(ee),He=W(ke);if(He){C(dt(He,{replace:!0,force:!0}),ke).catch(Ua);return}c=ke;const G=l.value;lo&&cx(ky(G.fullPath,fe.delta),Mu()),V(ke,G).catch(S=>rr(S,12)?S:rr(S,2)?(C(dt(O(S.to),{force:!0}),ke).then(w=>{rr(w,20)&&!fe.delta&&fe.type===il.pop&&r.go(-1,!1)}).catch(Ua),Promise.reject()):(fe.delta&&r.go(-fe.delta,!1),me(S,ke,G))).then(S=>{S=S||P(ke,G,!1),S&&(fe.delta&&!rr(S,8)?r.go(-fe.delta,!1):fe.type===il.pop&&rr(S,20)&&r.go(-1,!1)),se(ke,G,S)}).catch(Ua)}))}let Re=va(),Te=va(),Oe;function me(ee,be,fe){ae(ee);const ke=Te.list();return ke.length?ke.forEach(He=>He(ee,be,fe)):console.error(ee),Promise.reject(ee)}function je(){return Oe&&l.value!==Er?Promise.resolve():new Promise((ee,be)=>{Re.add([ee,be])})}function ae(ee){return Oe||(Oe=!ee,Le(),Re.list().forEach(([be,fe])=>ee?fe(ee):be()),Re.reset()),ee}function X(ee,be,fe,ke){const{scrollBehavior:He}=t;if(!lo||!He)return Promise.resolve();const G=!fe&&ux(ky(ee.fullPath,0))||(ke||!fe)&&history.state&&history.state.scroll||null;return Ws().then(()=>He(ee,be,G)).then(S=>S&&lx(S)).catch(S=>me(S,ee,be))}const re=ee=>r.go(ee);let Pe;const Xe=new Set,ut={currentRoute:l,listening:!0,addRoute:h,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:p,getRoutes:m,resolve:b,options:t,push:I,replace:z,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Te.add,isReady:je,install(ee){const be=this;ee.component("RouterLink",Lx),ee.component("RouterView",Fx),ee.config.globalProperties.$router=be,Object.defineProperty(ee.config.globalProperties,"$route",{enumerable:!0,get:()=>B(l)}),lo&&!Pe&&l.value===Er&&(Pe=!0,I(r.location).catch(He=>{}));const fe={};for(const He in Er)Object.defineProperty(fe,He,{get:()=>l.value[He],enumerable:!0});ee.provide(zd,be),ee.provide(Hd,x0(fe)),ee.provide(xh,l);const ke=ee.unmount;Xe.add(ee),ee.unmount=function(){Xe.delete(ee),Xe.size<1&&(c=Er,de&&de(),de=null,l.value=Er,Pe=!1,Oe=!1),ke()}}};function yt(ee){return ee.reduce((be,fe)=>be.then(()=>Y(fe)),Promise.resolve())}return ut}function Ux(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ho(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ho(c,l))||r.push(l))}return[n,s,r]}function zx(t){return hs(Hd)}const El=si("markwhen",()=>{const t=zx(),e=_e({colorMap:{default:{}}}),n=_e(),s=_e(!1),r=_e(!0),i=_e(C=>{}),o=_e(C=>{}),a=_e(C=>{}),l=_e(typeof window<"u"&&window.__markwhen_initial_state),c=Z(()=>{var C,L;if((C=n.value)!=null&&C.rawText)try{return btoa((L=n.value)==null?void 0:L.rawText)}catch{return""}return""}),u=Z(()=>{var Y;const{user:C,timeline:L}=t.params;return!t.path.includes(".html")&&C?`/${C}`+(L?`/${L}`:""):(Y=e.value)!=null&&Y.path&&e.value.path!=="/"?e.value.path:`#mw=${c.value}`}),f=Z(()=>`https://meridiem.markwhen.com${u.value}`),d=Z(()=>`https://timeline.markwhen.com${u.value}`),h=Z(()=>`<iframe src="${d.value}" />`);Fi(async()=>{const{user:C,timeline:L}=t.params;if(C)try{const Y=L?`https://meridiem.markwhen.com/${C}/${L}.mw`:`https://meridiem.markwhen.com/${C}.mw`,V=await fetch(Y).catch(()=>{});if(V&&(V.redirected&&(window.location.href=V.url),V.ok)){const se=await V.text(),P=wy(se);e.value={isDark:!1,colorMap:Ih(P).value},n.value={rawText:se,parsed:P,transformed:P.events},s.value=!0,r.value=!1}}catch{}else if(t.hash&&t.hash.startsWith("#mw=")){const Y=atob(t.hash.substring(4)),V=wy(Y);e.value={isDark:!1,colorMap:Ih(V).value},n.value={rawText:Y,parsed:V,transformed:V.events},s.value=!0,r.value=!1}});const{postRequest:y}=Y2({appState(C){s.value=!1,r.value=!0,e.value=C},markwhenState:C=>{n.value=C},jumpToPath:({path:C})=>{var L;(L=i.value)==null||L.call(i,C)},jumpToRange:({dateRangeIso:C})=>{var L;(L=o.value)==null||L.call(o,C)},getSvg:C=>{var L;return(L=a.value)==null?void 0:L.call(a,C)}}),m=C=>{y("setHoveringPath",C)},p=C=>{y("setDetailPath",C)},b=(C,L)=>{y("setText",{text:C,at:L})},O=C=>{y("showInEditor",C)},E=C=>{var L;return!!C&&jo(C,(L=e.value)==null?void 0:L.detailPath)},I=(C,L,Y=!0)=>{y("newEvent",{dateRangeIso:C,granularity:L,immediate:Y})},z=(C,L,Y,V)=>{y("editEventDateRange",{path:C,range:L,scale:Y,preferredInterpolationFormat:V})},W=()=>{y("markwhenState"),y("appState")};return W(),{app:e,markwhen:n,hadInitialState:l,onJumpToPath:i,onJumpToRange:o,onGetSvg:a,requestStateUpdate:W,setHoveringPath:m,setDetailEventPath:p,isDetailEventPath:E,setText:b,showInEditor:O,createEventFromRange:I,editEventDateRange:z,showEditButton:s,showCopyLinkButton:r,showEmbedButton:r,timelineLink:d,editorLink:f,embedLink:h}});var ss=(t=>(t[t.SECOND=0]="SECOND",t[t.QUARTER_MINUTE=1]="QUARTER_MINUTE",t[t.MINUTE=2]="MINUTE",t[t.QUARTER_HOUR=3]="QUARTER_HOUR",t[t.HOUR=4]="HOUR",t[t.DAY=5]="DAY",t[t.MONTH=6]="MONTH",t[t.YEAR=7]="YEAR",t[t.DECADE=8]="DECADE",t[t.CENT=9]="CENT",t[t.MILL=10]="MILL",t))(ss||{});const Hi=si("markers",()=>{const t=Et(),e=_e(),n=_e(),s=Z(()=>{const c=[],u=t.scaleOfViewportDateInterval,f=t.baselineLeftmostDate,d=t.baselineRightmostDate;let h=kc(f,u),y=kc(d,u),m=t.scalelessDistanceBetweenDates(f,h);for(c.push({dateTime:f,size:m,ts:f.toMillis(),accumulated:m});h<y&&c.length<1024;){c.push({dateTime:h,size:0,ts:h.toMillis(),accumulated:m}),u==="mill"?h=h.plus({years:1e3}):u==="cent"?h=h.plus({years:100}):u==="decade"?h=h.plus({years:10}):u==="quarterhour"?h=h.plus({minutes:15}):u==="quarterminute"?h=h.plus({seconds:15}):h=h.plus({[u]:1});const p=t.scalelessDistanceBetweenDates(c[c.length-1].dateTime,h);m+=p,c[c.length-1].size=p,c[c.length-1].accumulated=m}return c[c.length-1].size=t.scalelessDistanceBetweenDates(c[c.length-1].dateTime,y),c}),r=Z(()=>c=>{const u=t.dateFromClientLeft(c),f=t.scaleOfViewportDateInterval,d=ol(u,f),h=kc(u,f);return[{dateTime:d,left:t.distanceFromBaselineLeftmostDate(d)},{dateTime:h,left:t.distanceFromBaselineLeftmostDate(h)}]}),i=Z(()=>{for(let c=0;c<t.weights.length;c++)if(t.weights[c]>.05)return bw[c];return"decade"}),o=c=>{e.value=c},a=c=>{n.value=c},l=Z(()=>{const c=s.value[s.value.length-1];return t.pageScaleBy24*c.accumulated});return{hoveringMarker:e,range:n,markers:s,rangeFromOffsetLeft:r,nextMostGranularScaleOfViewportDateInterval:i,setHoveringMarker:o,setRange:a,totalWidth:l}}),bw=["second","quarterminute","minute","quarterhour","hour","day","month","year","decade","cent","mill"];function Ch(t){return t.second===0?t.minute===0?t.hour===0?t.day===1?t.month===1?t.year%1e3===0?ss.MILL:t.year%100===0?ss.CENT:t.year%10===0?ss.DECADE:ss.YEAR:ss.MONTH:ss.DAY:ss.HOUR:t.minute%15==0?ss.QUARTER_HOUR:ss.MINUTE:t.second%15===0?ss.QUARTER_MINUTE:ss.SECOND}const Ln="hours";function ol(t,e){const n=t.year;if(e==="mill"){const l=n-n%1e3;return ce.fromObject({year:l})}if(e==="cent"){const l=n-n%100;return ce.fromObject({year:l})}if(e==="decade"){const l=n-n%10;return ce.fromObject({year:l})}if(e==="year")return ce.fromObject({year:n});const s=t.month;if(e==="month")return ce.fromObject({year:n,month:s});const r=t.day;if(e==="day")return ce.fromObject({year:n,month:s,day:r});const i=t.hour;if(e==="hour")return ce.fromObject({year:n,month:s,day:r,hour:i});const o=t.minute;if(e==="quarterhour")return ce.fromObject({year:n,month:s,day:r,hour:i,minute:o-o%15});const a=t.second;return e==="quarterminute"?ce.fromObject({year:n,month:s,day:r,hour:i,minute:o,second:a-a%15}):e==="minute"?ce.fromObject({year:n,month:s,day:r,hour:i,minute:o}):ce.fromObject({year:n,month:s,day:r,hour:i,minute:o,second:a})}function kc(t,e){let n;return e==="mill"?n={years:1e3}:e==="cent"?n={years:100}:e==="decade"?n={years:10}:e==="quarterhour"?n={minutes:15}:e==="quarterminute"?n={seconds:15}:n={[e]:1},ol(t,e).plus(n)}function Hx(t,e){const n=kc(t,e),s=ol(t,e),r=t.diff(n),i=t.diff(s);return Math.abs(+r)<Math.abs(+i)?n:s}const Bx=t=>t.fromDateTime.plus({seconds:t.toDateTime.diff(t.fromDateTime).as("seconds")/2}),Tw=new Hc({max:1e3}),Yy=(t,e)=>(Tw.set(t,e),e),Wx=(t,e)=>{const n=JSON.stringify(t.dateRangeIso)+JSON.stringify(t.recurrence),s=Tw.get(n);if(s)return s;if(t.recurrence){const r=aw(Zt(t.dateRangeIso),t.recurrence,e);return Yy(n,{fromDateTime:r[0].fromDateTime,toDateTime:r[r.length-1].toDateTime})}else return Yy(n,Zt(t.dateRangeIso))},Sl=(t,e)=>{if(!t)return;if(Yn(t)){const s=Wx(t,e);return{...s,maxFrom:s.fromDateTime}}return t.children.reduce((s,r)=>{const i=Sl(r,e);if(!s||!i)return i;const o=+i.fromDateTime<+s.fromDateTime?i.fromDateTime:s.fromDateTime,a=+i.toDateTime>+s.toDateTime?i.toDateTime:s.toDateTime,l=+i.maxFrom>+s.maxFrom?i.maxFrom:s.maxFrom;return{fromDateTime:o,toDateTime:a,maxFrom:l}},void 0)};function Fy(){return typeof localStorage<"u"}const kf=(t,e)=>{let n;if(Fy()){const r=localStorage.getItem(t);r?n=JSON.parse(r).value:n=e}else n=e;const s=_e(n);return rt(s,r=>{Fy()&&localStorage.setItem(t,JSON.stringify({value:r}))}),s},_l=100;var Zc=(t=>(t[t.SECOND=0]="SECOND",t[t.QUARTER_MINUTE=1]="QUARTER_MINUTE",t[t.MINUTE=2]="MINUTE",t[t.QUARTER_HOUR=3]="QUARTER_HOUR",t[t.HOUR=4]="HOUR",t[t.DAY=5]="DAY",t[t.MONTH=6]="MONTH",t[t.YEAR=7]="YEAR",t[t.DECADE=8]="DECADE",t[t.CENT=9]="CENT",t[t.MILL=10]="MILL",t))(Zc||{});const Bd=1,jx=15*Bd,Wd=60*Bd,Vx=15*Wd,kw=60*Wd,Ew=24*kw,Sw=30*Ew,_w=12*Sw,Ow=10*_w,Iw=10*Ow,qx=10*Iw,Kx=.3,Dw=.25;function ws(t){return Math.floor(t*100)/100}function Hn(t,e=0,n=1){return Math.min(n,Math.max(t,e))}const $y=.002,Xc=3e7,Et=si("timeline",()=>{const t=El(),e=Z(()=>t.markwhen),n=kf("dateTimeDisplay2","original"),s=kf("progressDisplay2","on"),r=Z(()=>e.value.parsed),i=Z(()=>{const $=ce.now();if(!r.value.events.children.length)return{earliestTime:$.minus({years:2}),latestTime:$.plus({years:2})};let K=ce.now().minus({years:10}),te=ce.now().plus({years:10});for(const{eventy:ie}of Po(r.value.events))if(Yn(ie)){const ge=Zt(ie.dateRangeIso);+ge.fromDateTime<+te&&(te=ge.fromDateTime),+ge.toDateTime>+K&&(K=ge.toDateTime)}return{earliestTime:te,latestTime:K}}),o=Z(()=>Object.keys(r.value.header).filter($=>$.startsWith(")")).reduce(($,K)=>({...$,[K.replace(")","")]:r.value.header[K]}),{})),a=Z(()=>e.value.transformed),l=Z(()=>{var $;return!!(($=t.app)!=null&&$.isDark)}),c=Z(()=>Sl(a.value,_l)||{fromDateTime:ce.now().minus({years:5}),toDateTime:ce.now().plus({years:5})}),u=Z(()=>{var $;return($=t.app)==null?void 0:$.hoveringPath}),f=t.editEventDateRange,d=t.setHoveringPath,h=()=>t.setHoveringPath(),y=t.setText,m=t.showInEditor,p=t.createEventFromRange,b=t.isDetailEventPath,O=t.setDetailEventPath,E=_e(),I=_e({left:0,height:0,width:0,offsetLeft:0,top:0}),z=_e(!1),W=_e(!1),C=_e(0),L=_e(),Y=_e(!0),V=kf("preferredMode2","timeline"),se=_e(200),P=_e(0),de=_e(0),Le=()=>{de.value++},Re=Z(()=>V.value==="gantt"?P.value?P.value:se.value:0),Te=$=>{P.value=$},Oe=$=>{se.value=$},me=_e(Kx),je=_e(ce.now()),ae=_e(ce.now()),X=Z(()=>({[Ln]:I.value.width*2/me.value*24})),re=Z(()=>ae.value.minus(X.value)),Pe=Z(()=>ae.value.plus(X.value)),Xe=Z(()=>$=>$.diff(re.value).as(Ln)*me.value/24),ut=Z(()=>($,K)=>{const te=re.value.plus({[Ln]:($+Re.value)/me.value*24}),ie=re.value.plus({[Ln]:(K+$+Re.value)/me.value*24});return{fromDateTime:te,toDateTime:ie}}),yt=($,K)=>K.diff($).as(Ln),ee=Z(()=>($,K)=>K.diff($).as(Ln)*me.value/24),be=Z(()=>$=>$.diff(ae.value).as(Ln)),fe=Z(()=>$=>$.diff(ae.value).as(Ln)*me.value/24+I.value.width),ke=$=>$.diff(w.value.fromDateTime).as(Ln)*me.value/24,He=Z(()=>$=>{try{return re.value.plus({[Ln]:($+I.value.left)/me.value*24})}catch{return ce.now()}}),G=Z(()=>{var ie,ge,Ee;const $=((ge=(ie=t.markwhen)==null?void 0:ie.parsed.header.timeline)==null?void 0:ge.ranges)||((Ee=t.markwhen)==null?void 0:Ee.parsed.header.ranges),K=(()=>{var Ge,ot;const De=""+((ot=(Ge=t.markwhen)==null?void 0:Ge.parsed.header.timeline)==null?void 0:ot.center);if(De){const ft=ce.fromISO(De);if(ft.isValid)return ft}return ce.now()})(),te=[];if(ce.now(),$&&Array.isArray($))for(let De=0;De<$.length;De++){let Ge=$[De];const ft=new RegExp(`^${s_.source}$`).exec(Ge);if(ft){const Fn=parseInt(ft[1]);if(isNaN(Fn))continue;const $n={[ft[3]?"milliseconds":ft[4]?"seconds":ft[5]?"minutes":ft[6]?"hours":ft[8]?"days":ft[9]?"weeks":ft[10]?"months":"years"]:Fn/2};te.push({title:Ge,fromDateTime:K.minus($n),toDateTime:K.plus($n)})}}return te}),S=$=>{I.value=$},w=Z(()=>ut.value(I.value.left-I.value.offsetLeft,I.value.width+I.value.offsetLeft)),M=$=>{V.value=$},R=$=>{E.value=$},F=$=>(me.value=Math.max($,2e-4),!0),j=$=>{z.value=$},Q=$=>{W.value=$},ue=$=>{L.value=$},oe=()=>C.value++,he=$=>{Y.value=$},we=_e(),k=Z(()=>{const te=w.value.toDateTime,ie=w.value.fromDateTime,ge=te.diff(ie).as(Ln),Ee=2e3*86400,De=ge*(Ee/24),Ge=I.value.width+I.value.offsetLeft,ot=De/Ge;return[Hn(ws(30*Bd/ot)),Hn(ws(20*jx/ot)),Hn(ws(30*Wd/ot)),Hn(ws(20*Vx/ot)),Hn(ws(30*kw/ot)),Hn(ws(40*Ew/ot)),Hn(ws(30*Sw/ot)),Hn(ws(25*_w/ot)),Hn(ws(25*Ow/ot)),Hn(ws(20*Iw/ot)),Hn(ws(20*qx/ot))]}),g=Z(()=>{for(let $=0;$<k.value.length;$++)if(k.value[$]>Dw)return bw[$];return"cent"}),v=Z(()=>{var $,K,te,ie;return((ie=(te=(K=($=t.markwhen)==null?void 0:$.parsed.header)==null?void 0:K.timeline)==null?void 0:te.style)==null?void 0:ie.yOffset)??100}),T=Z(()=>{var $,K,te,ie,ge;return((ge=(ie=(te=(K=($=t.markwhen)==null?void 0:$.parsed.header)==null?void 0:K.timeline)==null?void 0:te.style)==null?void 0:ie.row)==null?void 0:ge.height)??30}),x=Z(()=>{var $,K,te,ie,ge,Ee;return((Ee=(ge=(ie=(te=(K=($=t.markwhen)==null?void 0:$.parsed.header)==null?void 0:K.timeline)==null?void 0:te.style)==null?void 0:ie.event)==null?void 0:ge.bar)==null?void 0:Ee.height)??10}),N=Z(()=>{var $,K,te,ie,ge,Ee;return((Ee=(ge=(ie=(te=(K=($=t.markwhen)==null?void 0:$.parsed.header)==null?void 0:K.timeline)==null?void 0:te.style)==null?void 0:ie.event)==null?void 0:ge.bar)==null?void 0:Ee.rx)??5}),H=Z(()=>{var $,K,te,ie,ge;return((ge=(ie=(te=(K=($=t.markwhen)==null?void 0:$.parsed.header)==null?void 0:K.timeline)==null?void 0:te.style)==null?void 0:ie.event)==null?void 0:ge["font-size"])??14}),q=Z(()=>{var $,K,te,ie,ge;return((ge=(ie=(te=(K=($=t.markwhen)==null?void 0:$.parsed.header)==null?void 0:K.timeline)==null?void 0:te.style)==null?void 0:ie.event)==null?void 0:ge["font-weight"])??600}),ne=Z(()=>{var $,K,te,ie,ge;return(ge=(ie=(te=(K=($=t.markwhen)==null?void 0:$.parsed.header)==null?void 0:K.timeline)==null?void 0:te.style)==null?void 0:ie.event)==null?void 0:ge.color});return{referenceDate:ae,viewport:I,startedWidthChange:z,hideNowLine:W,scrollToPath:L,shouldZoomWhenScrolling:Y,mode:V,ganttSidebarWidth:se,ganttSidebarTempWidth:P,autoCenterSemaphore:de,dateTimeDisplay:n,progressDisplay:s,colors:Z(()=>{var $;return($=t.app)==null?void 0:$.colorMap}),hoveringDate:je,baselineLeftmostDate:re,baselineRightmostDate:Pe,diffAmount:X,userRanges:G,yOffset:v,rowHeight:T,eventBarHeight:x,eventBarRx:N,eventFontSize:H,eventFontWeight:q,eventTextColor:ne,darkMode:l,pageTimeline:r,tags:o,pageTimelineMetadata:i,pageRange:c,transformedEvents:a,pageScale:me,pageScaleBy24:Z(()=>me.value/24),scalelessDistanceBetweenDates:yt,distanceBetweenDates:ee,distanceFromViewportLeftDate:ke,distanceFromReferenceDate:fe,dateFromClientLeft:He,scalelessDistanceFromReferenceDate:be,scaleOfViewportDateInterval:g,weights:k,leftInsetWidth:Re,hoveringEventPaths:u,isDetailEventPath:b,distanceFromBaselineLeftmostDate:Xe,viewportGetter:E,viewportDateInterval:w,setDetailEventPath:O,createEventFromRange:p,showInEditor:m,setText:y,setHoveringEvent:d,clearHoveringEvent:h,editEventDateRange:f,setViewport:S,setViewportGetter:R,setPageScale:F,setStartedWidthChange:j,setHideNowLine:Q,setScrollToPaths:ue,setShouldZoomWhenScrolling:he,setMode:M,setGanttSidebarWidth:Oe,setGanttSidebarTempWidth:Te,autoCenter:Le,goToNow:oe,goToNowSemaphore:C,rangeToJumpTo:we}}),Gx=(t,e)=>t*24/e.toDateTime.diff(e.fromDateTime).as(Ln),Uy=2,zy=2,Hy=8,By=24,Wy=24;function jy(t,e){return Math.sign(t)*Math.min(e,Math.abs(t))}function Zx(t){let e=t.deltaX,n=t.deltaY;return t.shiftKey&&e===0&&([e,n]=[n,e]),t.deltaMode===WheelEvent.DOM_DELTA_LINE?(e*=Hy,n*=Hy):t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(e*=By,n*=By),[jy(e,Wy),jy(n,Wy)]}function Xx(t,e){function n(){}let s=e||{},r=s.startGesture||n,i=s.doGesture||n,o=s.endGesture||n,a=null,l;function c(){a&&(o(a),a=null)}if(t.addEventListener("wheel",function(f){if(!a&&!f.ctrlKey)return;f.cancelable!==!1&&f.preventDefault();let[d,h]=Zx(f);if(a||(a={origin:{x:f.clientX,y:f.clientY},scale:1,translation:{x:0,y:0}},r(a)),f.ctrlKey){let y=h<=0?1-Uy*h/100:1/(1+Uy*h/100);a={origin:{x:f.clientX,y:f.clientY},scale:a.scale*y,translation:a.translation}}else a={origin:{x:f.clientX,y:f.clientY},scale:a.scale,translation:{x:a.translation.x-zy*d,y:a.translation.y-zy*h}};i(a),l&&window.clearTimeout(l),l=window.setTimeout(c,200)},{passive:!1}),typeof GestureEvent<"u"&&typeof TouchEvent>"u"){let u=!1;t.addEventListener("gesturestart",function(d){u||(r({translation:{x:0,y:0},scale:d.scale,rotation:d.rotation,origin:{x:d.clientX,y:d.clientY}}),u=!0),d.cancelable!==!1&&d.preventDefault()},{passive:!1}),t.addEventListener("gesturechange",function(d){u&&i({translation:{x:0,y:0},scale:d.scale,rotation:d.rotation,origin:{x:d.clientX,y:d.clientY}}),d.cancelable!==!1&&d.preventDefault()},{passive:!1}),t.addEventListener("gestureend",function(d){u&&(o({translation:{x:0,y:0},scale:d.scale,rotation:d.rotation,origin:{x:d.clientX,y:d.clientY}}),u=!1)})}return c}function Mw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ef={exports:{}};/*! Hammer.JS - v2.1.0-pre3 - 2019-08-26\n * http://squadette.github.io/hammer.js/\n *\n * Copyright (c) 2019 Jorik Tangelder;\n * Licensed under the MIT license */var Vy;function Jx(){return Vy||(Vy=1,function(t){typeof window<"u"&&typeof document<"u"&&function(e,n,s,r){var i=["","webkit","Moz","MS","ms","o"],o=n.createElement("div"),a="function",l=Math.round,c=Math.abs,u=Date.now;function f(_,D,U){return setTimeout(E(_,U),D)}function d(_,D,U){return Array.isArray(_)?(h(_,U[D],U),!0):!1}function h(_,D,U){var J;if(_)if(_.forEach)_.forEach(D,U);else if(_.length!==r)for(J=0;J<_.length;)D.call(U,_[J],J,_),J++;else for(J in _)_.hasOwnProperty(J)&&D.call(U,_[J],J,_)}function y(_,D,U){var J="DEPRECATED METHOD: "+D+`\n`+U+` AT \n`;return function(){var ye=new Error("get-stack-trace"),Ce=ye&&ye.stack?ye.stack.replace(/^[^\\(]+?[\\n$]/gm,"").replace(/^\\s+at\\s+/gm,"").replace(/^Object.<anonymous>\\s*\\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Je=e.console&&(e.console.warn||e.console.log);return Je&&Je.call(e.console,J,Ce),_.apply(this,arguments)}}var m;typeof Object.assign!="function"?m=function(D){if(D===r||D===null)throw new TypeError("Cannot convert undefined or null to object");for(var U=Object(D),J=1;J<arguments.length;J++){var ye=arguments[J];if(ye!==r&&ye!==null)for(var Ce in ye)ye.hasOwnProperty(Ce)&&(U[Ce]=ye[Ce])}return U}:m=Object.assign;var p=y(function(D,U,J){for(var ye=Object.keys(U),Ce=0;Ce<ye.length;)(!J||J&&D[ye[Ce]]===r)&&(D[ye[Ce]]=U[ye[Ce]]),Ce++;return D},"extend","Use `assign`."),b=y(function(D,U){return p(D,U,!0)},"merge","Use `assign`.");function O(_,D,U){var J=D.prototype,ye;ye=_.prototype=Object.create(J),ye.constructor=_,ye._super=J,U&&m(ye,U)}function E(_,D){return function(){return _.apply(D,arguments)}}function I(_,D){return typeof _==a?_.apply(D&&D[0]||r,D):_}function z(_,D){return _===r?D:_}function W(_,D,U){h(V(D),function(J){_.addEventListener(J,U,!1)})}function C(_,D,U){h(V(D),function(J){_.removeEventListener(J,U,!1)})}function L(_,D){for(;_;){if(_==D)return!0;_=_.parentNode}return!1}function Y(_,D){return _.indexOf(D)>-1}function V(_){return _.trim().split(/\\s+/g)}function se(_,D,U){if(_.indexOf&&!U)return _.indexOf(D);for(var J=0;J<_.length;){if(U&&_[J][U]==D||!U&&_[J]===D)return J;J++}return-1}function P(_){return Array.prototype.slice.call(_,0)}function de(_,D,U){for(var J=[],ye=[],Ce=0;Ce<_.length;){var Je=_[Ce][D];se(ye,Je)<0&&J.push(_[Ce]),ye[Ce]=Je,Ce++}return J=J.sort(function(Jt,yn){return Jt[D]>yn[D]}),J}function Le(_,D){if(!_)return r;for(var U,J,ye=D[0].toUpperCase()+D.slice(1),Ce=0;Ce<i.length;){if(U=i[Ce],J=U?U+ye:D,J in _)return J;Ce++}return r}var Re=1;function Te(){return Re++}function Oe(_){var D=_.ownerDocument||_;return D.defaultView||D.parentWindow||e}var me=/mobile|tablet|ip(ad|hone|od)|android/i,je="ontouchstart"in e,ae=Le(e,"PointerEvent")!==r,X=je&&me.test(navigator.userAgent),re="touch",Pe="pen",Xe="mouse",ut="kinect",yt=25,ee=1,be=2,fe=4,ke=8,He=1,G=2,S=4,w=8,M=16,R=G|S,F=w|M,j=R|F,Q=["x","y"],ue=["clientX","clientY"];function oe(_,D){var U=this;this.manager=_,this.callback=D,this.element=_.element,this.target=_.options.inputTarget,this.domHandler=function(J){I(_.options.enable,[_])&&U.handler(J)},this.init()}oe.prototype={handler:function(){},init:function(){this.evEl&&W(this.element,this.evEl,this.domHandler),this.evTarget&&W(this.target,this.evTarget,this.domHandler),this.evWin&&W(Oe(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(Oe(this.element),this.evWin,this.domHandler)}};function he(_){var D,U=_.options.inputClass;return U?D=U:ae?D=Fn:X?D=Ys:je?D=ai:D=Ee,new D(_,we)}function we(_,D,U){var J=U.pointers.length,ye=U.changedPointers.length,Ce=D&ee&&J-ye===0,Je=D&(fe|ke)&&J-ye===0;U.isFirst=!!Ce,U.isFinal=!!Je,Ce&&(_.session={}),U.eventType=D,k(_,U),_.emit("hammer.input",U),_.recognize(U),_.session.prevInput=U}function k(_,D){var U=_.session,J=D.pointers,ye=J.length;U.firstInput||(U.firstInput=T(D)),ye>1&&!U.firstMultiple?U.firstMultiple=T(D):ye===1&&(U.firstMultiple=!1);var Ce=U.firstInput,Je=U.firstMultiple,jt=Je?Je.center:Ce.center,Jt=D.center=x(J);D.timeStamp=u(),D.deltaTime=D.timeStamp-Ce.timeStamp,D.angle=ne(jt,Jt),D.distance=q(jt,Jt),g(U,D),D.offsetDirection=H(D.deltaX,D.deltaY);var yn=N(D.deltaTime,D.deltaX,D.deltaY);D.overallVelocityX=yn.x,D.overallVelocityY=yn.y,D.overallVelocity=c(yn.x)>c(yn.y)?yn.x:yn.y,D.scale=Je?K(Je.pointers,J):1,D.rotation=Je?$(Je.pointers,J):0,D.maxPointers=U.prevInput?D.pointers.length>U.prevInput.maxPointers?D.pointers.length:U.prevInput.maxPointers:D.pointers.length,v(U,D);var $s=_.element;L(D.srcEvent.target,$s)&&($s=D.srcEvent.target),D.target=$s}function g(_,D){var U=D.center,J=_.offsetDelta||{},ye=_.prevDelta||{},Ce=_.prevInput||{};(D.eventType===ee||Ce.eventType===fe)&&(ye=_.prevDelta={x:Ce.deltaX||0,y:Ce.deltaY||0},J=_.offsetDelta={x:U.x,y:U.y}),D.deltaX=ye.x+(U.x-J.x),D.deltaY=ye.y+(U.y-J.y)}function v(_,D){var U=_.lastInterval||D,J=D.timeStamp-U.timeStamp,ye,Ce,Je,jt;if(D.eventType!=ke&&(J>yt||U.velocity===r)){var Jt=D.deltaX-U.deltaX,yn=D.deltaY-U.deltaY,$s=N(J,Jt,yn);Ce=$s.x,Je=$s.y,ye=c($s.x)>c($s.y)?$s.x:$s.y,jt=H(Jt,yn),_.lastInterval=D}else ye=U.velocity,Ce=U.velocityX,Je=U.velocityY,jt=U.direction;D.velocity=ye,D.velocityX=Ce,D.velocityY=Je,D.direction=jt}function T(_){for(var D=[],U=0;U<_.pointers.length;)D[U]={clientX:l(_.pointers[U].clientX),clientY:l(_.pointers[U].clientY)},U++;return{timeStamp:u(),pointers:D,center:x(D),deltaX:_.deltaX,deltaY:_.deltaY}}function x(_){var D=_.length;if(D===1)return{x:l(_[0].clientX),y:l(_[0].clientY)};for(var U=0,J=0,ye=0;ye<D;)U+=_[ye].clientX,J+=_[ye].clientY,ye++;return{x:l(U/D),y:l(J/D)}}function N(_,D,U){return{x:D/_||0,y:U/_||0}}function H(_,D){return _===D?He:c(_)>=c(D)?_<0?G:S:D<0?w:M}function q(_,D,U){U||(U=Q);var J=D[U[0]]-_[U[0]],ye=D[U[1]]-_[U[1]];return Math.sqrt(J*J+ye*ye)}function ne(_,D,U){U||(U=Q);var J=D[U[0]]-_[U[0]],ye=D[U[1]]-_[U[1]];return Math.atan2(ye,J)*180/Math.PI}function $(_,D){return ne(D[1],D[0],ue)-ne(_[1],_[0],ue)}function K(_,D){return q(D[0],D[1],ue)/q(_[0],_[1],ue)}var te={mousedown:ee,mousemove:be,mouseup:fe},ie="mousedown",ge="mousemove mouseup";function Ee(){this.evEl=ie,this.evWin=ge,this.pressed=!1,oe.apply(this,arguments)}O(Ee,oe,{handler:function(D){var U=te[D.type];U&ee&&D.button===0&&(this.pressed=!0),U&be&&D.which!==1&&(U=fe),this.pressed&&(U&fe&&(this.pressed=!1),this.callback(this.manager,U,{pointers:[D],changedPointers:[D],pointerType:Xe,srcEvent:D}))}});var De={pointerdown:ee,pointermove:be,pointerup:fe,pointercancel:ke,pointerout:ke},Ge={2:re,3:Pe,4:Xe,5:ut},ot="pointerdown",ft="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(ot="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel");function Fn(){this.evEl=ot,this.evWin=ft,oe.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}O(Fn,oe,{handler:function(D){var U=this.store,J=!1,ye=D.type.toLowerCase().replace("ms",""),Ce=De[ye],Je=Ge[D.pointerType]||D.pointerType,jt=Je==re,Jt=se(U,D.pointerId,"pointerId");Ce&ee&&(D.button===0||jt)?Jt<0&&(U.push(D),Jt=U.length-1):Ce&(fe|ke)&&(J=!0),!(Jt<0)&&(U[Jt]=D,this.callback(this.manager,Ce,{pointers:U,changedPointers:[D],pointerType:Je,srcEvent:D}),J&&U.splice(Jt,1))}});var Ps={touchstart:ee,touchmove:be,touchend:fe,touchcancel:ke},$n="touchstart",Bi="touchstart touchmove touchend touchcancel";function sa(){this.evTarget=$n,this.evWin=Bi,this.started=!1,oe.apply(this,arguments)}O(sa,oe,{handler:function(D){var U=Ps[D.type];if(U===ee&&(this.started=!0),!!this.started){var J=Il.call(this,D,U);U&(fe|ke)&&J[0].length-J[1].length===0&&(this.started=!1),this.callback(this.manager,U,{pointers:J[0],changedPointers:J[1],pointerType:re,srcEvent:D})}}});function Il(_,D){var U=P(_.touches),J=P(_.changedTouches);return D&(fe|ke)&&(U=de(U.concat(J),"identifier")),[U,J]}var ri={touchstart:ee,touchmove:be,touchend:fe,touchcancel:ke},ii="touchstart touchmove touchend touchcancel";function Ys(){this.evTarget=ii,this.targetIds={},oe.apply(this,arguments)}O(Ys,oe,{handler:function(D){var U=ri[D.type],J=oi.call(this,D,U);J&&this.callback(this.manager,U,{pointers:J[0],changedPointers:J[1],pointerType:re,srcEvent:D})}});function oi(_,D){var U=P(_.touches),J=this.targetIds;if(D&(ee|be)&&U.length===1)return J[U[0].identifier]=!0,[U,U];var ye,Ce,Je=P(_.changedTouches),jt=[],Jt=this.target;if(Ce=U.filter(function(yn){return L(yn.target,Jt)}),D===ee)for(ye=0;ye<Ce.length;)J[Ce[ye].identifier]=!0,ye++;for(ye=0;ye<Je.length;)J[Je[ye].identifier]&&jt.push(Je[ye]),D&(fe|ke)&&delete J[Je[ye].identifier],ye++;if(jt.length)return[de(Ce.concat(jt),"identifier"),jt]}var ra=2500,Wi=25;function ai(){oe.apply(this,arguments);var _=E(this.handler,this);this.touch=new Ys(this.manager,_),this.mouse=new Ee(this.manager,_),this.primaryTouch=null,this.lastTouches=[]}O(ai,oe,{handler:function(D,U,J){var ye=J.pointerType==re,Ce=J.pointerType==Xe;if(!(Ce&&J.sourceCapabilities&&J.sourceCapabilities.firesTouchEvents)){if(ye)ia.call(this,U,J);else if(Ce&&oa.call(this,J))return;this.callback(D,U,J)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function ia(_,D){_&ee?(this.primaryTouch=D.changedPointers[0].identifier,ji.call(this,D)):_&(fe|ke)&&ji.call(this,D)}function ji(_){var D=_.changedPointers[0];if(D.identifier===this.primaryTouch){var U={x:D.clientX,y:D.clientY};this.lastTouches.push(U);var J=this.lastTouches,ye=function(){var Ce=J.indexOf(U);Ce>-1&&J.splice(Ce,1)};setTimeout(ye,ra)}}function oa(_){for(var D=_.srcEvent.clientX,U=_.srcEvent.clientY,J=0;J<this.lastTouches.length;J++){var ye=this.lastTouches[J],Ce=Math.abs(D-ye.x),Je=Math.abs(U-ye.y);if(Ce<=Wi&&Je<=Wi)return!0}return!1}var Vi=Le(o.style,"touchAction"),qi=Vi!==r,Ki="compute",Gi="auto",aa="manipulation",Zs="none",la="pan-x",ca="pan-y",Dl=Zw();function xu(_,D){this.manager=_,this.set(D)}xu.prototype={set:function(_){_==Ki&&(_=this.compute()),qi&&this.manager.element.style&&Dl[_]&&(this.manager.element.style[Vi]=_),this.actions=_.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var _=[];return h(this.manager.recognizers,function(D){I(D.options.enable,[D])&&(_=_.concat(D.getTouchAction()))}),Gw(_.join(" "))},preventDefaults:function(_){var D=_.srcEvent,U=_.offsetDirection;if(this.manager.session.prevented){D.preventDefault();return}var J=this.actions,ye=Y(J,Zs)&&!Dl[Zs],Ce=Y(J,ca)&&!Dl[ca],Je=Y(J,la)&&!Dl[la];if(ye){var jt=_.pointers.length===1,Jt=_.distance<2,yn=_.deltaTime<250;if(jt&&Jt&&yn)return}if(!(Je&&Ce)&&(ye||Ce&&U&R||Je&&U&F))return this.preventSrc(D)},preventSrc:function(_){this.manager.session.prevented=!0,_.preventDefault()}};function Gw(_){if(Y(_,Zs))return Zs;var D=Y(_,la),U=Y(_,ca);return D&&U?Zs:D||U?D?la:ca:Y(_,aa)?aa:Gi}function Zw(){if(!qi)return!1;var _={},D=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(U){_[U]=D?e.CSS.supports("touch-action",U):!0}),_}var Ml=1,es=2,Zi=4,mr=8,Xs=mr,ua=16,Fs=32;function Js(_){this.options=m({},this.defaults,_||{}),this.id=Te(),this.manager=null,this.options.enable=z(this.options.enable,!0),this.state=Ml,this.simultaneous={},this.requireFail=[]}Js.prototype={defaults:{},set:function(_){return m(this.options,_),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(_){if(d(_,"recognizeWith",this))return this;var D=this.simultaneous;return _=xl(_,this),D[_.id]||(D[_.id]=_,_.recognizeWith(this)),this},dropRecognizeWith:function(_){return d(_,"dropRecognizeWith",this)?this:(_=xl(_,this),delete this.simultaneous[_.id],this)},requireFailure:function(_){if(d(_,"requireFailure",this))return this;var D=this.requireFail;return _=xl(_,this),se(D,_)===-1&&(D.push(_),_.requireFailure(this)),this},dropRequireFailure:function(_){if(d(_,"dropRequireFailure",this))return this;_=xl(_,this);var D=se(this.requireFail,_);return D>-1&&this.requireFail.splice(D,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(_){return!!this.simultaneous[_.id]},emit:function(_){var D=this,U=this.state;function J(ye){D.manager.emit(ye,_)}U<mr&&J(D.options.event+Jd(U)),J(D.options.event),_.additionalEvent&&J(_.additionalEvent),U>=mr&&J(D.options.event+Jd(U))},tryEmit:function(_){if(this.canEmit())return this.emit(_);this.state=Fs},canEmit:function(){for(var _=0;_<this.requireFail.length;){if(!(this.requireFail[_].state&(Fs|Ml)))return!1;_++}return!0},recognize:function(_){var D=m({},_);if(!I(this.options.enable,[this,D])){this.reset(),this.state=Fs;return}this.state&(Xs|ua|Fs)&&(this.state=Ml),this.state=this.process(D),this.state&(es|Zi|mr|ua)&&this.tryEmit(D)},process:function(_){},getTouchAction:function(){},reset:function(){}};function Jd(_){return _&ua?"cancel":_&mr?"end":_&Zi?"move":_&es?"start":""}function Qd(_){return _==M?"down":_==w?"up":_==G?"left":_==S?"right":""}function xl(_,D){var U=D.manager;return U?U.get(_):_}function ps(){Js.apply(this,arguments)}O(ps,Js,{defaults:{pointers:1},attrTest:function(_){var D=this.options.pointers;return D===0||_.pointers.length===D},process:function(_){var D=this.state,U=_.eventType,J=D&(es|Zi),ye=this.attrTest(_);return J&&(U&ke||!ye)?D|ua:J||ye?U&fe?D|mr:D&es?D|Zi:es:Fs}});function Cl(){ps.apply(this,arguments),this.pX=null,this.pY=null}O(Cl,ps,{defaults:{event:"pan",threshold:10,pointers:1,direction:j},getTouchAction:function(){var _=this.options.direction,D=[];return _&R&&D.push(ca),_&F&&D.push(la),D},directionTest:function(_){var D=this.options,U=!0,J=_.distance,ye=_.direction,Ce=_.deltaX,Je=_.deltaY;return ye&D.direction||(D.direction&R?(ye=Ce===0?He:Ce<0?G:S,U=Ce!=this.pX,J=Math.abs(_.deltaX)):(ye=Je===0?He:Je<0?w:M,U=Je!=this.pY,J=Math.abs(_.deltaY))),_.direction=ye,U&&J>D.threshold&&ye&D.direction},attrTest:function(_){return ps.prototype.attrTest.call(this,_)&&(this.state&es||!(this.state&es)&&this.directionTest(_))},emit:function(_){this.pX=_.deltaX,this.pY=_.deltaY;var D=Qd(_.direction);D&&(_.additionalEvent=this.options.event+D),this._super.emit.call(this,_)}});function Cu(){ps.apply(this,arguments)}O(Cu,ps,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Zs]},attrTest:function(_){return this._super.attrTest.call(this,_)&&(Math.abs(_.scale-1)>this.options.threshold||this.state&es)},emit:function(_){if(_.scale!==1){var D=_.scale<1?"in":"out";_.additionalEvent=this.options.event+D}this._super.emit.call(this,_)}});function Au(){Js.apply(this,arguments),this._timer=null,this._input=null}O(Au,Js,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Gi]},process:function(_){var D=this.options,U=_.pointers.length===D.pointers,J=_.distance<D.threshold,ye=_.deltaTime>D.time;if(this._input=_,!J||!U||_.eventType&(fe|ke)&&!ye)this.reset();else if(_.eventType&ee)this.reset(),this._timer=f(function(){this.state=Xs,this.tryEmit()},D.time,this);else if(_.eventType&fe)return Xs;return Fs},reset:function(){clearTimeout(this._timer)},emit:function(_){this.state===Xs&&(_&&_.eventType&fe?this.manager.emit(this.options.event+"up",_):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}});function Nu(){ps.apply(this,arguments)}O(Nu,ps,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Zs]},attrTest:function(_){return this._super.attrTest.call(this,_)&&(Math.abs(_.rotation)>this.options.threshold||this.state&es)}});function Lu(){ps.apply(this,arguments)}O(Lu,ps,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:R|F,pointers:1},getTouchAction:function(){return Cl.prototype.getTouchAction.call(this)},attrTest:function(_){var D=this.options.direction,U;return D&(R|F)?U=_.overallVelocity:D&R?U=_.overallVelocityX:D&F&&(U=_.overallVelocityY),this._super.attrTest.call(this,_)&&D&_.offsetDirection&&_.distance>this.options.threshold&&_.maxPointers==this.options.pointers&&c(U)>this.options.velocity&&_.eventType&fe},emit:function(_){var D=Qd(_.offsetDirection);D&&this.manager.emit(this.options.event+D,_),this.manager.emit(this.options.event,_)}});function Al(){Js.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}O(Al,Js,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[aa]},process:function(_){var D=this.options,U=_.pointers.length===D.pointers,J=_.distance<D.threshold,ye=_.deltaTime<D.time;if(this.reset(),_.eventType&ee&&this.count===0)return this.failTimeout();if(J&&ye&&U){if(_.eventType!=fe)return this.failTimeout();var Ce=this.pTime?_.timeStamp-this.pTime<D.interval:!0,Je=!this.pCenter||q(this.pCenter,_.center)<D.posThreshold;this.pTime=_.timeStamp,this.pCenter=_.center,!Je||!Ce?this.count=1:this.count+=1,this._input=_;var jt=this.count%D.taps;if(jt===0)return this.hasRequireFailures()?(this._timer=f(function(){this.state=Xs,this.tryEmit()},D.interval,this),es):Xs}return Fs},failTimeout:function(){return this._timer=f(function(){this.state=Fs},this.options.interval,this),Fs},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Xs&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function pr(_,D){return D=D||{},D.recognizers=z(D.recognizers,pr.defaults.preset),new Ru(_,D)}pr.VERSION="2.1.0-pre3",pr.defaults={domEvents:!1,touchAction:Ki,enable:!0,inputTarget:null,inputClass:null,preset:[[Nu,{enable:!1}],[Cu,{enable:!1},["rotate"]],[Lu,{direction:R}],[Cl,{direction:R},["swipe"]],[Al],[Al,{event:"doubletap",taps:2},["tap"]],[Au]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Xw=1,em=2;function Ru(_,D){this.options=m({},pr.defaults,D||{}),this.options.inputTarget=this.options.inputTarget||_,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=_,this.input=he(this),this.touchAction=new xu(this,this.options.touchAction),tm(this,!0),h(this.options.recognizers,function(U){var J=this.add(new U[0](U[1]));U[2]&&J.recognizeWith(U[2]),U[3]&&J.requireFailure(U[3])},this)}Ru.prototype={set:function(_){return m(this.options,_),_.touchAction&&this.touchAction.update(),_.inputTarget&&(this.input.destroy(),this.input.target=_.inputTarget,this.input.init()),this},stop:function(_){this.session.stopped=_?em:Xw},recognize:function(_){var D=this.session;if(!D.stopped){this.touchAction.preventDefaults(_);var U,J=this.recognizers,ye=D.curRecognizer;(!ye||ye&&ye.state&Xs)&&(ye=D.curRecognizer=null);for(var Ce=0;Ce<J.length;)U=J[Ce],D.stopped!==em&&(!ye||U==ye||U.canRecognizeWith(ye))?U.recognize(_):U.reset(),!ye&&U.state&(es|Zi|mr)&&(ye=D.curRecognizer=U),Ce++}},get:function(_){if(_ instanceof Js)return _;for(var D=this.recognizers,U=0;U<D.length;U++)if(D[U].options.event==_)return D[U];return null},add:function(_){if(d(_,"add",this))return this;var D=this.get(_.options.event);return D&&this.remove(D),this.recognizers.push(_),_.manager=this,this.touchAction.update(),_},remove:function(_){if(d(_,"remove",this))return this;if(_=this.get(_),_){var D=this.recognizers,U=se(D,_);U!==-1&&(D.splice(U,1),this.touchAction.update())}return this},on:function(_,D){if(_!==r&&D!==r){var U=this.handlers;return h(V(_),function(J){U[J]=U[J]||[],U[J].push(D)}),this}},off:function(_,D){if(_!==r){var U=this.handlers;return h(V(_),function(J){D?U[J]&&U[J].splice(se(U[J],D),1):delete U[J]}),this}},emit:function(_,D){this.options.domEvents&&Jw(_,D);var U=this.handlers[_]&&this.handlers[_].slice();if(!(!U||!U.length)){D.type=_,D.preventDefault=function(){D.srcEvent.preventDefault()};for(var J=0;J<U.length;)U[J](D),J++}},destroy:function(){this.element&&tm(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function tm(_,D){var U=_.element;if(U.style){var J;h(_.options.cssProps,function(ye,Ce){J=Le(U.style,Ce),D?(_.oldCssProps[J]=U.style[J],U.style[J]=ye):U.style[J]=_.oldCssProps[J]||""}),D||(_.oldCssProps={})}}function Jw(_,D){var U=n.createEvent("Event");U.initEvent(_,!0,!0),U.gesture=D,D.target.dispatchEvent(U)}m(pr,{INPUT_START:ee,INPUT_MOVE:be,INPUT_END:fe,INPUT_CANCEL:ke,STATE_POSSIBLE:Ml,STATE_BEGAN:es,STATE_CHANGED:Zi,STATE_ENDED:mr,STATE_RECOGNIZED:Xs,STATE_CANCELLED:ua,STATE_FAILED:Fs,DIRECTION_NONE:He,DIRECTION_LEFT:G,DIRECTION_RIGHT:S,DIRECTION_UP:w,DIRECTION_DOWN:M,DIRECTION_HORIZONTAL:R,DIRECTION_VERTICAL:F,DIRECTION_ALL:j,Manager:Ru,Input:oe,TouchAction:xu,TouchInput:Ys,MouseInput:Ee,PointerEventInput:Fn,TouchMouseInput:ai,SingleTouchInput:sa,Recognizer:Js,AttrRecognizer:ps,Tap:Al,Pan:Cl,Swipe:Lu,Pinch:Cu,Rotate:Nu,Press:Au,on:W,off:C,each:h,merge:b,extend:p,assign:m,inherit:O,bindFn:E,prefixed:Le});var Qw=typeof e<"u"?e:typeof self<"u"?self:{};Qw.Hammer=pr,t.exports?t.exports=pr:e[s]=pr}(window,document,"Hammer")}(Ef)),Ef.exports}var Qx=Jx();const Sf=Mw(Qx);function xw(t){return $h()?(p0(t),!0):!1}const _f=new WeakMap,eC=(...t)=>{var e;const n=t[0],s=(e=td())==null?void 0:e.proxy;if(s==null&&!Gh())throw new Error("injectLocal must be called in setup");return s&&_f.has(s)&&n in _f.get(s)?_f.get(s)[n]:hs(...t)},tC=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const nC=Object.prototype.toString,sC=t=>nC.call(t)==="[object Object]",Jc=()=>{};function Cw(t,e){function n(...s){return new Promise((r,i)=>{Promise.resolve(t(()=>e.apply(this,s),{fn:e,thisArg:this,args:s})).then(r).catch(i)})}return n}function rC(t,e={}){let n,s,r=Jc;const i=l=>{clearTimeout(l),r(),r=Jc};let o;return l=>{const c=qs(t),u=qs(e.maxWait);return n&&i(n),c<=0||u!==void 0&&u<=0?(s&&(i(s),s=null),Promise.resolve(l())):new Promise((f,d)=>{r=e.rejectOnCancel?d:f,o=l,u&&!s&&(s=setTimeout(()=>{n&&i(n),s=null,f(o())},u)),n=setTimeout(()=>{s&&i(s),s=null,f(l())},c)})}}function iC(...t){let e=0,n,s=!0,r=Jc,i,o,a,l,c;!Rt(t[0])&&typeof t[0]=="object"?{delay:o,trailing:a=!0,leading:l=!0,rejectOnCancel:c=!1}=t[0]:[o,a=!0,l=!0,c=!1]=t;const u=()=>{n&&(clearTimeout(n),n=void 0,r(),r=Jc)};return d=>{const h=qs(o),y=Date.now()-e,m=()=>i=d();return u(),h<=0?(e=Date.now(),m()):(y>h&&(l||!s)?(e=Date.now(),m()):a&&(i=new Promise((p,b)=>{r=c?b:p,n=setTimeout(()=>{e=Date.now(),s=!0,p(m()),u()},Math.max(0,h-y))})),!l&&!n&&(n=setTimeout(()=>s=!0,h)),s=!1,i)}}function qy(t){return t.endsWith("rem")?Number.parseFloat(t)*16:Number.parseFloat(t)}function Of(t){return Array.isArray(t)?t:[t]}function oC(t,e=200,n={}){return Cw(rC(e,n),t)}function aC(t,e=200,n=!1,s=!0,r=!1){return Cw(iC(e,n,s,r),t)}function lC(t,e,n){return rt(t,e,{...n,immediate:!0})}const jd=tC?window:void 0;function Ah(t){var e;const n=qs(t);return(e=n==null?void 0:n.$el)!=null?e:n}function cC(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},s=(a,l,c,u)=>(a.addEventListener(l,c,u),()=>a.removeEventListener(l,c,u)),r=Z(()=>{const a=Of(qs(t[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),i=lC(()=>{var a,l;return[(l=(a=r.value)==null?void 0:a.map(c=>Ah(c)))!=null?l:[jd].filter(c=>c!=null),Of(qs(r.value?t[1]:t[0])),Of(B(r.value?t[2]:t[1])),qs(r.value?t[3]:t[2])]},([a,l,c,u])=>{if(n(),!(a!=null&&a.length)||!(l!=null&&l.length)||!(c!=null&&c.length))return;const f=sC(u)?{...u}:u;e.push(...a.flatMap(d=>l.flatMap(h=>c.map(y=>s(d,h,y,f)))))},{flush:"post"}),o=()=>{i(),n()};return xw(n),o}function uC(){const t=Da(!1),e=td();return e&&ni(()=>{t.value=!0},e),t}function Aw(t){const e=uC();return Z(()=>(e.value,!!t()))}const fC=Symbol("vueuse-ssr-width");function hC(){const t=Gh()?eC(fC,null):null;return typeof t=="number"?t:void 0}function Ky(t,e={}){const{window:n=jd,ssrWidth:s=hC()}=e,r=Aw(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),i=Da(typeof s=="number"),o=Da(),a=Da(!1),l=c=>{a.value=c.matches};return Fi(()=>{if(i.value){i.value=!r.value;const c=qs(t).split(",");a.value=c.some(u=>{const f=u.includes("not all"),d=u.match(/\\(\\s*min-width:\\s*(-?\\d+(?:\\.\\d*)?[a-z]+\\s*)\\)/),h=u.match(/\\(\\s*max-width:\\s*(-?\\d+(?:\\.\\d*)?[a-z]+\\s*)\\)/);let y=!!(d||h);return d&&y&&(y=s>=qy(d[1])),h&&y&&(y=s<=qy(h[1])),f?!y:y});return}r.value&&(o.value=n.matchMedia(qs(t)),a.value=o.value.matches)}),cC(o,"change",l,{passive:!0}),Z(()=>a.value)}function dC(t,e,n={}){const{window:s=jd,...r}=n;let i;const o=Aw(()=>s&&"ResizeObserver"in s),a=()=>{i&&(i.disconnect(),i=void 0)},l=Z(()=>{const f=qs(t);return Array.isArray(f)?f.map(d=>Ah(d)):[Ah(f)]}),c=rt(l,f=>{if(a(),o.value&&s){i=new ResizeObserver(e);for(const d of f)d&&i.observe(d,r)}},{immediate:!0,flush:"post"}),u=()=>{a(),c()};return xw(u),{isSupported:o,stop:u}}const Vd=si("canPan",()=>({canPan:_e(!0)})),mC=(t,e=()=>{})=>{const n=Et();let s=()=>{};const r=_e(!1);let i=null,o,a,l,c,u=_e(),f,d,h;const y=Vd(),m=Z(()=>u.value!==void 0);let p;const b=P=>{if(P.preventDefault(),i){const de=o+c-P.center.y;let Le=P.scale;if(i*Le>Xc&&(Le=1),Le!==1&&n.setPageScale(i*P.scale)){const Re=a+l-P.center.x;t.value.scrollLeft=Re,t.value.scrollTop=de,e()}}else{r.value=!0,i=n.pageScale,o=t.value.scrollTop,a=t.value.scrollLeft,l=P.center.x,c=P.center.y;const de=n.dateFromClientLeft(l),Le=n.distanceBetweenDates(de,n.referenceDate);n.referenceDate=de,a=t.value.scrollLeft+Le,t.value.scrollLeft=a}},O=P=>{P.preventDefault(),r.value=!1,i=null,a=null,o=null,l=null,c=null},z={startGesture:P=>{if(r.value=!0,!i){i=n.pageScale,o=t.value.scrollTop,a=t.value.scrollLeft,l=P.origin.x-(t.value.offsetLeft+n.leftInsetWidth),c=P.origin.y;const de=t.value.getBoundingClientRect(),Le=de.width/n.viewport.width,Re=n.dateFromClientLeft((P.origin.x-de.left)/Le),Te=n.distanceBetweenDates(Re,n.referenceDate);n.referenceDate=Re,t.value.scrollLeft=t.value.scrollLeft+Te}},doGesture:P=>{const de=i*P.scale;if(!(de>Xc)){if(r.value=!0,n.setPageScale(de)){const Le=o+c-P.origin.y;t.value.scrollTop=Le,e()}i=null,a=null,o=null,l=null,c=null,r.value=!1,s()}}},W=P=>{P.touches.length>=2&&(p.get("pinch").set({enable:!0}),P.preventDefault())},C=P=>{P.touches.length<=2&&p.get("pinch").set({enable:!1})},L=P=>{y.canPan&&typeof u.value>"u"&&(P.preventDefault(),d=t.value.scrollLeft,h=t.value.scrollTop,u.value=P.srcEvent.clientX,f=P.srcEvent.clientY)},Y=P=>{P.maxPointers>=2||!y.canPan||!u.value||P.isFinal||(t.value.scrollLeft=d+u.value-P.srcEvent.clientX,t.value.scrollTop=h+f-P.srcEvent.clientY)},V=P=>{u.value=void 0,f=void 0,d=void 0,h=void 0},se=()=>{p=new Sf.Manager(t.value,{recognizers:[[Sf.Pinch,{enable:!0,touchAction:"pan-x pan-y"}],[Sf.Pan,{enable:!0}]]}),p.on("pinch",aC(P=>b(P),20,!1,!0)),p.on("pinchend",O),p.on("panstart",L),p.on("pan",Y),p.on("panend",V)};return ni(()=>{s=Xx(t.value,z),se()}),ou(()=>{var P,de;(P=t.value)==null||P.removeEventListener("touchstart",W),(de=t.value)==null||de.removeEventListener("touchend",C)}),{isZooming:r,isPanning:m}},pC=t=>{const e=Hi(),n=Et(),s=_e(0),r=a=>{const l=t.value.getBoundingClientRect(),c=n.viewport,u=l.width/c.width;s.value=(a.clientX-l.left)/u},i=a=>{const l=e.rangeFromOffsetLeft(a),c=e.markers.find(u=>+l[0].dateTime==+u.dateTime);e.setHoveringMarker(c),e.setRange(l)};rt(s,i);const o=()=>i(s.value);return rt(()=>n.pageScale,o),ni(()=>{var a;return(a=t.value)==null?void 0:a.addEventListener("mousemove",r)}),ou(()=>{var a;return(a=t.value)==null?void 0:a.removeEventListener("mousemove",r)}),{trigger:o}},qd=si("collapse",()=>{const t=Et(),e=_e(new Set),n=f=>{e.value.add(f.join(","))},s=f=>{e.value.delete(f.join(","))},r=f=>{const d=f.join(",");e.value.has(d)?e.value.delete(d):e.value.add(d)},i=(f,d)=>{const h=typeof f=="string"?f:f.join(",");d?e.value.add(h):e.value.delete(h)};return{collapsed:e,isCollapsed:f=>{const d=typeof f=="string"?f:f.join(",");for(const h of e.value.keys())if(d===h)return!0;return!1},isCollapsedChild:f=>{const d=typeof f=="string"?f:f.join(",");for(const h of e.value.keys())if(d!==h&&d.startsWith(`${h},`))return!0;return!1},isCollapsedChildOf:f=>{const d=typeof f=="string"?f:f.join(",");let h;for(const y of e.value.keys())d!==y&&d.startsWith(`${y},`)&&(!h||y.length<h.length)&&(h=y);return h==null?void 0:h.split(",").map(y=>parseInt(y))},collapse:n,setCollapsed:i,toggleCollapsed:r,expand:s,collapseAll:()=>{for(const{path:f,eventy:d}of Po(t.transformedEvents))Yn(d)||i(f,!0)},expandAll:()=>{for(const{path:f,eventy:d}of Po(t.transformedEvents))Yn(d)||i(f,!1)}}}),yC=t=>t[t.length-1]===0?t.slice(0,-1):[...t.slice(0,-1),t[t.length-1]-1],Kd=si("nodes",()=>{const t=Et(),e=qd(),n=Z(()=>t.transformedEvents),s=Z(()=>pI(t.transformedEvents)),r=(p,b,O)=>{const E=b.join(","),I=O.get(E);if(I)return I;const z=L=>(O.set(E,L),L);if(e.isCollapsed(E)||Yn(p))return z(0);const C=p.children.reduce((L,Y,V)=>L+1+r(Y,[...b,V],O),0);return z(C)};let i=0;const o=Ni(new Map),a=p=>{const b=p.map(E=>E.path.join(",")),O=[];for(const E of o.keys())b.includes(E)||(O.push(o.get(E)),o.delete(E));for(const E of b)if(!o.has(E)){const I=O.pop();typeof I<"u"?o.set(E,I):o.set(E,i++)}return p.map(E=>({...E,key:""+o.get(E.path.join(","))}))},l=Z(()=>{const p=[],b=[];for(const{path:O,eventy:E}of s.value){if(!E)break;const I=O.join(",");if(Yn(E)){const z={eventy:E,path:O};if(t.scrollToPath&&jo(O,t.scrollToPath))p.push(z);else{const W=h.value.get(I)||0,C=t.yOffset+W*t.rowHeight,L=t.viewport;if(C>L.top-100&&C<L.top+L.height+100)if(t.mode==="gantt")p.push(z);else{const Y=Sl(z.eventy,_l),V=t.pageScaleBy24*t.scalelessDistanceFromReferenceDate(Y.fromDateTime),se=t.pageScaleBy24*t.scalelessDistanceBetweenDates(Y.fromDateTime,Y.toDateTime);(V<L.left+L.width+50||L.left<V+se+50)&&p.push(z)}}}else{if(e.isCollapsedChild(O))continue;if(O.length>0){const z=h.value.get(I)||0,W=f.value.get(I)||0,C=t.yOffset+z*t.rowHeight,L=t.rowHeight+W*t.rowHeight,Y=t.viewport,V=C+L,se=C,P=Y.top-100,de=Y.top+Y.height+100;if(se>de)continue;if(V<P)continue;b.push({path:O,eventy:E})}}}return[a(p),b]}),c=Ni(new Map),u=Z(()=>{const p=l.value[1].map(O=>O.path.join(",")),b=[];for(const O of c.keys())p.includes(O)||(b.push(c.get(O)),c.delete(O));for(const O of p)if(!c.has(O)){const E=b.pop();typeof E<"u"?c.set(O,E):c.set(O,i++)}return c}),f=Z(()=>{const p=new Map;for(const{path:b,eventy:O}of s.value)r(O,b,p);return p}),d=(p,b,O,E)=>{const I=b.join(","),z=Y=>(O.set(I,Y),Y);if(!b.length)return z(0);const W=O.get(I);if(typeof W<"u")return W;const C=yC(b).join(",");let L=1+O.get(C);return C.length&&I.length&&C.split(",").length===I.split(",").length&&(L+=E.get(C)||0),z(L)},h=Z(()=>{const p=new Map;for(const{path:b,eventy:O}of s.value)d(O,b,p,f.value);return p}),y=Z(()=>{let p=0;for(const b of h.value.values())b>p&&(p=b);return p}),m=Z(()=>s.value.length?`${s.value.length*t.rowHeight+500}px`:"100%");return{nodes:n,nodeArray:s,visibleNodes:l,childrenMap:f,predecessorMap:h,sectionKeys:u,height:y,viewHeight:m}}),Nw=t=>{const e=Et(),n=qd(),s=Kd(),r=Z(()=>n.isCollapsedChildOf(B(t))),i=Z(()=>!!r.value);return{top:Z(()=>{const a=s.predecessorMap.get(r.value?r.value.join(","):B(t).join(","));return e.yOffset+a*e.rowHeight}),isCollapsed:i}},gC=t=>{const e=Et(),n=Z(()=>e.transformedEvents),s=_e();return Fi(()=>{if(!t){s.value=void 0;return}const r=B(t);if(!r){s.value=void 0;return}let i;i=n.value,s.value=i?La(i,r):void 0}),s},Lw=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},vC=()=>({isTouchscreen:Ky("(pointer: course)"),canHover:Ky("(hover)")}),al=xt({__name:"SettingsButton",props:{hoverHintTitle:{},hoverHintShortcut:{},selected:{type:Boolean},hoverHintLeft:{}},emits:["click"],setup(t,{emit:e}){const n=e,s=_e(!1),{canHover:r}=vC(),i=r.value?{mouseover:()=>{s.value=!0},mouseleave:()=>{s.value=!1}}:{},o=()=>{s.value=!1,n("click")};return(a,l)=>(ze(),Qe("button",Ri({onClick:o,class:"p-1 gap-1 flex flex-row items-center dark:disabled:text-zinc-600 disabled:text-zinc-400 hover:dark:bg-zinc-700 hover:bg-zinc-200 text-xs rounded-sm"},_T(B(i)),{onMousedown:l[0]||(l[0]=Rn(()=>{},["stop"])),onTouchstart:l[1]||(l[1]=Rn(()=>{},["stop"])),class:{"text-indigo-600 outline-2 outline outline-indigo-600 dark:text-indigo-400 dark:outline-indigo-400":a.selected}}),[K0(a.$slots,"default")],16))}}),wC={class:"flex-col hidden lg:flex items-center justify-center shrink px-1"},bC=["value"],TC=xt({__name:"TimelineScale",setup(t){const e=Et();function n(p){let b=0,O=1e3,E=Math.log($y);const z=(Math.log(Xc)-E)/(O-b);return(Math.log(p)-E)/z+b}const s=_e(n(e.pageScale)),r=p=>e.setPageScale(p);rt(()=>e.pageScale,p=>s.value=n(p));const i=p=>{const b=parseInt(p.target.value);let O=0,E=1e3,I=Math.log($y);const W=(Math.log(Xc)-I)/(E-O),C=Math.exp(I+W*(b-O));r(C)},o=()=>e.setStartedWidthChange(!0),a=()=>e.setStartedWidthChange(!1);let l,c;const u=_e(!1),f=_e(!1);rt(u,p=>{if(p){e.setStartedWidthChange(!0);const b=()=>{var E;Ws(()=>{e.setPageScale(e.pageScale*1.02)}),l=setTimeout(b,10);const O=(E=e.viewportGetter)==null?void 0:E.call(e);O&&e.setViewport(O)};b()}else clearTimeout(l),e.setStartedWidthChange(!1)}),rt(f,p=>{if(p){e.setStartedWidthChange(!0);const b=()=>{var E;Ws(()=>{e.setPageScale(e.pageScale*.98)}),c=setTimeout(b,10);const O=(E=e.viewportGetter)==null?void 0:E.call(e);O&&e.setViewport(O)};b()}else clearTimeout(c),e.setStartedWidthChange(!1)});const d=p=>{f.value=!0,u.value=!1},h=p=>{f.value=!1,u.value=!1},y=p=>{u.value=!0,f.value=!1},m=p=>{f.value=!1,u.value=!1};return(p,b)=>(ze(),Qe(gt,null,[ct(al,{onMousedown:Rn(d,["stop"]),onTouchstart:Rn(d,["stop"]),onMouseup:h,onTouchend:h,onMouseout:h,onMouseleave:h,"hover-hint-title":"Zoom out"},{default:Gr(()=>b[0]||(b[0]=[Ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4","stroke-width":"1",stroke:"currentColor"},[Ne("path",{"fill-rule":"evenodd",d:"M3 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H3.75A.75.75 0 013 10z","clip-rule":"evenodd"})],-1)])),_:1}),Ne("div",wC,[Ne("input",{type:"range",min:"0",max:"800",style:{width:"5rem",height:"1.125rem"},value:s.value,onInput:i,class:"bg-transparent shrink",onMousedown:Rn(o,["stop"]),onMouseup:Rn(a,["stop"]),onTouchstart:Rn(o,["stop"]),"on:touchEnd":Rn(a,["stop"])},null,40,bC)]),ct(al,{onMousedown:Rn(y,["stop"]),onTouchstart:Rn(y,["stop"]),onMouseup:m,onTouchend:m,onMouseout:m,onMouseleave:m,"hover-hint-title":"Zoom in"},{default:Gr(()=>b[1]||(b[1]=[Ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4","stroke-width":"1",stroke:"currentColor"},[Ne("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1)])),_:1})],64))}}),kC=Lw(TC,[["__scopeId","data-v-03bc268c"]]),EC={class:"text-xs mt-px shrink-0"},SC=xt({__name:"UserRanges",setup(t){const e=Et();return ni(()=>{e.userRanges.length?e.rangeToJumpTo=e.userRanges[0]:e.rangeToJumpTo={fromDateTime:ce.now().minus({years:1}),toDateTime:ce.now().plus({years:1})}}),(n,s)=>(ze(!0),Qe(gt,null,xi(B(e).userRanges,r=>(ze(),pn(al,{onClick:i=>B(e).rangeToJumpTo=r},{default:Gr(()=>[Ne("span",EC,ve(r.title),1)]),_:2},1032,["onClick"]))),256))}});/**\n* @vue/server-renderer v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/const _C=Yi(",key,ref,innerHTML,textContent,ref_key,ref_for");function OC(t,e){let n="";for(const s in t){if(_C(s)||Wo(s)||e==="textarea"&&s==="value")continue;const r=t[s];s==="class"?n+=` class="${DC(r)}"`:s==="style"?n+=` style="${MC(r)}"`:s==="className"?n+=` class="${String(r)}"`:n+=IC(s,r,e)}return n}function IC(t,e,n){if(!Eb(e))return"";const s=n&&(n.indexOf("-")>0||yb(n))?t:kb[t]||t.toLowerCase();return wb(s)?Fh(e)?` ${s}`:"":Tb(s)?e===""?` ${s}`:` ${s}="${Br(e)}"`:(console.warn(`[@vue/server-renderer] Skipped rendering unsafe attribute name: ${s}`),"")}function DC(t){return Br(xn(t))}function MC(t){if(!t)return"";if(wt(t))return Br(t);const e=mn(t);return Br(db(e))}function xC(t,e,n,s,r){t("\\x3C!--teleport start-->");const i=r.appContext.provides[Xh],o=i.__teleportBuffers||(i.__teleportBuffers={}),a=o[n]||(o[n]=[]),l=a.length;let c;if(s)e(t),c="\\x3C!--teleport start anchor-->\\x3C!--teleport anchor-->";else{const{getBuffer:u,push:f}=Rw();f("\\x3C!--teleport start anchor-->"),e(f),f("\\x3C!--teleport anchor-->"),c=u()}a.splice(l,0,c),t("\\x3C!--teleport end-->")}{const t=fl(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};e("__VUE_INSTANCE_SETTERS__",n=>n),e("__VUE_SSR_SETTERS__",n=>n)}function CC(t,e){throw new Error("On-the-fly template compilation is not supported in the ESM build of @vue/server-renderer. All templates must be pre-compiled into render functions.")}const{createComponentInstance:AC,setCurrentRenderingInstance:Gy,setupComponent:NC,renderComponentRoot:Zy,normalizeVNode:LC}=Eg;function Rw(){let t=!1;const e=[];return{getBuffer(){return e},push(n){const s=wt(n);if(t&&s){e[e.length-1]+=n;return}e.push(n),t=s,(Co(n)||Ue(n)&&n.hasAsync)&&(e.hasAsync=!0)}}}function Pw(t,e=null,n){const s=t.component=AC(t,e,null),r=NC(s,!0),i=Co(r);let o=s.sp;return i||o?Promise.resolve(r).then(()=>{if(i&&(o=s.sp),o)return Promise.all(o.map(l=>l.call(s.proxy)))}).catch(Jn).then(()=>Xy(s,n)):Xy(s,n)}function Xy(t,e){const n=t.type,{getBuffer:s,push:r}=Rw();if(We(n)){let i=Zy(t);if(!n.props)for(const o in t.attrs)o.startsWith("data-v-")&&((i.props||(i.props={}))[o]="");Qc(r,t.subTree=i,t,e)}else{(!t.render||t.render===Jn)&&!t.ssrRender&&!n.ssrRender&&wt(n.template)&&(n.ssrRender=CC(n.template));const i=t.ssrRender||n.ssrRender;if(i){let o=t.inheritAttrs!==!1?t.attrs:void 0,a=!1,l=t;for(;;){const u=l.vnode.scopeId;u&&(a||(o={...o},a=!0),o[u]="");const f=l.parent;if(f&&f.subTree&&f.subTree===l.vnode)l=f;else break}if(e){a||(o={...o});const u=e.trim().split(" ");for(let f=0;f<u.length;f++)o[u[f]]=""}const c=Gy(t);try{i(t.proxy,r,t,o,t.props,t.setupState,t.data,t.ctx)}finally{Gy(c)}}else t.render&&t.render!==Jn?Qc(r,t.subTree=Zy(t),t,e):(n.name||n.__file,r("\\x3C!---->"))}return s()}function Qc(t,e,n,s){const{type:r,shapeFlag:i,children:o,dirs:a,props:l}=e;switch(a&&(e.props=PC(e,l,a)),r){case Wr:t(Br(o));break;case tn:t(o?`\\x3C!--${Ob(o)}-->`:"\\x3C!---->");break;case vo:t(o);break;case gt:e.slotScopeIds&&(s=(s?s+" ":"")+e.slotScopeIds.join(" ")),t("\\x3C!--[-->"),Gd(t,o,n,s),t("\\x3C!--]-->");break;default:i&1?RC(t,e,n,s):i&6?t(Pw(e,n,s)):i&64?YC(t,e,n,s):i&128&&Qc(t,e.ssContent,n,s)}}function Gd(t,e,n,s){for(let r=0;r<e.length;r++)Qc(t,LC(e[r]),n,s)}function RC(t,e,n,s){const r=e.type;let{props:i,children:o,shapeFlag:a,scopeId:l}=e,c=`<${r}`;i&&(c+=OC(i,r)),l&&(c+=` ${l}`);let u=n,f=e;for(;u&&f===u.subTree;)f=u.vnode,f.scopeId&&(c+=` ${f.scopeId}`),u=u.parent;if(s&&(c+=` ${s}`),t(c+">"),!gb(r)){let d=!1;i&&(i.innerHTML?(d=!0,t(i.innerHTML)):i.textContent?(d=!0,t(Br(i.textContent))):r==="textarea"&&i.value&&(d=!0,t(Br(i.value)))),d||(a&8?t(Br(o)):a&16&&Gd(t,o,n,s)),t(`</${r}>`)}}function PC(t,e,n){const s=[];for(let r=0;r<n.length;r++){const i=n[r],{dir:{getSSRProps:o}}=i;if(o){const a=o(i,t);a&&s.push(a)}}return Ri(e||{},...s)}function YC(t,e,n,s){const r=e.props&&e.props.to,i=e.props&&e.props.disabled;if(!r)return[];if(!wt(r))return[];xC(t,o=>{Gd(o,e.children,n,s)},r,i||i==="",n)}const{isVNode:FC}=Eg;function Ec(t,e,n){if(!t.hasAsync)return e+Fw(t);let s=e;for(let r=n;r<t.length;r+=1){const i=t[r];if(wt(i)){s+=i;continue}if(Co(i))return i.then(a=>(t[r]=a,Ec(t,s,r)));const o=Ec(i,s,0);if(Co(o))return o.then(a=>(t[r]=a,Ec(t,"",r)));s=o}return s}function Yw(t){return Ec(t,"",0)}function Fw(t){let e="";for(let n=0;n<t.length;n++){let s=t[n];wt(s)?e+=s:e+=Fw(s)}return e}async function $w(t,e={}){if(FC(t))return $w(Mg({render:()=>t}),e);const n=ct(t._component,t._props);n.appContext=t._context,t.provide(Xh,e);const s=await Pw(n),r=await Yw(s);if(await $C(e),e.__watcherHandles)for(const i of e.__watcherHandles)i();return r}async function $C(t){if(t.__teleportBuffers){t.teleports=t.teleports||{};for(const e in t.__teleportBuffers)t.teleports[e]=await Yw(await Promise.all([t.__teleportBuffers[e]]))}}Hk();const Uw=t=>{const e=_e(),n=Et();return Fi(()=>{const s=B(t);let r=s.tags;const i=s.source;e.value=r?n.colors[i||"default"][r[0]]:void 0}),{color:e}},UC=()=>{const t=new Hc({max:300});return{getWeekday:n=>{const s=`${n.year}-${n.month}-${n.day}`,r=t.get(s);if(r)return r;const i=Xa(n);return t.set(s,i.weekday),i}}},zC=["d"],HC=["d"],BC=xt({__name:"SvgMarker",props:{m:{}},setup(t){const e=Hi(),n=Et(),s=t,{getWeekday:r}=UC();Z(()=>n.darkMode);const i=Z(()=>n.pageScaleBy24*(s.m.accumulated-s.m.size)),o=Z(()=>n.viewport.top),a=Z(()=>n.viewport.height),l=Z(()=>`M ${i.value} 0 L ${i.value} ${o.value+a.value*3}`),c=Z(()=>{const{top:p,height:b}=n.viewport;return`M ${i.value} ${p} L ${i.value} ${b*3+p} L ${i.value+n.pageScaleBy24*s.m.size} ${b*3+p} L ${i.value+n.pageScaleBy24*s.m.size} ${p} Z`}),u=Z(()=>{var p;return e.hoveringMarker&&+((p=e.hoveringMarker)==null?void 0:p.dateTime)==+s.m.dateTime}),f=Z(()=>Hn((d.value-.45)*5)),d=Z(()=>n.weights[Ch(s.m.dateTime)]),h=Z(()=>{if(n.weights[Zc.DAY]>.3){const p=r(s.m.dateTime);return typeof p=="number"&&p===6||p===7||p.weekday===6||p.weekday===7}return!1}),y=Z(()=>h.value?Math.min(n.weights[Zc.DAY]*.3,.5):0),m=Z(()=>{let p="";return u.value&&(p+="marker-hovering "),h.value&&(p+="marker-weekend "),p});return(p,b)=>(ze(),Qe(gt,null,[Ne("path",{class:xn(["marker",m.value]),d:c.value,style:mn(y.value?{opacity:y.value}:{})},null,14,zC),Ne("path",{style:mn({opacity:u.value?1:f.value}),d:l.value,class:xn(["marker-stroke",u.value?"marker-stroke-hovering":""])},null,14,HC)],64))}}),WC=["d"],jC=xt({__name:"SvgNow",setup(t){const e=Et(),n=_e(ce.now()),s=()=>{n.value=ce.now(),setTimeout(()=>s(),1e3*6)};ni(()=>{s()});const r=Z(()=>{const o=e.distanceFromBaselineLeftmostDate(n.value),a=e.viewport.width;return Math.min(Math.max(0,o),a*6)}),i=Z(()=>e.viewport);return(o,a)=>B(e).hideNowLine?Gn("",!0):(ze(),Qe("path",{key:0,class:"nowLine",d:`M ${r.value} 0 L ${r.value} ${i.value.top+i.value.height*3}`},null,8,WC))}}),VC=["d"],qC=xt({__name:"SvgEra",props:{era:{}},setup(t){const e=Et(),n=Z(()=>e.viewport),s=t,r=Z(()=>{let{left:a,width:l}=s.era;const c=Math.max(1,l),u=l<1?a-(1-l)/2:a,f=n.value.top+n.value.height*3;return`M ${u} 0 L ${u} ${f} L ${u+c} ${f} L ${u+c} 0`}),i=Z(()=>s.era.backgroundColor??""),o=Z(()=>s.era.borderColor??"");return(a,l)=>(ze(),Qe("path",{class:"era",d:r.value,style:mn({stroke:o.value,fill:i.value})},null,12,VC))}}),di=t=>t.toLocaleString(ce.TIME_24_WITH_SECONDS),Cn=t=>t.toLocaleString(ce.TIME_24_SIMPLE),at=t=>t.year<0?`${-t.year} BCE`:t.year,Un=t=>t.toISODate(),rc=t=>`${t.day} ${t.monthShort}`,ic=t=>t.toLocaleString(ce.DATETIME_SHORT_WITH_SECONDS),If=t=>`${t.monthShort} ${t.year}`,et=()=>"",KC=[[di,di,di,di,ic,ic,ic,ic,Un,at,at],[di,di,di,Cn,Cn,rc,Un,Un,Un,at,at],[t=>t.second,Cn,Cn,Cn,Cn,rc,Un,Un,Un,at,at],[t=>t.second,t=>t.minute,t=>t.minute,Cn,Cn,rc,Un,Un,Un,at,at],[et,t=>t.minute,t=>t.minute,Cn,Cn,rc,Un,Un,Un,at,at],[et,et,et,Cn,t=>t.hour,t=>t.day,If,If,If,at,at],[et,et,et,Cn,et,t=>t.day,t=>t.monthShort,at,at,at,at],[et,et,et,Cn,et,et,t=>t.month,at,at,at,at],[et,et,et,Cn,et,et,et,at,at,at,at],[et,et,et,et,et,et,et,at,at,at,at],[et,et,et,et,et,et,et,at,at,at,at]],GC={class:"marker-top"},ZC=["stroke-opacity","d"],XC=["x","y","opacity"],JC=["x","y"],zw=xt({__name:"SvgMarkerFront",props:{m:{},external:{type:Boolean}},setup(t){const e=Hi(),n=Et(),s=t;Z(()=>n.darkMode);const r=Z(()=>n.pageScaleBy24*(s.m.accumulated-s.m.size)),i=Z(()=>KC[o.value][a.value](s.m.dateTime)),o=Z(()=>{for(let h=0;h<n.weights.length;h++)if(n.weights[h]>Dw)return h;return Zc.DECADE}),a=Z(()=>Ch(s.m.dateTime)),l=Z(()=>{var h;return e.hoveringMarker&&+((h=e.hoveringMarker)==null?void 0:h.dateTime)==+s.m.dateTime}),c=Z(()=>{const h=s.m.dateTime;return o.value>5?h.year:o.value>3?h.toLocaleString(ce.DATE_HUGE):h.toLocaleString(ce.DATETIME_HUGE_WITH_SECONDS)}),u=Z(()=>Hn((f.value-.45)*5)),f=Z(()=>n.weights[Ch(s.m.dateTime)]),d=Z(()=>s.external?0:n.viewport.top+8);return(h,y)=>(ze(),Qe("g",GC,[Ne("path",{stroke:"currentColor","stroke-opacity":l.value?1:u.value,class:"marker-top-stroke",d:`M ${r.value} ${d.value} L ${r.value} ${d.value+14}`},null,8,ZC),Ne("text",{x:r.value+4,y:d.value+12,fill:"currentColor",class:xn(l.value?"font-bold":""),opacity:l.value?1:u.value},ve(i.value),11,XC),o.value<=6&&l.value?(ze(),Qe("text",{key:0,x:r.value+4,y:d.value+32,class:"marker-top-drop",fill:"currentColor"},ve(c.value),9,JC)):Gn("",!0)]))}}),QC=()=>{const t=Et(),e=Hi(),n=Vd(),s=_e(),r=_e(),i=()=>{s.value=void 0,r.value=void 0,window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",l),window.removeEventListener("keydown",o)},o=d=>{d.key==="Escape"&&i()},a=d=>{const h=typeof TouchEvent<"u"&&d instanceof TouchEvent?d.touches[0].clientX:d.clientX,y=e.rangeFromOffsetLeft(h),m=[];m.push(y[0].left<s.value[0].left?y[0]:s.value[0]),m.push(y[1].left>s.value[1].left?y[1]:s.value[1]),r.value=m},l=d=>{const h=r.value?r.value:s.value;h&&t.createEventFromRange(md({fromDateTime:h[0].dateTime,toDateTime:h[1].dateTime}),["quarterhour","quarterminute","second"].includes(t.scaleOfViewportDateInterval)?"instant":t.scaleOfViewportDateInterval),i()},c=d=>{s.value=e.range,window.addEventListener("touchmove",a),window.addEventListener("touchend",l),window.addEventListener("mousemove",a),window.addEventListener("mouseup",l),window.addEventListener("keydown",o)},u=Z(()=>r.value?r.value:e.range),f=Z(()=>!!s.value);return rt(f,d=>{n.canPan=!d}),{mouseDownTouchStartListener:c,newEventPosition:u,creating:f}},eA=xt({__name:"NewEvent",setup(t){const{newEventPosition:e,mouseDownTouchStartListener:n,creating:s}=QC(),r=Et(),i=Z(()=>r.mode==="gantt");return(o,a)=>B(e)?(ze(),Qe("button",{key:0,title:"Click and drag to create new event",class:xn(["h-[10px] border flex items-center justify-center shrink-0 absolute border-transparent hover:border-zinc-100 text-zinc-600 hover:bg-zinc-50 hover:shadow-sm dark:text-zinc-100 dark:hover:border-gray-600 dark:hover:bg-zinc-700 font-bold",B(s)?"dark:border-gray-600 dark:bg-zinc-600 bg-zinc-50 border-zinc-100 shadow-sm":"bg-transparent"]),style:mn(`left: ${B(e)[0].left}px; width: ${B(e)[1].left-B(e)[0].left}px; top: 100px; height: ${i.value?"15px":"10px"}; border-radius: ${i.value?"0.25rem":"99px"}`),onMousedown:a[0]||(a[0]=Rn((...l)=>B(n)&&B(n)(...l),["prevent","stop"])),onTouchstart:a[1]||(a[1]=Rn((...l)=>B(n)&&B(n)(...l),["prevent","stop"]))}," + ",38)):Gn("",!0)}});function Hw(t){return t.replace(/</g,"<tspan>&lt;</tspan>").replace(/>/g,"<tspan>&gt;</tspan>").replace(Xv,(e,n,s)=>`<a class="underline" target="_blank" xlink:href="${Bw(s)}"><tspan>${n}</tspan></a>`).replace(/&/g,"&amp;").replace(Jv,(e,n)=>`<a class="underline" xlink:href="/${n}"><tspan>@${n}</tspan></a>`)}function Jy(t){return t.replace(/<|>/g,e=>e==="<"?"<span><</span>":"<span>></span>").replace(Xv,(e,n,s)=>`<a class="underline" href="${Bw(s)}">${n}</a>`).replace(/&/g,"&amp;").replace(Jv,(e,n)=>`<a class="underline" href="/${n}">@${n}</a>`)}function Bw(t){return t.startsWith("http://")||t.startsWith("https://")||t.startsWith("/")?t:`http://${t}`}var Sc={exports:{}},tA=Sc.exports,Qy;function nA(){return Qy||(Qy=1,function(t){(function(){var e,n,s,r,i,o,a,l,c,u,f,d,h,y,m,p,b,O,E,I,z,W,C,L,Y,V,se,P,de,Le,Re,Te,Oe,me,je,ae,X,re,Pe,Xe,ut,yt,ee,be,fe,ke,He,G,S,w,M,R,F,j,Q,ue,oe,he,we=function(k,g){return function(){return k.apply(g,arguments)}};Re=function(){return document.visibilityState==="visible"||P.tests!=null},ae=function(){var k;return k=[],typeof document<"u"&&document!==null&&document.addEventListener("visibilitychange",function(){var g,v,T,x;for(x=[],v=0,T=k.length;v<T;v++)g=k[v],x.push(g(Re()));return x}),function(g){return k.push(g)}}(),L=function(k){var g,v,T;v={};for(g in k)T=k[g],v[g]=T;return v},W=function(k){var g;return g={},function(){var v,T,x,N,H;for(T="",N=0,H=arguments.length;N<H;N++)v=arguments[N],T+=v.toString()+",";return x=g[T],x||(g[T]=x=k.apply(this,arguments)),x}},je=function(k){return function(g){var v,T,x;return g instanceof Array||g instanceof NodeList||g instanceof HTMLCollection?(x=(function(){var N,H,q;for(q=[],T=N=0,H=g.length;0<=H?N<H:N>H;T=0<=H?++N:--N)v=Array.prototype.slice.call(arguments,1),v.splice(0,0,g[T]),q.push(k.apply(this,v));return q}).apply(this,arguments),x):k.apply(this,arguments)}},O=function(k,g){var v,T,x;x=[];for(v in g)T=g[v],x.push(k[v]!=null?k[v]:k[v]=T);return x},E=function(k,g){var v,T,x;if(k.style!=null)return I(k,g);x=[];for(v in g)T=g[v],x.push(k[v]=T.format());return x},I=function(k,g){var v,T,x,N,H;g=X(g),N=[],v=Te(k);for(T in g)H=g[T],ue.contains(T)?N.push([T,H]):(H.format!=null&&(H=H.format()),typeof H=="number"&&(H=""+H+he(T,H)),k.hasAttribute!=null&&k.hasAttribute(T)?k.setAttribute(T,H):k.style!=null&&(k.style[Pe(T)]=H),T in k&&(k[T]=H));if(N.length>0)return v?(x=new u,x.applyProperties(N),k.setAttribute("transform",x.decompose().format())):(H=N.map(function(q){return oe(q[0],q[1])}).join(" "),k.style[Pe("transform")]=H)},Te=function(k){var g,v;return typeof SVGElement<"u"&&SVGElement!==null&&typeof SVGSVGElement<"u"&&SVGSVGElement!==null?k instanceof SVGElement&&!(k instanceof SVGSVGElement):(g=(v=P.tests)!=null&&typeof v.isSVG=="function"?v.isSVG(k):void 0)!=null?g:!1},yt=function(k,g){var v;return v=Math.pow(10,g),Math.round(k*v)/v},f=function(){function k(g){var v,T,x;for(this.obj={},T=0,x=g.length;T<x;T++)v=g[T],this.obj[v]=1}return k.prototype.contains=function(g){return this.obj[g]===1},k}(),Q=function(k){return k.replace(/([A-Z])/g,function(g){return"-"+g.toLowerCase()})},Xe=new f("marginTop,marginLeft,marginBottom,marginRight,paddingTop,paddingLeft,paddingBottom,paddingRight,top,left,bottom,right,translateX,translateY,translateZ,perspectiveX,perspectiveY,perspectiveZ,width,height,maxWidth,maxHeight,minWidth,minHeight,borderRadius".split(",")),se=new f("rotate,rotateX,rotateY,rotateZ,skew,skewX,skewY,skewZ".split(",")),ue=new f("translate,translateX,translateY,translateZ,scale,scaleX,scaleY,scaleZ,rotate,rotateX,rotateY,rotateZ,rotateC,rotateCX,rotateCY,skew,skewX,skewY,skewZ,perspective".split(",")),M=new f("accent-height,ascent,azimuth,baseFrequency,baseline-shift,bias,cx,cy,d,diffuseConstant,divisor,dx,dy,elevation,filterRes,fx,fy,gradientTransform,height,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,letter-spacing,limitingConeAngle,markerHeight,markerWidth,numOctaves,order,overline-position,overline-thickness,pathLength,points,pointsAtX,pointsAtY,pointsAtZ,r,radius,rx,ry,seed,specularConstant,specularExponent,stdDeviation,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,surfaceScale,target,targetX,targetY,transform,underline-position,underline-thickness,viewBox,width,x,x1,x2,y,y1,y2,z".split(",")),he=function(k,g){return typeof g!="number"?"":Xe.contains(k)?"px":se.contains(k)?"deg":""},oe=function(k,g){var v,T;return v=(""+g).match(/^([0-9.-]*)([^0-9]*)$/),v!=null?(g=v[1],T=v[2]):g=parseFloat(g),g=yt(parseFloat(g),10),(T==null||T==="")&&(T=he(k,g)),""+k+"("+g+T+")"},X=function(k){var g,v,T,x,N,H,q,ne;T={};for(x in k)if(N=k[x],ue.contains(x))if(v=x.match(/(translate|rotateC|rotate|skew|scale|perspective)(X|Y|Z|)/),v&&v[2].length>0)T[x]=N;else for(ne=["X","Y","Z"],H=0,q=ne.length;H<q;H++)g=ne[H],T[v[1]+g]=N;else T[x]=N;return T},V=function(k){var g;return g=k==="opacity"?1:0,""+g+he(k,g)},de=function(k,g){var v,T,x,N,H,q,ne,$,K,te,ie;if(N={},v=Te(k),k.style!=null)for(H=window.getComputedStyle(k,null),ne=0,K=g.length;ne<K;ne++)T=g[ne],ue.contains(T)?N.transform==null&&(v?x=new u((ie=k.transform.baseVal.consolidate())!=null?ie.matrix:void 0):x=c.fromTransform(H[Pe("transform")]),N.transform=x.decompose()):(k.hasAttribute!=null&&k.hasAttribute(T)?q=k.getAttribute(T):T in k?q=k[T]:q=H[T],(q==null||T==="d")&&M.contains(T)&&(q=k.getAttribute(T)),(q===""||q==null)&&(q=V(T)),N[T]=Y(q));else for($=0,te=g.length;$<te;$++)T=g[$],N[T]=Y(k[T]);return y(k,N),N},y=function(k,g){var v,T;for(T in g)v=g[T],v instanceof o&&k.style!=null&&T in k.style&&(v=new l([v,he(T,0)])),g[T]=v;return g},Y=function(k){var g,v,T,x,N;for(T=[r,a,o,l],x=0,N=T.length;x<N;x++)if(v=T[x],g=v.create(k),g!=null)return g;return null},l=function(){function k(g){this.parts=g,this.format=we(this.format,this),this.interpolate=we(this.interpolate,this)}return k.prototype.interpolate=function(g,v){var T,x,N,H,q,ne;for(H=this.parts,T=g.parts,N=[],x=q=0,ne=Math.min(H.length,T.length);0<=ne?q<ne:q>ne;x=0<=ne?++q:--q)H[x].interpolate!=null?N.push(H[x].interpolate(T[x],v)):N.push(H[x]);return new k(N)},k.prototype.format=function(){var g;return g=this.parts.map(function(v){return v.format!=null?v.format():v}),g.join("")},k.create=function(g){var v,T,x,N,H,q,ne,$,K,te,ie;for(g=""+g,x=[],ne=[{re:/(#[a-f\\d]{3,6})/ig,klass:i,parse:function(ge){return ge}},{re:/(rgba?\\([0-9.]*, ?[0-9.]*, ?[0-9.]*(?:, ?[0-9.]*)?\\))/ig,klass:i,parse:function(ge){return ge}},{re:/([-+]?[\\d.]+)/ig,klass:o,parse:parseFloat}],$=0,te=ne.length;$<te;$++)for(q=ne[$],H=q.re;T=H.exec(g);)x.push({index:T.index,length:T[1].length,interpolable:q.klass.create(q.parse(T[1]))});for(x=x.sort(function(ge,Ee){return ge.index>Ee.index?1:-1}),N=[],v=0,K=0,ie=x.length;K<ie;K++)T=x[K],!(T.index<v)&&(T.index>v&&N.push(g.substring(v,T.index)),N.push(T.interpolable),v=T.index+T.length);return v<g.length&&N.push(g.substring(v)),new k(N)},k}(),a=function(){function k(g){this.format=we(this.format,this),this.interpolate=we(this.interpolate,this),this.obj=g}return k.prototype.interpolate=function(g,v){var T,x,N,H,q;H=this.obj,T=g.obj,N={};for(x in H)q=H[x],q.interpolate!=null?N[x]=q.interpolate(T[x],v):N[x]=q;return new k(N)},k.prototype.format=function(){return this.obj},k.create=function(g){var v,T,x;if(g instanceof Object){T={};for(v in g)x=g[v],T[v]=Y(x);return new k(T)}return null},k}(),o=function(){function k(g){this.format=we(this.format,this),this.interpolate=we(this.interpolate,this),this.value=parseFloat(g)}return k.prototype.interpolate=function(g,v){var T,x;return x=this.value,T=g.value,new k((T-x)*v+x)},k.prototype.format=function(){return yt(this.value,5)},k.create=function(g){return typeof g=="number"?new k(g):null},k}(),r=function(){function k(g){this.values=g,this.format=we(this.format,this),this.interpolate=we(this.interpolate,this)}return k.prototype.interpolate=function(g,v){var T,x,N,H,q,ne;for(H=this.values,T=g.values,N=[],x=q=0,ne=Math.min(H.length,T.length);0<=ne?q<ne:q>ne;x=0<=ne?++q:--q)H[x].interpolate!=null?N.push(H[x].interpolate(T[x],v)):N.push(H[x]);return new k(N)},k.prototype.format=function(){return this.values.map(function(g){return g.format!=null?g.format():g})},k.createFromArray=function(g){var v;return v=g.map(function(T){return Y(T)||T}),v=v.filter(function(T){return T!=null}),new k(v)},k.create=function(g){return g instanceof Array?k.createFromArray(g):null},k}(),e=function(){function k(g,v){this.rgb=g??{},this.format=v,this.toRgba=we(this.toRgba,this),this.toRgb=we(this.toRgb,this),this.toHex=we(this.toHex,this)}return k.fromHex=function(g){var v,T;return v=g.match(/^#([a-f\\d]{1})([a-f\\d]{1})([a-f\\d]{1})$/i),v!=null&&(g="#"+v[1]+v[1]+v[2]+v[2]+v[3]+v[3]),T=g.match(/^#([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i),T!=null?new k({r:parseInt(T[1],16),g:parseInt(T[2],16),b:parseInt(T[3],16),a:1},"hex"):null},k.fromRgb=function(g){var v,T;return v=g.match(/^rgba?\\(([0-9.]*), ?([0-9.]*), ?([0-9.]*)(?:, ?([0-9.]*))?\\)$/),v!=null?new k({r:parseFloat(v[1]),g:parseFloat(v[2]),b:parseFloat(v[3]),a:parseFloat((T=v[4])!=null?T:1)},v[4]!=null?"rgba":"rgb"):null},k.componentToHex=function(g){var v;return v=g.toString(16),v.length===1?"0"+v:v},k.prototype.toHex=function(){return"#"+k.componentToHex(this.rgb.r)+k.componentToHex(this.rgb.g)+k.componentToHex(this.rgb.b)},k.prototype.toRgb=function(){return"rgb("+this.rgb.r+", "+this.rgb.g+", "+this.rgb.b+")"},k.prototype.toRgba=function(){return"rgba("+this.rgb.r+", "+this.rgb.g+", "+this.rgb.b+", "+this.rgb.a+")"},k}(),i=function(){function k(g){this.color=g,this.format=we(this.format,this),this.interpolate=we(this.interpolate,this)}return k.prototype.interpolate=function(g,v){var T,x,N,H,q,ne,$,K;for(H=this.color,T=g.color,N={},K=["r","g","b"],ne=0,$=K.length;ne<$;ne++)x=K[ne],q=Math.round((T.rgb[x]-H.rgb[x])*v+H.rgb[x]),N[x]=Math.min(255,Math.max(0,q));return x="a",q=yt((T.rgb[x]-H.rgb[x])*v+H.rgb[x],5),N[x]=Math.min(1,Math.max(0,q)),new k(new e(N,T.format))},k.prototype.format=function(){if(this.color.format==="hex")return this.color.toHex();if(this.color.format==="rgb")return this.color.toRgb();if(this.color.format==="rgba")return this.color.toRgba()},k.create=function(g){var v;if(typeof g=="string")return v=e.fromHex(g)||e.fromRgb(g),v!=null?new k(v):null},k}(),s=function(){function k(g){this.props=g,this.applyRotateCenter=we(this.applyRotateCenter,this),this.format=we(this.format,this),this.interpolate=we(this.interpolate,this)}return k.prototype.interpolate=function(g,v){var T,x,N,H,q,ne,$,K,te,ie,ge,Ee;for(N={},ie=["translate","scale","rotate"],H=0,K=ie.length;H<K;H++)for(x=ie[H],N[x]=[],T=q=0,ge=this.props[x].length;0<=ge?q<ge:q>ge;T=0<=ge?++q:--q)N[x][T]=(g.props[x][T]-this.props[x][T])*v+this.props[x][T];for(T=ne=1;ne<=2;T=++ne)N.rotate[T]=g.props.rotate[T];for(Ee=["skew"],$=0,te=Ee.length;$<te;$++)x=Ee[$],N[x]=(g.props[x]-this.props[x])*v+this.props[x];return new k(N)},k.prototype.format=function(){return"translate("+this.props.translate.join(",")+") rotate("+this.props.rotate.join(",")+") skewX("+this.props.skew+") scale("+this.props.scale.join(",")+")"},k.prototype.applyRotateCenter=function(g){var v,T,x,N,H,q;for(T=z.createSVGMatrix(),T=T.translate(g[0],g[1]),T=T.rotate(this.props.rotate[0]),T=T.translate(-g[0],-g[1]),x=new u(T),N=x.decompose().props.translate,q=[],v=H=0;H<=1;v=++H)q.push(this.props.translate[v]-=N[v]);return q},k}(),z=typeof document<"u"&&document!==null?document.createElementNS("http://www.w3.org/2000/svg","svg"):void 0,u=function(){function k(g){this.m=g,this.applyProperties=we(this.applyProperties,this),this.decompose=we(this.decompose,this),this.m||(this.m=z.createSVGMatrix())}return k.prototype.decompose=function(){var g,v,T,x,N;return x=new d([this.m.a,this.m.b]),N=new d([this.m.c,this.m.d]),g=x.length(),T=x.dot(N),x=x.normalize(),v=N.combine(x,1,-T).length(),new s({translate:[this.m.e,this.m.f],rotate:[Math.atan2(this.m.b,this.m.a)*180/Math.PI,this.rotateCX,this.rotateCY],scale:[g,v],skew:T/v*180/Math.PI})},k.prototype.applyProperties=function(g){var v,T,x,N,H,q,ne,$;for(v={},H=0,q=g.length;H<q;H++)x=g[H],v[x[0]]=x[1];for(T in v)N=v[T],T==="translateX"?this.m=this.m.translate(N,0):T==="translateY"?this.m=this.m.translate(0,N):T==="scaleX"?this.m=this.m.scaleNonUniform(N,1):T==="scaleY"?this.m=this.m.scaleNonUniform(1,N):T==="rotateZ"?this.m=this.m.rotate(N):T==="skewX"?this.m=this.m.skewX(N):T==="skewY"&&(this.m=this.m.skewY(N));return this.rotateCX=(ne=v.rotateCX)!=null?ne:0,this.rotateCY=($=v.rotateCY)!=null?$:0},k}(),d=function(){function k(g){this.els=g,this.combine=we(this.combine,this),this.normalize=we(this.normalize,this),this.length=we(this.length,this),this.cross=we(this.cross,this),this.dot=we(this.dot,this),this.e=we(this.e,this)}return k.prototype.e=function(g){return g<1||g>this.els.length?null:this.els[g-1]},k.prototype.dot=function(g){var v,T,x;if(v=g.els||g,x=0,T=this.els.length,T!==v.length)return null;for(T+=1;--T;)x+=this.els[T-1]*v[T-1];return x},k.prototype.cross=function(g){var v,T;return T=g.els||g,this.els.length!==3||T.length!==3?null:(v=this.els,new k([v[1]*T[2]-v[2]*T[1],v[2]*T[0]-v[0]*T[2],v[0]*T[1]-v[1]*T[0]]))},k.prototype.length=function(){var g,v,T,x,N;for(g=0,N=this.els,T=0,x=N.length;T<x;T++)v=N[T],g+=Math.pow(v,2);return Math.sqrt(g)},k.prototype.normalize=function(){var g,v,T,x,N;T=this.length(),x=[],N=this.els;for(v in N)g=N[v],x[v]=g/T;return new k(x)},k.prototype.combine=function(g,v,T){var x,N,H,q;for(N=[],x=H=0,q=this.els.length;0<=q?H<q:H>q;x=0<=q?++H:--H)N[x]=v*this.els[x]+T*g.els[x];return new k(N)},k}(),n=function(){function k(){this.toMatrix=we(this.toMatrix,this),this.format=we(this.format,this),this.interpolate=we(this.interpolate,this)}return k.prototype.interpolate=function(g,v,T){var x,N,H,q,ne,$,K,te,ie,ge,Ee,De,Ge,ot,ft,Fn,Ps,$n;for(T==null&&(T=null),H=this,N=new k,Ps=["translate","scale","skew","perspective"],De=0,Fn=Ps.length;De<Fn;De++)for(K=Ps[De],N[K]=[],q=Ge=0,$n=H[K].length-1;0<=$n?Ge<=$n:Ge>=$n;q=0<=$n?++Ge:--Ge)T==null||T.indexOf(K)>-1||T.indexOf(""+K+["x","y","z"][q])>-1?N[K][q]=(g[K][q]-H[K][q])*v+H[K][q]:N[K][q]=H[K][q];if(T==null||T.indexOf("rotate")!==-1){if(te=H.quaternion,ie=g.quaternion,x=te[0]*ie[0]+te[1]*ie[1]+te[2]*ie[2]+te[3]*ie[3],x<0){for(q=ot=0;ot<=3;q=++ot)te[q]=-te[q];x=-x}for(x+1>.05?1-x>=.05?(Ee=Math.acos(x),$=1/Math.sin(Ee),ge=Math.sin(Ee*(1-v))*$,ne=Math.sin(Ee*v)*$):(ge=1-v,ne=v):(ie[0]=-te[1],ie[1]=te[0],ie[2]=-te[3],ie[3]=te[2],ge=Math.sin(piDouble*(.5-v)),ne=Math.sin(piDouble*v)),N.quaternion=[],q=ft=0;ft<=3;q=++ft)N.quaternion[q]=te[q]*ge+ie[q]*ne}else N.quaternion=H.quaternion;return N},k.prototype.format=function(){return this.toMatrix().toString()},k.prototype.toMatrix=function(){var g,v,T,x,N,H,q,ne,$,K,te,ie,ge,Ee,De,Ge;for(g=this,N=c.I(4),v=ge=0;ge<=3;v=++ge)N.els[v][3]=g.perspective[v];for(H=g.quaternion,K=H[0],te=H[1],ie=H[2],$=H[3],q=g.skew,x=[[1,0],[2,0],[2,1]],v=Ee=2;Ee>=0;v=--Ee)q[v]&&(ne=c.I(4),ne.els[x[v][0]][x[v][1]]=q[v],N=N.multiply(ne));for(N=N.multiply(new c([[1-2*(te*te+ie*ie),2*(K*te-ie*$),2*(K*ie+te*$),0],[2*(K*te+ie*$),1-2*(K*K+ie*ie),2*(te*ie-K*$),0],[2*(K*ie-te*$),2*(te*ie+K*$),1-2*(K*K+te*te),0],[0,0,0,1]])),v=De=0;De<=2;v=++De){for(T=Ge=0;Ge<=2;T=++Ge)N.els[v][T]*=g.scale[v];N.els[3][v]=g.translate[v]}return N},k}(),c=function(){function k(g){this.els=g,this.toString=we(this.toString,this),this.decompose=we(this.decompose,this),this.inverse=we(this.inverse,this),this.augment=we(this.augment,this),this.toRightTriangular=we(this.toRightTriangular,this),this.transpose=we(this.transpose,this),this.multiply=we(this.multiply,this),this.dup=we(this.dup,this),this.e=we(this.e,this)}return k.prototype.e=function(g,v){return g<1||g>this.els.length||v<1||v>this.els[0].length?null:this.els[g-1][v-1]},k.prototype.dup=function(){return new k(this.els)},k.prototype.multiply=function(g){var v,T,x,N,H,q,ne,$,K,te,ie,ge,Ee;for(ge=!!g.modulus,v=g.els||g,typeof v[0][0]>"u"&&(v=new k(v).els),te=this.els.length,ne=te,$=v[0].length,x=this.els[0].length,N=[],te+=1;--te;)for(H=ne-te,N[H]=[],ie=$,ie+=1;--ie;){for(q=$-ie,Ee=0,K=x,K+=1;--K;)T=x-K,Ee+=this.els[H][T]*v[T][q];N[H][q]=Ee}return v=new k(N),ge?v.col(1):v},k.prototype.transpose=function(){var g,v,T,x,N,H,q;for(q=this.els.length,g=this.els[0].length,v=[],N=g,N+=1;--N;)for(T=g-N,v[T]=[],H=q,H+=1;--H;)x=q-H,v[T][x]=this.els[x][T];return new k(v)},k.prototype.toRightTriangular=function(){var g,v,T,x,N,H,q,ne,$,K,te,ie,ge,Ee;for(g=this.dup(),ne=this.els.length,N=ne,H=this.els[0].length;--ne;){if(T=N-ne,g.els[T][T]===0){for(x=te=ge=T+1;ge<=N?te<N:te>N;x=ge<=N?++te:--te)if(g.els[x][T]!==0){for(v=[],$=H,$+=1;--$;)K=H-$,v.push(g.els[T][K]+g.els[x][K]);g.els[T]=v;break}}if(g.els[T][T]!==0)for(x=ie=Ee=T+1;Ee<=N?ie<N:ie>N;x=Ee<=N?++ie:--ie){for(q=g.els[x][T]/g.els[T][T],v=[],$=H,$+=1;--$;)K=H-$,v.push(K<=T?0:g.els[x][K]-g.els[T][K]*q);g.els[x]=v}}return g},k.prototype.augment=function(g){var v,T,x,N,H,q,ne,$,K;if(v=g.els||g,typeof v[0][0]>"u"&&(v=new k(v).els),T=this.dup(),x=T.els[0].length,$=T.els.length,q=$,ne=v[0].length,$!==v.length)return null;for($+=1;--$;)for(N=q-$,K=ne,K+=1;--K;)H=ne-K,T.els[N][x+H]=v[N][H];return T},k.prototype.inverse=function(){var g,v,T,x,N,H,q,ne,$,K,te,ie,ge;for(K=this.els.length,q=K,g=this.augment(k.I(K)).toRightTriangular(),ne=g.els[0].length,N=[],K+=1;--K;){for(x=K-1,T=[],te=ne,N[x]=[],v=g.els[x][x],te+=1;--te;)ie=ne-te,$=g.els[x][ie]/v,T.push($),ie>=q&&N[x].push($);for(g.els[x]=T,H=ge=0;0<=x?ge<x:ge>x;H=0<=x?++ge:--ge){for(T=[],te=ne,te+=1;--te;)ie=ne-te,T.push(g.els[H][ie]-g.els[x][ie]*g.els[H][x]);g.els[H]=T}}return new k(N)},k.I=function(g){var v,T,x,N,H;for(v=[],N=g,g+=1;--g;)for(T=N-g,v[T]=[],H=N,H+=1;--H;)x=N-H,v[T][x]=T===x?1:0;return new k(v)},k.prototype.decompose=function(){var g,v,T,x,N,H,q,ne,$,K,te,ie,ge,Ee,De,Ge,ot,ft,Fn,Ps,$n,Bi,sa,Il,ri,ii,Ys,oi,ra,Wi,ai,ia,ji,oa,Vi,qi,Ki,Gi;for(H=this,Ps=[],ot=[],ft=[],K=[],ne=[],g=[],v=ra=0;ra<=3;v=++ra)for(g[v]=[],x=Wi=0;Wi<=3;x=++Wi)g[v][x]=H.els[v][x];if(g[3][3]===0)return!1;for(v=ai=0;ai<=3;v=++ai)for(x=ia=0;ia<=3;x=++ia)g[v][x]/=g[3][3];for($=H.dup(),v=ji=0;ji<=2;v=++ji)$.els[v][3]=0;if($.els[3][3]=1,g[0][3]!==0||g[1][3]!==0||g[2][3]!==0){for(ie=new d(g.slice(0,4)[3]),T=$.inverse(),$n=T.transpose(),ne=$n.multiply(ie).els,v=oa=0;oa<=2;v=++oa)g[v][3]=0;g[3][3]=1}else ne=[0,0,0,1];for(v=Vi=0;Vi<=2;v=++Vi)Ps[v]=g[3][v],g[3][v]=0;for(Ee=[],v=qi=0;qi<=2;v=++qi)Ee[v]=new d(g[v].slice(0,3));if(ot[0]=Ee[0].length(),Ee[0]=Ee[0].normalize(),ft[0]=Ee[0].dot(Ee[1]),Ee[1]=Ee[1].combine(Ee[0],1,-ft[0]),ot[1]=Ee[1].length(),Ee[1]=Ee[1].normalize(),ft[0]/=ot[1],ft[1]=Ee[0].dot(Ee[2]),Ee[2]=Ee[2].combine(Ee[0],1,-ft[1]),ft[2]=Ee[1].dot(Ee[2]),Ee[2]=Ee[2].combine(Ee[1],1,-ft[2]),ot[2]=Ee[2].length(),Ee[2]=Ee[2].normalize(),ft[1]/=ot[2],ft[2]/=ot[2],q=Ee[1].cross(Ee[2]),Ee[0].dot(q)<0)for(v=Ki=0;Ki<=2;v=++Ki)for(ot[v]*=-1,x=Gi=0;Gi<=2;x=++Gi)Ee[v].els[x]*=-1;De=function(aa,Zs){return Ee[aa].els[Zs]},ge=[],ge[1]=Math.asin(-De(0,2)),Math.cos(ge[1])!==0?(ge[0]=Math.atan2(De(1,2),De(2,2)),ge[2]=Math.atan2(De(0,1),De(0,0))):(ge[0]=Math.atan2(-De(2,0),De(1,1)),ge[1]=0),Fn=De(0,0)+De(1,1)+De(2,2)+1,Fn>1e-4?(Ge=.5/Math.sqrt(Fn),ri=.25/Ge,ii=(De(2,1)-De(1,2))*Ge,Ys=(De(0,2)-De(2,0))*Ge,oi=(De(1,0)-De(0,1))*Ge):De(0,0)>De(1,1)&&De(0,0)>De(2,2)?(Ge=Math.sqrt(1+De(0,0)-De(1,1)-De(2,2))*2,ii=.25*Ge,Ys=(De(0,1)+De(1,0))/Ge,oi=(De(0,2)+De(2,0))/Ge,ri=(De(2,1)-De(1,2))/Ge):De(1,1)>De(2,2)?(Ge=Math.sqrt(1+De(1,1)-De(0,0)-De(2,2))*2,ii=(De(0,1)+De(1,0))/Ge,Ys=.25*Ge,oi=(De(1,2)+De(2,1))/Ge,ri=(De(0,2)-De(2,0))/Ge):(Ge=Math.sqrt(1+De(2,2)-De(0,0)-De(1,1))*2,ii=(De(0,2)+De(2,0))/Ge,Ys=(De(1,2)+De(2,1))/Ge,oi=.25*Ge,ri=(De(1,0)-De(0,1))/Ge),K=[ii,Ys,oi,ri],te=new n,te.translate=Ps,te.scale=ot,te.skew=ft,te.quaternion=K,te.perspective=ne,te.rotate=ge;for(sa in te){Bi=te[sa];for(N in Bi)Il=Bi[N],isNaN(Il)&&(Bi[N]=0)}return te},k.prototype.toString=function(){var g,v,T,x,N;for(T="matrix3d(",g=x=0;x<=3;g=++x)for(v=N=0;N<=3;v=++N)T+=yt(this.els[g][v],10),g===3&&v===3||(T+=",");return T+=")",T},k.matrixForTransform=W(function(g){var v,T,x,N,H,q;return v=document.createElement("div"),v.style.position="absolute",v.style.visibility="hidden",v.style[Pe("transform")]=g,document.body.appendChild(v),x=window.getComputedStyle(v,null),T=(N=(H=x.transform)!=null?H:x[Pe("transform")])!=null?N:(q=P.tests)!=null?q.matrixForTransform(g):void 0,document.body.removeChild(v),T}),k.fromTransform=function(g){var v,T,x,N,H,q;for(N=g!=null?g.match(/matrix3?d?\\(([-0-9,e \\.]*)\\)/):void 0,N?(v=N[1].split(","),v=v.map(parseFloat),v.length===6?T=[v[0],v[1],0,0,v[2],v[3],0,0,0,0,1,0,v[4],v[5],0,1]:T=v):T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],H=[],x=q=0;q<=3;x=++q)H.push(T.slice(x*4,x*4+4));return new k(H)},k}(),re=W(function(k){var g,v,T,x,N,H,q,ne,$,K;if(document.body.style[k]!==void 0)return"";for(x=k.split("-"),N="",H=0,ne=x.length;H<ne;H++)T=x[H],N+=T.substring(0,1).toUpperCase()+T.substring(1);for(K=["Webkit","Moz","ms"],q=0,$=K.length;q<$;q++)if(v=K[q],g=v+N,document.body.style[g]!==void 0)return v;return""}),Pe=W(function(k){var g;return g=re(k),g==="Moz"?""+g+(k.substring(0,1).toUpperCase()+k.substring(1)):g!==""?"-"+g.toLowerCase()+"-"+Q(k):Q(k)}),ut=typeof window<"u"&&window!==null?window.requestAnimationFrame:void 0,p=[],b=[],He=!1,G=1,typeof window<"u"&&window!==null&&window.addEventListener("keyup",function(k){if(k.keyCode===68&&k.shiftKey&&k.ctrlKey)return P.toggleSlow()}),ut==null&&(Oe=0,ut=function(k){var g,v,T;return g=Date.now(),T=Math.max(0,16-(g-Oe)),v=window.setTimeout(function(){return k(g+T)},T),Oe=g+T,v}),be=!1,ee=!1,w=function(){if(!be)return be=!0,ut(fe)},fe=function(k){var g,v,T,x;if(ee){ut(fe);return}for(v=[],T=0,x=p.length;T<x;T++)g=p[T],m(k,g)||v.push(g);return p=p.filter(function(N){return v.indexOf(N)===-1}),p.length===0?be=!1:ut(fe)},m=function(k,g){var v,T,x,N,H,q,ne,$;if(g.tStart==null&&(g.tStart=k),N=(k-g.tStart)/g.options.duration,H=g.curve(N),T={},N>=1)g.curve.returnsToSelf?T=g.properties.start:T=g.properties.end;else{$=g.properties.start;for(v in $)x=$[v],T[v]=Le(x,g.properties.end[v],H)}return E(g.el,T),typeof(q=g.options).change=="function"&&q.change(g.el,Math.min(1,N)),N>=1&&typeof(ne=g.options).complete=="function"&&ne.complete(g.el),N<1},Le=function(k,g,v){return k!=null&&k.interpolate!=null?k.interpolate(g,v):null},S=function(k,g,v,T){var x,N,H,q,ne,$,K;if(T!=null&&(b=b.filter(function(te){return te.id!==T})),P.stop(k,{timeout:!1}),!v.animated){P.css(k,g),typeof v.complete=="function"&&v.complete(this);return}ne=de(k,Object.keys(g)),g=X(g),x={},$=[];for(H in g)K=g[H],k.style!=null&&ue.contains(H)?$.push([H,K]):x[H]=Y(K);return $.length>0&&(N=Te(k),N?(q=new u,q.applyProperties($)):(K=$.map(function(te){return oe(te[0],te[1])}).join(" "),q=c.fromTransform(c.matrixForTransform(K))),x.transform=q.decompose(),N&&ne.transform.applyRotateCenter([x.transform.props.rotate[1],x.transform.props.rotate[2]])),y(k,x),p.push({el:k,properties:{start:ne,end:x},options:v,curve:v.type.call(v.type,v)}),w()},j=[],F=0,ke=function(k){if(Re())return ut(function(){if(j.indexOf(k)!==-1)return k.realTimeoutId=setTimeout(function(){return k.fn(),C(k.id)},k.delay)})},h=function(k,g){var v;return F+=1,v={id:F,tStart:Date.now(),fn:k,delay:g,originalDelay:g},ke(v),j.push(v),F},C=function(k){return j=j.filter(function(g){return g.id===k&&g.realTimeoutId&&clearTimeout(g.realTimeoutId),g.id!==k})},me=function(k,g){var v;return k!=null?(v=k-g.tStart,g.originalDelay-v):g.originalDelay},typeof window<"u"&&window!==null&&window.addEventListener("unload",function(){}),R=null,ae(function(k){var g,v,T,x,N,H,q,ne,$,K;if(ee=!k,k){if(be)for(v=Date.now()-R,N=0,ne=p.length;N<ne;N++)g=p[N],g.tStart!=null&&(g.tStart+=v);for(H=0,$=j.length;H<$;H++)T=j[H],T.delay=me(R,T),ke(T);return R=null}else{for(R=Date.now(),K=[],x=0,q=j.length;x<q;x++)T=j[x],K.push(clearTimeout(T.realTimeoutId));return K}}),P={},P.linear=function(){return function(k){return k}},P.spring=function(k){var g,v,T,x,N;return k==null&&(k={}),O(k,P.spring.defaults),T=Math.max(1,k.frequency/20),x=Math.pow(20,k.friction/100),N=k.anticipationSize/1e3,g=function(H){var q,ne,$,K,te;return q=.8,K=N/(1-N),te=0,$=(K-q*te)/(K-te),ne=(q-$)/K,ne*H*k.anticipationStrength/100+$},v=function(H){return Math.pow(x/10,-H)*(1-H)},function(H){var q,ne,$,K,te,ie,ge,Ee;return ie=H/(1-N)-N/(1-N),H<N?(Ee=N/(1-N)-N/(1-N),ge=0/(1-N)-N/(1-N),te=Math.acos(1/g(Ee)),$=(Math.acos(1/g(ge))-te)/(T*-N),q=g):(q=v,te=0,$=1),ne=q(ie),K=T*(H-N)*$+te,1-ne*Math.cos(K)}},P.bounce=function(k){var g,v,T,x;return k==null&&(k={}),O(k,P.bounce.defaults),T=Math.max(1,k.frequency/20),x=Math.pow(20,k.friction/100),g=function(N){return Math.pow(x/10,-N)*(1-N)},v=function(N){var H,q,ne,$;return $=-3.14/2,q=1,H=g(N),ne=T*N*q+$,H*Math.cos(ne)},v.returnsToSelf=!0,v},P.gravity=function(k){var g,v,T,x,N,H,q;return k==null&&(k={}),O(k,P.gravity.defaults),v=Math.min(k.bounciness/1250,.8),x=k.elasticity/1e3,q=100,T=[],g=function(){var ne,$;for(ne=Math.sqrt(2/q),$={a:-ne,b:ne,H:1},k.returnsToSelf&&($.a=0,$.b=$.b*2);$.H>.001;)g=$.b-$.a,$={a:$.b,b:$.b+g*v,H:$.H*v*v};return $.b}(),H=function(ne,$,K,te){var ie,ge;return g=$-ne,ge=2/g*te-1-ne*2/g,ie=ge*ge*K-K+1,k.returnsToSelf&&(ie=1-ie),ie},function(){var ne,$,K,te;for($=Math.sqrt(2/(q*g*g)),K={a:-$,b:$,H:1},k.returnsToSelf&&(K.a=0,K.b=K.b*2),T.push(K),ne=g,te=[];K.b<1&&K.H>.001;)ne=K.b-K.a,K={a:K.b,b:K.b+ne*v,H:K.H*x},te.push(T.push(K));return te}(),N=function(ne){var $,K,te;for(K=0,$=T[K];!(ne>=$.a&&ne<=$.b)&&(K+=1,$=T[K],!!$););return $?te=H($.a,$.b,$.H,ne):te=k.returnsToSelf?0:1,te},N.returnsToSelf=k.returnsToSelf,N},P.forceWithGravity=function(k){return k==null&&(k={}),O(k,P.forceWithGravity.defaults),k.returnsToSelf=!0,P.gravity(k)},P.bezier=function(){var k,g,v;return g=function(T,x,N,H,q){return Math.pow(1-T,3)*x+3*Math.pow(1-T,2)*T*N+3*(1-T)*Math.pow(T,2)*H+Math.pow(T,3)*q},k=function(T,x,N,H,q){return{x:g(T,x.x,N.x,H.x,q.x),y:g(T,x.y,N.y,H.y,q.y)}},v=function(T,x,N){var H,q,ne,$,K,te,ie,ge,Ee,De;for(H=null,Ee=0,De=x.length;Ee<De&&(q=x[Ee],T>=q(0).x&&T<=q(1).x&&(H=q),H===null);Ee++);if(!H)return N?0:1;for(ge=1e-4,$=0,te=1,K=(te+$)/2,ie=H(K).x,ne=0;Math.abs(T-ie)>ge&&ne<100;)T>ie?$=K:te=K,K=(te+$)/2,ie=H(K).x,ne+=1;return H(K).y},function(T){var x,N,H;return T==null&&(T={}),H=T.points,x=function(){var q,ne,$;x=[],$=function(K,te){var ie;return ie=function(ge){return k(ge,K,K.cp[K.cp.length-1],te.cp[0],te)},x.push(ie)};for(q in H){if(ne=parseInt(q),ne>=H.length-1)break;$(H[ne],H[ne+1])}return x}(),N=function(q){return q===0?0:q===1?1:v(q,x,this.returnsToSelf)},N.returnsToSelf=H[H.length-1].y===0,N}}(),P.easeInOut=function(k){var g,v;return k==null&&(k={}),g=(v=k.friction)!=null?v:P.easeInOut.defaults.friction,P.bezier({points:[{x:0,y:0,cp:[{x:.92-g/1e3,y:0}]},{x:1,y:1,cp:[{x:.08+g/1e3,y:1}]}]})},P.easeIn=function(k){var g,v;return k==null&&(k={}),g=(v=k.friction)!=null?v:P.easeIn.defaults.friction,P.bezier({points:[{x:0,y:0,cp:[{x:.92-g/1e3,y:0}]},{x:1,y:1,cp:[{x:1,y:1}]}]})},P.easeOut=function(k){var g,v;return k==null&&(k={}),g=(v=k.friction)!=null?v:P.easeOut.defaults.friction,P.bezier({points:[{x:0,y:0,cp:[{x:0,y:0}]},{x:1,y:1,cp:[{x:.08+g/1e3,y:1}]}]})},P.spring.defaults={frequency:300,friction:200,anticipationSize:0,anticipationStrength:0},P.bounce.defaults={frequency:300,friction:200},P.forceWithGravity.defaults=P.gravity.defaults={bounciness:400,elasticity:200},P.easeInOut.defaults=P.easeIn.defaults=P.easeOut.defaults={friction:500},P.css=je(function(k,g){return I(k,g,!0)}),P.animate=je(function(k,g,v){var T;return v==null&&(v={}),v=L(v),O(v,{type:P.easeInOut,duration:1e3,delay:0,animated:!0}),v.duration=Math.max(0,v.duration*G),v.delay=Math.max(0,v.delay),v.delay===0?S(k,g,v):(T=P.setTimeout(function(){return S(k,g,v,T)},v.delay),b.push({id:T,el:k}))}),P.stop=je(function(k,g){return g==null&&(g={}),g.timeout==null&&(g.timeout=!0),g.timeout&&(b=b.filter(function(v){return v.el===k&&(g.filter==null||g.filter(v))?(P.clearTimeout(v.id),!1):!0})),p=p.filter(function(v){return v.el!==k})}),P.setTimeout=function(k,g){return h(k,g*G)},P.clearTimeout=function(k){return C(k)},P.toggleSlow=function(){return He=!He,He?G=3:G=1,typeof console<"u"&&console!==null&&typeof console.log=="function"?console.log("dynamics.js: slow animations "+(He?"enabled":"disabled")):void 0},t.exports=P}).call(tA)}(Sc)),Sc.exports}var sA=nA();const Nh=Mw(sA),Ww=si("animations",()=>{const t=_e(!0),e=_e(160),n=_e(330),s=_e(Nh.easeOut);function r(o,a){t.value?Nh.animate(o,{value:a},i()):o.value=a}const i=()=>({duration:e.value,friction:n.value,frequency:100,type:s.value});return{useAnimations:t,duration:e,friction:n,type:s,asObj:i,animate:r}}),rA=["x","y","width","height","rx"],iA=["x","y","height","width"],oA=["id"],aA=["flood-color"],lA=["filter","x","y"],cA=["innerHTML"],uA={key:0},fA=xt({__name:"SvgSection",props:{eventy:{},path:{},numChildren:{},numAbove:{},groupStyle:{}},setup(t){const e=Ww(),n=Et(),s=qd(),{setHoveringEvent:r,clearHoveringEvent:i}=n,o=t,{scalelessDistanceBetweenDates:a,scalelessDistanceFromReferenceDate:l}=n,c=Z({get:()=>s.isCollapsed(o.path),set:X=>s.setCollapsed(o.path,X)}),u=_e(!1),f=Z(()=>n.hoveringEventPaths),d=Z(()=>o.path.split(",").map(X=>parseInt(X))),h=X=>{X.target instanceof HTMLAnchorElement||(X.preventDefault(),c.value=!c.value)},y=Z(()=>Sl(o.eventy,_l)),m=Z(()=>!o.eventy||!y.value?100:a(y.value.fromDateTime,y.value.toDateTime)),{color:p}=Uw(Z(()=>o.eventy)),b=Z(()=>Hw(o.eventy.title||""));rt(u,X=>{X?r(o.path.split(",").map(re=>parseInt(re))):i()});const O=Z(()=>o.groupStyle?o.groupStyle:n.mode==="gantt"||o.eventy.style==="section"?"section":"group"),E=Z(()=>n.yOffset+o.numAbove*n.rowHeight),I=Z(()=>n.rowHeight+o.numChildren*n.rowHeight),z=Z(()=>u.value||jo(f.value,d.value)),W=Z(()=>o.path.split(",").map(X=>parseInt(X))),C=Z(()=>n.isDetailEventPath(W.value)),L=_e(I.value);rt(I,(X,re)=>{e.animate(L,X)});const Y=_e(E.value);rt(E,X=>{e.animate(Y,X)});const V=Z(()=>{const X=!o.eventy||!y.value?10:a(n.baselineLeftmostDate,y.value.fromDateTime),re=O.value==="section"?n.viewport.left+n.viewport.width*2:m.value*n.pageScaleBy24,Pe=re<10?X-(10-re)/2:X,Xe=re+16;return{left:Pe,width:Xe}}),se=Z(()=>O.value==="section"?0:n.pageScaleBy24*V.value.left),P=_e(se.value);rt(se,()=>{O.value==="group"&&(P.value=se.value+(c.value?V.value.width:0))},{immediate:!0});const de=_e(E.value);rt(E,X=>{e.useAnimations?Nh.animate(de,{value:X},e.asObj()):de.value=X}),rt(()=>n.viewport.left,X=>{O.value==="section"&&(P.value=X)},{immediate:!0}),rt([c],([X])=>{e.animate(P,O.value==="section"?n.viewport.left:se.value+(X?V.value.width:0))});const Le=_e(1);Fi(()=>{p.value&&Le.value++});const Re=Z(()=>{var X;return((X=p.value)==null?void 0:X.split(" ").join(""))+"filter"}),Te=()=>{u.value=!0},Oe=()=>{u.value=!1},me=Z(()=>{let X="group";return p.value?X+=" group-colored":X+=" group-uncolored",z.value&&(X+=" group-hovering"),C.value&&(X+=" group-detail"),X}),je=Z(()=>{var X,re;return(re=(X=o.eventy.properties)==null?void 0:X.timeline)==null?void 0:re.style}),ae=Z(()=>{const X=p.value?`rgb(${p.value})`:void 0,re=Xe=>{var ee,be;const ut=C.value?(ee=je.value)==null?void 0:ee.detail:u.value?(be=je.value)==null?void 0:be.hover:je.value,yt=(n.darkMode?ut==null?void 0:ut[`${Xe}.dark`]:void 0)??(ut==null?void 0:ut[Xe]);return typeof yt=="string"?yt.replace(/^\\)/,"#"):yt},Pe={fill:re("fill")??X,stroke:re("stroke")??X,"stroke-opacity":re("stroke-opacity"),"stroke-width":re("stroke-width"),"fill-opacity":re("fill-opacity")};return Object.fromEntries(Object.entries(Pe).filter(([Xe,ut])=>ut!==void 0))});return(X,re)=>(ze(),Qe(gt,null,[Ne("rect",{x:se.value-8,y:Y.value,width:V.value.width,height:L.value,class:xn(me.value),rx:O.value==="group"?14:"0",style:mn(ae.value)},null,14,rA),Ne("rect",{x:se.value-8,y:Y.value,height:B(n).rowHeight,width:V.value.width,onMouseover:Te,onMouseleave:Oe,onClick:h,class:"cursor-pointer",fill:"transparent"},null,40,iA),Ne("g",{class:xn(["cursor-pointer","whitespace-nowrap",me.value.split(" ").map(Pe=>Pe+"-text")]),onMouseover:Te,onMouseleave:Oe,onClick:h},[Ne("defs",null,[Ne("filter",{x:"0",y:"0",width:"1",height:"1",id:Re.value},[Ne("feFlood",{"flood-color":B(p)?`rgb(${B(p)})`:"var(--text-filter-fill-color)","flood-opacity":"0.5",result:"bg"},null,8,aA),re[0]||(re[0]=Ne("feMerge",null,[Ne("feMergeNode",{in:"bg"}),Ne("feMergeNode",{in:"SourceGraphic"})],-1))],8,oA)]),Ne("text",{fill:"currentColor",filter:`url(#${Re.value})`,x:P.value,y:de.value+20},[Ne("tspan",{innerHTML:` ${b.value}`},null,8,cA),re[1]||(re[1]=Qh(" ")),c.value?(ze(),Qe("tspan",uA,"("+ve(X.numChildren)+") ",1)):Gn("",!0)],8,lA)],34)],64))}}),hA=(t,e)=>typeof t>"u"&&typeof e>"u"?!0:!(typeof t>"u"||typeof e>"u"),dA=(t,e)=>t.type===e.type&&t.content===e.content&&t.from===e.from&&t.to===e.to,mA=(t,e)=>e0(t.fromDateTimeIso,e.fromDateTimeIso)&&e0(t.toDateTimeIso,e.toDateTimeIso),pA=(t,e)=>t===e,e0=pA,yA=(t,e)=>t.length===e.length&&t.every((n,s)=>n===e[s]),gA=(t,e)=>t.length==e.length&&t.every((n,s)=>dA(n,e[s])),vA=(t,e)=>t.length===e.length&&t.every((n,s)=>wA(n,e[s])),wA=(t,e)=>t.type!==e.type?!1:t.type===Pr.IMAGE?t.altText===e.altText&&t.link===e.link:t.raw===e.raw&&t.value===e.value,bA=(t,e)=>jw(t,e);function jw(t,e){if(typeof t!="object"||typeof e!="object"||t===null||e===null)return t===e;const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(let r of n)if(!e.hasOwnProperty(r)||!jw(t[r],e[r]))return!1;return!0}const t0=(t,e,n)=>{const s=_e(n||void 0);return Fi(()=>{const r=t();typeof r>"u"?s.value=void 0:(!s.value||!e(s.value,r))&&(s.value=r)}),s},TA=t=>{const e=Et(),n=(p,b=(E,I)=>E===I,O)=>t0(p,(E,I)=>hA(E,I)&&b(E,I),O),s=Z(()=>t.value),r=t0(()=>t.value.source,(p,b)=>p===b,"default"),i=n(()=>B(s).dateRangeIso,mA),o=n(()=>{var p;return(p=B(s))==null?void 0:p.completed}),a=n(()=>{var p;return((p=B(s))==null?void 0:p.supplemental)||[]},vA),l=n(()=>{var p;return(p=B(s))==null?void 0:p.percent}),c=n(()=>{var p;return((p=B(s))==null?void 0:p.matchedListItems)||[]},gA),u=n(()=>{var p;return((p=B(s))==null?void 0:p.tags)||[]},yA),f=_e();Fi(()=>{var b,O;const p=(b=u.value)!=null&&b.length?(O=e.colors[r.value||"default"])==null?void 0:O[u.value[0]]:void 0;f.value!==p&&(f.value=p)});const d=n(()=>{var b,O,E;const p=B(s);return(O=(b=p==null?void 0:p.textRanges)==null?void 0:b.recurrence)!=null&&O.content?p.textRanges.recurrence.content:Jy(((E=p==null?void 0:p.firstLine)==null?void 0:E.datePart)||"")}),h=n(()=>{var b,O;const p=(O=(b=B(s))==null?void 0:b.firstLine)==null?void 0:O.restTrimmed;return p?Jy(p.replace(nh,(E,I)=>E.substring(I.length))):""}),y=n(()=>{var b,O;const p=(O=(b=B(s))==null?void 0:b.firstLine)==null?void 0:O.restTrimmed;return p?Hw(p.replace(nh,(E,I)=>E.substring(I.length))):""}),m=n(()=>{var p;return(p=B(s))==null?void 0:p.recurrence},bA);return{eventRange:i,supplemental:a,percent:l,matchedListItems:c,tags:u,color:f,dateText:d,titleHtml:h,completed:o,recurrence:m,source:r,titleSvg:y}},Vw=(t,e,n)=>{const s=Vd(),r=_e(),i=Z(()=>{if(r.value)return ce.fromISO(r.value)}),o=_e(),a=Z(()=>{if(o.value)return ce.fromISO(o.value)}),l=_e(),c=Hi(),u=Et(),f=()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mousemove",b),document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",m),document.removeEventListener("mouseup",z),document.removeEventListener("touchmove",p),document.removeEventListener("touchmove",b),document.removeEventListener("touchmove",I),document.removeEventListener("touchend",m),document.removeEventListener("touchend",z),document.removeEventListener("keydown",y)},d=()=>{s.canPan=!0,f(),setTimeout(()=>{r.value=void 0,o.value=void 0},100)},h=()=>{s.canPan=!0,r.value=void 0,o.value=void 0,f()},y=C=>{C.key==="Escape"&&h()},m=C=>{typeof TouchEvent<"u"&&C instanceof TouchEvent||C.preventDefault(),n==null||n(i.value,a.value),d()},p=C=>{let L;typeof TouchEvent<"u"&&C instanceof TouchEvent?L=C.touches[0].clientX:(L=C.clientX,C.preventDefault());const Y=u.dateFromClientLeft(L),V=ol(Y,c.nextMostGranularScaleOfViewportDateInterval);r.value=V.toISO()},b=C=>{let L;typeof TouchEvent<"u"&&C instanceof TouchEvent?L=C.touches[0].clientX:(L=C.clientX,C.preventDefault());const Y=u.dateFromClientLeft(L),V=ol(Y,c.nextMostGranularScaleOfViewportDateInterval);o.value=V.toISO()},O=C=>{s.canPan=!1,document.addEventListener("mousemove",p),document.addEventListener("mouseup",m),document.addEventListener("touchmove",p),document.addEventListener("touchend",m),document.addEventListener("keydown",y)},E=C=>{s.canPan=!1,document.addEventListener("mousemove",b),document.addEventListener("mouseup",m),document.addEventListener("touchmove",b),document.addEventListener("touchend",m),document.addEventListener("keydown",y)},I=C=>{s.canPan=!1;let L;typeof TouchEvent<"u"&&C instanceof TouchEvent?L=C.touches[0].clientX:(C.preventDefault(),L=C.clientX);const Y=u.dateFromClientLeft(L+18),V=Hx(Y,c.nextMostGranularScaleOfViewportDateInterval);r.value=V.toISO(),o.value=V.plus({[Ln]:l.value}).toISO()},z=C=>{typeof TouchEvent<"u"&&C instanceof TouchEvent||C.preventDefault(),n==null||n(i.value,a.value),d()};return{dragHandleListenerLeft:O,dragHandleListenerRight:E,moveHandleListener:C=>{var L;s.canPan=!1,r.value=B(t),o.value=B(e),l.value=(L=a.value)==null?void 0:L.diff(i.value).as(Ln),document.addEventListener("mousemove",I),document.addEventListener("touchmove",I),document.addEventListener("mouseup",z),document.addEventListener("touchend",z),document.addEventListener("keydown",y)},tempFrom:i,tempTo:a}},kA={};function EA(t,e){return ze(),pn(hk,{name:"fade"},{default:Gr(()=>[K0(t.$slots,"default",{},void 0,!0)]),_:3})}const SA=Lw(kA,[["render",EA],["__scopeId","data-v-fe3a1bd4"]]),_A=["x","y"],OA=["cx","cy"],IA=["x","y"],n0=xt({__name:"SvgDragHandle",props:{x:{},y:{},mouseDownTouchStartListener:{type:Function}},setup(t){return(e,n)=>(ze(),Qe("g",{class:"cursor-ew-resize dark:text-zinc-300 text-zinc-600",onTouchstartPassive:n[0]||(n[0]=(...s)=>e.mouseDownTouchStartListener&&e.mouseDownTouchStartListener(...s)),onMousedown:n[1]||(n[1]=Rn((...s)=>e.mouseDownTouchStartListener&&e.mouseDownTouchStartListener(...s),["prevent","stop"]))},[Ne("rect",{x:e.x-1,y:e.y-8,width:"2",height:"16",fill:"currentColor",rx:"1"},null,8,_A),Ne("circle",{cx:e.x,cy:e.y,r:"3.5",stroke:"white","stroke-width":"1",class:"drop-shadow-md"},null,8,OA),Ne("rect",{x:e.x-3,y:e.y-8,width:"6",height:"16",fill:"transparent"},null,8,IA)],32))}}),DA=["x","y","width","height"],MA=["x","y","width","height","rx","fill-opacity"],xA=["x","y","width","height","rx","fill-opacity"],CA={key:2,class:"cursor-default dark:text-zinc-300 text-zinc-600"},AA=["x","y","height"],NA=["x","y"],LA=["x","y"],RA=["x","y"],PA=["x","y"],YA=["x","y","innerHTML","font-size","font-weight"],FA=xt({__name:"SvgEventRow",props:{path:{},tags:{},dateText:{},supplemental:{},matchedListItems:{},hovering:{type:Boolean},percent:{},rangeFrom:{},rangeTo:{},titleSvg:{},color:{},isDetailEvent:{type:Boolean},numAbove:{},completed:{type:Boolean},recurrence:{},source:{}},emits:["editDateRange","hover"],setup(t,{emit:e}){const n=t,s=Et(),r=Z(()=>s.hoveringEventPaths),i=Z(()=>s.isDetailEventPath(n.path));_e(),Z(()=>!!n.supplemental.length);const o=_e(!1),a=Z(()=>(n.supplemental||[]).filter(ae=>ae.type==="checkbox"&&ae.value).length),l=Z(()=>(n.supplemental||[]).filter(ae=>ae.type==="checkbox").length);Z(()=>n.supplemental.length?o.value:!1);const c=e,{dragHandleListenerLeft:u,dragHandleListenerRight:f,moveHandleListener:d,tempFrom:h,tempTo:y}=Vw(Z(()=>n.rangeFrom),Z(()=>n.rangeTo),()=>c("editDateRange",O.value)),m=_e(!1),p=_e(!1),b=Z(()=>jo(r.value,n.path));rt(p,ae=>c("hover",ae)),Z(()=>p.value||!!h.value||!!y.value||m.value||b);const O=Z(()=>{const ae=Zt({fromDateTimeIso:n.rangeFrom,toDateTimeIso:n.rangeTo});if(!h.value&&!y.value)return ae;if(h.value){if(!y.value)return+h.value<+ae.toDateTime?{fromDateTime:h.value,toDateTime:ae.toDateTime}:{fromDateTime:ae.toDateTime,toDateTime:h.value}}else return+y.value>+ae.fromDateTime?{fromDateTime:ae.fromDateTime,toDateTime:y.value}:{fromDateTime:y.value,toDateTime:ae.fromDateTime};return{fromDateTime:+h.value<+y.value?h.value:y.value,toDateTime:+h.value<+y.value?y.value:h.value}});Z(()=>(n.recurrence?aw(O.value,n.recurrence,_l):[O.value]).map(ae=>s.distanceBetweenDates(O.value.fromDateTime,ae.fromDateTime)));const E=Z(()=>{const ae=s.distanceFromBaselineLeftmostDate(O.value.fromDateTime),X=s.distanceBetweenDates(O.value.fromDateTime,O.value.toDateTime),re=Math.min(10,s.eventBarHeight),Pe=Math.max(re,X);return{left:X<re?ae-(re-X)/2:ae,width:Pe}}),I=Z(()=>E.value.left),z=_e(),W=()=>{s.setDetailEventPath(n.path)},C=Z(()=>{const ae=n.percent;return isNaN(ae)?!isNaN(a.value)&&l.value>0?a.value/l.value*100:100:ae}),{top:L,isCollapsed:Y}=Nw(Z(()=>n.path)),V=()=>s.showInEditor(n.path),se=Z(()=>s.mode==="gantt"),P=Z(()=>se.value?{}:{"dark:fill-zinc-900 fill-white drop-shadow-xl":i.value,"stroke-1 dark:stroke-gray-400 stroke-black":b.value&&!i.value,"stroke-1 dark:stroke-green-600 stroke-green-700":i.value,"fill-transparent":!i.value,"pointer-events-auto cursor-pointer":!Y.value,"pointer-events-none":Y.value}),de=ae=>{const X=ae instanceof MouseEvent?ae.clientX:ae.touches[0].clientX,re=ae instanceof MouseEvent?ae.clientY:ae.touches[0].clientY;z.value={x:X,y:re}},Le=ae=>{var Pe;const X=ae instanceof MouseEvent?ae.clientX:ae.touches[0].clientX,re=ae instanceof MouseEvent?ae.clientY:ae.touches[0].clientY;((Pe=z.value)==null?void 0:Pe.x)===X&&z.value.y===re&&W()},Re=_e(!1),Te=()=>{setTimeout(()=>{Re.value=!1},50),Re.value=!0};rt(()=>n.path,()=>{Te()});const Oe=Ww(),me=_e(L.value);rt(L,ae=>{Re.value?me.value=ae:Oe.animate(me,ae)});const je=Z(()=>Math.max(Math.min(s.eventBarHeight,10),E.value.width*C.value/100));return(ae,X)=>(ze(),Qe("g",{onMousedown:de,onMouseup:Le,onMouseenterPassive:X[2]||(X[2]=re=>!B(Y)&&(p.value=!0)),onMouseleavePassive:X[3]||(X[3]=re=>p.value=!1),class:xn(["cursor-pointer",{"pointer-events-none":B(Y)}])},[Ne("rect",{class:xn(["",P.value]),x:I.value-6,y:me.value+2,width:E.value.width+12,height:B(s).rowHeight-4,rx:"5",fill:"transparent"},null,10,DA),Ne("rect",Ri({x:I.value,y:me.value+(B(s).rowHeight-B(s).eventBarHeight)/2,width:je.value,height:B(s).eventBarHeight,rx:B(s).eventBarRx},ae.color?{fill:`rgb(${ae.color})`,stroke:`rgb(${ae.color})`}:{fill:"none"},{"fill-opacity":i.value||b.value?.9:.6,"stroke-width":"1","stroke-opacity":"1","paint-order":"stroke",class:["",{"dark:fill-zinc-400 fill-zinc-600":!ae.color,"dark:stroke-zinc-400 stroke-zinc-600":!ae.color}]}),null,16,MA),Ne("rect",Ri({x:I.value,y:me.value+(B(s).rowHeight-B(s).eventBarHeight)/2,width:E.value.width,height:B(s).eventBarHeight,rx:B(s).eventBarRx},ae.color?{fill:`rgb(${ae.color})`,stroke:`rgb(${ae.color})`}:{fill:"none"},{"fill-opacity":i.value||b.value?.4:.2,"stroke-width":"1","stroke-opacity":"0.6","paint-order":"stroke",class:["drop-shadow-lg",{"dark:fill-zinc-400 fill-zinc-600":!ae.color,"dark:stroke-zinc-400 stroke-zinc-600":!ae.color}]}),null,16,xA),b.value&&ae.source==="default"?(ze(),pn(n0,{key:0,x:I.value,y:me.value+B(s).rowHeight/2,"mouse-down-touch-start-listener":B(u)},null,8,["x","y","mouse-down-touch-start-listener"])):Gn("",!0),b.value&&ae.source==="default"?(ze(),pn(n0,{key:1,x:I.value+E.value.width,y:me.value+B(s).rowHeight/2,"mouse-down-touch-start-listener":B(f)},null,8,["x","y","mouse-down-touch-start-listener"])):Gn("",!0),b.value?(ze(),Qe("g",CA,[ae.source==="default"?(ze(),Qe("rect",{key:0,x:I.value-40,width:"34",y:me.value,height:B(s).rowHeight,fill:"transparent"},null,8,AA)):Gn("",!0),(ze(),Qe("svg",{x:I.value-44,y:me.value+B(s).rowHeight/2-10,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",width:"18",height:"18",fill:"currentColor"},X[4]||(X[4]=[Ne("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"},null,-1)]),8,NA)),Ne("rect",{class:"cursor-pointer",x:I.value-44,y:me.value+B(s).rowHeight/2-10,width:"18",height:"19",fill:"transparent",onClick:V},null,8,LA),(ze(),Qe("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",x:I.value-26,y:me.value+B(s).rowHeight/2-10},X[5]||(X[5]=[Yf(\'<circle cx="9" cy="12" r="1"></circle><circle cx="9" cy="5" r="1"></circle><circle cx="9" cy="19" r="1"></circle><circle cx="15" cy="12" r="1"></circle><circle cx="15" cy="5" r="1"></circle><circle cx="15" cy="19" r="1"></circle>\',6)]),8,RA)),Ne("rect",{x:I.value-25,y:me.value+B(s).rowHeight/2-10,width:"16",height:"19",fill:"transparent",class:"cursor-crosshair",title:"Drag to move",onTouchstart:X[0]||(X[0]=(...re)=>B(d)&&B(d)(...re)),onMousedown:X[1]||(X[1]=Rn((...re)=>B(d)&&B(d)(...re),["prevent","stop"]))},null,40,PA)])):Gn("",!0),ct(SA,null,{default:Gr(()=>[B(s).mode==="timeline"?oT((ze(),Qe("text",{key:0,x:I.value+E.value.width+6,y:me.value+B(s).rowHeight/2,innerHTML:` ${ae.titleSvg}`,fill:"currentColor","font-size":B(s).eventFontSize,"font-weight":B(s).eventFontWeight,"dominant-baseline":"central"},null,8,YA)),[[Ig,!B(Y)]]):Gn("",!0)]),_:1})],34))}}),$A=xt({__name:"SvgNodeRow",props:{eventy:{},path:{},numAbove:{},numChildren:{}},setup(t){const e=t,n=Et(),{editEventDateRange:s}=n,r=Z(()=>e.path.split(",").map(P=>parseInt(P))),i=Z(()=>n.hoveringEventPaths),{eventRange:o,supplemental:a,percent:l,matchedListItems:c,tags:u,color:f,dateText:d,completed:h,recurrence:y,source:m,titleSvg:p}=TA(Z(()=>e.eventy)),b=Z(()=>r.value),O=Z(()=>n.scaleOfViewportDateInterval),E=P=>s(r.value,md(P),O.value),I=P=>{P?n.setHoveringEvent(e.path.split(",").map(de=>parseInt(de))):n.clearHoveringEvent()},z=Z(()=>n.isDetailEventPath(b.value)),{tempFrom:W,tempTo:C}=Vw(Z(()=>L.value),Z(()=>Y.value),()=>E(se.value)),L=Z(()=>o.value.fromDateTimeIso),Y=Z(()=>o.value.toDateTimeIso),V=_e(!1);rt(V,P=>I(P));const se=Z(()=>{const P=Zt({fromDateTimeIso:L.value,toDateTimeIso:Y.value});if(!W.value&&!C.value)return P;if(W.value){if(!C.value)return+W.value<+P.toDateTime?{fromDateTime:W.value,toDateTime:P.toDateTime}:{fromDateTime:P.toDateTime,toDateTime:W.value}}else return+C.value>+P.fromDateTime?{fromDateTime:P.fromDateTime,toDateTime:C.value}:{fromDateTime:C.value,toDateTime:P.fromDateTime};return{fromDateTime:+W.value<+C.value?W.value:C.value,toDateTime:+W.value<+C.value?C.value:W.value}});return(P,de)=>(ze(),pn(FA,{source:B(m)||"default",supplemental:B(a)||[],"matched-list-items":B(c)||[],rangeFrom:B(o).fromDateTimeIso,rangeTo:B(o).toDateTimeIso,tags:B(u)||[],color:B(f),path:b.value,percent:B(l),dateText:B(d)||"",titleSvg:B(p)||"",completed:B(h),recurrence:B(y),onEditDateRange:E,onHover:I,"is-detail-event":z.value,hovering:B(jo)(i.value,b.value),numAbove:P.numAbove},null,8,["source","supplemental","matched-list-items","rangeFrom","rangeTo","tags","color","path","percent","dateText","titleSvg","completed","recurrence","is-detail-event","hovering","numAbove"]))}}),UA=xt({__name:"SvgEvents",setup(t){const e=Et(),n=Kd(),s=(r,i)=>({eventy:i,path:r.join(","),numChildren:n.childrenMap.get(r.join(",")),numAbove:n.predecessorMap.get(r.join(","))||0});return Z(()=>e.ganttSidebarTempWidth?e.ganttSidebarTempWidth:e.ganttSidebarWidth),(r,i)=>(ze(),Qe(gt,null,[(ze(!0),Qe(gt,null,xi(B(n).visibleNodes[1],({path:o,eventy:a})=>(ze(),pn(fA,Ri({key:o.join(","),ref_for:!0},s(o,a)),null,16))),128)),(ze(!0),Qe(gt,null,xi(B(n).visibleNodes[0],({path:o,eventy:a,key:l})=>(ze(),pn($A,Ri({ref_for:!0},s(o,a)),null,16))),256)),ct(eA)],64))}}),zA=xt({__name:"SvgStyles",setup(t){const e=El(),n=Z(()=>{var G,S,w;return((w=(S=(G=e.markwhen)==null?void 0:G.parsed.header)==null?void 0:S.timeline)==null?void 0:w.style)??{}}),s=G=>Z(()=>G().map(S=>typeof S=="string"?S.replace(/^(\\\\\\\\#|\\))/,"#"):S)),r=s(()=>{var S,w,M,R;const G=((w=(S=n.value)==null?void 0:S.era)==null?void 0:w["stroke-width"])??1;return[G,((R=(M=n.value)==null?void 0:M.era)==null?void 0:R["stroke-width.dark"])??G]}),i=s(()=>{var S,w,M,R;const G=((w=(S=n.value)==null?void 0:S.era)==null?void 0:w.stroke)??"var(--color-zinc-400)";return[G,((R=(M=n.value)==null?void 0:M.era)==null?void 0:R["stroke.dark"])??G]}),o=s(()=>{var S,w,M,R,F,j;return[((w=(S=n.value)==null?void 0:S.nowLine)==null?void 0:w.stroke)??"var(--color-blue-300)",((R=(M=n.value)==null?void 0:M.nowLine)==null?void 0:R["stroke.dark"])??((j=(F=n.value)==null?void 0:F.nowLine)==null?void 0:j.stroke)??"var(--color-slate-400)"]}),a=s(()=>{var S,w,M,R;const G=((w=(S=n.value)==null?void 0:S.nowLine)==null?void 0:w["stroke-width"])??"2";return[G,((R=(M=n.value)==null?void 0:M.nowLine)==null?void 0:R["stroke-width.dark"])??G]}),l=s(()=>{var S,w,M,R;const G=((w=(S=n.value)==null?void 0:S.nowLine)==null?void 0:w["stroke-opacity"])??"1";return[G,((R=(M=n.value)==null?void 0:M.nowLine)==null?void 0:R["stroke-opacity.dark"])??G]}),c=s(()=>{var S,w,M,R;const G=((w=(S=n.value)==null?void 0:S.marker)==null?void 0:w.fill)??"transparent";return[G,((R=(M=n.value)==null?void 0:M.marker)==null?void 0:R["fill.dark"])??G]}),u=s(()=>{var S,w,M,R;const G=((w=(S=n.value)==null?void 0:S.marker)==null?void 0:w["fill-opacity"])??1;return[G,((R=(M=n.value)==null?void 0:M.marker)==null?void 0:R["fill-opacity.dark"])??G]}),f=s(()=>{var S,w,M,R,F,j;return[((M=(w=(S=n.value)==null?void 0:S.marker)==null?void 0:w.weekend)==null?void 0:M.fill)??"rgb(161, 161, 170)",((j=(F=(R=n.value)==null?void 0:R.marker)==null?void 0:F.weekend)==null?void 0:j["fill.dark"])??"rgb(113, 113, 122)"]}),d=s(()=>{var S,w,M,R,F,j;return[((w=(S=n.value)==null?void 0:S.marker)==null?void 0:w.stroke)??"var(--color-zinc-300)",((R=(M=n.value)==null?void 0:M.marker)==null?void 0:R["stroke.dark"])??((j=(F=n.value)==null?void 0:F.marker)==null?void 0:j.stroke)??"var(--color-zinc-500)"]}),h=s(()=>{var S,w,M,R;const G=((w=(S=n.value)==null?void 0:S.marker)==null?void 0:w["stroke-width"])??1;return[G,((R=(M=n.value)==null?void 0:M.marker)==null?void 0:R["stroke-width.dark"])??G]}),y=s(()=>{var S,w,M,R;const G=((w=(S=n.value)==null?void 0:S.marker)==null?void 0:w["stroke-dasharray"])??"2,3";return[G,((R=(M=n.value)==null?void 0:M.marker)==null?void 0:R["stroke-dasharray.dark"])??G]}),m=s(()=>{var S,w,M,R;const G=((w=(S=n.value)==null?void 0:S.marker)==null?void 0:w["stroke-opacity"])??1;return[G,((R=(M=n.value)==null?void 0:M.marker)==null?void 0:R["stroke-opacity.dark"])??G]}),p=s(()=>{var S,w,M,R,F,j;const G=((M=(w=(S=n.value)==null?void 0:S.marker)==null?void 0:w.hover)==null?void 0:M.fill)??"transparent";return[G,((j=(F=(R=n.value)==null?void 0:R.marker)==null?void 0:F.hover)==null?void 0:j["fill.dark"])??G]}),b=s(()=>{var S,w,M,R,F,j;const G=((M=(w=(S=n.value)==null?void 0:S.marker)==null?void 0:w.hover)==null?void 0:M["fill-opacity"])??1;return[G,((j=(F=(R=n.value)==null?void 0:R.marker)==null?void 0:F.hover)==null?void 0:j["fill-opacity.dark"])??G]}),O=s(()=>{var S,w,M,R,F,j;const G=((M=(w=(S=n.value)==null?void 0:S.marker)==null?void 0:w.hover)==null?void 0:M["stroke-opacity"])??1;return[G,((j=(F=(R=n.value)==null?void 0:R.marker)==null?void 0:F.hover)==null?void 0:j["stroke-opacity.dark"])??G]}),E=s(()=>{var S,w,M,R,F,j;const G=((M=(w=(S=n.value)==null?void 0:S.marker)==null?void 0:w.hover)==null?void 0:M["stroke-dasharray"])??"100,0";return[G,((j=(F=(R=n.value)==null?void 0:R.marker)==null?void 0:F.hover)==null?void 0:j["stroke-dasharray.dark"])??G]}),I=s(()=>{var S,w,M,R,F,j,Q,ue,oe;return[((M=(w=(S=n.value)==null?void 0:S.marker)==null?void 0:w.hover)==null?void 0:M.stroke)??"var(--color-zinc-300)",((j=(F=(R=n.value)==null?void 0:R.marker)==null?void 0:F.hover)==null?void 0:j["stroke.dark"])??((oe=(ue=(Q=n.value)==null?void 0:Q.marker)==null?void 0:ue.hover)==null?void 0:oe.stroke)??"var(--color-zinc-500)"]}),z=s(()=>{var S,w,M,R,F,j;const G=((M=(w=(S=n.value)==null?void 0:S.marker)==null?void 0:w.hover)==null?void 0:M["stroke-width"])??1;return[G,((j=(F=(R=n.value)==null?void 0:R.marker)==null?void 0:F.hover)==null?void 0:j["stroke-width.dark"])??G]}),W=s(()=>{var w,M,R,F;const G=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.fill;return[G??"var(--color-zinc-400)",((F=(R=n.value)==null?void 0:R.group)==null?void 0:F["fill.dark"])??G??"var(--color-zinc-500)"]}),C=s(()=>{var w,M,R,F;const G=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M["fill-opacity"];return[G??.1,((F=(R=n.value)==null?void 0:R.group)==null?void 0:F["fill-opacity.dark"])??G??.1]}),L=s(()=>{var w,M,R,F;const G=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.stroke;return[G??"var(--color-zinc-500)",((F=(R=n.value)==null?void 0:R.group)==null?void 0:F["stroke.dark"])??G??"var(--color-zinc-400)"]}),Y=s(()=>{var w,M,R,F;const G=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M["stroke-width"];return[G??1,((F=(R=n.value)==null?void 0:R.group)==null?void 0:F["stroke-width.dark"])??G??1]}),V=s(()=>{var w,M,R,F;const G=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M["stroke-opacity"];return[G??.3,((F=(R=n.value)==null?void 0:R.group)==null?void 0:F["stroke-opacity.dark"])??G??.3]}),se=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.hover)==null?void 0:R.fill;return[G??"var(--color-zinc-400)",((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.hover)==null?void 0:Q["fill.dark"])??G??"var(--color-zinc-500)"]}),P=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.hover)==null?void 0:R["fill-opacity"];return[G??.2,((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.hover)==null?void 0:Q["fill-opacity.dark"])??G??.2]}),de=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.hover)==null?void 0:R.stroke;return[G??"var(--color-zinc-500)",((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.hover)==null?void 0:Q["stroke.dark"])??G??"var(--color-zinc-400)"]}),Le=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.hover)==null?void 0:R["stroke-width"];return[G??1,((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.hover)==null?void 0:Q["stroke-width.dark"])??G??1]}),Re=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.hover)==null?void 0:R["stroke-opacity"];return[G??.5,((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.hover)==null?void 0:Q["stroke-opacity.dark"])??G??.5]}),Te=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.detail)==null?void 0:R.fill;return[G??"var(--color-zinc-300)",((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.detail)==null?void 0:Q["fill.dark"])??G??"var(--color-zinc-500)"]}),Oe=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.detail)==null?void 0:R["fill-opacity"];return[G??.2,((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.detail)==null?void 0:Q["fill-opacity.dark"])??G??.2]}),me=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.detail)==null?void 0:R.stroke;return[G??"var(--color-zinc-400)",((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.detail)==null?void 0:Q["stroke.dark"])??G??"var(--color-zinc-300)"]}),je=s(()=>{var w,M,R,F;const G=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M["stroke-dasharray"];return[G??"200,0",((F=(R=n.value)==null?void 0:R.group)==null?void 0:F["stroke-dasharray.dark"])??G]}),ae=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.hover)==null?void 0:R["stroke-dasharray"];return[G??"300,0",((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.hover)==null?void 0:Q["stroke-dasharray.dark"])??G]}),X=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.detail)==null?void 0:R["stroke-dasharray"];return[G??"400,0",((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.detail)==null?void 0:Q["stroke-dasharray.dark"])??G]}),re=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.detail)==null?void 0:R["stroke-width"];return[G??1,((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.detail)==null?void 0:Q["stroke-width.dark"])??G??1]}),Pe=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.detail)==null?void 0:R["stroke-opacity"];return[G??1,((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.detail)==null?void 0:Q["stroke-opacity.dark"])??G??1]}),Xe=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.text)==null?void 0:R.color;return[G??"var(--color-zinc-800)",((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.text)==null?void 0:Q["color.dark"])??G??"var(--color-zinc-100)"]}),ut=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.text)==null?void 0:R.fill;return[G??"var(--color-zinc-300)",((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.text)==null?void 0:Q["fill.dark"])??G??"var(--color-zinc-700)"]}),yt=s(()=>{var w,M,R,F,j,Q,ue,oe;const G=(F=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.hover)==null?void 0:R.text)==null?void 0:F.fill;return[G??"var(--color-zinc-50)",((oe=(ue=(Q=(j=n.value)==null?void 0:j.group)==null?void 0:Q.hover)==null?void 0:ue.text)==null?void 0:oe["fill.dark"])??G??"var(--color-zinc-700)"]}),ee=s(()=>{var w,M,R,F,j,Q,ue,oe;const G=(F=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.detail)==null?void 0:R.text)==null?void 0:F.fill;return[G??"var(--color-zinc-50)",((oe=(ue=(Q=(j=n.value)==null?void 0:j.group)==null?void 0:Q.detail)==null?void 0:ue.text)==null?void 0:oe["fill.dark"])??G??"var(--color-zinc-700)"]}),be=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.text)==null?void 0:R["font-size"];return[G??"0.875rem",((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.text)==null?void 0:Q["font-size.dark"])??G??"0.875rem"]}),fe=s(()=>{var w,M,R,F,j,Q;const G=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.text)==null?void 0:R["font-weight"];return[G??"600",((Q=(j=(F=n.value)==null?void 0:F.group)==null?void 0:j.text)==null?void 0:Q["font-weight.dark"])??G??"600"]}),ke=s(()=>{var w,M,R,F,j,Q,ue,oe;const G=(F=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.hover)==null?void 0:R.text)==null?void 0:F.color;return[G??"var(--color-zinc-900)",((oe=(ue=(Q=(j=n.value)==null?void 0:j.group)==null?void 0:Q.hover)==null?void 0:ue.text)==null?void 0:oe["color.dark"])??G??"var(--color-zinc-50)"]}),He=s(()=>{var w,M,R,F,j,Q,ue,oe;const G=(F=(R=(M=(w=n.value)==null?void 0:w.group)==null?void 0:M.detail)==null?void 0:R.text)==null?void 0:F.color;return[G??"var(--color-zinc-900)",((oe=(ue=(Q=(j=n.value)==null?void 0:j.group)==null?void 0:Q.detail)==null?void 0:ue.text)==null?void 0:oe["color.dark"])??G??"var(--color-zinc-50)"]});return(G,S)=>(ze(),Qe("svg:style",null," svg { font-family: system-ui; --color-red-50: oklch(0.971 0.013 17.38); --color-red-100: oklch(0.936 0.032 17.717); --color-red-200: oklch(0.885 0.062 18.334); --color-red-300: oklch(0.808 0.114 19.571); --color-red-400: oklch(0.704 0.191 22.216); --color-red-500: oklch(0.637 0.237 25.331); --color-red-600: oklch(0.577 0.245 27.325); --color-red-700: oklch(0.505 0.213 27.518); --color-red-800: oklch(0.444 0.177 26.899); --color-red-900: oklch(0.396 0.141 25.723); --color-red-950: oklch(0.258 0.092 26.042); --color-orange-50: oklch(0.98 0.016 73.684); --color-orange-100: oklch(0.954 0.038 75.164); --color-orange-200: oklch(0.901 0.076 70.697); --color-orange-300: oklch(0.837 0.128 66.29); --color-orange-400: oklch(0.75 0.183 55.934); --color-orange-500: oklch(0.705 0.213 47.604); --color-orange-600: oklch(0.646 0.222 41.116); --color-orange-700: oklch(0.553 0.195 38.402); --color-orange-800: oklch(0.47 0.157 37.304); --color-orange-900: oklch(0.408 0.123 38.172); --color-orange-950: oklch(0.266 0.079 36.259); --color-amber-50: oklch(0.987 0.022 95.277); --color-amber-100: oklch(0.962 0.059 95.617); --color-amber-200: oklch(0.924 0.12 95.746); --color-amber-300: oklch(0.879 0.169 91.605); --color-amber-400: oklch(0.828 0.189 84.429); --color-amber-500: oklch(0.769 0.188 70.08); --color-amber-600: oklch(0.666 0.179 58.318); --color-amber-700: oklch(0.555 0.163 48.998); --color-amber-800: oklch(0.473 0.137 46.201); --color-amber-900: oklch(0.414 0.112 45.904); --color-amber-950: oklch(0.279 0.077 45.635); --color-yellow-50: oklch(0.987 0.026 102.212); --color-yellow-100: oklch(0.973 0.071 103.193); --color-yellow-200: oklch(0.945 0.129 101.54); --color-yellow-300: oklch(0.905 0.182 98.111); --color-yellow-400: oklch(0.852 0.199 91.936); --color-yellow-500: oklch(0.795 0.184 86.047); --color-yellow-600: oklch(0.681 0.162 75.834); --color-yellow-700: oklch(0.554 0.135 66.442); --color-yellow-800: oklch(0.476 0.114 61.907); --color-yellow-900: oklch(0.421 0.095 57.708); --color-yellow-950: oklch(0.286 0.066 53.813); --color-lime-50: oklch(0.986 0.031 120.757); --color-lime-100: oklch(0.967 0.067 122.328); --color-lime-200: oklch(0.938 0.127 124.321); --color-lime-300: oklch(0.897 0.196 126.665); --color-lime-400: oklch(0.841 0.238 128.85); --color-lime-500: oklch(0.768 0.233 130.85); --color-lime-600: oklch(0.648 0.2 131.684); --color-lime-700: oklch(0.532 0.157 131.589); --color-lime-800: oklch(0.453 0.124 130.933); --color-lime-900: oklch(0.405 0.101 131.063); --color-lime-950: oklch(0.274 0.072 132.109); --color-green-50: oklch(0.982 0.018 155.826); --color-green-100: oklch(0.962 0.044 156.743); --color-green-200: oklch(0.925 0.084 155.995); --color-green-300: oklch(0.871 0.15 154.449); --color-green-400: oklch(0.792 0.209 151.711); --color-green-500: oklch(0.723 0.219 149.579); --color-green-600: oklch(0.627 0.194 149.214); --color-green-700: oklch(0.527 0.154 150.069); --color-green-800: oklch(0.448 0.119 151.328); --color-green-900: oklch(0.393 0.095 152.535); --color-green-950: oklch(0.266 0.065 152.934); --color-emerald-50: oklch(0.979 0.021 166.113); --color-emerald-100: oklch(0.95 0.052 163.051); --color-emerald-200: oklch(0.905 0.093 164.15); --color-emerald-300: oklch(0.845 0.143 164.978); --color-emerald-400: oklch(0.765 0.177 163.223); --color-emerald-500: oklch(0.696 0.17 162.48); --color-emerald-600: oklch(0.596 0.145 163.225); --color-emerald-700: oklch(0.508 0.118 165.612); --color-emerald-800: oklch(0.432 0.095 166.913); --color-emerald-900: oklch(0.378 0.077 168.94); --color-emerald-950: oklch(0.262 0.051 172.552); --color-teal-50: oklch(0.984 0.014 180.72); --color-teal-100: oklch(0.953 0.051 180.801); --color-teal-200: oklch(0.91 0.096 180.426); --color-teal-300: oklch(0.855 0.138 181.071); --color-teal-400: oklch(0.777 0.152 181.912); --color-teal-500: oklch(0.704 0.14 182.503); --color-teal-600: oklch(0.6 0.118 184.704); --color-teal-700: oklch(0.511 0.096 186.391); --color-teal-800: oklch(0.437 0.078 188.216); --color-teal-900: oklch(0.386 0.063 188.416); --color-teal-950: oklch(0.277 0.046 192.524); --color-cyan-50: oklch(0.984 0.019 200.873); --color-cyan-100: oklch(0.956 0.045 203.388); --color-cyan-200: oklch(0.917 0.08 205.041); --color-cyan-300: oklch(0.865 0.127 207.078); --color-cyan-400: oklch(0.789 0.154 211.53); --color-cyan-500: oklch(0.715 0.143 215.221); --color-cyan-600: oklch(0.609 0.126 221.723); --color-cyan-700: oklch(0.52 0.105 223.128); --color-cyan-800: oklch(0.45 0.085 224.283); --color-cyan-900: oklch(0.398 0.07 227.392); --color-cyan-950: oklch(0.302 0.056 229.695); --color-sky-50: oklch(0.977 0.013 236.62); --color-sky-100: oklch(0.951 0.026 236.824); --color-sky-200: oklch(0.901 0.058 230.902); --color-sky-300: oklch(0.828 0.111 230.318); --color-sky-400: oklch(0.746 0.16 232.661); --color-sky-500: oklch(0.685 0.169 237.323); --color-sky-600: oklch(0.588 0.158 241.966); --color-sky-700: oklch(0.5 0.134 242.749); --color-sky-800: oklch(0.443 0.11 240.79); --color-sky-900: oklch(0.391 0.09 240.876); --color-sky-950: oklch(0.293 0.066 243.157); --color-blue-50: oklch(0.97 0.014 254.604); --color-blue-100: oklch(0.932 0.032 255.585); --color-blue-200: oklch(0.882 0.059 254.128); --color-blue-300: oklch(0.809 0.105 251.813); --color-blue-400: oklch(0.707 0.165 254.624); --color-blue-500: oklch(0.623 0.214 259.815); --color-blue-600: oklch(0.546 0.245 262.881); --color-blue-700: oklch(0.488 0.243 264.376); --color-blue-800: oklch(0.424 0.199 265.638); --color-blue-900: oklch(0.379 0.146 265.522); --color-blue-950: oklch(0.282 0.091 267.935); --color-indigo-50: oklch(0.962 0.018 272.314); --color-indigo-100: oklch(0.93 0.034 272.788); --color-indigo-200: oklch(0.87 0.065 274.039); --color-indigo-300: oklch(0.785 0.115 274.713); --color-indigo-400: oklch(0.673 0.182 276.935); --color-indigo-500: oklch(0.585 0.233 277.117); --color-indigo-600: oklch(0.511 0.262 276.966); --color-indigo-700: oklch(0.457 0.24 277.023); --color-indigo-800: oklch(0.398 0.195 277.366); --color-indigo-900: oklch(0.359 0.144 278.697); --color-indigo-950: oklch(0.257 0.09 281.288); --color-violet-50: oklch(0.969 0.016 293.756); --color-violet-100: oklch(0.943 0.029 294.588); --color-violet-200: oklch(0.894 0.057 293.283); --color-violet-300: oklch(0.811 0.111 293.571); --color-violet-400: oklch(0.702 0.183 293.541); --color-violet-500: oklch(0.606 0.25 292.717); --color-violet-600: oklch(0.541 0.281 293.009); --color-violet-700: oklch(0.491 0.27 292.581); --color-violet-800: oklch(0.432 0.232 292.759); --color-violet-900: oklch(0.38 0.189 293.745); --color-violet-950: oklch(0.283 0.141 291.089); --color-purple-50: oklch(0.977 0.014 308.299); --color-purple-100: oklch(0.946 0.033 307.174); --color-purple-200: oklch(0.902 0.063 306.703); --color-purple-300: oklch(0.827 0.119 306.383); --color-purple-400: oklch(0.714 0.203 305.504); --color-purple-500: oklch(0.627 0.265 303.9); --color-purple-600: oklch(0.558 0.288 302.321); --color-purple-700: oklch(0.496 0.265 301.924); --color-purple-800: oklch(0.438 0.218 303.724); --color-purple-900: oklch(0.381 0.176 304.987); --color-purple-950: oklch(0.291 0.149 302.717); --color-fuchsia-50: oklch(0.977 0.017 320.058); --color-fuchsia-100: oklch(0.952 0.037 318.852); --color-fuchsia-200: oklch(0.903 0.076 319.62); --color-fuchsia-300: oklch(0.833 0.145 321.434); --color-fuchsia-400: oklch(0.74 0.238 322.16); --color-fuchsia-500: oklch(0.667 0.295 322.15); --color-fuchsia-600: oklch(0.591 0.293 322.896); --color-fuchsia-700: oklch(0.518 0.253 323.949); --color-fuchsia-800: oklch(0.452 0.211 324.591); --color-fuchsia-900: oklch(0.401 0.17 325.612); --color-fuchsia-950: oklch(0.293 0.136 325.661); --color-pink-50: oklch(0.971 0.014 343.198); --color-pink-100: oklch(0.948 0.028 342.258); --color-pink-200: oklch(0.899 0.061 343.231); --color-pink-300: oklch(0.823 0.12 346.018); --color-pink-400: oklch(0.718 0.202 349.761); --color-pink-500: oklch(0.656 0.241 354.308); --color-pink-600: oklch(0.592 0.249 0.584); --color-pink-700: oklch(0.525 0.223 3.958); --color-pink-800: oklch(0.459 0.187 3.815); --color-pink-900: oklch(0.408 0.153 2.432); --color-pink-950: oklch(0.284 0.109 3.907); --color-rose-50: oklch(0.969 0.015 12.422); --color-rose-100: oklch(0.941 0.03 12.58); --color-rose-200: oklch(0.892 0.058 10.001); --color-rose-300: oklch(0.81 0.117 11.638); --color-rose-400: oklch(0.712 0.194 13.428); --color-rose-500: oklch(0.645 0.246 16.439); --color-rose-600: oklch(0.586 0.253 17.585); --color-rose-700: oklch(0.514 0.222 16.935); --color-rose-800: oklch(0.455 0.188 13.697); --color-rose-900: oklch(0.41 0.159 10.272); --color-rose-950: oklch(0.271 0.105 12.094); --color-slate-50: oklch(0.984 0.003 247.858); --color-slate-100: oklch(0.968 0.007 247.896); --color-slate-200: oklch(0.929 0.013 255.508); --color-slate-300: oklch(0.869 0.022 252.894); --color-slate-400: oklch(0.704 0.04 256.788); --color-slate-500: oklch(0.554 0.046 257.417); --color-slate-600: oklch(0.446 0.043 257.281); --color-slate-700: oklch(0.372 0.044 257.287); --color-slate-800: oklch(0.279 0.041 260.031); --color-slate-900: oklch(0.208 0.042 265.755); --color-slate-950: oklch(0.129 0.042 264.695); --color-gray-50: oklch(0.985 0.002 247.839); --color-gray-100: oklch(0.967 0.003 264.542); --color-gray-200: oklch(0.928 0.006 264.531); --color-gray-300: oklch(0.872 0.01 258.338); --color-gray-400: oklch(0.707 0.022 261.325); --color-gray-500: oklch(0.551 0.027 264.364); --color-gray-600: oklch(0.446 0.03 256.802); --color-gray-700: oklch(0.373 0.034 259.733); --color-gray-800: oklch(0.278 0.033 256.848); --color-gray-900: oklch(0.21 0.034 264.665); --color-gray-950: oklch(0.13 0.028 261.692); --color-zinc-50: oklch(0.985 0 0); --color-zinc-100: oklch(0.967 0.001 286.375); --color-zinc-200: oklch(0.92 0.004 286.32); --color-zinc-300: oklch(0.871 0.006 286.286); --color-zinc-400: oklch(0.705 0.015 286.067); --color-zinc-500: oklch(0.552 0.016 285.938); --color-zinc-600: oklch(0.442 0.017 285.786); --color-zinc-700: oklch(0.37 0.013 285.805); --color-zinc-800: oklch(0.274 0.006 286.033); --color-zinc-900: oklch(0.21 0.006 285.885); --color-zinc-950: oklch(0.141 0.005 285.823); --color-neutral-50: oklch(0.985 0 0); --color-neutral-100: oklch(0.97 0 0); --color-neutral-200: oklch(0.922 0 0); --color-neutral-300: oklch(0.87 0 0); --color-neutral-400: oklch(0.708 0 0); --color-neutral-500: oklch(0.556 0 0); --color-neutral-600: oklch(0.439 0 0); --color-neutral-700: oklch(0.371 0 0); --color-neutral-800: oklch(0.269 0 0); --color-neutral-900: oklch(0.205 0 0); --color-neutral-950: oklch(0.145 0 0); --color-stone-50: oklch(0.985 0.001 106.423); --color-stone-100: oklch(0.97 0.001 106.424); --color-stone-200: oklch(0.923 0.003 48.717); --color-stone-300: oklch(0.869 0.005 56.366); --color-stone-400: oklch(0.709 0.01 56.259); --color-stone-500: oklch(0.553 0.013 58.071); --color-stone-600: oklch(0.444 0.011 73.639); --color-stone-700: oklch(0.374 0.01 67.558); --color-stone-800: oklch(0.268 0.007 34.298); --color-stone-900: oklch(0.216 0.006 56.043); --color-stone-950: oklch(0.147 0.004 49.25); --color-black: #000; --color-white: #fff; } .svg { color: var(--color-zinc-800); } .dark.svg { color: var(--color-zinc-100); } .era { stroke-width: "+ve(B(r)[0])+"; stroke: "+ve(B(i)[0])+"; } .nowLine { stroke: "+ve(B(o)[0])+"; stroke-width: "+ve(B(a)[0])+"; stroke-opacity: "+ve(B(l)[0])+" } .marker { fill: "+ve(B(c)[0])+"; fill-opacity: "+ve(B(u)[0])+"; } .marker-hovering { fill: "+ve(B(p)[0])+"; fill-opacity: "+ve(B(b)[0])+"; } .marker-weekend { fill: "+ve(B(f)[0])+"; } .marker-stroke { stroke-opacity: "+ve(B(m)[0])+"; stroke-dasharray: "+ve(B(y)[0])+"; stroke: "+ve(B(d)[0])+"; stroke-width: "+ve(B(h)[0])+"; } .marker-stroke-hovering { stroke-opacity: "+ve(B(O)[0])+"; stroke-dasharray: "+ve(B(E)[0])+"; stroke: "+ve(B(I)[0])+"; stroke-width: "+ve(B(z)[0])+"; } .marker-top { font-size: 14px; color: var(--color-zinc-500); } .marker-top-area { color: white; } .marker-top-stroke { color: var(--color-zinc-200); } .marker-top-drop { font-size: 12px; font-weight: bold; } .marker-separator { color: var(--color-zinc-200); } .group { fill: "+ve(B(W)[0])+"; fill-opacity: "+ve(B(C)[0])+"; stroke: "+ve(B(L)[0])+"; stroke-width: "+ve(B(Y)[0])+"; stroke-opacity: "+ve(B(V)[0])+"; stroke-dasharray: "+ve(B(je)[0])+"; } .group-text { color: "+ve(B(Xe)[0])+"; font-size: "+ve(B(be)[0])+"; font-weight: "+ve(B(fe)[0])+"; --text-filter-fill-color: "+ve(B(ut)[0])+"; } .group-hovering { fill: "+ve(B(se)[0])+"; fill-opacity: "+ve(B(P)[0])+"; stroke: "+ve(B(de)[0])+"; stroke-width: "+ve(B(Le)[0])+"; stroke-opacity: "+ve(B(Re)[0])+"; stroke-dasharray: "+ve(B(ae)[0])+"; } .group-hovering .group-text { color: "+ve(B(ke)[0])+"; --text-filter-fill-color: "+ve(B(yt)[0])+"; } .group-detail { fill: "+ve(B(Te)[0])+"; fill-opacity: "+ve(B(Oe)[0])+"; stroke: "+ve(B(me)[0])+"; stroke-width: "+ve(B(re)[0])+"; stroke-opacity: "+ve(B(Pe)[0])+"; stroke-dasharray: "+ve(B(X)[0])+"; } .group-detail .group-text { color: "+ve(B(He)[0])+"; --text-filter-fill-color: "+ve(B(ee)[0])+"; } .dark { .era { stroke-width: "+ve(B(r)[1])+"; stroke: "+ve(B(i)[1])+"; } .nowLine { stroke: "+ve(B(o)[1])+"; stroke-width: "+ve(B(a)[1])+"; stroke-opacity: "+ve(B(l)[1])+" } .marker { fill: "+ve(B(c)[1])+"; fill-opacity: "+ve(B(u)[1])+"; } .marker-hovering { fill: "+ve(B(p)[1])+"; fill-opacity: "+ve(B(b)[1])+"; } .marker-weekend { fill: "+ve(B(f)[1])+"; } .marker-stroke { stroke-opacity: "+ve(B(m)[1])+"; stroke-dasharray: "+ve(B(y)[1])+"; stroke: "+ve(B(d)[1])+"; stroke-width: "+ve(B(h)[1])+"; } .marker-stroke-hovering { stroke-opacity: "+ve(B(O)[1])+"; stroke-dasharray: "+ve(B(E)[1])+"; stroke: "+ve(B(I)[1])+"; stroke-width: "+ve(B(z)[1])+"; } .marker-top { color: var(--color-zinc-300); } .marker-top-area { color: var(--color-zinc-800); } .marker-top-stroke { color: var(--color-zinc-400); } .marker-separator { color: var(--color-zinc-600); } .group { fill: "+ve(B(W)[1])+"; fill-opacity: "+ve(B(C)[1])+"; stroke: "+ve(B(L)[1])+"; stroke-width: "+ve(B(Y)[1])+"; stroke-opacity: "+ve(B(V)[1])+"; stroke-dasharray: "+ve(B(je)[1])+"; } .group-text { color: "+ve(B(Xe)[1])+"; font-size: "+ve(B(be)[1])+"; font-weight: "+ve(B(fe)[1])+"; --text-filter-fill-color: "+ve(B(ut)[1])+"; } .group-hovering { fill: "+ve(B(se)[1])+"; fill-opacity: "+ve(B(P)[1])+"; stroke: "+ve(B(de)[1])+"; stroke-width: "+ve(B(Le)[1])+"; stroke-opacity: "+ve(B(Re)[1])+"; stroke-dasharray: "+ve(B(ae)[1])+"; } .group-hovering .group-text { color: "+ve(B(ke)[1])+"; --text-filter-fill-color: "+ve(B(yt)[1])+"; } .group-detail { fill: "+ve(B(Te)[1])+"; fill-opacity: "+ve(B(Oe)[1])+"; stroke: "+ve(B(me)[1])+"; stroke-width: "+ve(B(re)[1])+"; stroke-opacity: "+ve(B(Pe)[1])+"; stroke-dasharray: "+ve(B(X)[1])+"; } .group-detail .group-text { color: "+ve(B(He)[1])+"; --text-filter-fill-color: "+ve(B(ee)[1])+"; } } ",1))}}),HA=["width","height","viewBox"],BA={class:"eras"},WA=["x","y","width"],jA=["d"],qw=xt({__name:"Svg",props:{viewBox:{}},setup(t){const e=t,n=Hi(),s=Et(),r=Z(()=>{const u=[];if(!s.transformedEvents)return[];for(const{eventy:f,path:d}of Po(s.transformedEvents))if(Yn(f)&&["era","milestone"].some(h=>f.tags.map(y=>y.toLowerCase()).includes(h))){const{fromDateTime:h,toDateTime:y}=Zt(f.dateRangeIso),m=Uw(f).color.value,p=jo(s.hoveringEventPaths,d),b={left:s.distanceFromBaselineLeftmostDate(h),width:Math.max(2,s.distanceBetweenDates(h,y))};m&&(b.backgroundColor=`rgba(${m}, ${p?.15:.1})`,b.borderColor=`rgba(${m}, ${p?.75:.3})`),u.push(b)}return u}),i=Kd(),o=Z(()=>s.viewport),a=Ol(),l=Z(()=>e.viewBox?e.viewBox.split(" ")[2]:n.totalWidth),c=Z(()=>e.viewBox?e.viewBox.split(" ")[3]:Math.max(i.nodeArray.length*s.rowHeight+500,o.value.height));return(u,f)=>(ze(),Qe("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",class:xn(B(s).darkMode?"svg dark":"svg"),width:l.value,height:c.value,viewBox:u.viewBox,style:mn(`background-color: ${B(s).darkMode?"var(--color-zinc-800)":"white"}`)},[ct(zA),Ne("g",BA,[(ze(!0),Qe(gt,null,xi(r.value,d=>(ze(),pn(qC,{era:d},null,8,["era"]))),256))]),ct(jC),(ze(!0),Qe(gt,null,xi(B(n).markers,d=>(ze(),pn(BC,{m:d,key:d.ts},null,8,["m"]))),128)),ct(UA),B(a).isExporting?(ze(),Qe(gt,{key:0},[Ne("rect",{x:o.value.left,y:o.value.top,width:B(s).viewport.width,height:"26",class:"marker-top-area",fill:"currentColor",opacity:"1"},null,8,WA),Ne("path",{d:`M ${o.value.left} ${o.value.top+26} L ${o.value.left+o.value.width} ${o.value.top+26}`,class:"marker-separator",stroke:"currentColor"},null,8,jA),(ze(!0),Qe(gt,null,xi(B(n).markers,d=>(ze(),pn(zw,{m:d,external:!1},null,8,["m"]))),256))],64)):Gn("",!0)],14,HA))}}),Ol=si("export",()=>{const t=Et(),e=_e(!1),n=_e(0),s=_e(0);rt(e,l=>{l||(n.value=0,s.value=0)});const r=async()=>{const l=t.viewport,u=zk(xt({render(){return cu(qw,{viewBox:`${l.left} ${l.top} ${l.width} ${l.height}`})}}));return(await $w(u)).replaceAll("svg:style","style").replaceAll(/data-v-\\w+/g,"")},i=async()=>{const l=await r();return new Promise((c,u)=>{const d=document.createElement("canvas"),h=t.viewport.width,y=t.viewport.height;d.width=h*3,d.height=y*3,d.style.width=`${h}px`,d.style.height=`${y}px`;const m=d.getContext("2d");m==null||m.scale(3,3);const p=new Image,b=new Blob([l],{type:"image/svg+xml;charset=utf-8"}),O=URL.createObjectURL(b);p.onload=()=>{m==null||m.drawImage(p,0,0),URL.revokeObjectURL(O);const E=d.toDataURL("image/png",1);c(E)},p.src=O})};return{isExporting:e,tempLeftMargin:n,tempTopMargin:s,genSvg:r,downloadPng:async()=>{const l=await i(),c=document.createElement("a");c.href=l,c.download="timeline.png",c.click(),URL.revokeObjectURL(l)},downloadSvg:async()=>{const l=document.createElement("a"),c=new Blob([await r()],{type:"image/svg+xml"});l.href=URL.createObjectURL(c),l.download="timeline.svg",l.click(),URL.revokeObjectURL(l.href)}}}),VA={class:"hover:text-zinc-700 dark:text-zinc-400 text-zinc-500 dark:hover:text-zinc-300 border-t dark:border-zinc-700 w-full font-medium"},qA={class:"flex flex-row items-center noScrollBar relative gap-2 px-2 h-8"},KA={class:"flex flex-row pointer-events-auto shrink-0 items-center"},GA={class:"flex-row items-center justify-center flex-grow hidden md:flex"},ZA={class:"flex flex row overflow-visible p-[2px] pointer-events-auto ml-auto"},XA=xt({__name:"Settings",setup(t){const e=Et();El(),Z(()=>{let r=e.viewport.offsetLeft;return e.mode==="gantt"?r+(e.ganttSidebarTempWidth?e.ganttSidebarTempWidth:e.ganttSidebarWidth):r});const n=()=>e.goToNow(),s=Ol();return(r,i)=>(ze(),Qe("div",VA,[Ne("div",qA,[Ne("div",KA,[ct(al,{class:"gap-1",onClick:n},{default:Gr(()=>i[1]||(i[1]=[Ne("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-4 w-4"},[Ne("path",{d:"M8 2v4"}),Ne("path",{d:"M16 2v4"}),Ne("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),Ne("path",{d:"M3 10h18"})],-1),Ne("span",{class:"hidden md:block mt-px"},"Today",-1)])),_:1}),ct(SC)]),Ne("div",GA,[ct(al,{onClick:i[0]||(i[0]=o=>B(s).isExporting=!B(s).isExporting)},{default:Gr(()=>i[2]||(i[2]=[Ne("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-4 w-4"},[Ne("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),Ne("circle",{cx:"9",cy:"9",r:"2"}),Ne("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})],-1),Ne("span",{class:"hidden md:block"},"Export image",-1)])),_:1})]),Ne("div",ZA,[ct(kC)])])]))}}),JA=t=>{let e={time:0,x:0,y:0},n;const s=Et();let r=0,i=0,o=0;const a=c=>{const u=d=>{const h=o-d.clientY,y=h<0?(h-10)/-10:10/(h+10);s.setPageScale(Math.max(r*y,.01)),t(),d.stopPropagation(),d.stopImmediatePropagation(),d.preventDefault()};function f(){console.log("pointer up"),c.removeEventListener("pointermove",u),c.removeEventListener("pointerup",f)}c.addEventListener("pointermove",u),c.addEventListener("pointerup",f)};return c=>{if(c.pointerType==="touch"){const u=new Date().getTime(),f=u-e.time;if(f<500&&f>0&&Math.abs(c.clientX-e.x)<10&&Math.abs(c.clientY-e.y)<10){c.preventDefault(),i=c.clientX,o=c.clientY,r=s.pageScale;const d=c.target,h=s.dateFromClientLeft(i),y=s.distanceBetweenDates(h,s.referenceDate);s.referenceDate=h,d.scrollLeft=d.scrollLeft+y,a(d)}else n=setTimeout(()=>{clearTimeout(n)},500),e={time:u,x:c.clientX,y:c.clientY}}}},QA=xt({__name:"Resizers",setup(t){const e=Ol(),n=Z(()=>({left:`calc(10% + ${.8*e.tempLeftMargin}px - 1rem)`,top:"10%",bottom:"10%"})),s=Z(()=>({left:`calc(90% - ${.8*e.tempLeftMargin}px)`,top:"10%",bottom:"10%"})),r=Z(()=>({left:"10%",right:"10%",top:`calc(10% + ${.8*e.tempTopMargin}px - 1rem)`})),i=Z(()=>({left:"10%",right:"10%",top:`calc(90% - ${.8*e.tempTopMargin}px)`}));function o(W){return W instanceof TouchEvent?W.touches[0].clientY:W.clientY}function a(W){return W instanceof TouchEvent?W.touches[0].clientX:W.clientX}const l=_e(0),c=_e(0),u=W=>{W.preventDefault(),e.tempTopMargin=c.value+(o(W)-l.value)/.8},f=W=>{W.preventDefault(),e.tempTopMargin=c.value-(o(W)-l.value)/.8},d=W=>C=>{C.preventDefault(),l.value=o(C);const L=()=>{document.removeEventListener("mousemove",W==="top"?u:f),document.removeEventListener("touchmove",W==="top"?u:f),document.removeEventListener("mouseup",L),document.removeEventListener("touchend",L),c.value=e.tempTopMargin};document.addEventListener("mousemove",W==="top"?u:f),document.addEventListener("touchmove",W==="top"?u:f),document.addEventListener("mouseup",L),document.addEventListener("touchend",L)},h=d("top"),y=d("bottom"),m=_e(0),p=_e(0),b=W=>{W.preventDefault(),e.tempLeftMargin=p.value+(a(W)-m.value)/.8},O=W=>{W.preventDefault(),e.tempLeftMargin=p.value-(a(W)-m.value)/.8},E=W=>C=>{C.preventDefault(),m.value=a(C);const L=()=>{document.removeEventListener("mousemove",W==="left"?b:O),document.removeEventListener("touchmove",W==="left"?b:O),document.removeEventListener("mouseup",L),document.removeEventListener("touchend",L),p.value=e.tempLeftMargin};document.addEventListener("mousemove",W==="left"?b:O),document.addEventListener("touchmove",W==="left"?b:O),document.addEventListener("mouseup",L),document.addEventListener("touchend",L)},I=E("left"),z=E("right");return rt(()=>e.isExporting,W=>{W||(p.value=0,c.value=0)}),(W,C)=>(ze(),Qe(gt,null,[Ne("div",{class:"absolute h-4 rounded-lg cursor-ns-resize flex items-center justify-center group",style:mn(r.value),onMousedown:C[0]||(C[0]=(...L)=>B(h)&&B(h)(...L))},C[4]||(C[4]=[Ne("div",{class:"group-hover:bg-zinc-400 bg-zinc-300 dark:bg-zinc-600 group-hover:dark:bg-zinc-500 h-2 w-20 rounded"},null,-1)]),36),Ne("div",{class:"absolute w-4 rounded-lg cursor-ew-resize flex items-center justify-center group",style:mn(n.value),onMousedown:C[1]||(C[1]=(...L)=>B(I)&&B(I)(...L))},C[5]||(C[5]=[Ne("div",{class:"group-hover:bg-zinc-400 bg-zinc-300 dark:bg-zinc-600 group-hover:dark:bg-zinc-500 w-2 h-20 rounded"},null,-1)]),36),Ne("div",{class:"absolute w-4 rounded-lg cursor-ew-resize flex items-center justify-center group",style:mn(s.value),onMousedown:C[2]||(C[2]=(...L)=>B(z)&&B(z)(...L))},C[6]||(C[6]=[Ne("div",{class:"group-hover:bg-zinc-400 bg-zinc-300 dark:bg-zinc-600 group-hover:dark:bg-zinc-500 w-2 h-20 rounded"},null,-1)]),36),Ne("div",{class:"absolute h-4 rounded-lg cursor-ns-resize flex items-center justify-center group",style:mn(i.value),onMousedown:C[3]||(C[3]=(...L)=>B(y)&&B(y)(...L))},C[7]||(C[7]=[Ne("div",{class:"group-hover:bg-zinc-400 bg-zinc-300 dark:bg-zinc-600 group-hover:dark:bg-zinc-500 h-2 w-20 rounded"},null,-1)]),36)],64))}}),eN={class:"flex gap-4 items-center justify-center absolute bottom-0 left-0 right-0 h-10 text-sm"},tN=xt({__name:"ExportButtons",setup(t){const e=Ol();return(n,s)=>(ze(),Qe("div",eN,[Ne("button",{class:"flex flex-row items-center gap-1 font-bold cursor-pointer bg-white px-2 py-px rounded",onClick:s[0]||(s[0]=(...r)=>B(e).downloadSvg&&B(e).downloadSvg(...r))},s[3]||(s[3]=[Yf(\'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><path d="M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21"></path><path d="m14 19 3 3v-5.5"></path><path d="m17 22 3-3"></path><circle cx="9" cy="9" r="2"></circle></svg><span class="hidden md:block">Download</span>SVG \',3)])),Ne("button",{class:"flex flex-row items-center gap-1 font-bold cursor-pointer bg-white px-2 py-px rounded",onClick:s[1]||(s[1]=(...r)=>B(e).downloadPng&&B(e).downloadPng(...r))},s[4]||(s[4]=[Yf(\'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><path d="M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21"></path><path d="m14 19 3 3v-5.5"></path><path d="m17 22 3-3"></path><circle cx="9" cy="9" r="2"></circle></svg><span class="hidden md:block">Download</span>PNG \',3)])),Ne("button",{class:"text-white font-bold cursor-pointer",onClick:s[2]||(s[2]=r=>B(e).isExporting=!1)}," Done ")]))}}),nN={class:"h-full w-full flex flex-col"},sN={class:"w-full flex-grow flex flex-col overflow-hidden relative bg-zinc-700 dark:bg-zinc-900"},rN=["width"],iN=xt({__name:"Timeline",setup(t){const e=Et(),n=El();n.onJumpToRange=C=>{y(Zt(C))},rt(()=>e.rangeToJumpTo,C=>{C&&(y(C,!1),e.rangeToJumpTo=void 0)}),n.onJumpToPath=C=>{const L=gC(C).value;if(!L)return;const Y=Yn(L)?L.dateRangeIso:Sl(L,_l);if(Y&&(y("fromDateTimeIso"in Y?Zt(Y):Y),s.value&&C)){const V=s.value.scrollTop=Nw(C).top.value;s.value.scrollTop=V-p.value.height/2}},rt(()=>e.autoCenterSemaphore,()=>{b()});const s=_e(),r=()=>s.value?{left:s.value.scrollLeft,width:s.value.clientWidth,top:s.value.scrollTop,height:s.value.clientHeight,offsetLeft:s.value.offsetLeft}:{left:0,width:0,top:0,height:0,offsetLeft:0},i=C=>{s.value&&(s.value.scrollLeft=C.left,s.value.scrollTop=C.top)};rt(()=>e.viewport,C=>{Ws(()=>i(C))});const o=_e(null),a=_e(null);rt(()=>e.startedWidthChange,C=>{var Y;const L=((Y=s.value)==null?void 0:Y.scrollLeft)||0;o.value=C?L??null:null,a.value=e.pageScale}),rt([()=>e.pageTimelineMetadata.earliestTime,()=>e.pageTimelineMetadata.latestTime],()=>{Ws(u)});function l(){const C=s.value;if(!C)return;const L=C.clientLeft+C.clientWidth/2,Y=e.dateFromClientLeft(L);h(Y)}const c=oC(C=>{l(),Ws(u)},250);dC(s,C=>{c(C)});const u=()=>e.setViewport(r()),{trigger:f}=pC(s);let d=()=>{};mC(s,()=>{u()});const h=C=>{e.referenceDate=C;const L=s.value;L&&(L.scrollLeft=L.clientWidth*1.5)},y=(C,L=!0)=>{if(!C)return;const{width:Y}=r(),V=Gx(Y,C)/(L?3:1);e.setPageScale(V),Ws(()=>{h(Bx(C)),u()})},m=()=>h(ce.now());rt([()=>e.hideNowLine,()=>e.goToNowSemaphore],()=>m());const p=Z(()=>e.viewport);j0(()=>{var L;const C={left:p.value.left,top:p.value.top,width:p.value.width,height:p.value.height,offsetLeft:((L=s.value)==null?void 0:L.offsetLeft)||0};Ws(()=>i(C))});const b=()=>y(e.pageRange);ni(()=>{e.setViewportGetter(r);const C=s.value;d=()=>{O.value=C.scrollLeft,(O.value<C.clientWidth/2||O.value>C.clientWidth*2)&&l(),u(),f()}});const O=_e(0),E=JA(u),I=Hi(),z=Ol(),W=Z(()=>({transform:`scale(${z.isExporting?.8:1})`,margin:z.isExporting?`${z.tempTopMargin}px ${z.tempLeftMargin}px ${z.tempTopMargin}px ${z.tempLeftMargin}px`:"0"}));return(C,L)=>(ze(),Qe("div",{class:xn(["h-full w-full flex flex-col",B(e).darkMode?"dark bg-zinc-800":"bg-white"])},[Ne("div",nN,[Ne("div",sN,[ct(QA),Ne("div",{class:xn(["overflow-scroll flex-grow transition dark:bg-zinc-800 bg-white relative",{"border rounded shadow dark:border-zinc-500":B(z).isExporting}]),ref_key:"timelineElement",ref:s,onScrollPassive:L[0]||(L[0]=(...Y)=>B(d)&&B(d)(...Y)),style:mn(W.value)},[B(z).isExporting?Gn("",!0):(ze(),Qe("div",{key:0,class:"sticky top-0 h-5 dark:bg-zinc-800 bg-white border-b dark:border-zinc-700 pointer-events-none",style:mn({width:`${B(I).totalWidth}px`})},[(ze(),Qe("svg",{xmlns:"http://www.w3.org/2000/svg",width:B(I).totalWidth,class:"h-12"},[(ze(!0),Qe(gt,null,xi(B(I).markers,Y=>(ze(),pn(zw,{m:Y,external:!0},null,8,["m"]))),256))],8,rN))],4)),ct(qw,{onGestureChangePassive:B(d),onPointerdown:B(E)},null,8,["onGestureChangePassive","onPointerdown"])],38),B(z).isExporting?(ze(),pn(tN,{key:0})):Gn("",!0)]),ct(XA)])],2))}}),Kw=xt({__name:"App",setup(t){const e=El();return(n,s)=>B(e).markwhen?(ze(),pn(iN,{key:0})):Gn("",!0)}}),oN=$x({history:mx("./"),routes:[{path:"/:user?/:timeline?",name:"home",component:Kw}]}),Zd=Mg(Kw),aN=Bk();Zd.use(oN);Zd.use(aN);Zd.mount("#app");<\/script>\n    <style rel="stylesheet" crossorigin>input[type=range][data-v-03bc268c]{-webkit-appearance:none}input[type=range][data-v-03bc268c]:hover::-webkit-slider-runnable-track{background:currentColor;transition:.15s all;border-radius:5px;height:4px}input[type=range][data-v-03bc268c]:focus{outline:none}input[type=range][data-v-03bc268c]::-webkit-slider-runnable-track{background:currentColor;transition:.15s all;height:4px;border-radius:5px}input[type=range][data-v-03bc268c]::-moz-range-track{background:currentColor;transition:.15s all;height:4px;border-radius:5px}input[type=range][data-v-03bc268c]::-webkit-slider-thumb{-webkit-appearance:none;height:12px;width:12px;background:currentColor;margin-top:-4px;border-radius:50%;box-shadow:0 1px 6px #00000063}input[type=range][data-v-03bc268c]::-moz-range-thumb{height:15px;width:15px;background:currentColor;margin-top:-5px;border-radius:50%;box-shadow:0 1px 6px #00000063;border:none}.fade-enter-active[data-v-fe3a1bd4],.fade-leave-active[data-v-fe3a1bd4]{transition:opacity .2s ease-in-out}.fade-enter-from[data-v-fe3a1bd4],.fade-leave-to[data-v-fe3a1bd4]{opacity:0}/*! tailwindcss v4.1.5 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-border-style:solid;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-50:oklch(97.1% .013 17.38);--color-red-100:oklch(93.6% .032 17.717);--color-red-200:oklch(88.5% .062 18.334);--color-red-300:oklch(80.8% .114 19.571);--color-red-400:oklch(70.4% .191 22.216);--color-red-500:oklch(63.7% .237 25.331);--color-red-600:oklch(57.7% .245 27.325);--color-red-700:oklch(50.5% .213 27.518);--color-red-800:oklch(44.4% .177 26.899);--color-red-900:oklch(39.6% .141 25.723);--color-red-950:oklch(25.8% .092 26.042);--color-orange-50:oklch(98% .016 73.684);--color-orange-100:oklch(95.4% .038 75.164);--color-orange-200:oklch(90.1% .076 70.697);--color-orange-300:oklch(83.7% .128 66.29);--color-orange-400:oklch(75% .183 55.934);--color-orange-500:oklch(70.5% .213 47.604);--color-orange-600:oklch(64.6% .222 41.116);--color-orange-700:oklch(55.3% .195 38.402);--color-orange-800:oklch(47% .157 37.304);--color-orange-900:oklch(40.8% .123 38.172);--color-orange-950:oklch(26.6% .079 36.259);--color-amber-50:oklch(98.7% .022 95.277);--color-amber-100:oklch(96.2% .059 95.617);--color-amber-200:oklch(92.4% .12 95.746);--color-amber-300:oklch(87.9% .169 91.605);--color-amber-400:oklch(82.8% .189 84.429);--color-amber-500:oklch(76.9% .188 70.08);--color-amber-600:oklch(66.6% .179 58.318);--color-amber-700:oklch(55.5% .163 48.998);--color-amber-800:oklch(47.3% .137 46.201);--color-amber-900:oklch(41.4% .112 45.904);--color-amber-950:oklch(27.9% .077 45.635);--color-yellow-50:oklch(98.7% .026 102.212);--color-yellow-100:oklch(97.3% .071 103.193);--color-yellow-200:oklch(94.5% .129 101.54);--color-yellow-300:oklch(90.5% .182 98.111);--color-yellow-400:oklch(85.2% .199 91.936);--color-yellow-500:oklch(79.5% .184 86.047);--color-yellow-600:oklch(68.1% .162 75.834);--color-yellow-700:oklch(55.4% .135 66.442);--color-yellow-800:oklch(47.6% .114 61.907);--color-yellow-900:oklch(42.1% .095 57.708);--color-yellow-950:oklch(28.6% .066 53.813);--color-lime-50:oklch(98.6% .031 120.757);--color-lime-100:oklch(96.7% .067 122.328);--color-lime-200:oklch(93.8% .127 124.321);--color-lime-300:oklch(89.7% .196 126.665);--color-lime-400:oklch(84.1% .238 128.85);--color-lime-500:oklch(76.8% .233 130.85);--color-lime-600:oklch(64.8% .2 131.684);--color-lime-700:oklch(53.2% .157 131.589);--color-lime-800:oklch(45.3% .124 130.933);--color-lime-900:oklch(40.5% .101 131.063);--color-lime-950:oklch(27.4% .072 132.109);--color-green-50:oklch(98.2% .018 155.826);--color-green-100:oklch(96.2% .044 156.743);--color-green-200:oklch(92.5% .084 155.995);--color-green-300:oklch(87.1% .15 154.449);--color-green-400:oklch(79.2% .209 151.711);--color-green-500:oklch(72.3% .219 149.579);--color-green-600:oklch(62.7% .194 149.214);--color-green-700:oklch(52.7% .154 150.069);--color-green-800:oklch(44.8% .119 151.328);--color-green-900:oklch(39.3% .095 152.535);--color-green-950:oklch(26.6% .065 152.934);--color-emerald-50:oklch(97.9% .021 166.113);--color-emerald-100:oklch(95% .052 163.051);--color-emerald-200:oklch(90.5% .093 164.15);--color-emerald-300:oklch(84.5% .143 164.978);--color-emerald-400:oklch(76.5% .177 163.223);--color-emerald-500:oklch(69.6% .17 162.48);--color-emerald-600:oklch(59.6% .145 163.225);--color-emerald-700:oklch(50.8% .118 165.612);--color-emerald-800:oklch(43.2% .095 166.913);--color-emerald-900:oklch(37.8% .077 168.94);--color-emerald-950:oklch(26.2% .051 172.552);--color-teal-50:oklch(98.4% .014 180.72);--color-teal-100:oklch(95.3% .051 180.801);--color-teal-200:oklch(91% .096 180.426);--color-teal-300:oklch(85.5% .138 181.071);--color-teal-400:oklch(77.7% .152 181.912);--color-teal-500:oklch(70.4% .14 182.503);--color-teal-600:oklch(60% .118 184.704);--color-teal-700:oklch(51.1% .096 186.391);--color-teal-800:oklch(43.7% .078 188.216);--color-teal-900:oklch(38.6% .063 188.416);--color-teal-950:oklch(27.7% .046 192.524);--color-cyan-50:oklch(98.4% .019 200.873);--color-cyan-100:oklch(95.6% .045 203.388);--color-cyan-200:oklch(91.7% .08 205.041);--color-cyan-300:oklch(86.5% .127 207.078);--color-cyan-400:oklch(78.9% .154 211.53);--color-cyan-500:oklch(71.5% .143 215.221);--color-cyan-600:oklch(60.9% .126 221.723);--color-cyan-700:oklch(52% .105 223.128);--color-cyan-800:oklch(45% .085 224.283);--color-cyan-900:oklch(39.8% .07 227.392);--color-cyan-950:oklch(30.2% .056 229.695);--color-sky-50:oklch(97.7% .013 236.62);--color-sky-100:oklch(95.1% .026 236.824);--color-sky-200:oklch(90.1% .058 230.902);--color-sky-300:oklch(82.8% .111 230.318);--color-sky-400:oklch(74.6% .16 232.661);--color-sky-500:oklch(68.5% .169 237.323);--color-sky-600:oklch(58.8% .158 241.966);--color-sky-700:oklch(50% .134 242.749);--color-sky-800:oklch(44.3% .11 240.79);--color-sky-900:oklch(39.1% .09 240.876);--color-sky-950:oklch(29.3% .066 243.157);--color-blue-50:oklch(97% .014 254.604);--color-blue-100:oklch(93.2% .032 255.585);--color-blue-200:oklch(88.2% .059 254.128);--color-blue-300:oklch(80.9% .105 251.813);--color-blue-400:oklch(70.7% .165 254.624);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-blue-700:oklch(48.8% .243 264.376);--color-blue-800:oklch(42.4% .199 265.638);--color-blue-900:oklch(37.9% .146 265.522);--color-blue-950:oklch(28.2% .091 267.935);--color-indigo-50:oklch(96.2% .018 272.314);--color-indigo-100:oklch(93% .034 272.788);--color-indigo-200:oklch(87% .065 274.039);--color-indigo-300:oklch(78.5% .115 274.713);--color-indigo-400:oklch(67.3% .182 276.935);--color-indigo-500:oklch(58.5% .233 277.117);--color-indigo-600:oklch(51.1% .262 276.966);--color-indigo-700:oklch(45.7% .24 277.023);--color-indigo-800:oklch(39.8% .195 277.366);--color-indigo-900:oklch(35.9% .144 278.697);--color-indigo-950:oklch(25.7% .09 281.288);--color-violet-50:oklch(96.9% .016 293.756);--color-violet-100:oklch(94.3% .029 294.588);--color-violet-200:oklch(89.4% .057 293.283);--color-violet-300:oklch(81.1% .111 293.571);--color-violet-400:oklch(70.2% .183 293.541);--color-violet-500:oklch(60.6% .25 292.717);--color-violet-600:oklch(54.1% .281 293.009);--color-violet-700:oklch(49.1% .27 292.581);--color-violet-800:oklch(43.2% .232 292.759);--color-violet-900:oklch(38% .189 293.745);--color-violet-950:oklch(28.3% .141 291.089);--color-purple-50:oklch(97.7% .014 308.299);--color-purple-100:oklch(94.6% .033 307.174);--color-purple-200:oklch(90.2% .063 306.703);--color-purple-300:oklch(82.7% .119 306.383);--color-purple-400:oklch(71.4% .203 305.504);--color-purple-500:oklch(62.7% .265 303.9);--color-purple-600:oklch(55.8% .288 302.321);--color-purple-700:oklch(49.6% .265 301.924);--color-purple-800:oklch(43.8% .218 303.724);--color-purple-900:oklch(38.1% .176 304.987);--color-purple-950:oklch(29.1% .149 302.717);--color-fuchsia-50:oklch(97.7% .017 320.058);--color-fuchsia-100:oklch(95.2% .037 318.852);--color-fuchsia-200:oklch(90.3% .076 319.62);--color-fuchsia-300:oklch(83.3% .145 321.434);--color-fuchsia-400:oklch(74% .238 322.16);--color-fuchsia-500:oklch(66.7% .295 322.15);--color-fuchsia-600:oklch(59.1% .293 322.896);--color-fuchsia-700:oklch(51.8% .253 323.949);--color-fuchsia-800:oklch(45.2% .211 324.591);--color-fuchsia-900:oklch(40.1% .17 325.612);--color-fuchsia-950:oklch(29.3% .136 325.661);--color-pink-50:oklch(97.1% .014 343.198);--color-pink-100:oklch(94.8% .028 342.258);--color-pink-200:oklch(89.9% .061 343.231);--color-pink-300:oklch(82.3% .12 346.018);--color-pink-400:oklch(71.8% .202 349.761);--color-pink-500:oklch(65.6% .241 354.308);--color-pink-600:oklch(59.2% .249 .584);--color-pink-700:oklch(52.5% .223 3.958);--color-pink-800:oklch(45.9% .187 3.815);--color-pink-900:oklch(40.8% .153 2.432);--color-pink-950:oklch(28.4% .109 3.907);--color-rose-50:oklch(96.9% .015 12.422);--color-rose-100:oklch(94.1% .03 12.58);--color-rose-200:oklch(89.2% .058 10.001);--color-rose-300:oklch(81% .117 11.638);--color-rose-400:oklch(71.2% .194 13.428);--color-rose-500:oklch(64.5% .246 16.439);--color-rose-600:oklch(58.6% .253 17.585);--color-rose-700:oklch(51.4% .222 16.935);--color-rose-800:oklch(45.5% .188 13.697);--color-rose-900:oklch(41% .159 10.272);--color-rose-950:oklch(27.1% .105 12.094);--color-slate-50:oklch(98.4% .003 247.858);--color-slate-100:oklch(96.8% .007 247.896);--color-slate-200:oklch(92.9% .013 255.508);--color-slate-300:oklch(86.9% .022 252.894);--color-slate-400:oklch(70.4% .04 256.788);--color-slate-500:oklch(55.4% .046 257.417);--color-slate-600:oklch(44.6% .043 257.281);--color-slate-700:oklch(37.2% .044 257.287);--color-slate-800:oklch(27.9% .041 260.031);--color-slate-900:oklch(20.8% .042 265.755);--color-slate-950:oklch(12.9% .042 264.695);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-300:oklch(87.2% .01 258.338);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-700:oklch(37.3% .034 259.733);--color-gray-800:oklch(27.8% .033 256.848);--color-gray-900:oklch(21% .034 264.665);--color-gray-950:oklch(13% .028 261.692);--color-zinc-50:oklch(98.5% 0 0);--color-zinc-100:oklch(96.7% .001 286.375);--color-zinc-200:oklch(92% .004 286.32);--color-zinc-300:oklch(87.1% .006 286.286);--color-zinc-400:oklch(70.5% .015 286.067);--color-zinc-500:oklch(55.2% .016 285.938);--color-zinc-600:oklch(44.2% .017 285.786);--color-zinc-700:oklch(37% .013 285.805);--color-zinc-800:oklch(27.4% .006 286.033);--color-zinc-900:oklch(21% .006 285.885);--color-zinc-950:oklch(14.1% .005 285.823);--color-neutral-50:oklch(98.5% 0 0);--color-neutral-100:oklch(97% 0 0);--color-neutral-200:oklch(92.2% 0 0);--color-neutral-300:oklch(87% 0 0);--color-neutral-400:oklch(70.8% 0 0);--color-neutral-500:oklch(55.6% 0 0);--color-neutral-600:oklch(43.9% 0 0);--color-neutral-700:oklch(37.1% 0 0);--color-neutral-800:oklch(26.9% 0 0);--color-neutral-900:oklch(20.5% 0 0);--color-neutral-950:oklch(14.5% 0 0);--color-stone-50:oklch(98.5% .001 106.423);--color-stone-100:oklch(97% .001 106.424);--color-stone-200:oklch(92.3% .003 48.717);--color-stone-300:oklch(86.9% .005 56.366);--color-stone-400:oklch(70.9% .01 56.259);--color-stone-500:oklch(55.3% .013 58.071);--color-stone-600:oklch(44.4% .011 73.639);--color-stone-700:oklch(37.4% .01 67.558);--color-stone-800:oklch(26.8% .007 34.298);--color-stone-900:oklch(21.6% .006 56.043);--color-stone-950:oklch(14.7% .004 49.25);--color-black:#000;--color-white:#fff;--spacing:.25rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--radius-xs:.125rem;--radius-sm:.25rem;--radius-lg:.5rem;--drop-shadow-md:0 3px 3px #0000001f;--drop-shadow-lg:0 4px 4px #00000026;--drop-shadow-xl:0 9px 7px #0000001a;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}*,:after,:before,::backdrop{border-color:var(--color-gray-200,currentcolor)}::file-selector-button{border-color:var(--color-gray-200,currentcolor)}}@layer components;@layer utilities{.pointer-events-auto{pointer-events:auto}.pointer-events-none{pointer-events:none}.collapse{visibility:collapse}.visible{visibility:visible}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:calc(var(--spacing)*0)}.-top-1{top:calc(var(--spacing)*-1)}.top-0{top:calc(var(--spacing)*0)}.top-8{top:calc(var(--spacing)*8)}.-right-2{right:calc(var(--spacing)*-2)}.right-0{right:calc(var(--spacing)*0)}.right-8{right:calc(var(--spacing)*8)}.-bottom-\\[2px\\]{bottom:-2px}.bottom-0{bottom:calc(var(--spacing)*0)}.-left-\\[2px\\]{left:-2px}.left-0{left:calc(var(--spacing)*0)}.left-2{left:calc(var(--spacing)*2)}.z-2{z-index:2}.z-4{z-index:4}.z-5{z-index:5}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.container{width:100%}@media (min-width:40rem){.container{max-width:40rem}}@media (min-width:48rem){.container{max-width:48rem}}@media (min-width:64rem){.container{max-width:64rem}}@media (min-width:80rem){.container{max-width:80rem}}@media (min-width:96rem){.container{max-width:96rem}}.-m-px{margin:-1px}.-mx-2{margin-inline:calc(var(--spacing)*-2)}.mt-px{margin-top:1px}.mr-1{margin-right:calc(var(--spacing)*1)}.mr-2{margin-right:calc(var(--spacing)*2)}.mr-8{margin-right:calc(var(--spacing)*8)}.mr-\\[2px\\]{margin-right:2px}.mb-2{margin-bottom:calc(var(--spacing)*2)}.ml-0{margin-left:calc(var(--spacing)*0)}.ml-1{margin-left:calc(var(--spacing)*1)}.ml-2{margin-left:calc(var(--spacing)*2)}.ml-auto{margin-left:auto}.ml-px{margin-left:1px}.block{display:block}.flex{display:flex}.hidden{display:none}.inline-flex{display:inline-flex}.aspect-square{aspect-ratio:1}.h-1\\/2{height:50%}.h-2{height:calc(var(--spacing)*2)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-8{height:calc(var(--spacing)*8)}.h-10{height:calc(var(--spacing)*10)}.h-12{height:calc(var(--spacing)*12)}.h-20{height:calc(var(--spacing)*20)}.h-\\[10px\\]{height:10px}.h-\\[30px\\]{height:30px}.h-full{height:100%}.w-1{width:calc(var(--spacing)*1)}.w-2{width:calc(var(--spacing)*2)}.w-4{width:calc(var(--spacing)*4)}.w-20{width:calc(var(--spacing)*20)}.w-\\[2px\\]{width:2px}.w-full{width:100%}.w-px{width:1px}.shrink{flex-shrink:1}.shrink-0{flex-shrink:0}.flex-grow,.grow{flex-grow:1}.translate-x-2\\/4{--tw-translate-x: 50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-2\\/4{--tw-translate-y: 50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.rotate-45{rotate:45deg}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.cursor-crosshair{cursor:crosshair}.cursor-default{cursor:default}.cursor-ew-resize{cursor:ew-resize}.cursor-ns-resize{cursor:ns-resize}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.resize{resize:both}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.flex-col{flex-direction:column}.flex-row{flex-direction:row}.items-center{align-items:center}.items-start{align-items:flex-start}.justify-center{justify-content:center}.gap-1{gap:calc(var(--spacing)*1)}.gap-2{gap:calc(var(--spacing)*2)}.gap-4{gap:calc(var(--spacing)*4)}.overflow-hidden{overflow:hidden}.overflow-scroll{overflow:scroll}.overflow-visible{overflow:visible}.overflow-x-scroll{overflow-x:scroll}.rounded{border-radius:.25rem}.rounded-\\[14px\\]{border-radius:14px}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-sm{border-radius:var(--radius-sm)}.rounded-xs{border-radius:var(--radius-xs)}.border{border-style:var(--tw-border-style);border-width:1px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.border-black{border-color:var(--color-black)}.border-gray-400\\/25{border-color:#99a1af40}@supports (color:color-mix(in lab,red,red)){.border-gray-400\\/25{border-color:color-mix(in oklab,var(--color-gray-400)25%,transparent)}}.border-gray-500\\/50{border-color:#6a728280}@supports (color:color-mix(in lab,red,red)){.border-gray-500\\/50{border-color:color-mix(in oklab,var(--color-gray-500)50%,transparent)}}.border-gray-600{border-color:var(--color-gray-600)}.border-gray-800{border-color:var(--color-gray-800)}.border-indigo-500{border-color:var(--color-indigo-500)}.border-indigo-500\\/50{border-color:#625fff80}@supports (color:color-mix(in lab,red,red)){.border-indigo-500\\/50{border-color:color-mix(in oklab,var(--color-indigo-500)50%,transparent)}}.border-indigo-500\\/75{border-color:#625fffbf}@supports (color:color-mix(in lab,red,red)){.border-indigo-500\\/75{border-color:color-mix(in oklab,var(--color-indigo-500)75%,transparent)}}.border-indigo-600{border-color:var(--color-indigo-600)}.border-inherit{border-color:inherit}.border-transparent{border-color:#0000}.border-white{border-color:var(--color-white)}.border-zinc-100{border-color:var(--color-zinc-100)}.border-zinc-200{border-color:var(--color-zinc-200)}.border-zinc-500{border-color:var(--color-zinc-500)}.bg-blue-300{background-color:var(--color-blue-300)}.bg-gray-300\\/50{background-color:#d1d5dc80}@supports (color:color-mix(in lab,red,red)){.bg-gray-300\\/50{background-color:color-mix(in oklab,var(--color-gray-300)50%,transparent)}}.bg-gray-400{background-color:var(--color-gray-400)}.bg-gray-500{background-color:var(--color-gray-500)}.bg-gray-600{background-color:var(--color-gray-600)}.bg-indigo-600{background-color:var(--color-indigo-600)}.bg-red-200{background-color:var(--color-red-200)}.bg-red-300{background-color:var(--color-red-300)}.bg-transparent{background-color:#0000}.bg-white{background-color:var(--color-white)}.bg-white\\/95{background-color:#fffffff2}@supports (color:color-mix(in lab,red,red)){.bg-white\\/95{background-color:color-mix(in oklab,var(--color-white)95%,transparent)}}.bg-zinc-50{background-color:var(--color-zinc-50)}.bg-zinc-200{background-color:var(--color-zinc-200)}.bg-zinc-300{background-color:var(--color-zinc-300)}.bg-zinc-400\\/10{background-color:#9f9fa91a}@supports (color:color-mix(in lab,red,red)){.bg-zinc-400\\/10{background-color:color-mix(in oklab,var(--color-zinc-400)10%,transparent)}}.bg-zinc-400\\/25{background-color:#9f9fa940}@supports (color:color-mix(in lab,red,red)){.bg-zinc-400\\/25{background-color:color-mix(in oklab,var(--color-zinc-400)25%,transparent)}}.bg-zinc-700{background-color:var(--color-zinc-700)}.bg-zinc-800{background-color:var(--color-zinc-800)}.fill-transparent{fill:#0000}.fill-white{fill:var(--color-white)}.fill-zinc-600{fill:var(--color-zinc-600)}.stroke-black{stroke:var(--color-black)}.stroke-green-700{stroke:var(--color-green-700)}.stroke-zinc-600{stroke:var(--color-zinc-600)}.stroke-1{stroke-width:1px}.p-1{padding:calc(var(--spacing)*1)}.p-2{padding:calc(var(--spacing)*2)}.p-\\[2px\\]{padding:2px}.p-px{padding:1px}.px-1{padding-inline:calc(var(--spacing)*1)}.px-2{padding-inline:calc(var(--spacing)*2)}.py-1{padding-block:calc(var(--spacing)*1)}.py-4{padding-block:calc(var(--spacing)*4)}.py-px{padding-block:1px}.pt-px{padding-top:1px}.pr-4{padding-right:calc(var(--spacing)*4)}.pl-1{padding-left:calc(var(--spacing)*1)}.pl-2{padding-left:calc(var(--spacing)*2)}.font-mono{font-family:var(--font-mono)}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.whitespace-nowrap{white-space:nowrap}.text-black{color:var(--color-black)}.text-gray-400{color:var(--color-gray-400)}.text-gray-500{color:var(--color-gray-500)}.text-indigo-600{color:var(--color-indigo-600)}.text-orange-500{color:var(--color-orange-500)}.text-white{color:var(--color-white)}.text-zinc-500{color:var(--color-zinc-500)}.text-zinc-600{color:var(--color-zinc-600)}.underline{text-decoration-line:underline}.opacity-30{opacity:.3}.opacity-60{opacity:.6}.opacity-100{opacity:1}.shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xs{--tw-shadow:0 1px 2px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-1{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-black{--tw-ring-color:var(--color-black)}.ring-indigo-500{--tw-ring-color:var(--color-indigo-500)}.outline{outline-style:var(--tw-outline-style);outline-width:1px}.outline-2{outline-style:var(--tw-outline-style);outline-width:2px}.outline-indigo-600{outline-color:var(--color-indigo-600)}.drop-shadow-lg{--tw-drop-shadow-size:drop-shadow(0 4px 4px var(--tw-drop-shadow-color,#00000026));--tw-drop-shadow:drop-shadow(var(--drop-shadow-lg));filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.drop-shadow-md{--tw-drop-shadow-size:drop-shadow(0 3px 3px var(--tw-drop-shadow-color,#0000001f));--tw-drop-shadow:drop-shadow(var(--drop-shadow-md));filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.drop-shadow-xl{--tw-drop-shadow-size:drop-shadow(0 9px 7px var(--tw-drop-shadow-color,#0000001a));--tw-drop-shadow:drop-shadow(var(--drop-shadow-xl));filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,visibility,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}@media (hover:hover){.group-hover\\:bg-zinc-400:is(:where(.group):hover *){background-color:var(--color-zinc-400)}.hover\\:w-1:hover{width:calc(var(--spacing)*1)}.hover\\:border-zinc-100:hover{border-color:var(--color-zinc-100)}.hover\\:bg-indigo-600:hover{background-color:var(--color-indigo-600)}.hover\\:bg-zinc-50:hover{background-color:var(--color-zinc-50)}.hover\\:bg-zinc-200:hover{background-color:var(--color-zinc-200)}.hover\\:text-black:hover{color:var(--color-black)}.hover\\:text-zinc-700:hover{color:var(--color-zinc-700)}.hover\\:shadow-sm:hover{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\\:transition:hover{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,visibility,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}}.disabled\\:text-gray-300:disabled{color:var(--color-gray-300)}.disabled\\:text-zinc-400:disabled{color:var(--color-zinc-400)}@media (min-width:48rem){.md\\:block{display:block}.md\\:flex{display:flex}}@media (min-width:64rem){.lg\\:flex{display:flex}}.dark\\:border-gray-300:is(.dark *){border-color:var(--color-gray-300)}.dark\\:border-gray-400:is(.dark *){border-color:var(--color-gray-400)}.dark\\:border-gray-400\\/25:is(.dark *){border-color:#99a1af40}@supports (color:color-mix(in lab,red,red)){.dark\\:border-gray-400\\/25:is(.dark *){border-color:color-mix(in oklab,var(--color-gray-400)25%,transparent)}}.dark\\:border-gray-600:is(.dark *){border-color:var(--color-gray-600)}.dark\\:border-gray-900\\/25:is(.dark *){border-color:#10182840}@supports (color:color-mix(in lab,red,red)){.dark\\:border-gray-900\\/25:is(.dark *){border-color:color-mix(in oklab,var(--color-gray-900)25%,transparent)}}.dark\\:border-indigo-600:is(.dark *){border-color:var(--color-indigo-600)}.dark\\:border-zinc-400:is(.dark *){border-color:var(--color-zinc-400)}.dark\\:border-zinc-500:is(.dark *){border-color:var(--color-zinc-500)}.dark\\:border-zinc-600:is(.dark *){border-color:var(--color-zinc-600)}.dark\\:border-zinc-700:is(.dark *){border-color:var(--color-zinc-700)}.dark\\:bg-gray-300:is(.dark *){background-color:var(--color-gray-300)}.dark\\:bg-gray-300\\/10:is(.dark *){background-color:#d1d5dc1a}@supports (color:color-mix(in lab,red,red)){.dark\\:bg-gray-300\\/10:is(.dark *){background-color:color-mix(in oklab,var(--color-gray-300)10%,transparent)}}.dark\\:bg-gray-400:is(.dark *){background-color:var(--color-gray-400)}.dark\\:bg-gray-600:is(.dark *){background-color:var(--color-gray-600)}.dark\\:bg-gray-800:is(.dark *){background-color:var(--color-gray-800)}.dark\\:bg-gray-900:is(.dark *){background-color:var(--color-gray-900)}.dark\\:bg-red-400:is(.dark *){background-color:var(--color-red-400)}.dark\\:bg-red-700:is(.dark *){background-color:var(--color-red-700)}.dark\\:bg-zinc-400:is(.dark *){background-color:var(--color-zinc-400)}.dark\\:bg-zinc-400\\/10:is(.dark *){background-color:#9f9fa91a}@supports (color:color-mix(in lab,red,red)){.dark\\:bg-zinc-400\\/10:is(.dark *){background-color:color-mix(in oklab,var(--color-zinc-400)10%,transparent)}}.dark\\:bg-zinc-600:is(.dark *){background-color:var(--color-zinc-600)}.dark\\:bg-zinc-800:is(.dark *){background-color:var(--color-zinc-800)}.dark\\:bg-zinc-800\\/95:is(.dark *){background-color:#27272af2}@supports (color:color-mix(in lab,red,red)){.dark\\:bg-zinc-800\\/95:is(.dark *){background-color:color-mix(in oklab,var(--color-zinc-800)95%,transparent)}}.dark\\:bg-zinc-900:is(.dark *){background-color:var(--color-zinc-900)}.dark\\:fill-zinc-400:is(.dark *){fill:var(--color-zinc-400)}.dark\\:fill-zinc-900:is(.dark *){fill:var(--color-zinc-900)}.dark\\:stroke-gray-400:is(.dark *){stroke:var(--color-gray-400)}.dark\\:stroke-green-600:is(.dark *){stroke:var(--color-green-600)}.dark\\:stroke-zinc-400:is(.dark *){stroke:var(--color-zinc-400)}.dark\\:text-gray-300:is(.dark *){color:var(--color-gray-300)}.dark\\:text-gray-400:is(.dark *){color:var(--color-gray-400)}.dark\\:text-indigo-400:is(.dark *){color:var(--color-indigo-400)}.dark\\:text-orange-300:is(.dark *){color:var(--color-orange-300)}.dark\\:text-white:is(.dark *){color:var(--color-white)}.dark\\:text-zinc-100:is(.dark *){color:var(--color-zinc-100)}.dark\\:text-zinc-300:is(.dark *){color:var(--color-zinc-300)}.dark\\:text-zinc-400:is(.dark *){color:var(--color-zinc-400)}.dark\\:ring-gray-400:is(.dark *){--tw-ring-color:var(--color-gray-400)}.dark\\:ring-indigo-600:is(.dark *){--tw-ring-color:var(--color-indigo-600)}.dark\\:outline-indigo-400:is(.dark *){outline-color:var(--color-indigo-400)}@media (hover:hover){.group-hover\\:dark\\:bg-zinc-500:is(:where(.group):hover *):is(.dark *){background-color:var(--color-zinc-500)}.dark\\:hover\\:border-gray-600:is(.dark *):hover{border-color:var(--color-gray-600)}.dark\\:hover\\:bg-indigo-600:is(.dark *):hover{background-color:var(--color-indigo-600)}.dark\\:hover\\:bg-zinc-700:is(.dark *):hover,.hover\\:dark\\:bg-zinc-700:hover:is(.dark *){background-color:var(--color-zinc-700)}.dark\\:hover\\:text-zinc-100:is(.dark *):hover{color:var(--color-zinc-100)}.dark\\:hover\\:text-zinc-300:is(.dark *):hover{color:var(--color-zinc-300)}}.dark\\:disabled\\:text-gray-600:is(.dark *):disabled{color:var(--color-gray-600)}.dark\\:disabled\\:text-zinc-600:is(.dark *):disabled{color:var(--color-zinc-600)}}:root,body,#app{width:100%;height:100%}html,body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;mix-blend-mode:multiply;height:100%;font-family:Avenir,Helvetica,Arial,sans-serif;padding:0!important}.noScrollBar::-webkit-scrollbar{display:none}.dark{color-scheme:dark}.noScrollBar{scrollbar-width:none}button{-webkit-tap-highlight-color:transparent}.safeBottomPadding{padding-bottom:env(safe-area-inset-bottom)}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}</style>\n  </head>\n  <body>\n    <div id="app"></div>\n  </body>\n</html>\n',Lo=i=>{let e="";return i==="calendar"?e=wg:i==="oneview"?e=Gg:i==="resume"?e=Tg:i==="timeline"&&(e=kg),URL.createObjectURL(new Blob([e],{type:"text/html"}))};function $l(i,e){return kd(i,e)||Wd(i,e)||xd(i,e)}function Wg(i,e){return $l(i.fromDateTime,e)&&$l(i.toDateTime,e)}function Td(i,e,t){if(Wg(i,e)){const n=Yo(i.fromDateTime,e,!0,t),s=Yo(i.toDateTime,e,!1,t);return n===s||i.fromDateTime===i.toDateTime?`${n}`:t?`${n} - ${s}`:`${n}/${s}`}return`${ec(i.fromDateTime)} - ${ec(i.toDateTime)}`}function kd(i,e){return["month","day"].includes(e)?[23,0,1].includes(i.hour):!1}function Wd(i,e){return["decade","year","month"].includes(e)?[28,29,30,31,1,2].includes(i.day):!1}function xd(i,e){return["cent","decade","year","month"].includes(e)?i.month===12&&(i.day===31||i.day===30)||i.month===1&&(i.day===1||i.day===2):!1}function Yo(i,e,t,n){if(xd(i,e))return t?`${i.plus({days:2}).year}`:`${i.minus({days:2}).year}`;if(Wd(i,e))if(t){const s=i.plus({days:2}),r=s.month<10?"0"+s.month:s.month;return n?`${r}/${s.year}`:`${s.year}-${r}`}else{const s=i.minus({days:2}),r=s.month<10?"0"+s.month:s.month;return n?`${r}/${s.year}`:`${s.year}-${r}`}if(kd(i,e))if(t){const s=i.plus({hours:2});return n?ql(s,n):s.toISODate()||void 0}else{const s=i.minus({hours:2});return n?ql(s,n):s.toISODate()||void 0}}function ql(i,e){const t=i.day,n=i.month,s=i.year;return e===Yn?`${n}/${t}/${s}`:e===du?`${t}/${n}/${s}`:"unexpected date format"}function ec(i){return i.toUTC().toISO({includeOffset:!1})+"Z"}const xg=(i,e)=>+i.fromDateTime==+e.fromDateTime&&+i.toDateTime==+e.toDateTime,Xg=new RegExp(`${Po.source}`,"g"),Ig=i=>{const e=[];for(const t of i.matchAll(Xg)||[])t[0].trim()&&e.push(t);return e},Rg=i=>{const e=i.as("minutes");if(e%1){const t=Math.round(e%10);let n;return t===4?n=Math.ceil(e):t===5||t===6?n=Math.floor(e):n=Math.round(e/10)*10,i.set({milliseconds:0,seconds:0,minutes:n})}return i},nn=i=>Rg(i).rescale().toHuman(),Ys=(i,e,t)=>{const n=i.fromDateTime.minus($e.diffFromString(t)),s=nn(e.fromDateTime.diff(n)),r=nn(e.toDateTime.diff(e.fromDateTime));if(s&&r&&!s.startsWith("-")&&!r.startsWith("-"))return`${s} - ${r}`;if(s&&!s.startsWith("-"))return s;if(r&&!r.startsWith("-"))return r};function Vg(i,e,t,n,s){var m;const r=i.firstLine.datePart||"",o=Ig(r);if(!o.length)return;o.length>2&&console.warn("We shouldn't have more than 2 relative matches");const a=+s.fromDateTime!=+e.fromDateTime,l=+s!=+e.toDateTime,c=r.indexOf(o[0][0]),d=r.indexOf((m=o[1])==null?void 0:m[0]),u=c===0?o[0]:void 0,p=c>0?o[0]:d>0?o[1]:void 0;if(a&&l){if(u&&p){const y=Ys(s,e,o[0][0]);if(y)return y}else if(u){if(u[0]===i.firstLine.datePart){const y=s.fromDateTime,h=nn(e.fromDateTime.diff(y)),f=nn(e.toDateTime.diff(e.fromDateTime));if(h&&f)return`${h} - ${f}`;if(h)return h;if(f)return f}}else if(p){const y=ce.fromDateTimes(e.fromDateTime,e.toDateTime);let h;const f=["years","months","weeks","days","hours","minutes"];for(const v of f){const Z=y.toDuration(v),G=Z.as(v);if(G>0&&G%1===0){h=Z;break}}h=h??e.toDateTime.diff(e.fromDateTime);const g=nn(h);if(g&&!g.startsWith("-")){const v=Yo(e.fromDateTime,t,!0,n),Z=v!=null&&v.includes("/")?"-":"/";return`${v} ${Z} ${g}`}}}else if(a)if(u&&p){const y=Ys(s,e,o[0][0]);if(y)return y}else if(u){const y=Ys(s,e,o[0][0]);if(y)return y}else p&&console.log("unimplemented");else if(l){if(u&&p){const y=Ys(s,e,o[0][0]);if(y)return y}else if(u){if(u[0]===i.firstLine.datePart){const y=s.fromDateTime,h=nn(e.fromDateTime.diff(y)),f=nn(e.toDateTime.diff(e.fromDateTime));if(h&&f)return`${h} - ${f}`;if(h)return h;if(f)return f}}else if(p){const y=ce.fromDateTimes(e.fromDateTime,e.toDateTime);let h;const f=["years","months","weeks","days","hours","minutes"];for(const v of f){const Z=y.toDuration(v),G=Z.as(v);if(G>0&&G%1===0){h=Z;break}}h=h??e.toDateTime.diff(e.fromDateTime);const g=nn(h);if(g&&!g.startsWith("-")){const Z=i.firstLine.datePart.indexOf(p[0]);return`${i.firstLine.datePart.substring(0,Z)} ${g}`}}}}function Cg(i,e,t,n){const s=qe(i.dateRangeIso);if(!xg(s,e))return Vg(i,e,t,n,s)||Td(e,t,n)}const $n="markwhen-view";class cr extends Xe.MarkdownView{constructor(e,t="text",n){var s;super(e),this.updateId=0,this.plugin=n,this.viewType=t,this.views={};for(const r of["timeline","calendar","oneview"])this.views[r]=this.contentEl.createEl("iframe",{attr:{style:"height: 100%; width: 100%"}}),(s=this.views[r])==null||s.addClass("mw");this.codemirrorPlugin=Za.ViewPlugin.fromClass(Sg)}createIFrameForViewType(e,t){return t.createEl("iframe",{attr:{style:"height: 100%; width: 100%",src:Lo(e)}})}getDisplayText(){var e;return((e=this.file)==null?void 0:e.name)??"Markwhen"}getIcon(){return Us}getViewType(){return $n}async split(e){const t=this.app.workspace.getLeaf("split");await t.open(new cr(t,e,this.plugin)),await t.openFile(this.file),await t.setViewState({type:$n,active:!0})}updateVisualization(e){var n,s;const t=this.activeFrame();t&&((n=t.contentWindow)==null||n.postMessage({type:"appState",request:!0,id:`markwhen_${this.updateId++}`,params:sc(e)},"*"),(s=t.contentWindow)==null||s.postMessage({type:"markwhenState",request:!0,id:`markwhen_${this.updateId++}`,params:ic(e,this.data)},"*"))}registerExtensions(){const e=this.getCodeMirror();if(e){this.editorView=e;const t=Za.EditorView.updateListener.of(n=>{n.transactions.forEach(s=>{s.effects.forEach(r=>{r.is(Gd)&&this.updateVisualization(r.value)})})});this.editorView.dispatch({effects:Eo.StateEffect.appendConfig.of([this.codemirrorPlugin,t])})}}async onLoadFile(e){super.onLoadFile(e),setTimeout(()=>{this.registerExtensions()},500)}async onOpen(){super.onOpen();const e=t=>async n=>{n.metaKey||n.ctrlKey?await this.split(t):this.viewType!==t&&await this.setViewType(t)};this.addAction("calendar",`Click to view calendar
${Xe.Platform.isMacOS?"⌘":"Ctrl"}+Click to open to the right`,e("calendar")),this.addAction(Us,`Click to view timeline
${Xe.Platform.isMacOS?"⌘":"Ctrl"}+Click to open to the right`,e("timeline")),this.addAction("oneview",`Click to view vertical timeline
${Xe.Platform.isMacOS?"⌘":"Ctrl"}+Click to open to the right`,e("oneview")),this.addAction("pen-line",`Click to edit text
${Xe.Platform.isMacOS?"⌘":"Ctrl"}+Click to open to the right`,e("text")),this.setViewType(this.viewType),this.registerDomEvent(window,"message",async t=>{var n,s,r,o;if(t.source==((n=this.activeFrame())==null?void 0:n.contentWindow)&&t.data.request){if(t.data.type==="newEvent"){const{dateRangeIso:a,granularity:l}=t.data.params,c=`
${Td(qe(a),l?l==="instant"?"minute":l:"day")}: new event`;(s=this.getCodeMirror())==null||s.dispatch({changes:{from:this.data.length,to:this.data.length,insert:c}})}else if(t.data.type==="markwhenState"||t.data.type==="appState")this.updateVisualization(this.getMw());else if(t.data.type==="editEventDateRange"){const a=(r=this.getMw())==null?void 0:r.events;if(!a)return;const{path:l,range:c,scale:d,preferredInterpolationFormat:u}=t.data.params,p=Fi(a,l);if(!p||!bi(p))return;const m=Cg(p,qe(c),d,u);m&&((o=this.getCodeMirror())==null||o.dispatch({changes:{from:p.textRanges.datePart.from,to:p.textRanges.datePart.to,insert:m}}))}}})}activeFrame(){for(let e=0;e<this.contentEl.children.length;e++){const t=this.contentEl.children.item(e);if((t==null?void 0:t.nodeName)==="IFRAME"&&t.hasClass("active"))return t}}onload(){this.plugin.app.workspace.onLayoutReady(()=>{this.contentEl.addClass("markwhen-view")}),super.onload()}async setViewType(e){var t,n;if(e){if(this.viewType=e,this.viewType==="text"){for(const s of["timeline","oneview","calendar"])(t=this.views[s])==null||t.removeClass("mw-active");Array.from(this.contentEl.children).forEach(s=>{(s==null?void 0:s.nodeName)==="IFRAME"?s.addClass("mw-hidden"):s==null||s.removeClass("mw-hidden")})}else{for(const s of["timeline","calendar","oneview"])if(s===e){const r=this.views[e];r&&(r.src||r.setAttrs({src:Lo(s)}),r.addClass("active"))}else(n=this.views[s])==null||n.removeClass("active");for(let s=0;s<this.contentEl.children.length;s++){const r=this.contentEl.children.item(s);(r==null?void 0:r.nodeName)==="IFRAME"&&r.hasClass("active")?r.removeClass("mw-hidden"):r==null||r.addClass("mw-hidden")}}this.updateVisualization(this.getMw())}}getCodeMirror(){return this.editor.cm}getMw(){var e,t;return((t=(e=this.getCodeMirror())==null?void 0:e.plugin(this.codemirrorPlugin))==null?void 0:t.markwhen)??Sd(this.data)}canAcceptExtension(e){return e==="mw"}}function tc(){return`Markwhen ${new Date().toLocaleString("en-US",{hour12:!1}).replace(/\//g,"-").replace(/:/g,".").replace(/,/,"")}.mw`}const Ps={folder:"Markwhen"};class Lg extends Xe.Plugin{async onload(){await this.loadSettings(),this.addCommand({id:"markwhen-new-file",name:"Create new Markwhen File",callback:()=>{this.createAndOpenMWFile(tc())}}),this.addCommand({id:"markwhen-open-text-view",name:"Open text view",callback:async()=>{this.openViewFromCurrent("text")}}),this.addCommand({id:"markwhen-open-oneview-view",name:"Open vertical timeline view",callback:async()=>{this.openViewFromCurrent("oneview")}}),this.addCommand({id:"markwhen-open-timeline-view",name:"Open timeline view",callback:async()=>{this.openViewFromCurrent("timeline")}}),this.addCommand({id:"markwhen-open-calendar-view",name:"Open calendar view",callback:async()=>{this.openViewFromCurrent("calendar")}}),this.addRibbonIcon(Us,"Create new Markwhen file",()=>{this.createAndOpenMWFile(tc())}),this.registerView($n,e=>new cr(e,"text",this)),this.registerExtensions(["mw"],$n),this.registerMarkdownCodeBlockProcessor("mw",this.renderTimeline.bind(this)),this.addSettingTab(new Yg(this.app,this))}onunload(){}renderTimeline(e,t){const s=t.createEl("div",{cls:"mw-timeline"}).createEl("iframe");s.src=Lo("timeline"),s.height="500px",s.width="100%";const r=Sd(e);s.onload=()=>{var o,a;(o=s.contentWindow)==null||o.postMessage({type:"appState",request:!0,id:"markwhen_0",params:sc(r)},"*"),(a=s.contentWindow)==null||a.postMessage({type:"markwhenState",request:!0,id:"markwhen_0",params:ic(r,e)},"*")}}async openViewFromCurrent(e){const t=this.app.workspace.getActiveFile();if(t===null||t.extension!=="mw"){new Xe.Notice("You must be on a Markwhen file to run this command.");return}const n=this.app.workspace.getLeaf("split");await n.open(new cr(n,e,this)),await n.openFile(t),await n.setViewState({type:$n,active:!0})}async loadSettings(){this.settings=Object.assign({},Ps,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async activateView(){const e=this.app.workspace.getLeaf("tab");e.setViewState({type:$n,active:!0}),this.app.workspace.revealLeaf(e)}async createAndOpenMWFile(e,t,n){const s=await this.createMWFile(e,t,n);this.app.workspace.getLeaf("tab").openFile(s)}async createMWFile(e,t,n){const s=Xe.normalizePath(t||this.settings.folder);await this.checkAndCreateFolder(s);const r=Xe.normalizePath(`${s}/${e}`);return await this.app.vault.create(r,n??"")}async checkAndCreateFolder(e){const t=this.app.vault;e=Xe.normalizePath(e);const n=t.getAbstractFileByPathInsensitive(e);n&&n instanceof Xe.TFolder||n&&n instanceof Xe.TFile||await t.createFolder(e)}}class Yg extends Xe.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}display(){const{containerEl:e}=this;e.empty();const t=new Xe.Setting(e).setName("Default folder").setDesc("Default folder for new Markwhen files.").addExtraButton(s=>{s.setIcon("rotate-ccw").onClick(async()=>{n.setValue(Ps.folder),this.plugin.settings.folder=Ps.folder,await this.plugin.saveSettings()})}),n=new Xe.TextComponent(t.controlEl).setPlaceholder(Ps.folder).setValue(this.plugin.settings.folder).onChange(async s=>{this.plugin.settings.folder=s,await this.plugin.saveSettings()})}}module.exports=Lg;

/* nosourcemap */